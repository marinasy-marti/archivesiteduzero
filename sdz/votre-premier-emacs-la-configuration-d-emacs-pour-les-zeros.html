<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:19:00 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:21:01 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Votrepremier.emacslaconfigurationd039Emacspourleszros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a><br/><a href="#CommentconfigurerEmacs">Comment configurer Emacs ?</a><br/><a href="#Premierspas">Premiers pas</a><br/><a href="#Changerl039apparenced039Emacs">Changer l&#039;apparence d&#039;Emacs</a><br/><a href="#Changerlescombinaisonsauclavier">Changer les combinaisons au clavier</a><br/><a href="#ConfigurerEmacspourprogrammerenC">Configurer Emacs pour programmer en C</a><br/><a href="#Exemplefinald039unfichier.emacsbasique">Exemple final d&#039;un fichier .emacs basique</a><br/></div>
<a name="Votrepremier.emacslaconfigurationd039Emacspourleszros"></a><h2>Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
<span class="next">Comment configurer Emacs ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-536978" data-claire-element-id="536978">Ceci n'est pas une introduction à Emacs en soi mais à sa configuration. Si vous connaissez les bases, si vous avez lu le <em>tutorial</em> intégré ou quelque chose d'équivalent, et que vous arrivez à vous déplacer, écrire du texte et éditer des fichiers dans Emacs, mais souhaitez changer certains paramètres de son comportement, cet article est peut-être pour vous.</p><p id="r-536979" data-claire-element-id="536979">Cette introduction à la configuration vous apprendra au passage les bases de la syntaxe utilisée pour écrire le fichier <code>.emacs</code> ; si vous voulez juste copier et coller des bouts de code, cet article n'est pas pour vous.</p><p id="r-536980" data-claire-element-id="536980">Je ne documente ici ni XEmacs, ni NTEmacs, seulement GNU Emacs, soyez averti. Ce n'est pas que j'aie quoi que ce soit contre ceux-ci, mais je ne connais pas bien les autres emacs.</p>
</div><a name="CommentconfigurerEmacs"></a><h2>Comment configurer Emacs ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
<span class="next">Premiers pas</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-536981" data-claire-element-id="536981">Il existe trois moyens de configurer Emacs : par le menu, par une application intégrée appelée <em>customize</em> ou en éditant le fichier <code>.emacs</code>, situé dans votre dossier personnel (<code>$HOME</code> pour les étourdis).</p><p id="r-536982" data-claire-element-id="536982">Cet article porte sur l'édition du fichier <code>.emacs</code>, mais je vais tout de même passer en revue les autres possibilités pour vous expliquer pourquoi nous n'allons pas y avoir recours.</p><h2 id="r-par-le-menu" data-claire-element-id="536984">Par le menu</h2><p id="r-536983" data-claire-element-id="536983">La première méthode n'a pas besoin d'explications ; si vous lisez ceci, vous savez probablement vous servir d'une souris, ou, ce qui est encore mieux, d'un clavier, et quoi qu'il en soit, c'est suffisant pour configurer Emacs par le menu. Cette approche est toutefois très limitée, les options du menu étant ce qu'elles sont, et rien de plus.</p><h2 id="r-par-customize" data-claire-element-id="536992">Par customize</h2><p id="r-536985" data-claire-element-id="536985">La deuxième méthode offre un choix beaucoup plus important d'options ; quasiment tout ce qui est utile en terme de configuration directe peut être réalisé par cette interface. Pour l'invoquer, il suffit d'utiliser la commande <code>customize</code> (invoquée par <code>M-x customize</code> comme vous vous en doutez si vous avez eu une introduction décente à Emacs ; sinon, sachez que <code>M-x</code> signifie « la touche <code>X</code> en maintenant la touche <code>Meta</code>, ou <code>Alt</code> sur les claviers de PC, enfoncée »).</p><p id="r-536986" data-claire-element-id="536986">À partir de là, l'interface est assez simple : il y a des options, avec leur description, et leur valeur actuelle, modifiable, ainsi que des dossiers avec plus d'options et des sous-dossiers. Pour tout sauvegarder, il y a un bouton en haut du <em>buffer</em>. Cela écrira dans le fichier <code>.emacs</code>, par défaut.</p><p id="r-536987" data-claire-element-id="536987">Cette méthode a cependant un défaut : les modifications que vous apportez à votre configuration sont ensuite difficilement rectifiables directement en éditant le fichier produit par l'outil. De même, les changements effectués en dehors du mode customize, tels que ceux opérés sur le fichier <code>.emacs</code>, se marient assez mal avec celui-ci.</p><aside id="r-536991" data-claire-element-id="536991" data-claire-semantic="information"><p id="r-536988" data-claire-element-id="536988">De plus, d'une version à l'autre d'Emacs, customize ne semble pas demeurer totalement rétro-compatible dans le sens où le fichier généré par customize dans une version récente risque de ne pas fonctionner correctement avec une version précédente.</p><p id="r-536989" data-claire-element-id="536989">Pour illustrer mon propos, je vais prendre mon exemple. J'ai un thème de couleurs grandement personnalisé. Je l'avais débuté étant sous Emacs 21, puis suis passé à Emacs 22 dès sa sortie. Je n'ai rencontré aucun problème de transfert vers la nouvelle version. Cependant, lorsque j'ai voulu prêter le fichier à quelqu'un qui était encore sous Emacs 21, celui-ci n'a pas pu le lire correctement !</p><p id="r-536990" data-claire-element-id="536990">Il y a peut-être une façon ninja de faire cette manipulation mais je ne suis pas au courant.</p></aside><h2 id="r-par-le-fichier-emacs" data-claire-element-id="536998">Par le fichier <code>.emacs</code></h2><p id="r-536993" data-claire-element-id="536993">Le fichier <code>.emacs</code> est un simple fichier contenant du texte. Simple ? pas vraiment en vérité. Le format du fichier est loin de ressembler à ce que vous avez sans doute l'habitude de voir avec d'autres configurations. La configuration d'Emacs est écrite en Lisp, plus précisément en Emacs Lisp. Si vous ne le savez pas, le Lisp est un langage de programmation à part entière !</p><p id="r-536994" data-claire-element-id="536994">En effet, la spécificité d'Emacs est d'être entièrement (ou presque) programmable, grâce à son langage intégré. Tout (ou presque) dans Emacs est Lisp. Les divers modes et applications dans Emacs sont codés en Emacs Lisp, et de même la configuration est écrite en Lisp.</p><p id="r-536995" data-claire-element-id="536995">Même lorsque vous éditez votre configuration à l'aide des menus ou de customize, Emacs retranscrit vos modifications en Lisp et les sauvegarde dans un fichier.</p><p id="r-536996" data-claire-element-id="536996">En réalité, le fichier <code>.emacs</code> est aussi appelé <em>fichier d'initialisation</em> car c'est simplement un programme écrit en Emacs Lisp qui est exécuté au démarrage d'Emacs.</p><p id="r-536997" data-claire-element-id="536997">L'intérêt de cette dernière méthode réside dans sa flexibilité ; vous pouvez presque tout faire rien qu'en écrivant du code Lisp dans votre <code>.emacs</code>, et même si toutes ces possibilités ne vous seront pas tout de suite utiles, c'est également l'approche qui s'adapte le mieux à une évolution vers une utilisation confirmée d'Emacs, qui implique l'apprentissage de l'Emacs Lisp.</p><h2 id="r-une-approche-conseillee" data-claire-element-id="537002">Une approche conseillée</h2><p id="r-536999" data-claire-element-id="536999">Vous l'aurez compris, je vous recommande chaudement de configurer votre Emacs en éditant le fichier <code>.emacs</code> par vous-même. Cependant, le mode customize a un usage très important : parcourir l'ensemble des paramètres disponibles pour une catégorie donnée. Pour cela, vous pouvez utiliser la commande <code>customize-group</code> qui vous permet d'aller directement à la configuration d'un groupe d'options particulier, dont vous devez donner le nom. Généralement, c'est le nom correspondant à l'application ou au mode que vous voulez configurer.</p><p id="r-537000" data-claire-element-id="537000">Par exemple, pour voir les possibilités de personnalisation offertes par ERC, le client IRC, vous exécuteriez la commande <code>customize-group erc</code>. Nous verrons plus loin comment mieux exploiter ces informations ; pour l'heure, vous ne pouvez sans doute que lire les descriptions d'options.</p><p id="r-537001" data-claire-element-id="537001">Une autre utilisation de customize que j'admets sans vraiment conseiller est la mise en place d'un thème de couleurs. Le faire sans customize est vraiment très pénible ; je l'ai fait une fois, pour mon thème de couleurs basique, pour la console, mais je crois que je ne le referai pas. Nous verrons plus loin comment changer les polices et les décorations du texte, pour créer un environnement un peu plus agréable que le <em>look</em> par défaut.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
<span class="next">Premiers pas</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Premierspas"></a><h2>Premiers pas</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
<span class="arrow"></span>
<span class="next">Comment configurer Emacs ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
<span class="next">Changer l&#039;apparence d&#039;Emacs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-apercu-de-la-syntaxe-lisp" data-claire-element-id="537012">Aperçu de la syntaxe Lisp</h2><p id="r-537004" data-claire-element-id="537004">Configurer Emacs ne requiert pas de connaître parfaitement l'Emacs Lisp, mais quelques rapides notions sont toutefois recommandées pour comprendre la syntaxe des lignes d'exemples à venir.</p><p id="r-537005" data-claire-element-id="537005">Le Lisp est un langage possédant une syntaxe extrêmement régulière. Toutes les constructions (ou presque) prennent la forme suivante :</p><pre id="r-537006" data-claire-element-id="537006"><code data-claire-semantic="common-lisp">(OPERATEUR OPERANDE...)</code></pre><p id="r-537007" data-claire-element-id="537007">Si vous avez déjà un peu programmé, sachez qu'<code>OPERATEUR</code> peut être aussi bien une fonction qu'une instruction spéciale (un <code>if</code>, un <code>while</code>, <em>etc.</em>). Sinon, retenez simplement que le premier mot dans la liste indique l'action à effectuer.</p><p id="r-537008" data-claire-element-id="537008">Et sans le vouloir, nous venons d'introduire la notion de <em>liste</em>. Une liste, c'est exactement ce que je viens de vous montrer : une suite d'éléments entre parenthèses, séparés par des blancs. Tout le code écrit en Emacs Lisp est essentiellement constitué de listes donc !</p><h3 id="r-commentaires-10" data-claire-element-id="537011">Commentaires</h3><p id="r-537009" data-claire-element-id="537009">Tous les langages de programmation civilisés possèdent leur syntaxe pour inclure des commentaires dans le code, des lignes qui ne seront pas interprétées par Emacs. Il suffit pour cela de faire précéder le texte à commenter par un point-virgule.</p><pre id="r-537010" data-claire-element-id="537010"><code data-claire-semantic="common-lisp">;; Ceci est un commentaire.</code></pre><h2 id="r-environnement-19" data-claire-element-id="537024">Environnement</h2><p id="r-537013" data-claire-element-id="537013">La première chose à savoir est qu'il existe plusieurs fichiers similaires au <code>.emacs</code> qui contiennent divers morceaux de configuration. Principalement, on peut prendre note des fichiers suivants :</p><ul id="r-537023" data-claire-element-id="537023"><li id="r-537015" data-claire-element-id="537015"><p id="r-537014" data-claire-element-id="537014"><strong><code>$HOME/.emacs.el</code> ou <code>$HOME/.emacs</code></strong><br/> Votre fichier d'initialisation principal. Les fichiers de code Emacs Lisp sont habituellement nommés avec un suffixe <code>.el</code> mais le <code>.emacs</code> peut faire exception. Il existe quelques différences, mais elles ne nous gêneront pas ici et je me référerai toujours à ce fichier comme le <code>.emacs</code> bien que je l'ai moi-même appelé <code>.emacs.el</code>.</p></li><li id="r-537018" data-claire-element-id="537018"><p id="r-537016" data-claire-element-id="537016"><code><strong>$PREFIX/share/emacs/site-lisp/site-start.el</strong></code><br/> Le fichier d'initialisation global. Il joue le même rôle que le <code>.emacs</code> dans votre dossier personnel mais est lu avant votre <code>.emacs</code>. Il est souvent rempli à l'avance par votre installation dans le cas des gestionnaires de paquets, qui s'en servent pour charger des informations utiles sur les applications tierces qu'ils installent pour Emacs.</p><p id="r-537017" data-claire-element-id="537017"><code>$PREFIX</code> est la racine où vous avez installé Emacs. Généralement <code>$PREFIX</code> vaut <code>/usr</code> ou <code>/usr/local</code>, mais sur certains systèmes, cela pourrait être <code>/usr/pkg</code> ou, si vous l'avez installé dans votre dossier personnel, <code>$HOME/local</code>.</p></li><li id="r-537020" data-claire-element-id="537020"><p id="r-537019" data-claire-element-id="537019"><strong>Fichiers de configuration des applications.</strong><br/> Emacs est une structure qui peut accueillir des applications (spécifiquement développées pour Emacs). Chaque application possède souvent son propre fichier qui est lu au chargement de celle-ci. Par exemple, Mew utilise <code>$HOME/mew.el</code>.</p></li><li id="r-537022" data-claire-element-id="537022"><p id="r-537021" data-claire-element-id="537021"><strong>Fichiers de configuration auxiliaires.</strong><br/> Vous pouvez également scinder votre <code>.emacs</code> en plusieurs fichiers, lorsque celui-ci deviendra relativement volumineux. Ce ne sera pas le cas aujourd'hui, aussi nous n'aborderons pas ce sujet dans cet article.</p></li></ul><h2 id="r-premier-reglage-le-systeme-de-codage-de-caracteres" data-claire-element-id="537032">Premier réglage : le système de codage de caractères</h2><p id="r-537025" data-claire-element-id="537025">Emacs étant avant tout un éditeur de texte, son interface ainsi que la plupart des informations qu'il lit, stocke et échange demeurent sous forme textuelle. Un réglage très global et très important est donc le système de codage par défaut.</p><aside id="r-537027" data-claire-element-id="537027" data-claire-semantic="information"><p id="r-537026" data-claire-element-id="537026">Pour ceux d'entre vous qui ne savent pas ce qu'est un système de codage de caractères, c'est simplement la représentation numérique (« binaire ») des caractères (lettres, chiffres, symboles) qui forment le texte. Pour plus d'informations, vous pouvez consulter la <a href="http://fr.wikipedia.org/wiki/Codage de caractères">page Wikipédia sur le codage de caractères</a>.</p></aside><p id="r-537028" data-claire-element-id="537028">Il existe plusieurs options pour configurer en finesse les différents codages, mais le réglage principal est obtenu par la commande <code>set-language-environment</code>. La syntaxe est la suivante :</p><pre id="r-537029" data-claire-element-id="537029"><code data-claire-semantic="common-lisp">(set-language-environment &quot;NOM&quot;)</code></pre><p id="r-537030" data-claire-element-id="537030">Il faut bien sûr remplacer <code>NOM</code> par le nom de l'environnement de votre choix. Les valeurs d'intérêt pour nous seront <code>&quot;UTF-8&quot;</code> si vous souhaitez avoir un environnement utilisant principalement l'UTF-8, ou <code>&quot;Latin-1&quot;</code> si vous voulez de l'ISO-8859-1. Les deux sont capables de représenter les caractères français ; l'UTF-8 permet en plus les caractères internationaux, provenant d'autres langues. Si vous ne savez pas pour lequel opter, je vous conseille l'UTF-8 ; la tendance actuelle va vers UTF-8 et les deux environnements de bureau dominants, à savoir GNOME et KDE, l'utilisent par défaut.</p><p id="r-537031" data-claire-element-id="537031">Ajoutez la ligne qui convient à votre <code>.emacs</code>. S'il n'existe pas, créez-le.</p><h2 id="r-organisation-de-vos-fichiers" data-claire-element-id="537057">Organisation de vos fichiers</h2><p id="r-537033" data-claire-element-id="537033">Votre <code>.emacs</code> ne contenant actuellement qu'une seule ligne, il semble superflu d'essayer de le diviser en plusieurs fichiers. Toutefois, en prévision des modifications que nous allons effectuer par le biais de customize afin de mettre en place un thème de couleurs, un petit arrangement s'impose.</p><p id="r-537034" data-claire-element-id="537034">Par défaut, customize s'amuse à écrire dans votre <code>.emacs</code>, ce qui est très mal venu, surtout si vous utilisez un gestionnaire de versions comme RCS.</p><p id="r-537035" data-claire-element-id="537035">Il est très simple cependant de l'instruire de sorte à ce que le contenu soit placé dans un fichier réservé, de manière civilisée. Le nom de ce fichier est donné par la variable <code>custom-file</code>.</p><aside id="r-537038" data-claire-element-id="537038" data-claire-semantic="information"><p id="r-537036" data-claire-element-id="537036">Dans Emacs, une variable est l'association d'une valeur (« quelque chose ») à un nom (un <em>symbole</em> dans le vocabulaire emacsien).</p><p id="r-537037" data-claire-element-id="537037">Ici, le symbole est <code>custom-file</code> et la valeur est le nom du fichier.</p></aside><p id="r-537039" data-claire-element-id="537039">On change la valeur d'une variable avec la forme :</p><pre id="r-537040" data-claire-element-id="537040"><code data-claire-semantic="common-lisp">(setq SYMBOLE VALEUR)</code></pre><p id="r-537041" data-claire-element-id="537041">Dans notre cas, la ligne devient :</p><pre id="r-537042" data-claire-element-id="537042"><code data-claire-semantic="common-lisp">(setq custom-file &quot;NOM-DU-FICHIER&quot;)</code></pre><p id="r-537043" data-claire-element-id="537043">Remarquez que le nom du fichier est entre guillemets droits ; c'est la manière d'écrire du texte (des <em>chaînes de caractères</em> pour ceux qui ont quelque expérience en programmation) en Emacs Lisp.</p><p id="r-537044" data-claire-element-id="537044">Par exemple, vous pourriez appeler ce fichier <code>.emacs-custom.el</code> et le placer dans votre dossier personnel, comme ceci :</p><pre id="r-537045" data-claire-element-id="537045"><code data-claire-semantic="common-lisp">(setq custom-file &quot;~/.emacs-custom.el&quot;)</code></pre><p id="r-537046" data-claire-element-id="537046">J'ai fait exprès d'utiliser le tilde, au cas où vous douteriez qu'Emacs le reconnaisse à l'instar du <em>shell</em>.</p><p id="r-537047" data-claire-element-id="537047">La syntaxe d'affectation (changement de valeur d'une variable) est très utile pour la configuration et n'est pas propre à la variable <code>custom-file</code> ; beaucoup d'options sont modifiables de cette manière. J'aurais pu vous donner directement l'instruction tout entière, mais désormais vous saurez reconnaître une affectation. C'est un premier pas sur la voie du programmeur Emacs Lisp ! :)</p><p id="r-537048" data-claire-element-id="537048">Toutefois, dans ce cas précis, simplement changer la valeur de la variable ne suffit pas. Cette manipulation va dire à customize d'inscrire ses modifications dans le fichier, mais celui-ci ne sera pas lu par Emacs lui-même comme l'est votre <code>.emacs</code> (et par voie de conséquence, comme l'étaient les ajouts faits par customize à celui-ci, avant que nous ne décidions de les détourner).</p><p id="r-537049" data-claire-element-id="537049">Pour charger ce fichier dans la mémoire d'Emacs et l'exécuter, nous allons employer la fonction <code>load</code> comme ceci :</p><pre id="r-537050" data-claire-element-id="537050"><code data-claire-semantic="common-lisp">(load custom-file)</code></pre><p id="r-537051" data-claire-element-id="537051">Cette ligne est bien entendu à placer après avoir donné à la variable <code>custom-file</code> sa valeur ; en effet, on demande ici à Emacs de lire le fichier dont le nom est donné par la variable custom-file. On aurait pu écrire :</p><pre id="r-537052" data-claire-element-id="537052"><code data-claire-semantic="common-lisp">(load &quot;~/.emacs-custom.el&quot;)</code></pre><aside id="r-537056" data-claire-element-id="537056" data-claire-semantic="information"><p id="r-537053" data-claire-element-id="537053">Maintenant que nous avons eu un bref aperçu des variables, rappelez-vous customize et son utilisation en tant qu'explorateur d'options.</p><p id="r-537054" data-claire-element-id="537054">Dans l'interface de customize, vous trouverez beaucoup d'options de configuration ; chacune porte un nom qui, en règle générale, correspond à celui d'une variable, avec des espaces à la place des tirets et des majuscules au début des mots. L'option <code>Ceci Est Une Option</code> est en vérité la variable <code>ceci-est-une-option</code>.</p><p id="r-537055" data-claire-element-id="537055">La description ainsi que les menus vous donneront une petite idée des valeurs acceptables et vous pourrez modifier la variable dans votre <code>.emacs</code>. Remarquez que le menu offert par le bouton <code>State</code> vous propose de voir l'expression Lisp telle que vous pourriez vouloir l'inscrire dans votre <code>.emacs</code>.</p></aside><h2 id="r-recapitulatif-16" data-claire-element-id="537060">Récapitulatif</h2><p id="r-537058" data-claire-element-id="537058">Nous avons vu dans cette partie quelques réglages fondamentaux, ainsi que la syntaxe pour affecter une valeur à une variable. Votre <code>.emacs</code> devrait maintenant ressembler à ceci :</p><pre id="r-537059" data-claire-element-id="537059"><code data-claire-semantic="common-lisp">(set-language-environment &quot;UTF-8&quot;)

(setq custom-file &quot;~/.emacs-custom.el&quot;)
(load custom-file)</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
<span class="arrow"></span>
<span class="next">Comment configurer Emacs ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
<span class="next">Changer l&#039;apparence d&#039;Emacs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Changerl039apparenced039Emacs"></a><h2>Changer l&#039;apparence d&#039;Emacs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
<span class="arrow"></span>
<span class="next">Premiers pas</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
<span class="next">Changer les combinaisons au clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-537062" data-claire-element-id="537062">Ce n'est certainement pas le plus utile, mais c'est une question qui revient fréquemment : comment changer l'apparence d'Emacs ? La méthode présentée ici n'est peut-être pas la plus propre, mais c'est celle que je trouve la plus pratique, et pour quelque chose de secondaire tel que l'affichage, elle conviendra bien.</p><h2 id="r-changer-la-police-d-affichage" data-claire-element-id="537077">Changer la police d'affichage</h2><aside id="r-537064" data-claire-element-id="537064" data-claire-semantic="information"><p id="r-537063" data-claire-element-id="537063">Cette section n'a d'intérêt que si vous utilisez Emacs en mode graphique. Autrement, il s'agit de configurer votre console et non Emacs.</p></aside><p id="r-537065" data-claire-element-id="537065">L'interface d'Emacs est majoritairement constituée de texte, il est important de configurer une police qui vous est agréable. La police par défaut doit être monospacée, mais cela mis à part, vous pouvez utiliser n'importe quelle police supportée par les applications graphiques. Sous X cependant, la version 22 ne supporte pas encore le lissage des caractères. Je vous conseille donc de prendre une police disponible en format <em>bitmap</em>. Personnellement, j'utilise <a href="http://www.is-vn.bg/hamster/">terminus</a>.</p><p id="r-537066" data-claire-element-id="537066">Comme je l'ai indiqué auparavant, nous allons utiliser customize pour modifier les paramètres d'affichage. La commande <code>M-x customize-face</code> réalise cela.</p><aside id="r-537068" data-claire-element-id="537068" data-claire-semantic="information"><p id="r-537067" data-claire-element-id="537067">Dans Emacs, « face » est le nom donné à un jeu d'attributs d'affichage. Il y en a pour chaque type de caractères que vous pouvez rencontrer dans un <em>buffer</em> : les caractères normaux, les mots-clés ou encore les commentaires, dans du code.</p></aside><p id="r-537069" data-claire-element-id="537069">Emacs vous demande alors quel type de caractères modifier. Entrez <code>default</code> pour personnaliser le type par défaut, dont les attributs sont hérités par tous les autres, si ceux-ci ne fournissent pas les leurs. Vous devriez alors obtenir une interface semblable à celle représentée ci-dessous :</p><pre id="r-537070" data-claire-element-id="537070"><code>Default face: (sample) Hide Face
   State: SAVED and set.
Basic default face.
Parent groups: Basic Faces
Choice: Value Menu
 Attributes: [X] Font Family: xos4-terminus
             [X] Width: Value Menu medium
             [X] Height: Value Menu Height in 1/10 pt: 151
             [X] Weight: Value Menu medium
             [X] Slant: Value Menu normal
             [X] Underline: Value Menu Off
             [X] Overline: Value Menu Off
             [X] Strike-through: Value Menu Off
             [X] Box around text: Value Menu Off
             [X] Inverse-video: Value Menu Off
             [X] Foreground: gray88     (sample)
             [X] Background: black      (sample)
             [X] Stipple: Value Menu None
             [ ] Inherit: *</code></pre><p id="r-537071" data-claire-element-id="537071">La plupart des champs devraient parler d'eux-mêmes. En vérité, pour le type par défaut, nous ne voulons sans doute pas altérer d'autres champs que <code>Font Family</code>, <code>Height</code>, <code>Foreground</code> et <code>Background</code>. Vous pouvez obtenir une jolie liste des couleurs et leurs noms avec la commande <code>M-x list-colors-display</code>.</p><p id="r-537072" data-claire-element-id="537072">Expérimentez un peu pour obtenir ce qui vous convient. Pour appliquer vos changements, actionnez le bouton <code>State</code> ; les choix proposés ne posent aucune difficulté. Faites plusieurs fois <code>Set for Current Session</code>, puis lorsque vous êtes content de vos paramètres, choisissez <code>Save for Future Sessions</code>.</p><p id="r-537073" data-claire-element-id="537073">Cette manipulation est réalisable pour n'importe quel type ; pour avoir accès à la liste complète, validez sans fournir de nom, lors de l'invite offerte par <code>M-x customize-face</code>. Veuillez prendre note du fait que seuls les types existants seront ainsi disponibles. En particulier, si vous souhaitez personnaliser un module particulier, il faudra le charger <em>avant</em> d'utiliser <code>M-x customize-face</code>. La plupart des modules se chargent automatiquement lorsque vous tentez d'accéder à un de leurs modes.</p><p id="r-537074" data-claire-element-id="537074">Si vous voulez changer la manière dont s'affichent les titres sous le mode LaTeX, tentez de visiter un fichier LaTeX avant d'utiliser <code>M-x customize-face</code>.</p><aside id="r-537076" data-claire-element-id="537076" data-claire-semantic="information"><p id="r-537075" data-claire-element-id="537075">Un moyen pratique de savoir quel type personnaliser est de placer votre curseur sur un caractère présentant les propriétés que vous voulez changer et d'invoquer <code>M-x customize-face</code> ; l'invite vous proposera alors par défaut de changer le type dont est affecté ce caractère !</p></aside><h2 id="r-composants-de-l-interface" data-claire-element-id="537085">Composants de l'interface</h2><p id="r-537078" data-claire-element-id="537078">Après ce petit intermède avec customize, revenons à l'édition de notre <code>.emacs</code>.</p><p id="r-537079" data-claire-element-id="537079">Par défaut, Emacs affiche beaucoup de composants sans grand intérêt dans son interface : un menu, une barre d'outils et même des barres de défilement, mais oublie certaines informations importantes telles que le numéro de la colonne à laquelle le curseur se situe. Nous allons au plus vite remédier à cela.</p><p id="r-537080" data-claire-element-id="537080">Le menu, les barres d'outils et de défilement peuvent être supprimés avec les instructions suivantes :</p><pre id="r-537081" data-claire-element-id="537081"><code data-claire-semantic="common-lisp">(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)</code></pre><p id="r-537082" data-claire-element-id="537082">L'affichage du numéro de la colonne est obtenu par l'instruction :</p><pre id="r-537083" data-claire-element-id="537083"><code data-claire-semantic="common-lisp">(column-number-mode t)</code></pre><p id="r-537084" data-claire-element-id="537084">Le tout est bien sûr à placer dans votre <code>.emacs</code>, à la suite des changements précédents. Voilà déjà quelques lignes de gagnées dans votre espace de travail !</p><h2 id="r-autres-parametres-d-affichage" data-claire-element-id="537100">Autres paramètres d'affichage</h2><p id="r-537086" data-claire-element-id="537086">Terminons notre petit tour d'horizon de la configuration de l'interface d'Emacs par quelques options que vous pourriez vouloir et qui adressent chacune un aspect différent de l'affichage d'Emacs.</p><ol id="r-537099" data-claire-element-id="537099"><li id="r-537093" data-claire-element-id="537093"><p id="r-537087" data-claire-element-id="537087">La première est <code>truncate-partial-width-windows</code>. Par défaut, Emacs replie automatiquement les lignes de texte dans les fenêtres en plein écran, mais si vous décidez de partager horizontalement votre Emacs en deux fenêtres côte à côte, vous vous apercevrez qu'Emacs tronque à présent les lignes trop longues. Pour empêcher cela, il faut changer la valeur de la variable <code>truncate-partial-width-windows</code> de <code>t</code> (qui signifie « vrai » en termes booléens) à <code>nil</code> (qui signifie « faux »).</p><pre id="r-537088" data-claire-element-id="537088"><code data-claire-semantic="common-lisp">(setq truncate-partial-width-windows nil)</code></pre><p id="r-537089" data-claire-element-id="537089">Emacs possède de même tout un tas de paramètres qui vous permettent de changer la manière dont il affiche les éléments. N'hésitez pas à fouiller pour en trouver d'autres !</p><p id="r-537090" data-claire-element-id="537090">Mentionnons par exemple un petit réglage de confort : la variable <code>ring-bell-function</code>. Elle vous permet de spécifier une fonction à appeler au lieu de faire sonner la petite alarme (qui fait « bip ») interne de votre ordinateur. Il y a plusieurs valeurs possibles, mais un choix convenable est le suivant :</p><pre id="r-537091" data-claire-element-id="537091"><code data-claire-semantic="common-lisp">(setq ring-bell-function 'ignore)</code></pre><p id="r-537092" data-claire-element-id="537092">La fonction <code>ignore</code> ne fait rien ; du coup, vous n'aurez plus droit à ces alarmes que personnellement je trouve perturbatrices.</p></li><li id="r-537098" data-claire-element-id="537098"><p id="r-537094" data-claire-element-id="537094">En deuxième, regardons comment on peut avoir l'heure tout en restant dans Emacs. Cela fait partie des nombreux gadgets (mais qui peuvent s'avérer utiles ; en l'occurrence, j'aime avoir l'heure dans Emacs) disponibles sous Emacs.</p><p id="r-537095" data-claire-element-id="537095">Pour activer l'affichage de l'heure dans la barre de modes, inscrivez la ligne suivante dans votre <code>.emacs</code> :</p><pre id="r-537096" data-claire-element-id="537096"><code data-claire-semantic="common-lisp">(display-time-mode t)</code></pre><p id="r-537097" data-claire-element-id="537097">Vous l'aurez peut-être remarqué, nous avons déjà vu plusieurs fonctions dont le nom se termine par <code>-mode</code>. Ici, ce sont des modes mineurs globaux. En d'autres termes, ce sont des fonctionnalités que vous pouvez activer ou désactiver. À la différence des variables, les modes fonctionnent dans une optique plus binaire : un mode est actif ou il ne l'est pas. Les variables, quant à elles, permettent de spécifier des valeurs particulières pour contrôler certains aspects du fonctionnement d'Emacs.</p></li></ol>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
<span class="arrow"></span>
<span class="next">Premiers pas</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
<span class="next">Changer les combinaisons au clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Changerlescombinaisonsauclavier"></a><h2>Changer les combinaisons au clavier</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
<span class="arrow"></span>
<span class="next">Changer l&#039;apparence d&#039;Emacs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
<span class="next">Configurer Emacs pour programmer en C</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-537102" data-claire-element-id="537102">Maintenant que vous savez comment configurer l'apparence d'Emacs, nous allons nous intéresser aux combinaisons au clavier. Emacs étant un éditeur « orienté clavier », tout peut se faire au clavier. Mais cela signifie aussi qu'il est important d'avoir des raccourcis pratiques.</p><aside id="r-537104" data-claire-element-id="537104" data-claire-semantic="warning"><p id="r-537103" data-claire-element-id="537103">Cela ne signifie pas essayer de mettre <code>Ctrl-C</code> et <code>Ctrl-V</code> de partout. Cela ne marchera pas comme vous voudrez. Emacs a ses conventions et ses manières. Cette section vous apprend à ajouter des commandes facilement accessibles par une combinaison de touches ; elle n'est pas là pour vous inciter à faire de votre Emacs un Notepad++ ou je ne sais quoi encore.</p></aside><h2 id="r-notations-des-combinaisons-dans-emacs" data-claire-element-id="537125">Notations des combinaisons dans Emacs</h2><p id="r-537105" data-claire-element-id="537105">Si vous avez un minimum d'expérience sous Emacs vous le savez déjà, mais la notation des combinaisons de touches sous Emacs n'est pas la même que sous d'autres environnements. Chaque touche modificatrice (<code>Ctrl</code>, <code>Alt</code>, <em>etc.</em>) est représentée par une lettre et une combinaison est notée <code>Mod-Reste</code> où <code>Mod</code> est la lettre correspondant à la touche modificatrice et <code>Reste</code> est une combinaison.</p><p id="r-537106" data-claire-element-id="537106">Les correspondances sont les suivantes :</p><table id="r-537123" data-claire-element-id="537123"><tbody id="r-537122" data-claire-element-id="537122"><tr id="r-537111" data-claire-element-id="537111"><td id="r-537108" data-claire-element-id="537108"><p id="r-537107" data-claire-element-id="537107"><code>Shift</code></p></td><td id="r-537110" data-claire-element-id="537110"><p id="r-537109" data-claire-element-id="537109"><code>S</code></p></td></tr><tr id="r-537116" data-claire-element-id="537116"><td id="r-537113" data-claire-element-id="537113"><p id="r-537112" data-claire-element-id="537112"><code>Ctrl</code></p></td><td id="r-537115" data-claire-element-id="537115"><p id="r-537114" data-claire-element-id="537114"><code>C</code></p></td></tr><tr id="r-537121" data-claire-element-id="537121"><td id="r-537118" data-claire-element-id="537118"><p id="r-537117" data-claire-element-id="537117"><code>Meta</code> (ou <code>Alt</code>)</p></td><td id="r-537120" data-claire-element-id="537120"><p id="r-537119" data-claire-element-id="537119"><code>M</code></p></td></tr></tbody></table><p id="r-537124" data-claire-element-id="537124">Par exemple, <code>C-a</code> est obtenu en maintenant <code>Ctrl</code> et en appuyant sur <code>a</code>, et <code>C-M-f</code> est la combinaison de <code>Ctrl</code>, <code>Alt</code> et <code>f</code> sur un clavier français usuel.</p><h2 id="r-combinaisons-reservees" data-claire-element-id="537128">Combinaisons réservées</h2><p id="r-537126" data-claire-element-id="537126">Emacs possède des conventions quant aux combinaisons que vous pouvez utiliser et à celles qui sont réservées à différentes parties de l'éditeur.</p><p id="r-537127" data-claire-element-id="537127">Il vous faut simplement retenir que vous êtes autorisé à créer des raccourcis débutant par <code>C-c</code> suivi d'une <em>lettre</em> pour vos besoins personnels, en tant qu'utilisateur. Les autres combinaisons commençant par <code>C-c</code> sont réservées aux modes majeurs et mineurs (ce n'est pas important si vous ne savez pas bien ce que sont les uns et les autres) et les autres espaces sont pris par Emacs lui-même ou des composants spécialisés.</p><h2 id="r-fonctions-commandes-et-combinaisons" data-claire-element-id="537131">Fonctions, commandes et combinaisons</h2><p id="r-537129" data-claire-element-id="537129">Pour pouvoir associer des commandes aux combinaisons de touches, il faut d'une part savoir comment noter la combinaison et d'autre part connaître la fonction à lui associer.</p><p id="r-537130" data-claire-element-id="537130">Pour Emacs, chaque combinaison de touches invoque une <em>commande</em> (encore appelée <em>fonction interactive</em>). Une commande est une <em>fonction</em>, c'est-à-dire, dit simplement, une suite d'actions à effectuer, soit écrite en Emacs Lisp, soit écrite en C et connue nativement d'Emacs. Mais toutes les fonctions ne sont pas des commandes. Il faut en effet qu'elles soient prévues pour être appelées de manière interactive, par l'utilisateur. Toute fonction qui peut être appelée <em>via</em><code>M-x NOM-DE-LA-FONCTION</code> est une commande ; le but de cette section est de vous permettre d'éviter d'avoir à taper le nom de la commande à chaque fois, en lui associant un raccourci clavier.</p><h2 id="r-la-fonction-global-set-key" data-claire-element-id="537143">La fonction <code>global-set-key</code></h2><p id="r-537132" data-claire-element-id="537132">C'est la fonction permettant d'attacher une combinaison de touches à une commande, au niveau global, c'est-à-dire disponible partout dans Emacs. La syntaxe est la suivante :</p><pre id="r-537133" data-claire-element-id="537133"><code data-claire-semantic="common-lisp">(global-set-key COMBINAISON COMMANDE)</code></pre><p id="r-537134" data-claire-element-id="537134"><code>COMBINAISON</code> est une séquence de touches. La manière la plus simple de l'écrire est d'utiliser la fonction <code>kbd</code> comme ceci :</p><pre id="r-537135" data-claire-element-id="537135"><code data-claire-semantic="common-lisp">(kbd DESCRIPTION)</code></pre><p id="r-537136" data-claire-element-id="537136"><code>DESCRIPTION</code> est alors la description de touches telle qu'elle a été présentée ci-dessus, entre guillemets droits. Par exemple :</p><pre id="r-537137" data-claire-element-id="537137"><code data-claire-semantic="common-lisp">(kbd &quot;C-c g&quot;)</code></pre><p id="r-537138" data-claire-element-id="537138">Le tout est à mettre à la place de <code>COMBINAISON</code>.</p><p id="r-537139" data-claire-element-id="537139"><code>COMMANDE</code> est, dans sa forme la plus simple, et la seule que nous verrons dans cet article, le nom d'une fonction précédé d'une apostrophe ; par exemple : <code>'replace-string</code>.</p><p id="r-537140" data-claire-element-id="537140">Imaginons que vous vouliez attacher la commande <code>replace-string</code> à la combinaison <code>C-c h</code>. Vous pourriez écrire la ligne suivante dans le <code>.emacs</code> :</p><pre id="r-537141" data-claire-element-id="537141"><code data-claire-semantic="common-lisp">(global-set-key (kbd &quot;C-c h&quot;) 'replace-string)</code></pre><p id="r-537142" data-claire-element-id="537142">Dorénavant, lorsque vous rencontrerez une commande intéressante sur un <em>wiki</em>, un <em>blog</em>, ou dans le <code>.emacs</code> de quelqu'un d'autre, vous saurez comment l'affecter aux touches de votre choix !</p><h2 id="r-quelques-commandes-utiles-qui-ne-demandent-qu-a-etre-affectees" data-claire-element-id="537181">Quelques commandes utiles qui ne demandent qu'à être affectées</h2><table id="r-537180" data-claire-element-id="537180"><tbody id="r-537179" data-claire-element-id="537179"><tr id="r-537148" data-claire-element-id="537148"><td id="r-537145" data-claire-element-id="537145"><p id="r-537144" data-claire-element-id="537144"><strong>Commande</strong></p></td><td id="r-537147" data-claire-element-id="537147"><p id="r-537146" data-claire-element-id="537146"><strong>Description rapide</strong></p></td></tr><tr id="r-537153" data-claire-element-id="537153"><td id="r-537150" data-claire-element-id="537150"><p id="r-537149" data-claire-element-id="537149"><code>replace-string</code></p></td><td id="r-537152" data-claire-element-id="537152"><p id="r-537151" data-claire-element-id="537151">Remplace un texte par un autre dans le <em>buffer</em>.</p></td></tr><tr id="r-537158" data-claire-element-id="537158"><td id="r-537155" data-claire-element-id="537155"><p id="r-537154" data-claire-element-id="537154"><code>replace-regexp</code></p></td><td id="r-537157" data-claire-element-id="537157"><p id="r-537156" data-claire-element-id="537156">Pareil que <code>replace-string</code> avec une <em>regexp</em>.</p></td></tr><tr id="r-537163" data-claire-element-id="537163"><td id="r-537160" data-claire-element-id="537160"><p id="r-537159" data-claire-element-id="537159"><code>bury-buffer</code></p></td><td id="r-537162" data-claire-element-id="537162"><p id="r-537161" data-claire-element-id="537161">Cycle parmi vos <em>buffers</em>.</p></td></tr><tr id="r-537168" data-claire-element-id="537168"><td id="r-537165" data-claire-element-id="537165"><p id="r-537164" data-claire-element-id="537164"><code>kill-this-buffer</code></p></td><td id="r-537167" data-claire-element-id="537167"><p id="r-537166" data-claire-element-id="537166">Détruit le <em>buffer</em> et ferme le fichier.</p></td></tr><tr id="r-537173" data-claire-element-id="537173"><td id="r-537170" data-claire-element-id="537170"><p id="r-537169" data-claire-element-id="537169"><code>compile</code></p></td><td id="r-537172" data-claire-element-id="537172"><p id="r-537171" data-claire-element-id="537171">Invoque make pour compiler vos fichiers sources.</p></td></tr><tr id="r-537178" data-claire-element-id="537178"><td id="r-537175" data-claire-element-id="537175"><p id="r-537174" data-claire-element-id="537174"><code>gdb</code></p></td><td id="r-537177" data-claire-element-id="537177"><p id="r-537176" data-claire-element-id="537176">Invoque gdb pour déboguer vos programmes.</p></td></tr></tbody></table>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
<span class="arrow"></span>
<span class="next">Changer l&#039;apparence d&#039;Emacs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
<span class="next">Configurer Emacs pour programmer en C</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfigurerEmacspourprogrammerenC"></a><h2>Configurer Emacs pour programmer en C</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
<span class="arrow"></span>
<span class="next">Changer les combinaisons au clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
<span class="next">Exemple final d&#039;un fichier .emacs basique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-537183" data-claire-element-id="537183">Si vous avez lu et appliqué mes instructions jusqu'ici, votre Emacs devrait être suffisamment configuré pour l'édition de fichiers de texte. La plupart des utilisateurs d'Emacs le sont cependant pour leurs besoins en matière de programmation. Aussi, cette avant-dernière section adresse quelques points de configuration d'Emacs pour pouvoir écrire du C dans de bonnes conditions.</p><p id="r-537184" data-claire-element-id="537184">D'autres modes de langages de programmation ont des paramétrages semblables, mais il n'y a pas de règle vraiment générale. Il vous faudra lire les manuels correspondants.</p><h2 id="r-style-d-indentation" data-claire-element-id="537210">Style d'indentation</h2><p id="r-537185" data-claire-element-id="537185">L'une des fonctionnalités les plus appréciées d'Emacs est sa capacité à indenter intelligemment le code selon le contexte. Le mode d'édition du C, notamment, possède un indenteur relativement performant. Cependant, par défaut, celui-ci suit les règles de présentation du GNU. Si comme moi cela vous contrarie fortement, il est aisé de changer de style. La variable <code>c-default-style</code> contient le nom du style à utiliser, sous forme d'une chaîne de caractères (entre guillemets). Les valeurs habituelles sont les suivantes :</p><table id="r-537207" data-claire-element-id="537207"><tbody id="r-537206" data-claire-element-id="537206"><tr id="r-537190" data-claire-element-id="537190"><td id="r-537187" data-claire-element-id="537187"><p id="r-537186" data-claire-element-id="537186"><code>&quot;k&amp;amp;r&quot;</code></p></td><td id="r-537189" data-claire-element-id="537189"><p id="r-537188" data-claire-element-id="537188">Le style K&amp;amp;R, aussi appelé style kernel.</p></td></tr><tr id="r-537195" data-claire-element-id="537195"><td id="r-537192" data-claire-element-id="537192"><p id="r-537191" data-claire-element-id="537191"><code>&quot;bsd&quot;</code></p></td><td id="r-537194" data-claire-element-id="537194"><p id="r-537193" data-claire-element-id="537193">Le style Allman, aussi appelé style BSD.</p></td></tr><tr id="r-537200" data-claire-element-id="537200"><td id="r-537197" data-claire-element-id="537197"><p id="r-537196" data-claire-element-id="537196"><code>&quot;whitesmith&quot;</code></p></td><td id="r-537199" data-claire-element-id="537199"><p id="r-537198" data-claire-element-id="537198">Le style Whitesmiths.</p></td></tr><tr id="r-537205" data-claire-element-id="537205"><td id="r-537202" data-claire-element-id="537202"><p id="r-537201" data-claire-element-id="537201"><code>&quot;gnu&quot;</code></p></td><td id="r-537204" data-claire-element-id="537204"><p id="r-537203" data-claire-element-id="537203">Le style GNU, celui par défaut.</p></td></tr></tbody></table><p id="r-537208" data-claire-element-id="537208">Par exemple, si vous utilisez le style K&amp;amp;R, vous écrirez :</p><pre id="r-537209" data-claire-element-id="537209"><code data-claire-semantic="common-lisp">(setq c-default-style &quot;k&amp;amp;r&quot;)</code></pre><h2 id="r-pas-d-indentation-espaces-et-tabulations" data-claire-element-id="537214">Pas d'indentation, espaces et tabulations</h2><p id="r-537211" data-claire-element-id="537211">En plus du style, il y a également une histoire de pas (ou largeur) d'indentation. Par exemple, par défaut, Emacs indente vos blocs de 4, en style K&amp;amp;R. Personnellement, j'utilise un pas de 8. Cela est obtenu en changeant la valeur de la variable <code>c-basic-offset</code>. Pour moi :</p><pre id="r-537212" data-claire-element-id="537212"><code data-claire-semantic="common-lisp">(setq c-basic-offset 8)</code></pre><p id="r-537213" data-claire-element-id="537213">De plus, la variable <code>indent-tabs-mode</code> contrôle l'usage des tabulations pour l'indentation. C'est une variable booléenne. Une valeur vraie (<code>t</code>) signifie que les tabulations seront utilisées dès que possible tandis qu'une valeur fausse (<code>nil</code>) obligera Emacs à n'utiliser que des espaces pour indenter. Par défaut, elle vaut <code>t</code>. Je vous laisse deviner l'instruction à placer dans votre <code>.emacs</code> si vous voulez des espaces !</p><h2 id="r-autres-options-2" data-claire-element-id="537217">Autres options</h2><p id="r-537215" data-claire-element-id="537215">Le mode C étant l'un des plus populaires, il possède son lot de paramètres intéressants ou obscurs que je vous laisse découvrir en compagnie de la documentation. Vous pourriez vouloir personnaliser un peu plus le style d'indentation en modifiant la variable <code>c-offsets-alist</code>. Je ne détaillerai pas son fonctionnement ici, mais n'hésitez pas à consulter <a href="http://rzpages.ovh.org/emacs/dotemacs.php5">mon .emacs</a> pour un petit exemple.</p><p id="r-537216" data-claire-element-id="537216">Avec tout cela, l'édition du code C devrait maintenant être tout à fait satisfaisante. Ainsi, votre Emacs devrait maintenant être relativement complet pour un début. Cet article s'achève ici et je vous laisse comparer le résultat de votre apprentissage avec un exemple de fichier <code>.emacs</code> écrit d'après ce tutoriel.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
<span class="arrow"></span>
<span class="next">Changer les combinaisons au clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
<span class="next">Exemple final d&#039;un fichier .emacs basique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Exemplefinald039unfichier.emacsbasique"></a><h2>Exemple final d&#039;un fichier .emacs basique</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
<span class="arrow"></span>
<span class="next">Configurer Emacs pour programmer en C</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<pre id="r-537219" data-claire-element-id="537219"><code data-claire-semantic="common-lisp">;; Environnement
(set-language-environment &quot;UTF-8&quot;)

(setq custom-file &quot;~/.emacs-custom.el&quot;)
(load custom-file)

;; Affichage
(menu-bar-mode -1)
(tool-bar-mode -1)
(scroll-bar-mode -1)

(column-number-mode t)

(setq truncate-partial-width-windows nil)
(setq ring-bell-function 'ignore)

(display-time-mode t)

;; Raccourcis
(global-set-key (kbd &quot;C-c h&quot;) 'replace-string)
(global-set-key (kbd &quot;C-c j&quot;) 'replace-regexp)
(global-set-key (kbd &quot;C-c o&quot;) 'bury-buffer)
(global-set-key (kbd &quot;C-c k&quot;) 'kill-this-buffer)
(global-set-key (kbd &quot;C-c c&quot;) 'compile)
(global-set-key (kbd &quot;C-c g&quot;) 'gdb)</code></pre><p id="r-537220" data-claire-element-id="537220">Voilà voilà, le tuto est terminé. Vous devriez normalement être capable de comprendre la plupart des configurations de base pour Emacs que vous pouvez trouver un peu partout sur Internet, en regardant dans l'aide la description des fonctions et des variables que vous voyez dans le code. La prochaine étape, si vous êtes motivé, est d'apprendre l'Emacs Lisp !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros">Votre premier .emacs : la configuration d&#039;Emacs pour les zéros</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/comment-configurer-emacs">
Comment configurer Emacs ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/premiers-pas-16">
Premiers pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-l-apparence-d-emacs">
Changer l&#039;apparence d&#039;Emacs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/changer-les-combinaisons-au-clavier">
Changer les combinaisons au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
Configurer Emacs pour programmer en C
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/exemple-final-d-un-fichier-emacs-basique">
Exemple final d&#039;un fichier .emacs basique
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros/configurer-emacs-pour-programmer-en-c">
<span class="arrow"></span>
<span class="next">Configurer Emacs pour programmer en C</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:19:00 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:21:01 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/interface-graphique-pygame-pour-python.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:09:56 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/interface-graphique-pygame-pour-python.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:47:47 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Interface graphique Pygame pour Python</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/interface-graphique-pygame-pour-python.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Interface graphique Pygame pour Python</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#InterfacegraphiquePygamepourPython">Interface graphique Pygame pour Python</a><br/><a href="#PrsentationdePygame">Présentation de Pygame</a><br/><a href="#Pygameendtails">Pygame en détails</a><br/><a href="#InstallationdePygame">Installation de Pygame</a><br/><a href="#Lesinterfacesgraphiques">Les interfaces graphiques</a><br/><a href="#Premiresfentres">Premières fenêtres</a><br/><a href="#Importerlabibliothque">Importer la bibliothèque</a><br/><a href="#Ouvrirunefentre">Ouvrir une fenêtre !</a><br/><a href="#Afficheruneimage">Afficher une image</a><br/><a href="#Gestiondesvnements1">Gestion des événements [1]</a><br/><a href="#Evnementdefermeture">Evénement de fermeture</a><br/><a href="#Evnementsauclavier">Evénements au clavier</a><br/><a href="#Evnementslasouris">Evénements à la souris</a><br/><a href="#TP-DKLabyrinthe">TP - DK Labyrinthe !</a><br/><a href="#Prcisionssurlejeu">Précisions sur le jeu</a><br/><a href="#Structuredesdiffrentsfichiers">Structure des différents fichiers</a><br/><a href="#Correction">Correction !</a><br/><a href="#Leson">Le son</a><br/><a href="#LemoduleMixer">Le module Mixer</a><br/><a href="#LemoduleMusic">Le module Music</a><br/><a href="#Gestiondesvnements2">Gestion des événements [2]</a><br/><a href="#InitialiserleJoystick">Initialiser le Joystick</a><br/><a href="#EvnementsauJoystick">Evénements au Joystick</a><br/><a href="#Evnementsdelafentre">Evénements de la fenêtre</a><br/></div>
<a name="InterfacegraphiquePygamepourPython"></a><h2>Interface graphique Pygame pour Python</h2><div class="content" role="article">
<p id="r-202455" data-claire-element-id="202455">Si vous lisez ceci, c'est peut-être que vous connaissez le langage Python, mais que vous vous demandez comment rendre vos jeux plus accessibles, plus ergonomiques et plus jolis. :-° C'est peut-être aussi parce que vous venez de terminer le tutoriel du Site du Zéro sur le langage Python, écrit par prolixe et 6pri1, et que vous cherchez comment aller plus loin avec ce langage !</p><p id="r-202456" data-claire-element-id="202456">Dans tout les cas, vous êtes ici, et vous souhaitez découvrir Pygame, une bibliothèque qui permet de créer une interface graphique avec Python !</p><p id="r-202457" data-claire-element-id="202457">Avantages de Pygame :</p><ul id="r-202470" data-claire-element-id="202470"><li id="r-202459" data-claire-element-id="202459"><p id="r-202458" data-claire-element-id="202458">Compatible avec Python 3</p></li><li id="r-202461" data-claire-element-id="202461"><p id="r-202460" data-claire-element-id="202460">Beaucoup d'utilisateurs</p></li><li id="r-202463" data-claire-element-id="202463"><p id="r-202462" data-claire-element-id="202462">Développement actif (<a href="http://pygame.org/">Pygame.org</a>)</p></li><li id="r-202465" data-claire-element-id="202465"><p id="r-202464" data-claire-element-id="202464">Portable sur les différents OS</p></li><li id="r-202467" data-claire-element-id="202467"><p id="r-202466" data-claire-element-id="202466">Plutôt facile d'utilisation</p></li><li id="r-202469" data-claire-element-id="202469"><p id="r-202468" data-claire-element-id="202468">Utilise <a href="http://fr.wikipedia.org/wiki/Simple_DirectMedia_Layer">SDL</a>, disponible dans beaucoup de langages...</p></li></ul><p id="r-202471" data-claire-element-id="202474">Exemples de jeux développés grâce à Pygame :<a href="medias/uploads.siteduzero.com_files_255001_256000_255706.jpg"><img id="r-202474" data-claire-element-id="202473" src="medias/uploads.siteduzero.com_thb_255001_256000_255706.jpg" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_255001_256000_255687.jpg"><img id="r-202473" data-claire-element-id="202472" src="medias/uploads.siteduzero.com_thb_255001_256000_255687.jpg" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_255001_256000_255686.png"><img id="r-202472" data-claire-element-id="202471" src="medias/uploads.siteduzero.com_thb_255001_256000_255686.png" alt="Image utilisateur"/></a></p><p id="r-202475" data-claire-element-id="202475">Pour bien comprendre ce tutoriel, je vous conseille d'avoir lu et maîtriser les techniques de programmation du tutoriel de prolixe et 6pri1. Bien que toutes les parties ne soient pas indispensables, plus vous serez à l'aise avec Python, mieux ça sera ! :D</p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="PrsentationdePygame"></a><h2>Présentation de Pygame</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
<span class="next">Pygame en détails</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-202478" data-claire-element-id="202478">Salut à tous ! :) <br/> Si vous lisez ceci, ça y est, vous ne pouvez plus échapper à Pygame ! :diable:</p><p id="r-202479" data-claire-element-id="202479">Après Python, vous vous attaquez à une des nombreuses bibliothèques disponibles pour ce langage !<br/> Pour comprendre ce tutoriel et utiliser cette bibliothèque, vous devez avoir déjà quelques programmes Python en mode console derrière vous, et être familier avec les techniques de programmation. Je ne peux que vous conseiller, si durant la lecture vous butez sur une ligne de code ou pour vous rafraîchir la mémoire, de jeter un oeil sur le tutoriel Python du Site du Zéro ! :)</p><p id="r-202480" data-claire-element-id="202480">Bon, on commence ? :-° <br/> Je vous propose tout d'abord de regarder Pygame de plus près, et de faire le point sur le rôle d'une interface graphique, pour un langage comme Python ! <br/> Nous verrons un peu plus loin comment l'installer sur votre machine et comment l'utiliser dans votre code !</p>
</div><a name="Pygameendtails"></a><h2>Pygame en détails</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">
<span class="arrow"></span>
<span class="next">Présentation de Pygame</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
<span class="next">Installation de Pygame</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-pygame-en-details" data-claire-element-id="202499">Pygame en détails</h4><p id="r-202481" data-claire-element-id="202481">L'histoire de Pygame commence en l'an 2000, lorsque <strong>Pete Shinners</strong> découvre Python et SDL.<br/> Python, j'espère que vous avez une idée de ce dont il peut s'agir :lol: , SDL parcontre, c'est moins sûr !<br/> Si vous avez suivi le cours de Matéo sur le C, vous en aurez déjà entendu parler, et l'aurez même utilisée...</p><p id="r-202482" data-claire-element-id="202482">SDL, pour <em>Simple Directmedia Library</em>, est une bibliothèque libre multi-plateformes permettant la gestion du multimédia dans la programmation. La SDL est écrite en C, mais est utilisable avec un grand nombre de langages, comme le ... C/C++ :-° , Pascal, Perl ou encore ... Python !</p><p id="r-202483" data-claire-element-id="202483">Parmis ses utilisations, on peut retenir :</p><ul id="r-202490" data-claire-element-id="202490"><li id="r-202485" data-claire-element-id="202485"><p id="r-202484" data-claire-element-id="202484">L'affichage vidéo 2D</p></li><li id="r-202487" data-claire-element-id="202487"><p id="r-202486" data-claire-element-id="202486">La gestion de l'audio</p></li><li id="r-202489" data-claire-element-id="202489"><p id="r-202488" data-claire-element-id="202488">La gestion de périphériques de commandes (clavier, souris...)</p></li></ul><p id="r-202491" data-claire-element-id="202491">Et vous en conviendrez, pour coder un jeu, ça sert pas mal !<br/> Je vous laisse imaginer tous les jeux que vous allez pouvoir créer avec tout ça... :) Tetris, Super Mario Bros, Pokémon (eh oui ! :lol: ), Zelda... <br/> Je parle des versions 2D, n'allez pas me chercher votre dernier Zelda Wii !</p><p id="r-202492" data-claire-element-id="202492">Revenons à notre cher Pete, qui, lorsqu'il a découvert Python et SDL, s'est dit qu'il serait peut-être bon de combiner les deux. Il voulait ainsi proposer aux codeurs Python une bibliothèque multimédia aussi riche que celle du C, tout en conservant ce qui fait l'âme de Python, la simplicité.</p><figure id="r-202494" data-claire-element-id="202495"><img id="r-202493" data-claire-element-id="202493" src="medias/uploads.siteduzero.com_files_255001_256000_255689.png" alt="Image utilisateur"/></figure><p id="r-202496" data-claire-element-id="202496">Pygame est donc l'adaptation de la SDL au service de Python, mais est aussi constitué de quelques ajouts et modifications de son auteur.<br/> Cette bibliothèque est assez intuitive et constitue un très bon moyen de se lancer dans la programmation graphique avec Python. :)</p><p id="r-202497" data-claire-element-id="202497">Il faut savoir que Pygame ne fait pas partie des bibliothèques standards de Python, qu'elle est donc développée indépendamment et qu'il est nécessaire de la télécharger et de l'installer en plus de Python pour pouvoir l'utiliser. Celle-ci est gratuite et libre, sous licence <a href="http://fr.wikipedia.org/wiki/Licence_publique_générale_limitée_GNU">GNU LGPL</a>, ça nous arrange !</p><p id="r-202498" data-claire-element-id="202498">On peut dire que Pygame est une interface graphique pour Python. Ce terme est assez facile à comprendre, mais nous allons tout de même voir qu'il y a quelques choses à connaître sur les interfaces graphiques avant de se lancer :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">
<span class="arrow"></span>
<span class="next">Présentation de Pygame</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
<span class="next">Installation de Pygame</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="InstallationdePygame"></a><h2>Installation de Pygame</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
<span class="arrow"></span>
<span class="next">Pygame en détails</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
<span class="next">Les interfaces graphiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-de-pygame" data-claire-element-id="202537">Installation de Pygame</h4><p id="r-202500" data-claire-element-id="202500">Ca y est ! Enfin du concret à vous mettre sous la dent ! :lol: <br/> L'installation !</p><p id="r-202501" data-claire-element-id="202501">Vous devez d'abord télécharger le fichier correspondant à votre système d'exploitation et à votre version de Python sur le site de Pygame. Normalement Python 3.x si vous avez suivi le tutoriel du Site du Zéro. :) <br/> Page de téléchargement : <a href="http://www.pygame.org/download.shtml">http://www.pygame.org/download.shtml</a></p><h6 id="r-pour-windows" data-claire-element-id="202518">Pour Windows</h6><p id="r-202502" data-claire-element-id="202502">Choisissez le fichier qui vous correspond dans la liste &quot;Windows&quot;, qui devrait ressembler à celà :</p><figure id="r-202504" data-claire-element-id="202505"><img id="r-202503" data-claire-element-id="202503" src="medias/uploads.siteduzero.com_files_256001_257000_256849.png" alt="Image utilisateur"/></figure><p id="r-202506" data-claire-element-id="202506">Cette section nous indique qu'il est nécessaire de désinstaller toutes les versions précédentes de Pygame, avant d'en installer une nouvelle, pas de problème normalement ! :)</p><aside id="r-202508" data-claire-element-id="202508" data-claire-semantic="warning"><p id="r-202507" data-claire-element-id="202507">Comme indiqué à la dernière ligne, vous devez posséder une version 32 bits de Python pour que Pygame fonctionne.<br/> Si vous avez installé la version 64 bits, désinstallez-la et réinstallez la version 32 bits.<br/> Ne vous en faites pas, cette version fonctionne très bien avec des processeurs 64 bits ! :) <br/> Vous pourrez ainsi installer Pygame 32 bits.</p></aside><p id="r-202509" data-claire-element-id="202509">Le fichier qui nous intéresse est donc ici celui compatible avec Python 3, soit le dernier de la liste. :) <br/> Téléchargez le fichier <em>msi</em> qui contient tout ce dont vous avez besoin pour coder avec Pygame, et lancez-le !</p><p id="r-202510" data-claire-element-id="202510">Lors de l'installation, vous rencontrerez une fenêtre comme celle-ci :</p><figure id="r-202512" data-claire-element-id="202513"><img id="r-202511" data-claire-element-id="202511" src="medias/uploads.siteduzero.com_files_256001_257000_256689.jpg" alt="Image utilisateur"/></figure><p id="r-202514" data-claire-element-id="202514">Pygame devrait repérer Python sur votre machine (<em>Python 3.1 from registry</em> sur l'image). Si ce n'est pas le cas, vous aurez seulement la seconde ligne, précisez alors le répertoire d'installation de Python sur votre machine, et le tour est joué ! :D</p><p id="r-202515" data-claire-element-id="202515">Une fois installé sur votre machine, vous êtes prêt à travailler ! :D <br/> Pour vérifier que l'installation a bien été effectuée, vous pouvez vous rendre dans l'interpréteur Python et taper :</p><pre id="r-202516" data-claire-element-id="202516"><code data-claire-semantic="python">import pygame</code></pre><p id="r-202517" data-claire-element-id="202517">Si vous ne rencontrez aucune erreur, Pygame est installé !</p><h6 id="r-pour-linux" data-claire-element-id="202536">Pour Linux</h6><p id="r-202519" data-claire-element-id="202519">Je vais guider l'installation par les sources, mais vous êtes libre, si vous le souhaitez, d'installer le paquet de votre distribution, avec votre gestionnaire qui gérera les dépendances... :)</p><aside id="r-202521" data-claire-element-id="202521" data-claire-semantic="warning"><p id="r-202520" data-claire-element-id="202520">Il m'est arrivé d'installer par erreur Pygame pour Python 2.X, veillez bien, si vous installez le paquet Pygame, à installer celui-compatible avec Python 3. :)</p></aside><p id="r-202522" data-claire-element-id="202522">La section de la page qui nous intéresse est celle-ci :</p><p id="r-202523" data-claire-element-id="202524"><em><img id="r-202524" data-claire-element-id="202523" src="medias/uploads.siteduzero.com_files_256001_257000_256853.png" alt="Image utilisateur"/></em></p><p id="r-202525" data-claire-element-id="202525">Vous pouvez télécharger l'une ou l'autre des archives, cela revient exactement au même ! :)</p><p id="r-202526" data-claire-element-id="202526">Téléchargez le fichier contenant les sources et décompressez-le.<br/> Avant l'installation, assurez-vous d'avoir installé les dépendances : <em>libsdl1.2debian-all (dépôt Universe), libsdl1.2-dev, libsdl-image1.2, libsdl-image1.2-dev, libsdl-ttf2.0-0, libsdl-ttf2.0-dev, libsdl-mixer1.2, libsdl-mixer1.2-dev, libsmpeg0, libsmpeg0-dev, libpng-dev et libjpeg-dev</em> !</p><p id="r-202527" data-claire-element-id="202527">Voici la commande pour les installer sous Ubuntu :</p><pre id="r-202528" data-claire-element-id="202528"><code data-claire-semantic="console">sudo apt-get install libsdl1.2debian-all libsdl1.2-dev libsdl-image1.2 libsdl-image1.2-dev libsdl-ttf2.0-0 libsdl-ttf2.0-dev libsdl-mixer1.2 libsdl-mixer1.2-dev libsmpeg0 libsmpeg0-dev libpng libjpeg</code></pre><p id="r-202529" data-claire-element-id="202529">Une fois les dépendances installées, ouvrez un terminal. Rendez-vous dans le dossier décompressé et tapez :</p><pre id="r-202530" data-claire-element-id="202530"><code data-claire-semantic="console">python3 setup.py build</code></pre><p id="r-202531" data-claire-element-id="202531">Si vous ne rencontrez aucune erreur, passez en root et tapez :</p><pre id="r-202532" data-claire-element-id="202532"><code data-claire-semantic="console">python3 setup.py install</code></pre><p id="r-202533" data-claire-element-id="202533">Et c'est bon ! Vous êtes prêt à travailler avec Pygame ! :D <br/> Pour vérifier que l'installation a bien été effectuée, vous pouvez vous rendre dans l'interpréteur Python et taper :</p><pre id="r-202534" data-claire-element-id="202534"><code data-claire-semantic="python">import pygame</code></pre><p id="r-202535" data-claire-element-id="202535">Si vous ne rencontrez aucune erreur, Pygame est installé !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
<span class="arrow"></span>
<span class="next">Pygame en détails</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
<span class="next">Les interfaces graphiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesinterfacesgraphiques"></a><h2>Les interfaces graphiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
<span class="arrow"></span>
<span class="next">Installation de Pygame</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">
<span class="next">Premières fenêtres</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-interfaces-graphiques" data-claire-element-id="202582">Les interfaces graphiques</h4><p id="r-202538" data-claire-element-id="202538">Dans la plupart des langages de programmation, on commence par coder des programmes qui se lanceront en mode console. Si vous avez suivi le tutoriel du Site du Zéro sur le Python, c'est votre cas. :D <br/> Programmer de cette façon permet d'apprendre tous les aspects du langage sans avoir à se soucier de l'affichage, ni du son. Pas de design, seulement du code, en somme. <br/> Un programme en mode console peut être lancé sur un serveur par exemple, où l'on privilégie la performance à une interface graphique qui serait inutile.</p><p id="r-202539" data-claire-element-id="202539">Des programmes en mode console et graphique peuvent proposer les mêmes fonctions. En effet, l'interface graphique, c'est seulement une &quot;surcouche&quot; ajoutée au langage, permettant d'afficher des fenêtres, des images ou des boutons par exemple ! :)</p><p id="r-202540" data-claire-element-id="202540">Cependant, les modes console et graphique ont chacun leurs avantages et leurs inconvénients. <br/> Le principal inconvénient du mode graphique par rapport au mode console est la perte de performance dûe au supplément de calcul pour afficher une fenêtre.<br/> Parcontre, son avantage est son intuitivité et la possibilité d'afficher des images, de travailler un design, par rapport à un mode console qui nécessite un apprentissage pour l'utilisation, et qui avouont-le n'est pas très attirant...</p><div id="r-202542" data-claire-element-id="202542" data-claire-semantic="question"><p id="r-202541" data-claire-element-id="202541">Qui est le geek qui a dit &quot;Si !&quot; ? :lol:</p></div><p id="r-202543" data-claire-element-id="202543"><em>Exemple, un même programme en mode console, puis graphique :</em></p><figure id="r-202545" data-claire-element-id="202546"><img id="r-202544" data-claire-element-id="202544" src="medias/uploads.siteduzero.com_files_265001_266000_265584.jpg" alt="Image utilisateur"/></figure><figure id="r-202548" data-claire-element-id="202549"><img id="r-202547" data-claire-element-id="202547" src="medias/uploads.siteduzero.com_files_265001_266000_265582.jpg" alt="Image utilisateur"/></figure><h6 id="r-differences-de-conception" data-claire-element-id="202581">Différences de conception</h6><p id="r-202550" data-claire-element-id="202550">Jusqu'à maintenant, vous avez codé des scripts qui s'exécutait au fur et à mesure du fichier. <br/> Par exemple :</p><ul id="r-202557" data-claire-element-id="202557"><li id="r-202552" data-claire-element-id="202552"><p id="r-202551" data-claire-element-id="202551">on demande le nom</p></li><li id="r-202554" data-claire-element-id="202554"><p id="r-202553" data-claire-element-id="202553">on attend l'entrée du nom</p></li><li id="r-202556" data-claire-element-id="202556"><p id="r-202555" data-claire-element-id="202555">on demande l'âge</p></li></ul><p id="r-202558" data-claire-element-id="202558">etc... Vous suivez ? :)</p><p id="r-202559" data-claire-element-id="202559">Pour une interface graphique, nous allons voir que c'est différent. <br/> En effet, le programme ne &quot;pilote&quot; plus les évènements, mais il est cette fois &quot;piloté&quot; par ceux-ci. Il est en quelque sorte au service de l'utilisateur, là ou le programme textuel guide étape par étape...</p><p id="r-202560" data-claire-element-id="202560">Pour que vous compreniez mieux, je vais prendre un exemple. :)</p><p id="r-202561" data-claire-element-id="202561">Imaginez un programme affichant un personnage au milieu d'un champs. Vous pouvez appuyer sur Haut, Bas, Gauche et Droite pour le faire bouger, ou encore Echap pour fermer la fenêtre.</p><p id="r-202562" data-claire-element-id="202562">Voyons les différentes étapes de l'exécution de ce programme...</p><ul id="r-202577" data-claire-element-id="202577"><li id="r-202564" data-claire-element-id="202564"><p id="r-202563" data-claire-element-id="202563">Affichage du personnage dans le champs</p></li><li id="r-202566" data-claire-element-id="202566"><p id="r-202565" data-claire-element-id="202565">Attente de la pression d'une touche</p></li><li id="r-202568" data-claire-element-id="202568"><p id="r-202567" data-claire-element-id="202567">Déplacement correspondant</p></li><li id="r-202570" data-claire-element-id="202570"><p id="r-202569" data-claire-element-id="202569">...</p></li><li id="r-202572" data-claire-element-id="202572"><p id="r-202571" data-claire-element-id="202571">Attente de la pression d'une touche</p></li><li id="r-202574" data-claire-element-id="202574"><p id="r-202573" data-claire-element-id="202573">Déplacement correspondant</p></li><li id="r-202576" data-claire-element-id="202576"><p id="r-202575" data-claire-element-id="202575">...</p></li></ul><p id="r-202578" data-claire-element-id="202578">Ce programme doit être codé pour attendre la pression d'une touche, et si cet touche correspond à une touche de mouvement, lancer la fonction précisée pour celui-ci (deplace_haut(), par exemple).<br/> Ce programme se lance, puis attend patiemment qu'on lui donne un ordre, et agit différemment selon l'ordre donné !</p><p id="r-202579" data-claire-element-id="202579">Cette attente est généralement codée à l'aide d'une boucle, qui s'effectue tant qu'aucun événement ne se produit.<br/> C'est une différence qui influe sur la manière de coder lorsqu'on a une interface graphique à gérer, mais ne vous inquiétez pas, c'est plutôt naturel, et on y va doucement ! :D</p><p id="r-202580" data-claire-element-id="202580">Ca y est, vous possédez maintenant tous les outils pour créer une fenêtre, la contrôler, afficher des images et jouer des sons en Python ! <br/> Reste maintenant à savoir comment utiliser cette bibliothèque, parce que nos jeux ne viendront pas tout seuls ! :D <br/> Dans la prochaine partie nous afficheront nos premières fenêtres et essayerons de comprendre la méthode d'affichage de SDL et Pygame !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
<span class="arrow"></span>
<span class="next">Installation de Pygame</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">
<span class="next">Premières fenêtres</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Premiresfentres"></a><h2>Premières fenêtres</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
<span class="arrow"></span>
<span class="next">Les interfaces graphiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
<span class="next">Importer la bibliothèque</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-202584" data-claire-element-id="202584">Si vous êtes ici, c'est que Pygame est installé sur votre machine, et que Python y a accès. :) <br/> Dans cette partie, vous verrez (enfin :p ) une fenêtre gérée par Pygame, et nous essaierons de comprendre comment fonctionne l'affichage de la SDL pour ainsi insérer des images dans la fenêtre !</p><p id="r-202585" data-claire-element-id="202585">Nous allons maintenant afficher notre première fenêtre, allez, c'est parti !</p>
</div><a name="Importerlabibliothque"></a><h2>Importer la bibliothèque</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">
<span class="arrow"></span>
<span class="next">Premières fenêtres</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
<span class="next">Ouvrir une fenêtre !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-importer-la-bibliotheque" data-claire-element-id="202617">Importer la bibliothèque</h4><p id="r-202586" data-claire-element-id="202586">A partir de maintenant, je pars du principe que Pygame est installé pour Python 3 sur votre machine ! :)</p><p id="r-202587" data-claire-element-id="202587">Nous allons voir qu'il y a plusieurs manières d'importer Pygame pour votre programme.<br/> Pour savoir comment importer la bibliothèque dans votre code Python, il faut savoir de quoi celle-ci est composée. Après un petit tour sur la documentation Pygame (<a href="http://pygame.org/docs">http://pygame.org/docs</a>), nous pouvons voir que Pygame est en fait composé de plusieurs modules, dont quelques uns des plus importants :</p><ul id="r-202602" data-claire-element-id="202602"><li id="r-202589" data-claire-element-id="202589"><p id="r-202588" data-claire-element-id="202588">display</p></li><li id="r-202591" data-claire-element-id="202591"><p id="r-202590" data-claire-element-id="202590">mixer</p></li><li id="r-202593" data-claire-element-id="202593"><p id="r-202592" data-claire-element-id="202592">draw</p></li><li id="r-202595" data-claire-element-id="202595"><p id="r-202594" data-claire-element-id="202594">event</p></li><li id="r-202597" data-claire-element-id="202597"><p id="r-202596" data-claire-element-id="202596">image</p></li><li id="r-202599" data-claire-element-id="202599"><p id="r-202598" data-claire-element-id="202598">mouse</p></li><li id="r-202601" data-claire-element-id="202601"><p id="r-202600" data-claire-element-id="202600">time</p></li></ul><p id="r-202603" data-claire-element-id="202603">Les noms des principaux modules sont assez faciles à comprendre. La bibliothèque est &quot;découpées&quot; en plusieurs parties, chacune gérant un système bien précis. <br/> Par exemple, le module &quot;display&quot; s'occupe de l'affichage du programme à l'écran, et le module &quot;mixer&quot; se charge de la gestion des sons.</p><h6 id="r-importation-d-un-seul-module" data-claire-element-id="202607">Importation d'un seul module</h6><p id="r-202604" data-claire-element-id="202604">Voyons maintenant la première manière d'importer Pygame dans votre code. :) <br/> Imaginez un programme qui, quand on le lance, se contente de jouer un son. Vous pouvez utiliser Pygame pour celà, mais charger toute la bibliothèque pour jouer un son peut être lourd !<br/> C'est pour celà que l'on peut importer les modules un par un dans le script. Pour jouer un son, nous avons seulement besoin du module &quot;mixer&quot;, nous l'importons donc avec :</p><pre id="r-202605" data-claire-element-id="202605"><code data-claire-semantic="python">import pygame.mixer</code></pre><p id="r-202606" data-claire-element-id="202606">Vous devez avoir déjà vu l'importation dans le tutoriel Python, je passe donc vite ici... :)</p><h6 id="r-importation-complete" data-claire-element-id="202611">Importation complète</h6><p id="r-202608" data-claire-element-id="202608">La seconde manière d'importer la bibliothèque est de l'importer en entier, vous devez avoir une idée...</p><pre id="r-202609" data-claire-element-id="202609"><code data-claire-semantic="python">import pygame</code></pre><p id="r-202610" data-claire-element-id="202610">Ce code importe <strong>tous</strong> les modules présents dans la bibliothèque Pygame.</p><h6 id="r-constantes-de-pygame" data-claire-element-id="202616">Constantes de Pygame</h6><p id="r-202612" data-claire-element-id="202612">Il est aussi conseillé d'importer les constantes de Pygame, mais cette fois-ci dans l'espace de votre script :</p><pre id="r-202613" data-claire-element-id="202613"><code data-claire-semantic="python">from pygame.locals import *</code></pre><p id="r-202614" data-claire-element-id="202614">Pour y accéder, il faudra taper <em>CONSTANTE</em>, plutôt que <em>pygame.CONSTANTE</em> ! :) <br/> Celà vous permettra une meilleure lisibilité dans l'utilisation de ces constantes, vous verrez plus tard à quoi elles serviront :)</p><p id="r-202615" data-claire-element-id="202615">Voilà, c'est tout, vous pouvez maintenant vous servir de la bibliothèque Pygame dans votre programme !<br/> Vous voyez, l'importation n'était pas très compliquée ! :lol:</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">
<span class="arrow"></span>
<span class="next">Premières fenêtres</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
<span class="next">Ouvrir une fenêtre !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ouvrirunefentre"></a><h2>Ouvrir une fenêtre !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
<span class="arrow"></span>
<span class="next">Importer la bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
<span class="next">Afficher une image</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ouvrir-une-fenetre" data-claire-element-id="202654">Ouvrir une fenêtre !</h4><p id="r-202618" data-claire-element-id="202618">Pour afficher une fenêtre, nous importerons toute la bibliothèque Pygame, car nous utiliserons par la suite des fonctionnalités venant de plusieurs de ses modules. Je vous laisse taper ceci :</p><pre id="r-202619" data-claire-element-id="202619"><code data-claire-semantic="python">import pygame
from pygame.locals import *</code></pre><p id="r-202620" data-claire-element-id="202620">Ca y est, on y a accès :) , mais avant de pouvoir faire quoique ce soit avec Pygame, il est nécessaire de l'initialiser. <br/> Cette ligne de code initialise tous les modules pour nous :</p><pre id="r-202621" data-claire-element-id="202621"><code data-claire-semantic="python">pygame.init()</code></pre><p id="r-202622" data-claire-element-id="202622">Une fois Pygame initialisé, on va se lancer dans la création d'une fenêtre, qui sera vide pour commencer !</p><p id="r-202623" data-claire-element-id="202623">Je vous laisse regarder cette ligne de code :</p><pre id="r-202624" data-claire-element-id="202624"><code data-claire-semantic="python">fenetre = pygame.display.set_mode((640, 480))</code></pre><p id="r-202625" data-claire-element-id="202625">Maintenant, analysons :</p><ul id="r-202632" data-claire-element-id="202632"><li id="r-202627" data-claire-element-id="202627"><p id="r-202626" data-claire-element-id="202626">Premièrement, nous déclarons une variable <em>fenêtre</em></p></li><li id="r-202629" data-claire-element-id="202629"><p id="r-202628" data-claire-element-id="202628">Nous appelons ensuite la fonction <em>set_mode()</em> contenue dans le module &quot;display&quot; de Pygame</p></li><li id="r-202631" data-claire-element-id="202631"><p id="r-202630" data-claire-element-id="202630">Cette fonction prend en paramètre un tuple contenant la largeur et la hauteur de la fenêtre voulue.<br/> Attention, c'est un bien un tuple, et non pas deux arguments différents, il est donc nécessaire de mettre les parenthèses !</p></li></ul><p id="r-202633" data-claire-element-id="202633">En fait, cette fonction retourne un objet de classe Surface, définie par Pygame. Cette classe est utilisée par la fenêtre ainsi que par chacune des images affichées dans celle-ci. Pour le moment, cette surface est vierge, elle est donc noire.</p><p id="r-202634" data-claire-element-id="202634">Vous devriez donc obtenir une fenêtre comme celle-ci :</p><figure id="r-202636" data-claire-element-id="202637"><img id="r-202635" data-claire-element-id="202635" src="medias/uploads.siteduzero.com_files_256001_257000_256726.png" alt="Image utilisateur"/></figure><div id="r-202639" data-claire-element-id="202639" data-claire-semantic="question"><p id="r-202638" data-claire-element-id="202638">Eh, mais si je lance mon script, la fenêtre apparaît et disparaît aussitôt ! o_O</p></div><p id="r-202640" data-claire-element-id="202640">En effet, Pygame affiche la fenêtre, et une fois qu'il a terminé, il considère que le travail est fait et continue le script. :p <br/> Vous vous rappelez du chapitre sur les interfaces graphiques ? Je disais que celles-ci devaient produire une boucle qui s'effectuait tant qu'aucun événement ne se produisait.</p><p id="r-202641" data-claire-element-id="202641">Pour rester ouverte, la fenêtre a donc besoin d'une boucle infinie, je pense que vous savez faire celà, non ? :)</p><p id="r-202642" data-claire-element-id="202642">Voici le code minimal pour l'ouverture d'une fenêtre Pygame :</p><pre id="r-202643" data-claire-element-id="202643"><code data-claire-semantic="python">#Importation des bibliothèques nécessaires
import pygame
from pygame.locals import *

#Initialisation de la bibliothèque Pygame
pygame.init()

#Création de la fenêtre
fenetre = pygame.display.set_mode((640, 480))

#Variable qui continue la boucle si = 1, stoppe si = 0
continuer = 1

#Boucle infinie
while continuer:
	continue #Je place continue ici pour pouvoir relancer la boucle infinie
                 #mais il est d'habitude remplacé par une suite d'instructions</code></pre><p id="r-202644" data-claire-element-id="202644">Vous ne devriez pas avoir de difficultés à comprendre ce code :) La boucle infinie se charge simplement de garder le programme ouvert !</p><div id="r-202646" data-claire-element-id="202646" data-claire-semantic="question"><p id="r-202645" data-claire-element-id="202645">Eh mais avec ta boucle infinie je peux pas fermer la fenêtre !</p></div><p id="r-202647" data-claire-element-id="202647">Si vous avez eu cette réaction, vous avez eu raison ! :p <br/> Nous verrons plus tard comment utiliser les événements, qui casseront cette boucle (qui donneront la valeur 0 à <em>continuer</em>), pour permettre à l'utilisateur de fermer la fenêtre d'un clic sur le bouton de fermeture, par exemple... <br/> Pour l'instant, fermez la fenêtre par un Ctrl+C dans la console sous Linux, ou fermez simplement l'invite de commande qui s'ouvre sous Windows ! :)</p><aside id="r-202649" data-claire-element-id="202649" data-claire-semantic="warning"><p id="r-202648" data-claire-element-id="202648">Cette boucle est infinie et on n'a aucun moyen de la stopper autrement, éviter donc de trop tester ce code, qui pourrait surcharger votre processeur...<br/> Pour bloquer la boucle, vous pouvez changer <em>continue</em> par un <em>continuer = int(input())</em>, qui attendra une entrée clavier (0 ou 1) dans la console, pour stopper ou continuer la boucle ! C'est ce que je ferai pour la suite..</p></aside><p id="r-202650" data-claire-element-id="202650">Si vous souhaitez pouvoir redimensionner la fenêtre, vous devez utiliser la fonction comme ceci :</p><pre id="r-202651" data-claire-element-id="202651"><code data-claire-semantic="python">fenetre = pygame.display.set_mode((640,480), RESIZABLE)</code></pre><p id="r-202652" data-claire-element-id="202652">La fenêtre prendra la taille voulu, mais on pourra la rétrécir ou l'agrandir ! :)</p><p id="r-202653" data-claire-element-id="202653">Si vous souhaitez la mettre en plein écran, utilisez le paramètre FULLSCREEN, de la même façon !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
<span class="arrow"></span>
<span class="next">Importer la bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
<span class="next">Afficher une image</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Afficheruneimage"></a><h2>Afficher une image</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
<span class="arrow"></span>
<span class="next">Ouvrir une fenêtre !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">
<span class="next">Gestion des événements [1]</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-afficher-une-image-2" data-claire-element-id="202721">Afficher une image</h4><p id="r-202655" data-claire-element-id="202655">On a une fenêtre, mais vide ! Ca vous intéresserait peut-être de la remplir un peu ? Si c'est le cas, on est parti ! :)</p><h6 id="r-afficher-un-fond" data-claire-element-id="202693">Afficher un fond</h6><p id="r-202656" data-claire-element-id="202656">Nous allons commencer par afficher un beau fond pour cette fenêtre. Si vous avez suivi le tutoriel jusqu'à maintenant, vous avez besoin d'un fond de 640 par 480 pixels.</p><p id="r-202657" data-claire-element-id="202657">Allez, en voici un, c'est cadeau ! :)</p><p id="r-202658" data-claire-element-id="202659"><em><a href="medias/blogogeek.free.fr_uploads_images_background.jpg"><img id="r-202659" data-claire-element-id="202658" src="medias/blogogeek.free.fr_uploads_images_background.jpg" alt="Image utilisateur"/></a>background.jpg</em></p><p id="r-202660" data-claire-element-id="202660">Enregistrez cette image et placez-la dans le répertoire de votre script Python.</p><p id="r-202661" data-claire-element-id="202661">Nous allons maintenant voir comment l'afficher dans notre fenêtre.<br/> Avant de l'afficher, il faut charger l'image :</p><pre id="r-202662" data-claire-element-id="202662"><code data-claire-semantic="python">fond = pygame.image.load(&quot;background.jpg&quot;)</code></pre><aside id="r-202664" data-claire-element-id="202664" data-claire-semantic="warning"><p id="r-202663" data-claire-element-id="202663">Pensez bien à ajouter ce code <strong>avant</strong> la boucle infinie, sinon vous ne verrez absolument rien tant que la boucle tournera !</p></aside><p id="r-202665" data-claire-element-id="202665">Ca y est, on peut maintenant accéder à l'image par la variable <em>fond</em>. La fonction <em>load()</em> retourne une Surface, contenant l'image voulue. Cependant, elle a gardé le format de pixels de l'image source, qui peut différer de celui utilisé par Pygame, ou par les autres images de votre programme !<br/> Pour régler ce problème, nous utilisons la fonction <em>convert()</em>, qui vient tout de suite après <em>load()</em>. Grâce à cette ligne, votre image sera chargée et convertie au bon format, ce qui rendra l'affichage plus rapide ! :)</p><pre id="r-202666" data-claire-element-id="202666"><code data-claire-semantic="python">fond = pygame.image.load(&quot;background.jpg&quot;).convert()</code></pre><p id="r-202667" data-claire-element-id="202667">Python n'aura plus à convertir l'image à chaque affichage ! Je vous conseille de faire ceci avec toutes vos images !</p><p id="r-202668" data-claire-element-id="202668">Maintenant, nous avons tout ce qu'il faut pour l'afficher dans cette fenêtre ! :p</p><p id="r-202669" data-claire-element-id="202669">Le principe d'affichage de la SDL est à connaître pour bien afficher ses images :<br/><em>fenetre</em> est une surface vide, sur laquelle on va &quot;coller&quot;, ou &quot;empiler&quot; les autres images.<br/> Le fond doit donc être empilé sur la surface vide de la fenêtre.</p><p id="r-202670" data-claire-element-id="202670">Voyons voir comment faire :</p><pre id="r-202671" data-claire-element-id="202671"><code data-claire-semantic="python">fenetre.blit(fond, (0,0))</code></pre><p id="r-202672" data-claire-element-id="202672">Analysons ce code :</p><ul id="r-202679" data-claire-element-id="202679"><li id="r-202674" data-claire-element-id="202674"><p id="r-202673" data-claire-element-id="202673">Nous utilisons la méthode <em>blit()</em> de la surface <em>fenetre</em>, à laquelle nous envoyons deux paramètres.</p></li><li id="r-202676" data-claire-element-id="202676"><p id="r-202675" data-claire-element-id="202675">1er paramètre : l'image à coller.</p></li><li id="r-202678" data-claire-element-id="202678"><p id="r-202677" data-claire-element-id="202677">2nd paramètre : le tuple contenant l'abscisse et l'ordonnée du point de collage (coin en haut à gauche de l'image)</p></li></ul><p id="r-202680" data-claire-element-id="202680">Ce code peut se résumer par : <br/> &quot;colle l'image <em>fond</em> en haut à gauche de l'image <em>fenetre</em>.&quot; <br/> ou encore : &quot;sur l'image <em>fenetre</em>, colle l'image <em>fond</em>, en commençant au coin en haut à gauche.&quot;</p><p id="r-202681" data-claire-element-id="202681">Voilà un petit exemple pour mieux comprendre, une fenêtre contenant des images, ainsi que le tuple de coordonnées de leur point haut-gauche :</p><figure id="r-202683" data-claire-element-id="202684"><img id="r-202682" data-claire-element-id="202682" src="medias/uploads.siteduzero.com_files_256001_257000_256756.png" alt="Image utilisateur"/></figure><div id="r-202686" data-claire-element-id="202686" data-claire-semantic="question"><p id="r-202685" data-claire-element-id="202685">J'ai essayé de lancer le code, la fenêtre est toujours noire, pourquoi ?</p></div><p id="r-202687" data-claire-element-id="202687">Très bonne question ! :lol: <br/> Il faut savoir que quand on &quot;colle&quot; une image, celle-ci n'apparait pas sur l'écran qu'on avait avant de la coller. <br/> En effet, il faut &quot;mettre à jour&quot;, ou &quot;rafraîchir&quot; l'écran pour voir les changements effectués depuis le dernier rafraîchissement !</p><p id="r-202688" data-claire-element-id="202688">Voilà la ligne qui permettra le rafraîchissement :</p><pre id="r-202689" data-claire-element-id="202689"><code data-claire-semantic="python">pygame.display.flip()</code></pre><p id="r-202690" data-claire-element-id="202690">Ce code met à jour la fenêtre Pygame entière, et tadaaaaaam, votre image apparaît ! :D</p><p id="r-202691" data-claire-element-id="202691">Voici donc le code complet pour afficher un fond dans une fenêtre Pygame :</p><pre id="r-202692" data-claire-element-id="202692"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()

#Ouverture de la fenêtre Pygame
fenetre = pygame.display.set_mode((640, 480))

#Chargement et collage du fond
fond = pygame.image.load(&quot;background.jpg&quot;).convert()
fenetre.blit(fond, (0,0))

#Rafraîchissement de l'écran
pygame.display.flip()

#BOUCLE INFINIE
continuer = 1
while continuer:
	continuer = int(input())</code></pre><h6 id="r-afficher-un-personnage" data-claire-element-id="202704">Afficher un personnage</h6><p id="r-202694" data-claire-element-id="202694">Maintenant que nous avons un fond, j'aimerais que vous me donniez le code permettant d'afficher le fond, et ce personnage aux cordonnées x = 200 et y = 300 !</p><p id="r-202695" data-claire-element-id="202696"><em><a href="medias/blogogeek.free.fr_uploads_images_perso.png"><img id="r-202696" data-claire-element-id="202695" src="medias/blogogeek.free.fr_uploads_images_perso.png" alt="Image utilisateur"/></a>perso.png</em></p><p id="r-202697" data-claire-element-id="202697">Ca y est ? Alors voilà la correction !</p><pre id="r-202698" data-claire-element-id="202698"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()

#Ouverture de la fenêtre Pygame
fenetre = pygame.display.set_mode((640, 480))

#Chargement et collage du fond
fond = pygame.image.load(&quot;background.jpg&quot;).convert()
fenetre.blit(fond, (0,0))

#Chargement et collage du personnage
perso = pygame.image.load(&quot;perso.png&quot;).convert()
fenetre.blit(perso, (200,300))

#Rafraîchissement de l'écran
pygame.display.flip()

#BOUCLE INFINIE
continuer = 1
while continuer:
	continuer = int(input())</code></pre><p id="r-202699" data-claire-element-id="202699">Ce code vous permet d'obtenir une fenêtre comme celle-ci :</p><figure id="r-202701" data-claire-element-id="202702"><img id="r-202700" data-claire-element-id="202700" src="medias/uploads.siteduzero.com_files_256001_257000_256760.png" alt="Image utilisateur"/></figure><p id="r-202703" data-claire-element-id="202703">J'espère que vous y êtes arrivé, ce n'était pas très difficile !<br/> Ici vous pouvez voir que les images s'empilent les unes au dessus des autres. Le personnage s'est ainsi &quot;empilé&quot; sur l'image de fond, car il a été collé après ! :)</p><h6 id="r-gestion-de-la-transparence-1" data-claire-element-id="202720">Gestion de la transparence</h6><div id="r-202706" data-claire-element-id="202706" data-claire-semantic="question"><p id="r-202705" data-claire-element-id="202705">Mais attend ? C'est quoi ça ? La zone transparente est devenue noire !</p></div><p id="r-202707" data-claire-element-id="202707">Bien vu ! :lol: , pour régler cela, utilisez <em>convert_alpha()</em> au lieu de <em>convert()</em> pour les images à transparence !</p><p id="r-202708" data-claire-element-id="202708">Remplacez donc la ligne de chargement par :</p><pre id="r-202709" data-claire-element-id="202709"><code data-claire-semantic="python">perso = pygame.image.load(&quot;perso.png&quot;).convert_alpha()</code></pre><p id="r-202710" data-claire-element-id="202710">Ca marche tout de suite beaucoup mieux ! :D</p><p id="r-202711" data-claire-element-id="202711">Si vous souhaitez utiliser une image sans transparence, mais rendre la couleur de fond transparente, vous pouvez utiliser cette la méthode de Surface <em>set_colorkey()</em>, qui prend en paramètre une valeur RGB (Red, Green, Blue), dont les valeurs vont de 0 à 255 :</p><pre id="r-202712" data-claire-element-id="202712"><code data-claire-semantic="python">image.set_colorkey((255,255,255)) #Rend le blanc (valeur RGB : 255,255,255) de l'image transparent</code></pre><p id="r-202713" data-claire-element-id="202713">Vous pouvez retrouver ces valeurs pour n'importe quelle couleur grâce à GIMP, Photoshop, ou même Paint, grâce à l'outils de sélection de couleur !<br/> Voilà l'exemple avec Paint :</p><figure id="r-202715" data-claire-element-id="202716"><img id="r-202714" data-claire-element-id="202714" src="medias/uploads.siteduzero.com_files_256001_257000_256860.png" alt="Image utilisateur"/></figure><p id="r-202717" data-claire-element-id="202717">C'est fait, vous êtes maintenant capable d'affichez n'importe quelle fenêtre, contenant n'importe quelle image ! :p</p><p id="r-202718" data-claire-element-id="202718">Vous pouvez être fier, vous avez affiché votre première fenêtre Pygame, et vos premières images ! :p <br/> N'hésitez pas à vous entraîner, et à insérer d'autres images, à d'autres endroits, à les empiler les unes sur les autres pour familiariser avec ce concept !</p><p id="r-202719" data-claire-element-id="202719">Dans la prochaine partie, nous rendrons notre programme un peu plus interactif grâce aux événements ! :D <br/> Nous rentrons maintenant dans le vif du sujet de la programmation de jeu en Python !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
<span class="arrow"></span>
<span class="next">Ouvrir une fenêtre !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">
<span class="next">Gestion des événements [1]</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gestiondesvnements1"></a><h2>Gestion des événements [1]</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
<span class="arrow"></span>
<span class="next">Afficher une image</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
<span class="next">Evénement de fermeture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-202723" data-claire-element-id="202723">Pour commencer cette partie sur la gestion des événements, je poserai la question :</p><div id="r-202725" data-claire-element-id="202725" data-claire-semantic="question"><p id="r-202724" data-claire-element-id="202724">Qu'est-ce qu'un événement ?</p></div><figure id="r-202727" data-claire-element-id="202728"><img id="r-202726" data-claire-element-id="202726" src="medias/uploads.siteduzero.com_files_256001_257000_256738.png" alt="Image utilisateur"/></figure><p id="r-202729" data-claire-element-id="202729">Un événement peut prendre plusieurs formes, il peut être amené par la pression ou le relâchement d'une touche du clavier, ou encore d'un bouton de la souris, un mouvement de la souris, du joystick, etc...<br/> Mais il peut aussi être un déplacement ou un redimensionnement de la fênetre !</p><p id="r-202730" data-claire-element-id="202730">Un événement est donc tout ce que le programme peut &quot;capter&quot;, de la part de l'utilisateur. :)</p><p id="r-202731" data-claire-element-id="202731">Nous allons dans cette partie apprendre à capturer tous ces événements et à attribuer à chacun d'eux une action bien précise !<br/> C'est parti ! :)</p>
</div><a name="Evnementdefermeture"></a><h2>Evénement de fermeture</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">
<span class="arrow"></span>
<span class="next">Gestion des événements [1]</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
<span class="next">Evénements au clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-evenement-de-fermeture" data-claire-element-id="202754">Evénement de fermeture</h4><figure id="r-202733" data-claire-element-id="202734"><img id="r-202732" data-claire-element-id="202732" src="medias/uploads.siteduzero.com_files_256001_257000_256693.png" alt="Image utilisateur"/></figure><p id="r-202735" data-claire-element-id="202735">Dans le chapitre précédent, nous avions dans notre code une boucle infinie, qui gardait la fenêtre ouverte, mais qui ne recevait aucun événement. Cette boucle ne permettait donc pas de fermer la fenêtre si on le souhaitait.</p><p id="r-202736" data-claire-element-id="202736">Nous voulons que quand l'utilisateur clique sur la croix de fermeture de la fenêtre, celle-ci se ferme ! C'est logique non ? :lol:</p><p id="r-202737" data-claire-element-id="202737">Sans connaître les fonctions permettant cela, auriez-vous une idée d'où il faudrait placer le code pour couper la boucle infinie lors de la réception d'un événement ? Non ? Eh bien dans cette boucle même !</p><p id="r-202738" data-claire-element-id="202738">Je vous laisse essayer de comprendre ce code par vous même :</p><pre id="r-202739" data-claire-element-id="202739"><code data-claire-semantic="python">continuer = 1

#Boucle infinie
while continuer:
	for event in pygame.event.get():   #On parcours la liste de tous les événements reçus
		if event.type == QUIT:     #Si un de ces événements est de type QUIT
			continuer = 0      #On arrête la boucle</code></pre><p id="r-202740" data-claire-element-id="202740">Analysons ce code ensemble si vous le voulez bien :</p><ul id="r-202749" data-claire-element-id="202749"><li id="r-202742" data-claire-element-id="202742"><p id="r-202741" data-claire-element-id="202741">On lance la boucle infinie, jusqu'ici, pas de changement</p></li><li id="r-202744" data-claire-element-id="202744"><p id="r-202743" data-claire-element-id="202743">On lance une boucle <em>for</em>, qui parcourt tous les événements reçus grâce à la fonction <em>get()</em> du module &quot;event&quot; de Pygame. Cette fonction retourne une liste d'objets Event, pour lesquels on peut connaître le type, la touche enfoncée si c'est au clavier, la position du curseur si c'est un clic, etc...</p></li><li id="r-202746" data-claire-element-id="202746"><p id="r-202745" data-claire-element-id="202745">La condition teste si l'événement est de type QUIT (c'est à dire un Alt+F4 ou un clic sur le bouton de fermeture)</p></li><li id="r-202748" data-claire-element-id="202748"><p id="r-202747" data-claire-element-id="202747">Si la condition est satisfaite, on demande à la boucle de s'arrêter :D</p></li></ul><p id="r-202750" data-claire-element-id="202750">Vous pourriez vous demander d'où sort cette variable QUIT, et ce serait légitime... Souvenez vous que lors de l'importation de la bibliothèque Pygame, vous avez inclus les constantes de <em>python.locals</em> dans votre script. Et bien ce QUIT est une de ces constantes ! :D <br/> N'hésitez pas à utiliser l'interpréteur pour lire la documentation sur les modules et les fonctions que je vous présente !</p><aside id="r-202752" data-claire-element-id="202752" data-claire-semantic="information"><p id="r-202751" data-claire-element-id="202751">Vous pouvez dès maintenant changer le <em>continuer = int(input())</em> par cet événement de fermeture ! :D</p></aside><p id="r-202753" data-claire-element-id="202753">Nous allons maintenant placer dans cette boucle d'autres conditions, qui permettront de nouvelles actions si l'on envoie d'autres événements à Pygame. :) Allez, au boulot !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">
<span class="arrow"></span>
<span class="next">Gestion des événements [1]</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
<span class="next">Evénements au clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Evnementsauclavier"></a><h2>Evénements au clavier</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
<span class="arrow"></span>
<span class="next">Evénement de fermeture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
<span class="next">Evénements à la souris</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-evenements-au-clavier" data-claire-element-id="202839">Evénements au clavier</h4><figure id="r-202756" data-claire-element-id="202757"><img id="r-202755" data-claire-element-id="202755" src="medias/uploads.siteduzero.com_files_256001_257000_256475.png" alt="Image utilisateur"/></figure><p id="r-202758" data-claire-element-id="202758">Lorsque vous coderez un jeu, il est probable que vous assignerez des touches clavier aux différentes actions. La touche A peut par exemple donner un coup de poing, alors que la touche Z donne un coup de boule ! (Mmm violence :p )</p><p id="r-202759" data-claire-element-id="202759">Le type d'événement créé lorsque l'on appuie sur une touche est KEYDOWN, (ou KEYUP au relâchement de la touche). Vous penserez donc à créer une condition semblable à la précédente :</p><pre id="r-202760" data-claire-element-id="202760"><code data-claire-semantic="python">if event.type == KEYDOWN:</code></pre><p id="r-202761" data-claire-element-id="202761">Mais attention, cette condition sera vraie quelque soit la touche pressée ! Pour définir une seule touche du clavier, vous devrez utilisez en plus <em>event.key</em>, qui détermine la touche pressée, disponible uniquement lors d'un événement clavier.<br/> Cet <em>event.key</em> peut prendre les valeurs suivantes :</p><p id="r-202762" data-claire-element-id="202762"></p><div id="r-202774" data-claire-element-id="202774"><p id="r-202763" data-claire-element-id="202763">Lettres:<br/> K_a ... K_z</p><p id="r-202764" data-claire-element-id="202764">Nombres:<br/> K_0 ... K_9</p><p id="r-202765" data-claire-element-id="202765">Controles:<br/> K_TAB<br/> K_RETURN<br/> K_ESCAPE<br/> K_SCROLLOCK<br/> K_SYSREQ<br/> K_BREAK<br/> K_DELETE<br/> K_BACKSPACE<br/> K_CAPSLOCK<br/> K_CLEAR<br/> K_NUMLOCK</p><p id="r-202766" data-claire-element-id="202766">Ponctuation:<br/> K_SPACE<br/> K_PERIOD<br/> K_COMMA<br/> K_QUESTION<br/> K_AMPERSAND<br/> K_ASTERISK<br/> K_AT<br/> K_CARET<br/> K_BACKQUOTE<br/> K_DOLLAR<br/> K_EQUALS<br/> K_EURO<br/> K_EXCLAIM<br/> K_SLASH, K_BACKSLASH<br/> K_COLON, K_SEMICOLON<br/> K_QUOTE, K_QUOTEDBL<br/> K_MINUS, K_PLUS<br/> K_GREATER, K_LESS</p><p id="r-202767" data-claire-element-id="202767">Parenthèses:<br/> K_RIGHTBRACKET, K_LEFTBRACKET<br/> K_RIGHTPAREN, K_LEFTPAREN</p><p id="r-202768" data-claire-element-id="202768">Touches F:<br/> K_F1 ... K_F15</p><p id="r-202769" data-claire-element-id="202769">Touches d'édition:<br/> K_HELP<br/> K_HOME<br/> K_END<br/> K_INSERT<br/> K_PRINT<br/> K_PAGEUP, K_PAGEDOWN<br/> K_FIRST, K_LAST</p><p id="r-202770" data-claire-element-id="202770">Clavier numérique:<br/> K_KP0 ... K_KP9<br/> K_KP_DIVIDE<br/> K_KP_ENTER<br/> K_KP_EQUALS<br/> K_KP_MINUS<br/> K_KP_MULTIPLY<br/> K_KP_PERIOD<br/> K_KP_PLUS</p><p id="r-202771" data-claire-element-id="202771">SHF,CTL,ALT etc:<br/> K_LALT, K_RALT<br/> K_LCTRL, K_RCTRL<br/> K_LSUPER, K_RSUPER<br/> K_LSHIFT, K_RSHIFT<br/> K_RMETA, K_LMETA</p><p id="r-202772" data-claire-element-id="202772">Flèches:<br/> K_LEFT<br/> K_UP<br/> K_RIGHT<br/> K_DOWN</p><p id="r-202773" data-claire-element-id="202773">Autres:<br/> K_MENU<br/> K_MODE<br/> K_PAUSE<br/> K_POWER<br/> K_UNDERSCORE<br/> K_HASH</p></div><p id="r-202775" data-claire-element-id="202775">Maintenant vous devez avoir en tête la condition que vous allez créer...<br/> Je voudrais une condition qui écrit &quot;Espace&quot; dans la console lorsqu'on appuie sur la barre d'espace. :p Ca y est ?</p><p id="r-202776" data-claire-element-id="202776">Voilà la condition à placer à la suite de la condition de fermeture, toujours dans la boucle de lecture des événements <em>for</em> :</p><pre id="r-202777" data-claire-element-id="202777"><code data-claire-semantic="python">if event.type == KEYDOWN and event.key == K_SPACE:
	print(&quot;Espace&quot;)</code></pre><p id="r-202778" data-claire-element-id="202778">Si vous avez plusieurs touches de contrôle dans votre programme, vous préférerez cette syntaxe :</p><pre id="r-202779" data-claire-element-id="202779"><code data-claire-semantic="python">if event.type == KEYDOWN:
     if event.key == K_SPACE:
          print(&quot;Espace&quot;)
     if event.key == K_RETURN:
          print(&quot;Entrée&quot;)</code></pre><p id="r-202780" data-claire-element-id="202780">Voilà, vous êtes maintenant capables de capturer tous les événements clavier et d'indiquer une action pour chaqu'un d'eux ! Rien ne vous empêche de créer vos propres fonctions, et de les appeler si la condition est satisfaite !<br/> La liste des valeurs de <em>event.key</em> est assez imposante, c'est pourquoi il vaut mieux l'avoir sous la main en cas de besoin plutôt que de l'apprendre par coeur ! :lol: Mais en regardant bien, vous vous rendrez compte que les valeurs des touches classiques sont faciles à deviner...</p><h6 id="r-mouvements-d-images" data-claire-element-id="202838">Mouvements d'images</h6><p id="r-202781" data-claire-element-id="202781">Nous allons maintenant utiliser les événements du clavier pour déplacer des images dans notre fenêtre ! Plutôt intéressant non ? :p</p><p id="r-202782" data-claire-element-id="202782">Je vous propose de récupérer le code permettant d'afficher un fond et un personnage dans une fenêtre :) <br/> N'oubliez pas, les images dans le même répertoire si vous ne voulez pas changer les chemins !</p><p id="r-202783" data-claire-element-id="202783">Et comme on a appris l'événement de fermeture, on peut le rajouter !</p><p id="r-202784" data-claire-element-id="202784">Voici le code :</p><pre id="r-202785" data-claire-element-id="202785"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()

#Ouverture de la fenêtre Pygame
fenetre = pygame.display.set_mode((640, 480))

#Chargement et collage du fond
fond = pygame.image.load(&quot;background.jpg&quot;).convert()
fenetre.blit(fond, (0,0))

#Chargement et collage du personnage
perso = pygame.image.load(&quot;perso.png&quot;).convert_alpha()
fenetre.blit(perso, (200,300))

#Rafraîchissement de l'écran
pygame.display.flip()

#BOUCLE INFINIE
continuer = 1
while continuer:
	for event in pygame.event.get():
		if event.type == QUIT:
			continuer = 0</code></pre><p id="r-202786" data-claire-element-id="202786">C'est bon pour tout le monde ? J'ai juste récupéré le code de la partie précédente et ajouté l'événement de fermeture à celui-ci ! :)</p><p id="r-202787" data-claire-element-id="202787">Nous allons essayer de faire bouger le personnage avec les flèches du clavier !<br/> Pour cela nous utiliserons un nouvel objet, l'objet <em>Rect</em>, qui permet de manipuler des surfaces rectangulaires. Comme toutes nos images sont rectangles, il facilitera leur déplacement et leur manipulation, vous verrez ! :p</p><p id="r-202788" data-claire-element-id="202788">Rect stocke en fait les positions d'une surface. Pour créer un Rect, nous utilisons la méthode de Surface <em>get_rect()</em>.<br/> Pour obtenir le Rect <em>position_perso</em> à partir de <em>perso</em> :</p><pre id="r-202789" data-claire-element-id="202789"><code data-claire-semantic="python">position_perso = perso.get_rect()</code></pre><p id="r-202790" data-claire-element-id="202790">Les valeurs par défauts pour l'abscisse et l'ordonnée sont 0, donc si utilisez le Rect de base pour établir la position, le personnage sera dans l'angle en haut à gauche :</p><pre id="r-202791" data-claire-element-id="202791"><code data-claire-semantic="python">fenetre.blit(perso, position_perso)</code></pre><p id="r-202792" data-claire-element-id="202792">Nous possédons maintenant une image <em>perso</em> donc les coordonnées sont gérés par le Rect <em>position_perso</em>.</p><p id="r-202793" data-claire-element-id="202793">Le code de chargement complet de l'image est celui ci :</p><pre id="r-202794" data-claire-element-id="202794"><code data-claire-semantic="python">#Chargement et collage du personnage
perso = pygame.image.load(&quot;perso.png&quot;).convert_alpha()
position_perso = perso.get_rect()
fenetre.blit(perso, position_perso)</code></pre><p id="r-202795" data-claire-element-id="202795">Nous voulons maintenant que quand on appuie sur la flèche du bas, le personnage descende de 3 pixels.</p><p id="r-202796" data-claire-element-id="202796">Pour déplacer un Rect, nous utilisons ce code :</p><pre id="r-202797" data-claire-element-id="202797"><code data-claire-semantic="python">nom_du_rect.move(déplacement_x, déplacement_y)</code></pre><p id="r-202798" data-claire-element-id="202798">Les déplacements peuvent être positifs ou négatifs.</p><p id="r-202799" data-claire-element-id="202799">Nous allons donc procéder comme ceci :</p><ul id="r-202810" data-claire-element-id="202810"><li id="r-202801" data-claire-element-id="202801"><p id="r-202800" data-claire-element-id="202800">Attente de l'événement &quot;flèche bas&quot;</p></li><li id="r-202803" data-claire-element-id="202803"><p id="r-202802" data-claire-element-id="202802">Modification de la position du Rect</p></li><li id="r-202805" data-claire-element-id="202805"><p id="r-202804" data-claire-element-id="202804"><strong>Re-</strong>collage du fond pour recouvrir la fenêtre et repartir à zéro</p></li><li id="r-202807" data-claire-element-id="202807"><p id="r-202806" data-claire-element-id="202806">Collage du personnage à sa nouvelle position</p></li><li id="r-202809" data-claire-element-id="202809"><p id="r-202808" data-claire-element-id="202808">Rafraîchissement de l'écran</p></li></ul><p id="r-202811" data-claire-element-id="202811">Vous devriez avoir une idée du code nécessaire au déplacement maintenant. :) <br/> Essayez, essayez, n'oubliez pas que le mouvement doit être effectué à chaque fois qu'on appuie (on me dit &quot;boucle&quot; ? :-° ) !<br/> Et voici ma correction :</p><pre id="r-202812" data-claire-element-id="202812"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()

#Ouverture de la fenêtre Pygame
fenetre = pygame.display.set_mode((640, 480))

#Chargement et collage du fond
fond = pygame.image.load(&quot;background.jpg&quot;).convert()
fenetre.blit(fond, (0,0))

#Chargement et collage du personnage
perso = pygame.image.load(&quot;perso.png&quot;).convert_alpha()
position_perso = perso.get_rect()
fenetre.blit(perso, position_perso)

#Rafraîchissement de l'écran
pygame.display.flip()

#BOUCLE INFINIE
continuer = 1
while continuer:
	for event in pygame.event.get():	#Attente des événements
		if event.type == QUIT:
			continuer = 0
		if event.type == KEYDOWN:
			if event.key == K_DOWN:	#Si &quot;flèche bas&quot;
				#On descend le perso
				position_perso = position_perso.move(0,3)
	
	#Re-collage
	fenetre.blit(fond, (0,0))	
	fenetre.blit(perso, position_perso)
	#Rafraichissement
	pygame.display.flip()</code></pre><p id="r-202813" data-claire-element-id="202813">Ce code mérite une petite explication. :)</p><ul id="r-202826" data-claire-element-id="202826"><li id="r-202815" data-claire-element-id="202815"><p id="r-202814" data-claire-element-id="202814">Avant la boucle, je crée un Rect pour gérer la position de mon personnage. Et je colle le personnage à sa position initiale.</p></li><li id="r-202817" data-claire-element-id="202817"><p id="r-202816" data-claire-element-id="202816">Je lance la boucle.</p></li><li id="r-202819" data-claire-element-id="202819"><p id="r-202818" data-claire-element-id="202818">Dans la boucle, j'attend un événement &quot;flèche bas&quot;.</p></li><li id="r-202821" data-claire-element-id="202821"><p id="r-202820" data-claire-element-id="202820">Si je reçois l'événement, je déplace le Rect de 3px vers le bas.</p></li><li id="r-202823" data-claire-element-id="202823"><p id="r-202822" data-claire-element-id="202822">Toujours dans la boucle, puisque ça doit arriver à chaque fois qu'on appuie sur la flèche, je recouvre la fenêtre avec le fond, je place mon personnage à sa nouvelle position et je rafraîchis l'écran !</p></li><li id="r-202825" data-claire-element-id="202825"><p id="r-202824" data-claire-element-id="202824">J'attend un autre événement...etc...</p></li></ul><p id="r-202827" data-claire-element-id="202827">Piouf, c'était un petit peu plus long que ce qu'on avait l'habitude de voir. :p Essayez de bien comprendre ce code, pour que celui-ci soit bien clair dans votre esprit...</p><p id="r-202828" data-claire-element-id="202828">Je vous laisse le soin de coder les conditions pour les autres événements (gauche, droite, haut), et vous aurez un programme qui permet de déplacer un personnage avec les flèches du clavier ! Passionnant non ?<br/> Je peux vous dire que la première fois que j'ai réussi ça, j'étais très fier ! :lol:</p><p id="r-202829" data-claire-element-id="202829">Si vous souhaitez pouvoir effectuer le déplacement plusieurs fois en laissant la touche enfoncée, vous devez utiliser la fonction <em>pygame.key.set_repeat()</em>, qui prend en paramètres :</p><ul id="r-202834" data-claire-element-id="202834"><li id="r-202831" data-claire-element-id="202831"><p id="r-202830" data-claire-element-id="202830">Le délai avant de continuer les déplacements quand la touche reste enfoncée (en millisecondes)</p></li><li id="r-202833" data-claire-element-id="202833"><p id="r-202832" data-claire-element-id="202832">Le temps entre chaque déplacement. (en millisecondes)</p></li></ul><p id="r-202835" data-claire-element-id="202835">Placez la avant la boucle principale. :) <br/> Par exemple :</p><pre id="r-202836" data-claire-element-id="202836"><code data-claire-semantic="python">pygame.key.set_repeat(400, 30)</code></pre><p id="r-202837" data-claire-element-id="202837">Ca y est ! Vous savez déplacer les images de votre programme grâce aux événements clavier !<br/> Notre jeu peut gérer le clavier, si on passait à la souris ? :-°</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
<span class="arrow"></span>
<span class="next">Evénement de fermeture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
<span class="next">Evénements à la souris</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Evnementslasouris"></a><h2>Evénements à la souris</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
<span class="arrow"></span>
<span class="next">Evénements au clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">
<span class="next">TP - DK Labyrinthe !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-evenements-a-la-souris" data-claire-element-id="202905">Evénements à la souris</h4><h6 id="r-evenement-au-clic" data-claire-element-id="202867">Evénement au clic</h6><figure id="r-202841" data-claire-element-id="202842"><img id="r-202840" data-claire-element-id="202840" src="medias/uploads.siteduzero.com_files_256001_257000_256503.png" alt="Image utilisateur"/></figure><p id="r-202843" data-claire-element-id="202843">Les événements au clic peuvent être utiles pour créer des menus cliquables, ou encore pour coder un clone d'Age of Empire et permettre le contrôle à la souris ! :D</p><p id="r-202844" data-claire-element-id="202844">Le type d'événement crée lors d'un clic est MOUSEBUTTONDOWN, (ou MOUSEBUTTONUP au relâchement du bouton).<br/> Un événement de souris possède deux attributs : le bouton <em>(event.button)</em> et la position du clic dans la fenêtre <em>(event.pos)</em>.</p><p id="r-202845" data-claire-element-id="202845"><em>event.button</em> peut prendre les valeurs suivantes :</p><ul id="r-202856" data-claire-element-id="202856"><li id="r-202847" data-claire-element-id="202847"><p id="r-202846" data-claire-element-id="202846">1 (bouton gauche)</p></li><li id="r-202849" data-claire-element-id="202849"><p id="r-202848" data-claire-element-id="202848">2 (bouton milieu ou gauche+droite)</p></li><li id="r-202851" data-claire-element-id="202851"><p id="r-202850" data-claire-element-id="202850">3 (bouton droite)</p></li><li id="r-202853" data-claire-element-id="202853"><p id="r-202852" data-claire-element-id="202852">4 (molette haut)</p></li><li id="r-202855" data-claire-element-id="202855"><p id="r-202854" data-claire-element-id="202854">5 (molette bas)</p></li></ul><p id="r-202857" data-claire-element-id="202857"><em>event.pos</em> renvoie un tuple contenant l'abscisse et l'ordonnée à partir de l'angle haut-gauche, comme sur cette image :</p><figure id="r-202859" data-claire-element-id="202860"><img id="r-202858" data-claire-element-id="202858" src="medias/uploads.siteduzero.com_files_256001_257000_256523.png" alt="Image utilisateur"/></figure><p id="r-202861" data-claire-element-id="202861">On peut donc dire que <em>event.pos[0] = abscisse_clic</em> et <em>event.pos[1] = ordonnee_clic</em></p><p id="r-202862" data-claire-element-id="202862">Je voudrais maintenant que vous me donniez la condition permettant d'afficher &quot;Zone dangereuse&quot; lorsque l'on clique avec le bouton droit dans la bande de 100px de hauteur d'en haut. :p (j'aime les exercices aux consignes compliquées)</p><p id="r-202863" data-claire-element-id="202863">C'est bon ? Voici la correction !</p><pre id="r-202864" data-claire-element-id="202864"><code data-claire-semantic="python">if event.type == MOUSEBUTTONDOWN and event.button == 3 and event.pos[1] &lt; 100:
	print(&quot;Zone dangereuse&quot;)</code></pre><p id="r-202865" data-claire-element-id="202865">Pour délimiter la bande de 100px d'en haut, on doit dire que le message doit s'afficher si l'ordonnée du clic est inférieure à 100 ! Avec un peu de logique...</p><p id="r-202866" data-claire-element-id="202866">Vous pouvez aussi utiliser MOUSEBUTTONUP, qui peut être pratique pour éviter les clics trop rapide, et laisser l'utilisateur retirer son pointeur avant de relâcher :lol:</p><h6 id="r-evenement-au-mouvement-de-souris" data-claire-element-id="202891">Evénement au mouvement de souris</h6><figure id="r-202869" data-claire-element-id="202870"><img id="r-202868" data-claire-element-id="202868" src="medias/uploads.siteduzero.com_files_256001_257000_256507.png" alt="Image utilisateur"/></figure><p id="r-202871" data-claire-element-id="202871">L'événement au mouvement de la souris peut par exemple vous servir à créer un écran de veille qui s'éteint quand on agite la souris ! :p</p><p id="r-202872" data-claire-element-id="202872">Le type d'événement crée lors du mouvement est MOUSEMOTION. <br/> Un événement de mouvement de souris possède 3 attributs :</p><ul id="r-202879" data-claire-element-id="202879"><li id="r-202874" data-claire-element-id="202874"><p id="r-202873" data-claire-element-id="202873">la nouvelle position (<em>pos</em> (nouvelle à chaque pixel de mouvement)</p></li><li id="r-202876" data-claire-element-id="202876"><p id="r-202875" data-claire-element-id="202875">le déplacement relatif (<em>rel</em>, le nombre de pixel de déplacement depuis la dernière position)</p></li><li id="r-202878" data-claire-element-id="202878"><p id="r-202877" data-claire-element-id="202877">les boutons pressés pendant le mouvement <em>(buttons)</em></p></li></ul><p id="r-202880" data-claire-element-id="202880">Les données sont renvoyés sous forme de tuples :</p><ul id="r-202887" data-claire-element-id="202887"><li id="r-202882" data-claire-element-id="202882"><p id="r-202881" data-claire-element-id="202881">coordonnées x et y pour <em>pos</em></p></li><li id="r-202884" data-claire-element-id="202884"><p id="r-202883" data-claire-element-id="202883">coordonnées x et y pour <em>rel</em></p></li><li id="r-202886" data-claire-element-id="202886"><p id="r-202885" data-claire-element-id="202885">(gauche, milieu, droit) prenant pour valeur 0 (non pressé) ou 1 (pressé) pour <em>buttons</em></p></li></ul><p id="r-202888" data-claire-element-id="202888">Je vous propose de chercher la condition qui fermera la fenêtre lorsqu'on agite la souris en appuyant sur le bouton de gauche ! :p <br/> C'est bon ? Correction !</p><pre id="r-202889" data-claire-element-id="202889"><code data-claire-semantic="python">if event.type == MOUSEMOTION and event.buttons[0] == 1:
	continuer = 0</code></pre><p id="r-202890" data-claire-element-id="202890">Et voilà, vous connaissez tous les événements que vous pouvez récupérer à partir de la souris ! :p</p><h6 id="r-mouvements-d-images-1" data-claire-element-id="202904">Mouvements d'images</h6><p id="r-202892" data-claire-element-id="202892">Même principe que pour le clavier, on va essayer de faire bouger l'image en fonction des événements de la souris ! :)</p><p id="r-202893" data-claire-element-id="202893">J'aimerais qu'à chaque fois que l'on clique, l'image se retrouve à la position du clic ! Facile non ? <br/> Pour cet exercice, nous n'utiliserons pas les Rect, mais deux variables de position, une pour les abscisses, et l'autre pour les ordonnées :)</p><p id="r-202894" data-claire-element-id="202894">Voilà le code !</p><pre id="r-202895" data-claire-element-id="202895"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()

#Ouverture de la fenêtre Pygame
fenetre = pygame.display.set_mode((640, 480))

#Chargement et collage du fond
fond = pygame.image.load(&quot;background.jpg&quot;).convert()
fenetre.blit(fond, (0,0))

#Chargement et collage du personnage
perso = pygame.image.load(&quot;perso.png&quot;).convert_alpha()
perso_x = 0
perso_y = 0
fenetre.blit(perso, (perso_x, perso_y))

#Rafraîchissement de l'écran
pygame.display.flip()

#BOUCLE INFINIE
continuer = 1
while continuer:
	for event in pygame.event.get():	#Attente des événements
		if event.type == QUIT:
			continuer = 0
		if event.type == MOUSEBUTTONDOWN:
			if event.button == 1:	#Si clic gauche
				#On change les coordonnées du perso
				perso_x = event.pos[0]
				perso_y = event.pos[1]
	
	#Re-collage
	fenetre.blit(fond, (0,0))	
	fenetre.blit(perso, (perso_x, perso_y))
	#Rafraichissement
	pygame.display.flip()</code></pre><p id="r-202896" data-claire-element-id="202896">Et voilà ! Le personnage prend la position de chaque clic gauche ! :D</p><p id="r-202897" data-claire-element-id="202897">Je voudrais maintenant que l'image suive le curseur de la souris, et ça grâce aux événements de mouvement. Vous pourriez le faire ? :) <br/> A chaque mouvement, on met à jour les coordonnées de l'image !</p><p id="r-202898" data-claire-element-id="202898">Il suffit de remplacer la condition précédente par :</p><pre id="r-202899" data-claire-element-id="202899"><code data-claire-semantic="python">if event.type == MOUSEMOTION: #Si mouvement de souris
		#On change les coordonnées du perso
		perso_x = event.pos[0]
		perso_y = event.pos[1]</code></pre><p id="r-202900" data-claire-element-id="202900">Et voilà ! Vous connaissez maintenant toutes les possibilités de mouvements d'images grâce aux événements de la souris !</p><p id="r-202901" data-claire-element-id="202901">N'hésitez pas à pratiquer pour bien faire rentrer tout ces attributs et ces constantes dans votre tête. Ca deviendra naturel au bout de quelques essais !</p><p id="r-202902" data-claire-element-id="202902">Nous en avons fini avec les événements, j'espère que vous vous rendez compte de l'importance de ceux-ci dans tous les jeux vidéos, et des possibilités que ceux-ci vous donnent !</p><p id="r-202903" data-claire-element-id="202903">J'espère que tout cela ne vous a pas fait fuir, car maintenant, on va s'amuser un peu ! :D <br/> La prochaine partie, c'est TP (ouuuuuuuuuais !). Nous allons voir comment créer un petit jeu grâce à notre ami, le singe le plus connu du jeu vidéo, Donkey Kong ! :lol:</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
<span class="arrow"></span>
<span class="next">Evénements au clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">
<span class="next">TP - DK Labyrinthe !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TP-DKLabyrinthe"></a><h2>TP - DK Labyrinthe !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
<span class="arrow"></span>
<span class="next">Evénements à la souris</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
<span class="next">Précisions sur le jeu</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-202907" data-claire-element-id="202907">Vous avez durement travaillé durant toute cette partie, alors maintenant c'est détente, on va se faire une petite partie de DK Labyrinthe ! :p</p><p id="r-202908" data-claire-element-id="202908">Voilà le genre de jeu que vous obtiendrez à la fin de ce TP :</p><figure id="r-202910" data-claire-element-id="202911"><img id="r-202909" data-claire-element-id="202909" src="medias/uploads.siteduzero.com_files_257001_258000_257155.png" alt="Image utilisateur"/></figure><p id="r-202912" data-claire-element-id="202912">Commençons tout de suite par définir ce jeu et toutes ses fonctionnalités ! :)</p>
</div><a name="Prcisionssurlejeu"></a><h2>Précisions sur le jeu</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">
<span class="arrow"></span>
<span class="next">TP - DK Labyrinthe !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
<span class="next">Structure des différents fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-precisions-sur-le-jeu" data-claire-element-id="203023">Précisions sur le jeu</h4><figure id="r-202914" data-claire-element-id="202915"><img id="r-202913" data-claire-element-id="202913" src="medias/uploads.siteduzero.com_files_256001_257000_256943.jpg" alt="Image utilisateur"/></figure><p id="r-202916" data-claire-element-id="202916">Comme partout, nous ne pouvons nous lancer tête baissée dans un projet sans connaître le cahier des charges, la liste des fonctionnalités que devra posséder ce jeu ! :) <br/> Quelques petites précisions sont donc nécessaires avant de commencer à coder !</p><h6 id="r-but-du-jeu" data-claire-element-id="202919">But du jeu</h6><p id="r-202917" data-claire-element-id="202917">Vous l'aurez compris, le but de ce jeu est de guider Donkey Kong de la ligne de départ jusqu'à la fin du labyrinthe, et comme c'est un singe, la fin du labyrinthe est un régime de bananes ! :lol:</p><p id="r-202918" data-claire-element-id="202918">Le singe doit partir d'en haut à gauche pour arriver en bas à droite de l'écran, en ayant au moins un chemin possible. Les murs délimitent les chemins, DK peut donc seulement marcher sur le sol, même s'il est un singe... :-°</p><h6 id="r-le-deroulement-du-programme" data-claire-element-id="202928">Le déroulement du programme</h6><p id="r-202920" data-claire-element-id="202920">Lors du lancement, le jeu devra se dérouler en plusieurs étapes.</p><ul id="r-202927" data-claire-element-id="202927"><li id="r-202922" data-claire-element-id="202922"><p id="r-202921" data-claire-element-id="202921">Tout d'abord, la fenêtre devra afficher un écran d'accueil, qui invitera le joueur à choisir un niveau.</p></li><li id="r-202924" data-claire-element-id="202924"><p id="r-202923" data-claire-element-id="202923">Lorsque le choix sera fait, le jeu devra ensuite être lancé, avec la possibilité de revenir à l'écran d'accueil.</p></li><li id="r-202926" data-claire-element-id="202926"><p id="r-202925" data-claire-element-id="202925">Lorsque le labyrinthe sera terminé, on devra retrouver l'écran d'accueil, et pouvoir choisir un autre niveau.</p></li></ul><h6 id="r-les-fonctionnalites-du-programme" data-claire-element-id="202952">Les fonctionnalités du programme</h6><ul id="r-202943" data-claire-element-id="202943"><li id="r-202930" data-claire-element-id="202930"><p id="r-202929" data-claire-element-id="202929">L'utilisateur choisira le niveau en tapant sur une touche, par exemple F1, F2...</p></li><li id="r-202932" data-claire-element-id="202932"><p id="r-202931" data-claire-element-id="202931">La structure du niveau (départ, emplacement des murs, arrivée), devra être enregistrée dans un fichier <em>n1, n2</em>... pour les créer et modifier facilement.</p></li><li id="r-202934" data-claire-element-id="202934"><p id="r-202933" data-claire-element-id="202933">Le singe sera contrôlé par les touches directionnelles du clavier.</p></li><li id="r-202936" data-claire-element-id="202936"><p id="r-202935" data-claire-element-id="202935">La fenêtre sera un carré pouvant afficher 15 sprites sur la longueur.</p></li><li id="r-202938" data-claire-element-id="202938"><p id="r-202937" data-claire-element-id="202937">Le singe devra donc se déplacer de case en case, avec 15 cases sur la longueur de la fenêtre !</p></li><li id="r-202940" data-claire-element-id="202940"><p id="r-202939" data-claire-element-id="202939">L'utilisateur pourra <strong>à tout moment</strong> revenir au menu principal pour choisir un autre niveau.</p></li><li id="r-202942" data-claire-element-id="202942"><p id="r-202941" data-claire-element-id="202941">Le labyrinthe sera terminé lorsque le singe atteindra les bananes.</p></li></ul><p id="r-202944" data-claire-element-id="202944">Vous n'avez peut-être pas compris mon histoire de cases et de 15 sprites sur la longueur :-° <br/> Pour cela, voici une image !</p><figure id="r-202946" data-claire-element-id="202947"><img id="r-202945" data-claire-element-id="202945" src="medias/uploads.siteduzero.com_files_257001_258000_257163.jpg" alt="Image utilisateur"/></figure><p id="r-202948" data-claire-element-id="202948">Ici, Donkey Kong pourra se déplacer de carré en carré, uniquement horizontalement et verticalement, sans intermédiaire entre les carrés ! Comme ceci (ouaah :D ) :</p><figure id="r-202950" data-claire-element-id="202951"><img id="r-202949" data-claire-element-id="202949" src="medias/uploads.siteduzero.com_files_256001_257000_256946.gif" alt="Image utilisateur"/></figure><h6 id="r-les-fichiers-necessaires-au-programme" data-claire-element-id="203022">Les fichiers nécessaires au programme</h6><p id="r-202953" data-claire-element-id="202953">Puisque nous codons un jeu en mode graphique, nous avons besoin d'image pour le rendre un temps soit peu réaliste. :p <br/> Je vous mets à disposition ici tous les <em>sprites</em> (images) nécessaires au jeu :</p><p id="r-202954" data-claire-element-id="202954">Tout d'abord, voilà l'image qui devra s'afficher en accueil :</p><p id="r-202955" data-claire-element-id="202956"><a href="medias/blogogeek.free.fr_uploads_images_accueil.png"><img id="r-202956" data-claire-element-id="202955" src="medias/blogogeek.free.fr_uploads_images_accueil.png" alt="Image utilisateur"/></a></p><p id="r-202957" data-claire-element-id="202957">Venons en maintenant aux différentes positions de DK. En effet, quand on le déplacera vers le haut, il faudra voir son dos, vers le bas, son visage, et les deux différents côtes... Vous comprendrez mieux en image :</p><table id="r-202989" data-claire-element-id="202989"><thead id="r-202963" data-claire-element-id="202963"><tr id="r-202962" data-claire-element-id="202962"><th id="r-202959" data-claire-element-id="202959"><p id="r-202958" data-claire-element-id="202958">Image</p></th><th id="r-202961" data-claire-element-id="202961"><p id="r-202960" data-claire-element-id="202960">Position</p></th></tr></thead><tbody id="r-202988" data-claire-element-id="202988"><tr id="r-202969" data-claire-element-id="202969"><td id="r-202966" data-claire-element-id="202966"><p id="r-202964" data-claire-element-id="202965"><a href="medias/blogogeek.free.fr_uploads_images_dk_bas.png"><img id="r-202965" data-claire-element-id="202964" src="medias/blogogeek.free.fr_uploads_images_dk_bas.png" alt="Image utilisateur"/></a></p></td><td id="r-202968" data-claire-element-id="202968"><p id="r-202967" data-claire-element-id="202967">DK en déplacement vers le bas.</p></td></tr><tr id="r-202975" data-claire-element-id="202975"><td id="r-202972" data-claire-element-id="202972"><p id="r-202970" data-claire-element-id="202971"><a href="medias/blogogeek.free.fr_uploads_images_dk_haut.png"><img id="r-202971" data-claire-element-id="202970" src="medias/blogogeek.free.fr_uploads_images_dk_haut.png" alt="Image utilisateur"/></a></p></td><td id="r-202974" data-claire-element-id="202974"><p id="r-202973" data-claire-element-id="202973">DK en déplacement vers le haut.</p></td></tr><tr id="r-202981" data-claire-element-id="202981"><td id="r-202978" data-claire-element-id="202978"><p id="r-202976" data-claire-element-id="202977"><a href="medias/blogogeek.free.fr_uploads_images_dk_gauche.png"><img id="r-202977" data-claire-element-id="202976" src="medias/blogogeek.free.fr_uploads_images_dk_gauche.png" alt="Image utilisateur"/></a></p></td><td id="r-202980" data-claire-element-id="202980"><p id="r-202979" data-claire-element-id="202979">DK en déplacement vers la gauche.</p></td></tr><tr id="r-202987" data-claire-element-id="202987"><td id="r-202984" data-claire-element-id="202984"><p id="r-202982" data-claire-element-id="202983"><a href="medias/blogogeek.free.fr_uploads_images_dk_droite.png"><img id="r-202983" data-claire-element-id="202982" src="medias/blogogeek.free.fr_uploads_images_dk_droite.png" alt="Image utilisateur"/></a></p></td><td id="r-202986" data-claire-element-id="202986"><p id="r-202985" data-claire-element-id="202985">DK en déplacement vers la droite.</p></td></tr></tbody></table><p id="r-202990" data-claire-element-id="202990">C'est compris ? L'image de DK devra donc changer lors d'un changement de direction ! :)</p><p id="r-202991" data-claire-element-id="202991">Voilà maintenant les sprites pour le départ, l'arrivée et les murs :</p><table id="r-203017" data-claire-element-id="203017"><thead id="r-202997" data-claire-element-id="202997"><tr id="r-202996" data-claire-element-id="202996"><th id="r-202993" data-claire-element-id="202993"><p id="r-202992" data-claire-element-id="202992">Image</p></th><th id="r-202995" data-claire-element-id="202995"><p id="r-202994" data-claire-element-id="202994">Fonction</p></th></tr></thead><tbody id="r-203016" data-claire-element-id="203016"><tr id="r-203003" data-claire-element-id="203003"><td id="r-203000" data-claire-element-id="203000"><p id="r-202998" data-claire-element-id="202999"><a href="medias/blogogeek.free.fr_uploads_images_depart.png"><img id="r-202999" data-claire-element-id="202998" src="medias/blogogeek.free.fr_uploads_images_depart.png" alt="Image utilisateur"/></a></p></td><td id="r-203002" data-claire-element-id="203002"><p id="r-203001" data-claire-element-id="203001">Devra se trouver en haut à gauche pour annoncer le départ.</p></td></tr><tr id="r-203009" data-claire-element-id="203009"><td id="r-203006" data-claire-element-id="203006"><p id="r-203004" data-claire-element-id="203005"><a href="medias/blogogeek.free.fr_uploads_images_arrivee.png"><img id="r-203005" data-claire-element-id="203004" src="medias/blogogeek.free.fr_uploads_images_arrivee.png" alt="Image utilisateur"/></a></p></td><td id="r-203008" data-claire-element-id="203008"><p id="r-203007" data-claire-element-id="203007">Le but ultime de DK, l'arrivée, en bas à droite de l'écran.</p></td></tr><tr id="r-203015" data-claire-element-id="203015"><td id="r-203012" data-claire-element-id="203012"><p id="r-203010" data-claire-element-id="203011"><a href="medias/blogogeek.free.fr_uploads_images_mur.png"><img id="r-203011" data-claire-element-id="203010" src="medias/blogogeek.free.fr_uploads_images_mur.png" alt="Image utilisateur"/></a></p></td><td id="r-203014" data-claire-element-id="203014"><p id="r-203013" data-claire-element-id="203013">L'ennemi de DK, le mur ! :diable:</p></td></tr></tbody></table><p id="r-203018" data-claire-element-id="203018">Et enfin, le fond du jeu, qui se trouvera derrière le singe et tous les autres sprites !</p><p id="r-203019" data-claire-element-id="203020"><a href="medias/blogogeek.free.fr_uploads_images_fond.jpg"><img id="r-203020" data-claire-element-id="203019" src="medias/blogogeek.free.fr_uploads_images_fond.jpg" alt="Image utilisateur"/></a></p><p id="r-203021" data-claire-element-id="203021">Enregistrez toutes ces images sur votre disque, dans le répertoire de votre script ! Et vous disposerez de toutes les images nécessaires au jeu attendu !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">
<span class="arrow"></span>
<span class="next">TP - DK Labyrinthe !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
<span class="next">Structure des différents fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Structuredesdiffrentsfichiers"></a><h2>Structure des différents fichiers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
<span class="arrow"></span>
<span class="next">Précisions sur le jeu</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
<span class="next">Correction !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-structure-des-differents-fichiers" data-claire-element-id="203080">Structure des différents fichiers</h4><p id="r-203024" data-claire-element-id="203024">Pour programmer ce jeu, je vous conseille de créer trois fichiers de script :</p><ul id="r-203033" data-claire-element-id="203033"><li id="r-203026" data-claire-element-id="203026"><p id="r-203025" data-claire-element-id="203025"><strong>dklabyrinthe.py</strong> : il contiendra la structure principale de votre programme.</p></li><li id="r-203028" data-claire-element-id="203028"><p id="r-203027" data-claire-element-id="203027"><strong>classes.py</strong> : il contiendra les classes que vous aurez créées pour le jeu.</p></li><li id="r-203030" data-claire-element-id="203030"><p id="r-203029" data-claire-element-id="203029"><strong>constantes.py</strong> : il contiendra les constantes de votre jeu (taille de la fenêtre, adresse des images...) pour des futures modifications plus rapides...</p></li><li id="r-203032" data-claire-element-id="203032"><p id="r-203031" data-claire-element-id="203031">Facultatif : fonctions.py, je n'en ai pas créé, mais il se peut que vous créiez des fonctions si vous ne passez pas par les méthodes de classes... :)</p></li></ul><h6 id="r-dklabyrinthe-py-structure-principale" data-claire-element-id="203047">dklabyrinthe.py : structure principale</h6><p id="r-203034" data-claire-element-id="203034">Nous allons voir ensemble ce que devra contenir ce fichier. :)</p><p id="r-203035" data-claire-element-id="203035">Tout d'abord, il contiendra une petite description de votre programme : son nom, votre nom si vous le voulez, le jeu, et les fichiers nécessaires au fonctionnement :</p><pre id="r-203036" data-claire-element-id="203036"><code data-claire-semantic="python">&quot;&quot;&quot;
Jeu Donkey Kong Labyrinthe
Jeu dans lequel on doit déplacer DK jusqu'aux bananes à travers un labyrinthe.

Script Python
Fichiers : dklabyrinthe.py, classes.py, constantes.py, n1, n2 + images
&quot;&quot;&quot;</code></pre><p id="r-203037" data-claire-element-id="203037">Ensuite, il devra contenir l'initialisation de Pygame, ainsi que l'ouverture d'une fenêtre, que l'on peut nommer. Vous pouvez aussi ajouter une icone ainsi :</p><pre id="r-203038" data-claire-element-id="203038"><code data-claire-semantic="python">pygame.init()

#Ouverture de la fenêtre Pygame (carré : largeur = hauteur)
fenetre = pygame.display.set_mode((cote_fenetre, cote_fenetre))
#Icone
icone = pygame.image.load(image_icone)
pygame.display.set_icon(icone)
#Titre
pygame.display.set_caption(titre_fenetre)</code></pre><p id="r-203039" data-claire-element-id="203039">Les variables sont contenues dans le fichier <em>constantes.py</em> ;) <br/> N'oubliez pas aussi d'importer tous les fichiers nécessaires ! <em>(pygame, pygame.locals, classes, constantes)</em></p><p id="r-203040" data-claire-element-id="203040">Vous pouvez ensuite lancer la boucle principale ! :D <br/> Nous avons vu que le programme devait afficher le menu, puis le jeu, puis encore le menu, puis encore le jeu, etc...<br/> Le meilleur moyen de faire cela est de placer les boucles dans les boucles ! :D</p><p id="r-203041" data-claire-element-id="203041">Exemple :</p><pre id="r-203042" data-claire-element-id="203042"><code>BOUCLE PRINCIPALE:
     BOUCLE DE MENU:
          fin de la boucle de menu
     BOUCLE DE JEU:
          fin de la boucle de jeu</code></pre><p id="r-203043" data-claire-element-id="203043">C'est compris ? :) Tant qu'on est au menu, on y reste, puis on file vers le jeu. Quand on a fini le jeu, on revient au menu ! :D Ca ne devrait pas être trop compliquer à coder !</p><p id="r-203044" data-claire-element-id="203044">Je vous conseille de limiter la vitesse de vos boucles, c'est à dire le nombre de fois qu'elles sont effectuées par seconde, pour ne pas surcharger votre processeur, grâce à cette fonction :</p><pre id="r-203045" data-claire-element-id="203045"><code data-claire-semantic="python">#Limitation de vitesse de la boucle
#30 frames par secondes suffisent
pygame.time.Clock().tick(30)</code></pre><p id="r-203046" data-claire-element-id="203046">Vous n'avez qu'à la placer à la première ligne vos boucles d'accueil et de jeu pour limiter leur vitesse ! :) Nous verrons les moyens de gérer le temps avec Pygame dans la prochaine partie, pour l'instant faites moi confiance ! :)</p><h6 id="r-classes-py" data-claire-element-id="203075">classes.py</h6><p id="r-203048" data-claire-element-id="203048">Ce fichier sera différent selon votre inspiration, mais sachez que j'ai créé deux classes dans celui-ci :</p><ul id="r-203053" data-claire-element-id="203053"><li id="r-203050" data-claire-element-id="203050"><p id="r-203049" data-claire-element-id="203049"><strong>Niveau</strong> : avec deux méthodes, une qui génère un niveau à partir d'un fichier dans un attribut <em>structure</em>, l'autre qui l'affiche à l'écran.</p></li><li id="r-203052" data-claire-element-id="203052"><p id="r-203051" data-claire-element-id="203051"><strong>Perso</strong> : qui créé un personnage, avec une position, une image pour chaque coté, une image actuelle (direction actuelle), une position en case, une position en pixels...<br/> Elle contient une seule méthode, celle de déplacement.<br/> Elle récupère aussi la structure du niveau, pour connaître le type de chaque case, et empêcher le déplacement si c'est un mur.</p></li></ul><p id="r-203054" data-claire-element-id="203054">Avant la boucle de jeu, vous devez générer le niveau à partir d'un fichier.<br/> Vous pouvez créer des fichiers de niveau de n'importe quelle forme, tant que vous arriver à les lire avec votre code.<br/> Moi j'ai choisi de représenter chaque sprite par un caractère, et de les ranger par lignes.</p><p id="r-203055" data-claire-element-id="203055">Je vous laisse voir un de mes fichier de niveau pour que vous compreniez mieux :)</p><pre id="r-203056" data-claire-element-id="203056"><code data-claire-semantic="xml">d00mmmmm0m00mmm
0m00000m0mm0m00
00mm0m000m0000m
m000mmmm000mmmm
000m00000mmm00m
mm0mmmm0mm000mm
000mmm0000mmmmm
0m000mm0m0mm00m
0mm0m000m000mmm
mmm00mmmm0mmmmm
mmm0mm0m00mm00m
m000m00m0mm00mm
00mm00m00000mmm
mmmmm0mm0mm0mmm
m0000mmm00m000a</code></pre><p id="r-203057" data-claire-element-id="203057">d = sprite de départ<br/> a = sprite d'arrivée<br/> m = sprite de mur<br/> 0 = rien :)</p><p id="r-203058" data-claire-element-id="203058">Vous pouvez voir que les sprites sont rangés par 15 sur 15 lignes, une ligne de texte par ligne de sprites à l'écran ! :p <br/> On pourrait presque trouver le chemin en mode texte en suivant les 0 :lol:</p><p id="r-203059" data-claire-element-id="203059">Bien sur, ce n'est pas la seule possibilité, et on peut sans aucun doute trouver mieux, surtout au niveau de la lisibilité ! :p</p><p id="r-203060" data-claire-element-id="203060">Vous pouvez parcourir les lignes d'un fichier avec :</p><pre id="r-203061" data-claire-element-id="203061"><code data-claire-semantic="python">with open(fichier, &quot;r&quot;) as fichier:
	for ligne in fichier:</code></pre><p id="r-203062" data-claire-element-id="203062">Puis les caractères dans une ligne de la même façon !</p><p id="r-203063" data-claire-element-id="203063">Je vous conseille de ranger les caractères dans une liste, qui symbolisera une ligne, et de ranger toutes les lignes (/listes), dans une autre liste, qui symbolisera la structure entière du niveau !<br/> Vous aurez ainsi quelque chose comme ça :</p><pre id="r-203064" data-claire-element-id="203064"><code>LISTE DE NIVEAU
     LISTE DE LA LIGNE 1
          SPRITE 1 , SPRITE 2 ...
     LISTE DE LA LIGNE 2
          SPRITE 1 , SPRITE 2 ...</code></pre><p id="r-203065" data-claire-element-id="203065">Cela permettra d'accéder facilement à une case, et de regarder ce qu'il y a à l'intérieur par exemple !</p><pre id="r-203066" data-claire-element-id="203066"><code data-claire-semantic="python">liste_niveau[0][0] #1er sprite de la première ligne (normalement égal à &quot;d&quot;)
liste_niveau[3][4] #5e sprite de la 4e ligne
liste_niveau[14][14] #Dernier sprite de la dernière ligne (normalement égal à &quot;a&quot;)</code></pre><aside id="r-203068" data-claire-element-id="203068" data-claire-semantic="warning"><p id="r-203067" data-claire-element-id="203067">N'oubliez pas d'ignorer les &quot; &quot; présents à la fin de chaque ligne !</p></aside><p id="r-203069" data-claire-element-id="203069">Une fois que vous avez votre liste de structure, il ne vous reste plus qu'à la parcourir pour l'afficher ! <br/> Attention, vous devez faire un double parcours ! Vous parcourez la liste globale, qui vous sort les lignes, que vous parcourez elles aussi, pour obtenir chaque sprite !<br/> En indentant deux nombres différents, vous devez pouvoir savoir sur quelle ligne et quelle colonne vous êtes. :) <br/> Et il ne vous reste plus qu'à trouver la position &quot;réelle&quot; (en pixels, pas en cases) de chaque sprite ! :)</p><pre id="r-203070" data-claire-element-id="203070"><code data-claire-semantic="python">position_x = num_case_x * taille sprite
position_y = num_case_y * taille_sprite</code></pre><p id="r-203071" data-claire-element-id="203071">C'est compris ? :) Ce système était peut-être le plus compliqué du jeu !</p><p id="r-203072" data-claire-element-id="203072">Et une fois que vous pouvez vérifier la nature de chaque case, il est facile d'interdire le déplacement si celle-ci est un mur ! :p</p><aside id="r-203074" data-claire-element-id="203074" data-claire-semantic="information"><p id="r-203073" data-claire-element-id="203073">N'oubliez pas de comparer le numéro de la case d'arrivée avec celle du personnage, si ce sont les mêmes, gagnééé ! :p</p></aside><h6 id="r-constantes-py" data-claire-element-id="203077">constantes.py</h6><p id="r-203076" data-claire-element-id="203076">Mon fichier constante contient les adresses des images, pour une modification plus facile, le titre de la fenêtre, son icône, le nombre de sprites sur une largeur, la taille des sprites, et donc la taille de la fenêtre (multiplie les deux dernières constantes).<br/> Vous pouvez arranger le votre comme bon vous semble, je vous donne seulement le mien à titre d'exemple ! :D</p><h6 id="r-c-est-parti-2" data-claire-element-id="203079">C'est parti !</h6><p id="r-203078" data-claire-element-id="203078">Maintenant, vous devez posséder toutes les clés pour pouvoir créer ce programme ! :D <br/> N'hésitez pas à y passer du temps, j'y ai moi même passé quelques heures ! Bonne chance !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
<span class="arrow"></span>
<span class="next">Précisions sur le jeu</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
<span class="next">Correction !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
<span class="arrow"></span>
<span class="next">Structure des différents fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">
<span class="next">Le son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-76" data-claire-element-id="203153">Correction !</h4><p id="r-203081" data-claire-element-id="203081">Voici donc la correction ! :diable: <br/> Vous pouvez ne pas avoir codé exactement le même programme que moi, l'important, c'est qu'il soit fonctionnel et qu'il respecte le cahier des charges ! :) <br/> Le mien n'est certainement pas le meilleur qui soit, mais j'ai essayé de faire le plus clair possible, pour que vous compreniez une méthode qui marche !</p><p id="r-203082" data-claire-element-id="203082">Si vous ne parvenez pas à coder votre programme, ne regardez pas tout de suite la correction, c'est en codant et en réfléchissant (ou l'inverse ? :-° ) que l'on apprend ! Ne l'oubliez pas ! :)</p><p id="r-203083" data-claire-element-id="203083">Sachez qu'après le tutoriel sur Python, ainsi que la première partie de celui-ci, vous avez tous les éléments pour créer ce jeu ! N'hésitez donc pas à relire ces tutoriels si vous êtes coincé quelque part ! :)</p><p id="r-203084" data-claire-element-id="203084">Allez, voici mes pages :</p><h6 id="r-dklabyrinthe-py" data-claire-element-id="203087">dklabyrinthe.py</h6><div id="r-203086" data-claire-element-id="203086"><pre id="r-203085" data-claire-element-id="203085"><code data-claire-semantic="python">#!/usr/bin/python3
# -*- coding: Utf-8 -*

&quot;&quot;&quot;
Jeu Donkey Kong Labyrinthe
Jeu dans lequel on doit déplacer DK jusqu'aux bananes à travers un labyrinthe.

Script Python
Fichiers : dklabyrinthe.py, classes.py, constantes.py, n1, n2 + images
&quot;&quot;&quot;

import pygame
from pygame.locals import *

from classes import *
from constantes import *

pygame.init()

#Ouverture de la fenêtre Pygame (carré : largeur = hauteur)
fenetre = pygame.display.set_mode((cote_fenetre, cote_fenetre))
#Icone
icone = pygame.image.load(image_icone)
pygame.display.set_icon(icone)
#Titre
pygame.display.set_caption(titre_fenetre)


#BOUCLE PRINCIPALE
continuer = 1
while continuer:	
	#Chargement et affichage de l'écran d'accueil
	accueil = pygame.image.load(image_accueil).convert()
	fenetre.blit(accueil, (0,0))

	#Rafraichissement
	pygame.display.flip()

	#On remet ces variables à 1 à chaque tour de boucle
	continuer_jeu = 1
	continuer_accueil = 1

	#BOUCLE D'ACCUEIL
	while continuer_accueil:
	
		#Limitation de vitesse de la boucle
		pygame.time.Clock().tick(30)
	
		for event in pygame.event.get():
		
			#Si l'utilisateur quitte, on met les variables 
			#de boucle à 0 pour n'en parcourir aucune et fermer
			if event.type == QUIT or event.type == KEYDOWN and event.key == K_ESCAPE:
				continuer_accueil = 0
				continuer_jeu = 0
				continuer = 0
				#Variable de choix du niveau
				choix = 0
				
			elif event.type == KEYDOWN:				
				#Lancement du niveau 1
				if event.key == K_F1:
					continuer_accueil = 0	#On quitte l'accueil
					choix = 'n1'		#On définit le niveau à charger
				#Lancement du niveau 2
				elif event.key == K_F2:
					continuer_accueil = 0
					choix = 'n2'
			
		

	#on vérifie que le joueur a bien fait un choix de niveau
	#pour ne pas charger s'il quitte
	if choix != 0:
		#Chargement du fond
		fond = pygame.image.load(image_fond).convert()

		#Génération d'un niveau à partir d'un fichier
		niveau = Niveau(choix)
		niveau.generer()
		niveau.afficher(fenetre)

		#Création de Donkey Kong
		dk = Perso(&quot;images/dk_droite.png&quot;, &quot;images/dk_gauche.png&quot;, 
		&quot;images/dk_haut.png&quot;, &quot;images/dk_bas.png&quot;, niveau)

				
	#BOUCLE DE JEU
	while continuer_jeu:
	
		#Limitation de vitesse de la boucle
		pygame.time.Clock().tick(30)
	
		for event in pygame.event.get():
		
			#Si l'utilisateur quitte, on met la variable qui continue le jeu
			#ET la variable générale à 0 pour fermer la fenêtre
			if event.type == QUIT:
				continuer_jeu = 0
				continuer = 0
		
			elif event.type == KEYDOWN:
				#Si l'utilisateur presse Echap ici, on revient seulement au menu
				if event.key == K_ESCAPE:
					continuer_jeu = 0
					
				#Touches de déplacement de Donkey Kong
				elif event.key == K_RIGHT:
					dk.deplacer('droite')
				elif event.key == K_LEFT:
					dk.deplacer('gauche')
				elif event.key == K_UP:
					dk.deplacer('haut')
				elif event.key == K_DOWN:
					dk.deplacer('bas')			
			
		#Affichages aux nouvelles positions
		fenetre.blit(fond, (0,0))
		niveau.afficher(fenetre)
		fenetre.blit(dk.direction, (dk.x, dk.y)) #dk.direction = l'image dans la bonne direction
		pygame.display.flip()

		#Victoire -&gt; Retour à l'accueil
		if niveau.structure[dk.case_y][dk.case_x] == 'a':
			continuer_jeu = 0</code></pre></div><h6 id="r-classes-py-1" data-claire-element-id="203090">classes.py</h6><div id="r-203089" data-claire-element-id="203089"><pre id="r-203088" data-claire-element-id="203088"><code data-claire-semantic="python">&quot;&quot;&quot;Classes du jeu de Labyrinthe Donkey Kong&quot;&quot;&quot;

import pygame
from pygame.locals import * 
from constantes import *

class Niveau:
	&quot;&quot;&quot;Classe permettant de créer un niveau&quot;&quot;&quot;
	def __init__(self, fichier):
		self.fichier = fichier
		self.structure = 0
	
	
	def generer(self):
		&quot;&quot;&quot;Méthode permettant de générer le niveau en fonction du fichier.
		On crée une liste générale, contenant une liste par ligne à afficher&quot;&quot;&quot;	
		#On ouvre le fichier
		with open(self.fichier, &quot;r&quot;) as fichier:
			structure_niveau = []
			#On parcourt les lignes du fichier
			for ligne in fichier:
				ligne_niveau = []
				#On parcourt les sprites (lettres) contenus dans le fichier
				for sprite in ligne:
					#On ignore les &quot;\n&quot; de fin de ligne
					if sprite != '\n':
						#On ajoute le sprite à la liste de la ligne
						ligne_niveau.append(sprite)
				#On ajoute la ligne à la liste du niveau
				structure_niveau.append(ligne_niveau)
			#On sauvegarde cette structure
			self.structure = structure_niveau
	
	
	def afficher(self, fenetre):
		&quot;&quot;&quot;Méthode permettant d'afficher le niveau en fonction 
		de la liste de structure renvoyée par generer()&quot;&quot;&quot;
		#Chargement des images (seule celle d'arrivée contient de la transparence)
		mur = pygame.image.load(image_mur).convert()
		depart = pygame.image.load(image_depart).convert()
		arrivee = pygame.image.load(image_arrivee).convert_alpha()
		
		#On parcourt la liste du niveau
		num_ligne = 0
		for ligne in self.structure:
			#On parcourt les listes de lignes
			num_case = 0
			for sprite in ligne:
				#On calcule la position réelle en pixels
				x = num_case * taille_sprite
				y = num_ligne * taille_sprite
				if sprite == 'm':		   #m = Mur
					fenetre.blit(mur, (x,y))
				elif sprite == 'd':		   #d = Départ
					fenetre.blit(depart, (x,y))
				elif sprite == 'a':		   #a = Arrivée
					fenetre.blit(arrivee, (x,y))
				num_case += 1
			num_ligne += 1
			
			
			
			
class Perso:
	&quot;&quot;&quot;Classe permettant de créer un personnage&quot;&quot;&quot;
	def __init__(self, droite, gauche, haut, bas, niveau):
		#Sprites du personnage
		self.droite = pygame.image.load(droite).convert_alpha()
		self.gauche = pygame.image.load(gauche).convert_alpha()
		self.haut = pygame.image.load(haut).convert_alpha()
		self.bas = pygame.image.load(bas).convert_alpha()
		#Position du personnage en cases et en pixels
		self.case_x = 0
		self.case_y = 0
		self.x = 0
		self.y = 0
		#Direction par défaut
		self.direction = self.droite
		#Niveau dans lequel le personnage se trouve 
		self.niveau = niveau
	
	
	def deplacer(self, direction):
		&quot;&quot;&quot;Methode permettant de déplacer le personnage&quot;&quot;&quot;
		
		#Déplacement vers la droite
		if direction == 'droite':
			#Pour ne pas dépasser l'écran
			if self.case_x &lt; (nombre_sprite_cote - 1):
				#On vérifie que la case de destination n'est pas un mur
				if self.niveau.structure[self.case_y][self.case_x+1] != 'm':
					#Déplacement d'une case
					self.case_x += 1
					#Calcul de la position &quot;réelle&quot; en pixel
					self.x = self.case_x * taille_sprite
			#Image dans la bonne direction
			self.direction = self.droite
		
		#Déplacement vers la gauche
		if direction == 'gauche':
			if self.case_x &gt; 0:
				if self.niveau.structure[self.case_y][self.case_x-1] != 'm':
					self.case_x -= 1
					self.x = self.case_x * taille_sprite
			self.direction = self.gauche
		
		#Déplacement vers le haut
		if direction == 'haut':
			if self.case_y &gt; 0:
				if self.niveau.structure[self.case_y-1][self.case_x] != 'm':
					self.case_y -= 1
					self.y = self.case_y * taille_sprite
			self.direction = self.haut
		
		#Déplacement vers le bas
		if direction == 'bas':
			if self.case_y &lt; (nombre_sprite_cote - 1):
				if self.niveau.structure[self.case_y+1][self.case_x] != 'm':
					self.case_y += 1
					self.y = self.case_y * taille_sprite
			self.direction = self.bas</code></pre></div><h6 id="r-constantes-py-1" data-claire-element-id="203094">constantes.py</h6><div id="r-203092" data-claire-element-id="203092"><pre id="r-203091" data-claire-element-id="203091"><code data-claire-semantic="python">&quot;&quot;&quot;Constantes du jeu de Labyrinthe Donkey Kong&quot;&quot;&quot;

#Paramètres de la fenêtre
nombre_sprite_cote = 15
taille_sprite = 30
cote_fenetre = nombre_sprite_cote * taille_sprite

#Personnalisation de la fenêtre
titre_fenetre = &quot;DK Labyrinthe&quot;
image_icone = &quot;images/dk_droite.png&quot;

#Listes des images du jeu
image_accueil = &quot;images/accueil.png&quot;
image_fond = &quot;images/fond.jpg&quot;
image_mur = &quot;images/mur.png&quot;
image_depart = &quot;images/depart.png&quot;
image_arrivee = &quot;images/arrivee.png&quot;</code></pre></div><p id="r-203093" data-claire-element-id="203093">Je vous mets aussi mes deux fichiers de niveau, allez :p :</p><h6 id="r-n1" data-claire-element-id="203097">n1</h6><div id="r-203096" data-claire-element-id="203096"><p id="r-203095" data-claire-element-id="203095">d00mmmmm0m00mmm<br/> 0m00000m0mm0m00<br/> 00mm0m000m0000m<br/> m000mmmm000mmmm<br/> 000m00000mmm00m<br/> mm0mmmm0mm000mm<br/> 000mmm0000mmmmm<br/> 0m000mm0m0mm00m<br/> 0mm0m000m000mmm<br/> mmm00mmmm0mmmmm<br/> mmm0mm0m00mm00m<br/> m000m00m0mm00mm<br/> 00mm00m00000mmm<br/> mmmmm0mm0mm0mmm<br/> m0000mmm00m000a</p></div><h6 id="r-n2" data-claire-element-id="203101">n2</h6><div id="r-203099" data-claire-element-id="203099"><p id="r-203098" data-claire-element-id="203098">d000m0m0mmm0mmm<br/> 0mm000m00000000<br/> 00m0mm00mm0m0m0<br/> 0m00000mmm0m0m0<br/> 00mmmm0mm0m000m<br/> m000mm00m0mmm00<br/> m0m0mmmm00000mm<br/> m0m0m0000mmm0m0<br/> 000mm0mm0m000m0<br/> m0mm00000m0mmm0<br/> m000mmmm0m0000m<br/> mmm0m0000mmm000<br/> m000m0mmmmmm00m<br/> m0mmm0m00000000<br/> m00000mmm0mmmma</p></div><p id="r-203100" data-claire-element-id="203100">Et voilà ! :D Vous pouvez télécharger le fichier .zip contenant tous les fichiers du programme ici :</p><h6 id="r-dk-labyrinthe-jeu-complet" data-claire-element-id="203152"><a href="http://blogogeek.free.fr/uploads/documents/Dk_Labyrinthe.zip"><img id="r-203151" data-claire-element-id="203150" src="medias/blogogeek.free.fr_uploads_images_dk_droite.png" alt="Image utilisateur"/>DK Labyrinthe - Jeu Complet<img id="r-203152" data-claire-element-id="203151" src="medias/uploads.siteduzero.com_files_257001_258000_257166.png" alt="Image utilisateur"/></a></h6><p id="r-203102" data-claire-element-id="203102">Malgré mes commentaires très fréquents, ce script mérite surement quelques explications !</p><p id="r-203103" data-claire-element-id="203103">Voyons tout d'abord le fichier <em>dklabyrinthe.py</em> :</p><ul id="r-203126" data-claire-element-id="203126"><li id="r-203105" data-claire-element-id="203105"><p id="r-203104" data-claire-element-id="203104">Documentation sur le programme</p></li><li id="r-203107" data-claire-element-id="203107"><p id="r-203106" data-claire-element-id="203106">Importation des fichiers nécessaires au script (pygame + mes propres modules)</p></li><li id="r-203109" data-claire-element-id="203109"><p id="r-203108" data-claire-element-id="203108">Initialisation de Pygame et ouverture de la fenêtre</p></li><li id="r-203111" data-claire-element-id="203111"><p id="r-203110" data-claire-element-id="203110"><strong>Boucle principale :</strong> c'est la boucle du programme, tant qu'elle tourne, le programme est en marche.</p></li><li id="r-203113" data-claire-element-id="203113"><p id="r-203112" data-claire-element-id="203112">Au début de celle-ci, on affiche l'écran d'accueil.</p></li><li id="r-203115" data-claire-element-id="203115"><p id="r-203114" data-claire-element-id="203114"><strong>Boucle d'accueil :</strong> tant qu'elle tourne, l'écran d'accueil est visible.</p></li><li id="r-203117" data-claire-element-id="203117"><p id="r-203116" data-claire-element-id="203116">Quand l'utilisateur passe l'accueil, on ferme la boucle d'accueil.</p></li><li id="r-203119" data-claire-element-id="203119"><p id="r-203118" data-claire-element-id="203118">On charge le niveau, le personnage (grâce à des classes) et les images.</p></li><li id="r-203121" data-claire-element-id="203121"><p id="r-203120" data-claire-element-id="203120"><strong>Boucle de jeu :</strong> tant qu'elle tourne, l'utilisateur joue et déplace DK.</p></li><li id="r-203123" data-claire-element-id="203123"><p id="r-203122" data-claire-element-id="203122">On met à jour l'écran avec les nouvelles positions à chaque tour de boucle (le niveau est affiché grâce à une méthode de la classe <em>Niveau</em>)</p></li><li id="r-203125" data-claire-element-id="203125"><p id="r-203124" data-claire-element-id="203124">A chaque tour de boucle, on vérifie que le joueur n'a pas gagné. Si c'est le cas, on le renvoit à l'écran d'accueil.</p></li></ul><p id="r-203127" data-claire-element-id="203127">Voyons maintenant le fichier <em>classes.py</em> :</p><ul id="r-203146" data-claire-element-id="203146"><li id="r-203129" data-claire-element-id="203129"><p id="r-203128" data-claire-element-id="203128">Documentation sur le fichier.</p></li><li id="r-203131" data-claire-element-id="203131"><p id="r-203130" data-claire-element-id="203130">Importation des fichiers nécessaires. (pygame et constantes.py)</p></li><li id="r-203133" data-claire-element-id="203133"><p id="r-203132" data-claire-element-id="203132"><strong>Classe <em>Niveau</em></strong>. Elle prend en paramètre le chemin vers le fichier de niveau à lire.</p></li><li id="r-203135" data-claire-element-id="203135"><p id="r-203134" data-claire-element-id="203134">Cette classe possède deux méthodes. Une qui ouvre le fichier, le lit et enregistre son contenu dans une liste, copiée dans l'attribut <em>structure</em>. L'autre lit cette liste et affiche son contenu à l'écran, elle doit donc être appelée à chaque fois qu'on rafraîchit l'écran ! :)</p></li><li id="r-203137" data-claire-element-id="203137"><p id="r-203136" data-claire-element-id="203136"><strong>Classe <em>Perso</em></strong>. Elle prend en paramètre les images des 4 positions du personnage, ainsi que la liste de structure du niveau.</p></li><li id="r-203139" data-claire-element-id="203139"><p id="r-203138" data-claire-element-id="203138">Cette classe possède une seule méthode, qui s'occupe du déplacement de DK, qu'on appelle donc à chaque déplacement, avec en paramètre la direction de celui-ci. ('droite', 'gauche', 'haut', 'bas')</p></li><li id="r-203141" data-claire-element-id="203141"><p id="r-203140" data-claire-element-id="203140">Elle vérifie qu'on ne sort pas de l'écran. (On enlève 1 à la constante <em>nombre_sprite_cote</em> car la case de DK est elle comptée à partir de 0 ;) )</p></li><li id="r-203143" data-claire-element-id="203143"><p id="r-203142" data-claire-element-id="203142">Elle vérifie que la case de destination est libre en lisant la liste de structure.</p></li><li id="r-203145" data-claire-element-id="203145"><p id="r-203144" data-claire-element-id="203144">Elle déplace DK d'une case et change sa position réelle en pixel. L'attribut de direction prend la valeur de la direction du déplacement.</p></li></ul><p id="r-203147" data-claire-element-id="203147">Ca y est ! Vous pouvez montrer votre premier jeu graphique en Python à toute votre famille ! :lol:</p><p id="r-203148" data-claire-element-id="203148">C'en est fini avec les bases de Pygame, dans la suite de ce tutoriel, nous nous attaquerons à une utilisation un peu plus avancée de cette bibliothèque, comme l'utilisation du son, la maîtrise du temps ou encore des transformations d'images ! <br/> Autant vous dire que les possibilités de Pygame ne s'arrêtent pas là, même si vous possédez maintenant assez d'informations pour pouvoir coder des jeux sympas ! :)</p><p id="r-203149" data-claire-element-id="203149">Alors ? Content ? :p <br/> A la fin de cette partie, vous pouvez dire que vous avez fait un grand pas dans l'utilisation de Pygame, et dans la création de jeux vidéos ! Avec ces bases, vous avez dans vos mains de grandes possibilités, mais il faut savoir que Pygame ne s'arrête pas là !<br/> Dans la prochaine partie vous pourrez découvrir d'autres fonctionnalités de Pygame, et ainsi grandement améliorer vos jeux ! :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
<span class="arrow"></span>
<span class="next">Structure des différents fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">
<span class="next">Le son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leson"></a><h2>Le son</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
<span class="arrow"></span>
<span class="next">Correction !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
<span class="next">Le module Mixer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-203157" data-claire-element-id="203157">Votre jeu est bien beau, mais vous aimeriez bien animer un peu tout ça au niveau sonore ?<br/> C'est ce que je vous propose de faire maintenant ! :D</p><p id="r-203158" data-claire-element-id="203158">Avant de se lancer dans la gestion du son, il faut savoir que Pygame dispose de deux modules séparés permettant de jouer des sons : le module <em>Mixer</em> et le module <em>Music</em> (qui est en fait un sous-module de Mixer).</p><p id="r-203159" data-claire-element-id="203159">Mixer est le module général utilisé pour la gestion des sons avec Pygame.<br/> Music est un module particulièrement adapté pour la gestion des musiques (gros fichiers), car il possède des fonctionnalités différentes, comme le streaming (le chargement au fur et à mesure du fichier audio), qui permet de lancer la musique avant la fin de son chargement, pratique ! :p</p><p id="r-203160" data-claire-element-id="203160">Nous allons tout d'abord voir comment utiliser le module <em>Mixer</em>, puis comment utiliser <em>Music</em>... :)</p>
</div><a name="LemoduleMixer"></a><h2>Le module Mixer</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">
<span class="arrow"></span>
<span class="next">Le son</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
<span class="next">Le module Music</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-module-mixer" data-claire-element-id="203187">Le module Mixer</h4><figure id="r-203162" data-claire-element-id="203163"><img id="r-203161" data-claire-element-id="203161" src="medias/uploads.siteduzero.com_files_270001_271000_270597.png" alt="Image utilisateur"/></figure><p id="r-203164" data-claire-element-id="203164">Comme dit précédemment, le module Mixer permet de jouer des sons, par exemple les bruitages d'un jeu vidéo ! :) <br/> Quand Mario saute et attrape une pièce, c'est un son bref qui est joué. Le module Mixer va nous permettre de faire cela :)</p><p id="r-203165" data-claire-element-id="203165">Premièrement, vous devez créer un objet Sound, en précisant le fichier audio voulu, comme cela :</p><pre id="r-203166" data-claire-element-id="203166"><code data-claire-semantic="python">son = pygame.mixer.Sound(&quot;son.wav&quot;)</code></pre><aside id="r-203168" data-claire-element-id="203168" data-claire-semantic="warning"><p id="r-203167" data-claire-element-id="203167">Choisissez de préférence des fichiers de formats .wav ou .ogg, les .mp3 et les .wma ne sont pas souvent reconnus avec Pygame ! Vous pouvez convertir n'importe quel mp3 en wav ou en ogg grâce à Audacity par exemple !</p></aside><p id="r-203169" data-claire-element-id="203169">La variable son correspond maintenant à un objet son, qui contient les méthodes qui vont nous permettre de jouer le son ! :)</p><p id="r-203170" data-claire-element-id="203170">Pour lancer la lecture sans plus attendre, utilisez la méthode <em>play()</em> de l'objet Sound !</p><pre id="r-203171" data-claire-element-id="203171"><code data-claire-semantic="python">son.play()</code></pre><p id="r-203172" data-claire-element-id="203172">Vous pouvez aussi utiliser la méthode <em>stop()</em>, qui arrêtera la lecture du son... quand on tapera sur une touche par exemple ! :)</p><pre id="r-203173" data-claire-element-id="203173"><code data-claire-semantic="python">son.stop()</code></pre><p id="r-203174" data-claire-element-id="203174">Les méthodes de l'objet Sound agissent uniquement sur un objet, mais il est possible que plusieurs sons soient joués en même temps ! Je vous propose maintenant d'agir sur tous les sons en même temps. :) <br/> Commençons par les mettre en pause :</p><pre id="r-203175" data-claire-element-id="203175"><code data-claire-semantic="python">pygame.mixer.pause()</code></pre><p id="r-203176" data-claire-element-id="203176">Cette fonction du module Mixer permet de mettre tout le mixer en pause :) <br/> Contrairement, on peut le sortir de pause :</p><pre id="r-203177" data-claire-element-id="203177"><code data-claire-semantic="python">pygame.mixer.unpause()</code></pre><p id="r-203178" data-claire-element-id="203178">Et les sons reprendrons là où ils se sont arrêtés :) <br/> Pour les arrêter définitivement, on utilise la fonction <em>stop();</em> !</p><pre id="r-203179" data-claire-element-id="203179"><code data-claire-semantic="python">pygame.mixer.stop()</code></pre><p id="r-203180" data-claire-element-id="203180">Assez facile à comprendre non ? :) <br/> Je vous propose de créer un programme qui lance un son quand on maintient Espace, qui le met en pause quand on relâche, et qui le stoppe quand on appuie sur Entrée, d'accord ? <br/> Je vous laisse faire ! Quand vous y êtes parvenus, vous pouvez continuer ! Et si vous n'y parvenez pas, lisez attentivement la correction :</p><pre id="r-203181" data-claire-element-id="203181"><code data-claire-semantic="python">import pygame
from pygame.locals import *

#Initialisation
pygame.init()
fenetre = pygame.display.set_mode((300,300))
son = pygame.mixer.Sound(&quot;son.wav&quot;)
 
continuer = 1 #Variable de boucle
joue = 0 #1 si le son a été mis en pause

while continuer:
	for event in pygame.event.get():
                #Quitter
		if event.type == QUIT:
			continuer = 0
		
		#Lancer le son
		if event.type == KEYDOWN and event.key == K_SPACE and joue == 0:
			son.play()
			joue = 1
		#Sortir de pause
		if event.type == KEYDOWN and event.key == K_SPACE and joue == 1:
			pygame.mixer.unpause()
		#Mettre en pause
		if event.type == KEYUP and event.key == K_SPACE:
			pygame.mixer.pause()
		#Stopper
		if event.type == KEYDOWN and event.key == K_RETURN:
			son.stop()
			joue = 0</code></pre><p id="r-203182" data-claire-element-id="203182">La seule difficulté dans le code est la différence entre Lancer le son et Sortir de pause.<br/> En effet, quand on appuie sur la barre espace, on doit soit lancer le son (si c'est la première fois, ou s'il a été stoppé), soit le sortir de pause. :) <br/> Pour cela on utilise une variable qui prend la valeur 0 si le son doit partir du début, et 1 s'il soit reprendre là où il a été stoppé ! :)</p><p id="r-203183" data-claire-element-id="203183">Voilà, nous avons fait le tour du module <em>Mixer</em> ! Voici encore quelques fonctions mineures qui peuvent être utiles...</p><pre id="r-203184" data-claire-element-id="203184"><code data-claire-semantic="python">son.fadeout(300) #Fondu à 300ms de la fin de l'objet &quot;son&quot;</code></pre><pre id="r-203185" data-claire-element-id="203185"><code data-claire-semantic="python">pygame.mixer.fadeout(300) #Fondu à 300ms de la fin de tous les objets Sound</code></pre><p id="r-203186" data-claire-element-id="203186">Passons sans plus attendre au module Music, qui, je vous le garantis, ne sera pas beaucoup plus difficile ! :D</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">
<span class="arrow"></span>
<span class="next">Le son</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
<span class="next">Le module Music</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LemoduleMusic"></a><h2>Le module Music</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
<span class="arrow"></span>
<span class="next">Le module Mixer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">
<span class="next">Gestion des événements [2]</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-module-music" data-claire-element-id="203212">Le module Music</h4><figure id="r-203189" data-claire-element-id="203190"><img id="r-203188" data-claire-element-id="203188" src="medias/uploads.siteduzero.com_files_270001_271000_270600.png" alt="Image utilisateur"/></figure><p id="r-203191" data-claire-element-id="203191">Comme je vous l'ai dit plus haut, le module Music dispose de fonction particulièrement adaptées à la lecture de musique, comme le streaming permettant de lire de gros fichiers sans attendre la fin de leur chargement, et aussi la gestion de playlist ! :)</p><p id="r-203192" data-claire-element-id="203192">Pour commencer, nous pouvons demander au module Music de charger une musique ! :p</p><pre id="r-203193" data-claire-element-id="203193"><code data-claire-semantic="python">pygame.mixer.music.load(&quot;musique.wav&quot;)</code></pre><p id="r-203194" data-claire-element-id="203194">Comme vous pouvez le voir, on n'utilise pas d'objet dans ce module, on charge simplement les musiques dans la playlist (ou liste de lecture :-° ) !</p><p id="r-203195" data-claire-element-id="203195">Pour rajouter une musique à la fin de la playlist (ici à la fin de la première), on utilise ceci :</p><pre id="r-203196" data-claire-element-id="203196"><code data-claire-semantic="python">pygame.mixer.music.queue(&quot;instruments.wav&quot;)</code></pre><p id="r-203197" data-claire-element-id="203197">C'est tout simple ! On ajoute une musique à la queue ! :) Et quand on lancera la lecture, celles-ci s'enchaîneront ! Vous voyez pourquoi ce module est adapté à la gestion des musiques maintenant ? :)</p><p id="r-203198" data-claire-element-id="203198">Allez on lance la lecture avec la fonction <em>play()</em> !</p><pre id="r-203199" data-claire-element-id="203199"><code data-claire-semantic="python">pygame.mixer.music.play()</code></pre><p id="r-203200" data-claire-element-id="203200">A tout moment, vous pouvez arrêter la lecture avec la fonction <em>stop()</em> :</p><pre id="r-203201" data-claire-element-id="203201"><code data-claire-semantic="python">pygame.mixer.music.stop()</code></pre><p id="r-203202" data-claire-element-id="203202">Cette fonction stoppe la lecture et fait revenir la playlist au début de la chanson coupée :) <br/> Dans notre exemple, si on coupe la première on revient au début, si on coupe la seconde, on revient au début de la seconde :)</p><p id="r-203203" data-claire-element-id="203203">Comme tout à l'heure, nous avons à disposition les fonctions <em>pause(), unpause()</em> et <em>fadeout()</em> :</p><pre id="r-203204" data-claire-element-id="203204"><code data-claire-semantic="python">pygame.mixer.music.pause() #Met la musique en pause
pygame.mixer.music.unpause() #Reprend la musique là où elle a été coupée
pygame.mixer.music.fadeout(400) #Fondu à 400ms de la fin des musiques</code></pre><aside id="r-203206" data-claire-element-id="203206" data-claire-semantic="warning"><p id="r-203205" data-claire-element-id="203205">Pensez bien à utiliser les fonctions du module Music, sinon vous agirez sur le Mixer !</p></aside><p id="r-203207" data-claire-element-id="203207">Si vous souhaitez un jour créer un lecteur audio, bien que Pygame ne soit pas l'idéal, sachez que vous disposez des fonctions <em>set_volume()</em> et <em>get_volume()</em> :</p><pre id="r-203208" data-claire-element-id="203208"><code data-claire-semantic="python">volume = pygame.mixer.music.get_volume() #Retourne la valeur du volume, entre 0 et 1
pygame.mixer.music.set_volume(0.5) #Met le volume à 0.5 (moitié)</code></pre><p id="r-203209" data-claire-element-id="203209">Nous avons fait le tour du module Music, vous connaissez maintenant tout ce qu'il vous faut pour jouer des sons dans vos jeux ! :) <br/> Je n'ai pas expliqué toutes les fonctions du module, si vous souhaitez l'utiliser de façon avancée et que vous ne trouvez pas la fonction adéquate, je vous conseille de lire la documentation, partie Music :)</p><p id="r-203210" data-claire-element-id="203210">Et voilà ! Avec ça vos jeux auront une autre allure ! :p <br/> Dans la prochaine partie nous nous attaquerons à une autre partie de Pygame : la gestion du temps. Vos jeux étaient lents et inanimés ? C'est fini !</p><p id="r-203211" data-claire-element-id="203211">A tout de suite dans la prochaine partie !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
<span class="arrow"></span>
<span class="next">Le module Mixer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">
<span class="next">Gestion des événements [2]</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gestiondesvnements2"></a><h2>Gestion des événements [2]</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
<span class="arrow"></span>
<span class="next">Le module Music</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
<span class="next">Initialiser le Joystick</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-203214" data-claire-element-id="203214">Souvenez-vous de la première partie : nous avons appris à gérer le clavier et la souris avec Pygame, grâce aux évènements :) Il s'agissait des contrôles &quot;classiques&quot;, que vous utiliserez souvent pour contrôler vos programmes.<br/> Je vous propose de faire pareil pour permettre le contrôle de votre jeu grâce au Joystick !</p><p id="r-203215" data-claire-element-id="203215">Après ça, on découvrira un nouveau type d'évènements, les évènements de la fenêtre, et nous aurons fait le tour de la question... Autant dire que vous serez au top des évènements ! :p</p><p id="r-203216" data-claire-element-id="203216">C'est parti !</p>
</div><a name="InitialiserleJoystick"></a><h2>Initialiser le Joystick</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">
<span class="arrow"></span>
<span class="next">Gestion des événements [2]</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
<span class="next">Evénements au Joystick</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-initialiser-le-joystick" data-claire-element-id="203245">Initialiser le Joystick</h4><figure id="r-203218" data-claire-element-id="203219"><img id="r-203217" data-claire-element-id="203217" src="medias/uploads.siteduzero.com_files_270001_271000_270594.jpg" alt="Image utilisateur"/></figure><p id="r-203220" data-claire-element-id="203220">Vous avez dégainé votre Joystick ou votre manette ? Ca y est, le monstre est branché ?<br/> Le geek est devenu gamer ? Nous pouvons nous lancer dans la gestion du joystick par Pygame ! :diable:</p><p id="r-203221" data-claire-element-id="203221">Il faut savoir que contrairement au clavier et à la souris, disponibles et reconnus directement par Pygame, le Joystick nécessite une initialisation. Cela est sans doute du à la multitude et à la complexité des Joystick disponibles, contrairement aux modèles clavier et souris, souvent semblables... :)</p><p id="r-203222" data-claire-element-id="203222">Lançons nous donc dans l'initialisation, avant de passer à la gestion des évènements !</p><h6 id="r-compter-le-nombre-de-joysticks-branches" data-claire-element-id="203231">Compter le nombre de Joysticks branchés</h6><p id="r-203223" data-claire-element-id="203223">Cela peut paraître bête, mais avant d'initialiser un Joystick et de permettre le contrôle de celui-ci, il faut vérifier si au moins un Joystick est branché au PC... :)</p><p id="r-203224" data-claire-element-id="203224">Utilisez pour cela la fonction du module <em>Joystick</em> nommée <em>get_count()</em>, qui renvoie le nombre de Joysticks disponible...</p><p id="r-203225" data-claire-element-id="203225">Nous pouvons tester avant de brancher :</p><pre id="r-203226" data-claire-element-id="203226"><code data-claire-semantic="python">nb_joysticks = pygame.joystick.get_count()
print(&quot;Il y a&quot;, nb_joysticks, &quot;joystick(s) branché(s)&quot;)</code></pre><p id="r-203227" data-claire-element-id="203227">Vous pouvez voir dans la console :</p><pre id="r-203228" data-claire-element-id="203228"><code data-claire-semantic="console">Il y a 0 joystick(s) branché(s)</code></pre><p id="r-203229" data-claire-element-id="203229">Branchez maintenant votre Joystick au port USB, vous voyez maintenant :</p><pre id="r-203230" data-claire-element-id="203230"><code data-claire-semantic="console">Il y a 1 joystick(s) branché(s)</code></pre><h6 id="r-initialiser-un-joystick" data-claire-element-id="203244">Initialiser un Joystick</h6><p id="r-203232" data-claire-element-id="203232">Jusqu'ici, pas de problème ! :) <br/> Nous voulons maintenant initialiser ce Joystick. Pygame propose de créer un objet Joystick, nous devons seulement passer en paramètre lors de sa création, l'id du Joystick voulu. :)</p><div id="r-203234" data-claire-element-id="203234" data-claire-semantic="question"><p id="r-203233" data-claire-element-id="203233">Comment je connais l'id de mon Joystick, moi ? C'est écrit sur la boîte ?</p></div><p id="r-203235" data-claire-element-id="203235">N'allez pas chercher si loin, les id sont attribués à partir de 0 à tous les Joysticks branchés, si on a un seul Joystick, son id sera donc 0, si on en a un deuxième, son id sera 1, etc... :p</p><p id="r-203236" data-claire-element-id="203236">Je vous propose donc de &quot;créer&quot; votre Joystick :</p><pre id="r-203237" data-claire-element-id="203237"><code data-claire-semantic="python">#On compte les joysticks
nb_joysticks = pygame.joystick.get_count()
#Et on en crée un s'il y a en au moins un
if nb_joysticks &gt; 0:
	mon_joystick = pygame.joystick.Joystick(0)</code></pre><p id="r-203238" data-claire-element-id="203238">Ca y est, notre Joystick est créé, il faut maintenant l'initialiser :) <br/> Son initialisation permettra d'ajouter ses évènements à la liste des évènements Pygame, que nous testions déjà avec les évènements clavier et souris :)</p><p id="r-203239" data-claire-element-id="203239">Souvenez-vous :</p><pre id="r-203240" data-claire-element-id="203240"><code data-claire-semantic="python">for event in pygame.event.get():
	if event.type == QUIT:
		continuer = 0
        ...</code></pre><p id="r-203241" data-claire-element-id="203241">Pour l'initialiser, rien de plus simple :</p><pre id="r-203242" data-claire-element-id="203242"><code data-claire-semantic="python">#On compte les joysticks
nb_joysticks = pygame.joystick.get_count()
#Et on en crée un s'il y a en au moins un
if nb_joysticks &gt; 0:
	mon_joystick = pygame.joystick.Joystick(0)

	mon_joystick.init() #Initialisation</code></pre><p id="r-203243" data-claire-element-id="203243">C'est tout, votre joystick est initialisé ! :) <br/> Vous pouvez continuer !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">
<span class="arrow"></span>
<span class="next">Gestion des événements [2]</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
<span class="next">Evénements au Joystick</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="EvnementsauJoystick"></a><h2>Evénements au Joystick</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
<span class="arrow"></span>
<span class="next">Initialiser le Joystick</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
<span class="next">Evénements de la fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-evenements-au-joystick" data-claire-element-id="203307">Evénements au Joystick</h4><h5 id="r-connaitre-les-boutons-disponibles" data-claire-element-id="203267">Connaître les boutons disponibles</h5><p id="r-203246" data-claire-element-id="203246">Votre Joystick est initialisé, mais comme je l'ai dit plus haut, à cause de la multitude de Joysticks disponibles dans le commerce, et de leurs configurations différentes, il est préférable de connaître les boutons disponibles sur le Joystick initialisé... :)</p><p id="r-203247" data-claire-element-id="203247">Voyons un peu les différents types de boutons que peut posséder un Joystick :</p><ul id="r-203256" data-claire-element-id="203256"><li id="r-203249" data-claire-element-id="203249"><p id="r-203248" data-claire-element-id="203248">Les axes (d'une croix ou d'un pad)</p></li><li id="r-203251" data-claire-element-id="203251"><p id="r-203250" data-claire-element-id="203250">Les boutons</p></li><li id="r-203253" data-claire-element-id="203253"><p id="r-203252" data-claire-element-id="203252">Les trackballs</p></li><li id="r-203255" data-claire-element-id="203255"><p id="r-203254" data-claire-element-id="203254">Les chapeaux ou hats</p></li></ul><p id="r-203257" data-claire-element-id="203257">Je prendrai pour exemple, pour continuer dans la lignée de Donkey Kong, un Joystick bien connu...</p><figure id="r-203259" data-claire-element-id="203260"><img id="r-203258" data-claire-element-id="203258" src="medias/uploads.siteduzero.com_files_270001_271000_270588.jpg" alt="Image utilisateur"/></figure><p id="r-203261" data-claire-element-id="203261">Un Joystick de ce type possède 2 axes (haut-bas et gauche-droite), et 8 boutons. Pas de chapeau, pas de trackball, ah, le bon vieux temps...</p><p id="r-203262" data-claire-element-id="203262">Nous pouvons vérifier ceci en branchant le Joystick sur PC ( :-° ) et en essayant, après l'avoir correctement initialisé :</p><pre id="r-203263" data-claire-element-id="203263"><code data-claire-semantic="python">print(&quot;Axes :&quot;, mon_joystick.get_numaxes())
print(&quot;Boutons :&quot;, mon_joystick.get_numbuttons())
print(&quot;Trackballs :&quot;, mon_joystick.get_numballs())
print(&quot;Hats :&quot;, mon_joystick.get_numhats())</code></pre><p id="r-203264" data-claire-element-id="203264">Nous obtiendrons logiquement :</p><pre id="r-203265" data-claire-element-id="203265"><code data-claire-semantic="console">Axes : 2
Boutons : 8
Trackballs : 0
Hats : 0</code></pre><p id="r-203266" data-claire-element-id="203266">Et voilà, vous savez comment compter vos boutons, et ainsi permettre un contrôle selon la configuration du Joystick !</p><h5 id="r-capturer-les-evenements" data-claire-element-id="203306">Capturer les évènements</h5><p id="r-203268" data-claire-element-id="203268">Nous allons maintenant nous attaquer à la partie la plus intéressante de ce chapitre, à savoir la gestion des évènements du Joystick !</p><p id="r-203269" data-claire-element-id="203269">Nous avons vu précédemment que, après l'initialisation du Joystick, tous les évènements étaient envoyés à la liste d'évènements, au même titre qu'un évènement clavier. :) <br/> Vous devriez donc vous en sortir assez rapidement, j'ai seulement à vous donner les types des évènements, et les attributs renvoyés par ces types...</p><h6 id="r-evenements-des-boutons" data-claire-element-id="203285">Evènements des boutons</h6><figure id="r-203271" data-claire-element-id="203272"><img id="r-203270" data-claire-element-id="203270" src="medias/uploads.siteduzero.com_files_270001_271000_270596.png" alt="Image utilisateur"/></figure><p id="r-203273" data-claire-element-id="203273">Nous avons tout d'abord un évènement créé quand on appuie sur un bouton, ou qu'on le relâche, cet évènement est <em>JOYBUTTONDOWN</em> ou <em>JOYBUTTONUP</em>.</p><p id="r-203274" data-claire-element-id="203274">L'évènement créé possède deux attributs :</p><ul id="r-203279" data-claire-element-id="203279"><li id="r-203276" data-claire-element-id="203276"><p id="r-203275" data-claire-element-id="203275">joy : l'id du Joystick source</p></li><li id="r-203278" data-claire-element-id="203278"><p id="r-203277" data-claire-element-id="203277">button : le numéro du bouton</p></li></ul><p id="r-203280" data-claire-element-id="203280">Les boutons de certains Joysticks sont numérotés, sinon, dites-vous que les premiers boutons sont les &quot;classiques&quot;, proches du pouces, et que les autres suivent... ou faites simplement le test :</p><pre id="r-203281" data-claire-element-id="203281"><code data-claire-semantic="python">if event.type == JOYBUTTONDOWN:
	print(event.button)</code></pre><p id="r-203282" data-claire-element-id="203282">Ce code vous affiche le numéro du bouton pressé.</p><p id="r-203283" data-claire-element-id="203283">Allez, je vous propose un petit test : codez-moi le programme qui initialise un Joystick, qui vérifie qu'il possède bien au moins 4 boutons, et qui assigne au premier bouton (numéro 0) l'action d'écrire dans la console &quot;Boum !&quot;. Ca devrait aller vite ! Voilà la correction :</p><pre id="r-203284" data-claire-element-id="203284"><code data-claire-semantic="python">import pygame
from pygame.locals import *

pygame.init()
fenetre = pygame.display.set_mode((300,300))

#On compte les joysticks
nb_joysticks = pygame.joystick.get_count()
#Et on en crée un s'il y a en au moins un
if nb_joysticks &gt; 0:
	mon_joystick = pygame.joystick.Joystick(0)

	mon_joystick.init()

	#On compte les boutons
	nb_boutons = mon_joystick.get_numbuttons()
	if nb_boutons &gt;= 4:
	
		continuer = 1
		while continuer:
			for event in pygame.event.get():
				if event.type == QUIT:
					continuer = 0
					
				if event.type == JOYBUTTONDOWN and event.button == 0:
					print(&quot;Boum !&quot;)
	else:
		print(&quot;Votre Joystick ne possède pas au moins 4 boutons&quot;)
else:
	print(&quot;Vous n'avez pas branché de Joystick...&quot;)</code></pre><h6 id="r-evenements-des-axes" data-claire-element-id="203305">Evènements des axes</h6><p id="r-203286" data-claire-element-id="203286">Nous allons maintenant étudier les évènements créés lorsqu'on appuie sur une direction, sur une croix ou avec un pad.<br/> L'évènement créé est de type <em>JOYAXISMOTION</em> et possède trois attributs :</p><ul id="r-203293" data-claire-element-id="203293"><li id="r-203288" data-claire-element-id="203288"><p id="r-203287" data-claire-element-id="203287">joy : l'id du Joystick source</p></li><li id="r-203290" data-claire-element-id="203290"><p id="r-203289" data-claire-element-id="203289">axis : le numéro de l'axe</p></li><li id="r-203292" data-claire-element-id="203292"><p id="r-203291" data-claire-element-id="203291">value : la valeur de la direction</p></li></ul><p id="r-203294" data-claire-element-id="203294">L'axe gauche-droite est le numéro 0, l'axe haut-bas est le numéro 1.<br/> La valeur de la direction permet de savoir si l'on a pressé un côté ou l'autre de l'axe. (Avec un pad comme sur les manettes de PlayStation, <em>value</em> renvoie l'intensité du mouvement, entre 0 (aucun) et 1 (maximum)...</p><p id="r-203295" data-claire-element-id="203295">La valeur de la direction peut-être positive ou négative, c'est en étudiant son signe que l'on connait la direction pressée.<br/> Voici le schéma pour une croix directionnelle :</p><figure id="r-203297" data-claire-element-id="203298"><img id="r-203296" data-claire-element-id="203296" src="medias/uploads.siteduzero.com_files_270001_271000_270593.jpg" alt="Image utilisateur"/></figure><p id="r-203299" data-claire-element-id="203299">Un évènement de mouvement d'axe renvoyant l'axe 0 et une valeur de 1 correspondra donc à une pression sur la flèche droite. :)</p><aside id="r-203301" data-claire-element-id="203301" data-claire-semantic="warning"><p id="r-203300" data-claire-element-id="203300">Sur certains Joysticks, la valeur renvoyé peut être différente de 1 ou -1, même si c'est une croix directionnelle... J'ai par exemple une valeur de 0.999982 avec ma manette. <br/> Ne vérifiez donc pas que la valeur est égale à 1 ou -1, mais plutôt si elle est positive ou négative ! (ou supérieure/inférieure à 0.5 ou -0.5, si vous voulez que le mouvement soit bien marqué avec un pad)</p></aside><p id="r-203302" data-claire-element-id="203302">Par exemple :</p><pre id="r-203303" data-claire-element-id="203303"><code data-claire-semantic="python">if event.type == JOYAXISMOTION:
	if event.axis == 0 and event.value &gt; 0:
		mouvement_droite()
	if event.axis == 0 and event.value &lt; 0:
		mouvement_gauche()</code></pre><p id="r-203304" data-claire-element-id="203304">Je vous dispense d'exercice pour les axes, mais si vous n'êtes pas sûr d'avoir compris, entraînez-vous ! :) <br/> Nous en avons fini avec la gestion du Joystick, pas mal hein ? Je vous l'avez dit que ça serait cool :p <br/> Si vous souhaitez savoir comment gérer les chapeaux et les trackballs, vous le savez : la documentation !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
<span class="arrow"></span>
<span class="next">Initialiser le Joystick</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
<span class="next">Evénements de la fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Evnementsdelafentre"></a><h2>Evénements de la fenêtre</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
<span class="arrow"></span>
<span class="next">Evénements au Joystick</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-evenements-de-la-fenetre" data-claire-element-id="203403">Evénements de la fenêtre</h4><p id="r-203308" data-claire-element-id="203308">Il nous reste un dernier type d'évènements à connaître pour clore définitivement ce chapitre, il s'agit des évènements liés à la fenêtre.<br/> Il s'agit en fait des évènements produits lors de l'interaction de l'utilisateur avec la fenêtre Pygame, comme le redimensionnement, la sortie ou l'entrée de la souris dans la fenêtre...</p><h6 id="r-focus-et-visibilite" data-claire-element-id="203381">Focus et visibilité</h6><p id="r-203309" data-claire-element-id="203309">Nous allons étudier tout de suite l'évènement ACTIVEEVENT, qui est créé quand :</p><ul id="r-203316" data-claire-element-id="203316"><li id="r-203311" data-claire-element-id="203311"><p id="r-203310" data-claire-element-id="203310">le pointeur entre et sort de la fenêtre</p></li><li id="r-203313" data-claire-element-id="203313"><p id="r-203312" data-claire-element-id="203312">on réduit la fenêtre</p></li><li id="r-203315" data-claire-element-id="203315"><p id="r-203314" data-claire-element-id="203314">on change le focus de la fenêtre (active ou inactive)</p></li></ul><p id="r-203317" data-claire-element-id="203317">Cet évènement possède deux attributs :</p><ul id="r-203322" data-claire-element-id="203322"><li id="r-203319" data-claire-element-id="203319"><p id="r-203318" data-claire-element-id="203318">gain : indique si l'évènement est un gain ou une perte. (ex : si le pointeur entre dans la fenêtre, gain = 1, s'il sort, gain = 0)</p></li><li id="r-203321" data-claire-element-id="203321"><p id="r-203320" data-claire-element-id="203320">state : indique le type d'évènement de fenêtre créé.</p></li></ul><p id="r-203323" data-claire-element-id="203323">Pour cette partie, au lieu d'un long discours, il m'a paru préférable de créer un tableau, qui indique les états des deux attributs selon l'évènement :</p><table id="r-203375" data-claire-element-id="203375"><thead id="r-203331" data-claire-element-id="203331"><tr id="r-203330" data-claire-element-id="203330"><th id="r-203325" data-claire-element-id="203325"><p id="r-203324" data-claire-element-id="203324">- Evènement</p></th><th id="r-203327" data-claire-element-id="203327"><p id="r-203326" data-claire-element-id="203326">- event.gain</p></th><th id="r-203329" data-claire-element-id="203329"><p id="r-203328" data-claire-element-id="203328">- event.state</p></th></tr></thead><tbody id="r-203374" data-claire-element-id="203374"><tr id="r-203338" data-claire-element-id="203338"><td id="r-203333" data-claire-element-id="203333"><p id="r-203332" data-claire-element-id="203332">Sortie de la souris de la fenêtre</p></td><td id="r-203335" data-claire-element-id="203335"><p id="r-203334" data-claire-element-id="203334">0</p></td><td id="r-203337" data-claire-element-id="203337"><p id="r-203336" data-claire-element-id="203336">1</p></td></tr><tr id="r-203345" data-claire-element-id="203345"><td id="r-203340" data-claire-element-id="203340"><p id="r-203339" data-claire-element-id="203339">Entrée de la souris dans la fenêtre</p></td><td id="r-203342" data-claire-element-id="203342"><p id="r-203341" data-claire-element-id="203341">1</p></td><td id="r-203344" data-claire-element-id="203344"><p id="r-203343" data-claire-element-id="203343">1</p></td></tr><tr id="r-203352" data-claire-element-id="203352"><td id="r-203347" data-claire-element-id="203347"><p id="r-203346" data-claire-element-id="203346">Réduction de la fenêtre</p></td><td id="r-203349" data-claire-element-id="203349"><p id="r-203348" data-claire-element-id="203348">0</p></td><td id="r-203351" data-claire-element-id="203351"><p id="r-203350" data-claire-element-id="203350">6</p></td></tr><tr id="r-203359" data-claire-element-id="203359"><td id="r-203354" data-claire-element-id="203354"><p id="r-203353" data-claire-element-id="203353">Ré-ouverture de la fenêtre réduite</p></td><td id="r-203356" data-claire-element-id="203356"><p id="r-203355" data-claire-element-id="203355">1</p></td><td id="r-203358" data-claire-element-id="203358"><p id="r-203357" data-claire-element-id="203357">6</p></td></tr><tr id="r-203366" data-claire-element-id="203366"><td id="r-203361" data-claire-element-id="203361"><p id="r-203360" data-claire-element-id="203360">Inactivation de la fenêtre (ouverture d'un autre programme ou clic sur le bureau)</p></td><td id="r-203363" data-claire-element-id="203363"><p id="r-203362" data-claire-element-id="203362">0</p></td><td id="r-203365" data-claire-element-id="203365"><p id="r-203364" data-claire-element-id="203364">2</p></td></tr><tr id="r-203373" data-claire-element-id="203373"><td id="r-203368" data-claire-element-id="203368"><p id="r-203367" data-claire-element-id="203367">Ré-activation de la fenêtre (fermeture du programme actif ou clic sur la fenêtre)</p></td><td id="r-203370" data-claire-element-id="203370"><p id="r-203369" data-claire-element-id="203369">1</p></td><td id="r-203372" data-claire-element-id="203372"><p id="r-203371" data-claire-element-id="203371">6</p></td></tr></tbody></table><p id="r-203376" data-claire-element-id="203376">Et voilà ! J'espère que vous comprenez, quand gain est égal à 1, il s'agit d'un évènement &quot;en faveur&quot; de la fenêtre, et state nous indique quel évènement ! :)</p><p id="r-203377" data-claire-element-id="203377">Il faut donc se servir des deux variables pour savoir ce qu'il se passe exactement...<br/> Par exemple, comment savoir quand la souris entre dans la fenêtre ?</p><p id="r-203378" data-claire-element-id="203378">Il suffit d'utiliser ce code :) :</p><pre id="r-203379" data-claire-element-id="203379"><code data-claire-semantic="python">if event.type == ACTIVEEVENT:
	if event.gain == 1 and event.state == 1:
		print(&quot;Une souris est dans la fenêtre !! aaaah !!&quot;)</code></pre><p id="r-203380" data-claire-element-id="203380">Ne me demandez pas à quoi correspondent les autres chiffres (3, 4 ou 5), je serai incapable de vous répondre ! :D <br/> Je ne vois aucun autre évènement de fenêtre possible et utile à capturer... à part le redimensionnement, que nous allons voir maintenant !</p><h6 id="r-redimensionnement-de-la-fenetre-1" data-claire-element-id="203402">Redimensionnement de la fenêtre</h6><p id="r-203382" data-claire-element-id="203382">Pour permettre le redimensionnement de la fenêtre, rappelez-vous, nous utilisons le paramètre RESIZABLE lors de la création de la fenêtre :</p><pre id="r-203383" data-claire-element-id="203383"><code data-claire-semantic="python">fenetre = pygame.display.set_mode((640,480), RESIZABLE)</code></pre><p id="r-203384" data-claire-element-id="203384">Lors du redimensionnement, un évènement VIDEORESIZE est créé, qui possède 3 attributs :</p><ul id="r-203391" data-claire-element-id="203391"><li id="r-203386" data-claire-element-id="203386"><p id="r-203385" data-claire-element-id="203385">size : renvoie un tuple contenant la largeur et la hauteur de la nouvelle fenêtre : (largeur,hauteur)</p></li><li id="r-203388" data-claire-element-id="203388"><p id="r-203387" data-claire-element-id="203387">w : renvoie la largeur de la nouvelle fenêtre.</p></li><li id="r-203390" data-claire-element-id="203390"><p id="r-203389" data-claire-element-id="203389">h : renvoie la hauteur de la nouvelle fenêtre.</p></li></ul><p id="r-203392" data-claire-element-id="203392">Facile non ? Vous pouvez maintenant connaître la taille de la fenêtre redimensionnée, et ainsi adapter votre programme !</p><p id="r-203393" data-claire-element-id="203393">Je vous propose un exercice, comme j'aime bien le faire... Codez-moi un programme qui ouvre une fenêtre de 300px de côté, redimensionnable, mais qui se ferme si on dépasse 500px de côté !<br/> Voilà la correction :) :</p><pre id="r-203394" data-claire-element-id="203394"><code data-claire-semantic="python">import pygame
from pygame.locals import *

#Initialisation
pygame.init()
fenetre = pygame.display.set_mode((300,300), RESIZABLE)
continuer = 1

while continuer:
	for event in pygame.event.get():
                #Quitter
		if event.type == QUIT:
			continuer = 0
		
		if event.type == VIDEORESIZE:
			if event.w &gt; 500 or event.h &gt; 500:
					continuer = 0</code></pre><p id="r-203395" data-claire-element-id="203395">Et voilà, vous savez gérer les redimensionnements de fenêtre !<br/> C'était plutôt simple non ? Plus le tutoriel avance, plus vous devez aller vite avec les évènements :) Au bout d'un moment, on se rend compte que c'est assez semblable pour tous les types !</p><p id="r-203396" data-claire-element-id="203396">Fermeture, Clavier, Souris, Joystick, Fenêtre. Et bien voilà, je ne peux pas vous en apprendre plus à propos des évènements !<br/> Certains points restent encore à approfondir, mais comme je vous le dis de plus en plus, si vous avez besoin de quelque chose de précis dont je n'ai pas parlé, consultez la documentation ! :D <br/> Vous en êtes maintenant parfaitement capable, il suffit de parler un poil d'anglais... et disons qu'un traducteur peut vous aider si ce n'est pas le cas ! :-°</p><p id="r-203397" data-claire-element-id="203397">Dans le prochain chapitre nous nous intéresserons à l'objet Sprite, qui peut être utile et adapté à la gestion d'objets et de personnages dans les jeux Pygame :)</p><p id="r-203398" data-claire-element-id="203398">Comme vous pouvez le voir, cette partie n'est pas complète, je la compléterai au fur et à mesure de son écriture :)</p><p id="r-203399" data-claire-element-id="203399">Il manque un chapitre sur le temps, sur les Sprite et un TP de fin :) <br/> Encore du boulot en perspective !<br/> N'hésitez pas à laisser des commentaires si vous avez des conseils ou des questions :)</p><p id="r-203400" data-claire-element-id="203400">Comme vous pouvez le voir le tutoriel n'est pas encore terminé.<br/> La première partie est complète, et la seconde en cours d'écriture :) <br/> Il est possible que j'ajoute une troisième partie pour la gestion des CD, de la vidéo et quelques autres annexes pour ceux que ça intéressera !</p><p id="r-203401" data-claire-element-id="203401">Vous n'en avez donc pas tout à fait fini avec Pygame ! :p <br/> N'hésitez pas à commenter ce tutoriel si vous trouvez des erreurs ou que vous le trouvez imprécis sur certains points. :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python">Interface graphique Pygame pour Python</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases de Pygame
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/presentation-de-pygame">Présentation de Pygame</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/pygame-en-details">
Pygame en détails
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/installation-de-pygame">
Installation de Pygame
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/les-interfaces-graphiques">
Les interfaces graphiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/premieres-fenetres">Premières fenêtres</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/importer-la-bibliotheque">
Importer la bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/ouvrir-une-fenetre">
Ouvrir une fenêtre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/afficher-une-image-2">
Afficher une image
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-1">Gestion des événements [1]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenement-de-fermeture">
Evénement de fermeture
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-clavier">
Evénements au clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-a-la-souris">
Evénements à la souris
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/tp-dk-labyrinthe">TP - DK Labyrinthe !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/precisions-sur-le-jeu">
Précisions sur le jeu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/structure-des-differents-fichiers">
Structure des différents fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/correction-76">
Correction !
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Utilisation avancée
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-son">Le son</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-mixer">
Le module Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/le-module-music">
Le module Music
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/gestion-des-evenements-2">Gestion des événements [2]</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/initialiser-le-joystick">
Initialiser le Joystick
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
Evénements au Joystick
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-de-la-fenetre">
Evénements de la fenêtre
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/interface-graphique-pygame-pour-python/evenements-au-joystick">
<span class="arrow"></span>
<span class="next">Evénements au Joystick</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/interface-graphique-pygame-pour-python.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:11:29 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/interface-graphique-pygame-pour-python.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:47:57 GMT -->
</html>
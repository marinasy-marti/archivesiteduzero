<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/introduction-a-vyatta.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:11:29 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/introduction-a-vyatta.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:47:57 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Introduction à Vyatta</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/introduction-a-vyatta.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Introduction à Vyatta</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#IntroductionVyatta">Introduction à Vyatta</a><br/><a href="#Vyattaprsentetoi">Vyatta, présente toi !</a><br/><a href="#Configurationetinstallationdelamachinevirtuelle">Configuration et installation de la machine virtuelle</a><br/><a href="#PremierspasavecVyatta">Premiers pas avec Vyatta</a><br/><a href="#Fonctionsavances">Fonctions avancées</a><br/></div>
<a name="IntroductionVyatta"></a><h2>Introduction à Vyatta</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
<span class="next">Vyatta, présente toi !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-170691" data-claire-element-id="170691">Bonjour à tous !</p><p id="r-170692" data-claire-element-id="170692">Vous êtes de plus en plus nombreux à vous intéresser à la virtualisation, cette technologie présent en effet de nombreux avantages que ce soit pour les professionnels ou les particuliers. Provisioning rapide, maîtrise des coûts, plateformes de tests et maquettage simplifié, les désavantages à la virtualisation sont peu nombreux, mais saviez vous que l'on pouvait virtualiser autre chose que des OS de type serveur (FreeBSD, Debian, Windows Server, Solaris etc) ou grand public (Windows Seven, Ubuntu et autres Linux) ?</p><p id="r-170693" data-claire-element-id="170693">Je vais vous présenter ici une distribution orientée routage que nous allons virtualiser : <strong>Vyatta</strong></p><p id="r-170694" data-claire-element-id="170694">Pour ceux à qui la virtualisation ne dit pas grand-chose, ne vous inquiétez pas, vous n'avez pas besoin d'avoir de connaissances particulières dans ce domaine, il suffit d'accepter qu'un routeur n'est pas nécessairement une boîte avec Cisco ou Netgear marqué dessus.</p><p id="r-170695" data-claire-element-id="170695">Je ne présenterais ici que le fonctionnement propre à Vyatta, je ne détaillerais pas les implémentations de tous les protocoles, il ne s'agit pas ici de faire un cours de réseau, mais il est évident que vous en aurez besoin si vous comptez utiliser Vyatta par la suite.</p><p id="r-170696" data-claire-element-id="170696">Allez on commute ses neurones et on se met en marche !</p>
</div><a name="Vyattaprsentetoi"></a><h2>Vyatta, présente toi !</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
<span class="next">Configuration et installation de la machine virtuelle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<figure id="r-170698" data-claire-element-id="170699"><img id="r-170697" data-claire-element-id="170697" src="medias/uploads.siteduzero.com_files_365001_366000_365219.png" alt="Image utilisateur"/></figure><h2 id="r-c-est-quoi-un-routeur" data-claire-element-id="170710">C'est quoi un routeur ?</h2><p id="r-170700" data-claire-element-id="170700">Un routeur est un équipement informatique permettant de faire communiquer deux réseaux. Votre réseau local où vous vous trouvez actuellement est connecté à Internet par l'intermédiaire d'un routeur, il s'agit sûrement de votre box. Un routeur permet de connecter deux réseaux, mais aussi de les séparer. Dans une entreprise, pour des raisons de sécurité, on pourrait souhaiter séparer le réseau des employés de celui de la direction afin que des informations sensibles ne circulent pas n'importe où.</p><p id="r-170701" data-claire-element-id="170701">Le routeur est l'équipement au cœur d'Internet. C'est grâce à lui que vous pouvez communiquer d'un bout à l'autre de la planète, son rôle principal étant de trouver le chemin entre vous et votre correspondant. C'est ce qu'on appelle le routage, chaque routeur indique à une information quel est le prochain routeur qu'elle doit utiliser pour atteindre sa destination. Nous reviendrons sur cette notion à la fin du tutoriel.</p><p id="r-170702" data-claire-element-id="170702">Vyatta est donc un OS assurant des fonctions de routage, il peut donc servir à vous connecter à Internet, il peut être utilisé comme firewall dans votre réseau et il peut aussi permettre de séparer votre ordinateur du réseau local de votre maison et ainsi disposer d'un réseau local connecté mais indépendant du premier.</p><p id="r-170703" data-claire-element-id="170703">On pourrait ainsi comparer Vyatta aux OS des grands constructeurs de matériels réseau comme IOS de chez Cisco Systems ou JUNOS de Juniper Networks. Mais à la différence de ses concurrents, Vyatta n'est pas fourni sur un équipement physique, il s'agit d'un OS comme n'importe quelle distribution Linux que vous pouvez installer sur n'importe quelle machine disposant d'un processeur de type x86 (c'est-à-dire la quasi-totalité des ordinateurs actuels).</p><p id="r-170704" data-claire-element-id="170704">Vyatta existe sous deux versions différentes, une payante et une open source gratuite. Nous utiliserons dans ce tutoriel la deuxième version, toutes les fonctions importantes attendues d'un routeur sont présentes, en revanche l'interface web n'est désormais plus présente dans la version gratuite.<br/> Mais personne ici ne comptait l'utiliser de toute façon, n'est-ce pas ? :diable:</p><p id="r-170705" data-claire-element-id="170705">Vyatta se pilote via une interface en ligne de commande, la syntaxe est proche de celle de JUNOS mais reste relativement proche d'IOS pour que les habitués de chez Cisco ne se sentent pas perdus.</p><p id="r-170706" data-claire-element-id="170706">Basé sur une distribution Debian, il est intéressant de noter que Vyatta peut être amélioré/complété en installant des packages supplémentaires (les dépôts Debian sont accessibles) ce qui est impossible chez les constructeurs commerciaux qui ne donnent pas accès à l'OS.</p><p id="r-170707" data-claire-element-id="170707">Dans la suite du tutoriel, plusieurs machines virtuelles seront utilisées afin de simuler un réseau &quot;complet&quot;. Il est possible que votre ordinateur personnel ne supporte pas un nombre aussi élevé de machines virtuelles.<br/> Nous aurons besoin au final de 2 machines virtuelles tournant sous Vyatta ainsi qu'au moins une machine virtuelle où sera installé le système d'exploitation de votre choix. Néanmoins vous pouvez tout à fait suivre le tutoriel sans expérimenter vous même tout ce qui sera décrit et présenté.</p><aside id="r-170709" data-claire-element-id="170709" data-claire-semantic="warning"><p id="r-170708" data-claire-element-id="170708">Ce tutoriel n'est pas un cours complet de réseau ! Aucune compétence particulière n'est attendue en réseau, seulement être à l'aise avec les adresses IP et les masques de sous-réseau. Vous trouverez un cours sur l'adressage IP dans le <a href="http://www.siteduzero.com/tutoriel-3-400330-la-couche-3.html">tuto d'Elalitte</a> si besoin est. <br/> Dans le cas où vous souhaiteriez effectuer les manipulations de votre côé, savoir configurer une IP fixe sur le système d'exploitation de votre choix est nécessaire.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta">Introduction à Vyatta</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
Vyatta, présente toi !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
Configuration et installation de la machine virtuelle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
Premiers pas avec Vyatta
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
Fonctions avancées
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
<span class="next">Configuration et installation de la machine virtuelle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Configurationetinstallationdelamachinevirtuelle"></a><h2>Configuration et installation de la machine virtuelle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
<span class="arrow"></span>
<span class="next">Vyatta, présente toi !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
<span class="next">Premiers pas avec Vyatta</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-telechargement-11" data-claire-element-id="170724">Téléchargement</h2><p id="r-170712" data-claire-element-id="170712">Commençons par nous rendre sur la page de <a href="http://www.vyatta.com/download/trial_software">téléchargement</a> du site officiel.<br/> On vous demande quelques informations avant de vous proposer deux versions différentes de Vyatta.</p><figure id="r-170714" data-claire-element-id="170715"><img id="r-170713" data-claire-element-id="170713" src="medias/uploads.siteduzero.com_files_365001_366000_365191.png" alt="Image utilisateur"/></figure><ul id="r-170720" data-claire-element-id="170720"><li id="r-170717" data-claire-element-id="170717"><p id="r-170716" data-claire-element-id="170716">La première est une image &quot;normale&quot;, comme celle que vous avez peut être l'habitude de télécharger pour installer une distribution Linux.</p></li><li id="r-170719" data-claire-element-id="170719"><p id="r-170718" data-claire-element-id="170718">La seconde est une image optimisée pour être installée sur une machine virtuelle Vmware, Xen ou Hyper-V.</p></li></ul><aside id="r-170722" data-claire-element-id="170722" data-claire-semantic="information"><p id="r-170721" data-claire-element-id="170721">Vyatta peut tout à fait fonctionner en live-cd (avec la première image), cependant un support de stockage peut être nécessaire pour sauvegarder votre configuration.</p></aside><p id="r-170723" data-claire-element-id="170723">Passons maintenant à l'installation !</p><h2 id="r-configuration-de-notre-machine-virtuelle" data-claire-element-id="170745">Configuration de notre machine virtuelle</h2><p id="r-170725" data-claire-element-id="170725">Nous effectuerons nos tests sur une machine virtuelle, j'utilise pour ma part Vmware Workstation 8, mais si vous préférez VirtualBox ou que vous avez votre propre serveur de virtualisation, pas de soucis ^^</p><p id="r-170726" data-claire-element-id="170726">Cependant la configuration matérielle de notre VM va devoir respecter quelques points. Vyatta est un routeur, il va lui falloir plusieurs interfaces réseaux pour qu'il serve à quelque chose. Pour ce tutoriel, 2 me semblent suffisant. La RAM et le processeur importent peu, nous ne brusquerons pas trop notre Vyatta, quant à l'espace disque, 3Go devrait suffire.<br/> Voici ma configuration :</p><figure id="r-170728" data-claire-element-id="170729"><img id="r-170727" data-claire-element-id="170727" src="medias/uploads.siteduzero.com_files_365001_366000_365225.png" alt="Image utilisateur"/></figure><p id="r-170730" data-claire-element-id="170730">Il y a un point en revanche où il est important de faire particulièrement attention, c'est celui des cartes réseau. Les sociétés éditant les logiciels de virtualisation ont crée plusieurs modes de connexion pour les cartes réseau donnant à votre VM accès ou non au LAN et/ou à Internet.</p><p id="r-170731" data-claire-element-id="170731">Un routeur sert d'interconnexion entre deux réseaux, il va donc nous falloir simuler ces deux réseaux, et il faudra faire attention à ce que ceux-ci soient bien distincts.<br/> Workstation/Vmware Player et Virtualbox proposent plusieurs modes pour les cartes réseaux, chacun a un comportement différent et il est important de choisir le bon en fonction du résultat que l'on souhaite obtenir.</p><h3 id="r-le-mode-bridge-ou-pont" data-claire-element-id="170736">Le mode <strong>bridge</strong> ou <strong>pont</strong></h3><p id="r-170732" data-claire-element-id="170732">Le mode <strong>bridge ou pont</strong> permet à la VM de devenir une machine à part entière du réseau local de la machine physique. Votre machine virtuelle a accès à Internet (à condition que votre machine physique l'ait aussi ^^) ainsi qu'au reste du réseau local. Il y a de fortes chances que votre VM récupère une adresse par votre serveur DHCP, typiquement votre box. C'est le mode que je vous conseille d'utiliser lorsque vous créez une machine virtuelle dans un but de test et qu'aucune configuration réseau particulière ne vous ait demandé.</p><figure id="r-170734" data-claire-element-id="170735"><img id="r-170733" data-claire-element-id="170733" src="medias/uploads.siteduzero.com_files_365001_366000_365230.png" alt="Image utilisateur"/></figure><h3 id="r-le-mode-nat" data-claire-element-id="170741">Le mode NAT</h3><p id="r-170737" data-claire-element-id="170737">Le mode <strong>NAT</strong> place votre machine virtuelle dans un autre réseau indépendant du LAN de la machine physique. Une connexion existe entre ces deux réseaux et c'est votre machine physique qui assure l'interconnexion. Lorsque vous sortez du réseau de la VM pour aller sur Internet ou dans le LAN de la machine hôte, celle-ci va temporairement vous &quot;prêter&quot; son adresse. Le NAT est la technique utilisée par vos box pour vous donner accès à Internet, tous les ordinateurs chez vous sortent sur Internet avec la même adresse IP, celle de votre box.</p><figure id="r-170739" data-claire-element-id="170740"><img id="r-170738" data-claire-element-id="170738" src="medias/uploads.siteduzero.com_files_365001_366000_365232.png" alt="Image utilisateur"/></figure><h3 id="r-le-mode-host-only" data-claire-element-id="170744">Le mode Host-only</h3><p id="r-170742" data-claire-element-id="170742">Le mode Host-only ressemble fortement au NAT si on le représentait par un schéma. La différence majeure étant qu'il n'y a pas de mécanisme de translation effectué par la machine hôte. Votre VM est cantonnée à son réseau local et ne peut en sortir. Sauf manipulation particulière que l'on verra un peu plus loin dans le tuto.<br/> Depuis la version 8, Workstation propose un nouveau mode : <strong>le lan segment</strong>. Son comportement est le même que le Host-only à une différence près. Pour que deux machines soient dans le même réseau, elles doivent à la fois avoir une adresse de réseau identique et se trouver dans le même lan segment. Il s'agit en fait d'une sorte de VLAN pour ceux à qui le terme dit quelque chose. Ce n'est pas très important ici, vous pouvez utiliser les lan segments si vous le souhaitez, veillez juste à utiliser le même pour les machines faisant partie du même réseau.</p><p id="r-170743" data-claire-element-id="170743">Dans mon exemple j'ai placé une de mes cartes en <strong>bridge</strong> et l'autre en <strong>lan segment que j'ai nommé &quot;lan_sdz&quot;</strong>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta">Introduction à Vyatta</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
Vyatta, présente toi !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
Configuration et installation de la machine virtuelle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
Premiers pas avec Vyatta
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
Fonctions avancées
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
<span class="arrow"></span>
<span class="next">Vyatta, présente toi !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
<span class="next">Premiers pas avec Vyatta</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PremierspasavecVyatta"></a><h2>Premiers pas avec Vyatta</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
<span class="arrow"></span>
<span class="next">Configuration et installation de la machine virtuelle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
<span class="next">Fonctions avancées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-installation-de-vyatta" data-claire-element-id="170758">Installation de Vyatta</h2><p id="r-170747" data-claire-element-id="170747">Notre machine est donc prête à être lancée. Veillez bien à placer l'iso téléchargé précédemment dans le lecteur CD de votre machine virtuelle et allumez celle-ci.</p><p id="r-170748" data-claire-element-id="170748">Vous devez arriver sur cet écran-ci :</p><figure id="r-170750" data-claire-element-id="170751"><img id="r-170749" data-claire-element-id="170749" src="medias/uploads.siteduzero.com_files_369001_370000_369957.png" alt="Image utilisateur"/></figure><p id="r-170752" data-claire-element-id="170752">Pressez la touche &quot;entrer&quot; pour booter sur Vyatta.<br/> Vous finissez si tout se passe bien devant une demande de login et de mot de passe.</p><p id="r-170753" data-claire-element-id="170753">Le login et le mot de passe sont <strong>vyatta</strong></p><aside id="r-170755" data-claire-element-id="170755" data-claire-semantic="warning"><p id="r-170754" data-claire-element-id="170754">Attention, la configuration du clavier par défaut de Vyatta est un <strong>qwerty</strong>, vous devez donc taper <strong>vyqttq</strong> ;)</p></aside><p id="r-170756" data-claire-element-id="170756">Le prompt indique ensuite : <code data-claire-semantic="console">vyatta@vyatta:~$</code><br/> Nous sommes actuellement dans le mode livecd de Vyatta, mais nous préférons l'installer sur la machine virtuelle que nous venons de créer.<br/> La commande est <code data-claire-semantic="console">install-system</code><br/> Les questions habituelles lors d'une installation vont vous être demandées : Êtes-vous sûr de vouloir l'installer ? Sur quelle partition (nous n'en avons qu'une seule) ? Toutes les données vont être perdues (le disque est vide) ? etc.<br/> Normalement les choix par défaut conviennent mis à part lorsqu'on vous demandera de valider la suppression des données sur la partition d'installation.</p><p id="r-170757" data-claire-element-id="170757">L'installation ne vous prendra pas plus de 5 minutes.<br/> Une fois finie, vous pouvez rebooter votre machine virtuelle. Pensez à déconnecter votre lecteur CD pour ne pas booter une nouvelle fois sur le livecd.<br/> Saisissez vos identifiants et vous voilà logué sur votre premier routeur virtuel !</p><h2 id="r-premiere-configuration" data-claire-element-id="170783">Première configuration</h2><p id="r-170759" data-claire-element-id="170759">A la manière du système d'exploitation IOS de Cisco, Vyatta dispose de plusieurs modes de configuration, au nombre de deux.<br/> Vous êtes logués dans le mode &quot;normal&quot;, symbolisé par la caractère à la fin de votre prompt <code data-claire-semantic="console">$</code><br/> Pour passer en mode de &quot;configuration&quot;, vous devez taper <code data-claire-semantic="console">configure</code>.<br/> Votre prompt change et le symbole de fin devient : <code data-claire-semantic="console">#</code><br/> La commande <code data-claire-semantic="console">exit</code> vous fait revenir au mode normal.</p><aside id="r-170761" data-claire-element-id="170761" data-claire-semantic="information"><p id="r-170760" data-claire-element-id="170760">Bien que sous UNIX ces symboles permettent de différencier un utilisateur ayant un niveau de privilège normal d'un utilisateur &quot;root&quot;, sous Vyatta la différence entre ces deux signes s'arrête au mode de configuration. <br/> Vous pouvez essayer si vous le voulez de lancer un <code data-claire-semantic="console">apt-get update</code> en mode configure, ça ne marchera pas ;)</p></aside><p id="r-170762" data-claire-element-id="170762">Nous sommes donc en mode de configuration.<br/> Vyatta a prévu (à la manière de Cisco et d'autres constructeurs) une aide pour vous assister lors de la configuration de votre routeur. Cette aide se caractérise par une auto-complétion de vos commandes accessibles soit grâce à la touche de tabulation soit par la touche du point d'interrogation. Un appui affiche la liste des mots-clés disponibles, un deuxième appuie, affiche la description de ceux-ci.</p><pre id="r-170763" data-claire-element-id="170763"><code data-claire-semantic="console">vyatta@vyatta#
comment         copy            load            run
commit          delete          loadkey         save
commit-confirm  discard         merge           set
compare         edit            rename          show
confirm         exit            rollback
[edit]
vyatta@vyatta#
Possible completions:
  confirm       Confirm prior commit-confirm
  comment       Add comment to this configuration element
  commit        Commit the current set of changes
  commit-confirm
                Commit the current set of changes with 'confirm' required
  compare       Compare configuration revisions
  copy          Copy a configuration element
  delete        Delete a configuration element
  discard       Discard uncommitted changes
  edit          Edit a sub-element
  exit          Exit from this configuration level
  load          Load configuration from a file and replace running configuration
  loadkey       Load user SSH key from a file
  merge         Load configuration from a file and merge running configuration
  rename        Rename a configuration element
  rollback      Rollback to a prior config revision (requires reboot)
  run           Run an operational-mode command
  save          Save configuration to a file
  set           Set the value of a parameter or create a new element
  show          Show the configuration (default values may be suppressed)

[edit]
vyatta@vyatta#</code></pre><p id="r-170764" data-claire-element-id="170764">La plupart des commandes qui vont nous intéresser commence par <code data-claire-semantic="console">set</code>. Si vous faites un petit tab derrière, vous vous rendez compte que les choix sont nombreux ensuite.<br/> Chez Cisco, la configuration d'un équipement se fait par le passage dans des modes de configuration successifs, ceux-ci sont imbriqués.<br/> Sur Vyatta, la configuration se fait toujours sur une seule ligne de commande, ce qui induit automatiquement des commandes relativement longues.</p><p id="r-170765" data-claire-element-id="170765">Voyons quelques exemples afin de rendre ceux-ci plus parlant :</p><p id="r-170766" data-claire-element-id="170766">La première chose que nous allons faire est d'activer les connexion SSH sur Vyatta. Il sera en effet bien plus simple de s'y connecter de cette façon et nous retrouverons notre bon vieux clavier azerty.<br/> L'opération se déroule en trois étapes : on passe en mode configuration, on exécute la commande appropriée, on applique les changements au système.</p><pre id="r-170767" data-claire-element-id="170767"><code data-claire-semantic="console">vyatta@vyatta:~$ configure
[edit]
vyatta@vyatta# set service ssh listen-address 0.0.0.0
[edit]
vyatta@vyatta# commit
[ service ssh ]
Restarting OpenBSD Secure Shell server: sshd.

[edit]
vyatta@vyatta#</code></pre><p id="r-170768" data-claire-element-id="170768">Le service SSH est maintenant activé.</p><div id="r-170770" data-claire-element-id="170770" data-claire-semantic="question"><p id="r-170769" data-claire-element-id="170769">A quoi sert la commande <code data-claire-semantic="console">commit</code> ?</p></div><p id="r-170771" data-claire-element-id="170771">Tandis que sous Cisco, une fois la commande exécutée celle-ci est automatiquement appliquée, sous Vyatta, il faut &quot;valider&quot; afin que la commande soit appliquée au système.<br/> En cas d'erreur de syntaxe, d'incohérence dans la configuration (adresse IP configurée à la fois en statique et en dhcp par exemple), le système vous préviendra de l'erreur au moment du commit.</p><p id="r-170772" data-claire-element-id="170772">Maintenant que le service SSH est activé, il nous faudrait une IP sur laquelle se connecter.<br/> On aimerait pouvoir consulter l'état de nos interfaces réseau. Pour cela nous allons repasser en mode normal et utiliser la commande <code data-claire-semantic="console">show</code>.</p><pre id="r-170773" data-claire-element-id="170773"><code data-claire-semantic="console">vyatta@vyatta:# exit
[edit]
vyatta@vyatta:~$ show interfaces
Codes: S - State, L - Link, u - Up, D - Down, A - Admin Down
Interface    IP Address                        S/L  Description
---------    ----------                        ---  -----------
eth0         -                                 u/u
eth1         -                                 u/u
lo           127.0.0.1/8                       u/u
             ::1/128</code></pre><p id="r-170774" data-claire-element-id="170774">Nous voyons donc bien nos deux interfaces réseau (+ l'interface de loopback), elles sont toutes les deux UP, en revanche aucune d'entre elles n'a d'adresse IP.</p><p id="r-170775" data-claire-element-id="170775">Si vous avez respecté ma configuration des cartes Ethernet, vous devriez en avoir une configurée en bridge (ou pont). Nous allons configurer cette carte là, en laissant votre serveur DHCP (il s'agit sûrement de votre box) lui attribuer une adresse.</p><pre id="r-170776" data-claire-element-id="170776"><code data-claire-semantic="console">vyatta@vyatta:~$ configure
[edit]
vyatta@vyatta# set interface ethernet eth0 address dhcp
[edit]
vyatta@vyatta# commit
[ interfaces ethernet eth0 address dhcp ]
Starting DHCP client on eth0 ...

[edit]
vyatta@vyatta#</code></pre><p id="r-170777" data-claire-element-id="170777">Regardons maintenant le résultat du coté de nos interfaces :</p><pre id="r-170778" data-claire-element-id="170778"><code data-claire-semantic="console">vyatta@vyatta# run show interfaces
Codes: S - State, L - Link, u - Up, D - Down, A - Admin Down
Interface    IP Address                        S/L  Description
---------    ----------                        ---  -----------
eth0         192.168.1.49/24                   u/u
eth1         -                                 u/u
lo           127.0.0.1/8                       u/u
             ::1/128</code></pre><p id="r-170779" data-claire-element-id="170779">Notre interface a récupéré une adresse grâce au DHCP !</p><aside id="r-170781" data-claire-element-id="170781" data-claire-semantic="information"><p id="r-170780" data-claire-element-id="170780">Astuce : pour éviter d'avoir à repasser en mode &quot;normal&quot; avec la commande exit, vous pouvez mettre un &quot;run&quot; devant votre commande, elle sera exécutée comme si vous étiez en mode normal</p></aside><p id="r-170782" data-claire-element-id="170782">Maintenant que votre routeur a, au moins, une adresse IP et que le service SSH est activé, nous allons pouvoir nous y connecter en SSH (via Putty avec Windows ou en terminal avec Linux).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta">Introduction à Vyatta</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
Vyatta, présente toi !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
Configuration et installation de la machine virtuelle
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
Premiers pas avec Vyatta
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
Fonctions avancées
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
<span class="arrow"></span>
<span class="next">Configuration et installation de la machine virtuelle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
<span class="next">Fonctions avancées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Fonctionsavances"></a><h2>Fonctions avancées</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
<span class="arrow"></span>
<span class="next">Premiers pas avec Vyatta</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-170785" data-claire-element-id="170785">Après voir réalisé une configuration simple d'un routeur Vyatta, nous allez essayer d'aller un peu plus loin. Pour l'instant notre routeur a un comportement relativement simpliste, il ne possède que deux interfaces, chacune ayant une adresse IP de configurée. Or Vyatta dispose de fonctionnalités bien plus intéressante que la simple connexion de deux réseaux.</p><p id="r-170786" data-claire-element-id="170786">Malheureusement, il serait bien trop long de détailler toutes les fonctionnalités de Vyatta. Nous nous concentrerons donc sur deux points que j'ai trouvé intéressant d'aborder.</p><h2 id="r-nat" data-claire-element-id="170806">NAT</h2><p id="r-170787" data-claire-element-id="170787">La translation d'adresse (<em>Network Address Translation</em>) est la technique utilisée par les fournisseurs d'accès Internet (Orange, Free, SFR etc) pour vous permettre d'avoir un accès à Internet &quot;sécurisé&quot;. Je reviendrais sur la notion de sécurité un peu plus loin.</p><p id="r-170788" data-claire-element-id="170788">Pour vous donner accès à Internet, vous avez une box (ou un modem/routeur c'est la même chose), celle dispose d'une interface (LAN) connectée à votre réseau local, et une autre (WAN) connectée à Internet. Vos ordinateurs sont connectés à Internet via cette box. Or vos ordinateurs ont des adresses IP privées, ces adresses ne permettent pas de naviguer sur Internet. Mais votre box, elle, a une adresse IP publique sur son interface WAN. Lorsque vous souhaitez accéder à Internet, votre box va changer l'adresse IP source (qui est privée) de vos paquets par son adresse IP publique à elle. C'est ce qu'on appelle de la <strong>translation</strong>.</p><figure id="r-170790" data-claire-element-id="170791"><img id="r-170789" data-claire-element-id="170789" src="medias/uploads.siteduzero.com_files_410001_411000_410780.png" alt="Image utilisateur"/></figure><pre id="r-170792" data-claire-element-id="170792"><code data-claire-semantic="console">vyatta@vyatta:~$ configure
[edit]
vyatta@vyatta# set nat source rule 10 description NAT-LAN-TO-WAN
[edit]
vyatta@vyatta# set nat source rule 10 source address 10.0.10.0/24
[edit]
vyatta@vyatta# set nat source rule 10 outbound-interface eth1
[edit]
vyatta@vyatta# set nat source rule 10 translation address masquerade
[edit]
vyatta@vyatta# commit
[edit]</code></pre><p id="r-170793" data-claire-element-id="170793">On défini dans un premier temps vers quel réseau sera concerné par cette translation. Notre exemple est simple puisqu'il n'y a qu'un seul réseau. On aurait très bien pu choisir de ne nater qu'un seul ordinateur.<br/> Ensuite on choisi l'interface sur laquelle on va nater le trafic, ici évidemment c'est l'interface WAN. Enfin on spécifie le type de translation. Ici c'est &quot;masquerade&quot;, cela signifie que la nouvelle adresse IP source sera l'adresse principale de notre interface de sortie, ici eth1 n'a qu'une seule IP donc ce sera 11.12.13.14. <br/> Imaginons que le réseau relié à eth1 soit 10.0.30.0/24 et nous appartiennent, nous aurions pu nater sur toutes les adresses du réseau, Vyatta aura eu juste à choisir une adresse au hasard dans ce réseau.</p><p id="r-170794" data-claire-element-id="170794">Avec ça, notre ordinateur peut enfin surfer sur Internet.</p><p id="r-170795" data-claire-element-id="170795">Parlons un peu sécurité maintenant. Nous avons donc tout le réseau 10.0.10.0/24 qui peut naviguer sur Internet. Tous les ordinateurs de ce réseau vont naviguer avec la même IP publique. Mais si l'ordinateur demande une page web, le serveur web sur Internet va répondre à 11.12.13.14, sauf que nous on aimerait bien que la réponse arrive jusqu'à 10.0.10.1... Lorsque votre routeur effectue une translation, il garder cette translation en mémoire. Ainsi lorsque les requêtes reviennent, il sait qu'il doit à nouveau translater, mais cette fois c'est l'adresse de destination qu'il remplace, 11.12.13.14 est remplacée par 10.0.10.2 ;)</p><div id="r-170797" data-claire-element-id="170797" data-claire-semantic="question"><p id="r-170796" data-claire-element-id="170796">Est-ce que quelqu'un sur Internet peut joindre directement mon ordinateur ? Si aucune session n'a été préalablement établie ?</p></div><p id="r-170798" data-claire-element-id="170798">Non ce n'est pas possible. Les PC sur Internet ne peuvent contacter que 11.12.13.14, ce qu'il y a derrière ils ne connaissent pas. C'est la sécurité induite par l'utilisation du NAT.<br/> Mais ça n'est qu'une conséquence, le NAT n'est pas un mécanisme de sécurité, ça apporte de la sécurité, mais ça ne doit pas être utilisé pour ça. Le NAT a été à la base inventé pour subvenir à la pénurie d'adresses IPv4.</p><div id="r-170800" data-claire-element-id="170800" data-claire-semantic="question"><p id="r-170799" data-claire-element-id="170799">Oui mais moi, j'ai installé un serveur web chez moi et je voudrais qu'il soit accessible depuis Internet !</p></div><p id="r-170801" data-claire-element-id="170801">Ça en revanche c'est possible. Sauf que cette fois, nous allons utiliser le NAT, non pas pour sortir sur Internet, mais pour permettre à Internet de rentrer dans notre réseau !<br/> Une technique possible serait de dire que tout ce qui est à destination de 11.12.13.14 est automatiquement envoyé à notre serveur. Bon c'est pas très sécurisé ça. C'est un serveur web, normalement les seules requêtes légitimes qui peuvent atteindre ce serveur devrait être à destination du port 80, le reste ne nous intéresse pas. Et bien nous allons translater les requêtes à destination de 11.12.13.14:80 vers 10.0.10.2:80 et uniquement celles ci.</p><pre id="r-170802" data-claire-element-id="170802"><code data-claire-semantic="console">vyatta@vyatta:~$ configure
[edit]
vyatta@vyatta# set nat destination rule 10 description ACCESS-SERVER-WEB
[edit]
vyatta@vyatta# set nat destination rule 10 destination port 80
[edit]
vyatta@vyatta# set nat destination rule 10 inbound-interface eth1
[edit]
vyatta@vyatta# set nat destination rule 10 protocol tcp
[edit]
vyatta@vyatta# set nat destination rule 10 translation address 10.0.10.2
[edit]
vyatta@vyatta# commit
[edit]</code></pre><p id="r-170803" data-claire-element-id="170803">Cela ressemble fortement à ce qu'on avait tout à l'heure. Si on traduit ça signifie : &quot;Tout ce qui arrive sur l'interface eth1 à destination du port tcp 80 est translaté vers 10.0.10.2&quot;. La translation ne précise pas de nouveau port de destination donc, on garde le même.</p><aside id="r-170805" data-claire-element-id="170805" data-claire-semantic="information"><p id="r-170804" data-claire-element-id="170804">On peut tout à fait translater du port 80 vers un port quelconque. La seule contrainte est qu'un port sur l'interface WAN ne peut être translaté qu'une seule fois. Si d'autres serveurs web veulent être accessible depuis Internet, il faudra utiliser un autre port que le 80 (voir les <a href="http://fr.wikipedia.org/wiki/Mandataire_inverse">reverses proxies http</a> pour plus de souplesse)</p></aside><h2 id="r-virtual-router-redundancy-protocol" data-claire-element-id="170840">Virtual Router Redundancy Protocol</h2><aside id="r-170808" data-claire-element-id="170808" data-claire-semantic="warning"><p id="r-170807" data-claire-element-id="170807">Le protocole VRRP fait appel à l'utilisation de deux routeurs Vyatta. Afin de pouvoir tester ce protocole chez vous, il vous faudra monter un deuxième Vyatta.</p></aside><h3 id="r-presentation-41" data-claire-element-id="170821">Présentation</h3><p id="r-170809" data-claire-element-id="170809">Imaginons que vous avez deux connexions ADSL et que vous souhaitez assurer une connexion constante à Internet. Tout votre trafic passerait par un routeur, mais dans le cas où celui ci tomberait, le second routeur viendrait prendre le relai.<br/> Le protocole répondant à ce comportement s'appelle VRRP.</p><p id="r-170810" data-claire-element-id="170810">Son comportement est relativement simple. Les routeurs vont former un groupe VRRP et chacun d'entre eux se verra attribuer une priorité. <br/> Ce groupe disposera d'une adresse IP virtuelle (VIP), que l'on pourrait aussi qualifier de &quot;partagée&quot; c'est à dire qu'elle appartiendra tantôt à un routeur, tantôt à un autre. Ainsi de votre coté, vous n'aurez jamais à changer l'adresse de votre passerelle quand bien même un de vos routeurs serait déconnecté, vous ne voyez que l'adresse IP virtuelle, pas le reste.</p><p id="r-170811" data-claire-element-id="170811">Dans ce groupe un des routeurs sera <em>master</em>, les autres <em>slaves</em>, le master envoie des messages d'information aux routeurs slaves pour leur annoncer son état de santé, on appelle cela le <em>heartbeat</em> (battement de cœur), lorsque celui ci cesse, les routeur slaves comprennent que le master est tombé et élisent au poste de master, le routeur ayant la plus haute priorité. Celui ci devient master et hérite de l'IP virtuelle.</p><p id="r-170812" data-claire-element-id="170812">Voici un schéma résumant ce fonctionnement :</p><figure id="r-170814" data-claire-element-id="170815"><img id="r-170813" data-claire-element-id="170813" src="medias/uploads.siteduzero.com_files_372001_373000_372854.png" alt="Image utilisateur"/></figure><p id="r-170816" data-claire-element-id="170816">R1 et R2 constituent le groupe VRRP (pool en anglais), R1 possède l'adresse locale 192.168.10.253, R2, 192.168.10.252 et ils partagent tous deux 192.168.10.254.</p><div id="r-170818" data-claire-element-id="170818" data-claire-semantic="question"><p id="r-170817" data-claire-element-id="170817">Les routeurs partagent une adresse IP, OK. Mais à quelle adresse MAC sont envoyées les requêtes ? Partagent-ils aussi une adresse MAC virtuelle ?</p></div><p id="r-170819" data-claire-element-id="170819">L'adresse IP virtuelle est commune à tous les routeurs, en revanche ils ne partagent pas d'adresse MAC. <br/><strong>Chaque master conserve sa propre adresse MAC</strong>.<br/> Or cela pose un problème. Les machines du réseau possèdent une table ARP où figurent les correspondances IP/MAC. Si une machine souhaite joindre l'adresse IP virtuelle, elle va envoyer sa requête à l'adresse MAC du dernier master qu'elle a contacté, or si celui ci à changer entre temps, l'adresse MAC n'est plus la bonne et la requête n'atteindra jamais notre groupe VRRP.<br/> Pour palier à ce problème, le master fraîchement élu envoi un <em>gratuitous ARP</em> à toutes les machines du réseau, ceci ayant pour effet de mettre à jour leur table ARP.</p><p id="r-170820" data-claire-element-id="170820"><strong>NB :</strong> L'implémentation de VRRP change en fonction des constructeurs, certains ont décidé de mettre en place aussi une MAC virtuelle qui est commune aux deux routeurs.</p><h3 id="r-configuration-et-tests" data-claire-element-id="170839">Configuration et tests</h3><p id="r-170822" data-claire-element-id="170822">Nous allons maintenant configurer VRRP sur nos deux routeurs.</p><p id="r-170823" data-claire-element-id="170823">J'utilise 4 machines virtuelles pour cet exemple.<br/> Deux sont des routeurs Vyatta, chacun ayant deux interfaces réseau. Ces deux interfaces sont placées dans deux réseaux différents comme vous pouvez le voir sur le schéma ci-dessus. J'ai utilisé pour cela deux réseaux de type &quot;Host only&quot;.<br/> Une machine virtuelle est aussi utilisée afin de simuler le PC.</p><p id="r-170824" data-claire-element-id="170824">Voici donc la configuration d'une interface avec VRRP, je passe la configuration de l'adressage, car elle est détaillée au chapitre précédent.<br/> Les commandes sont les mêmes pour les deux routeurs, le seul changement à effectuer concerne la priorité. En effet il nous faut donner une priorité plus grande au routeur que nous souhaitons voir devenir le master.</p><pre id="r-170825" data-claire-element-id="170825"><code data-claire-semantic="console">vyatta@vyatta:~$ configure
[edit]
vyatta@vyatta# set interface ethernet eth0 vrrp vrrp-group 10
[edit]
vyatta@vyatta# set interface ethernet eth0 vrrp vrrp-group 10 virtual-address 192.168.10.254/24
[edit]
vyatta@vyatta# set interface ethernet eth0 vrrp vrrp-group 10 preempt true
[edit]
vyatta@vyatta# set interface ethernet eth0 vrrp vrrp-group 10 priority 50
[edit]
vyatta@vyatta# commit

[edit]
vyatta@vyatta# run show interfaces
Codes: S - State, L - Link, u - Up, D - Down, A - Admin Down
Interface    IP Address                        S/L  Description
---------    ----------                        ---  -----------
eth0         192.168.10.253/24                 u/u
             192.168.10.254/24                 u/u
lo           127.0.0.1/8                       u/u
             ::1/128</code></pre><p id="r-170826" data-claire-element-id="170826">Petite explication des commandes utilisées :<br/> Dans la première, nous définissons un groupe VRRP par un numéro.<br/> Dans la deuxième, nous définissons l'adresse IP virtuelle qui sera utilisée.<br/> Le <code data-claire-semantic="console">preempt</code> de la troisième ligne est relativement important, il signifie qu'un slave ayant une priorité plus importante que le master devient automatiquement le nouveau master même si ce dernier est toujours actif.</p><div id="r-170828" data-claire-element-id="170828" data-claire-semantic="question"><p id="r-170827" data-claire-element-id="170827">A quoi ça peut bien servir ?</p></div><p id="r-170829" data-claire-element-id="170829">Imaginez un cas &quot;normal&quot;, le routeur R1 a une priorité de 100 et le routeur R2 de 50. R1 est donc le master et R2 le slave. R1 tombe, c'est donc R2 qui hérite de la VIP. Mais grâce à d'excellents techniciens, R1 est de nouveau actif et sa priorité est plus grande que le master actuel. Afin que R1 puisse reprendre ses droits, il faut utiliser le paramètre <code data-claire-semantic="console">preempt</code> afin de restaurer l'ordre original.<br/> Il y a aussi une raison pratique à l'utilisation de ce paramètre. Il arrive régulièrement qu'une entreprise possède deux liaisons Internet, mais rarement deux liaisons équivalentes, l'une est considérée comme la ligne principale, tandis que l'autre est plutôt une liaison de secours avec un débit plus faible par exemple. Pour l'entreprise, il est important que les employées repassent directement sur la liaison principale une fois celle-ci réparée. La liaison de secours n'est là qu'en support, elle n'est pas vouée à être utilisée constamment.</p><p id="r-170830" data-claire-element-id="170830">Et enfin, on définit la priorité de l'interface. J'ai effectivement parlé de priorité d'un routeur jusqu'à présent, mais il s'agit en réalité de la priorité d'une interface.<br/> Un routeur peut avoir plusieurs interfaces, chacune avec une priorité différente de l'autre.</p><p id="r-170831" data-claire-element-id="170831">Le <code data-claire-semantic="console">show interfaces</code>, nous fait apparaître une nouvelle ligne.<br/> L'interface eth0 possède &quot;deux&quot; adresses IP, la première est son IP locale alors que la deuxième est sa VIP. La VIP n'apparaît que sur le master.</p><p id="r-170832" data-claire-element-id="170832">Il faut maintenant tester le bon fonctionnement de VRRP. Pour cela je vais lancer un ping continu (par défaut sous Linux, option -t sous Windows) du PC vers la VIP. Pendant ce temps, je vais rebooter le master et vérifier que le ping n'est pas interrompu.<br/> Voici le résultat chez moi :</p><figure id="r-170834" data-claire-element-id="170835"><img id="r-170833" data-claire-element-id="170833" src="medias/uploads.siteduzero.com_files_372001_373000_372853.png" alt="Image utilisateur"/></figure><p id="r-170836" data-claire-element-id="170836">Le ping avec la latence élevée s'est produit au moment où j’éteignais le routeur master. Il est aussi possible et courant d'avoir une ou deux pertes de paquets.</p><p id="r-170837" data-claire-element-id="170837">Comme vous pouvez le voir, notre configuration VRRP a parfaitement fonctionné !<br/> Vous pouvez aussi vous &quot;amuser&quot; à regarder l'état des interfaces sur le routeur slave au moment du reboot du master, vous verrez que le slave a bel et bien récupéré la VIP.</p><p id="r-170838" data-claire-element-id="170838">Vous voici maintenant familiarisés avec un nouveau type de routeur ! Les routeurs Vyatta offrent une alternative intéressante face à des solutions commerciales et propriétaires.<br/> Les appliances vendues par Vyatta se placent en concurrence directe des firewalls ASA de chez Cisco pour des prix bien en dessous de ceux du marché tout en offrant un service, au moins, équivalent.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta">Introduction à Vyatta</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/vyatta-presente-toi">
Vyatta, présente toi !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/configuration-et-installation-de-la-machine-virtuelle">
Configuration et installation de la machine virtuelle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
Premiers pas avec Vyatta
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/fonctions-avancees">
Fonctions avancées
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/introduction-a-vyatta/premiers-pas-avec-vyatta">
<span class="arrow"></span>
<span class="next">Premiers pas avec Vyatta</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/introduction-a-vyatta.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:11:35 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/introduction-a-vyatta.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:48:00 GMT -->
</html>
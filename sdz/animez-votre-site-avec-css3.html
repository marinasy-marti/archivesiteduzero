<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/animez-votre-site-avec-css3.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 19:58:06 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/animez-votre-site-avec-css3.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:43:12 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Animez votre site avec CSS3 !</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/animez-votre-site-avec-css3.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Animez votre site avec CSS3 !</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#AnimezvotresiteavecCSS3">Animez votre site avec CSS3 !</a><br/><a href="#Leprincipedestransitions">Le principe des transitions</a><br/><a href="#Notrepremiretransition">Notre première transition</a><br/><a href="#Destransitionsunpeupluscomplexes">Des transitions (un peu) plus complexes</a><br/><a href="#Unmenusympa">Un menu sympa !</a><br/><a href="#PlusdelibertavecJavaScript">Plus de liberté avec JavaScript</a><br/></div>
<a name="AnimezvotresiteavecCSS3"></a><h2>Animez votre site avec CSS3 !</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
<span class="next">Le principe des transitions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-618707" data-claire-element-id="618707">Avec l'arrivée de CSS3, les développeurs web ont vu leurs possibilités en <em>webdesign</em> se multiplier : que ce soient les coins arrondis, les fonds en dégradé ou encore les rotations, les nouvelles fonctionnalités utilisables laissent rêveur.</p><p id="r-618708" data-claire-element-id="618708">L'une des nouveautés principales est l'animation des éléments, appelée également transition. Et c'est ce que je vous propose de découvrir dans ce tutoriel ! :)</p>
</div><a name="Leprincipedestransitions"></a><h2>Le principe des transitions</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
<span class="next">Notre première transition</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-618709" data-claire-element-id="618709">Avant de commencer, il est bon de savoir <em>quand</em> a lieu une transition en CSS. Vous n'êtes pas sans savoir qu'il est possible de modifier le style d'un élément d'une page lorsqu'un certain événement se déclenche. L'exemple le plus basique est celui des liens qui changent de couleur lors du passage de la souris.</p><p id="r-618710" data-claire-element-id="618710">La transition a lieu entre l'état initial de l'élément (un lien bleu, par exemple) et son état final après l'événement (admettons que le lien devienne rouge). Grâce à la transition, notre lien ne passera pas du bleu au rouge directement, mais il changera progressivement de couleur.</p><p id="r-618711" data-claire-element-id="618711">Bien entendu, il est possible de faire appel aux transitions sur d'autres propriétés que la couleur comme les dimensions des éléments ou leur position. Je vous invite à consulter <a href="http://www.w3.org/TR/css3-transitions/#animatable-properties-">cette page</a> pour prendre connaissance des propriétés pouvant être animées. Notez cependant que la propriété <code data-claire-semantic="css">transform</code> n'y est pas répertoriée alors qu'elle peut pourtant bel et bien être utilisée : en effet, il est tout à fait possible d'effectuer une transition lors d'une rotation, par exemple. :)</p><p id="r-618712" data-claire-element-id="618712">Pour conclure avec cette première partie, retenez bien ceci : <strong>une transition, c'est tout simplement le changement d'état progressif d'une propriété CSS d'un état initial vers un état final voulu</strong>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3">Animez votre site avec CSS3 !</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
Le principe des transitions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
Notre première transition
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
Des transitions (un peu) plus complexes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
Un menu sympa !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
Plus de liberté avec JavaScript
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
<span class="next">Notre première transition</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Notrepremiretransition"></a><h2>Notre première transition</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
<span class="arrow"></span>
<span class="next">Le principe des transitions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
<span class="next">Des transitions (un peu) plus complexes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-618714" data-claire-element-id="618714">Finalement, comment faire des transitions ? C'est bien plus simple qu'il n'y paraît puisqu'il s'agit en fait de simples propriétés CSS.</p><p id="r-618715" data-claire-element-id="618715">Nous avons à notre disposition cinq propriétés pour effectuer des transitions et nous commencerons par étudier les deux principales :</p><ul id="r-618720" data-claire-element-id="618720"><li id="r-618717" data-claire-element-id="618717"><p id="r-618716" data-claire-element-id="618716">transition-property ;</p></li><li id="r-618719" data-claire-element-id="618719"><p id="r-618718" data-claire-element-id="618718">transition-duration.</p></li></ul><aside id="r-618722" data-claire-element-id="618722" data-claire-semantic="warning"><p id="r-618721" data-claire-element-id="618721">Les normes CSS3 n'étant pas encore finalisées, les navigateurs n'interprètent pas tous ces propriétés, ou alors les interprètent à leur manière !<br/> Si ce cher Internet Explorer les ignore complètement (même dans sa version 9), il est nécessaire de mettre des préfixes pour Firefox, Google Chrome, Safari et Opera. Ainsi, pour Firefox, il est préférable d'écrire <code data-claire-semantic="css">-moz-transition-property</code>, pour Google Chrome et Safari <code data-claire-semantic="css">-webkit-transition-property</code> et pour Opera <code data-claire-semantic="css">-o-transition-property</code>.<br/> Pour plus de clarté dans ce tutoriel, les propriétés seront utilisées sans leur préfixe.</p></aside><p id="r-618723" data-claire-element-id="618723">La propriété <code data-claire-semantic="css">transition-property</code> permet d'indiquer les propriétés de notre élément qui doivent être animées. Par défaut, sa valeur est fixée à « <strong>all</strong> », ce qui signifie que toutes les propriétés seront sujettes à la transition.<br/> Si nous souhaitons appliquer des transitions sur plusieurs propriétés, il suffit de les séparer par des virgules :</p><pre id="r-618724" data-claire-element-id="618724"><code data-claire-semantic="css">p
{
    /* Seules la couleur du texte et les dimensions
    de nos paragraphes auront une transition. */
    transition-property: color, width, height;
}</code></pre><p id="r-618725" data-claire-element-id="618725">Il nous faut maintenant utiliser la propriété <code data-claire-semantic="css">transition-duration</code> pour indiquer le temps que durera la transition entre l'état initial de la propriété et son état final. Par défaut, cette propriété vaut <strong>0s</strong>, il n'y a donc pas de transition.<br/> Il est possible d'indiquer un temps en secondes ou en millisecondes. Pour cela, il suffit d'ajouter respectivement <strong>s</strong> ou <strong>ms</strong> à la suite de notre valeur. :)</p><pre id="r-618726" data-claire-element-id="618726"><code data-claire-semantic="css">p
{
    /* Seules la couleur du texte et les dimensions
    de nos paragraphes auront une transition. */
    transition-property: color, width, height;
    
    /* La transition durera trois secondes. */
    transition-duration: 3s;
}</code></pre><p id="r-618727" data-claire-element-id="618727">Nos transitions sont définies, il ne nous reste plus qu'à indiquer <em>quand</em> les utiliser ! Et c'est là que c'est magique : les transitions auront lieu automatiquement dès que les propriétés concernées seront modifiées !</p><p id="r-618728" data-claire-element-id="618728">Modifions par exemple le style de nos paragraphes au passage de la souris. Je vous rappelle pour cela qu'il faut utiliser le <a href="http://www.siteduzero.com/tutoriel-3-13539-les-pseudo-formats.html">pseudo-format</a><code data-claire-semantic="css">:hover</code> :</p><pre id="r-618729" data-claire-element-id="618729"><code data-claire-semantic="css">/* Style par défaut de nos paragraphes
(= état initial). */
p
{
    /* Seules la couleur du texte et les dimensions
    de nos paragraphes auront une transition. */
    transition-property: color, width, height;
    
    /* La transition durera trois secondes. */
    transition-duration: 3s;

    /* On stylise un peu plus nos paragraphes. */
    width: 400px;
    height: 200px;
    color: #fff;
    background-color: #a5a5a5;
    border: 2px solid #000;
    margin: auto;
    text-align: center;
}

/* Style lors du passage de la souris
(= état final). */
p:hover
{
   width: 300px;
   height: 300px;
   color: #000;
}</code></pre><p id="r-618730" data-claire-element-id="618730">Il ne nous reste plus qu'à tester tout ça avec du code HTML5, extrêmement basique. :) Notez que le code CSS3 ci-dessus est enregistré dans le fichier style.css.</p><pre id="r-618731" data-claire-element-id="618731"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Ma première transition&lt;/title&gt;
                &lt;meta charset=&quot;UTF-8&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; /&gt; 
	&lt;/head&gt;
	&lt;body&gt;
		&lt;p&gt;
                     Passez la souris sur moi !
                &lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><h3 id="r-essayer" data-claire-element-id="618733"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple1.html">Essayer !</a></h3><p id="r-618732" data-claire-element-id="618732">L'avantage des transitions, c'est qu'elles ne sont pas bloquantes : si votre visiteur utilise un navigateur ne pouvant pas les interpréter, le changement d'état des propriétés se fera quand même, seulement, il ne sera pas progressif.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3">Animez votre site avec CSS3 !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
Le principe des transitions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
Notre première transition
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
Des transitions (un peu) plus complexes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
Un menu sympa !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
Plus de liberté avec JavaScript
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
<span class="arrow"></span>
<span class="next">Le principe des transitions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
<span class="next">Des transitions (un peu) plus complexes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Destransitionsunpeupluscomplexes"></a><h2>Des transitions (un peu) plus complexes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
<span class="arrow"></span>
<span class="next">Notre première transition</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
<span class="next">Un menu sympa !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-618735" data-claire-element-id="618735">Maintenant que vous avez saisi le principe des transitions CSS, il est temps de voir deux autres propriétés pouvant être utiles :</p><ul id="r-618740" data-claire-element-id="618740"><li id="r-618737" data-claire-element-id="618737"><p id="r-618736" data-claire-element-id="618736">transition-delay ;</p></li><li id="r-618739" data-claire-element-id="618739"><p id="r-618738" data-claire-element-id="618738">transition-timing-function.</p></li></ul><p id="r-618741" data-claire-element-id="618741">La première, <code data-claire-semantic="css">transition-delay</code>, permet comme son nom l'indique de définir un délai avant que la transition n'ait lieu. Comme pour <code data-claire-semantic="css">transition-duration</code>, il est possible de la définir en secondes (<strong>s</strong>) ou en millisecondes (<strong>ms</strong>), et sa valeur par défaut est <strong>0s</strong>.</p><p id="r-618742" data-claire-element-id="618742">Reprenons l'exemple précédent et ajoutons-y cette propriété :) :</p><pre id="r-618743" data-claire-element-id="618743"><code data-claire-semantic="css">/* Style par défaut de nos paragraphes
(= état initial). */
p
{
    /* Seules la couleur du texte et les dimensions
    de nos paragraphes auront une transition. */
    transition-property: color, width, height;
    
    /* La transition durera trois secondes. */
    transition-duration: 3s;

    /* On attend 1,5 seconde avant que
    la transition ne se lance. */
    transition-delay: 1500ms;

    /* On stylise un peu plus nos paragraphes. */
    width: 400px;
    height: 200px;
    color: #fff;
    background-color: #a5a5a5;
    border: 2px solid #000;
    margin: auto;
    text-align: center;
}</code></pre><h3 id="r-essayer-2" data-claire-element-id="618765"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple2.html">Essayer !</a></h3><p id="r-618744" data-claire-element-id="618744">Bien plus intéressante, <code data-claire-semantic="css">transition-timing-function</code> permet de spécifier l'accélération de notre transition : celle-ci doit-elle être rapide au début puis lente à la fin ? Doit-elle s'exécuter à vitesse constante ?<br/> Cette propriété peut prendre les valeurs suivantes :</p><ul id="r-618757" data-claire-element-id="618757"><li id="r-618746" data-claire-element-id="618746"><p id="r-618745" data-claire-element-id="618745"><strong>linear</strong> : la vitesse de transition est la même du début à la fin de la transition ;</p></li><li id="r-618748" data-claire-element-id="618748"><p id="r-618747" data-claire-element-id="618747"><strong>ease</strong> : la transition commence doucement, s'accélère, puis se termine doucement. Il s'agit de la valeur par défaut ;</p></li><li id="r-618750" data-claire-element-id="618750"><p id="r-618749" data-claire-element-id="618749"><strong>ease-in</strong> : la transition s'accélère peu à peu ;</p></li><li id="r-618752" data-claire-element-id="618752"><p id="r-618751" data-claire-element-id="618751"><strong>ease-out</strong> : la transition ralentit peu à peu ;</p></li><li id="r-618754" data-claire-element-id="618754"><p id="r-618753" data-claire-element-id="618753"><strong>ease-in-out</strong> : la transition commence doucement, s'accélère, puis se termine doucement. Il s'agit en fait de la même chose que la valeur <strong>ease</strong>, sauf que l'effet est plus prononcé ;</p></li><li id="r-618756" data-claire-element-id="618756"><p id="r-618755" data-claire-element-id="618755"><strong>cubic-bezier(x,x,x,x)</strong> : la plus compliquée ! Cette valeur emploie <a href="http://fr.wikipedia.org/wiki/Courbe_de_Bézier">la courbe de Bézier</a> pour définir l'accélération de la transition. Remplacez « simplement » les <strong>x</strong> par des valeurs comprises entre 0 et 1.</p></li></ul><p id="r-618758" data-claire-element-id="618758">Je vous conseille fortement de consulter <a href="http://matthewlein.com/ceaser/">ce site</a>. Ce dernier vous permet de définir et de choisir plus facilement les valeurs qui correspondent le mieux à vos attentes pour la propriété <code data-claire-semantic="css">transition-timing-function</code>. Sélectionnez la valeur souhaitée dans la liste déroulante et testez-la directement sur ce site ou bien modifiez la courbe d'accélération pour obtenir les valeurs adéquates sur la courbe de Bézier. :D</p><h2 id="r-la-mega-propriete-de-transition" data-claire-element-id="618764">La méga propriété de transition</h2><p id="r-618759" data-claire-element-id="618759">Comme souvent en CSS, il est possible de fusionner toutes les propriétés que nous venons de voir en une seule, générique. Celle-ci se nomme tout simplement… <code data-claire-semantic="css">transition</code> ! :p <br/> Voici la manière dont elle se présente :</p><pre id="r-618760" data-claire-element-id="618760"><code data-claire-semantic="css">p
{
    transition: property duration timing-function delay;
}</code></pre><p id="r-618761" data-claire-element-id="618761">Dans le cas où nous souhaitons faire des transitions pour plusieurs propriétés, il suffit de les ajouter à la suite, chacune séparée par une virgule. Pour notre exemple, voici ce que ça donne :</p><pre id="r-618762" data-claire-element-id="618762"><code data-claire-semantic="css">p
{
    /* Il est possible de spécifier des valeurs différentes pour chaque propriété. */
    transition: color 3s ease 1500ms, width 1s ease-in 0s, height 2s ease-out 0.2s;
}</code></pre><h3 id="r-essayer-1" data-claire-element-id="618763"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple3.html">Essayer !</a></h3>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3">Animez votre site avec CSS3 !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
Le principe des transitions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
Notre première transition
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
Des transitions (un peu) plus complexes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
Un menu sympa !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
Plus de liberté avec JavaScript
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
<span class="arrow"></span>
<span class="next">Notre première transition</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
<span class="next">Un menu sympa !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unmenusympa"></a><h2>Un menu sympa !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
<span class="arrow"></span>
<span class="next">Des transitions (un peu) plus complexes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
<span class="next">Plus de liberté avec JavaScript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-618767" data-claire-element-id="618767">Les transitions permettent de donner un côté vraiment très sympathique à nos pages web. En guise d'exercice, je vous propose de réaliser un petit menu dynamique, et ce uniquement en CSS : aucune ligne de JavaScript ne sera nécessaire !</p><p id="r-618768" data-claire-element-id="618768">Voici le code HTML de notre menu :</p><pre id="r-618769" data-claire-element-id="618769"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Un menu dynamique en CSS&lt;/title&gt;
		&lt;meta charset=&quot;UTF-8&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; /&gt; 
	&lt;/head&gt;
	&lt;body&gt;
		&lt;ul&gt;
			&lt;li id=&quot;item1&quot;&gt;
				&lt;a href=&quot;#lien1&quot;&gt;
					&lt;span&gt;
						Description
					&lt;/span&gt;
				&lt;/a&gt;
			&lt;/li&gt;
			&lt;li id=&quot;item2&quot;&gt;
				&lt;a href=&quot;#lien2&quot;&gt;
					&lt;span&gt;
						Description
					&lt;/span&gt;
				&lt;/a&gt;
			&lt;/li&gt;
			&lt;li id=&quot;item3&quot;&gt;
				&lt;a href=&quot;#lien3&quot;&gt;
					&lt;span&gt;
						Description
					&lt;/span&gt;
				&lt;/a&gt;
			&lt;/li&gt;
			&lt;li id=&quot;item4&quot;&gt;
				&lt;a href=&quot;#lien4&quot;&gt;
					&lt;span&gt;
						Description
					&lt;/span&gt;
				&lt;/a&gt;
			&lt;/li&gt;
			&lt;li id=&quot;item5&quot;&gt;
				&lt;a href=&quot;#lien5&quot;&gt;
					&lt;span&gt;
						Description
					&lt;/span&gt;
				&lt;/a&gt;
			&lt;/li&gt;
		&lt;/ul&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-618770" data-claire-element-id="618770">Nous avons donc une liste contenant cinq éléments. Chacun de ces éléments possède un lien, possédant lui-même une description.<br/> Je vous propose d'afficher cette liste de liens sous forme d'images cliquables : au passage de la souris sur une image, la description associée s'affichera dynamiquement sur l'image.</p><p id="r-618771" data-claire-element-id="618771">Commençons tout d'abord par définir le style de base de notre liste :</p><pre id="r-618772" data-claire-element-id="618772"><code data-claire-semantic="css">ul
{
	/* On supprime les puces, on précise une largeur
        et on centre la liste par rapport à la page. */
        list-style: none;
	width: 60%;
	margin: auto;
}

li
{
	/* On fixe les dimensions
        des éléments de notre liste. */
        width: 150px;
	height: 150px;

        /* On met en forme le texte. */
	text-align: center;
	font-weight: bold;
  
        /* On modifie l'affichage pour que
        les éléments soient sur la même ligne. */
	display: inline-block;
	
        /* On ajoute une petite bordure
        et on définit les marges.  */
	border: 1px solid #000;
	margin: 10px;
	padding: 0px;

        /* Quitte à faire du CSS3, autant
        avoir des coins arrondis :p. */
        border-radius: 10px;
        
        /* On centre l'arrière-plan. */
        background-position: center;
      
        /* On modifie la position pour pouvoir ensuite
        placer comme on le souhaite la description des liens. */
        position: relative;

        /* On n'affiche pas ce qui dépasse de nos éléments ! */
	overflow: hidden;	
}

/* On indique les images à afficher
en arrière-plan pour chaque élément. */
#item1{background-image: url('bgd1.jpg')}
#item2{background-image: url('bgd2.jpg')}
#item3{background-image: url('bgd3.jpg')}
#item4{background-image: url('bgd4.jpg')}
#item5{background-image: url('bgd5.jpg')}</code></pre><h3 id="r-essayer-3" data-claire-element-id="618782"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple4.html">Essayer !</a></h3><p id="r-618773" data-claire-element-id="618773">Notre menu commence à avoir de l'allure, mais nous avons encore du boulot ! Il serait par exemple mieux de pouvoir cliquer sur toute l'image plutôt que de devoir cliquer sur le texte de description. Pour cela, il suffit d'indiquer dans la feuille de style que le lien doit prendre les mêmes dimensions que son parent.</p><pre id="r-618774" data-claire-element-id="618774"><code data-claire-semantic="css">li a
{
	/* Pour fixer les dimensions d'un lien,
        il est nécessaire de l'afficher en tant
        qu'élément de type block. */
        display: block;
	width: 100%;
	height: 100%;
        text-decoration: none;
}</code></pre><p id="r-618775" data-claire-element-id="618775">Voilà qui est mieux. :) <br/> Il ne nous reste plus qu'à styliser notre description. Je vous rappelle l'objectif : nous ne voulons pas la voir initialement, mais elle doit s'afficher au survol de la souris.<br/> Les descriptions étant contenues dans un <code data-claire-semantic="html">&lt;span&gt;</code>, il sera nécessaire, comme pour les liens, de les afficher en tant que « <strong>block</strong> » pour fixer leurs dimensions.</p><pre id="r-618776" data-claire-element-id="618776"><code data-claire-semantic="css">li span
{
	display: block;
        height: 50px;
        width: 100%;
        color: #fff;
        margin: 0px;
        
        /* La taille des lignes est égale à
        la hauteur de l'élément. Cela permet
        de centrer verticalement le texte. */
        line-height: 50px;
        
        /* Abusons du CSS3 en affichant
        un arrière-plan semi-transparent ! */
        background-color: rgba(0,0,0,0.3);

        /*Mettons les coins inférieurs arrondis
        pour que ce soit plus propre
        (merci à wibix pour la remarque)*/
        border-bottom-left-radius: 10px;
	border-bottom-right-radius: 10px;
 
        /* Position absolue pour afficher
        la description avec précision. */
        position: absolute;
	
        /* L'ordonnée de l'élément est égale
        à la hauteur de son parent (150px) :
        la description sera donc située sous
        son parent. */
	left: 0px;
	top: 150px;
}</code></pre><p id="r-618777" data-claire-element-id="618777">Voici donc la technique pour rendre « invisible » notre description : on l'affiche sous l'élément qui la contient. Rappelez-vous, nous avons spécifié aux balises <code data-claire-semantic="html">&lt;li&gt;</code> que leur propriété <code data-claire-semantic="css">overflow</code> devait avoir pour valeur « <strong>hidden</strong> » : nos descriptions ne s'afficheront pas.<br/> Mais nous avons oublié un point important. Eh oui, nous n'avons pas indiqué la manière dont les transitions doivent réagir !</p><pre id="r-618778" data-claire-element-id="618778"><code data-claire-semantic="css">li span
{
	display: block;
        height: 50px;
        width: 100%;
        color: #fff;
        margin: 0px;
        
        /* La taille des lignes est égale à
        la hauteur de l'élément. Cela permet
        de centrer verticalement le texte. */
        line-height: 50px;
        
        /* Abusons du CSS3 en affichant
        un arrière-plan semi-transparent. */
        background-color: rgba(0,0,0,0.3);
 
        /* Position absolue pour afficher
        la description avec précision. */
        position: absolute;
	
        /* L'ordonnée de l'élément est égale
        à la hauteur de son parent (150px) :
        la description sera donc située sous
        son parent. */
	left: 0px;
	top: 150px;

        /* N'oublions pas les transitions ! */
        transition-property: top;
        transition-duration: 1s;
}</code></pre><p id="r-618779" data-claire-element-id="618779">Pour afficher notre description, il suffit de jouer avec sa propriété <code data-claire-semantic="css">top</code> : c'est donc sur elle que nous voulons appliquer nos transitions. J'ai choisi pour ma part une durée d'une seconde, ça me semble bien. Je n'ai pas voulu m'embêter avec des délais et des accélérations : les valeurs par défaut me conviennent très bien. ^^</p><p id="r-618780" data-claire-element-id="618780">Il ne nous reste plus qu'à indiquer quand modifier cette propriété <code data-claire-semantic="css">top</code>. Petite difficulté ici : nous voulons modifier la position de notre description uniquement lorsque la souris survole le parent de cette description.</p><pre id="r-618781" data-claire-element-id="618781"><code data-claire-semantic="css">/* On modifie l'ordonnée des descriptions contenues
dans un élément d'une liste survolée par la souris. */
li:hover span
{
	top: 100px;
}</code></pre><h3 id="r-essayer-4" data-claire-element-id="618785"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple5.html">Essayer !</a></h3><p id="r-618783" data-claire-element-id="618783">Et voilà ! :D <br/> Nous avons obtenu un menu fort sympathique assez rapidement et sans véritable difficulté puisqu'il n'y a que du code CSS !</p><p id="r-618784" data-claire-element-id="618784">Il est cependant possible d'utiliser JavaScript pour jouer avec les transitions CSS, c'est d'ailleurs ce que nous allons voir dès maintenant. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3">Animez votre site avec CSS3 !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
Le principe des transitions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
Notre première transition
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
Des transitions (un peu) plus complexes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
Un menu sympa !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
Plus de liberté avec JavaScript
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
<span class="arrow"></span>
<span class="next">Des transitions (un peu) plus complexes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
<span class="next">Plus de liberté avec JavaScript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PlusdelibertavecJavaScript"></a><h2>Plus de liberté avec JavaScript</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
<span class="arrow"></span>
<span class="next">Un menu sympa !</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-618787" data-claire-element-id="618787">L'intérêt des transitions CSS est de s'affranchir de JavaScript pour dynamiser nos pages Web. Cependant, il peut s'avérer nécessaire d'utiliser ce langage pour effectuer certaines manipulations. Par exemple, comment indiquer au navigateur qu'il doit lancer la transition de tel élément lorsque l'on clique sur tel bouton ? En CSS, ce n'est tout simplement pas possible…</p><p id="r-618788" data-claire-element-id="618788">JavaScript va donc nous offrir plus de possibilités avec les transitions, tout ceci avec une simplicité déconcertante !</p><h2 id="r-vingt-mille-lieues-sous-les-mers" data-claire-element-id="618802">Vingt mille lieues sous les mers</h2><p id="r-618789" data-claire-element-id="618789">Pour vous donner un exemple des possibilités qui nous sont offertes, je vous propose de vous prendre pour le capitaine Nemo ! Nous simulerons une sorte de sous-marin pour voir l'océan à travers un hublot…</p><p id="r-618790" data-claire-element-id="618790">Pour cela, nous allons avoir besoin de trois images :</p><figure id="r-618792" data-claire-element-id="618793"><img id="r-618791" data-claire-element-id="618791" src="medias/mariouniversalis.no-ip.org_tutoSdZ_css3_animations_hublot.png" alt="Image utilisateur"/></figure><p id="r-618794" data-claire-element-id="618794"><em>Le hublot, petit montage de ma conception</em></p><figure id="r-618796" data-claire-element-id="618797"><img id="r-618795" data-claire-element-id="618795" src="medias/mariouniversalis.no-ip.org_tutoSdZ_css3_animations_fleches.png" alt="Image utilisateur"/></figure><p id="r-618798" data-claire-element-id="618798"><em>Les flèches pour le tableau de bord, de ma conception également</em></p><p id="r-618799" data-claire-element-id="618799"><a href="../../www.mariouniversalis.fr/tutoSdZ/css3_animations/background.jpg">Et le fond marin (en lien parce que trop grand !).</a><br/><em>Venant de <a href="http://www.linternaute.com/">Linternaute.com</a>, mais vous l'aviez deviné :lol:</em></p><p id="r-618800" data-claire-element-id="618800">Voici donc ce que je vous propose de faire. Notre page contiendra deux <code data-claire-semantic="html">&lt;div&gt;</code>. La première aura pour fond notre océan et contiendra une image : le hublot.<br/> La seconde <code data-claire-semantic="html">&lt;div&gt;</code> en contiendra huit autres : une pour chaque flèche de notre tableau de bord.<br/> Ce dernier se comportera de cette façon : quand la souris passera sur une flèche, la vue que nous aurons de l'océan à travers le hublot se déplacera dans la direction indiquée.</p><p id="r-618801" data-claire-element-id="618801">Ça peut vous paraître flou pour l'instant, mais je vous assure que c'est très simple. :)</p><h2 id="r-les-codes-html-et-css" data-claire-element-id="618819">Les codes HTML et CSS</h2><p id="r-618803" data-claire-element-id="618803">Vous ne devriez pas avoir de mal à comprendre le code HTML de ce mini projet :</p><pre id="r-618804" data-claire-element-id="618804"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Vingt mille lieues sous les mers&lt;/title&gt;
		&lt;meta charset=&quot;UTF-8&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; /&gt; 
		&lt;script	type=&quot;text/javascript&quot;&gt;
			window.onload=function()
			{
				//On placera notre code JS ici.
			};
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id=&quot;ocean&quot;&gt;
			&lt;img src=&quot;hublot.png&quot; alt=&quot;Hublot&quot;/&gt;
		&lt;/div&gt;
		&lt;div id=&quot;controls&quot;&gt;
			&lt;div id=&quot;fleche_hg&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_h&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_hd&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_g&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_d&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_bg&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_b&quot;&gt;&lt;/div&gt;
			&lt;div id=&quot;fleche_bd&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
		&lt;h1&gt;Passez la souris sur les flèches !&lt;/h1&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-618805" data-claire-element-id="618805">Tous les éléments de notre page sont mis en place, il ne nous reste qu'à styliser tout ça. :) <br/> Nous ne nous occuperons du code JavaScript qu'à la fin, une fois que tout sera bien fixé dans notre code CSS.</p><p id="r-618806" data-claire-element-id="618806">Commençons donc par traiter ce qu'il y a de plus facile : je propose déjà de colorer le fond de notre page en gris, parce que le blanc est un peu agressif. Centrons également l'instruction « <em>Passez la souris sur les flèches !</em> » pour faire plus propre.</p><pre id="r-618807" data-claire-element-id="618807"><code data-claire-semantic="css">body
{
	background-color: #a5a5a5;
}

h1
{
	text-align: center;
}</code></pre><p id="r-618808" data-claire-element-id="618808">Bon, passons aux choses sérieuses avec l'océan à proprement parler.<br/> Nous devons le mettre aux mêmes dimensions que l'image du hublot. Pour que ce soit plus joli, nous pouvons également le centrer et lui ajouter une petite bordure. N'oublions également pas de lui appliquer notre image de fond que nous allons d'ailleurs centrer. :) <br/> Rappelons-nous le but de l'exercice tout de même : utiliser les transitions. Pour simuler l'exploration des fonds marins, nous modifierons la position de l'arrière-plan, tout simplement !</p><pre id="r-618809" data-claire-element-id="618809"><code data-claire-semantic="css">#ocean
{
	margin: auto;
	margin-bottom: 10px;
	width: 640px;
	height: 400px;
	border: 2px solid #000;
	background-image: url('background.jpg');
	background-position: center;
        transition-property: background-position;
        transition-duration: 10s;
}</code></pre><h3 id="r-essayer-5" data-claire-element-id="618816"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple6.html">Essayer !</a></h3><p id="r-618810" data-claire-element-id="618810">Nous avançons bien ! :D <br/> Attaquons-nous maintenant au tableau de bord. Il contiendra les flèches de contrôle, à raison de trois par ligne : chaque flèche étant large et haute de 45 pixels, le tableau de bord doit avoir pour dimensions 135 pixels de haut et de large. Je préfère également mettre sa <code data-claire-semantic="css">position</code> en « <strong>relative</strong> » afin de placer au pixel près les flèches qu'il contiendra.</p><pre id="r-618811" data-claire-element-id="618811"><code data-claire-semantic="css">#controls
{
	width: 135px;
	height: 135px;
	margin: auto;
	position: relative;
}</code></pre><p id="r-618812" data-claire-element-id="618812">Les flèches ont toutes les mêmes dimensions et la même image de fond, ce n'est donc pas trop compliqué :) :</p><pre id="r-618813" data-claire-element-id="618813"><code data-claire-semantic="css">#controls div
{
	width: 45px;
	height: 45px;
	position: absolute;
	background-image: url('fleches.png');
	background-repeat: no-repeat;
}</code></pre><p id="r-618814" data-claire-element-id="618814">Pour les flèches, j'ai fait le choix d'employer la technique des <em>sprites</em><a href="http://www.siteduzero.com/tutoriel-3-268435-bien-utiliser-les-sprites-css.html">sprites CSS</a> : cela ne permet d'avoir qu'une seule image à gérer pour toutes les flèches au lieu d'une vingtaine.<br/> En contrepartie, le code CSS est bien plus pénible à écrire, mais il n'est pas plus complexe pour autant. :)</p><pre id="r-618815" data-claire-element-id="618815"><code data-claire-semantic="css">#fleche_hg{left: 0px; top: 0px; background-position: 0px top;}
#fleche_hg:hover{background-position: 0px bottom;}

#fleche_h{left: 45px; top: 0px; background-position: -45px top;}
#fleche_h:hover{background-position: -45px bottom;}

#fleche_hd{left: 90px; top: 0px; background-position: -90px top;}
#fleche_hd:hover{background-position: -90px bottom;}

#fleche_g{left: 0px; top: 45px; background-position: -135px top;}
#fleche_g:hover{background-position: -135px bottom;}

#fleche_d{left: 90px; top: 45px; background-position: -180px top;}
#fleche_d:hover{background-position: -180px bottom;}

#fleche_bg{left: 0px; top: 90px; background-position: -225px top;}
#fleche_bg:hover{background-position: -225px bottom;}

#fleche_b{left: 45px; top: 90px; background-position: -270px top;}
#fleche_b:hover{background-position: -270px bottom;}

#fleche_bd{left: 90px; top: 90px; background-position: -315px top;}
#fleche_bd:hover{background-position: -315px bottom;}</code></pre><h3 id="r-essayer-6" data-claire-element-id="618818"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple7.html">Essayer !</a></h3><p id="r-618817" data-claire-element-id="618817">Tout est fin prêt ! Notre code CSS est en effet achevé, notre navigateur sait, grâce aux transitions, qu'il devra animer le changement de position de l'arrière-plan de l'océan… Il ne nous reste plus qu'à utiliser JavaScript pour ce faire.</p><h2 id="r-la-finalisation-avec-javascript" data-claire-element-id="618832">La finalisation avec JavaScript</h2><p id="r-618820" data-claire-element-id="618820">Nous pouvons désormais fermer notre fichier CSS pour revenir à notre fichier HTML et écrire le code JavaScript.<br/> Nous avons déjà préparé notre fichier de façon à ce qu'il accueille le JavaScript correctement : je vous rappelle quand même que tout se passe dans la fonction <strong>window.onload</strong> afin que le code ne s'exécute qu'une fois la page complètement chargée.</p><p id="r-618821" data-claire-element-id="618821">Bref, que voulons-nous faire exactement ?<br/> Au passage de la souris sur une flèche, nous souhaitons modifier la propriété <code data-claire-semantic="css">background-position</code> de l'océan.<br/> Nous devrons donc écrire la fonction <strong>onmouseover</strong> pour chaque flèche.<br/> Pour déplacer le fond vers le coin supérieur gauche, il suffit de spécifier la propriété CSS <code data-claire-semantic="css">background-position</code> à « <strong>left top</strong> », pour le mettre en bas à droite à « <strong>right bottom</strong> », etc.</p><p id="r-618822" data-claire-element-id="618822">Notre code peut donc être le suivant :</p><pre id="r-618823" data-claire-element-id="618823"><code data-claire-semantic="javascript">//On stocke notre océan pour plus de clarté.
var ocean=document.getElementById('ocean');
document.getElementById('fleche_hg').onmouseover=function()
{
	ocean.style.backgroundPosition='left top';
};
document.getElementById('fleche_h').onmouseover=function()
{
	ocean.style.backgroundPosition='center top';
};
document.getElementById('fleche_hd').onmouseover=function()
{
	ocean.style.backgroundPosition='right top';
};
document.getElementById('fleche_g').onmouseover=function()
{
	ocean.style.backgroundPosition='left center';
};
document.getElementById('fleche_d').onmouseover=function()
{
	ocean.style.backgroundPosition='right center';
};
document.getElementById('fleche_bg').onmouseover=function()
{
	ocean.style.backgroundPosition='left bottom';
};
document.getElementById('fleche_b').onmouseover=function()
{
	ocean.style.backgroundPosition='center bottom';
};
document.getElementById('fleche_bd').onmouseover=function()
{
	ocean.style.backgroundPosition='right bottom';
};</code></pre><p id="r-618824" data-claire-element-id="618824">Oui, ça fait long comme code, mais avouez qu'on a connu plus difficile en JavaScript. :p</p><p id="r-618825" data-claire-element-id="618825">Il serait également bon de recentrer l'arrière-plan lorsque nous ne sommes plus sur une flèche. Pour cela, il faut définir la méthode <strong>onmouseout</strong> de chaque flèche. Cette fois, cette méthode doit faire la même chose quelle que soit la flèche, une boucle pourra donc nous tirer d'affaire.</p><pre id="r-618826" data-claire-element-id="618826"><code data-claire-semantic="javascript">//On récupère tous les éléments enfants du tableau de bord.
var fleches=document.getElementById('controls').childNodes;

//Pour chaque enfant de notre tableau de bord...		
for(var i in fleches)
{
	/* Malheureusement, « fleches » ne contient pas que nos flèches,
        il contient aussi des éléments « Text » : il nous faut donc vérifier que
        l'enfant parcouru possède l'attribut « style ». Si oui, il s'agit d'une
        de nos flèches, on peut donc continuer. */
        if(fleches[i].style)
	{
		//On peut donc définir notre fonction.
                fleches[i].onmouseout=function()
		{
	             //Fonction qui recentre l'arrière-plan de l'océan.
                     ocean.style.backgroundPosition='center';
		}
	}
}</code></pre><h3 id="r-essayer-7" data-claire-element-id="618831"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple8.html">Essayer !</a></h3><aside id="r-618828" data-claire-element-id="618828" data-claire-semantic="error"><p id="r-618827" data-claire-element-id="618827">Malheureusement, cet exemple ne fonctionne pas toujours avec le navigateur Opera et pour une raison bien étrange : ce dernier ne prend pas encore correctement en charge les transitions de la propriété <code data-claire-semantic="css">background-position</code>... Gageons que cette erreur soit corrigée lors de la prochaine mise à jour du navigateur ! En attendant, il est toujours possible de ruser en changeant la façon de penser le système : on peut par exemple ajouter une balise <code data-claire-semantic="html">&lt;div&gt;</code> contenant notre fond, la placer en position « absolue » et la déplacer en jouant avec ses propriétés <code data-claire-semantic="css">top</code> et <code data-claire-semantic="css">left</code>.</p></aside><p id="r-618829" data-claire-element-id="618829">Notre JavaScript modifie donc la position de l'arrière-plan selon les flèches survolées. Grâce à notre code CSS, le changement se fera progressivement, donnant ainsi l'illusion de mouvement ! Notez bien qu'aucune transition ne se fait dans le code JavaScript, tout se déroule dans le code CSS.</p><p id="r-618830" data-claire-element-id="618830">N'est-ce pas merveilleux ? :D</p><h2 id="r-allons-plus-loin-avec-transitionend" data-claire-element-id="618885">Allons plus loin avec <em>transitionend</em></h2><h3 id="r-detectons-la-fin-de-notre-transition" data-claire-element-id="618841">Détectons la fin de notre transition</h3><p id="r-618833" data-claire-element-id="618833">Vous n'êtes pas sans savoir que JavaScript permet de lancer des fonctions lors de l'exécution d'événements. Ainsi, dans notre expérience sous-marine, nous bougions l'arrière-plan lors de l'événement « passage de la souris sur les flèches du tableau de bord ».</p><p id="r-618834" data-claire-element-id="618834">Les transitions CSS ont fait naître un nouvel événement : <strong>transitionend</strong>. Comme les anglophones parmi vous l'auront deviné, cet événement se produit lorsque la transition s'est achevée.</p><p id="r-618835" data-claire-element-id="618835">Sur le papier, ça peut sembler pratique, notamment pour créer un système d'animations enchaînées. Malheureusement, tout comme la propriété CSS, l'événement JavaScript change de nom selon le navigateur du visiteur...</p><p id="r-618836" data-claire-element-id="618836">Ainsi, si Firefox utilise bien <strong>transitionend</strong>, Opera préfère <strong>OTransitionEnd</strong> tandis que Google Chrome a opté pour <strong>webkitTransitionEnd</strong>. Bien entendu, Internet Explorer s'en contre-fiche, vu qu'il ne se préoccupe déjà pas des transitions en CSS. :p</p><aside id="r-618838" data-claire-element-id="618838" data-claire-semantic="warning"><p id="r-618837" data-claire-element-id="618837">Ce dernier point est un véritable problème. Si le navigateur de votre visiteur n'interprète pas les transitions CSS, l'événement <strong>transitionend</strong> ne se déclenchera jamais ! Évitez donc d'y utiliser des fonctions indispensables à la bonne navigation de votre site.</p></aside><p id="r-618839" data-claire-element-id="618839">Tout ceci ne simplifie pas nos affaires et je vous propose donc un petit exemple pour comprendre le fonctionnement.</p><pre id="r-618840" data-claire-element-id="618840"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Découvrons transitionend&lt;/title&gt;
		&lt;meta charset=&quot;UTF-8&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; /&gt; 
		&lt;script&gt;
			window.onload=function()
			{
				// Nombre de fois que l'animation a été achevée
				var total=0;
				
				// On stocke les noms des événements selon les navigateurs
				var navigatorsProperties=['transitionend','OTransitionEnd','webkitTransitionEnd'];				
				
				// On parcourt chacun de ces événements
				for(var i in navigatorsProperties)
				{
					// Et on les lie à notre élément HTML
					document.getElementById('boite').addEventListener(navigatorsProperties[i],function()
					{
						total++;
						document.getElementById('infos').innerHTML='Transition terminée '+total+' fois !';
					},false);
				}
			};
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;h1 id=&quot;infos&quot;&gt;Passez la souris sur le carré !&lt;/h1&gt;
		&lt;div id=&quot;boite&quot;&gt;&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><h3 id="r-essayer-8" data-claire-element-id="618844"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple9.html">Essayer !</a></h3><p id="r-618842" data-claire-element-id="618842">Bon, je ne vous montre pas le code CSS, j'y modifie juste la propriété <code data-claire-semantic="css">margin-left</code> de ma <code data-claire-semantic="html">&lt;div&gt;</code> au passage de la souris, et ce avec une <code data-claire-semantic="css">transition-duration</code> de 2 secondes. Vous devriez être capables de le faire tout seul, maintenant. :p</p><p id="r-618843" data-claire-element-id="618843">Si vous avez testé le code, vous avez vu que l'événement <strong>transitionend</strong> ne se déclenche que lorsque la transition a atteint son état initial ou son état final. Ainsi, si vous sortez la souris du carré pendant son déplacement, celui-ci revient vers son point de départ : la transition vers son état final est certes terminée mais aucun événement ne s'est déclenché ! En effet, le carré fait demi-tour vers son état initial, il considère donc que sa transition n'est pas achevée !</p><h3 id="r-quelle-propriete-a-ete-animee-combien-de-temps-a-dure-la-transition" data-claire-element-id="618852">Quelle propriété a été animée ? Combien de temps a duré la transition ?</h3><p id="r-618845" data-claire-element-id="618845">JavaScript nous offre la possibilité de connaître la propriété CSS qui a été animée. Pour cela, il suffit de récupérer le paramètre fourni par l'événement <strong>transitionend</strong>. Ce paramètre contient en effet deux propriétés qui peuvent nous être utiles :</p><ul id="r-618850" data-claire-element-id="618850"><li id="r-618847" data-claire-element-id="618847"><p id="r-618846" data-claire-element-id="618846"><em>propertyName</em> contient le nom de la propriété CSS qui vient d'être animée ;</p></li><li id="r-618849" data-claire-element-id="618849"><p id="r-618848" data-claire-element-id="618848"><em>elapsedTime</em> indique le temps écoulé depuis le début de la transition, en secondes.</p></li></ul><pre id="r-618851" data-claire-element-id="618851"><code data-claire-semantic="javascript">window.onload=function()
{
	var navigatorsProperties=['transitionend','OTransitionEnd','webkitTransitionEnd'];				
		
	for(var i in navigatorsProperties)
	{
		document.getElementById('boite').addEventListener(navigatorsProperties[i],function(e)
		{
			document.getElementById('infos').innerHTML='Transition de la propriété &lt;em&gt;'+e.propertyName+'&lt;/em&gt; terminée en &lt;b&gt;'+e.elapsedTime+'s&lt;/b&gt; !';
		},false);
	}
};</code></pre><h3 id="r-essayer-9" data-claire-element-id="618856"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple10.html">Essayer !</a></h3><aside id="r-618854" data-claire-element-id="618854" data-claire-semantic="warning"><p id="r-618853" data-claire-element-id="618853">Il y a toutefois une particularité pour <em>elapsedTime</em> : si la transition se coupe en plein milieu, il est remis à zéro. Essayez avec l'exemple ci-dessus en sortant la souris du carré pendant son déplacement, vous verrez que le temps indiqué à la fin de l'animation est toujours inférieur à deux secondes contrairement à ce qui a été indiqué dans le CSS !</p></aside><p id="r-618855" data-claire-element-id="618855">Maintenant que tout est clair sur l'événement <strong>transitionend</strong>, je vous propose un petit exemple d'utilisation. :)</p><h3 id="r-la-balade-de-carapuce" data-claire-element-id="618865">La balade de Carapuce</h3><p id="r-618857" data-claire-element-id="618857">Pour cet exercice, je vous propose de déplacer une <code data-claire-semantic="html">&lt;div&gt;</code> dans une autre. Rien de bien palpitant me direz-vous, mais cela peut donner des résultats intéressants, vous verrez. :)</p><p id="r-618858" data-claire-element-id="618858">Tout d'abord, voici la structure de notre page HTML :</p><pre id="r-618859" data-claire-element-id="618859"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
		&lt;title&gt;Une div se promène.&lt;/title&gt;
		&lt;meta charset=&quot;UTF-8&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; href=&quot;style.css&quot; /&gt; 
		&lt;script	type=&quot;text/javascript&quot;&gt;
			window.onload=function()
			{
			   // Plus tard =D
			};
		&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id=&quot;conteneur&quot;&gt;
			&lt;div id=&quot;moveDiv&quot;&gt;&lt;/div&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-618860" data-claire-element-id="618860">Et son CSS correspondant, que vous pouvez bien entendu améliorer (il est franchement très basique et très moche :p ).</p><pre id="r-618861" data-claire-element-id="618861"><code data-claire-semantic="css">#conteneur
{
	width: 155px;
	height: 130px;
	position: relative;
	margin: auto;
	background-color: #000;
}

#moveDiv
{
	width: 23px;
	height: 19px;
	position: absolute;
	top: 10px;
	left: 10px;
	background-color: #fff;
	transition: left 4s linear, top 5s linear;
}</code></pre><p id="r-618862" data-claire-element-id="618862">Comme vous le voyez, j'ai décidé d'animer les propriétés <code data-claire-semantic="css">left</code> et <code data-claire-semantic="css">top</code> : le déplacement de notre <code data-claire-semantic="html">&lt;div&gt;</code> sera donc fluide. :)</p><p id="r-618863" data-claire-element-id="618863">Il ne nous reste plus qu'à lancer la transition en JavaScript pour qu'elle se fasse dès le chargement de la page, sans aucune action de la part du visiteur. Ensuite, via <strong>transitionend</strong>, on demandera un autre déplacement de sorte que notre élément visite chacun des quatre coins de son parent.</p><pre id="r-618864" data-claire-element-id="618864"><code data-claire-semantic="javascript">window.onload=function()
{
	// Les coordonnées de chaque coin du conteneur
	var topLeft=[10,10];
	var topRight=[122,10];
	var bottomLeft=[10,101];
	var bottomRight=[122,101];
	
	// On crée un objet littéral pour stocker nos valeurs
	var objet=
	{
		// Notre div à déplacer
		'div': document.getElementById('moveDiv'),
		
		// La position vers laquelle elle se dirige
		'position': topRight,
		
		// Et une fonction pour la faire bouger !
		'move': function()
		{
			this.div.style.left=this.position[0]+'px';
			this.div.style.top=this.position[1]+'px';
		}
	}
		
	var navigatorsProperties=['transitionend','OTransitionEnd','webkitTransitionEnd'];				
	for(var i in navigatorsProperties)
	{
		objet.div.addEventListener(navigatorsProperties[i],function(e)
		{
			/*Lorsque la div a fini son déplacement, on lui
			indique un autre point à atteindre*/
			switch(objet.position)
			{
				case topRight:
					objet.position=bottomRight;
				break;
				
				case bottomRight:
					objet.position=bottomLeft;
				break;
				
				case bottomLeft:
					objet.position=topLeft;
				break;
				
				case topLeft:
					objet.position=topRight;
				break;
			}
			
			// Et on lui demande de se rendre à ce point !
			objet.move();
		},false);
	}
	
	// On lance le déplacement de notre div !
	objet.move();
};</code></pre><h3 id="r-essayer-10" data-claire-element-id="618875"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple11.html">Essayer !</a></h3><p id="r-618866" data-claire-element-id="618866">Notre <code data-claire-semantic="html">&lt;div&gt;</code> parcourt bien chacun des quatre points de son conteneur. :) Bon, ce n'est pas très joli, mais en appliquant des images en arrière-plan, il est possible d'avoir des résultats bien plus sympathiques. Tenez, prenons ces images :</p><figure id="r-618868" data-claire-element-id="618869"><img id="r-618867" data-claire-element-id="618867" src="medias/mariouniversalis.no-ip.org_tutoSdZ_css3_animations_fond_carapuce.png" alt="Image utilisateur"/></figure><p id="r-618870" data-claire-element-id="618870"><em>Trouvée sur <a href="http://www.spriters-resource.com/">Spriters Ressource</a>.</em></p><figure id="r-618872" data-claire-element-id="618873"><img id="r-618871" data-claire-element-id="618871" src="medias/mariouniversalis.no-ip.org_tutoSdZ_css3_animations_carapuce.gif" alt="Image utilisateur"/></figure><p id="r-618874" data-claire-element-id="618874"><em>Trouvée également sur <a href="http://www.spriters-resource.com/">Spriters Ressource</a> et ré-arrangée par moi-même :) .</em></p><h3 id="r-essayer-11" data-claire-element-id="618884"><a href="http://mariouniversalis.no-ip.org/tutoSdZ/css3_animations/exemple12.html">Essayer !</a></h3><p id="r-618876" data-claire-element-id="618876">N'est-ce pas mieux ? Si vous n'êtes pas encore convaincu par les transitions CSS3, je ne peux plus rien pour vous ! :D</p><aside id="r-618878" data-claire-element-id="618878" data-claire-semantic="information"><p id="r-618877" data-claire-element-id="618877">Pour modifier l'orientation du Carapuce, il suffit de changer sa propriété <code data-claire-semantic="css">background-position</code> dans notre code JavaScript, au niveau du <code data-claire-semantic="javascript">switch</code>.</p></aside><div id="r-618880" data-claire-element-id="618880"><p id="r-618879" data-claire-element-id="618879"><em>Merci à Nesquik69 pour m'avoir suggéré la rédaction de cette partie sur <strong>transitionend</strong>.</em> ;)</p></div><p id="r-618881" data-claire-element-id="618881">Les animations avec CSS3 sont donc une sacrée avancée dans le domaine du développement web. JavaScript n'est désormais plus relégué qu'à titre de support pour ces transitions, fini le temps des machines à gaz écrites avec ce langage ! :lol:</p><p id="r-618882" data-claire-element-id="618882">Mais qu'on ne se leurre pas : même si nous pouvons faire des choses vraiment sympathiques rien qu'en CSS3, JavaScript reste indispensable pour des choses un peu plus avancées.</p><p id="r-618883" data-claire-element-id="618883">Il est temps de se demander si charger une bibliothèque telle que <strong>jQuery</strong> est indispensable pour nos petites animations. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3">Animez votre site avec CSS3 !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/le-principe-des-transitions">
Le principe des transitions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/notre-premiere-transition">
Notre première transition
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/des-transitions-un-peu-plus-complexes">
Des transitions (un peu) plus complexes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
Un menu sympa !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/plus-de-liberte-avec-javascript">
Plus de liberté avec JavaScript
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/animez-votre-site-avec-css3/un-menu-sympa">
<span class="arrow"></span>
<span class="next">Un menu sympa !</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/animez-votre-site-avec-css3.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 19:58:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/animez-votre-site-avec-css3.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:43:16 GMT -->
</html>
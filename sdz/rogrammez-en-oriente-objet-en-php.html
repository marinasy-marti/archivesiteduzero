<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/rogrammez-en-oriente-objet-en-php.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:14:18 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/rogrammez-en-oriente-objet-en-php.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:48:29 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Programmez en orienté objet en PHP</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/programmez-en-oriente-objet-en-php.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Programmez en orienté objet en PHP</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#ProgrammezenorientobjetenPHP">Programmez en orienté objet en PHP</a><br/><a href="#IntroductionlaPOO">Introduction à la POO</a><br/><a href="#Qu039est-cequelaPOO">Qu&#039;est-ce que la POO ?</a><br/><a href="#Creruneclasse">Créer une classe</a><br/><a href="#Utiliserlaclasse">Utiliser la classe</a><br/><a href="#Creretmanipulerunobjet">Créer et manipuler un objet</a><br/><a href="#Lesaccesseursetmutateurs">Les accesseurs et mutateurs</a><br/><a href="#Leconstructeur">Le constructeur</a><br/><a href="#L039auto-chargementdeclasses">L&#039;auto-chargement de classes</a><br/><a href="#L039oprateurdersolutiondeporte">L&#039;opérateur de résolution de portée</a><br/><a href="#Lesconstantesdeclasse">Les constantes de classe</a><br/><a href="#Lesattributsetmthodesstatiques">Les attributs et méthodes statiques</a><br/><a href="#Manipulationdedonnesstockes">Manipulation de données stockées</a><br/><a href="#Uneentitunobjet">Une entité, un objet</a><br/><a href="#L039hydratation">L&#039;hydratation</a><br/><a href="#GrersaBDDcorrectement">Gérer sa BDD correctement</a><br/><a href="#TPMini-jeudecombat">TP : Mini-jeu de combat</a><br/><a href="#Cequ039onvafaire">Ce qu&#039;on va faire</a><br/><a href="#Premiretapelepersonnage">Première étape : le personnage</a><br/><a href="#Secondetapestockageenbasededonnes">Seconde étape : stockage en base de données</a><br/><a href="#Troisimetapeutilisationdesclasses">Troisième étape : utilisation des classes</a><br/><a href="#Amliorationspossibles">Améliorations possibles</a><br/><a href="#L039hritage">L&#039;héritage</a><br/><a href="#Notiond039hritage">Notion d&#039;héritage</a><br/><a href="#Unnouveautypedevisibilitprotected">Un nouveau type de visibilité : protected</a><br/><a href="#Imposerdescontraintes">Imposer des contraintes</a><br/><a href="#Rsolutionstatiquelavole">Résolution statique à la volée</a><br/><a href="#TPDespersonnagesspcialiss">TP : Des personnages spécialisés</a><br/><a href="#Cequenousallonsfaire">Ce que nous allons faire</a><br/><a href="#Correction">Correction</a><br/><a href="#Amliorationspossibles">Améliorations possibles</a><br/><a href="#Lesmthodesmagiques">Les méthodes magiques</a><br/><a href="#Leprincipe">Le principe</a><br/><a href="#Surchargerlesattributsetmthodes">Surcharger les attributs et méthodes</a><br/><a href="#Linarisersesobjets">Linéariser ses objets</a><br/><a href="#Autresmthodesmagiques">Autres méthodes magiques</a><br/><a href="#Lesobjetsenprofondeur">Les objets en profondeur</a><br/><a href="#Unobjetunidentifiant">Un objet, un identifiant</a><br/><a href="#Comparonsnosobjets">Comparons nos objets</a><br/><a href="#Parcouronsnosobjets">Parcourons nos objets</a><br/><a href="#Lesinterfaces">Les interfaces</a><br/><a href="#Prsentationetcrationd039interfaces">Présentation et création d&#039;interfaces</a><br/><a href="#Hritersesinterfaces">Hériter ses interfaces</a><br/><a href="#Interfacesprdfinies">Interfaces prédéfinies</a><br/><a href="#Lesexceptions">Les exceptions</a><br/><a href="#Unediffrentegestiondeserreurs">Une différente gestion des erreurs</a><br/><a href="#Desexceptionsspcialises">Des exceptions spécialisées</a><br/><a href="#Grerleserreursfacilement">Gérer les erreurs facilement</a><br/><a href="#Lestraits">Les traits</a><br/><a href="#Leprincipedestraits">Le principe des traits</a><br/><a href="#Plusloinaveclestraits">Plus loin avec les traits</a><br/><a href="#L039APIderflexivit">L&#039;API de réflexivité</a><br/><a href="#Obtenirdesinformationssursesclasses">Obtenir des informations sur ses classes</a><br/><a href="#Obtenirdesinformationssurlesattributsdesesclasses">Obtenir des informations sur les attributs de ses classes</a><br/><a href="#Obtenirdesinformationssurlesmthodesdesesclasses">Obtenir des informations sur les méthodes de ses classes</a><br/><a href="#Utiliserdesannotations">Utiliser des annotations</a><br/><a href="#UMLprsentation1_2">UML : présentation (1/2)</a><br/><a href="#UMLkzako">UML, kézako ?</a><br/><a href="#Modliseruneclasse">Modéliser une classe</a><br/><a href="#Modliserlesinteractions">Modéliser les interactions</a><br/><a href="#UMLmodlisonsnosclasses2_2">UML : modélisons nos classes (2/2)</a><br/><a href="#Ayonslesbonsoutils">Ayons les bons outils</a><br/><a href="#Modliseruneclasse">Modéliser une classe</a><br/><a href="#Modliserlesinteractions">Modéliser les interactions</a><br/><a href="#Exploitersondiagramme">Exploiter son diagramme</a><br/><a href="#Lesdesignpatterns">Les design patterns</a><br/><a href="#LaisseruneclassecrantlesobjetslepatternFactory">Laisser une classe créant les objets : le pattern Factory</a><br/><a href="#coutersesobjetslepatternObserver">Écouter ses objets : le pattern Observer</a><br/><a href="#SparersesalgorithmeslepatternStrategy">Séparer ses algorithmes : le pattern Strategy</a><br/><a href="#UneclasseuneinstancelepatternSingleton">Une classe, une instance : le pattern Singleton</a><br/><a href="#L039injectiondedpendances">L&#039;injection de dépendances</a><br/><a href="#TPunsystmedenews">TP : un système de news</a><br/><a href="#Cequenousallonsfaire">Ce que nous allons faire</a><br/><a href="#Correction">Correction</a><br/><a href="#Descriptiondel039application">Description de l&#039;application</a><br/><a href="#Uneapplicationqu039estcequec039est">Une application, qu&#039;est ce que c&#039;est ?</a><br/><a href="#Lesentraillesdel039application">Les entrailles de l&#039;application</a><br/><a href="#Rsumdudroulementdel039application">Résumé du déroulement de l&#039;application</a><br/><a href="#Dveloppementdelabibliothque">Développement de la bibliothèque</a><br/><a href="#L039application">L&#039;application</a><br/><a href="#Lerouteur">Le routeur</a><br/><a href="#Lebackcontroller">Le back controller</a><br/><a href="#Lapage">La page</a><br/><a href="#Bonusl039utilisateur">Bonus : l&#039;utilisateur</a><br/><a href="#Bonus2laconfiguration">Bonus 2 : la configuration</a><br/><a href="#Lefrontend">Le frontend</a><br/><a href="#L039application">L&#039;application</a><br/><a href="#Lemoduledenews">Le module de news</a><br/><a href="#Ajoutonsdescommentaires">Ajoutons des commentaires</a><br/><a href="#Lebackend">Le backend</a><br/><a href="#L039application">L&#039;application</a><br/><a href="#Lemoduledeconnexion">Le module de connexion</a><br/><a href="#Lemoduledenews">Le module de news</a><br/><a href="#N039oublionspaslescommentaires">N&#039;oublions pas les commentaires !</a><br/><a href="#Grerlesformulaires">Gérer les formulaires</a><br/><a href="#Leformulaire">Le formulaire</a><br/><a href="#Lesvalidateurs">Les validateurs</a><br/><a href="#Leconstructeurdeformulaires">Le constructeur de formulaires</a><br/><a href="#Legestionnairedeformulaires">Le gestionnaire de formulaires</a><br/><a href="#L039oprateurinstanceof">L&#039;opérateur instanceof</a><br/><a href="#Prsentationdel039oprateur">Présentation de l&#039;opérateur</a><br/><a href="#instanceofetl039hritage">instanceof et l&#039;héritage</a><br/><a href="#instanceofetlesinterfaces">instanceof et les interfaces</a><br/></div>
<a name="ProgrammezenorientobjetenPHP"></a><h2>Programmez en orienté objet en PHP</h2><div class="content" role="article">
<p id="r-606780" data-claire-element-id="606780">Bienvenue dans ce tutoriel sur la programmation orientée objet (souvent abrégé par ses initiales « POO ») en PHP.</p><p id="r-606781" data-claire-element-id="606781">Ici, vous allez découvrir un nouveau moyen de penser votre code, un nouveau moyen de le concevoir. Vous allez le représenter de façon <em>orienté objet</em>, un moyen de conception inventé dans les années 1970 et qui prend de plus en plus de place aujourd'hui. La principale raison de ce succès est due à de nombreux avantages apportés par ce paradigme, comme une organisation plus cohérente de vos projets, une maintenance plus facile et une distribution de votre code plus aisée.</p><p id="r-606782" data-claire-element-id="606782">Cependant, avant de vous lancer dans ce (très) vaste domaine, vous devez avoir quelques connaissances au préalable.</p><p id="r-606783" data-claire-element-id="606783"><strong>Ce qui doit être acquis</strong><br/> Afin de suivre au mieux ce tutoriel, il est indispensable voire obligatoire :</p><ul id="r-606792" data-claire-element-id="606792"><li id="r-606785" data-claire-element-id="606785"><p id="r-606784" data-claire-element-id="606784">d'être à l'aise avec PHP et sa syntaxe. Si ce n'est pas le cas, le Site du Zéro propose <a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html">un tutoriel</a> ;</p></li><li id="r-606787" data-claire-element-id="606787"><p id="r-606786" data-claire-element-id="606786">d'avoir bien pratiqué ;</p></li><li id="r-606789" data-claire-element-id="606789"><p id="r-606788" data-claire-element-id="606788">d'être patient ;</p></li><li id="r-606791" data-claire-element-id="606791"><p id="r-606790" data-claire-element-id="606790">d'avoir PHP 5 sur son serveur. Je ne parlerai pas de POO en PHP 4 car sous cette version de PHP, certaines fonctions indispensables de la POO ne sont pas présentes (on ne peut donc pas vraiment parler de POO).</p></li></ul><p id="r-606793" data-claire-element-id="606793">Si vous avez déjà pratiqué d'autres langages apportant la possibilité de programmer orienté objet, c'est un gros plus, surtout si vous savez programmer en Java (PHP a principalement tiré son modèle objet de ce langage).</p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="IntroductionlaPOO"></a><h2>Introduction à la POO</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
<span class="next">Qu&#039;est-ce que la POO ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-606794" data-claire-element-id="606794">Alors ça y est, vous avez décidé de vous lancer dans la POO en PHP ? Sage décision ! Nous allons donc plonger dans ce vaste domaine par une introduction à cette nouvelle façon de penser : qu'est-ce que la POO ? En quoi ça consiste ? En quoi est-ce si différent de la méthode que vous employez pour développer votre site web ? Tant de questions auxquelles je vais répondre.</p><p id="r-606795" data-claire-element-id="606795">Cependant, puisque je sais que vous avez hâte de commencer, nous allons entamer sérieusement les choses en créant notre première <strong>classe</strong> dès la fin de ce chapitre. Vous commencerez ainsi vos premiers pas dans la POO en PHP !</p>
</div><a name="Qu039est-cequelaPOO"></a><h2>Qu&#039;est-ce que la POO ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">
<span class="arrow"></span>
<span class="next">Introduction à la POO</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
<span class="next">Créer une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-qu-est-ce-que-la-poo" data-claire-element-id="606843">Qu'est-ce que la POO ?</h4><h5 id="r-il-etait-une-fois-le-procedural" data-claire-element-id="606798">Il était une fois le procédural</h5><p id="r-606796" data-claire-element-id="606796">Commençons ce cours en vous posant une question : comment est représenté votre code ? La réponse est unique : vous avez utilisé la « représentation procédurale » qui consiste à séparer le traitement des données des données elles-mêmes. Par exemple, vous avez un système de news sur votre site. D'un côté, vous avez les données (les news, une liste d'erreurs, une connexion à la BDD, etc.) et de l'autre côté vous avez une suite d'instructions qui viennent modifier ces données. Si je ne me trompe pas, c'est de cette manière que vous codez.</p><p id="r-606797" data-claire-element-id="606797">Cette façon de se représenter votre application vous semble sans doute la meilleure puisque c'est la seule que vous connaissez. D'ailleurs, vous ne voyez pas trop comment votre code pourrait être représenté de manière différente. Eh bien cette époque d'ignorance est révolue : voici maintenant la programmation orientée objet !</p><h5 id="r-puis-naquit-la-programmation-orientee-objet" data-claire-element-id="606830">Puis naquit la programmation orientée objet</h5><p id="r-606799" data-claire-element-id="606799">Alors, qu'est-ce donc que cette façon de représenter son code ? La POO, c'est tout simplement faire de son site un ensemble d'objets qui interagissent entre eux. En d'autres termes : tout est objet.</p><h6 id="r-definition-d-un-objet" data-claire-element-id="606822">Définition d'un objet</h6><p id="r-606800" data-claire-element-id="606800">Je suis sûr que vous savez ce que c'est. D'ailleurs, vous en avez pas mal à côté de vous : je suis sûr que vous avez un ordinateur, une lampe, une chaise, un bureau, ou que sais-je encore. Ce sont tous des objets. En programmation, les objets sont sensiblement la même chose.</p><p id="r-606801" data-claire-element-id="606801">L'exemple le plus pertinent quand on fait un cours sur la POO est d'utiliser l'exemple du personnage dans un jeu de combat. Ainsi, imaginons que nous ayons un objet <code>Personnage</code> dans notre application. Un personnage a des caractéristiques :</p><ul id="r-606810" data-claire-element-id="606810"><li id="r-606803" data-claire-element-id="606803"><p id="r-606802" data-claire-element-id="606802">une force ;</p></li><li id="r-606805" data-claire-element-id="606805"><p id="r-606804" data-claire-element-id="606804">une localisation ;</p></li><li id="r-606807" data-claire-element-id="606807"><p id="r-606806" data-claire-element-id="606806">une certaine expérience ;</p></li><li id="r-606809" data-claire-element-id="606809"><p id="r-606808" data-claire-element-id="606808">et enfin des dégâts.</p></li></ul><p id="r-606811" data-claire-element-id="606811">Toutes ses caractéristiques correspondent à des valeurs. Comme vous le savez sûrement, les valeurs sont stockées dans des variables. C'est toujours le cas en POO. Ce sont des variables un peu spéciales, mais nous y reviendrons plus tard.</p><p id="r-606812" data-claire-element-id="606812">Mis à part ces caractéristiques, un personnage a aussi des capacités. Il peut :</p><ul id="r-606819" data-claire-element-id="606819"><li id="r-606814" data-claire-element-id="606814"><p id="r-606813" data-claire-element-id="606813">frapper un autre personnage ;</p></li><li id="r-606816" data-claire-element-id="606816"><p id="r-606815" data-claire-element-id="606815">gagner de l'expérience ;</p></li><li id="r-606818" data-claire-element-id="606818"><p id="r-606817" data-claire-element-id="606817">se déplacer.</p></li></ul><p id="r-606820" data-claire-element-id="606820">Ces capacités correspondent à des fonctions. Comme pour les variables, ce sont des fonctions un peu spéciales et on y reviendra en temps voulu. En tout cas, le principe est là.</p><p id="r-606821" data-claire-element-id="606821">Vous savez désormais qu'on peut avoir des objets dans une application. Mais d'où sortent-ils ? Dans la vie réelle, un objet ne sort pas de nulle part. En effet, chaque objet est défini selon des caractéristiques et un plan bien précis. En POO, ces informations sont contenues dans ce qu'on appelle des <strong>classes</strong>.</p><h6 id="r-definition-d-une-classe" data-claire-element-id="606827">Définition d'une classe</h6><p id="r-606823" data-claire-element-id="606823">Comme je viens de le dire, les classes contiennent la définition des objets que l'on va créer par la suite. Prenons l'exemple le plus simple du monde : les gâteaux et leur moule. Le moule est unique. Il peut produire une quantité infinie de gâteaux. Dans ce cas-là, les gâteaux sont les <em>objets</em> et le moule est la <em>classe</em> : le moule va définir la forme du gâteau. La classe contient donc le plan de fabrication d'un objet et on peut s'en servir autant qu'on veut afin d'obtenir une infinité d'objets.</p><div id="r-606825" data-claire-element-id="606825" data-claire-semantic="question"><p id="r-606824" data-claire-element-id="606824">Concrètement, une classe, c'est quoi ?</p></div><p id="r-606826" data-claire-element-id="606826">Une classe est une entité regroupant des variables et des fonctions. Chacune de ces fonctions aura accès aux variables de cette entité. Dans le cas du personnage, nous aurons une fonction <code>frapper()</code>. Cette fonction devra simplement modifier la variable <code>$degats</code> du personnage en fonction de la variable <code>$force</code>. Une classe est donc un regroupement logique de variables et fonctions que tout objet issu de cette classe possédera.</p><h6 id="r-definition-d-une-instance" data-claire-element-id="606829">Définition d'une instance</h6><p id="r-606828" data-claire-element-id="606828">Une instance, c'est tout simplement le résultat d'une <em>instanciation</em>. Une <em>instanciation</em>, c'est le fait d'<em>instancier</em> une classe. <em>Instancier</em> une classe, c'est se servir d'une classe afin qu'elle nous crée un objet. En gros, une instance est un objet.</p><h5 id="r-exemple-creation-d-une-classe" data-claire-element-id="606837">Exemple : création d'une classe</h5><p id="r-606831" data-claire-element-id="606831">Nous allons créer une classe <code>Personnage</code> (sous forme de schéma bien entendu). Celle-ci doit contenir la liste des variables et des fonctions que l'on a citées plus haut : c'est la base de tout objet <code>Personnage</code>. Chaque instance de cette classe possédera ainsi toutes ces variables et fonctions. Voici donc cette fameuse classe à la figure suivante.</p><figure id="r-le-schema-de-notre-classe" data-claire-element-id="606834"><img id="r-606832" data-claire-element-id="606832" src="medias/uploads.siteduzero.com_files_408001_409000_408550.png" alt="Le schéma de notre classe"/><figcaption>Le schéma de notre classe</figcaption></figure><p id="r-606835" data-claire-element-id="606835">Vous voyez donc les variables et fonctions stockées dans la classe <code>Personnage</code>. Sachez qu'en réalité, on ne les appelle pas comme ça : il s'agit d'<strong>attributs</strong> (ou propriétés) et de <strong>méthodes</strong>. Un attribut désigne une variable et une méthode désigne une fonction.</p><p id="r-606836" data-claire-element-id="606836">Ainsi, tout objet <code>Personnage</code> aura ces attributs et méthodes. On pourra modifier ces attributs et invoquer ces méthodes sur notre objet afin de modifier ses caractéristiques ou son comportement.</p><h5 id="r-le-principe-d-encapsulation-1" data-claire-element-id="606842">Le principe d'encapsulation</h5><p id="r-606838" data-claire-element-id="606838">L'un des gros avantages de la POO est que l'on peut masquer le code à l'utilisateur (l'utilisateur est ici celui qui se servira de la classe, pas celui qui chargera la page depuis son navigateur). Le concepteur de la classe a englobé dans celle-ci un code qui peut être assez complexe et il est donc inutile voire dangereux de laisser l'utilisateur manipuler ces objets sans aucune restriction. Ainsi, il est important d'interdire à l'utilisateur de modifier directement les attributs d'un objet.</p><p id="r-606839" data-claire-element-id="606839">Prenons l'exemple d'un avion où sont disponibles des centaines de boutons. Chacun de ces boutons constituent des actions que l'on peut effectuer sur l'avion. C'est l'<em>interface</em> de l'avion. Le pilote se moque de quoi est composé l'avion : son rôle est de le piloter. Pour cela, il va se servir des boutons afin de manipuler les composants de l'avion. Le pilote ne doit pas se charger de modifier manuellement ces composants : il pourrait faire de grosses bêtises.</p><p id="r-606840" data-claire-element-id="606840">Le principe est exactement le même pour la POO : l'utilisateur de la classe doit se contenter d'invoquer les méthodes en ignorant les attributs. Comme le pilote de l'avion, il n'a pas à les trifouiller. Pour instaurer une telle contrainte, on dit que les attributs sont <strong>privés</strong>. Pour l'instant, ceci peut sans doute vous paraître abstrait, mais nous y reviendrons. ;)</p><p id="r-606841" data-claire-element-id="606841">Bon, je pense que j'ai assez parlé, commençons par créer notre première classe !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">
<span class="arrow"></span>
<span class="next">Introduction à la POO</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
<span class="next">Créer une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Creruneclasse"></a><h2>Créer une classe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce que la POO ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">
<span class="next">Utiliser la classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-une-classe-2" data-claire-element-id="606879">Créer une classe</h4><h5 id="r-syntaxe-de-base-1" data-claire-element-id="606849">Syntaxe de base</h5><p id="r-606844" data-claire-element-id="606844">Le but de cette section va être de traduire la figure précédente en code PHP. Avant cela, je vais vous donner la syntaxe de base de toute classe en PHP :</p><pre id="r-606845" data-claire-element-id="606845"><code data-claire-semantic="html+php">&lt;?php
class Personnage // Présence du mot-clé class suivi du nom de la classe.
{
  // Déclaration des attributs et méthodes ici.
}
?&gt;</code></pre><p id="r-606846" data-claire-element-id="606846">Cette syntaxe est à retenir absolument. Heureusement, elle est simple.</p><p id="r-606847" data-claire-element-id="606847">Ce qu'on vient de faire est donc de créer le moule, le plan qui définira nos objets. On verra dans le prochain chapitre comment utiliser ce plan afin de créer un objet. Pour l'instant, contentons-nous de construire ce plan et de lui ajouter des fonctionnalités.</p><p id="r-606848" data-claire-element-id="606848">La déclaration d'attributs dans une classe se fait en écrivant le nom de l'attribut à créer, précédé de sa <strong>visibilité</strong>.</p><h5 id="r-visibilite-d-un-attribut-ou-d-une-methode" data-claire-element-id="606854">Visibilité d'un attribut ou d'une méthode</h5><p id="r-606850" data-claire-element-id="606850">La visibilité d'un attribut ou d'une méthode indique à partir d'où on peut y avoir accès. Nous allons voir ici deux types de visibilité : <code>public</code> et <code>private</code>.</p><p id="r-606851" data-claire-element-id="606851">Le premier, <code>public</code>, est le plus simple. Si un attribut ou une méthode est <code>public</code>, alors on pourra y avoir accès depuis n'importe où, depuis l'intérieur de l'objet (dans les méthodes qu'on a créées), comme depuis l'extérieur. Je m'explique. Quand on crée un objet, c'est principalement pour pouvoir exploiter ses attributs et méthodes. L'extérieur de l'objet, c'est tout le code qui n'est pas <em>dans</em> votre classe. En effet, quand vous créerez un objet, cet objet sera représenté par une variable, et c'est à partir d'elle qu'on pourra modifier l'objet, appeler des méthodes, etc. Vous allez donc dire à PHP « dans cet objet, donne-moi cet attribut » ou « dans cet objet, appelle cette méthode » : c'est ça, appeler des attributs ou méthodes depuis l'extérieur de l'objet.</p><p id="r-606852" data-claire-element-id="606852">Le second, <code>private</code>, impose quelques restrictions. On n'aura accès aux attributs et méthodes <em>seulement</em> depuis l'intérieur de la classe, c'est-à-dire que seul le code voulant accéder à un attribut privé ou une méthode privée écrit(e) <em>à l'intérieur</em> de la classe fonctionnera. Sinon, une jolie erreur fatale s'affichera disant que vous ne pouvez pas accéder à telle méthode ou tel attribut parce qu'il ou elle est privé(e).</p><p id="r-606853" data-claire-element-id="606853">Là, ça devrait faire <em>tilt</em> dans votre tête : le principe d'encapsulation ! C'est de cette manière qu'on peut interdire l'accès à nos attributs.</p><h5 id="r-creation-d-attributs" data-claire-element-id="606862">Création d'attributs</h5><p id="r-606855" data-claire-element-id="606855">Pour déclarer des attributs, on va donc les écrire entre les accolades, les uns à la suite des autres, en faisant précéder leurs noms du mot-clé <code>private</code>, comme ça :</p><pre id="r-606856" data-claire-element-id="606856"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;        // La force du personnage
  private $_localisation; // Sa localisation
  private $_experience;   // Son expérience
  private $_degats;       // Ses dégâts
}
?&gt;</code></pre><p id="r-606857" data-claire-element-id="606857">Vous pouvez constater que chaque attribut est précédé d'un underscore (« _ »). Ceci est une notation qu'il est préférable de respecter (il s'agit de la notation PEAR) qui dit que chaque nom d'élément privé (ici il s'agit d'attributs, mais nous verrons plus tard qu'il peut aussi s'agir de méthodes) doit être précédé d'un underscore.</p><p id="r-606858" data-claire-element-id="606858">Vous pouvez initialiser les attributs lorsque vous les déclarez (par exemple, leur mettre une valeur de 0 ou autre). Exemple :</p><pre id="r-606859" data-claire-element-id="606859"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force = 50;            // La force du personnage, par défaut à 50.
  private $_localisation = 'Lyon'; // Sa localisation, par défaut à Lyon.
  private $_experience = 1;        // Son expérience, par défaut à 1.
  private $_degats = 0;            // Ses dégâts, par défaut à 0.
}
?&gt;</code></pre><aside id="r-606861" data-claire-element-id="606861" data-claire-semantic="error"><p id="r-606860" data-claire-element-id="606860">La valeur que vous leur donnez par défaut doit être une expression constante. Par conséquent, leur valeur ne peut être issue d'un appel à une fonction (<code data-claire-semantic="html+php">private $_attribut = intval('azerty')</code>), d'une opération (<code data-claire-semantic="html+php">private $_attribut = 1 + 1</code>), d'une concaténation (<code data-claire-semantic="html+php">private $_attribut = 'Mon ' . 'super ' . 'attribut'</code>) ou d'une variable, superglobale ou non (<code data-claire-semantic="html+php">private $_attribut = $_SERVER['REQUEST_URI']</code>).</p></aside><h5 id="r-creation-de-methodes-2" data-claire-element-id="606868">Création de méthodes</h5><p id="r-606863" data-claire-element-id="606863">Pour la déclaration de méthodes, il suffit de faire précéder le mot-clé <code>function</code> à la visibilité de la méthode. Les types de visibilité des méthodes sont les mêmes que les attributs. Les méthodes n'ont en général pas besoin d'être masquées à l'utilisateur, vous les mettrez souvent en <code>public</code> (à moins que vous teniez absolument à ce que l'utilisateur ne puisse pas appeler cette méthode, par exemple s'il s'agit d'une fonction qui simplifie certaines tâches sur l'objet mais qui ne doit pas être appelée n'importe comment).</p><pre id="r-606864" data-claire-element-id="606864"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;        // La force du personnage
  private $_localisation; // Sa localisation
  private $_experience;   // Son expérience
  private $_degats;       // Ses dégâts
        
  public function deplacer() // Une méthode qui déplacera le personnage (modifiera sa localisation).
  {

  }
        
  public function frapper() // Une méthode qui frappera un personnage (suivant la force qu'il a).
  {

  }
        
  public function gagnerExperience() // Une méthode augmentant l'attribut $experience du personnage.
  {

  }
}
?&gt;</code></pre><p id="r-606865" data-claire-element-id="606865">Et voilà. :)</p><aside id="r-606867" data-claire-element-id="606867" data-claire-semantic="information"><p id="r-606866" data-claire-element-id="606866">De même que l'underscore précédant les noms d'éléments privés, vous pouvez remarquer que le nom des classes commence par une majuscule. Il s'agit aussi du respect de la notation PEAR.</p></aside><h5 id="r-en-resume-185" data-claire-element-id="606878">En résumé</h5><ul id="r-606877" data-claire-element-id="606877"><li id="r-606870" data-claire-element-id="606870"><p id="r-606869" data-claire-element-id="606869">Une classe, c'est un ensemble de variables et de fonctions (attributs et méthodes).</p></li><li id="r-606872" data-claire-element-id="606872"><p id="r-606871" data-claire-element-id="606871">Un objet, c'est une <em>instance</em> de la classe pour pouvoir l'utiliser.</p></li><li id="r-606874" data-claire-element-id="606874"><p id="r-606873" data-claire-element-id="606873">Tous vos attributs doivent être privés. Pour les méthodes, peu importe leur visibilité. C'est ce qu'on appelle le principe d'encapsulation.</p></li><li id="r-606876" data-claire-element-id="606876"><p id="r-606875" data-claire-element-id="606875">On déclare une classe avec le mot-clé <code data-claire-semantic="html+php">class</code> suivi du nom de la classe, et enfin deux accolades ouvrantes et fermantes qui encercleront la liste des attributs et méthodes.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce que la POO ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">
<span class="next">Utiliser la classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserlaclasse"></a><h2>Utiliser la classe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
<span class="arrow"></span>
<span class="next">Créer une classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
<span class="next">Créer et manipuler un objet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-606881" data-claire-element-id="606881">Une classe, c'est bien beau mais, au même titre qu'un plan de construction pour une maison, si on ne sait pas comment se servir de notre plan pour construire notre maison, cela ne sert à rien ! Nous verrons donc ainsi comment se servir de notre <strong>classe</strong>, notre modèle de base, afin de créer des <strong>objets</strong> et pouvoir s'en servir.</p><p id="r-606882" data-claire-element-id="606882">Ce chapitre sera aussi l'occasion d'approfondir un peu le développement de nos classes : actuellement, la classe que l'on a créée contient des méthodes vides, chose un peu inutile vous avouerez. Pas de panique, on va s'occuper de tout ça !</p>
</div><a name="Creretmanipulerunobjet"></a><h2>Créer et manipuler un objet</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">
<span class="arrow"></span>
<span class="next">Utiliser la classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
<span class="next">Les accesseurs et mutateurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-et-manipuler-un-objet" data-claire-element-id="606953">Créer et manipuler un objet</h4><h5 id="r-creer-un-objet-4" data-claire-element-id="606886">Créer un objet</h5><p id="r-606883" data-claire-element-id="606883">Nous allons voir comment créer un objet, c'est-à-dire que nous allons utiliser notre classe afin qu'elle nous fournisse un objet. Pour créer un nouvel objet, vous devez faire précéder le nom de la classe à instancier du mot-clé <code data-claire-semantic="html+php">new</code>, comme ceci :</p><pre id="r-606884" data-claire-element-id="606884"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage();
?&gt;</code></pre><p id="r-606885" data-claire-element-id="606885">Ainsi, <code data-claire-semantic="html+php">$perso</code> sera un objet de type <code>Personnage</code>. On dit que l'on <em>instancie</em> la classe <code>Personnage</code>, que l'on crée une instance de la classe <code>Personnage</code>.</p><h5 id="r-appeler-les-methodes-de-l-objet" data-claire-element-id="606891">Appeler les méthodes de l'objet</h5><p id="r-606887" data-claire-element-id="606887">Pour appeler une méthode d'un objet, il va falloir utiliser un opérateur : il s'agit de l'opérateur -&gt; (une flèche composée d'un tiret suivi d'un chevron fermant). Celui-ci s'utilise de la manière suivante. À gauche de cet opérateur, on place <strong>l'objet</strong> que l'on veut utiliser. Dans l'exemple pris juste au-dessus, cet objet aurait été <code>$perso</code>. À droite de l'opérateur, on spécifie le nom de la méthode que l'on veut invoquer.</p><p id="r-606888" data-claire-element-id="606888">Et puisqu'un exemple vaut mieux qu'un long discours…</p><pre id="r-606889" data-claire-element-id="606889"><code data-claire-semantic="html+php">&lt;?php
// Nous créons une classe « Personnage ».
class Personnage
{
  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;
        
  // Nous déclarons une méthode dont le seul but est d'afficher un texte.
  public function parler()
  {
    echo 'Je suis un personnage !';
  }
}
    
$perso = new Personnage();
$perso-&gt;parler();</code></pre><p id="r-606890" data-claire-element-id="606890">La ligne 18 signifie donc « va chercher l'objet <code>$perso</code>, et invoque la méthode <code>parler()</code> sur cet objet ». Notez donc bien quelque part l'utilisation de cet opérateur : de manière générale, il sert à accéder à un élément de la classe. Ici, on s'en est servi pour atteindre une méthode, mais nous verrons plus tard qu'il nous permettra aussi d'atteindre un attribut.</p><h5 id="r-acceder-a-un-element-depuis-la-classe" data-claire-element-id="606904">Accéder à un élément depuis la classe</h5><p id="r-606892" data-claire-element-id="606892">Je viens de vous faire créer un objet, et vous êtes maintenant capables d'appeler une méthode. Cependant, le contenu de cette dernière était assez simpliste : elle ne faisait qu'afficher un message. Ici, nous allons voir comment une méthode peut accéder aux attributs de l'objet.</p><p id="r-606893" data-claire-element-id="606893">Lorsque vous avez un objet, vous savez que vous pouvez invoquer des méthodes grâce à l'opérateur « <code>-&gt;</code> ». Je vous ai par ailleurs dit que c'était également grâce à cet opérateur qu'on accédait aux attributs de la classe. Cependant, rappelez-vous : nos attributs sont privés. Par conséquent, ce code lèvera une erreur fatale :</p><pre id="r-606894" data-claire-element-id="606894"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_experience;
  private $_degats;
}
    
$perso = new Personnage();
$perso-&gt;_experience = $perso-&gt;_experience + 1; // Une erreur fatale est levée suite à cette instruction.</code></pre><p id="r-606895" data-claire-element-id="606895">Ici, on essaye d'accéder à un attribut privé hors de la classe. Ceci est interdit, donc PHP lève une erreur. Dans notre exemple (qui essaye en vain d'augmenter de 1 l'expérience du personnage), il faudra demander à la classe d'augmenter l'expérience. Pour cela, nous allons écrire une méthode <code>gagnerExperience()</code> :</p><pre id="r-606896" data-claire-element-id="606896"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_experience;
        
  public function gagnerExperience()
  {
    // Cette méthode doit ajouter 1 à l'expérience du personnage.
  }
}

$perso = new Personnage();
$perso-&gt;gagnerExperience();</code></pre><p id="r-606897" data-claire-element-id="606897">Oui mais voilà : comment accéder à l'attribut <code data-claire-semantic="html+php">$_experience</code> dans notre méthode ? C'est là qu'intervient la pseudo-variable <code data-claire-semantic="html+php">$this</code>.</p><p id="r-606898" data-claire-element-id="606898">Dans notre script, <code data-claire-semantic="html+php">$perso</code> représente l'objet. Il est donc facile d'appeler une méthode à partir de cette variable. Mais dans notre méthode, nous n'avons pas cette variable pour accéder à notre attribut <code data-claire-semantic="html+php">$_experience</code> pour le modifier ! Du moins, c'est ce que vous croyez. En fait, un paramètre représentant l'objet est passé implicitement à chaque méthode de la classe. Regardez plutôt cet exemple :</p><pre id="r-606899" data-claire-element-id="606899"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_experience = 50;

  public function afficherExperience()
  {
    echo $this-&gt;_experience;
  }
}

$perso = new Personnage();
$perso-&gt;afficherExperience();</code></pre><p id="r-606900" data-claire-element-id="606900">Commentons la ligne 8. Vous avez sans doute reconnu la structure <code data-claire-semantic="html+php">echo</code> ayant pour rôle d'afficher une valeur. Ensuite, vous reconnaissez la variable <code data-claire-semantic="html+php">$this</code> dont je vous ai parlé : elle représente l'objet que nous sommes en train d'utiliser. Ainsi, dans ce script, <em>les variables <code data-claire-semantic="html+php">$this</code> et <code data-claire-semantic="html+php">$perso</code> représentent le même objet</em>. L'instruction surlignée veut donc dire : « Affiche-moi cette valeur : dans l'objet utilisé (donc <code data-claire-semantic="html+php">$perso</code>), donne-moi la valeur de l'attribut <code data-claire-semantic="html+php">$_experience</code>. »</p><p id="r-606901" data-claire-element-id="606901">Ainsi, je vais vous demander d'écrire la méthode <code data-claire-semantic="html+php">gagnerExperience()</code>. Cette méthode devra ajouter 1 à l'attribut <code data-claire-semantic="html+php">$_experience</code>. Je suis sûr que vous pouvez y arriver ! :)</p><p id="r-606902" data-claire-element-id="606902">Voici la correction :</p><pre id="r-606903" data-claire-element-id="606903"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_experience = 50;

  public function afficherExperience()
  {
    echo $this-&gt;_experience;
  }

  public function gagnerExperience()
  {
    // On ajoute 1 à notre attribut $_experience.
    $this-&gt;_experience = $this-&gt;_experience + 1;
  }
}
    
$perso = new Personnage();
$perso-&gt;gagnerExperience();   // On gagne de l'expérience.
$perso-&gt;afficherExperience(); // On affiche la nouvelle valeur de l'attribut.</code></pre><h5 id="r-implementer-d-autres-methodes" data-claire-element-id="606942">Implémenter d'autres méthodes</h5><p id="r-606905" data-claire-element-id="606905">Nous avons créé notre classe Personnage et déjà une méthode, <code data-claire-semantic="html+php">gagnerExperience()</code>. J'aimerais qu'on en implémente une autre : la méthode <code data-claire-semantic="html+php">frapper()</code>, qui devra infliger des dégâts à un personnage.</p><p id="r-606906" data-claire-element-id="606906">Pour partir sur une base commune, nous allons travailler sur cette classe :</p><pre id="r-606907" data-claire-element-id="606907"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_degats = 0; // Les dégâts du personnage.
  private $_experience = 0; // L'expérience du personnage.
  private $_force = 20; // La force du personnage (plus elle est grande, plus l'attaque est puissante).
        
  public function gagnerExperience()
  {
    // On ajoute 1 à notre attribut $_experience.
    $this-&gt;_experience = $this-&gt;_experience + 1;
  }
}</code></pre><p id="r-606908" data-claire-element-id="606908">Commençons par écrire notre méthode <code data-claire-semantic="html+php">frapper()</code>. Cette méthode doit accepter un argument : le personnage à frapper. La méthode aura juste pour rôle d'augmenter les dégâts du personnage passé en paramètre.</p><p id="r-606909" data-claire-element-id="606909">Pour vous aider à visualiser le contenu de la méthode, imaginez votre code manipulant des objets. Il doit ressembler à ceci :</p><pre id="r-606910" data-claire-element-id="606910"><code data-claire-semantic="html+php">&lt;?php
// On crée deux personnages
$perso1 = new Personnage();
$perso2 = new Personnage();
    
// Ensuite, on veut que le personnage n°1 frappe le personnage n°2.
$perso1-&gt;frapper($perso2);</code></pre><p id="r-606911" data-claire-element-id="606911">Pour résumer :</p><ul id="r-606916" data-claire-element-id="606916"><li id="r-606913" data-claire-element-id="606913"><p id="r-606912" data-claire-element-id="606912">la méthode <code data-claire-semantic="html+php">frapper()</code> demande un argument : le personnage à frapper ;</p></li><li id="r-606915" data-claire-element-id="606915"><p id="r-606914" data-claire-element-id="606914">cette méthode augmente les dégâts du personnage à frapper en fonction de la force du personnage qui frappe.</p></li></ul><p id="r-606917" data-claire-element-id="606917">On pourrait donc imaginer une classe ressemblant à ceci :</p><pre id="r-606918" data-claire-element-id="606918"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_degats; // Les dégâts du personnage.
  private $_experience; // L'expérience du personnage.
  private $_force; // La force du personnage (plus elle est grande, plus l'attaque est puissante).
        
  public function frapper($persoAFrapper)
  {
    $persoAFrapper-&gt;_degats += $this-&gt;_force;
  }
        
  public function gagnerExperience()
  {
    // On ajoute 1 à notre attribut $_experience.
    $this-&gt;_experience = $this-&gt;_experience + 1;
  }
}</code></pre><p id="r-606919" data-claire-element-id="606919">Commentons ensemble le contenu de cette méthode <code data-claire-semantic="html+php">frapper()</code>. Celle-ci comporte une instruction composée de deux parties :</p><ol id="r-606924" data-claire-element-id="606924"><li id="r-606921" data-claire-element-id="606921"><p id="r-606920" data-claire-element-id="606920">La première consiste à dire à PHP que l'on veut assigner une nouvelle valeur à l'attribut <code data-claire-semantic="html+php">$_degats</code> du personnage à frapper.</p></li><li id="r-606923" data-claire-element-id="606923"><p id="r-606922" data-claire-element-id="606922">La seconde partie consiste à donner à PHP la valeur que l'on veut assigner. Ici, nous voyons que cette valeur est atteinte par <code data-claire-semantic="html+php">$this-&gt;_force</code>.</p></li></ol><p id="r-606925" data-claire-element-id="606925">Maintenant, grosse question : la variable <code data-claire-semantic="html+php">$this</code> fait-elle référence au personnage qui frappe ou au personnage frappé ? Pour répondre à cette question, il faut savoir sur quel objet est appelée la méthode. En effet, souvenez-vous que <code data-claire-semantic="html+php">$this</code> est une variable représentant l'objet à partir duquel on a appelé la méthode. Dans notre cas, on a appelé la méthode <code data-claire-semantic="html+php">frapper()</code> à partir du personnage qui frappe, donc <code data-claire-semantic="html+php">$this</code> représente le personnage qui frappe.</p><p id="r-606926" data-claire-element-id="606926">L'instruction contenue dans la méthode signifie donc : « Ajoute la valeur de la force du personnage qui frappe à l'attribut <code data-claire-semantic="html+php">$_degats</code> du personnage frappé. »</p><p id="r-606927" data-claire-element-id="606927">Maintenant, nous pouvons créer une sorte de petite mise en scène qui fait interagir nos personnages. Par exemple, nous pouvons créer un script qui fait combattre les personnages. Le personnage 1 frapperait le personnage 2 puis gagnerait de l'expérience, puis le personnage 2 frapperait le personnage 1 et gagnerait de l'expérience. Procédez étape par étape :</p><ul id="r-606938" data-claire-element-id="606938"><li id="r-606929" data-claire-element-id="606929"><p id="r-606928" data-claire-element-id="606928">créez deux personnages ;</p></li><li id="r-606931" data-claire-element-id="606931"><p id="r-606930" data-claire-element-id="606930">faites frapper le personnage 1 ;</p></li><li id="r-606933" data-claire-element-id="606933"><p id="r-606932" data-claire-element-id="606932">faites gagner de l'expérience au personnage 1 ;</p></li><li id="r-606935" data-claire-element-id="606935"><p id="r-606934" data-claire-element-id="606934">faites frapper le personnage 2 ;</p></li><li id="r-606937" data-claire-element-id="606937"><p id="r-606936" data-claire-element-id="606936">faites gagner de l'expérience au personnage 2.</p></li></ul><p id="r-606939" data-claire-element-id="606939">Ce script n'est qu'une suite d'appels de méthodes. Chaque puce (sauf la première) correspond à l'appel d'une méthode, ce que vous savez faire. En conclusion, vous êtes aptes à créer ce petit script ! Voici la correction :</p><pre id="r-606940" data-claire-element-id="606940"><code data-claire-semantic="html+php">&lt;?php
$perso1 = new Personnage(); // Un premier personnage
$perso2 = new Personnage(); // Un second personnage

$perso1-&gt;frapper($perso2); // $perso1 frappe $perso2
$perso1-&gt;gagnerExperience(); // $perso1 gagne de l'expérience

$perso2-&gt;frapper($perso1); // $perso2 frappe $perso1
$perso2-&gt;gagnerExperience(); // $perso2 gagne de l'expérience
?&gt;</code></pre><p id="r-606941" data-claire-element-id="606941">Cependant, un petit problème se pose. Puisque, à la base, les deux personnages ont le même niveau de dégâts, la même expérience et la même force, ils seront à la fin toujours égaux. Pour pallier ce problème, il faudrait pouvoir assigner des valeurs spécifiques aux deux personnages, afin que le combat puisse les différencier. Or, vous ne pouvez pas accéder aux attributs en-dehors de la classe ! Pour savoir comment résoudre ce problème, je vais vous apprendre deux nouveaux mots : <strong>accesseur</strong> et <strong>mutateur</strong>. Mais avant, j'aimerais faire une petite parenthèse.</p><h5 id="r-exiger-des-objets-en-parametre" data-claire-element-id="606952">Exiger des objets en paramètre</h5><p id="r-606943" data-claire-element-id="606943">Reprenons l'exemple du code auquel nous sommes arrivés et concentrons-nous sur la méthode <code data-claire-semantic="html+php">frapper()</code>. Celle-ci accepte un argument : un personnage à frapper. Cependant, qu'est-ce qui vous garantit qu'on passe effectivement un personnage à frapper ? On pourrait très bien passer un argument complètement différent, comme un nombre par exemple :</p><pre id="r-606944" data-claire-element-id="606944"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage();
$perso-&gt;frapper(42);
?&gt;</code></pre><p id="r-606945" data-claire-element-id="606945">Et là, qu'est-ce qui se passe ? Une erreur est générée car, à l'intérieur de la méthode <code data-claire-semantic="html+php">frapper()</code>, nous essayons d'appeler une méthode sur le paramètre qui n'est pas un objet. C'est comme si on avait fait ça :</p><pre id="r-606946" data-claire-element-id="606946"><code data-claire-semantic="html+php">&lt;?php
$persoAFrapper = 42;
$persoAFrapper-&gt;_degats += 50; // Le nombre 50 est arbitraire, il est censé représenter une force.
?&gt;</code></pre><p id="r-606947" data-claire-element-id="606947">Ce qui n'a aucun sens. Il faut donc s'assurer que le paramètre passé est bien un personnage, sinon PHP arrête tout et n'exécute pas la méthode. Pour cela, il suffit d'ajouter un seul mot : le nom de la classe dont le paramètre doit être un objet. Dans notre cas, si le paramètre doit être un objet de type <code data-claire-semantic="html+php">Personnage</code>, alors il faudra ajouter le mot-clé <code data-claire-semantic="html+php">Personnage</code>, juste avant le nom du paramètre, comme ceci :</p><pre id="r-606948" data-claire-element-id="606948"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  // …

  public function frapper(Personnage $persoAFrapper)
  {
    // …
  }
}</code></pre><p id="r-606949" data-claire-element-id="606949">Grâce à ça, vous êtes sûrs que la méthode <code data-claire-semantic="html+php">frapper()</code> ne sera exécutée <em>que</em> si le paramètre passé est de type <code data-claire-semantic="html+php">Personnage</code>, sinon PHP interrompt tout le script. Vous pouvez donc appeler les méthodes de l'objet sans crainte qu'un autre type de variable soit passé en paramètre.</p><aside id="r-606951" data-claire-element-id="606951" data-claire-semantic="error"><p id="r-606950" data-claire-element-id="606950">Le type de la variable à spécifier doit obligatoirement être un nom de classe ou alors un tableau. Si vous voulez exiger un tableau, faites précéder le nom du paramètre devant être un tableau par le mot-clé <em>array</em> comme ceci : <code data-claire-semantic="html+php">public function frapper(array $coups)</code>. Vous ne pouvez pas exiger autre chose : par exemple, il est impossible d'exiger un nombre entier ou une chaîne de caractères de cette façon.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">
<span class="arrow"></span>
<span class="next">Utiliser la classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
<span class="next">Les accesseurs et mutateurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesaccesseursetmutateurs"></a><h2>Les accesseurs et mutateurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
<span class="arrow"></span>
<span class="next">Créer et manipuler un objet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
<span class="next">Le constructeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-accesseurs-et-mutateurs" data-claire-element-id="606979">Les accesseurs et mutateurs</h4><p id="r-606954" data-claire-element-id="606954">Comme vous le savez, le principe d'encapsulation nous empêche d'accéder directement aux attributs de notre objet puisqu'ils sont privés : seule la classe peut les lire et les modifier. Par conséquent, si vous voulez récupérer un attribut, il va falloir le demander à la classe, de même si vous voulez les modifier.</p><h5 id="r-acceder-a-un-attribut-l-accesseur" data-claire-element-id="606957">Accéder à un attribut : l'accesseur</h5><p id="r-606955" data-claire-element-id="606955">À votre avis, comment peut-on faire pour récupérer la valeur d'un attribut ? La solution est simple : nous allons implémenter des méthodes dont le seul rôle sera de nous donner l'attribut qu'on leur demande ! Ces méthodes ont un nom bien spécial : ce sont des <strong>accesseurs</strong> (ou <em>getters</em>). Par convention, ces méthodes portent le même nom que l'attribut dont elles renvoient la valeur. Par exemple, voici la liste des accesseurs de notre classe <code data-claire-semantic="html+php">Personnage</code> :</p><pre id="r-606956" data-claire-element-id="606956"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_experience;
  private $_degats;
        
  public function frapper(Personnage $persoAFrapper)
  {
    $persoAFrapper-&gt;_degats += $this-&gt;_force;
  }
        
  public function gagnerExperience()
  {
    // Ceci est un raccourci qui équivaut à écrire « $this-&gt;_experience = $this-&gt;_experience + 1 »
    // On aurait aussi pu écrire « $this-&gt;_experience += 1 »
    $this-&gt;_experience++;
  }
        
  // Ceci est la méthode degats() : elle se charge de renvoyer le contenu de l'attribut $_degats.
  public function degats()
  {
    return $this-&gt;_degats;
  }
        
  // Ceci est la méthode force() : elle se charge de renvoyer le contenu de l'attribut $_force.
  public function force()
  {
    return $this-&gt;_force;
  }
        
  // Ceci est la méthode experience() : elle se charge de renvoyer le contenu de l'attribut $_experience.
  public function experience()
  {
    return $this-&gt;_experience;
  }
}</code></pre><h5 id="r-modifier-la-valeur-d-un-attribut-les-mutateurs" data-claire-element-id="606962">Modifier la valeur d'un attribut : les mutateurs</h5><p id="r-606958" data-claire-element-id="606958">Maintenant, comment cela se passe-t-il si vous voulez modifier un attribut ? Encore une fois, il va falloir que vous demandiez à la classe de le faire pour vous. Je vous rappelle que le principe d'encapsulation est là pour vous empêcher d'assigner un mauvais type de valeur à un attribut : si vous demandez à votre classe de le faire, ce risque est supprimé car la classe « contrôle » la valeur des attributs. Comme vous l'aurez peut-être deviné, ce sera par le biais de méthodes que l'on demandera à notre classe de modifier tel attribut.</p><p id="r-606959" data-claire-element-id="606959">La classe doit impérativement contrôler la valeur afin d'assurer son intégrité car, si elle ne le fait pas, on pourra passer n'importe quelle valeur à la classe et le principe d'encapsulation n'est plus respecté ! Ces méthodes ont aussi un nom spécial : il s'agit de <strong>mutateurs</strong> (ou <em>setters</em>). Ces méthodes sont de la forme <code data-claire-semantic="html+php">setNomDeLAttribut()</code>. Voici la liste des mutateurs (ajoutée à la liste des accesseurs) de notre classe <code data-claire-semantic="html+php">Personnage</code> :</p><pre id="r-606960" data-claire-element-id="606960"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_experience;
  private $_degats;
  
  public function frapper(Personnage $persoAFrapper)
  {
    $persoAFrapper-&gt;_degats += $this-&gt;_force;
  }
  
  public function gagnerExperience()
  {
    $this-&gt;_experience++;
  }
  
  // Mutateur chargé de modifier l'attribut $_force.
  public function setForce($force)
  {
    if (!is_int($force)) // S'il ne s'agit pas d'un nombre entier.
    {
      trigger_error('La force d\'un personnage doit être un nombre entier', E_USER_WARNING);
      return;
    }
    
    if ($force &gt; 100) // On vérifie bien qu'on ne souhaite pas assigner une valeur supérieure à 100.
    {
      trigger_error('La force d\'un personnage ne peut dépasser 100', E_USER_WARNING);
      return;
    }
    
    $this-&gt;_force = $force;
  }
  
  // Mutateur chargé de modifier l'attribut $_experience.
  public function setExperience($experience)
  {
    if (!is_int($experience)) // S'il ne s'agit pas d'un nombre entier.
    {
      trigger_error('L\'expérience d\'un personnage doit être un nombre entier', E_USER_WARNING);
      return;
    }
    
    if ($experience &gt; 100) // On vérifie bien qu'on ne souhaite pas assigner une valeur supérieure à 100.
    {
      trigger_error('L\'expérience d\'un personnage ne peut dépasser 100', E_USER_WARNING);
      return;
    }
    
    $this-&gt;_experience = $experience;
  }
  
  // Ceci est la méthode degats() : elle se charge de renvoyer le contenu de l'attribut $_degats.
  public function degats()
  {
    return $this-&gt;_degats;
  }
  
  // Ceci est la méthode force() : elle se charge de renvoyer le contenu de l'attribut $_force.
  public function force()
  {
    return $this-&gt;_force;
  }
  
  // Ceci est la méthode experience() : elle se charge de renvoyer le contenu de l'attribut $_experience.
  public function experience()
  {
    return $this-&gt;_experience;
  }
}</code></pre><p id="r-606961" data-claire-element-id="606961">Voilà ce que j'avais à dire concernant ces accesseurs et mutateurs. Retenez bien ces définitions, vous les trouverez dans la plupart des classes !</p><h5 id="r-retour-sur-notre-script-de-combat" data-claire-element-id="606978">Retour sur notre script de combat</h5><p id="r-606963" data-claire-element-id="606963">Maintenant que nous avons vu ce qu'étaient des accesseurs et des mutateurs, nous pouvons améliorer notre script de combat. Pour commencer, je vais vous demander d'afficher, à la fin du script, la force, l'expérience et le niveau de dégâts de chaque personnage.</p><p id="r-606964" data-claire-element-id="606964">Voici la correction :</p><pre id="r-606965" data-claire-element-id="606965"><code data-claire-semantic="html+php">&lt;?php
$perso1 = new Personnage();  // Un premier personnage
$perso2 = new Personnage();  // Un second personnage

$perso1-&gt;frapper($perso2);  // $perso1 frappe $perso2
$perso1-&gt;gagnerExperience(); // $perso1 gagne de l'expérience

$perso2-&gt;frapper($perso1);  // $perso2 frappe $perso1
$perso2-&gt;gagnerExperience(); // $perso2 gagne de l'expérience

echo 'Le personnage 1 a ', $perso1-&gt;force(), ' de force, contrairement au personnage 2 qui a ', $perso2-&gt;force(), ' de force.&lt;br /&gt;';
echo 'Le personnage 1 a ', $perso1-&gt;experience(), ' d\'expérience, contrairement au personnage 2 qui a ', $perso2-&gt;experience(), ' d\'expérience.&lt;br /&gt;';
echo 'Le personnage 1 a ', $perso1-&gt;degats(), ' de dégâts, contrairement au personnage 2 qui a ', $perso2-&gt;degats(), ' de dégâts.&lt;br /&gt;';</code></pre><p id="r-606966" data-claire-element-id="606966">Comme nous l'avions dit, les valeurs finales des deux personnages sont identiques. Pour pallier ce problème, nous allons modifier, juste après la création des personnages, la valeur de la force et de l'expérience des deux personnages. Vous pouvez par exemple favoriser un personnage en lui donnant une plus grande force et une plus grande expérience par rapport au deuxième.</p><p id="r-606967" data-claire-element-id="606967">Voici la correction que je vous propose (peu importe les valeurs que vous avez choisies, l'essentiel est que vous ayez appelé les bonnes méthodes) :</p><pre id="r-606968" data-claire-element-id="606968"><code data-claire-semantic="html+php">&lt;?php
$perso1 = new Personnage(); // Un premier personnage
$perso2 = new Personnage(); // Un second personnage

$perso1-&gt;setForce(10);
$perso1-&gt;setExperience(2);

$perso2-&gt;setForce(90);
$perso2-&gt;setExperience(58);

$perso1-&gt;frapper($perso2);  // $perso1 frappe $perso2
$perso1-&gt;gagnerExperience(); // $perso1 gagne de l'expérience

$perso2-&gt;frapper($perso1);  // $perso2 frappe $perso1
$perso2-&gt;gagnerExperience(); // $perso2 gagne de l'expérience

echo 'Le personnage 1 a ', $perso1-&gt;force(), ' de force, contrairement au personnage 2 qui a ', $perso2-&gt;force(), ' de force.&lt;br /&gt;';
echo 'Le personnage 1 a ', $perso1-&gt;experience(), ' d\'expérience, contrairement au personnage 2 qui a ', $perso2-&gt;experience(), ' d\'expérience.&lt;br /&gt;';
echo 'Le personnage 1 a ', $perso1-&gt;degats(), ' de dégâts, contrairement au personnage 2 qui a ', $perso2-&gt;degats(), ' de dégâts.&lt;br /&gt;';</code></pre><p id="r-606969" data-claire-element-id="606969">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script" data-claire-element-id="606972"><img id="r-606970" data-claire-element-id="606970" src="medias/uploads.siteduzero.com_files_411001_412000_411724.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-606973" data-claire-element-id="606973">Comme vous le voyez, à la fin, les deux personnages n'ont plus les mêmes caractéristiques !</p><p id="r-606974" data-claire-element-id="606974">Pour bien être sûr que vous me suiviez toujours, je vous ai fait un schéma résumant le déroulement du script.</p><figure id="r-deroulement-du-script-2" data-claire-element-id="606977"><img id="r-606975" data-claire-element-id="606975" src="medias/uploads.siteduzero.com_files_306001_307000_306308.png" alt="Déroulement du script"/><figcaption>Déroulement du script</figcaption></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
<span class="arrow"></span>
<span class="next">Créer et manipuler un objet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
<span class="next">Le constructeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leconstructeur"></a><h2>Le constructeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
<span class="arrow"></span>
<span class="next">Les accesseurs et mutateurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
<span class="next">L&#039;auto-chargement de classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-constructeur-7" data-claire-element-id="606998">Le constructeur</h4><p id="r-606980" data-claire-element-id="606980">Vous vous demandez peut-être à quoi servent les parenthèses juste après <code data-claire-semantic="html+php">Personnage</code> lorsque vous créez un objet ? C'est ce que je vais vous expliquer juste après vous avoir expliqué ce qu'est un constructeur.</p><p id="r-606981" data-claire-element-id="606981">Le constructeur est la méthode appelée dès que vous créez l'objet avec la technique présentée ci-dessus. Cette méthode peut demander des paramètres, auquel cas nous devrons les placer entre les parenthèses que vous voyez après le nom de la classe.</p><p id="r-606982" data-claire-element-id="606982">Effectuons un retour sur notre classe <code data-claire-semantic="html+php">Personnage</code>. Ajoutons-lui un constructeur. Ce dernier ne peut pas avoir n'importe quel nom (sinon, comment PHP sait quel est le constructeur ?). Il a tout simplement le nom suivant : <code data-claire-semantic="html+php">__construct</code>, avec deux underscores au début.</p><p id="r-606983" data-claire-element-id="606983">Comme son nom l'indique, le constructeur sert à <em>construire</em> l'objet. Ce que je veux dire par là, c'est que si des attributs doivent être initialisés ou qu'une connexion à la BDD doit être faite, c'est par ici que ça se passe. Comme dit plus haut, le constructeur est exécuté <em>dès la création de l'objet</em> et par conséquent, aucune valeur ne doit être retournée, même si ça ne génèrera aucune erreur. Bien sûr, et comme nous l'avons vu, une classe fonctionne très bien sans constructeur, il n'est en rien obligatoire ! Si vous n'en spécifiez pas, cela revient au même que si vous en aviez écrit un vide (sans instruction à l'intérieur).</p><pre id="r-606984" data-claire-element-id="606984"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;

  public function __construct($force, $degats) // Constructeur demandant 2 paramètres
  {
    echo 'Voici le constructeur !'; // Message s'affichant une fois que tout objet est créé.
    $this-&gt;setForce($force); // Initialisation de la force.
    $this-&gt;setDegats($degats); // Initialisation des dégâts.
    $this-&gt;_experience = 1; // Initialisation de l'expérience à 1.
  }

  // Mutateur chargé de modifier l'attribut $_force.
  public function setForce($force)
  {
    if (!is_int($force)) // S'il ne s'agit pas d'un nombre entier.
    {
      trigger_error('La force d\'un personnage doit être un nombre entier', E_USER_WARNING);
      return;
    }

    if ($force &gt; 100) // On vérifie bien qu'on ne souhaite pas assigner une valeur supérieure à 100.
    {
      trigger_error('La force d\'un personnage ne peut dépasser 100', E_USER_WARNING);
      return;
    }

    $this-&gt;_force = $force;
  }

  // Mutateur chargé de modifier l'attribut $_degats.
  public function setDegats($degats)
  {
    if (!is_int($degats)) // S'il ne s'agit pas d'un nombre entier.
    {
      trigger_error('Le niveau de dégâts d\'un personnage doit être un nombre entier', E_USER_WARNING);
      return;
    }

    $this-&gt;_degats = $degats;
  }
}
?&gt;</code></pre><aside id="r-606986" data-claire-element-id="606986" data-claire-semantic="information"><p id="r-606985" data-claire-element-id="606985">Notez que je n'ai pas réécrit toutes les méthodes, ce n'est pas le but de ce que je veux vous montrer ici.</p></aside><p id="r-606987" data-claire-element-id="606987">Ici, le constructeur demande la force et les dégâts initiaux du personnage que l'on vient de créer. Il faudra donc lui spécifier ceci en paramètre :</p><pre id="r-606988" data-claire-element-id="606988"><code data-claire-semantic="html+php">&lt;?php
$perso1 = new Personnage(60, 0); // 60 de force, 0 dégât
$perso2 = new Personnage(100, 10); // 100 de force, 10 dégâts
?&gt;</code></pre><p id="r-606989" data-claire-element-id="606989">Et à la sortie s'affichera à la suite :</p><figure id="r-resultat-affiche-par-le-script-1" data-claire-element-id="606992"><img id="r-606990" data-claire-element-id="606990" src="medias/uploads.siteduzero.com_files_411001_412000_411725.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-606993" data-claire-element-id="606993">Notez quelque chose d'important dans la classe : dans le constructeur, les valeurs sont initialisées en appelant les mutateurs correspondant. En effet, si on assignait directement ces valeurs avec les arguments, le principe d'encapsulation ne serait plus respecté et n'importe quel type de valeur pourrait être assigné !</p><aside id="r-606995" data-claire-element-id="606995" data-claire-semantic="error"><p id="r-606994" data-claire-element-id="606994">Ne mettez jamais la méthode <code data-claire-semantic="html+php">__construct</code> avec le type de visibilité <code data-claire-semantic="html+php">private</code> car elle ne pourra jamais être appelée, vous ne pourrez donc pas <em>instancier</em> votre classe ! Cependant, sachez qu'il existe certains cas particuliers qui nécessitent le constructeur en privé, mais ce n'est pas pour tout de suite.</p></aside><aside id="r-606997" data-claire-element-id="606997" data-claire-semantic="information"><p id="r-606996" data-claire-element-id="606996">Notez que si la classe n'a pas implémenté de constructeur ou si le constructeur ne requiert aucun argument, alors les parenthèses placées après le nom de la classe lorsque vous l'instancierez sont inutiles. Ainsi, vous pourrez faire <code data-claire-semantic="html+php">$classe = new MaClasse;</code>. C'est d'ailleurs sans parenthèses que j'instancierai les classes sans constructeur ou avec constructeur sans argument désormais.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
<span class="arrow"></span>
<span class="next">Les accesseurs et mutateurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
<span class="next">L&#039;auto-chargement de classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039auto-chargementdeclasses"></a><h2>L&#039;auto-chargement de classes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
<span class="arrow"></span>
<span class="next">Le constructeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">
<span class="next">L&#039;opérateur de résolution de portée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-auto-chargement-de-classes" data-claire-element-id="607028">L'auto-chargement de classes</h4><p id="r-606999" data-claire-element-id="606999">Pour une question d'organisation, il vaut mieux créer un fichier par classe. Vous appelez votre fichier comme bon vous semble et placez votre classe dedans. Pour ma part, mes fichiers sont toujours appelés « MaClasse.class.php ». Ainsi, si je veux pouvoir utiliser la classe <code data-claire-semantic="html+php">MaClasse</code>, je n'aurais qu'à inclure ce fichier :</p><pre id="r-607000" data-claire-element-id="607000"><code data-claire-semantic="html+php">&lt;?php
require 'MaClasse.class.php'; // J'inclus la classe.

$objet = new MaClasse(); // Puis, seulement après, je me sers de ma classe.</code></pre><p id="r-607001" data-claire-element-id="607001">Maintenant, imaginons que vous ayez plusieurs dizaines de classes… Pas très pratique de les inclure une par une ! Vous vous retrouverez avec des dizaines d'inclusions, certaines pouvant même être inutile si vous ne vous servez pas de toutes vos classes. Et c'est là qu'intervient l'auto-chargement des classes. Vous pouvez créer dans votre fichier principal (c'est-à-dire celui où vous créerez une instance de votre classe) une ou plusieurs fonction(s) qui tenteront de charger le fichier déclarant la classe. Dans la plupart des cas, une seule fonction suffit. Ces fonctions doivent accepter un paramètre, c'est le nom de la classe qu'on doit tenter de charger. Par exemple, voici une fonction qui aura pour rôle de charger les classes :</p><pre id="r-607002" data-claire-element-id="607002"><code data-claire-semantic="html+php">&lt;?php
function chargerClasse($classe)
{
  require $classe . '.class.php'; // On inclut la classe correspondante au paramètre passé.
}
?&gt;</code></pre><p id="r-607003" data-claire-element-id="607003">Essayons maintenant de créer un objet pour voir si il sera chargé automatiquement (je prends pour exemple la classe <code data-claire-semantic="html+php">Personnage</code> et prends en compte le fait qu'un fichier <code>Personnage.class.php</code> existe).</p><pre id="r-607004" data-claire-element-id="607004"><code data-claire-semantic="html+php">&lt;?php
function chargerClasse($classe)
{
  require $classe . '.class.php'; // On inclut la classe correspondante au paramètre passé.
}
    
$perso = new Personnage(); // Instanciation de la classe Personnage qui n'est pas déclarée dans ce fichier.
?&gt;</code></pre><p id="r-607005" data-claire-element-id="607005">Et là… Bam ! Erreur fatale ! La classe n'a pas été trouvée, elle n'a donc pas été chargée… Normal quand on y réfléchi ! PHP ne sait pas qu'il doit appeler cette fonction lorsqu'on essaye d'instancier une classe non déclarée. On va donc utiliser la fonction <code data-claire-semantic="html+php">spl_autoload_register</code> en spécifiant en premier paramètre le nom de la fonction à charger :</p><pre id="r-607006" data-claire-element-id="607006"><code data-claire-semantic="html+php">&lt;?php
function chargerClasse($classe)
{
  require $classe . '.class.php'; // On inclut la classe correspondante au paramètre passé.
}

spl_autoload_register('chargerClasse'); // On enregistre la fonction en autoload pour qu'elle soit appelée dès qu'on instanciera une classe non déclarée.

$perso = new Personnage();
?&gt;</code></pre><p id="r-607007" data-claire-element-id="607007">Et là, comme par magie, aucune erreur ne s'affiche ! Notre auto-chargement a donc bien fonctionné.</p><p id="r-607008" data-claire-element-id="607008">Décortiquons ce qui s'est passé. En PHP, il y a ce qu'on appelle une « pile d'autoloads ». Cette pile contient une liste de fonctions. Chacune d'entre elles sera appelée automatiquement par PHP lorsque l'on essaye d'instancier une classe non déclarée. Nous avons donc ici ajouté notre fonction à la pile d'autoloads afin qu'elle soit appelée à chaque fois qu'on essaye d'instancier une classe non déclarée.</p><p id="r-607009" data-claire-element-id="607009">Schématiquement, la figure suivante montre ce qui s'est passé.</p><figure id="r-l-autoload-en-php" data-claire-element-id="607012"><img id="r-607010" data-claire-element-id="607010" src="medias/uploads.siteduzero.com_files_408001_409000_408617.png" alt="L'autoload en PHP"/><figcaption>L'autoload en PHP</figcaption></figure><aside id="r-607014" data-claire-element-id="607014" data-claire-semantic="information"><p id="r-607013" data-claire-element-id="607013">Sachez que vous pouvez enregistrer autant de fonctions en autoload que vous le voulez avec <code data-claire-semantic="html+php">spl_autoload_register</code>. Si vous en enregistrez plusieurs, elles seront appelées dans l'ordre de leur enregistrement jusqu'à ce que la classe soit chargée. Pour y parvenir, il suffit d'appeler <code data-claire-semantic="html+php">spl_autoload_register</code> pour chaque fonction à enregistrer.</p></aside><p id="r-607015" data-claire-element-id="607015">Voici un chapitre aussi essentiel que le premier et toujours aussi riche en nouveautés fondant les bases de la POO. Prenez bien le temps de lire et relire ce chapitre si vous êtes un peu perdus, sinon vous ne pourrez jamais suivre !</p><h5 id="r-en-resume-186" data-claire-element-id="607027">En résumé</h5><ul id="r-607026" data-claire-element-id="607026"><li id="r-607017" data-claire-element-id="607017"><p id="r-607016" data-claire-element-id="607016">Un objet se crée grâce à l'opérateur <code>new</code>.</p></li><li id="r-607019" data-claire-element-id="607019"><p id="r-607018" data-claire-element-id="607018">L'accès à un attribut ou à une méthode d'un objet se fait grâce à l'opérateur « <code>-&gt;</code> ».</p></li><li id="r-607021" data-claire-element-id="607021"><p id="r-607020" data-claire-element-id="607020">Pour lire ou modifier un attribut, on utilise des <em>accesseurs</em> et des <em>mutateurs</em>.</p></li><li id="r-607023" data-claire-element-id="607023"><p id="r-607022" data-claire-element-id="607022">Le constructeur d'une classe a pour rôle principal d'initialiser l'objet en cours de création, c'est-à-dire d'initialiser la valeur des attributs (soit en assignant directement des valeurs spécifiques, soit en appelant diverses méthodes).</p></li><li id="r-607025" data-claire-element-id="607025"><p id="r-607024" data-claire-element-id="607024">Les classes peuvent être chargées dynamiquement (c'est-à-dire sans avoir explicitement inclus le fichier la déclarant) grâce à l'auto-chargement de classe (utilisation de <code>spl_autoload_register</code>).</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
<span class="arrow"></span>
<span class="next">Le constructeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">
<span class="next">L&#039;opérateur de résolution de portée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039oprateurdersolutiondeporte"></a><h2>L&#039;opérateur de résolution de portée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
<span class="arrow"></span>
<span class="next">L&#039;auto-chargement de classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
<span class="next">Les constantes de classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607030" data-claire-element-id="607030">L'opérateur de résolution de portée (« <code>::</code> »), appelé « double deux points » (« <em>Scope Resolution Operator</em> » en anglais), est utilisé pour appeler des éléments appartenant à telle classe et non à tel objet. En effet, nous pouvons définir des attributs et méthodes appartenant à la classe : ce sont des éléments <strong>statiques</strong>. Nous y reviendrons en temps voulu dans une partie dédiée à ce sujet.</p><p id="r-607031" data-claire-element-id="607031">Parmi les éléments appartenant à la classe (et donc appelés via cet opérateur), il y a aussi les <strong>constantes de classe</strong>, sortes d'attributs dont la valeur est constante, c'est-à-dire qu'elle ne change pas. Nous allons d'ailleurs commencer par ces constantes de classe.</p><p id="r-607032" data-claire-element-id="607032">Cet opérateur est aussi appelé « Paamayim Nekudotayim ». Mais rassurez-vous, je ne vais pas vous demander de le retenir (si vous y arrivez, bien joué :-° ).</p>
</div><a name="Lesconstantesdeclasse"></a><h2>Les constantes de classe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">
<span class="arrow"></span>
<span class="next">L&#039;opérateur de résolution de portée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
<span class="next">Les attributs et méthodes statiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-constantes-de-classe" data-claire-element-id="607058">Les constantes de classe</h4><p id="r-607033" data-claire-element-id="607033">Commençons par les constantes de classe. Le principe est à peu près le même que lorsque vous créez une constante à l'aide de la fonction <code data-claire-semantic="html+php">define</code>. Les constantes de classe permettent d'éviter tout code <em>muet</em>. Voici un code muet :</p><pre id="r-607034" data-claire-element-id="607034"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage(50);
?&gt;</code></pre><p id="r-607035" data-claire-element-id="607035">Pourquoi est-il muet ? Tout simplement parce qu'on ne sait pas à quoi « 50 » correspond. Qu'est-ce que cela veut dire ? Étant donné que je viens de réaliser le script, je sais que ce « 50 » correspond à la force du personnage. Cependant, ce paramètre ne peut prendre que 3 valeurs possibles :</p><ul id="r-607042" data-claire-element-id="607042"><li id="r-607037" data-claire-element-id="607037"><p id="r-607036" data-claire-element-id="607036">20, qui veut dire que le personnage aura une faible force ;</p></li><li id="r-607039" data-claire-element-id="607039"><p id="r-607038" data-claire-element-id="607038">50, qui veut dire que le personnage aura une force moyenne ;</p></li><li id="r-607041" data-claire-element-id="607041"><p id="r-607040" data-claire-element-id="607040">80, qui veut dire que le personnage sera très fort.</p></li></ul><p id="r-607043" data-claire-element-id="607043">Au lieu de passer ces valeurs telles quelles, on va plutôt passer une <strong>constante</strong> au constructeur. Ainsi, quand on lira le code, on devinera facilement que l'on passe une force moyenne au constructeur. C'est bien plus facile à comprendre qu'un nombre quelconque.</p><p id="r-607044" data-claire-element-id="607044">Une constante est une sorte d'attribut appartenant à la classe dont la valeur ne change jamais. Ceci est peut-être un peu flou, c'est pourquoi nous allons passer à la pratique. Pour déclarer une constante, vous devez faire précéder son nom du mot-clé <code data-claire-semantic="html+php">const</code>. Faites bien attention, une constante ne prend pas de « $ » devant son nom ! Voici donc comment créer une constante :</p><pre id="r-607045" data-claire-element-id="607045"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  // Je rappelle : tous les attributs en privé !

  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;

  // Déclarations des constantes en rapport avec la force.

  const FORCE_PETITE = 20;
  const FORCE_MOYENNE = 50;
  const FORCE_GRANDE = 80;

  public function __construct()
  {

  }

  public function deplacer()
  {

  }

  public function frapper()
  {

  }

  public function gagnerExperience()
  {

  }
}
?&gt;</code></pre><p id="r-607046" data-claire-element-id="607046">Et voilà ! Facile n'est-ce pas ?</p><p id="r-607047" data-claire-element-id="607047">Bien sûr, vous pouvez assigner à ces constantes d'autres valeurs. ;)</p><div id="r-607049" data-claire-element-id="607049" data-claire-semantic="question"><p id="r-607048" data-claire-element-id="607048">Et quel est le rapport avec tes « double deux points » ?</p></div><p id="r-607050" data-claire-element-id="607050">Contrairement aux attributs, vous ne pouvez accéder à ces valeurs <em>via</em> l'opérateur « <code data-claire-semantic="html+php">-&gt;</code> » depuis un objet (ni <code>$this</code> ni <code>$perso</code> ne fonctionneront) mais avec l'opérateur « <code>::</code> » car une constante appartient à la classe et non à un quelconque objet.</p><p id="r-607051" data-claire-element-id="607051">Pour accéder à une constante, vous devez spécifier le nom de la classe, suivi du symbole double deux points, suivi du nom de la constante. Ainsi, on pourrait imaginer un code comme celui-ci :</p><pre id="r-607052" data-claire-element-id="607052"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;

  // Déclarations des constantes en rapport avec la force.

  const FORCE_PETITE = 20;
  const FORCE_MOYENNE = 50;
  const FORCE_GRANDE = 80;

  public function __construct($forceInitiale)
  {
    // N'oubliez pas qu'il faut assigner la valeur d'un attribut uniquement depuis son setter !
    $this-&gt;setForce($forceInitiale);
  }

  public function deplacer()
  {

  }

  public function frapper()
  {

  }

  public function gagnerExperience()
  {

  }
  
  public function setForce($force)
  {
    // On vérifie qu'on nous donne bien soit une « FORCE_PETITE », soit une « FORCE_MOYENNE », soit une « FORCE_GRANDE ».
    if (in_array($force, array(self::FORCE_PETITE, self::FORCE_MOYENNE, self::FORCE_GRANDE)))
    {
      $this-&gt;_force = $force;
    }
  }
}
?&gt;</code></pre><p id="r-607053" data-claire-element-id="607053">Et lors de la création de notre personnage :</p><pre id="r-607054" data-claire-element-id="607054"><code data-claire-semantic="html+php">&lt;?php
// On envoie une « FORCE_MOYENNE » en guise de force initiale.
$perso = new Personnage(Personnage::FORCE_MOYENNE);
?&gt;</code></pre><aside id="r-607056" data-claire-element-id="607056" data-claire-semantic="information"><p id="r-607055" data-claire-element-id="607055">Notez qu'ici les noms de constantes sont en majuscules : c'est encore et toujours une convention de dénomination.</p></aside><p id="r-607057" data-claire-element-id="607057">Reconnaissez que ce code est plus lisible que celui montré au début de cette sous-partie. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">
<span class="arrow"></span>
<span class="next">L&#039;opérateur de résolution de portée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
<span class="next">Les attributs et méthodes statiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesattributsetmthodesstatiques"></a><h2>Les attributs et méthodes statiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
<span class="arrow"></span>
<span class="next">Les constantes de classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">
<span class="next">Manipulation de données stockées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-attributs-et-methodes-statiques" data-claire-element-id="607097">Les attributs et méthodes statiques</h4><h5 id="r-les-methodes-statiques-2" data-claire-element-id="607071">Les méthodes statiques</h5><p id="r-607059" data-claire-element-id="607059">Comme je l'ai brièvement dit dans l'introduction, les méthodes statiques sont des méthodes qui sont faites pour agir sur une classe et non sur un objet. Par conséquent, je ne veux voir aucun <code>$this</code> dans la méthode ! En effet, la méthode n'étant appelée sur aucun objet, il serait illogique que cette variable existe. Souvenez-vous : <code>$this</code> est un paramètre implicite. Cela n'est vrai que pour les méthodes appelées sur un objet !</p><aside id="r-607061" data-claire-element-id="607061" data-claire-semantic="information"><p id="r-607060" data-claire-element-id="607060">Même si la méthode est dite « statique », il est possible de l'appeler depuis un objet (<code data-claire-semantic="html+php">$obj-&gt;methodeStatique()</code>), mais, même dans ce contexte, la variable <code>$this</code> ne sera toujours pas passée !</p></aside><p id="r-607062" data-claire-element-id="607062">Pour déclarer une méthode statique, vous devez faire précéder le mot-clé <code>function</code> du mot-clé <code>static</code> après le type de visibilité.</p><pre id="r-607063" data-claire-element-id="607063"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;

  const FORCE_PETITE = 20;
  const FORCE_MOYENNE = 50;
  const FORCE_GRANDE = 80;

  public function __construct($forceInitiale)
  {
    $this-&gt;setForce($forceInitiale);
  }

  public function deplacer()
  {

  }
        
  public function frapper()
  {

  }
        
  public function gagnerExperience()
  {

  }
  
  public function setForce($force)
  {
    // On vérifie qu'on nous donne bien soit une « FORCE_PETITE », soit une « FORCE_MOYENNE », soit une « FORCE_GRANDE ».
    if (in_array($force, array(self::FORCE_PETITE, self::FORCE_MOYENNE, self::FORCE_GRANDE)))
    {
      $this-&gt;_force = $force;
    }
  }

  // Notez que le mot-clé static peut être placé avant la visibilité de la méthode (ici c'est public).
  public static function parler()
  {
    echo 'Je vais tous vous tuer !';
  }
}
?&gt;</code></pre><p id="r-607064" data-claire-element-id="607064">Et dans le code, vous pourrez faire :</p><pre id="r-607065" data-claire-element-id="607065"><code data-claire-semantic="html+php">&lt;?php
Personnage::parler();
?&gt;</code></pre><p id="r-607066" data-claire-element-id="607066">Comme je l'ai dit plus haut, vous pouvez aussi appeler la méthode depuis un objet, mais cela ne changera rien au résultat final :</p><pre id="r-607067" data-claire-element-id="607067"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage(Personnage::FORCE_GRANDE);
$perso-&gt;parler();
?&gt;</code></pre><p id="r-607068" data-claire-element-id="607068">Cependant, préférez appeler la méthode avec l'opérateur « <code>::</code> » comme le montre le premier de ces deux codes. De cette façon, on voit directement de quelle classe on décide d'invoquer la méthode. De plus, appeler de cette façon une méthode statique évitera une erreur de degré <code>E_STRICT</code>.</p><aside id="r-607070" data-claire-element-id="607070" data-claire-semantic="error"><p id="r-607069" data-claire-element-id="607069">Je me répète mais j'insiste là-dessus : il n'y a pas de variable <code data-claire-semantic="html+php">$this</code> dans la méthode dans la mesure où la méthode est invoquée afin d'agir sur la classe et non sur un quelconque objet !</p></aside><h5 id="r-les-attributs-statiques-1" data-claire-element-id="607084">Les attributs statiques</h5><p id="r-607072" data-claire-element-id="607072">Le principe est le même, c'est-à-dire qu'un attribut statique appartient à la classe et non à un objet. Ainsi, tous les objets auront accès à cet attribut et cet attribut aura la même valeur pour tous les objets.</p><p id="r-607073" data-claire-element-id="607073">La déclaration d'un attribut statique se fait en faisant précéder son nom du mot-clé <code data-claire-semantic="html+php">static</code>, comme ceci :</p><pre id="r-607074" data-claire-element-id="607074"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_force;
  private $_localisation;
  private $_experience;
  private $_degats;

  const FORCE_PETITE = 20;
  const FORCE_MOYENNE = 50;
  const FORCE_GRANDE = 80;

  // Variable statique PRIVÉE.
  private static $_texteADire = 'Je vais tous vous tuer !';

  public function __construct($forceInitiale)
  {
    $this-&gt;setForce($forceInitiale);
  }

  public function deplacer()
  {

  }

  public function frapper()
  {

  }

  public function gagnerExperience()
  {

  }
  
  public function setForce($force)
  {
    // On vérifie qu'on nous donne bien soit un « FORCE_PETITE », soit une « FORCE_MOYENNE », soit une « FORCE_GRANDE ».
    if (in_array($force, array(self::FORCE_PETITE, self::FORCE_MOYENNE, self::FORCE_GRANDE)))
    {
      $this-&gt;_force = $force;
    }
  }

  public static function parler()
  {
    echo self::$_texteADire; // On donne le texte à dire.
  }
}
?&gt;</code></pre><p id="r-607075" data-claire-element-id="607075">Quelques nouveautés dans ce code nécessitent des explications. Premièrement, à quoi sert un attribut statique ?</p><p id="r-607076" data-claire-element-id="607076">Nous avons vu que les méthodes statiques sont faites pour agir sur la classe. D'accord, mais qu'est-ce qu'on peut faire sur une classe ? Et bien tout simplement <em>modifier les attributs de celle-ci</em> car, comme je l'ai déjà dit, des attributs appartenant à une classe ne sont autre que des attributs statiques ! Les attributs statiques servent en particulier à avoir des attributs <em>indépendants de tout objet</em>. Ainsi, vous aurez beau créer des tas d'objets, votre attribut aura toujours la même valeur (sauf si l'objet modifie sa valeur, bien sûr). Mieux encore : si l'un des objets modifie sa valeur, tous les autres objets qui accéderont à cet attribut obtiendront la nouvelle valeur ! C'est logique quand on y pense, car un attribut statique appartenant à la classe, il n'existe qu'en un seul exemplaire. Si on le modifie, tout le monde pourra accéder à sa nouvelle valeur.</p><p id="r-607077" data-claire-element-id="607077">La ligne 47 commence avec le mot-clé <code>self</code>, ce qui veut dire (en gros) « moi-même » (= la classe). Notre ligne veut donc dire : « Dans moi-même, donne-moi l'attribut statique <code>$_texteADire</code>. » (Je sais ce n'est pas bien français mais c'est la meilleure traduction mot à mot que j'ai pu trouver.)</p><aside id="r-607079" data-claire-element-id="607079" data-claire-semantic="error"><p id="r-607078" data-claire-element-id="607078">N'oubliez pas de mettre un « $ » devant le nom de l'attribut. C'est souvent source d'erreur donc faites bien attention.</p></aside><p id="r-607080" data-claire-element-id="607080">Nous allons maintenant faire un petit exercice. Je veux que vous me fassiez une classe toute bête qui ne sert à rien. Seulement, à la fin du script, je veux pouvoir afficher le nombre de fois où la classe a été instanciée. Pour cela, vous aurez besoin d'un attribut appartenant à la classe (admettons <code>$_compteur</code>) qui est incrémenté dans le constructeur.</p><p id="r-607081" data-claire-element-id="607081">Voici la correction :</p><pre id="r-607082" data-claire-element-id="607082"><code data-claire-semantic="html+php">&lt;?php
class Compteur
{
  // Déclaration de la variable $compteur
  private static $_compteur = 0;

  public function __construct()
  {
    // On instancie la variable $compteur qui appartient à la classe (donc utilisation du mot-clé self).
    self::$_compteur++;
  }

  public static function getCompteur() // Méthode statique qui renverra la valeur du compteur.
  {
    return self::$_compteur;
  }
}

$test1 = new Compteur;
$test2 = new Compteur;
$test3 = new Compteur;

echo Compteur::getCompteur();
?&gt;</code></pre><p id="r-607083" data-claire-element-id="607083">Eh oui, le retour du mot-clé <code>self</code>… Pourquoi pas <code>$this</code> ? Souvenez-vous : on n'accède pas à un attribut statique avec <code>$this</code> mais avec <code>self</code> ! <code>self</code> représente la classe tandis que <code>$this</code> représente l'objet actuellement créé. Si un attribut statique est modifié, il n'est pas modifié uniquement dans l'objet créé mais dans la structure complète de la classe ! Je me répète, mais il est essentiel que vous compreniez ça, c'est très important.</p><h5 id="r-en-resume-187" data-claire-element-id="607096">En résumé</h5><ul id="r-607095" data-claire-element-id="607095"><li id="r-607086" data-claire-element-id="607086"><p id="r-607085" data-claire-element-id="607085">L'opérateur « <code>-&gt;</code> » permet d'accéder à un élément de tel objet, tandis que l'opérateur « <code>::</code> » permet d'accéder à un élément de telle classe.</p></li><li id="r-607088" data-claire-element-id="607088"><p id="r-607087" data-claire-element-id="607087">Au sein d'une méthode, on accède à l'objet grâce à la pseudo-variable <code>$this</code>, tandis qu'on accède à la classe grâce au mot-clé <code>self</code>.</p></li><li id="r-607090" data-claire-element-id="607090"><p id="r-607089" data-claire-element-id="607089">Les attributs et méthodes statiques ainsi que les constantes de classe sont des éléments propres à la classe, c'est-à-dire qu'il n'est pas utile de créer un objet pour s'en servir.</p></li><li id="r-607092" data-claire-element-id="607092"><p id="r-607091" data-claire-element-id="607091">Les constantes de classe sont utiles pour éviter d'avoir un code muet, c'est-à-dire un code qui, sans commentaire, ne nous informe pas vraiment sur son fonctionnement.</p></li><li id="r-607094" data-claire-element-id="607094"><p id="r-607093" data-claire-element-id="607093">Les attributs et méthodes statiques sont utiles lorsque l'on ne veut pas avoir besoin d'un objet pour s'en servir.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
<span class="arrow"></span>
<span class="next">Les constantes de classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">
<span class="next">Manipulation de données stockées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Manipulationdedonnesstockes"></a><h2>Manipulation de données stockées</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
<span class="arrow"></span>
<span class="next">Les attributs et méthodes statiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
<span class="next">Une entité, un objet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607099" data-claire-element-id="607099">Tout site web dynamique doit être capable de sauvegarder des données afin de les utiliser ultérieurement. Comme vous le savez sans doute, l'un des moyens les plus simples et efficaces est la base de données permettant de sauvegarder des centaines de données et de les récupérer en un temps très court.</p><p id="r-607100" data-claire-element-id="607100">Cependant, la gestion des données stockées en BDD peut être assez difficile à cerner en POO. Le débutant ne sait en général pas par où commencer et se pose tout un tas de questions : où créer la connexion avec la BDD ? Où placer les requêtes ? Comment traiter les valeurs retournées ? Nous allons justement voir tout cela ensemble. Accrochez-vous bien, un TP suivra pour voir si vous avez bien tout compris !</p>
</div><a name="Uneentitunobjet"></a><h2>Une entité, un objet</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">
<span class="arrow"></span>
<span class="next">Manipulation de données stockées</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
<span class="next">L&#039;hydratation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-une-entite-un-objet" data-claire-element-id="607159">Une entité, un objet</h4><h5 id="r-rappels-sur-la-structure-d-une-bdd" data-claire-element-id="607111">Rappels sur la structure d'une BDD</h5><p id="r-607101" data-claire-element-id="607101">Commençons ce chapitre par observer la structure d'une table en BDD et, plus précisément, la manière dont sont stockées les données. Comme vous le savez sûrement, une table n'est autre qu'un grand tableau où sont organisées les données :</p><figure id="r-exemple-d-une-table-de-personnages" data-claire-element-id="607104"><img id="r-607102" data-claire-element-id="607102" src="medias/uploads.siteduzero.com_files_334001_335000_334748.png" alt="Exemple d'une table de personnages"/><figcaption>Exemple d'une table de personnages</figcaption></figure><p id="r-607105" data-claire-element-id="607105">Nous voyons ici que notre table contient 3 personnages. Ces données sont stockées sous forme d'entrées. C'est sous cette forme que le gestionnaire de la BDD (MySQL, PostgreSQL, etc.) manipule les données. Si l'on regarde du côté de l'application qui les manipule (ici, notre script PHP), on se rend compte que c'est sous une forme similaire que les données sont récupérées. Cette forme utilisée, vous la connaissez bien : vous utilisiez jusqu'à présent des tableaux pour les manipuler. Exemple :</p><pre id="r-607106" data-claire-element-id="607106"><code data-claire-semantic="html+php">&lt;?php
// On admet que $db est un objet PDO
$request = $db-&gt;query('SELECT id, nom, forcePerso, degats, niveau, experience FROM personnages');
    
while ($perso = $request-&gt;fetch(PDO::FETCH_ASSOC)) // Chaque entrée sera récupérée et placée dans un array.
{
  echo $perso['nom'], ' a ', $perso['forcePerso'], ' de force, ', $perso['degats'], ' de dégâts, ', $perso['experience'], ' d\'expérience et est au niveau ', $perso['niveau'];
}</code></pre><p id="r-607107" data-claire-element-id="607107">Ça, si vous avez déjà fait un site internet de A à Z, vous avez du l'écrire pas mal de fois !</p><aside id="r-607109" data-claire-element-id="607109" data-claire-semantic="information"><p id="r-607108" data-claire-element-id="607108">Pour les exemples, et dans la suite du cours, j'utilise l'API PDO pour accéder à la base de données. Je vous conseille de lire <a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html#part_14671">le cours</a> de M@teo21 sur PDO pour être à l'aise avec !</p></aside><p id="r-607110" data-claire-element-id="607110">Maintenant, puisque nous programmons de manière orientée objet, nous voulons travailler seulement avec des objets (c'est le principe même de la POO, rappelons-le)et non plus avec des tableaux. En d'autres termes, il va falloir transformer le tableau que l'on reçoit en objet.</p><h5 id="r-travailler-avec-des-objets" data-claire-element-id="607158">Travailler avec des objets</h5><p id="r-607112" data-claire-element-id="607112">Avant de travailler avec des objets, encore faut-il savoir de quelle classe ils sont issus. Dans notre cas, nous voulons des objets représentant des personnages. On aura donc besoin d'une classe <code>Personnage</code> !</p><pre id="r-607113" data-claire-element-id="607113"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{

}
?&gt;</code></pre><p id="r-607114" data-claire-element-id="607114">Vient maintenant une question embêtante dans votre tête pour construire cette classe : « Je commence par où ? »</p><p id="r-607115" data-claire-element-id="607115">Une classe est composée de deux parties (éventuellement trois) :</p><ul id="r-607122" data-claire-element-id="607122"><li id="r-607117" data-claire-element-id="607117"><p id="r-607116" data-claire-element-id="607116">une partie déclarant les attributs. Ce sont les <em>caractéristiques</em> de l'objet ;</p></li><li id="r-607119" data-claire-element-id="607119"><p id="r-607118" data-claire-element-id="607118">une partie déclarant les méthodes. Ce sont les <em>fonctionnalités</em> de chaque objet ;</p></li><li id="r-607121" data-claire-element-id="607121"><p id="r-607120" data-claire-element-id="607120">éventuellement, une partie déclarant les constantes de classe. Nous nous en occuperons en temps voulu.</p></li></ul><p id="r-607123" data-claire-element-id="607123">Lorsque l'on veut construire une classe, il va donc falloir <em>systématiquement</em> se poser les mêmes questions :</p><ul id="r-607128" data-claire-element-id="607128"><li id="r-607125" data-claire-element-id="607125"><p id="r-607124" data-claire-element-id="607124">Quelles seront les caractéristiques de mes objets ?</p></li><li id="r-607127" data-claire-element-id="607127"><p id="r-607126" data-claire-element-id="607126">Quelles seront les fonctionnalités de mes objets ?</p></li></ul><p id="r-607129" data-claire-element-id="607129">Les réponses à ces questions aboutiront à la réalisation du plan de la classe, le plus difficile. ;)</p><p id="r-607130" data-claire-element-id="607130">Commençons donc à réfléchir sur le plan de notre classe en répondant à la première question : « Quelles seront les caractéristiques de mes objets ? » Pour vous mettre sur la piste, regardez de nouveau le tableau de la BDD contenant les entrées, cela vous donnera peut-être la réponse… Et oui, les attributs de notre classe (les caractéristiques) nous sont offerts sur un plateau ! Ils sont listés en haut du tableau : <code>id</code>, <code>nom</code>, <code>forcePerso</code>, <code>degats</code>, <code>niveau</code> et <code>experience</code>.</p><p id="r-607131" data-claire-element-id="607131">Écrivons maintenant notre classe :</p><pre id="r-607132" data-claire-element-id="607132"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id;
  private $_nom;
  private $_forcePerso;
  private $_degats;
  private $_niveau;
  private $_experience;
}
?&gt;</code></pre><p id="r-607133" data-claire-element-id="607133">Il faut bien sûr implémenter (écrire) les <em>getters</em> et <em>setters</em> qui nous permettront d'accéder et de modifier les valeurs de notre objet. Pour rappel, un <em>getter</em> est une méthode chargée de renvoyer la valeur d'un attribut, tandis qu'un <em>setter</em> une méthode chargée d'assigner une valeur à un attribut <strong>en vérifiant son intégrité</strong> (si vous assignez la valeur sans aucun contrôle, vous perdez tout l'intérêt qu'apporte le principe d'encapsulation).</p><p id="r-607134" data-claire-element-id="607134">Pour construire nos setters, il faut donc nous pencher sur les valeurs possibles de chaque attribut :</p><ul id="r-607147" data-claire-element-id="607147"><li id="r-607136" data-claire-element-id="607136"><p id="r-607135" data-claire-element-id="607135">les valeurs possibles de l'identifiant sont tous les nombres entiers strictement positifs ;</p></li><li id="r-607138" data-claire-element-id="607138"><p id="r-607137" data-claire-element-id="607137">les valeurs possibles pour le nom du personnage sont toutes les chaînes de caractères ;</p></li><li id="r-607140" data-claire-element-id="607140"><p id="r-607139" data-claire-element-id="607139">les valeurs possibles pour la force du personnage sont tous les nombres entiers allant de 1 à 100 ;</p></li><li id="r-607142" data-claire-element-id="607142"><p id="r-607141" data-claire-element-id="607141">les valeurs possibles pour les dégâts du personnage sont tous les nombres entiers allant de 0 à 100 ;</p></li><li id="r-607144" data-claire-element-id="607144"><p id="r-607143" data-claire-element-id="607143">les valeurs possibles pour le niveau du personnage sont tous les nombres entiers allant de 1 à 100 ;</p></li><li id="r-607146" data-claire-element-id="607146"><p id="r-607145" data-claire-element-id="607145">les valeurs possibles pour l'expérience du personnage sont tous les nombres entiers allant de 1 à 100.</p></li></ul><p id="r-607148" data-claire-element-id="607148">On en déduit donc le code de chaque setter. Voici donc ce que donnerait notre classe avec ses getters et setters :</p><pre id="r-607149" data-claire-element-id="607149"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id;
  private $_nom;
  private $_forcePerso;
  private $_degats;
  private $_niveau;
  private $_experience;
  
  // Liste des getters
  
  public function id()
  {
    return $this-&gt;id;
  }
  
  public function nom()
  {
    return $this-&gt;nom;
  }
  
  public function forcePerso()
  {
    return $this-&gt;forcePerso;
  }
  
  public function degats()
  {
    return $this-&gt;degats;
  }
  
  public function niveau()
  {
    return $this-&gt;niveau;
  }
  
  public function experience()
  {
    return $this-&gt;experience;
  }
  
  // Liste des setters
  
  public function setId($id)
  {
    // On convertit l'argument en nombre entier.
    // Si c'en était déjà un, rien ne changera.
    // Sinon, la conversion donnera le nombre 0 (à quelques exceptions près, mais rien d'important ici).
    $id = (int) $id;
    
    // On vérifie ensuite si ce nombre est bien strictement positif.
    if ($id &gt; 0)
    {
      // Si c'est le cas, c'est tout bon, on assigne la valeur à l'attribut correspondant.
      $this-&gt;_id = $id;
    }
  }
  
  public function setNom($nom)
  {
    // On vérifie qu'il s'agit bien d'une chaîne de caractères.
    if (is_string($nom))
    {
      $this-&gt;_nom = $nom;
    }
  }
  
  public function setForcePerso($forcePerso)
  {
    $forcePerso = (int) $forcePerso;
    
    if ($forcePerso &gt;= 1 &amp;&amp; $forcePerso &lt;= 100)
    {
      $this-&gt;_forcePerso = $forcePerso;
    }
  }
  
  public function setDegats($degats)
  {
    $degats = (int) $degats;
    
    if ($degats &gt;= 0 &amp;&amp; $degats &lt;= 100)
    {
      $this-&gt;_degats = $degats;
    }
  }
  
  public function setNiveau($niveau)
  {
    $niveau = (int) $niveau;
    
    if ($niveau &gt;= 1 &amp;&amp; $niveau &lt;= 100)
    {
      $this-&gt;_niveau = $niveau;
    }
  }
  
  public function setExperience($experience)
  {
    $experience = (int) $experience;
    
    if ($experience &gt;= 1 &amp;&amp; $experience &lt;= 100)
    {
      $this-&gt;_experience = $experience;
    }
  }
}
?&gt;</code></pre><p id="r-607150" data-claire-element-id="607150">Reprenons notre code de tout à l'heure, celui qui nous permettait de lire la BDD. Modifions-le un peu pour qu'on puisse manipuler des objets et non des tableaux :</p><pre id="r-607151" data-claire-element-id="607151"><code data-claire-semantic="html+php">&lt;?php
// On admet que $db est un objet PDO.
$request = $db-&gt;query('SELECT id, nom, forcePerso, degats, niveau, experience FROM personnages');
    
while ($donnees = $request-&gt;fetch(PDO::FETCH_ASSOC)) // Chaque entrée sera récupérée et placée dans un array.
{
  // On passe les données (stockées dans un tableau) concernant le personnage au constructeur de la classe.
  // On admet que le constructeur de la classe appelle chaque setter pour assigner les valeurs qu'on lui a données aux attributs correspondants.
  $perso = new Personnage($donnees);
        
  echo $perso-&gt;nom(), ' a ', $perso-&gt;forcePerso(), ' de force, ', $perso-&gt;degats(), ' de dégâts, ', $perso-&gt;experience(), ' d\'expérience et est au niveau ', $perso-&gt;niveau();
}</code></pre><div id="r-607153" data-claire-element-id="607153" data-claire-semantic="question"><p id="r-607152" data-claire-element-id="607152">Et quelles seront les méthodes de nos classes ?</p></div><p id="r-607154" data-claire-element-id="607154">Les méthodes concernent des fonctionnalités que possède l'objet, des actions qu'il peut effectuer. Voyez-vous des fonctionnalités intéressantes à implémenter ? Pour les opérations basiques que l'on effectue, il n'y en a pas besoin. En effet, nous voulons juste créer des objets et assigner des valeurs aux attributs, donc hormis les getters et setters, aucune autre méthode n'est nécessaire !</p><div id="r-607156" data-claire-element-id="607156" data-claire-semantic="question"><p id="r-607155" data-claire-element-id="607155">D'accord, nous avons des objets maintenant. Mais à quoi cela sert-il, concrètement ?</p></div><p id="r-607157" data-claire-element-id="607157">Il est sûr que dans cet exemple précis, cela ne sert à rien. Mais vous verrez plus tard qu'il est beaucoup plus intuitif de travailler avec des objets et par conséquent beaucoup plus pratique, notamment sur de grosses applications où de nombreux objets circulent un peu dans tous les sens.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">
<span class="arrow"></span>
<span class="next">Manipulation de données stockées</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
<span class="next">L&#039;hydratation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039hydratation"></a><h2>L&#039;hydratation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
<span class="arrow"></span>
<span class="next">Une entité, un objet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
<span class="next">Gérer sa BDD correctement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-hydratation" data-claire-element-id="607200">L'hydratation</h4><h5 id="r-la-theorie-de-l-hydratation" data-claire-element-id="607167">La théorie de l'hydratation</h5><p id="r-607160" data-claire-element-id="607160">L'hydratation est un point essentiel dans le domaine de la POO, notamment lorsqu'on utilise des objets représentant des données stockées. Cette notion peut vite devenir compliquée et créer des interrogations pour un développeur débutant si elle est abordée de manière approximative, alors que des explications claires prouvent qu'il n'y a rien de compliqué là-dedans.</p><p id="r-607161" data-claire-element-id="607161">Quand on vous parle d'hydratation, c'est qu'on parle d'« objet à hydrater ». Hydrater un objet, c'est tout simplement lui apporter ce dont il a besoin pour fonctionner. En d'autres termes plus précis, hydrater un objet revient à lui fournir des données correspondant à ses attributs pour qu'il assigne les valeurs souhaitées à ces derniers. L'objet aura ainsi des attributs valides et sera en lui-même valide. On dit que l'objet a ainsi été hydraté.</p><p id="r-607162" data-claire-element-id="607162">Schématiquement, une hydratation se produit comme ceci :</p><figure id="r-hydratation-d-un-objet" data-claire-element-id="607165"><img id="r-607163" data-claire-element-id="607163" src="medias/uploads.siteduzero.com_files_410001_411000_410249.png" alt="Hydratation d'un objet"/><figcaption>Hydratation d'un objet</figcaption></figure><p id="r-607166" data-claire-element-id="607166">Au début, nous avons un objet <code>Personnage</code> dont les attributs sont vides. Comme le schéma le représente, l'hydratation consiste à assigner des valeurs aux attributs. Ainsi l'objet est fonctionnel car il contient des attributs valides : nous avons donc bien hydraté l'objet.</p><h5 id="r-l-hydratation-en-pratique" data-claire-element-id="607199">L'hydratation en pratique</h5><p id="r-607168" data-claire-element-id="607168">Comme on l'a vu, hydrater un objet revient à assigner des valeurs à ses attributs. Qu'avons-nous besoin de faire pour réaliser une telle chose ? Il faut ajouter à l'objet l'action de s'hydrater. Et qui dit action dit méthode !</p><p id="r-607169" data-claire-element-id="607169">Nous allons donc écrire notre fonction <code>hydrate()</code> :</p><pre id="r-607170" data-claire-element-id="607170"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id;
  private $_nom;
  private $_forcePerso;
  private $_degats;
  private $_niveau;
  private $_experience;

  // Un tableau de données doit être passé à la fonction (d'où le préfixe « array »).
  public function hydrate(array $donnees)
  {
 
  }

  public function id() { return $this-&gt;_id; }
  public function nom() { return $this-&gt;_nom; }
  public function forcePerso() { return $this-&gt;_forcePerso; }
  public function degats() { return $this-&gt;_degats; }
  public function niveau() { return $this-&gt;_niveau; }
  public function experience() { return $this-&gt;_experience; }

  public function setId($id)
  {
    // L'identifiant du personnage sera, quoi qu'il arrive, un nombre entier.
    $this-&gt;_id = (int) $id;
  }
        
  public function setNom($nom)
  {
    // On vérifie qu'il s'agit bien d'une chaîne de caractères.
    // Dont la longueur est inférieure à 30 caractères.
    if (is_string($nom) &amp;&amp; strlen($nom) &lt;= 30)
    {
      $this-&gt;_nom = $nom;
    }
  }

  public function setForcePerso($forcePerso)
  {
    $forcePerso = (int) $forcePerso;
            
    // On vérifie que la force passée est comprise entre 0 et 100.
    if ($forcePerso &gt;= 0 &amp;&amp; $forcePerso &lt;= 100)
    {
      $this-&gt;_forcePerso = $forcePerso;
    }
  }

  public function setDegats($degats)
  {
    $degats = (int) $degats;

    // On vérifie que les dégâts passés sont compris entre 0 et 100.
    if ($degats &gt;= 0 &amp;&amp; $degats &lt;= 100)
    {
      $this-&gt;_degats = $degats;
    }
  }

  public function setNiveau($niveau)
  {
    $niveau = (int) $niveau;

    // On vérifie que le niveau n'est pas négatif.
    if ($niveau &gt;= 0)
    {
      $this-&gt;_niveau = $niveau;
    }
  }

  public function setExperience($exp)
  {
    $exp = (int) $exp;

    // On vérifie que l'expérience est comprise entre 0 et 100.
    if ($exp &gt;= 0 &amp;&amp; $exp &lt;= 100)
    {
      $this-&gt;_experience = $exp;
    }
  }
}
?&gt;</code></pre><p id="r-607171" data-claire-element-id="607171">Vient maintenant l'apect le plus important : que doit-on mettre dans cette méthode ? Souvenez-vous de sa fonction : elle doit hydrater l'objet, c'est-à-dire « assigner les valeurs passées en paramètres aux attributs correspondant ». Cependant, je vous le dis avant que vous fassiez fausse route : il ne faut pas assigner ces valeurs directement, comme ceci :</p><pre id="r-607172" data-claire-element-id="607172"><code data-claire-semantic="html+php">&lt;?php
// …
public function hydrate(array $donnees)
{
  if (isset($donnees['id']))
  {
    $this-&gt;_id = $donnees['id'];
  }
    
  if (isset($donnees['nom']))
  {
    $this-&gt;_nom = $donnees['nom'];
  }
    
  // …
}
// …
?&gt;</code></pre><p id="r-607173" data-claire-element-id="607173">La principale raison pour laquelle c'est une mauvaise façon de procéder, est qu'en agissant ainsi vous violez le principe d'encapsulation. En effet, de cette manière, vous ne contrôlez pas l'intégrité des valeurs. Qui vous garantit que le tableau contiendra un nom valide ? Rien du tout! Comment contrôler alors l'intégrité de ces valeurs ? Regardez un peu votre classe, la réponse est sous vos yeux… C'est le rôle des setters de faire ces vérifications ! Il faudra donc les appeler au lieu d'assigner les valeurs directement :</p><pre id="r-607174" data-claire-element-id="607174"><code data-claire-semantic="html+php">&lt;?php
// …
public function hydrate(array $donnees)
{
  if (isset($donnees['id']))
  {
    $this-&gt;setId($donnees['id']);
  }

  if (isset($donnees['nom']))
  {
    $this-&gt;setNom($donnees['nom']);
  }

  // …
}
// …
?&gt;</code></pre><p id="r-607175" data-claire-element-id="607175">Théoriquement, nous avons terminé le travail. Cependant, cela n'est pas très flexible : si vous ajoutez un attribut (et donc son setter correspondant), il faudra modifier votre méthode <code>hydrate()</code> pour ajouter la possibilité d'assigner cette valeur. De plus, avec les 6 attributs actuellement créés, il est long de vérifier si la clé existe puis d'appeler la méthode correspondante.</p><p id="r-607176" data-claire-element-id="607176">Nous allons donc procéder plus rapidement : nous allons créer une boucle qui va parcourir le tableau passé en paramètre. Si le setter correspondant à la clé existe, alors on appelle ce setter en lui passant la valeur en paramètre. En langage naturel, l'algorithme peut s'écrire de cette façon :</p><pre id="r-607177" data-claire-element-id="607177"><code>PARCOURS du tableau $donnees (avec pour clé $cle et pour valeur $valeur)
  On assigne à $setter la valeur « 'set'.$cle », en mettant la première lettre de $cle en majuscule (utilisation de ucfirst())
  SI la méthode $setter de notre classe existe ALORS
    On invoque $setter($valeur)
  FIN SI
FIN PARCOURS</code></pre><p id="r-607178" data-claire-element-id="607178">Pas de panique, je vais vous expliquer chaque ligne. Dans votre tête, prenez un exemple de valeur pour <code>$donnees</code> :</p><pre id="r-607179" data-claire-element-id="607179"><code data-claire-semantic="html+php">&lt;?php
$donnees = array(
  'id' =&gt; 16,
  'nom' =&gt; 'Vyk12',
  'forcePerso' =&gt; 5,
  'degats' =&gt; 55,
  'niveau' =&gt; 4,
  'experience' =&gt; 20
);
?&gt;</code></pre><p id="r-607180" data-claire-element-id="607180">Vous voyez bien que chaque clé correspond à un attribut de notre objet, à qui on assigne une valeur précise. Dans notre méthode <code>hydrate()</code>, lorsqu'on parcourt notre tableau, on a successivement la clé <code>id</code>, puis <code>nom</code>, puis <code>forcePerso</code>, etc., avec leur valeur correspondante.</p><p id="r-607181" data-claire-element-id="607181">En récupérant le nom de l'attribut, il est facile de déterminer le setter correspondant. En effet, chaque setter a pour nom <code>setNomDeLAttribut</code>.</p><aside id="r-607183" data-claire-element-id="607183" data-claire-semantic="error"><p id="r-607182" data-claire-element-id="607182">Il est important de préciser que la première lettre du nom de l'attribut doit être en majuscule. Par exemple, le setter correspondant à <code>nom</code> est <code>setNom</code>.</p></aside><p id="r-607184" data-claire-element-id="607184">Pour l'instant notre méthode ressemble à ceci :</p><pre id="r-607185" data-claire-element-id="607185"><code data-claire-semantic="html+php">&lt;?php
// …
public function hydrate(array $donnees)
{
  foreach ($donnees as $key =&gt; $value)
  {
    $method = 'set'.ucfirst($key);
    // …
  }
}
// …
?&gt;</code></pre><p id="r-607186" data-claire-element-id="607186">Il faut maintenant vérifier que la méthode existe. Pour cela, nous allons utiliser la fonction <a href="http://fr2.php.net/manual/fr/function.method-exists.php">method_exists()</a>. Elle prend en premier paramètre le nom de la classe ou une instance de cette classe, et en deuxième paramètre le nom de la méthode qui nous intéresse. La méthode renvoie <code>true</code> si la méthode existe, sinon <code>false</code>.</p><p id="r-607187" data-claire-element-id="607187">Je vous laisse ajouter cette condition qui permet de voir si le setter correspondant existe.</p><p id="r-607188" data-claire-element-id="607188">Voici la correction :</p><pre id="r-607189" data-claire-element-id="607189"><code data-claire-semantic="html+php">&lt;?php
// …
public function hydrate(array $donnees)
{
  foreach ($donnees as $key =&gt; $value)
  {
    $method = 'set'.ucfirst($key);
        
    if (method_exists($this, $method))
    {
      // …
    }
  }
}
// …
?&gt;</code></pre><p id="r-607190" data-claire-element-id="607190">Et maintenant, il ne reste plus qu'à appeler le setter à l'intérieur de la condition ! Pour cela, je vais vous apprendre une petite astuce. Il est possible d'appeler une méthode dynamiquement, c'est-à-dire appeler une méthode dont le nom n'est pas connu à l'avance (en d'autres termes, le nom est connu seulement pendant l'exécution et est donc stocké dans une variable). Pour ce faire, rien de plus simple ! Regardez ce code :</p><pre id="r-607191" data-claire-element-id="607191"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function hello()
  {
    echo 'Hello world !';
  }
}

$a = new A;
$method = 'hello';

$a-&gt;$method(); // Affiche : « Hello world ! »
?&gt;</code></pre><aside id="r-607193" data-claire-element-id="607193" data-claire-semantic="information"><p id="r-607192" data-claire-element-id="607192">Il est bien entendu possible de passer des arguments à la méthode.</p></aside><p id="r-607194" data-claire-element-id="607194">Vous êtes maintenant capables de créer la dernière instruction dans notre méthode ! Pour rappel, celle-ci doit invoquer le setter dont le nom est contenu dans la variable <code>$method</code>.</p><pre id="r-607195" data-claire-element-id="607195"><code data-claire-semantic="html+php">&lt;?php
// …
public function hydrate(array $donnees)
{
  foreach ($donnees as $key =&gt; $value)
  {
    // On récupère le nom du setter correspondant à l'attribut.
    $method = 'set'.ucfirst($key);
        
    // Si le setter correspondant existe.
    if (method_exists($this, $method))
    {
      // On appelle le setter.
      $this-&gt;$method($value);
    }
  }
}
// …
?&gt;</code></pre><p id="r-607196" data-claire-element-id="607196">Cette fonction est très importante, vous la retrouverez dans de nombreux codes (parfois sous des formes différentes) provenant de plusieurs développeurs. Gardez-là donc dans un coin de votre tête.</p><aside id="r-607198" data-claire-element-id="607198" data-claire-semantic="information"><p id="r-607197" data-claire-element-id="607197">Il est courant d'implémenter un constructeur à ces classes demandant un tableau de valeurs pour qu'il appelle ensuite la fonction d'hydratation afin que l'objet soit hydraté dès sa création, comme on l'a vu au début de ce chapitre.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
<span class="arrow"></span>
<span class="next">Une entité, un objet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
<span class="next">Gérer sa BDD correctement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="GrersaBDDcorrectement"></a><h2>Gérer sa BDD correctement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
<span class="arrow"></span>
<span class="next">L&#039;hydratation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">
<span class="next">TP : Mini-jeu de combat</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-gerer-sa-bdd-correctement" data-claire-element-id="607257">Gérer sa BDD correctement</h4><p id="r-607201" data-claire-element-id="607201">On vient de voir jusqu'à présent comment gérer les données que les requêtes nous renvoient, mais où placer ces requêtes ? Notre but est de programmer orienté objet, donc nous voulons le moins de code possible en-dehors des classes pour mieux l'organiser. Beaucoup de débutants sont tentés de placer les requêtes dans des méthodes de la classe représentant une entité de la BDD. Par exemple, dans le cas du personnage, je parie que la plupart d'entre vous seraient tentés d'écrire les méthodes <code>add()</code> et <code>update()</code> dans la classe <code>Personnage</code>, ayant respectivement pour rôle d'exécuter une requête pour ajouter et modifier un personnage en BDD.</p><p id="r-607202" data-claire-element-id="607202">Arrêtez-vous là tout de suite ! Je vais vous expliquer pourquoi vous faites fausse route, puis vous montrerai la bonne marche à suivre.</p><h5 id="r-une-classe-un-role" data-claire-element-id="607212">Une classe, un rôle</h5><p id="r-607203" data-claire-element-id="607203">En POO, il y a une phrase très importante qu'il faut que vous ayez constamment en tête : « Une classe, un rôle. » Maintenant, répondez clairement à cette question : « Quel est le rôle d'une classe comme <code>Personnage</code> » ?</p><p id="r-607204" data-claire-element-id="607204">Un objet instanciant une classe comme <code>Personnage</code> a pour rôle de <em>représenter</em> une ligne présente en BDD. Le verbe « représenter » est ici très important. En effet, « représenter » est très différent de « gérer ». Une ligne de la BDD ne peut pas s'auto-gérer ! C'est comme si vous demandiez à un ouvrier ayant construit un produit de le commercialiser : l'ouvrier est tout à fait capable de le construire, c'est son <em>rôle</em>, mais il ne s'occupe pas du tout de sa gestion, il en est incapable. Il faut donc qu'une deuxième personne intervienne, un commercial, qui va s'occuper de vendre ce produit.</p><p id="r-607205" data-claire-element-id="607205">Pour revenir à nos objets d'origine, nous aurons donc besoin de quelque chose qui va s'occuper de les gérer. Ce quelque chose, vous l'aurez peut-être deviné, n'est autre qu'un objet. Un objet gérant des entités issues d'une BDD est généralement appelé un « manager ».</p><p id="r-607206" data-claire-element-id="607206">Comme un manager ne fonctionne pas sans support de stockage (dans notre cas, une BDD), on va prendre un exemple concret en créant un gestionnaire pour nos personnages, qui va donc se charger d'en ajouter, d'en modifier, d'en supprimer et d'en récupérer. Puisque notre classe est un gestionnaire de personnages, je vous propose de la nommer <code>PersonnagesManager</code>. Cependant, rappelez-vous les questions que l'on doit se poser pour établir le plan de notre classe :</p><ul id="r-607211" data-claire-element-id="607211"><li id="r-607208" data-claire-element-id="607208"><p id="r-607207" data-claire-element-id="607207">Quelles seront les caractéristiques de mes objets ?</p></li><li id="r-607210" data-claire-element-id="607210"><p id="r-607209" data-claire-element-id="607209">Quelles seront les fonctionnalités de mes objets ?</p></li></ul><h5 id="r-les-caracteristiques-d-un-manager" data-claire-element-id="607218">Les caractéristiques d'un manager</h5><p id="r-607213" data-claire-element-id="607213">Partie délicate, car cela est moins intuitif que de trouver les caractéristiques d'un personnage. Pour trouver la réponse, vous devrez passer par une autre question (ce serait trop simple de toujours répondre à la même question !) : « De quoi a besoin un manager pour fonctionner ? »</p><p id="r-607214" data-claire-element-id="607214">Même si la réponse ne vous vient pas spontanément à l'esprit, vous la connaissez : elle a besoin d'une connexion à la BDD pour pouvoir exécuter des requêtes. En utilisant PDO, vous devriez savoir que la connexion à la BDD est représentée par un objet, un <em>objet d'accès à la BDD</em> (ou DAO pour <em>Database Access Object</em>). Vous l'avez peut-être compris : notre manager aura besoin de cet objet pour fonctionner, donc notre classe aura un attribut stockant cet objet.</p><p id="r-607215" data-claire-element-id="607215">Notre classe a-t-elle besoin d'autre chose pour fonctionner ?</p><p id="r-607216" data-claire-element-id="607216">Non, c'est tout. Vous pouvez donc commencer à écrire votre classe :</p><pre id="r-607217" data-claire-element-id="607217"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db;
}
?&gt;</code></pre><h5 id="r-les-fonctionnalites-d-un-manager" data-claire-element-id="607235">Les fonctionnalités d'un manager</h5><p id="r-607219" data-claire-element-id="607219">Pour pouvoir gérer au mieux des entités présentes en BDD (ici, nos personnages), il va falloir quelques fonctionnalités de base. Quelles sont-elles ?</p><p id="r-607220" data-claire-element-id="607220">Un manager doit pouvoir :</p><ul id="r-607229" data-claire-element-id="607229"><li id="r-607222" data-claire-element-id="607222"><p id="r-607221" data-claire-element-id="607221">enregistrer une nouvelle entité ;</p></li><li id="r-607224" data-claire-element-id="607224"><p id="r-607223" data-claire-element-id="607223">modifier une entité ;</p></li><li id="r-607226" data-claire-element-id="607226"><p id="r-607225" data-claire-element-id="607225">supprimer une entité ;</p></li><li id="r-607228" data-claire-element-id="607228"><p id="r-607227" data-claire-element-id="607227">sélectionner une entité.</p></li></ul><p id="r-607230" data-claire-element-id="607230">C'est le fameux CRUD (<em>Create, Read, Update, Delete</em>). N'oublions pas aussi d'ajouter un setter pour notre manager afin de pouvoir modifier l'attribut <code>$_db</code> (pas besoin d'accesseur). La création d'un constructeur sera aussi indispensable si nous voulons assigner à cet attribut un objet PDO dès l'instanciation du manager.</p><p id="r-607231" data-claire-element-id="607231">Nous allons donc écrire notre premier manager en écrivant les méthodes correspondant à ces fonctionnalités. Écrivez dans un premier temps les méthodes en ne les remplissant que de commentaires décrivant les instructions qui y seront écrites. Cela vous permettra d'organiser clairement le code dans votre tête.</p><pre id="r-607232" data-claire-element-id="607232"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db; // Instance de PDO.

  public function __construct($db)
  {
    $this-&gt;setDb($db);
  }

  public function add(Personnage $perso)
  {
    // Préparation de la requête d'insertion.
    // Assignation des valeurs pour le nom, la force, les dégâts, l'expérience et le niveau du personnage.
    // Exécution de la requête.
  }

  public function delete(Personnage $perso)
  {
    // Exécute une requête de type DELETE.
  }

  public function get($id)
  {
    // Exécute une requête de type SELECT avec une clause WHERE, et retourne un objet Personnage.
  }

  public function getList()
  {
    // Retourne la liste de tous les personnages.
  }

  public function update(Personnage $perso)
  {
    // Prépare une requête de type UPDATE.
    // Assignation des valeurs à la requête.
    // Exécution de la requête.
  }

  public function setDb(PDO $db)
  {
    $this-&gt;_db = $db;
  }
}
?&gt;</code></pre><p id="r-607233" data-claire-element-id="607233">Une fois cette étape accomplie, vous pouvez remplacer les commentaires par les instructions correspondantes. C'est la partie la plus facile car vous l'avez déjà fait de nombreuses fois en procédural : ce ne sont que des requêtes à taper et des valeurs à retourner.</p><pre id="r-607234" data-claire-element-id="607234"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db; // Instance de PDO

  public function __construct($db)
  {
    $this-&gt;setDb($db);
  }

  public function add(Personnage $perso)
  {
    $q = $this-&gt;_db-&gt;prepare('INSERT INTO personnages SET nom = :nom, forcePerso = :forcePerso, degats = :degats, niveau = :niveau, experience = :experience');

    $q-&gt;bindValue(':nom', $perso-&gt;nom());
    $q-&gt;bindValue(':forcePerso', $perso-&gt;forcePerso(), PDO::PARAM_INT);
    $q-&gt;bindValue(':degats', $perso-&gt;degats(), PDO::PARAM_INT);
    $q-&gt;bindValue(':niveau', $perso-&gt;niveau(), PDO::PARAM_INT);
    $q-&gt;bindValue(':experience', $perso-&gt;experience(), PDO::PARAM_INT);

    $q-&gt;execute();
  }

  public function delete(Personnage $perso)
  {
    $this-&gt;_db-&gt;exec('DELETE FROM personnages WHERE id = '.$perso-&gt;id());
  }

  public function get($id)
  {
    $id = (int) $id;

    $q = $this-&gt;_db-&gt;query('SELECT id, nom, forcePerso, degats, niveau, experience FROM personnages WHERE id = '.$id);
    $donnees = $q-&gt;fetch(PDO::FETCH_ASSOC);

    return new Personnage($donnees);
  }

  public function getList()
  {
    $persos = array();

    $q = $this-&gt;_db-&gt;query('SELECT id, nom, forcePerso, degats, niveau, experience FROM personnages ORDER BY nom');

    while ($donnees = $q-&gt;fetch(PDO::FETCH_ASSOC))
    {
      $persos[] = new Personnage($donnees);
    }

    return $persos;
  }

  public function update(Personnage $perso)
  {
    $q = $this-&gt;_db-&gt;prepare('UPDATE personnages SET forcePerso = :forcePerso, degats = :degats, niveau = :niveau, experience = :experience WHERE id = :id');

    $q-&gt;bindValue(':forcePerso', $perso-&gt;forcePerso(), PDO::PARAM_INT);
    $q-&gt;bindValue(':degats', $perso-&gt;degats(), PDO::PARAM_INT);
    $q-&gt;bindValue(':niveau', $perso-&gt;niveau(), PDO::PARAM_INT);
    $q-&gt;bindValue(':experience', $perso-&gt;experience(), PDO::PARAM_INT);
    $q-&gt;bindValue(':id', $perso-&gt;id(), PDO::PARAM_INT);

    $q-&gt;execute();
  }

  public function setDb(PDO $db)
  {
    $this-&gt;_db = $db;
  }
}
?&gt;</code></pre><h5 id="r-essayons-tout-ca" data-claire-element-id="607246">Essayons tout ça !</h5><p id="r-607236" data-claire-element-id="607236">Faisons un petit test pour s'assurer que tout cela fonctionne.</p><aside id="r-607238" data-claire-element-id="607238" data-claire-semantic="information"><p id="r-607237" data-claire-element-id="607237">Assurez-vous de bien avoir créé une table <code>personnages</code> dans votre BDD.</p></aside><p id="r-607239" data-claire-element-id="607239">Commençons par créer un objet <code>Personnage</code> :</p><pre id="r-607240" data-claire-element-id="607240"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage(array(
  'nom' =&gt; 'Victor',
  'forcePerso' =&gt; 5,
  'degats' =&gt; 0,
  'niveau' =&gt; 1,
  'experience' =&gt; 0
));
?&gt;</code></pre><p id="r-607241" data-claire-element-id="607241">Maintenant, comment l'ajouter en BDD ? Il faudra d'abord créer une instance de notre manager, <em>en lui passant une instance de PDO</em>.</p><pre id="r-607242" data-claire-element-id="607242"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage(array(
  'nom' =&gt; 'Victor',
  'forcePerso' =&gt; 5,
  'degats' =&gt; 0,
  'niveau' =&gt; 1,
  'experience' =&gt; 0
));
    
$db = new PDO('mysql:host=localhost;dbname=tests', 'root', '');
$manager = new PersonnagesManager($db);
?&gt;</code></pre><p id="r-607243" data-claire-element-id="607243">Nous n'avons plus qu'une instruction à entrer : celle ordonnant l'ajout du personnage en BDD. Et c'est tout !</p><pre id="r-607244" data-claire-element-id="607244"><code data-claire-semantic="html+php">&lt;?php
$perso = new Personnage(array(
  'nom' =&gt; 'Victor',
  'forcePerso' =&gt; 5,
  'degats' =&gt; 0,
  'niveau' =&gt; 1,
  'experience' =&gt; 0
));
    
$db = new PDO('mysql:host=localhost;dbname=tests', 'root', '');
$manager = new PersonnagesManager($db);
    
$manager-&gt;add($perso);
?&gt;</code></pre><p id="r-607245" data-claire-element-id="607245">Il est maintenant temps de mettre en pratique ce que vous venez d'apprendre. Cependant, avant de continuer, assurez-vous bien de tout avoir compris, sinon vous serez perdus car vous ne comprendrez pas le code du TP !</p><h5 id="r-en-resume-188" data-claire-element-id="607256">En résumé</h5><ul id="r-607255" data-claire-element-id="607255"><li id="r-607248" data-claire-element-id="607248"><p id="r-607247" data-claire-element-id="607247">Du côté du script PHP, chaque enregistrement de la base de données est représenté par un objet possédant une liste d'attributs identique à la liste des colonnes de la table.</p></li><li id="r-607250" data-claire-element-id="607250"><p id="r-607249" data-claire-element-id="607249">Il doit être possible d'<em>hydrater</em> chacun des objets grâce à une méthode <code>hydrate</code> qui a pour rôle d'assigner les valeurs passées en paramètre aux attributs correspondant.</p></li><li id="r-607252" data-claire-element-id="607252"><p id="r-607251" data-claire-element-id="607251">La communication avec la BDD se fait par le biais d'un objet différent de l'objet représentant l'enregistrement (une classe = un rôle). Un tel objet est un <em>manager</em>.</p></li><li id="r-607254" data-claire-element-id="607254"><p id="r-607253" data-claire-element-id="607253">Un <em>manager</em> peut stocker les objets en BDD, mais peut tout-à-fait les stocker sur un autre support (fichier XML, fichier texte, etc.).</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
<span class="arrow"></span>
<span class="next">L&#039;hydratation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">
<span class="next">TP : Mini-jeu de combat</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPMini-jeudecombat"></a><h2>TP : Mini-jeu de combat</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
<span class="arrow"></span>
<span class="next">Gérer sa BDD correctement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
<span class="next">Ce qu&#039;on va faire</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607259" data-claire-element-id="607259">Voici un petit TP qui mettra en pratique ce que l'on vient de voir. Celui-ci est étroitement lié avec le précédent chapitre. Ainsi, je vous conseille d'avoir bien compris ce dernier avant d'aborder ce TP, sinon vous n'arriverez sans doute pas au résultat tout seul.</p><p id="r-607260" data-claire-element-id="607260">En tout, vous aurez 3 TP de la sorte dont le niveau de difficulté sera croissant. Puisque celui-ci est votre premier, tout sera expliqué dans les moindres détails.</p>
</div><a name="Cequ039onvafaire"></a><h2>Ce qu&#039;on va faire</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">
<span class="arrow"></span>
<span class="next">TP : Mini-jeu de combat</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
<span class="next">Première étape : le personnage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ce-qu-on-va-faire" data-claire-element-id="607290">Ce qu'on va faire</h4><p id="r-607261" data-claire-element-id="607261">Pour information, j'utilise ici PDO. Si vous ne savez toujours pas maitriser cette API, alors allez lire le tutoriel <a href="http://www.siteduzero.com/tutoriel-3-34790-pdo-interface-d-acces-aux-bdd.html"><em>PDO : Interface d'accès aux BDD</em></a>. Vous avez les connaissances requises pour pouvoir manipuler cette bibliothèque. ;)</p><h5 id="r-cahier-des-charges-6" data-claire-element-id="607270">Cahier des charges</h5><p id="r-607262" data-claire-element-id="607262">Ce que nous allons réaliser est très simple. Nous allons créer une sorte de jeu. Chaque visiteur pourra créer un personnage (pas de mot de passe requis pour faire simple) avec lequel il pourra frapper d'autres personnages. Le personnage frappé se verra infliger un certain degré de dégâts.</p><p id="r-607263" data-claire-element-id="607263">Un personnage est défini selon 2 caractéristiques :</p><ul id="r-607268" data-claire-element-id="607268"><li id="r-607265" data-claire-element-id="607265"><p id="r-607264" data-claire-element-id="607264">Son nom (unique).</p></li><li id="r-607267" data-claire-element-id="607267"><p id="r-607266" data-claire-element-id="607266">Ses dégâts.</p></li></ul><p id="r-607269" data-claire-element-id="607269">Les dégâts d'un personnage sont compris entre 0 et 100. Au début, il a bien entendu 0 de dégât. Chaque coup qui lui sera porté lui fera prendre 5 points de dégâts. Une fois arrivé à 100 points de dégâts, le personnage est mort (on le supprimera alors de la BDD).</p><h5 id="r-notions-utilisees" data-claire-element-id="607283">Notions utilisées</h5><p id="r-607271" data-claire-element-id="607271">Voici une petite liste vous indiquant les points techniques que l'on va mettre en pratique avec ce TP :</p><ul id="r-607280" data-claire-element-id="607280"><li id="r-607273" data-claire-element-id="607273"><p id="r-607272" data-claire-element-id="607272">Les attributs et méthodes ;</p></li><li id="r-607275" data-claire-element-id="607275"><p id="r-607274" data-claire-element-id="607274">l'<em>instanciation</em> de la classe ;</p></li><li id="r-607277" data-claire-element-id="607277"><p id="r-607276" data-claire-element-id="607276">les constantes de classe ;</p></li><li id="r-607279" data-claire-element-id="607279"><p id="r-607278" data-claire-element-id="607278">et surtout, tout ce qui touche à la <strong>manipulation de données stockées</strong>.</p></li></ul><p id="r-607281" data-claire-element-id="607281">Cela dit, et c'est je pense ce qui sera le plus difficile, ce qui sera mis en valeur ici sera la <strong>conception</strong> d'un mini-projet, c'est-à-dire que l'on travaillera surtout ici votre capacité à programmer orienté objet. Cependant, ne prenez pas trop peur : nous avons effectué une importante partie théorique lors du précédent chapitre, et rien de nouveau n’apparaîtra. ;)</p><p id="r-607282" data-claire-element-id="607282">Vous avez donc maintenant une idée de ce qui vous attend. Cependant, ceci étant votre premier TP concernant la POO, il est fort probable que vous ne sachiez pas par où commencer, et c'est normal ! nous allons donc réaliser le TP ensemble : je vais vous expliquer comment <strong>penser</strong> un mini-projet et vous poser les bonnes questions.</p><h5 id="r-pre-conception" data-claire-element-id="607289">Pré-conception</h5><p id="r-607284" data-claire-element-id="607284">Avant de nous attaquer au cœur du script, nous allons réfléchir à son organisation. De quoi aura-t-on besoin ? Puisque nous travaillerons avec des personnages, nous aurons besoin de les stocker pour qu'ils puissent durer dans le temps. L'utilisation d'une base de données sera donc indispensable.</p><p id="r-607285" data-claire-element-id="607285">Le script étant simple, nous n'aurons qu'une table <strong>personnages</strong> qui aura différents champs. Pour les définir, réfléchissez à ce qui caractérise un personnage. Ainsi nous connaissons déjà 2 champs de cette table que nous avons définis au début : <strong>nom</strong> et <strong> dégâts </strong>. Et bien sûr, n'oublions pas le plus important : l'identifiant du personnage ! Chaque personnage doit posséder un identifiant unique qui permet ainsi de le rechercher plus rapidement (au niveau performances) qu'avec son nom.</p><p id="r-607286" data-claire-element-id="607286">Vous pouvez donc ainsi créer votre table tous seuls <em>via</em> PhpMyAdmin. Si vous n'êtes pas sûrs de vous, je vous laisse le code SQL créant cette table :</p><pre id="r-607287" data-claire-element-id="607287"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `personnages` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `nom` varchar(50) COLLATE latin1_general_ci NOT NULL,
  `degats` tinyint(3) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`),
  UNIQUE KEY `nom` (`nom`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci;</code></pre><p id="r-607288" data-claire-element-id="607288"><a href="http://vyk12.alwaysdata.net/sdz/tp_poo_1/">Voir le résultat que vous obtiendrez</a><br/><em>Le résultat présenté ici contient les améliorations proposées en fin de chapitre.</em></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">
<span class="arrow"></span>
<span class="next">TP : Mini-jeu de combat</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
<span class="next">Première étape : le personnage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Premiretapelepersonnage"></a><h2>Première étape : le personnage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
<span class="arrow"></span>
<span class="next">Ce qu&#039;on va faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
<span class="next">Seconde étape : stockage en base de données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-premiere-etape-le-personnage" data-claire-element-id="607350">Première étape : le personnage</h4><p id="r-607291" data-claire-element-id="607291">Nous allons commencer le TP. Pour rappel, nous allons réaliser un petit jeu mettant en scène des personnages qui peuvent combattre. Qui dit personnages dit <strong>objets</strong><code>Personnage</code> (je pense que ça, vous l'avez deviné, puisque nous avons travaillé dessus durant les premiers chapitres).</p><p id="r-607292" data-claire-element-id="607292">Arrive maintenant un moment délicat dans votre tête : <strong>&quot;Par où je commence ?&quot;</strong></p><p id="r-607293" data-claire-element-id="607293">Souvenez-vous de la première partie du précédent chapitre. Pour construire une classe, vous devez répondre à deux questions qui vont vous permettre d'établir le plan de votre classe :</p><ul id="r-607298" data-claire-element-id="607298"><li id="r-607295" data-claire-element-id="607295"><p id="r-607294" data-claire-element-id="607294">Quelles seront les caractéristiques de mes objets ?</p></li><li id="r-607297" data-claire-element-id="607297"><p id="r-607296" data-claire-element-id="607296">Quelles seront les fonctionnalités de mes objets ?</p></li></ul><p id="r-607299" data-claire-element-id="607299">Voici comment procéder. Nous allons dans un premier temps dresser la liste des caractéristiques du personnage pour ensuite se pencher sur ses fonctionnalités.</p><aside id="r-607301" data-claire-element-id="607301" data-claire-semantic="error"><p id="r-607300" data-claire-element-id="607300"><strong>Rappel</strong> : le traitement des données (c'est-à-dire l'exécution de requêtes permettant d'aller effectuer des opérations en BDD) se fera <strong>dans une autre classe</strong>. Ne vous en préoccupez donc pas maintenant !</p></aside><h5 id="r-les-caracteristiques-du-personnage" data-claire-element-id="607309">Les caractéristiques du personnage</h5><p id="r-607302" data-claire-element-id="607302">Essayez de vous souvenir quelles sont les caractéristiques d'un personnage (ou plus globalement celles d'une entité représentant un enregistrement présent en BDD). Nous l'avons vu dans la première partie du précédent chapitre.</p><aside id="r-607304" data-claire-element-id="607304" data-claire-semantic="information"><p id="r-607303" data-claire-element-id="607303">Les attributs d'un objet représentant un enregistrement présent en BDD correspondent aux noms des champs de cet enregistrement.</p></aside><p id="r-607305" data-claire-element-id="607305">Si vous n'avez pas retenu cette information, notez-là quelque part, vous en aurez besoin un très grand nombre de fois.</p><p id="r-607306" data-claire-element-id="607306">Maintenant que nous avons déterminé les caractéristiques d'un objet <code>Personnage</code>, nous savons quels attributs placer dans notre classe. Voici une première écriture de notre classe <code>Personnage</code> :</p><pre id="r-607307" data-claire-element-id="607307"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id,
          $_degats,
          $_nom;
}</code></pre><p id="r-607308" data-claire-element-id="607308">Jusque là tout va bien. Tournons-nous maintenant vers les fonctionnalités que doit posséder un personnage.</p><h5 id="r-les-fonctionnalites-d-un-personnage" data-claire-element-id="607334">Les fonctionnalités d'un personnage</h5><p id="r-607310" data-claire-element-id="607310">Comme nous l'avons dit tout-à-l'heure, pour obtenir les méthodes d'un objet, il faut se demander quelles seront les fonctionnalités de ces entités. Ici, <strong>que pourra faire un personnage</strong> ? Relisez les consignes du début de chapitre et répondez clairement à la question.</p><p id="r-607311" data-claire-element-id="607311">Un personnage doit pouvoir :</p><ul id="r-607316" data-claire-element-id="607316"><li id="r-607313" data-claire-element-id="607313"><p id="r-607312" data-claire-element-id="607312"><strong>Frapper</strong> un autre personnage ;</p></li><li id="r-607315" data-claire-element-id="607315"><p id="r-607314" data-claire-element-id="607314"><strong>recevoir</strong> des dégâts.</p></li></ul><p id="r-607317" data-claire-element-id="607317">À chaque fonctionnalité correspond une méthode. Écrivez ces méthodes dans la classe en mettant en commentaire ce qu'elles doivent faire.</p><aside id="r-607319" data-claire-element-id="607319" data-claire-semantic="information"><p id="r-607318" data-claire-element-id="607318">Ne vous étonnez pas si vous avez un résultat bien différent du mien. Le contenu des méthodes importe peu car il est issu de mon imagination et il est normal que vous n'ayez pas pensé le script comme moi. Gardez votre version, n'essayez pas de copier/coller mon code.</p></aside><pre id="r-607320" data-claire-element-id="607320"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id,
          $_degats,
          $_nom;
  
  public function frapper(Personnage $perso)
  {
    // Avant tout : vérifier qu'on ne se frappe pas soi-même.
    // Si c'est le cas, on stoppe tout en renvoyant une valeur signifiant que le personnage ciblé est le personnage qui attaque.

    // On indique au personnage frappé qu'il doit recevoir des dégâts.
  }

  public function recevoirDegats()
  {
    // On augmente de 5 les dégâts.
    
    // Si on a 100 de dégâts ou plus, la méthode renverra une valeur signifiant que le personnage a été tué.
    
    // Sinon, elle renverra une valeur signifiant que le personnage a bien été frappé.
  }
}</code></pre><p id="r-607321" data-claire-element-id="607321">Tout ceci n'est que du français, nous sommes encore à l'étape de <strong>réflexion</strong>. Si vous sentez que ça va trop vite, relisez le début du TP et suivez bien les étapes. C'est très important car c'est en général cette étape qui pose problème : la <strong>réflexion</strong> ! Beaucoup de débutants foncent tête baissée sans rendre le temps de concevoir correctement les méthodes au début et se plantent royalement. Prenez donc bien votre temps.</p><p id="r-607322" data-claire-element-id="607322">Normalement, des petites choses doivent vous chiffonner.</p><p id="r-607323" data-claire-element-id="607323">Pour commencer, la première chose qui doit vous interpeller se situe dans la méthode <code>frapper()</code>, lorsqu'il faut vérifier qu'on ne se frappe pas soi-même. Pour cela, il suffit de comparer l'identifiant du personnage qui attaque avec l'identifiant du personnage ciblé. En effet, si l'identifiant est le même, alors il s'agira d'un seul et même personnage.</p><p id="r-607324" data-claire-element-id="607324">Ensuite, à certains moments dans le code, il est dit que la méthode « renverra une valeur signifiant que le personnage a bien été frappé » par exemple. Qu'est-ce que cela peut bien signifier ? Ce genre de commentaire laissera place à des <strong>constantes de classe</strong> (si vous l'aviez deviné, bien joué !). Si vous regardez bien le code, vous verrez 3 commentaires de la sorte :</p><ul id="r-607331" data-claire-element-id="607331"><li id="r-607326" data-claire-element-id="607326"><p id="r-607325" data-claire-element-id="607325">Méthode <code>frapper()</code> : <em>« [...] renvoyant une valeur signifiant que le personnage ciblé est le personnage qui attaque »</em> → la méthode renverra la valeur de la constante <code>CEST_MOI</code> ;</p></li><li id="r-607328" data-claire-element-id="607328"><p id="r-607327" data-claire-element-id="607327">Méthode <code>recevoirDegats()</code> : <em>« la méthode renverra une valeur signifiant que le personnage a été tué »</em> → la méthode renverra la valeur de la constante <code>PERSONNAGE_TUE</code> ;</p></li><li id="r-607330" data-claire-element-id="607330"><p id="r-607329" data-claire-element-id="607329">Méthode <code>recevoirDegats()</code> : <em>« elle renverra une valeur signifiant que le personnage a bien été frappé »</em> → la méthode renverra la valeur de la constante <code>PERSONNAGE_FRAPPE</code>.</p></li></ul><p id="r-607332" data-claire-element-id="607332">Vous pouvez ajouter ces constantes à votre classe.</p><pre id="r-607333" data-claire-element-id="607333"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id,
          $_degats,
          $_nom;
  
  const CEST_MOI = 1;
  const PERSONNAGE_TUE = 2;
  const PERSONNAGE_FRAPPE = 3;
  
  public function frapper(Personnage $perso)
  {
    // Avant tout : vérifier qu'on ne se frappe pas soi-même.
      // Si c'est le cas, on stoppe tout en renvoyant une valeur signifiant que le personnage ciblé est le personnage qui attaque.
    
    // On indique au personnage frappé qu'il doit recevoir des dégâts.
  }
  
  public function recevoirDegats()
  {
    // On augmente de 5 les dégâts.
    
    // Si on a 100 de dégâts ou plus, la méthode renverra une valeur signifiant que le personnage a été tué.
    
    // Sinon, elle renverra une valeur signifiant que le personnage a bien été frappé.
  }
}</code></pre><h5 id="r-les-getters-et-setters-1" data-claire-element-id="607339">Les getters et setters</h5><p id="r-607335" data-claire-element-id="607335">Actuellement, les attributs de nos objets sont inaccessibles. Il faut créer des <em>getters</em> pour pouvoir les lire, et des <em>setters</em> pour pouvoir modifier leurs valeurs. Nous allons aller un peu plus rapidement que les précédentes méthodes en écrivant directement le contenu de celles-ci car une ou deux instructions suffisent en général.</p><aside id="r-607337" data-claire-element-id="607337" data-claire-semantic="warning"><p id="r-607336" data-claire-element-id="607336">N'oubliez pas de vérifier l'intégrité des données dans les <em>setters</em> sinon ils perdent tout leur intérêt !</p></aside><pre id="r-607338" data-claire-element-id="607338"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_id,
          $_degats,
          $_nom;
  
  const CEST_MOI = 1;
  const PERSONNAGE_TUE = 2;
  const PERSONNAGE_FRAPPE = 3;
  
  public function frapper(Personnage $perso)
  {
    // Avant tout : vérifier qu'on ne se frappe pas soi-même.
      // Si c'est le cas, on stoppe tout en renvoyant une valeur signifiant que le personnage ciblé est le personnage qui attaque.
    
    // On indique au personnage frappé qu'il doit recevoir des dégâts.
  }
  
  public function recevoirDegats()
  {
    // On augmente de 5 les dégâts.
    
    // Si on a 100 de dégâts ou plus, la méthode renverra une valeur signifiant que le personnage a été tué.
    
    // Sinon, elle renverra une valeur signifiant que le personnage a bien été frappé.
  }
  
  public function degats()
  {
    return $this-&gt;_degats;
  }
  
  public function id()
  {
    return $this-&gt;_id;
  }
  
  public function nom()
  {
    return $this-&gt;_nom;
  }
  
  public function setDegats($degats)
  {
    $degats = (int) $degats;
    
    if ($degats &gt;= 0 &amp;&amp; $degats &lt;= 100)
    {
      $this-&gt;_degats = $degats;
    }
  }
  
  public function setId($id)
  {
    $id = (int) $id;
    
    if ($id &gt; 0)
    {
      $this-&gt;_id = $id;
    }
  }
  
  public function setNom($nom)
  {
    if (is_string($nom))
    {
      $this-&gt;_nom = $nom;
    }
  }
}</code></pre><h5 id="r-hydrater-ses-objets" data-claire-element-id="607345">Hydrater ses objets</h5><p id="r-607340" data-claire-element-id="607340">Deuxième point essentiel que nous allons ré-exploiter dans ce TP : <a href="http://www.siteduzero.com/tutoriel-3-571160-manipulation-de-donnees-stockees.html#ss_part_2">l'hydratation</a>.</p><p id="r-607341" data-claire-element-id="607341">Je n'ai pas d'explication supplémentaire à ajouter, tout est dit dans le précédent chapitre. La méthode créée dans ce dernier est d'ailleurs réutilisable ici. Au lieu de regarder la correction en vous replongeant dans le chapitre précédent, essayez plutôt de réécrire la méthode. Pour rappel, celle-ci doit permettre d'assigner aux attributs de l'objet les valeurs correspondantes, passées en paramètre dans un tableau. Si vous avez essayé de réécrire la méthode, voici le résultat que vous auriez du obtenir :</p><pre id="r-607342" data-claire-element-id="607342"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  // ...
  
  public function hydrate(array $donnees)
  {
    foreach ($donnees as $key =&gt; $value)
    {
      $method = 'set'.ucfirst($key);
      
      if (method_exists($this, $method))
      {
        $this-&gt;$method($value);
      }
    }
  }
  
  // ...
}</code></pre><p id="r-607343" data-claire-element-id="607343">Il ne manque plus qu'à implémenter le constructeur pour qu'on puisse directement hydrater notre objet lors de l'instanciation de la classe. Pour cela, ajoutez un paramètre : <code>$donnees</code>. Appelez ensuite directement la méthode <code>hydrate()</code>.</p><pre id="r-607344" data-claire-element-id="607344"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  // ...
  
  public function __construct(array $donnees)
  {
    $this-&gt;hydrate($donnees);
  }
  
  // ...
}</code></pre><h5 id="r-codons-le-tout" data-claire-element-id="607349">Codons le tout !</h5><p id="r-607346" data-claire-element-id="607346">La partie réflexion est terminé, il est maintenant temps d'écrire notre classe <code>Personnage</code> ! Voici la correction que je vous propose :</p><pre id="r-607347" data-claire-element-id="607347"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  private $_degats,
          $_id,
          $_nom;
  
  const CEST_MOI = 1; // Constante renvoyée par la méthode `frapper` si on se frappe soi-même.
  const PERSONNAGE_TUE = 2; // Constante renvoyée par la méthode `frapper` si on a tué le personnage en le frappant.
  const PERSONNAGE_FRAPPE = 3; // Constante renvoyée par la méthode `frapper` si on a bien frappé le personnage.
  
  
  public function __construct(array $donnees)
  {
    $this-&gt;hydrate($donnees);
  }
  
  public function frapper(Personnage $perso)
  {
    if ($perso-&gt;id() == $this-&gt;_id)
    {
      return self::CEST_MOI;
    }
    
    // On indique au personnage qu'il doit recevoir des dégâts.
    // Puis on retourne la valeur renvoyée par la méthode : self::PERSONNAGE_TUE ou self::PERSONNAGE_FRAPPE
    return $perso-&gt;recevoirDegats();
  }
  
  public function hydrate(array $donnees)
  {
    foreach ($donnees as $key =&gt; $value)
    {
      $method = 'set'.ucfirst($key);
      
      if (method_exists($this, $method))
      {
        $this-&gt;$method($value);
      }
    }
  }
  
  public function recevoirDegats()
  {
    $this-&gt;_degats += 5;
    
    // Si on a 100 de dégâts ou plus, on dit que le personnage a été tué.
    if ($this-&gt;_degats &gt;= 100)
    {
      return self::PERSONNAGE_TUE;
    }
    
    // Sinon, on se contente de dire que le personnage a bien été frappé.
    return self::PERSONNAGE_FRAPPE;
  }
  
  
  // GETTERS //
  

  public function degats()
  {
    return $this-&gt;_degats;
  }
  
  public function id()
  {
    return $this-&gt;_id;
  }
  
  public function nom()
  {
    return $this-&gt;_nom;
  }
  
  public function setDegats($degats)
  {
    $degats = (int) $degats;
    
    if ($degats &gt;= 0 &amp;&amp; $degats &lt;= 100)
    {
      $this-&gt;_degats = $degats;
    }
  }
  
  public function setId($id)
  {
    $id = (int) $id;
    
    if ($id &gt; 0)
    {
      $this-&gt;_id = $id;
    }
  }
  
  public function setNom($nom)
  {
    if (is_string($nom))
    {
      $this-&gt;_nom = $nom;
    }
  }
}</code></pre><p id="r-607348" data-claire-element-id="607348">Prenez le temps de bien comprendre ce code et de lire les commentaires. Il est important que vous cerniez son fonctionnement pour savoir ce que vous faites. Cependant, si vous ne comprenez pas toutes les instructions placées dans les méthodes, ne vous affolez pas : si vous avez compris globalement le rôle de chacune d'elles, vous n'aurez pas de handicap pour suivre la prochaine sous-partie. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
<span class="arrow"></span>
<span class="next">Ce qu&#039;on va faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
<span class="next">Seconde étape : stockage en base de données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Secondetapestockageenbasededonnes"></a><h2>Seconde étape : stockage en base de données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
<span class="arrow"></span>
<span class="next">Première étape : le personnage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
<span class="next">Troisième étape : utilisation des classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-seconde-etape-stockage-en-base-de-donnees" data-claire-element-id="607394">Seconde étape : stockage en base de données</h4><p id="r-607351" data-claire-element-id="607351">Attaquons-nous maintenant à la deuxième grosse partie de ce TP, celle consistant à pouvoir stocker nos personnages dans une base de données. Grande question maintenant : <strong>comment faire ?</strong></p><p id="r-607352" data-claire-element-id="607352">Nous avons répondu à cette question dans <a href="http://www.siteduzero.com/tutoriel-3-532961-1-manipulation-de-donnees-stockees.html#ss_part_3">la troisième partie du précédent chapitre</a>. Au cas où certains seraient toujours tentés de placer les requêtes qui iront chercher les personnages en BDD dans la classe <code>Personnage</code>, je vous arrête tout de suite et vous fais un bref rappel avec cette phrase que vous avez déjà rencontrée : <strong>une classe, un rôle</strong>.</p><p id="r-607353" data-claire-element-id="607353">J'espère que vous l'avez retenue cette fois-ci !</p><div id="r-607355" data-claire-element-id="607355" data-claire-semantic="question"><p id="r-607354" data-claire-element-id="607354">Vous souvenez-vous de ce que cela signifie ? Quel est le rôle de notre classe <code>Personnage</code> ? Où placer nos requêtes ?</p></div><p id="r-607356" data-claire-element-id="607356">La classe <code>Personnage</code> a pour rôle de <strong>représenter</strong> un personnage présent en BDD. Elle n'a en aucun cas pour rôle de les <strong>gérer</strong>. Cette gestion sera le rôle d'une autre classe, communément appelée <strong>manager</strong>. Dans notre cas, notre gestionnaire de personnage sera tout simplement nommée <code>PersonnagesManager</code>.</p><div id="r-607358" data-claire-element-id="607358" data-claire-semantic="question"><p id="r-607357" data-claire-element-id="607357">Comment va-t-on faire pour construire ces classes ? Quelles questions va-t-on se poser ?</p></div><ul id="r-607363" data-claire-element-id="607363"><li id="r-607360" data-claire-element-id="607360"><p id="r-607359" data-claire-element-id="607359">Quelles seront les caractéristiques d'un manager ?</p></li><li id="r-607362" data-claire-element-id="607362"><p id="r-607361" data-claire-element-id="607361">Quelles seront les fonctionnalités d'un manager ?</p></li></ul><h5 id="r-les-caracteristiques-d-un-manager-1" data-claire-element-id="607366">Les caractéristiques d'un manager</h5><p id="r-607364" data-claire-element-id="607364">Encore une fois, ce point a été abordé dans la troisième partie du précédent chapitre. Allez y faire un tour si vous avez un trou de mémoire ! Voici le code de la classe contenant sa (grande) liste d'attributs.</p><pre id="r-607365" data-claire-element-id="607365"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db;
}</code></pre><h5 id="r-les-fonctionnalites-d-un-manager-1" data-claire-element-id="607390">Les fonctionnalités d'un manager</h5><p id="r-607367" data-claire-element-id="607367">Dans la troisième partie du précédent chapitre, nous avons vu quelques fonctionnalités de base. Notre manager pouvait :</p><ul id="r-607376" data-claire-element-id="607376"><li id="r-607369" data-claire-element-id="607369"><p id="r-607368" data-claire-element-id="607368">Enregistrer un nouveau personnage ;</p></li><li id="r-607371" data-claire-element-id="607371"><p id="r-607370" data-claire-element-id="607370">modifier un personnage ;</p></li><li id="r-607373" data-claire-element-id="607373"><p id="r-607372" data-claire-element-id="607372">supprimer un personnage ;</p></li><li id="r-607375" data-claire-element-id="607375"><p id="r-607374" data-claire-element-id="607374">sélectionner un personnage.</p></li></ul><p id="r-607377" data-claire-element-id="607377">Cependant, ici, nous pouvons ajouter quelques fonctionnalités qui pourront nous être utiles :</p><ul id="r-607384" data-claire-element-id="607384"><li id="r-607379" data-claire-element-id="607379"><p id="r-607378" data-claire-element-id="607378">Compter le nombre de personnages ;</p></li><li id="r-607381" data-claire-element-id="607381"><p id="r-607380" data-claire-element-id="607380">récupérer une liste de plusieurs personnages ;</p></li><li id="r-607383" data-claire-element-id="607383"><p id="r-607382" data-claire-element-id="607382">savoir si un personnage existe.</p></li></ul><p id="r-607385" data-claire-element-id="607385">Cela nous fait ainsi 7 méthodes à implémenter !</p><aside id="r-607387" data-claire-element-id="607387" data-claire-semantic="information"><p id="r-607386" data-claire-element-id="607386"><strong>Rappels du précédent chapitre</strong> : n'oubliez pas d'ajouter un <em>setter</em> pour notre manager afin de pouvoir modifier l'attribut <code>$_db</code>. La création d'un constructeur sera aussi indispensable si nous voulons assigner à cet attribut un objet PDO dès l'instanciation du manager.</p></aside><p id="r-607388" data-claire-element-id="607388">Comme d'habitude, écrivez le nom des méthodes en ajoutant des commentaires sur ce que doit faire la méthode.</p><pre id="r-607389" data-claire-element-id="607389"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db; // Instance de PDO
  
  public function __construct($db)
  {
    $this-&gt;setDb($db);
  }
  
  public function add(Personnage $perso)
  {
    // Préparation de la requête d'insertion.
    // Assignation des valeurs pour le nom du personnage.
    // Exécution de la requête.
    
    // Hydratation du personnage passé en paramètre avec assignation de son identifiant et des dégâts initiaux (= 0).
  }
  
  public function count()
  {
    // Exécute une requête COUNT() et retourne le nombre de résultats retourné.
  }
  
  public function delete(Personnage $perso)
  {
    // Exécute une requête de type DELETE.
  }
  
  public function exists($info)
  {
    // Si le paramètre est un entier, c'est qu'on a fourni un identifiant.
      // On exécute alors une requête COUNT() avec une clause WHERE, et on retourne un boolean.
    
    // Sinon c'est qu'on a passé un nom.
    // Exécution d'une requête COUNT() avec une clause WHERE, et retourne un boolean.
  }
  
  public function get($info)
  {
    // Si le paramètre est un entier, on veut récupérer le personnage avec son identifiant.
      // Exécute une requête de type SELECT avec une clause WHERE, et retourne un objet Personnage.
    
    // Sinon, on veut récupérer le personnage avec son nom.
    // Exécute une requête de type SELECT avec une clause WHERE, et retourne un objet Personnage.
  }
  
  public function getList($nom)
  {
    // Retourne la liste des personnages dont le nom n'est pas $nom.
    // Le résultat sera un tableau d'instances de Personnage.
  }
  
  public function update(Personnage $perso)
  {
    // Prépare une requête de type UPDATE.
    // Assignation des valeurs à la requête.
    // Exécution de la requête.
  }
  
  public function setDb(PDO $db)
  {
    $this-&gt;_db = $db;
  }
}</code></pre><h5 id="r-codons-le-tout-1" data-claire-element-id="607393">Codons le tout !</h5><p id="r-607391" data-claire-element-id="607391">Normalement, l'écriture des méthodes devrait être plus facile que dans la précédente partie. En effet, ici, il n'y a que des requêtes à écrire : si vous savez utiliser PDO, vous ne devriez pas avoir de mal. ;)</p><pre id="r-607392" data-claire-element-id="607392"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $_db; // Instance de PDO
  
  public function __construct($db)
  {
    $this-&gt;setDb($db);
  }
  
  public function add(Personnage $perso)
  {
    $q = $this-&gt;_db-&gt;prepare('INSERT INTO personnages SET nom = :nom');
    $q-&gt;bindValue(':nom', $perso-&gt;nom());
    $q-&gt;execute();
    
    $perso-&gt;hydrate(array(
      'id' =&gt; $this-&gt;_db-&gt;lastInsertId(),
      'degats' =&gt; 0,
    ));
  }
  
  public function count()
  {
    return $this-&gt;_db-&gt;query('SELECT COUNT(*) FROM personnages')-&gt;fetchColumn();
  }
  
  public function delete(Personnage $perso)
  {
    $this-&gt;_db-&gt;exec('DELETE FROM personnages WHERE id = '.$perso-&gt;id());
  }
  
  public function exists($info)
  {
    if (is_int($info)) // On veut voir si tel personnage ayant pour id $info existe.
    {
      return (bool) $this-&gt;_db-&gt;query('SELECT COUNT(*) FROM personnages WHERE id = '.$info)-&gt;fetchColumn();
    }
    
    // Sinon, c'est qu'on veut vérifier que le nom existe ou pas.
    
    $q = $this-&gt;_db-&gt;prepare('SELECT COUNT(*) FROM personnages WHERE nom = :nom');
    $q-&gt;execute(array(':nom' =&gt; $info));
    
    return (bool) $q-&gt;fetchColumn();
  }
  
  public function get($info)
  {
    if (is_int($info))
    {
      $q = $this-&gt;_db-&gt;query('SELECT id, nom, degats FROM personnages WHERE id = '.$info);
      $donnees = $q-&gt;fetch(PDO::FETCH_ASSOC);
      
      return new Personnage($donnees);
    }
    else
    {
      $q = $this-&gt;_db-&gt;prepare('SELECT id, nom, degats FROM personnages WHERE nom = :nom');
      $q-&gt;execute(array(':nom' =&gt; $info));
    
      return new Personnage($q-&gt;fetch(PDO::FETCH_ASSOC));
    }
  }
  
  public function getList($nom)
  {
    $persos = array();
    
    $q = $this-&gt;_db-&gt;prepare('SELECT id, nom, degats FROM personnages WHERE nom &lt;&gt; :nom ORDER BY nom');
    $q-&gt;execute(array(':nom' =&gt; $nom));
    
    while ($donnees = $q-&gt;fetch(PDO::FETCH_ASSOC))
    {
      $persos[] = new Personnage($donnees);
    }
    
    return $persos;
  }
  
  public function update(Personnage $perso)
  {
    $q = $this-&gt;_db-&gt;prepare('UPDATE personnages SET degats = :degats WHERE id = :id');
    
    $q-&gt;bindValue(':degats', $perso-&gt;degats(), PDO::PARAM_INT);
    $q-&gt;bindValue(':id', $perso-&gt;id(), PDO::PARAM_INT);
    
    $q-&gt;execute();
  }
  
  public function setDb(PDO $db)
  {
    $this-&gt;_db = $db;
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
<span class="arrow"></span>
<span class="next">Première étape : le personnage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
<span class="next">Troisième étape : utilisation des classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Troisimetapeutilisationdesclasses"></a><h2>Troisième étape : utilisation des classes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
<span class="arrow"></span>
<span class="next">Seconde étape : stockage en base de données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
<span class="next">Améliorations possibles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-troisieme-etape-utilisation-des-classes" data-claire-element-id="607438">Troisième étape : utilisation des classes</h4><p id="r-607395" data-claire-element-id="607395">J'ai le plaisir de vous annoncer que vous avez fait le plus gros du travail ! Maintenant, nous allons juste utiliser nos classes en les instanciant et en invoquant les méthodes souhaitées sur nos objets. Le plus difficile ici est de se mettre d'accord sur le déroulement du jeu.</p><p id="r-607396" data-claire-element-id="607396">Celui-ci étant simple, nous n'aurons besoin que d'un seul fichier. Commençons par le début : que doit afficher notre mini-jeu lorsqu'on ouvre la page pour la première fois ? Il doit afficher un petit formulaire nous demandant le nom du personnage qu'on veut créer ou utiliser.</p><pre id="r-607397" data-claire-element-id="607397"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-607398" data-claire-element-id="607398">Vient ensuite la partie traitement. Deux cas peuvent se présenter :</p><ul id="r-607403" data-claire-element-id="607403"><li id="r-607400" data-claire-element-id="607400"><p id="r-607399" data-claire-element-id="607399">Le joueur a cliqué sur <strong>Créer ce personnage</strong>. Le script devra créer un objet <code>Personnage</code> en passant au constructeur un tableau contenant une entrée (le nom du personnage). Il faudra ensuite s'assurer que le personnage ait un nom valide et qu'il n'existe pas déjà. Après ces vérifications, l'enregistrement en BDD pourra se faire.</p></li><li id="r-607402" data-claire-element-id="607402"><p id="r-607401" data-claire-element-id="607401">Le joueur a cliqué sur <strong>Utiliser ce personnage</strong>. Le script devra vérifier si le personnage existe bien en BDD. Si c'est le cas, on le récupère de la BDD.</p></li></ul><aside id="r-607405" data-claire-element-id="607405" data-claire-semantic="information"><p id="r-607404" data-claire-element-id="607404">Pour savoir si le nom du personnage est valide, il va falloir implémenter une méthode <code>nomValide()</code> (je vous laisse réfléchir à quelle classe) qui retournera <code>true</code> ou <code>false</code> suivant si le nom est valide ou pas. Un nom est valide s'il n'est pas vide.</p></aside><p id="r-607406" data-claire-element-id="607406">Cependant, avant de faire cela, il va falloir préparer le terrain.</p><ul id="r-607413" data-claire-element-id="607413"><li id="r-607408" data-claire-element-id="607408"><p id="r-607407" data-claire-element-id="607407">Un <em>autoload</em> devra être créé (bien que non indispensable puisqu'il n'y a que deux classes).</p></li><li id="r-607410" data-claire-element-id="607410"><p id="r-607409" data-claire-element-id="607409">Une instance de PDO devra être créée.</p></li><li id="r-607412" data-claire-element-id="607412"><p id="r-607411" data-claire-element-id="607411">Une instance de notre manager devra être créée.</p></li></ul><p id="r-607414" data-claire-element-id="607414">Puisque notre manager a été créé, pourquoi ne pas afficher en haut de page le nombre de personnages créés ? :)</p><pre id="r-607415" data-claire-element-id="607415"><code data-claire-semantic="html+php">&lt;?php
// On enregistre notre autoload.
function chargerClasse($classname)
{
  require $classname.'.class.php';
}

spl_autoload_register('chargerClasse');

$db = new PDO('mysql:host=localhost;dbname=combats', 'root', '');
$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING); // On émet une alerte à chaque fois qu'une requête a échoué.

$manager = new PersonnagesManager($db);

if (isset($_POST['creer']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu créer un personnage.
{
  $perso = new Personnage(array('nom' =&gt; $_POST['nom'])); // On crée un nouveau personnage.
  
  if (!$perso-&gt;nomValide())
  {
    $message = 'Le nom choisi est invalide.';
    unset($perso);
  }
  elseif ($manager-&gt;exists($perso-&gt;nom()))
  {
    $message = 'Le nom du personnage est déjà pris.';
    unset($perso);
  }
  else
  {
    $manager-&gt;add($perso);
  }
}

elseif (isset($_POST['utiliser']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu utiliser un personnage.
{
  if ($manager-&gt;exists($_POST['nom'])) // Si celui-ci existe.
  {
    $perso = $manager-&gt;get($_POST['nom']);
  }
  else
  {
    $message = 'Ce personnage n\'existe pas !'; // S'il n'existe pas, on affichera ce message.
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Nombre de personnages créés : &lt;?php echo $manager-&gt;count(); ?&gt;&lt;/p&gt;
&lt;?php
if (isset($message)) // On a un message à afficher ?
  echo '&lt;p&gt;', $message, '&lt;/p&gt;'; // Si oui, on l'affiche.
?&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-607416" data-claire-element-id="607416">Au cas où, je vous donne la méthode <code>nomValide()</code> de la classe <code>Personnage</code>. J'espère cependant que vous y êtes arrivés, un simple contrôle avec <code>empty()</code> et le tour est joué. ;)</p><pre id="r-607417" data-claire-element-id="607417"><code data-claire-semantic="html+php">&lt;?php
class Personnage
{
  // ...
  
  public function nomValide()
  {
    return !empty($this-&gt;_nom);
  }
  
  // ...
}</code></pre><p id="r-607418" data-claire-element-id="607418">Une fois que nous avons un personnage, que se passera-t-il ? Il faut en effet cacher ce formulaire et laisser place à d'autres informations. Je vous propose d'afficher, dans un premier temps, les informations du personnage sélectionné (son nom et ses dégâts), puis, dans un second temps, la liste des autres personnages avec leurs informations. Il devra être possible de cliquer sur le nom du personnage pour le frapper.</p><pre id="r-607419" data-claire-element-id="607419"><code data-claire-semantic="html+php">&lt;?php
// On enregistre notre autoload.
function chargerClasse($classname)
{
  require $classname.'.class.php';
}

spl_autoload_register('chargerClasse');

$db = new PDO('mysql:host=localhost;dbname=combats', 'root', '');
$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING); // On émet une alerte à chaque fois qu'une requête a échoué.

$manager = new PersonnagesManager($db);

if (isset($_POST['creer']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu créer un personnage.
{
  $perso = new Personnage(array('nom' =&gt; $_POST['nom'])); // On crée un nouveau personnage.
  
  if (!$perso-&gt;nomValide())
  {
    $message = 'Le nom choisi est invalide.';
    unset($perso);
  }
  elseif ($manager-&gt;exists($perso-&gt;nom()))
  {
    $message = 'Le nom du personnage est déjà pris.';
    unset($perso);
  }
  else
  {
    $manager-&gt;add($perso);
  }
}

elseif (isset($_POST['utiliser']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu utiliser un personnage.
{
  if ($manager-&gt;exists($_POST['nom'])) // Si celui-ci existe.
  {
    $perso = $manager-&gt;get($_POST['nom']);
  }
  else
  {
    $message = 'Ce personnage n\'existe pas !'; // S'il n'existe pas, on affichera ce message.
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Nombre de personnages créés : &lt;?php echo $manager-&gt;count(); ?&gt;&lt;/p&gt;
&lt;?php
if (isset($message)) // On a un message à afficher ?
{
  echo '&lt;p&gt;', $message, '&lt;/p&gt;'; // Si oui, on l'affiche.
}

if (isset($perso)) // Si on utilise un personnage (nouveau ou pas).
{
?&gt;
    &lt;fieldset&gt;
      &lt;legend&gt;Mes informations&lt;/legend&gt;
      &lt;p&gt;
        Nom : &lt;?php echo htmlspecialchars($perso-&gt;nom()); ?&gt;&lt;br /&gt;
        Dégâts : &lt;?php echo $perso-&gt;degats(); ?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Qui frapper ?&lt;/legend&gt;
      &lt;p&gt;
&lt;?php
$persos = $manager-&gt;getList($perso-&gt;nom());

if (empty($persos))
{
  echo 'Personne à frapper !';
}

else
{
  foreach ($persos as $unPerso)
    echo '&lt;a href=&quot;?frapper=', $unPerso-&gt;id(), '&quot;&gt;', htmlspecialchars($unPerso-&gt;nom()), '&lt;/a&gt; (dégâts : ', $unPerso-&gt;degats(), ')&lt;br /&gt;';
}
?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
&lt;?php
}
else
{
?&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
&lt;?php
}
?&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-607420" data-claire-element-id="607420">Maintenant, quelque chose devrait vous titiller. En effet, si on recharge la page, on atterrira à nouveau sur le formulaire. Nous allons donc devoir utiliser le système de <strong>sessions</strong>. La première chose à faire sera alors de démarrer la session au début du script, juste après la déclaration de l'<em>autoload</em>. La session démarrée, nous pouvons aisément sauvegarder notre personnage. Pour cela, il nous faudra enregistrer le personnage en session (admettons dans <code>$_SESSION['perso']</code>) tout à la fin du code. Cela nous permettra, au début du script, de récupérer le personnage sauvegardé et de continuer le jeu.</p><aside id="r-607422" data-claire-element-id="607422" data-claire-semantic="information"><p id="r-607421" data-claire-element-id="607421">Pour des raisons pratiques, il est préférable d'ajouter un lien de déconnexion pour qu'on puisse utiliser un autre personnage si on le souhaite. Ce lien aura pour effet de conduire à un <code>session_destroy()</code>.</p></aside><pre id="r-607423" data-claire-element-id="607423"><code data-claire-semantic="html+php">&lt;?php
// On enregistre notre autoload.
function chargerClasse($classname)
{
  require $classname.'.class.php';
}

spl_autoload_register('chargerClasse');

session_start(); // On appelle session_start() APRÈS avoir enregistré l'autoload.

if (isset($_GET['deconnexion']))
{
  session_destroy();
  header('Location: .');
  exit();
}

if (isset($_SESSION['perso'])) // Si la session perso existe, on restaure l'objet.
{
  $perso = $_SESSION['perso'];
}

$db = new PDO('mysql:host=localhost;dbname=combats', 'root', '');
$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING); // On émet une alerte à chaque fois qu'une requête a échoué.

$manager = new PersonnagesManager($db);

if (isset($_POST['creer']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu créer un personnage.
{
  $perso = new Personnage(array('nom' =&gt; $_POST['nom'])); // On crée un nouveau personnage.
  
  if (!$perso-&gt;nomValide())
  {
    $message = 'Le nom choisi est invalide.';
    unset($perso);
  }
  elseif ($manager-&gt;exists($perso-&gt;nom()))
  {
    $message = 'Le nom du personnage est déjà pris.';
    unset($perso);
  }
  else
  {
    $manager-&gt;add($perso);
  }
}

elseif (isset($_POST['utiliser']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu utiliser un personnage.
{
  if ($manager-&gt;exists($_POST['nom'])) // Si celui-ci existe.
  {
    $perso = $manager-&gt;get($_POST['nom']);
  }
  else
  {
    $message = 'Ce personnage n\'existe pas !'; // S'il n'existe pas, on affichera ce message.
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Nombre de personnages créés : &lt;?php echo $manager-&gt;count(); ?&gt;&lt;/p&gt;
&lt;?php
if (isset($message)) // On a un message à afficher ?
{
  echo '&lt;p&gt;', $message, '&lt;/p&gt;'; // Si oui, on l'affiche.
}

if (isset($perso)) // Si on utilise un personnage (nouveau ou pas).
{
?&gt;
    &lt;p&gt;&lt;a href=&quot;?deconnexion=1&quot;&gt;Déconnexion&lt;/a&gt;&lt;/p&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Mes informations&lt;/legend&gt;
      &lt;p&gt;
        Nom : &lt;?php echo htmlspecialchars($perso-&gt;nom()); ?&gt;&lt;br /&gt;
        Dégâts : &lt;?php echo $perso-&gt;degats(); ?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Qui frapper ?&lt;/legend&gt;
      &lt;p&gt;
&lt;?php
$persos = $manager-&gt;getList($perso-&gt;nom());

if (empty($persos))
{
  echo 'Personne à frapper !';
}

else
{
  foreach ($persos as $unPerso)
    echo '&lt;a href=&quot;?frapper=', $unPerso-&gt;id(), '&quot;&gt;', htmlspecialchars($unPerso-&gt;nom()), '&lt;/a&gt; (dégâts : ', $unPerso-&gt;degats(), ')&lt;br /&gt;';
}
?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
&lt;?php
}
else
{
?&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
&lt;?php
}
?&gt;
  &lt;/body&gt;
&lt;/html&gt;
&lt;?php
if (isset($perso)) // Si on a créé un personnage, on le stocke dans une variable session afin d'économiser une requête SQL.
{
  $_SESSION['perso'] = $perso;
}</code></pre><p id="r-607424" data-claire-element-id="607424">Il reste maintenant une dernière partie à développer : celle qui s'occupera de frapper un personnage. Puisque nous avons déjà écrit tout le code faisant l'interaction entre l'attaquant et la cible, vous verrez que nous n'aurons presque rien à écrire.</p><p id="r-607425" data-claire-element-id="607425">Comment doit se passer la phase de traitement ? Avant toute chose, il faut bien vérifier que le joueur est connecté et que la variable <code>$perso</code> existe, sinon nous n'iront pas bien loin. Seconde vérification : il faut demander à notre manager si le personnage que l'on veut frapper existe bien. Si ces deux conditions sont vérifiées, alors on peut lancer l'attaque.</p><p id="r-607426" data-claire-element-id="607426">Pour lancer l'attaque, il va falloir récupérer le personnage à frapper grâce à notre manager. Ensuite, il suffira d'invoquer la méthode permettant de frapper le personnage. ;)</p><p id="r-607427" data-claire-element-id="607427">Cependant, nous n'allons pas nous arrêter là. N'oubliez pas que cette méthode peut retourner 3 valeurs différentes :</p><ul id="r-607434" data-claire-element-id="607434"><li id="r-607429" data-claire-element-id="607429"><p id="r-607428" data-claire-element-id="607428"><code>Personnage::CEST_MOI</code>. Le personnage a voulu se frapper lui-même.</p></li><li id="r-607431" data-claire-element-id="607431"><p id="r-607430" data-claire-element-id="607430"><code>Personnage::PERSONNAGE_FRAPPE</code>. Le personnage a bien été frappé.</p></li><li id="r-607433" data-claire-element-id="607433"><p id="r-607432" data-claire-element-id="607432"><code>Personnage::PERSONNAGE_TUE</code>. Le personnage a été tué.</p></li></ul><p id="r-607435" data-claire-element-id="607435">Il va donc falloir afficher un message en fonction de cette valeur retournée. Aussi, seuls 2 de ces cas nécessitent une mise à jour de la BDD : si le personnage a été frappé ou s'il a été tué. En effet, si on a voulu se frapper soi-même, aucun des deux personnages impliqués n'a été modifié.</p><pre id="r-607436" data-claire-element-id="607436"><code data-claire-semantic="html+php">&lt;?php
// On enregistre notre autoload.
function chargerClasse($classname)
{
  require $classname.'.class.php';
}

spl_autoload_register('chargerClasse');

session_start(); // On appelle session_start() APRÈS avoir enregistré l'autoload.

if (isset($_GET['deconnexion']))
{
  session_destroy();
  header('Location: .');
  exit();
}

$db = new PDO('mysql:host=localhost;dbname=combats', 'root', '');
$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING); // On émet une alerte à chaque fois qu'une requête a échoué.

$manager = new PersonnagesManager($db);

if (isset($_SESSION['perso'])) // Si la session perso existe, on restaure l'objet.
{
  $perso = $_SESSION['perso'];
}

if (isset($_POST['creer']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu créer un personnage.
{
  $perso = new Personnage(array('nom' =&gt; $_POST['nom'])); // On crée un nouveau personnage.
  
  if (!$perso-&gt;nomValide())
  {
    $message = 'Le nom choisi est invalide.';
    unset($perso);
  }
  elseif ($manager-&gt;exists($perso-&gt;nom()))
  {
    $message = 'Le nom du personnage est déjà pris.';
    unset($perso);
  }
  else
  {
    $manager-&gt;add($perso);
  }
}

elseif (isset($_POST['utiliser']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu utiliser un personnage.
{
  if ($manager-&gt;exists($_POST['nom'])) // Si celui-ci existe.
  {
    $perso = $manager-&gt;get($_POST['nom']);
  }
  else
  {
    $message = 'Ce personnage n\'existe pas !'; // S'il n'existe pas, on affichera ce message.
  }
}

elseif (isset($_GET['frapper'])) // Si on a cliqué sur un personnage pour le frapper.
{
  if (!isset($perso))
  {
    $message = 'Merci de créer un personnage ou de vous identifier.';
  }
  
  else
  {
    if (!$manager-&gt;exists((int) $_GET['frapper']))
    {
      $message = 'Le personnage que vous voulez frapper n\'existe pas !';
    }
    
    else
    {
      $persoAFrapper = $manager-&gt;get((int) $_GET['frapper']);
      
      $retour = $perso-&gt;frapper($persoAFrapper); // On stocke dans $retour les éventuelles erreurs ou messages que renvoie la méthode frapper.
      
      switch ($retour)
      {
        case Personnage::CEST_MOI :
          $message = 'Mais... pourquoi voulez-vous vous frapper ???';
          break;
        
        case Personnage::PERSONNAGE_FRAPPE :
          $message = 'Le personnage a bien été frappé !';
          
          $manager-&gt;update($perso);
          $manager-&gt;update($persoAFrapper);
          
          break;
        
        case Personnage::PERSONNAGE_TUE :
          $message = 'Vous avez tué ce personnage !';
          
          $manager-&gt;update($perso);
          $manager-&gt;delete($persoAFrapper);
          
          break;
      }
    }
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Nombre de personnages créés : &lt;?php echo $manager-&gt;count(); ?&gt;&lt;/p&gt;
&lt;?php
if (isset($message)) // On a un message à afficher ?
{
  echo '&lt;p&gt;', $message, '&lt;/p&gt;'; // Si oui, on l'affiche.
}

if (isset($perso)) // Si on utilise un personnage (nouveau ou pas).
{
?&gt;
    &lt;p&gt;&lt;a href=&quot;?deconnexion=1&quot;&gt;Déconnexion&lt;/a&gt;&lt;/p&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Mes informations&lt;/legend&gt;
      &lt;p&gt;
        Nom : &lt;?php echo htmlspecialchars($perso-&gt;nom()); ?&gt;&lt;br /&gt;
        Dégâts : &lt;?php echo $perso-&gt;degats(); ?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Qui frapper ?&lt;/legend&gt;
      &lt;p&gt;
&lt;?php
$persos = $manager-&gt;getList($perso-&gt;nom());

if (empty($persos))
{
  echo 'Personne à frapper !';
}

else
{
  foreach ($persos as $unPerso)
  {
    echo '&lt;a href=&quot;?frapper=', $unPerso-&gt;id(), '&quot;&gt;', htmlspecialchars($unPerso-&gt;nom()), '&lt;/a&gt; (dégâts : ', $unPerso-&gt;degats(), ')&lt;br /&gt;';
  }
}
?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
&lt;?php
}
else
{
?&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
&lt;?php
}
?&gt;
  &lt;/body&gt;
&lt;/html&gt;
&lt;?php
if (isset($perso)) // Si on a créé un personnage, on le stocke dans une variable session afin d'économiser une requête SQL.
{
  $_SESSION['perso'] = $perso;
}</code></pre><p id="r-607437" data-claire-element-id="607437">Et voilà, vous avez un jeu opérationnel. :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
<span class="arrow"></span>
<span class="next">Seconde étape : stockage en base de données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
<span class="next">Améliorations possibles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Amliorationspossibles"></a><h2>Améliorations possibles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
<span class="arrow"></span>
<span class="next">Troisième étape : utilisation des classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">
<span class="next">L&#039;héritage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ameliorations-possibles-2" data-claire-element-id="607458">Améliorations possibles</h4><p id="r-607439" data-claire-element-id="607439">Ce code est très basique, beaucoup d'améliorations sont possibles. En voici quelques unes :</p><ul id="r-607456" data-claire-element-id="607456"><li id="r-607443" data-claire-element-id="607443"><p id="r-607440" data-claire-element-id="607440">Un système de <strong>niveau</strong>. Vous pourriez très bien assigner à chaque personnage un niveau de 1 à 100. Le personnage bénéficierait aussi d'une expérience allant de 0 à 100. Lorsque l'expérience atteint 100, le personnage passe au niveau suivant.</p><aside id="r-607442" data-claire-element-id="607442" data-claire-semantic="information"><p id="r-607441" data-claire-element-id="607441"><strong>Indice</strong> : le <strong>niveau</strong> et l'<strong>expérience</strong> deviendraient des caractéristiques du personnage, donc... Pas besoin de vous le dire, je suis sûr que vous savez ce que ça signifie !</p></aside></li><li id="r-607447" data-claire-element-id="607447"><p id="r-607444" data-claire-element-id="607444">Un système de <strong>force</strong>. La force du personnage pourrait augmenter en fonction de son niveau, et les dégâts infligés à la victime seront donc plus importants. :pirate:</p><aside id="r-607446" data-claire-element-id="607446" data-claire-semantic="information"><p id="r-607445" data-claire-element-id="607445"><strong>Indice</strong> : de même, la <strong>force</strong> du personnage serait aussi une caractéristique du personnage.</p></aside></li><li id="r-607449" data-claire-element-id="607449"><p id="r-607448" data-claire-element-id="607448">Un système de <strong>limitation</strong>. En effet, un personnage peut en frapper autant qu'il veut dans un laps de temps indéfini. Pourquoi ne pas le limiter à 3 coups par jour ?</p></li><aside id="r-607451" data-claire-element-id="607451" data-claire-semantic="information"><p id="r-607450" data-claire-element-id="607450"><strong>Indice</strong> : il faudrait que vous stockiez le <strong>nombre de coups</strong> portés par le personnage, ainsi que la <strong>date du dernier coup porté</strong>. Cela ferait donc deux nouveaux champs en BDD, et deux nouvelles caractéristiques pour le personnage !</p></aside><li id="r-607453" data-claire-element-id="607453"><p id="r-607452" data-claire-element-id="607452">Un système de <strong>retrait de dégâts</strong>. Chaque jour, si l'utilisateur se connecte, il pourrait voir ses dégâts se soustraire de 10 par exemple.</p></li><aside id="r-607455" data-claire-element-id="607455" data-claire-semantic="information"><p id="r-607454" data-claire-element-id="607454"><strong>Indice</strong> : il faudrait stocker la date de dernière connexion. À chaque connexion, vous regarderiez cette date. Si elle est inférieure à 24h, alors vous ne feriez rien. Sinon, vous retireriez 10 de dégâts au personnage puis mettriez à jour cette date de dernière connexion.</p></aside></ul><p id="r-607457" data-claire-element-id="607457">Et la liste peut être longue ! Je vous encourage vivement à essayer d'implémenter ces fonctionnalités et à laisser libre court à votre imagination, vous progresserez bien plus. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
<span class="arrow"></span>
<span class="next">Troisième étape : utilisation des classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">
<span class="next">L&#039;héritage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039hritage"></a><h2>L&#039;héritage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
<span class="arrow"></span>
<span class="next">Améliorations possibles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
<span class="next">Notion d&#039;héritage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607460" data-claire-element-id="607460">L'héritage en POO (que ce soit en C++, Java ou autre langage utilisant la POO) est une technique très puissante et extrêmement pratique. Ce chapitre sur l'héritage est <strong>le</strong> chapitre à connaitre par cœur (ou du moins, le mieux possible). Pour être bien sûr que vous ayez compris le principe, un TP vous attend au prochain chapitre. ;)</p><p id="r-607461" data-claire-element-id="607461">Allez, j'arrête de vous mettre la pression, allons-y !</p>
</div><a name="Notiond039hritage"></a><h2>Notion d&#039;héritage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">
<span class="arrow"></span>
<span class="next">L&#039;héritage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
<span class="next">Un nouveau type de visibilité : protected</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-notion-d-heritage-1" data-claire-element-id="607512">Notion d'héritage</h4><h5 id="r-definition-11" data-claire-element-id="607476">Définition</h5><p id="r-607462" data-claire-element-id="607462">Quand on parle <strong>d'héritage</strong>, c'est qu'on dit qu'une classe B hérite d'une classe A. La classe A est donc considérée comme la classe <strong>mère</strong> et la classe B est considérée comme la classe <strong>fille</strong>.</p><div id="r-607464" data-claire-element-id="607464" data-claire-semantic="question"><p id="r-607463" data-claire-element-id="607463">Concrètement, l'héritage, c'est quoi ?</p></div><p id="r-607465" data-claire-element-id="607465">Lorsqu'on dit que la classe B <strong>hérite</strong> de la classe A, c'est que la classe B <strong>hérite</strong> de tous les attributs et méthodes de la classe A. Si l'on déclare des méthodes dans la classe A, et qu'on crée une instance de la classe B, alors on pourra appeler n'importe quelle méthode déclarée dans la classe A <strong>du moment qu'elle est publique</strong>.</p><p id="r-607466" data-claire-element-id="607466">Schématiquement, une classe B héritant d'une classe A peut être représentée comme ceci (figure suivante).</p><figure id="r-exemple-d-une-classe-magicien-heritant-d-une-classe-personnage" data-claire-element-id="607469"><img id="r-607467" data-claire-element-id="607467" src="medias/uploads.siteduzero.com_files_408001_409000_408555.png" alt="Exemple d'une classe Magicien héritant d'une classe Personnage"/><figcaption>Exemple d'une classe Magicien héritant d'une classe Personnage</figcaption></figure><p id="r-607470" data-claire-element-id="607470">Vous voyez que la classe <code>Magicien</code> a hérité de <strong>toutes</strong> les méthodes et d'<strong>aucun</strong> attribut de la classe <code>Personnage</code>. Souvenez-vous : toutes les méthodes sont publiques et tous les attributs sont privés. En fait, les attributs privés ont bien été hérités aussi, mais notre classe <code>Magicien</code> ne pourra s'en servir, c'est la raison pour laquelle je ne les ai pas représentés. Il n'y a que les méthodes de la classe <strong>parente</strong> qui auront accès à ces attributs. C'est comme pour le principe d'encapsulation : ici, les éléments privés sont <strong>masqués</strong>. On dit que la classe <code>Personnage</code> est la classe <strong>mère</strong> et que la classe <code>Magicien</code> est la classe <strong>fille</strong>.</p><aside id="r-607472" data-claire-element-id="607472" data-claire-semantic="information"><p id="r-607471" data-claire-element-id="607471">Je n'ai pas mis toutes les méthodes du dernier TP dans ce schéma pour ne pas le surcharger, mais en réalité, toutes les méthodes ont bien été héritées. ;)</p></aside><div id="r-607474" data-claire-element-id="607474" data-claire-semantic="question"><p id="r-607473" data-claire-element-id="607473">Quand est-ce que je sais si telle classe doit hériter d'une autre ?</p></div><p id="r-607475" data-claire-element-id="607475">Soit deux classes <code>A</code> et <code>B</code>. Pour qu'un héritage soit possible, il faut que vous puissiez dire que <code>A</code><em>est un</em><code>B</code>. Par exemple, un magicien est un personnage, donc héritage. Un chien est un animal, donc héritage aussi. Bref, vous avez compris le principe. ;)</p><h5 id="r-proceder-a-un-heritage" data-claire-element-id="607491">Procéder à un héritage</h5><p id="r-607477" data-claire-element-id="607477">Pour procéder à un héritage (c'est-à-dire faire en sorte qu'une classe hérite des attributs et méthodes d'une autre classe), il suffit d'utiliser le mot-clé <code>extends</code>. Vous déclarez votre classe comme d'habitude (<code>class MaClasse</code>) en ajoutant <code>extends NomDeLaClasseAHeriter</code> comme ceci :</p><pre id="r-607478" data-claire-element-id="607478"><code data-claire-semantic="html+php">&lt;?php
class Personnage // Création d'une classe simple.
{

}

class Magicien extends Personnage // Notre classe Magicien hérite des attributs et méthodes de Personnage.
{

}
?&gt;</code></pre><p id="r-607479" data-claire-element-id="607479">Comme dans la réalité, une mère peut avoir plusieurs filles, mais une fille ne peut avoir plusieurs mères. La seule différence avec la vie réelle, c'est qu'une mère ne peut avoir une infinité de filles. :-°</p><p id="r-607480" data-claire-element-id="607480">Ainsi, on pourrait créer des classes <code>Magicien</code>, <code>Guerrier</code>, <code>Brute</code>, etc. qui héritent toutes de <code>Personnage</code> : la classe <code>Personnage</code> sert de <strong>modèle</strong>.</p><pre id="r-607481" data-claire-element-id="607481"><code data-claire-semantic="html+php">&lt;?php
class Personnage // Création d'une classe simple.
{

}

// Toutes les classes suivantes hériteront de Personnage.

class Magicien extends Personnage
{

}

class Guerrier extends Personnage
{

}

class Brute extends Personnage
{

}
?&gt;</code></pre><p id="r-607482" data-claire-element-id="607482">Ainsi, toutes ces nouvelles classes auront les mêmes attributs et méthodes que <code>Personnage</code>. ;)</p><div id="r-607484" data-claire-element-id="607484" data-claire-semantic="question"><p id="r-607483" data-claire-element-id="607483">Super, tu me crées des classes qui sont exactement les mêmes qu'une autre… Très utile ! En plus, tout ce qui est privé je n'y ai pas accès donc…</p></div><p id="r-607485" data-claire-element-id="607485">Nous sommes d'accord, si l'héritage c'était ça, ce serait le concept le plus idiot et le plus inutile de la POO. :-°</p><p id="r-607486" data-claire-element-id="607486">Chaque classe peut créer des attributs et méthodes <strong>qui lui seront propres</strong>, et c'est là toute la puissance de l'héritage : toutes les classes que l'on a créées plus haut peuvent avoir des attributs et méthodes <strong>en plus</strong> des attributs et méthodes hérités. Pour cela, rien de plus simple. Il vous suffit de créer des attributs et méthodes comme nous avons appris jusqu'à maintenant. Un exemple ?</p><pre id="r-607487" data-claire-element-id="607487"><code data-claire-semantic="html+php">&lt;?php
class Magicien extends Personnage
{
  private $_magie; // Indique la puissance du magicien sur 100, sa capacité à produire de la magie.
  
  public function lancerUnSort($perso)
  {
    $perso-&gt;recevoirDegats($this-&gt;_magie); // On va dire que la magie du magicien représente sa force.
  }
}
?&gt;</code></pre><p id="r-607488" data-claire-element-id="607488">Ainsi, la classe <code>Magicien</code> aura, <strong>en plus des attributs et méthodes hérités</strong>, un attribut <code>$magie</code> et une méthode <code>lancerUnSort</code>.</p><aside id="r-607490" data-claire-element-id="607490" data-claire-semantic="information"><p id="r-607489" data-claire-element-id="607489">Si vous essayez d'accéder à un attribut privé de la classe parente, aucune erreur fatale ne s'affichera, seulement une notice si vous les avez activées disant que l'attribut n'existe pas.</p></aside><h5 id="r-surcharger-les-methodes" data-claire-element-id="607502">Surcharger les méthodes</h5><p id="r-607492" data-claire-element-id="607492">On vient de créer une classe <code>Magicien</code> héritant de toutes les méthodes de la classe <code>Personnage</code>. Que diriez-vous si l'on pouvait <strong>réécrire</strong> certaines méthodes, afin de modifier leur comportement ? Pour cela, il vous suffit de déclarer à nouveau la méthode et d'écrire ce que bon vous semble à l'intérieur.</p><p id="r-607493" data-claire-element-id="607493">Un problème se pose pourtant. Si vous voulez accéder à un attribut de la classe parente pour le modifier, vous ne pourrez pas car notre classe <code>Magicien</code> n'a pas accès aux attributs de sa classe mère <code>Personnage</code> puisqu'ils sont tous privés.</p><p id="r-607494" data-claire-element-id="607494">Nous allons maintenant essayer de surcharger la méthode <code>gagnerExperience</code> afin de modifier l'attribut stockant la magie (admettons <strong>$_magie</strong>) lorsque, justement, on gagne de l'expérience. Problème : si on la réécrit, nous écrasons toutes les instructions présentes dans la méthode de la classe parente (<code>Personnage</code>), ce qui aura pour effet de ne pas faire gagner d'expérience à notre magicien mais juste de lui augmenter sa magie. Solution : appeler la méthode <code>gagnerExperience</code> de la classe parente, puis ensuite ajouter les instructions modifiant la magie.</p><p id="r-607495" data-claire-element-id="607495">Il suffit pour cela d'utiliser le mot-clé <code>parent</code> suivi du symbole double deux points (le revoilà celui-là :p ) suivi lui-même du nom de la méthode à appeler.</p><pre id="r-607496" data-claire-element-id="607496"><code data-claire-semantic="html+php">&lt;?php
class Magicien extends Personnage
{
  private $_magie; // Indique la puissance du magicien sur 100, sa capacité à produire de la magie.
  
  public function lancerUnSort($perso)
  {
    $perso-&gt;recevoirDegats($this-&gt;_magie); // On va dire que la magie du magicien représente sa force.
  }
  
  public function gagnerExperience()
  {
    // On appelle la méthode gagnerExperience() de la classe parente
    parent::gagnerExperience();
    
    if ($this-&gt;_magie &lt; 100)
    {
      $this-&gt;_magie += 10;
    }
  }
}
?&gt;</code></pre><p id="r-607497" data-claire-element-id="607497">Notez que si la méthode parente retourne une valeur, vous pouvez la récupérer comme si vous appeliez une méthode normalement. Exemple :</p><pre id="r-607498" data-claire-element-id="607498"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function test()
  {
    return 'test';
  }
}

class B extends A
{
  public function test()
  {
    $retour = parent::test();
    
    echo $retour; // Affiche 'test'
  }
}</code></pre><p id="r-607499" data-claire-element-id="607499">Comme vous pouvez le constater, j'ai fait appel aux getters et setters correspondant à l'attribut <strong>$_magie</strong>. Pourquoi ? Car les classes enfant n'ont pas accès aux éléments privés, il fallait donc que la classe parente le fasse pour moi ! Il n'y a que les méthodes de la classe parente non réécrites qui ont accès aux éléments privés. À partir du moment où l'on réécrit une méthode de la classe parente, la méthode appartient à la classe fille et n'a donc plus accès aux éléments privés.</p><aside id="r-607501" data-claire-element-id="607501" data-claire-semantic="error"><p id="r-607500" data-claire-element-id="607500">Si vous surchargez une méthode, sa visibilité doit être la même que dans la classe parente ! Si tel n'est pas le cas, une erreur fatale sera levée. Par exemple, vous ne pouvez surcharger une méthode publique en disant qu'elle est privée.</p></aside><h5 id="r-heritez-a-l-infini" data-claire-element-id="607511">Héritez à l'infini !</h5><p id="r-607503" data-claire-element-id="607503">Toute classe en POO peut être héritée si elle ne spécifie pas le contraire, <strong>vraiment toutes</strong>. Vous pouvez ainsi reproduire un arbre réel avec autant de classes héritant les unes des autres que vous le souhaitez.</p><p id="r-607504" data-claire-element-id="607504">Pour reprendre l'exemple du magicien dans le cours sur la POO en C++ de M@teo21, on peut créer deux autres classes <code>MagicienBlanc</code> et <code>MagicienNoir</code> qui héritent toutes les deux de <code>Magicien</code>. Exemple :</p><pre id="r-607505" data-claire-element-id="607505"><code data-claire-semantic="html+php">&lt;?php
class Personnage // Classe Personnage de base.
{

}

class Magicien extends Personnage // Classe Magicien héritant de Personnage.
{

}

class MagicienBlanc extends Magicien // Classe MagicienBlanc héritant de Magicien.
{

}

class MagicienNoir extends Magicien // Classe MagicienNoir héritant de Magicien.
{

}
?&gt;</code></pre><p id="r-607506" data-claire-element-id="607506">Et un petit schéma qui reproduit ce code (figure suivante).</p><figure id="r-exemple-d-un-heritage-multiple" data-claire-element-id="607509"><img id="r-607507" data-claire-element-id="607507" src="medias/uploads.siteduzero.com_files_238001_239000_238181.png" alt="Exemple d'un héritage multiple"/><figcaption>Exemple d'un héritage multiple</figcaption></figure><p id="r-607510" data-claire-element-id="607510">Ainsi, les classes <code>MagicienBlanc</code> et <code>MagicienNoir</code> hériteront de tous les attributs et de toutes les méthodes des classes <code>Magicien</code> et <code>Personnage</code>. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">
<span class="arrow"></span>
<span class="next">L&#039;héritage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
<span class="next">Un nouveau type de visibilité : protected</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unnouveautypedevisibilitprotected"></a><h2>Un nouveau type de visibilité : protected</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
<span class="arrow"></span>
<span class="next">Notion d&#039;héritage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
<span class="next">Imposer des contraintes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-nouveau-type-de-visibilite-protected" data-claire-element-id="607527">Un nouveau type de visibilité : protected</h4><p id="r-607513" data-claire-element-id="607513">Je vais à présent vous présenter le dernier type de visibilité existant en POO : il s'agit de <code>protected</code>. Ce type de visibilité est, au niveau restrictif, à placer entre <code>public</code> et <code>private</code>.</p><p id="r-607514" data-claire-element-id="607514">Je vous rappelle brièvement les rôles de ces deux portées de visibilité :</p><ul id="r-607519" data-claire-element-id="607519"><li id="r-607516" data-claire-element-id="607516"><p id="r-607515" data-claire-element-id="607515"><code>Public</code> : ce type de visibilité nous laisse beaucoup de liberté. On peut accéder à l'attribut ou à la méthode de <strong>n'importe où</strong>. Toute classe fille aura accès aux éléments publics.</p></li><li id="r-607518" data-claire-element-id="607518"><p id="r-607517" data-claire-element-id="607517"><code>Private</code> : ce type est celui qui nous laisse le moins de liberté. On ne peut accéder à l'attribut ou à la méthode <strong>que depuis l'intérieur de la classe qui l'a créé</strong>. Toute classe fille n'aura pas accès aux éléments privés.</p></li></ul><p id="r-607520" data-claire-element-id="607520">Le type de visibilité <code>protected</code> est en fait une petite modification du type <code>private</code> : il a <strong>exactement</strong> les mêmes effets que <code>private</code>, à l'exception que toute classe fille aura accès aux éléments protégés.</p><p id="r-607521" data-claire-element-id="607521">Exemple :</p><pre id="r-607522" data-claire-element-id="607522"><code data-claire-semantic="html+php">&lt;?php
class ClasseMere
{
  protected $attributProtege;
  private $_attributPrive;
  
  public function __construct()
  {
    $this-&gt;attributProtege = 'Hello world !';
    $this-&gt;_attributPrive = 'Bonjour tout le monde !';
  }
}

class ClasseFille extends ClasseMere
{
  public function afficherAttributs()
  {
    echo $this-&gt;attributProtege; // L'attribut est protégé, on a donc accès à celui-ci.
    echo $this-&gt;_atributPrive; // L'attribut est privé, on n'a pas accès celui-ci, donc rien ne s'affichera (mis à part une notice si vous les avez activées).
  }
}

$obj = new ClasseFille;

echo $obj-&gt;attributProtege; // Erreur fatale.
echo $obj-&gt;_attributPrive; // Rien ne s'affiche (ou une notice si vous les avez activées).

$obj-&gt;afficherAttributs(); // Affiche « Hello world ! » suivi de rien du tout ou d'une notice si vous les avez activées.
?&gt;</code></pre><p id="r-607523" data-claire-element-id="607523">Comme vous pouvez le constater, il n'y a pas d'<em>underscores</em> précédant les noms d'éléments protégés. C'est encore une fois la notation PEAR qui nous dit que les noms d'éléments protégés ne sont pas protégés de ce caractère. ;)</p><div id="r-607525" data-claire-element-id="607525" data-claire-semantic="question"><p id="r-607524" data-claire-element-id="607524">Et pour le principe d'encapsulation, j'utilise quoi ? <code>private</code> ou <code>protected</code> ?</p></div><p id="r-607526" data-claire-element-id="607526">La portée <code>private</code> est, selon moi, bien trop restrictive et contraignante. Elle empêche toute classe enfant d'accéder aux attributs et méthodes privées alors que cette dernière en a souvent besoin. De manière générale, je vous conseille donc de toujours mettre <code>protected</code> au lieu de <code>private</code>, à moins que vous teniez absolument à ce que la classe enfant ne puisse y avoir accès. Cependant, je trouve cela inutile dans le sens où la classe enfant a été créée par un développeur, donc quelqu'un qui sait ce qu'il fait et qui par conséquent doit pouvoir modifier à souhait tous les attributs, contrairement à l'utilisateur de la classe.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
<span class="arrow"></span>
<span class="next">Notion d&#039;héritage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
<span class="next">Imposer des contraintes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Imposerdescontraintes"></a><h2>Imposer des contraintes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
<span class="arrow"></span>
<span class="next">Un nouveau type de visibilité : protected</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
<span class="next">Résolution statique à la volée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-imposer-des-contraintes" data-claire-element-id="607555">Imposer des contraintes</h4><p id="r-607528" data-claire-element-id="607528">Il est possible de mettre en place des contraintes. On parlera alors d'<strong>abstraction</strong> ou de <strong>finalisation</strong> suivant la contrainte instaurée.</p><h5 id="r-abstraction-5" data-claire-element-id="607545">Abstraction</h5><h6 id="r-classes-abstraites-2" data-claire-element-id="607539">Classes abstraites</h6><p id="r-607529" data-claire-element-id="607529">On a vu jusqu'à maintenant que l'on pouvait <em>instancier</em> n'importe quelle classe afin de pouvoir exploiter ses méthodes. On va maintenant découvrir comment <strong>empêcher quiconque d'<em>instancier</em> telle classe</strong>.</p><div id="r-607531" data-claire-element-id="607531" data-claire-semantic="question"><p id="r-607530" data-claire-element-id="607530">Mais à quoi ça sert de créer une classe si on ne peut pas s'en servir ?</p></div><p id="r-607532" data-claire-element-id="607532">On ne pourra pas se servir <strong>directement</strong> de la classe. La seule façon d'exploiter ses méthodes est de créer une classe <strong>héritant de la classe abstraite</strong>.</p><p id="r-607533" data-claire-element-id="607533">Vous vous demandez sans doute à quoi cela peut bien servir. L'exemple que je vais prendre est celui du personnage et de ses classes filles. Dans ce que nous venons de faire, nous ne créerons <strong>jamais</strong> d'objet <code>Personnage</code>, mais uniquement des objets <code>Magicien</code>, <code>Guerrier</code>, <code>Brute</code>, etc. En effet, à quoi cela nous servirait d'instancier la classe <code>Personnage</code> si notre but est de créer un tel type de personnage ?</p><p id="r-607534" data-claire-element-id="607534">Nous allons donc considérer la classe <code>Personnage</code> comme étant une classe <strong>modèle</strong> dont toute classe fille possédera les méthodes et attributs.</p><p id="r-607535" data-claire-element-id="607535">Pour déclarer une classe abstraite, il suffit de faire précéder le mot-clé <code>class</code> du mot-clé <code>abstract</code> comme ceci :</p><pre id="r-607536" data-claire-element-id="607536"><code data-claire-semantic="html+php">&lt;?php
abstract class Personnage // Notre classe Personnage est abstraite.
{

}

class Magicien extends Personnage // Création d'une classe Magicien héritant de la classe Personnage.
{

}

$magicien = new Magicien; // Tout va bien, la classe Magicien n'est pas abstraite.
$perso = new Personnage; // Erreur fatale car on instancie une classe abstraite.
?&gt;</code></pre><p id="r-607537" data-claire-element-id="607537">Simple et court à retenir, il suffit juste de se souvenir où l'on doit le placer. ;)</p><p id="r-607538" data-claire-element-id="607538">Ainsi, si vous essayez de créer une instance de la classe <code>Personnage</code>, une erreur fatale sera levée. Ceci nous garantit que l'on ne créera jamais d'objet <code>Personnage</code> (suite à une étourderie par exemple).</p><h6 id="r-methodes-abstraites-1" data-claire-element-id="607544">Méthodes abstraites</h6><p id="r-607540" data-claire-element-id="607540">Si vous décidez de rendre une méthode abstraite en plaçant le mot-clé <code>abstract</code> juste avant la visibilité de la méthode, vous forcerez toutes les classes filles à écrire cette méthode. Si tel n'est pas le cas, une erreur fatale sera levée. Puisque l'on force la classe fille à écrire la méthode, on ne doit spécifier aucune instruction dans la méthode, on déclarera juste son prototype (visibilité + <code>function</code> + nomDeLaMethode + parenthèses avec ou sans paramètres <strong>+ point-virgule</strong>).</p><pre id="r-607541" data-claire-element-id="607541"><code data-claire-semantic="html+php">&lt;?php
abstract class Personnage
{
  // On va forcer toute classe fille à écrire cette méthode car chaque personnage frappe différemment.
  abstract public function frapper(Personnage $perso);
  
  // Cette méthode n'aura pas besoin d'être réécrite.
  public function recevoirDegats()
  {
    // Instructions.
  }
}

class Magicien extends Personnage
{
  // On écrit la méthode « frapper » du même type de visibilité que la méthode abstraite « frapper » de la classe mère.
  public function frapper(Personnage $perso)
  {
    // Instructions.
  }
}
?&gt;</code></pre><aside id="r-607543" data-claire-element-id="607543" data-claire-semantic="error"><p id="r-607542" data-claire-element-id="607542">Pour définir une méthode comme étant abstraite, il faut que la classe elle-même soit abstraite !</p></aside><h5 id="r-finalisation-3" data-claire-element-id="607554">Finalisation</h5><h6 id="r-classes-finales" data-claire-element-id="607550">Classes finales</h6><p id="r-607546" data-claire-element-id="607546">Le concept des classes et méthodes finales est exactement l'inverse du concept d'abstraction. Si une classe est finale, vous ne pourrez pas créer de classe fille héritant de cette classe.</p><p id="r-607547" data-claire-element-id="607547">Pour ma part, je ne rends jamais mes classes finales (au même titre que, à quelques exceptions près, je mets toujours mes attributs en <code>protected</code>) pour me laisser la liberté d'hériter de n'importe quelle classe.</p><p id="r-607548" data-claire-element-id="607548">Pour déclarer une classe finale, vous devez placer le mot-clé <code>final</code> juste avant le mot-clé <code>class</code>, comme <code>abstract</code>.</p><pre id="r-607549" data-claire-element-id="607549"><code data-claire-semantic="html+php">&lt;?php
// Classe abstraite servant de modèle.

abstract class Personnage
{

}

// Classe finale, on ne pourra créer de classe héritant de Guerrier.

final class Guerrier extends Personnage
{

}

// Erreur fatale, car notre classe hérite d'une classe finale.

class GentilGuerrier extends Guerrier
{

}
?&gt;</code></pre><h6 id="r-methodes-finales" data-claire-element-id="607553">Méthodes finales</h6><p id="r-607551" data-claire-element-id="607551">Si vous déclarez une méthode finale, toute classe fille de la classe comportant cette méthode finale héritera de cette méthode <strong>mais ne pourra la surcharger</strong>. Si vous déclarez votre méthode <code>recevoirDegats</code> en tant que méthode finale, vous ne pourrez la surcharger.</p><pre id="r-607552" data-claire-element-id="607552"><code data-claire-semantic="html+php">&lt;?php
abstract class Personnage
{
  // Méthode normale.
  
  public function frapper(Personnage $perso)
  {
    // Instructions.
  }
  
  // Méthode finale.
  
  final public function recevoirDegats()
  {
    // Instructions.
  }
}

class Guerrier extends Personnage
{
  // Aucun problème.
  
  public function frapper(Personnage $perso)
  {
    // Instructions.
  }
  
  // Erreur fatale car cette méthode est finale dans la classe parente.
  
  public function recevoirDegats()
  {
    // Instructions.
  }
}
?&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
<span class="arrow"></span>
<span class="next">Un nouveau type de visibilité : protected</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
<span class="next">Résolution statique à la volée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rsolutionstatiquelavole"></a><h2>Résolution statique à la volée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
<span class="arrow"></span>
<span class="next">Imposer des contraintes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">
<span class="next">TP : Des personnages spécialisés</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-resolution-statique-a-la-volee" data-claire-element-id="607652">Résolution statique à la volée</h4><aside id="r-607557" data-claire-element-id="607557" data-claire-semantic="error"><p id="r-607556" data-claire-element-id="607556">Fonctionnalité disponible depuis PHP 5.3 !</p></aside><p id="r-607558" data-claire-element-id="607558">Cette sous-partie va vous montrer une possibilité intéressante de la POO en PHP : la résolution statique à la volée. C'est une notion un peu complexe à comprendre au premier abord donc n'hésitez pas à relire cette partie autant de fois que nécessaire.</p><p id="r-607559" data-claire-element-id="607559">Effectuons d'abord un petit flash-back sur <code>self::</code>. Vous vous souvenez à quoi il sert ? À appeler un attribut, une méthode statique ou une constante <strong>de la classe dans laquelle est contenu <code>self::</code></strong>. Ainsi, si vous testez ce code :</p><pre id="r-607560" data-claire-element-id="607560"><code data-claire-semantic="html+php">&lt;?php
class Mere
{
  public static function lancerLeTest()
  {
    self::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'Je suis la classe &lt;strong&gt;Mere&lt;/strong&gt; !';
  }
}

class Enfant extends Mere
{
  public function quiEstCe()
  {
    echo 'Je suis la classe &lt;strong&gt;Enfant&lt;/strong&gt; !';
  }
}

Enfant::lancerLeTest();
?&gt;</code></pre><p id="r-607561" data-claire-element-id="607561">À l'écran s'affichera :</p><figure id="r-resultat-affiche-par-le-script-2" data-claire-element-id="607564"><img id="r-607562" data-claire-element-id="607562" src="medias/uploads.siteduzero.com_files_411001_412000_411727.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><div id="r-607566" data-claire-element-id="607566" data-claire-semantic="question"><p id="r-607565" data-claire-element-id="607565">Mais qu'est-ce qui s'est passé ???</p></div><ul id="r-607573" data-claire-element-id="607573"><li id="r-607568" data-claire-element-id="607568"><p id="r-607567" data-claire-element-id="607567">Appel de la méthode <code>lancerLeTest</code> de la classe <code>Enfant</code> ;</p></li><li id="r-607570" data-claire-element-id="607570"><p id="r-607569" data-claire-element-id="607569">la méthode n'a pas été réécrite, on va donc « chercher » la méthode <code>lancerLeTest</code> de la classe mère ;</p></li><li id="r-607572" data-claire-element-id="607572"><p id="r-607571" data-claire-element-id="607571">appel de la méthode <code>quiEstCe</code><strong>de la classe <code>Mere</code></strong>.</p></li></ul><div id="r-607575" data-claire-element-id="607575" data-claire-semantic="question"><p id="r-607574" data-claire-element-id="607574">Pourquoi c'est la méthode <code>quiEstCe</code> de la classe parente qui a été appelée ? Pourquoi pas celle de la classe fille puisqu'elle a été récrite ?</p></div><p id="r-607576" data-claire-element-id="607576">Tout simplement parce que <code>self::</code> fait appel à la méthode statique <strong>de la classe dans laquelle est contenu <code>self::</code></strong>, donc de la classe parente. ;)</p><div id="r-607578" data-claire-element-id="607578" data-claire-semantic="question"><p id="r-607577" data-claire-element-id="607577">Et la résolution statique à la volée dans tout ça ?</p></div><p id="r-607579" data-claire-element-id="607579">Tout tourne autour de l'utilisation de <code>static::</code>. <code>static::</code> a exactement le même effet que <code>self::</code>, <strong>à l'exception près que <code>static::</code> appelle l'élément de la classe qui est appelée pendant l'exécution</strong>. C'est-à-dire que si j'appelle la méthode <code>lancerLeTest</code> depuis la classe <code>Enfant</code> et que dans cette méthode j'utilise <code>static::</code> au lieu de <code>self::</code>, c'est la méthode <code>quiEstCe</code> de la classe <code>Enfant</code> qui sera appelée et non de la classe <code>Mere</code> !</p><pre id="r-607580" data-claire-element-id="607580"><code data-claire-semantic="html+php">&lt;?php
class Mere
{
  public static function lancerLeTest()
  {
    static::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'Je suis la classe &lt;strong&gt;Mere&lt;/strong&gt; !';
  }
}

class Enfant extends Mere
{
  public function quiEstCe()
  {
    echo 'Je suis la classe &lt;strong&gt;Enfant&lt;/strong&gt; !';
  }
}

Enfant::lancerLeTest();
?&gt;</code></pre><p id="r-607581" data-claire-element-id="607581">Ce qui donnera :</p><figure id="r-resultat-affiche-par-le-script-3" data-claire-element-id="607584"><img id="r-607582" data-claire-element-id="607582" src="medias/uploads.siteduzero.com_files_411001_412000_411728.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><aside id="r-607586" data-claire-element-id="607586" data-claire-semantic="information"><p id="r-607585" data-claire-element-id="607585">Notez que tous les exemples ci-dessus utilisent des méthodes qui sont appelées dans un contexte statique. J'ai fait ce choix car pour ce genre de tests, il était inutile d'<em>instancier</em> la classe, mais sachez bien que la résolution statique à la volée a exactement le même effet quand on crée un objet puis qu'on appelle une méthode de celui-ci. Il n'est donc pas du tout obligatoire de rendre les méthodes statiques pour pouvoir y placer <code>static::</code>. Ainsi, si vous testez ce code, à l'écran s'affichera la même chose que précédemment.</p></aside><pre id="r-607587" data-claire-element-id="607587"><code data-claire-semantic="html+php">&lt;?php
class Mere
{
  public function lancerLeTest()
  {
    static::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'Je suis la classe « Mere » !';
  }
}

class Enfant extends Mere
{
  public function quiEstCe()
  {
    echo 'Je suis la classe « Enfant » !';
  }
}

$e = new Enfant;
$e-&gt;lancerLeTest();
?&gt;</code></pre><h5 id="r-cas-complexes" data-claire-element-id="607620">Cas complexes</h5><p id="r-607588" data-claire-element-id="607588">Au premier abord, vous n'avez peut-être pas tout compris. Si tel est le cas, ne lisez pas la suite cela risquerait de vous embrouiller davantage. Prenez bien le temps de comprendre ce qui est écrit plus haut puis vous pourrez continuer. ;)</p><p id="r-607589" data-claire-element-id="607589">Comme le spécifie le titre, il y a quelques cas complexes (des pièges en quelque sorte). Imaginons trois classes A, B et C qui héritent chacune d'une autre (A est la grand-mère, B la mère et C la fille :p ). En PHP, on dirait plutôt :</p><pre id="r-607590" data-claire-element-id="607590"><code data-claire-semantic="html+php">&lt;?php
class A
{

}

class B extends A
{

}

class C extends B
{

}
?&gt;</code></pre><p id="r-607591" data-claire-element-id="607591">Nous allons implémenter dans chacune des classes une méthode qui aura pour rôle d'afficher le nom de la classe pour pouvoir effectuer quelques tests.</p><pre id="r-607592" data-claire-element-id="607592"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}
?&gt;</code></pre><p id="r-607593" data-claire-element-id="607593">Créons une méthode de test dans la classe B. Pourquoi dans cette classe ? Parce qu'elle hérite à la fois de A et est héritée par C, son cas est donc intéressant à étudier. :p</p><p id="r-607594" data-claire-element-id="607594">Appelons maintenant cette méthode depuis la classe C dans un contexte statique (nul besoin de créer d'objet, mais ça marche tout aussi bien ;) ).</p><pre id="r-607595" data-claire-element-id="607595"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public static function test()
  {
  
  }
  
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}

C::test();
?&gt;</code></pre><p id="r-607596" data-claire-element-id="607596">Plaçons un peu de code dans cette méthode, sinon c'est pas drôle. ;)</p><p id="r-607597" data-claire-element-id="607597">Nous allons essayer d'appeler la méthode parente <code>quiEstCe</code>. Là, il n'y a pas de piège, pas de résolution statique à la volée, donc à l'écran s'affichera « A » :</p><pre id="r-607598" data-claire-element-id="607598"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public static function test()
  {
    parent::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}

C::test();
?&gt;</code></pre><p id="r-607599" data-claire-element-id="607599">Maintenant, créons une méthode dans la classe A qui sera chargée d'appeler la méthode <code>quiEstCe</code> avec <code>static::</code>. Là, si vous savez ce qui va s'afficher, vous avez tout compris ! ;)</p><pre id="r-607600" data-claire-element-id="607600"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function appelerQuiEstCe()
  {
    static::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public static function test()
  {
    parent::appelerQuiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}

C::test();
?&gt;</code></pre><p id="r-607601" data-claire-element-id="607601">Alors ? Vous avez une petite idée ? À l'écran s'affichera… <strong>C</strong> ! Décortiquons ce qui s'est passé :</p><ul id="r-607612" data-claire-element-id="607612"><li id="r-607603" data-claire-element-id="607603"><p id="r-607602" data-claire-element-id="607602">Appel de la méthode <code>test</code> de la classe <code>C</code> ;</p></li><li id="r-607605" data-claire-element-id="607605"><p id="r-607604" data-claire-element-id="607604">la méthode n'a pas été réécrite, on appelle donc la méthode <code>test</code> de la classe <code>B</code> ;</p></li><li id="r-607607" data-claire-element-id="607607"><p id="r-607606" data-claire-element-id="607606">on appelle maintenant la méthode <code>appelerQuiEstCe</code> de la classe <code>A</code> (avec <code>parent::</code>) ;</p></li><li id="r-607609" data-claire-element-id="607609"><p id="r-607608" data-claire-element-id="607608">résolution statique à la volée : on appelle la méthode <code>quiEstCe</code> de la classe qui a appelé la méthode <code>appelerQuiEstCe</code> ;</p></li><li id="r-607611" data-claire-element-id="607611"><p id="r-607610" data-claire-element-id="607610">la méthode <code>quiEstCe</code> de la classe <code>C</code> est donc appelée car c'est depuis la classe <code>C</code> qu'on a appelé la méthode <code>test</code>.</p></li></ul><p id="r-607613" data-claire-element-id="607613">C'est très compliqué mais fondamental à comprendre. :p</p><p id="r-607614" data-claire-element-id="607614">Remplaçons maintenant <code>parent::</code> par <code>self::</code> :</p><pre id="r-607615" data-claire-element-id="607615"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function appelerQuiEstCe()
  {
    static::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public static function test()
  {
    self::appelerQuiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}

C::test();
?&gt;</code></pre><p id="r-607616" data-claire-element-id="607616">Et là, qu'est-ce qui s'affiche à l'écran ? Et bien toujours <strong>C</strong> ! Le principe est <strong>exactement</strong> le même que le code plus haut.</p><aside id="r-607618" data-claire-element-id="607618" data-claire-semantic="error"><p id="r-607617" data-claire-element-id="607617">Si vous cassez la chaîne en appelant une méthode depuis une instance ou statiquement du genre <code>Classe::methode()</code>, la méthode appelée par <code>static::</code> sera celle de la classe contenant ce code ! Ainsi, le code suivant affichera « A ».</p></aside><pre id="r-607619" data-claire-element-id="607619"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public static function appelerQuiEstCe()
  {
    static::quiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'A';
  }
}

class B extends A
{
  public static function test()
  {
    // On appelle « appelerQuiEstCe » de la classe « A » normalement.
    A::appelerQuiEstCe();
  }
  
  public function quiEstCe()
  {
    echo 'B';
  }
}

class C extends B
{
  public function quiEstCe()
  {
    echo 'C';
  }
}

C::test();
?&gt;</code></pre><h5 id="r-utilisation-de-static-dans-un-contexte-non-statique" data-claire-element-id="607637">Utilisation de <em>static::</em> dans un contexte non statique</h5><p id="r-607621" data-claire-element-id="607621">L'utilisation de <code>static::</code> dans un contexte non statique se fait de la même façon que dans un contexte statique. Je vais prendre l'exemple de la documentation pour illustrer mes propos :</p><pre id="r-607622" data-claire-element-id="607622"><code data-claire-semantic="html+php">&lt;?php
class TestChild extends TestParent
{
  public function __construct()
  {
    static::qui();
  }
  
  public function test()
  {
    $o = new TestParent();
  }
  
  public static function qui()
  {
    echo 'TestChild';
  }
}

class TestParent
{
  public function __construct()
  {
    static::qui();
  }
  
  public static function qui()
  {
    echo 'TestParent';
  }
}

$o = new TestChild;
$o-&gt;test();
?&gt;</code></pre><p id="r-607623" data-claire-element-id="607623">À l'écran s'affichera « TestChild » suivi de « TestParent ». Je vous explique ce qui s'est passé si vous n'avez pas tout suivi :</p><ul id="r-607634" data-claire-element-id="607634"><li id="r-607625" data-claire-element-id="607625"><p id="r-607624" data-claire-element-id="607624">Création d'une instance de la classe <code>TestChild</code> ;</p></li><li id="r-607627" data-claire-element-id="607627"><p id="r-607626" data-claire-element-id="607626">appel de la méthode <code>qui</code> de la classe <code>TestChild</code> puisque c'est la méthode <code>__construct</code> de la classe <code>TestChild</code> qui a été appelée ;</p></li><li id="r-607629" data-claire-element-id="607629"><p id="r-607628" data-claire-element-id="607628">appel de la méthode <code>test</code> de la classe <code>TestChild</code> ;</p></li><li id="r-607631" data-claire-element-id="607631"><p id="r-607630" data-claire-element-id="607630">création d'une instance de la classe <code>TestParent</code> ;</p></li><li id="r-607633" data-claire-element-id="607633"><p id="r-607632" data-claire-element-id="607632">appel de la méthode <code>qui</code> de la classe <code>TestParent</code> puisque c'est la méthode <code>__construct</code> de cette classe qui a été appelée.</p></li></ul><p id="r-607635" data-claire-element-id="607635">Ouf ! Enfin terminé ! :)</p><p id="r-607636" data-claire-element-id="607636">N'hésitez pas à le relire autant de fois que nécessaire afin de bien comprendre cette notion d'héritage et toutes les possibilités que ce concept vous offre. Ne soyez pas pressés de continuer si vous n'avez pas tout compris, sinon vous allez vous planter au TP. ;)</p><h5 id="r-en-resume-189" data-claire-element-id="607651">En résumé</h5><ul id="r-607650" data-claire-element-id="607650"><li id="r-607639" data-claire-element-id="607639"><p id="r-607638" data-claire-element-id="607638">Nous pouvons parler d'héritage entre une classe A et une classe B si et seulement si nous pouvons dire « B est un A » (dans ce cas-là, B hérite de A).</p></li><li id="r-607641" data-claire-element-id="607641"><p id="r-607640" data-claire-element-id="607640">Une classe héritant d'une autre a accès à tous ses attributs et méthodes publics ou protégés.</p></li><li id="r-607643" data-claire-element-id="607643"><p id="r-607642" data-claire-element-id="607642">La visibilité <code>protected</code> est équivalente à la visibilité <code>private</code> à la différence près qu'un élément protégé est accessible par les classes filles, contrairement aux éléments privés.</p></li><li id="r-607645" data-claire-element-id="607645"><p id="r-607644" data-claire-element-id="607644">Il est possible d'interdire l'instanciation d'une classe grâce au mot-clé <code>abstract</code> (utile pour poser un modèle de base commun à plusieurs classes) et l'héritage d'une classe grâce au mot-clé <code>final</code>.</p></li><li id="r-607647" data-claire-element-id="607647"><p id="r-607646" data-claire-element-id="607646">Il est possible d'obliger ses classes filles à implémenter une méthode grâce au mot-clé <code>abstract</code> et de leur interdire la réécriture d'une méthode grâce au mot-clé <code>final</code>.</p></li><li id="r-607649" data-claire-element-id="607649"><p id="r-607648" data-claire-element-id="607648">La résolution statique à la volée permet de savoir quelle classe a été initialement appelée pour invoquer la méthode dans laquelle on se trouve.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
<span class="arrow"></span>
<span class="next">Imposer des contraintes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">
<span class="next">TP : Des personnages spécialisés</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPDespersonnagesspcialiss"></a><h2>TP : Des personnages spécialisés</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
<span class="arrow"></span>
<span class="next">Résolution statique à la volée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
<span class="next">Ce que nous allons faire</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607654" data-claire-element-id="607654">Avez-vous bien tout retenu du dernier chapitre ? C'est ce que l'on va vérifier maintenant ! En effet, l'héritage est un point très important de la POO qu'il est essentiel de maîtriser, c'est pourquoi je souhaite insister dessus à travers ce TP. Ce dernier est en fait une modification du premier (celui qui mettait en scène notre personnage). Nous allons donc ajouter une possibilité supplémentaire au script : le choix du personnage. Cette modification vous permettra de revoir ce que nous avons abordé depuis le dernier TP, à savoir :</p><ul id="r-607661" data-claire-element-id="607661"><li id="r-607656" data-claire-element-id="607656"><p id="r-607655" data-claire-element-id="607655">L'héritage ;</p></li><li id="r-607658" data-claire-element-id="607658"><p id="r-607657" data-claire-element-id="607657">la portée <code>protected</code> ;</p></li><li id="r-607660" data-claire-element-id="607660"><p id="r-607659" data-claire-element-id="607659">l'abstraction.</p></li></ul><p id="r-607662" data-claire-element-id="607662">Je ne mettrai pas en pratique la résolution statique à la volée car elle ne nous est pas utile ici. Aussi, la finalisation n'est pas utilisée car c'est davantage une contrainte inutile qu'autre chose dans cette situation. ;)</p>
</div><a name="Cequenousallonsfaire"></a><h2>Ce que nous allons faire</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">
<span class="arrow"></span>
<span class="next">TP : Des personnages spécialisés</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ce-que-nous-allons-faire-1" data-claire-element-id="607727">Ce que nous allons faire</h4><h5 id="r-cahier-des-charges-8" data-claire-element-id="607672">Cahier des charges</h5><p id="r-607663" data-claire-element-id="607663">Je veux que nous ayons le choix de créer un certain type de personnage qui aura certains avantages. Il ne doit pas être possible de créer un personnage « normal » (donc il devra être impossible d'instancier la classe <code>Personnage</code>). Comme précédemment, la classe <code>Personnage</code> aura la liste des colonnes de la table en guise d'attributs.</p><p id="r-607664" data-claire-element-id="607664">Je vous donne une liste de personnages différents qui pourront être créés. Chaque personnage a un atout différent sous forme d'entier.</p><ul id="r-607669" data-claire-element-id="607669"><li id="r-607666" data-claire-element-id="607666"><p id="r-607665" data-claire-element-id="607665">Un magicien. Il aura une nouvelle fonctionnalité : celle de lancer un sort qui aura pour effet d'endormir un personnage pendant <code>$atout * 6</code> heures (l'attribut <code>$atout</code> représente la dose de magie du personnage).</p></li><li id="r-607668" data-claire-element-id="607668"><p id="r-607667" data-claire-element-id="607667">Un guerrier. Lorsqu'un coup lui est porté, il devra avoir la possibilité de parer le coup en fonction de sa protection (son atout).</p></li></ul><p id="r-607670" data-claire-element-id="607670">Ceci n'est qu'une petite liste de départ. Libre à vous de créer d'autres personnages. ;)</p><p id="r-607671" data-claire-element-id="607671">Comme vous le voyez, chaque personnage possède un <strong>atout</strong>. Cet atout devra être augmenté lorsque le personnage est amené à s'en servir (c'est-à-dire lorsque le magicien lance un sort ou que le guerrier subit des dégâts).</p><h5 id="r-des-nouvelles-fonctionnalites-pour-chaque-personnage" data-claire-element-id="607679">Des nouvelles fonctionnalités pour chaque personnage</h5><p id="r-607673" data-claire-element-id="607673">Étant donné qu'un magicien peut endormir un personnage, il est nécessaire d'implémenter deux nouvelles fonctionnalités :</p><ul id="r-607678" data-claire-element-id="607678"><li id="r-607675" data-claire-element-id="607675"><p id="r-607674" data-claire-element-id="607674">Celle consistant à savoir si un personnage est endormi ou non (nécessaire lorsque ledit personnage voudra en frapper un autre : s'il est endormi, ça ne doit pas être possible).</p></li><li id="r-607677" data-claire-element-id="607677"><p id="r-607676" data-claire-element-id="607676">Celle consistant à obtenir la date du réveil du personnage sous la forme « XX heures, YY minutes et ZZ secondes », qui s'affichera dans le cadre d'information du personnage s'il est endormi.</p></li></ul><h5 id="r-la-base-de-donnees-2" data-claire-element-id="607682">La base de données</h5><p id="r-607680" data-claire-element-id="607680">La structure de la BDD ne sera pas la même. En effet, chaque personnage aura un attribut en plus, et surtout, il faut savoir de quel personnage il s'agit (magicien ou guerrier). Nous allons donc créer une colonne <strong>type</strong> et une colonne <strong>atout</strong> (l'attribut qu'il a en plus). Une colonne <strong>timeEndormi</strong> devra aussi être créée pour stocker le <em>timestamp</em> auquel le personnage se réveillera s'il a été ensorcelé. Je vous propose donc cette nouvelle structure (j'ai juste ajouté trois nouveaux champs en fin de table) :</p><pre id="r-607681" data-claire-element-id="607681"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `personnages_v2` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `nom` varchar(50) COLLATE latin1_general_ci NOT NULL,
  `degats` tinyint(3) unsigned NOT NULL DEFAULT '0',
  `timeEndormi` int(10) unsigned NOT NULL DEFAULT '0',
  `type` enum('magicien','guerrier') COLLATE latin1_general_ci NOT NULL,
  `atout` tinyint(3) unsigned NOT NULL DEFAULT '0',
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci;</code></pre><h5 id="r-le-coup-de-pouce-du-demarrage" data-claire-element-id="607726">Le coup de pouce du démarrage</h5><p id="r-607683" data-claire-element-id="607683">Les modifications que je vous demande peuvent vous donner mal à la tête, c'est pourquoi je me propose de vous mettre sur la voie. Procédons classe par classe.</p><h6 id="r-le-personnage" data-claire-element-id="607691">Le personnage</h6><p id="r-607684" data-claire-element-id="607684">Là où il y a peut-être une difficulté, c'est pour déterminer l'attribut <code>$type</code>. En effet, où doit-on assigner cette valeur ? Qui doit le faire ?</p><p id="r-607685" data-claire-element-id="607685">Pour des raisons évidentes de risques de bugs, ce ne sera pas à l'utilisateur d'assigner la valeur « guerrier » ou « magicien » à cet attribut, mais à la classe elle-même. Cependant, il serait redondant dans chaque classe fille de <strong>Personnage</strong> de faire un <code data-claire-semantic="html+php">&lt;?php $this-&gt;type = 'magicien'</code> par exemple, alors on va le faire une bonne fois pour toute dans la classe <strong>Personnage</strong>.</p><div id="r-607687" data-claire-element-id="607687" data-claire-semantic="question"><p id="r-607686" data-claire-element-id="607686">Comment cela est-il possible ?</p></div><p id="r-607688" data-claire-element-id="607688">Grâce à une fonction bien pratique (nommée <a href="http://fr2.php.net/get_class">get_class()</a>), il est possible d'obtenir le nom d'une classe à partir d'une instance de cette classe. Par exemple, si on instancie une classe <code>Guerrier</code>, alors <code>get_class($instance)</code> renverra « Guerrier ». Ici, nous nous situons dans le constructeur de la classe <code>Personnage</code> : l'instance du personnage sera donc représentée par... <code>$this</code> ! Eh oui, <code>get_class($this)</code>, dans le constructeur de <code>Personnage</code>, ne renverra pas « Personnage », mais « Guerrier » ou « Magicien ». Pourquoi ? Car <code>get_class()</code> ne renvoie pas le nom de la classe dans laquelle elle est appelée, mais le nom de la classe instanciée par l'objet passé en argument. Or, l'instance <code>$this</code> n'est autre qu'une instance de <code>Guerrier</code> ou <code>Magicien</code>. ;)</p><aside id="r-607690" data-claire-element-id="607690" data-claire-semantic="information"><p id="r-607689" data-claire-element-id="607689">Pour des raisons pratiques, le type du personnage doit être en minuscules. Un petit appel à <a href="http://fr2.php.net/strtolower">strtolower()</a> sera donc indispensable.</p></aside><h6 id="r-le-magicien" data-claire-element-id="607698">Le magicien</h6><p id="r-607692" data-claire-element-id="607692">Qui dit nouvelle fonctionnalité dit nouvelle méthode. Votre classe <code>Magicien</code> devra donc implémenter une nouvelle méthode permettant de lancer un sort. Celle-ci devra vérifier plusieurs points :</p><ul id="r-607697" data-claire-element-id="607697"><li id="r-607694" data-claire-element-id="607694"><p id="r-607693" data-claire-element-id="607693">La cible à ensorceler n'est pas le magicien qui lance le sort.</p></li><li id="r-607696" data-claire-element-id="607696"><p id="r-607695" data-claire-element-id="607695">Le magicien possède encore de la magie (l'atout n'est pas à 0).</p></li></ul><h6 id="r-le-guerrier" data-claire-element-id="607725">Le guerrier</h6><p id="r-607699" data-claire-element-id="607699">Ce qu'on cherche à faire ici est <strong>modifier</strong> le comportement du personnage lorsqu'il subit des dégâts. Nous allons donc <strong>modifier</strong> la méthode qui se charge d'ajouter des dégâts au personnage. Cette méthode procédera de la sorte :</p><ul id="r-607706" data-claire-element-id="607706"><li id="r-607701" data-claire-element-id="607701"><p id="r-607700" data-claire-element-id="607700">Elle calculera d'abord la valeur de l'atout.</p></li><li id="r-607703" data-claire-element-id="607703"><p id="r-607702" data-claire-element-id="607702">Elle augmentera les dégâts en prenant soin de prendre en compte l'atout.</p></li><li id="r-607705" data-claire-element-id="607705"><p id="r-607704" data-claire-element-id="607704">Elle indiquera si le personnage a été frappé ou tué.</p></li></ul><div id="r-607708" data-claire-element-id="607708" data-claire-semantic="question"><p id="r-607707" data-claire-element-id="607707">Tu nous parles d'un atout depuis tout à l'heure, mais comment est-ce qu'on le détermine ?</p></div><p id="r-607709" data-claire-element-id="607709">L'atout du magicien et du guerrier se déterminent de la même façon :</p><ul id="r-607720" data-claire-element-id="607720"><li id="r-607711" data-claire-element-id="607711"><p id="r-607710" data-claire-element-id="607710">Si les dégâts sont compris entre 0 et 25, alors l'atout sera de 4.</p></li><li id="r-607713" data-claire-element-id="607713"><p id="r-607712" data-claire-element-id="607712">Si les dégâts sont compris entre 25 et 50, alors l'atout sera de 3.</p></li><li id="r-607715" data-claire-element-id="607715"><p id="r-607714" data-claire-element-id="607714">Si les dégâts sont compris entre 50 et 75, alors l'atout sera de 2.</p></li><li id="r-607717" data-claire-element-id="607717"><p id="r-607716" data-claire-element-id="607716">Si les dégâts sont compris entre 75 et 90, alors l'atout sera de 1.</p></li><li id="r-607719" data-claire-element-id="607719"><p id="r-607718" data-claire-element-id="607718">Sinon, il sera de 0.</p></li></ul><div id="r-607722" data-claire-element-id="607722" data-claire-semantic="question"><p id="r-607721" data-claire-element-id="607721">Comment sont-ils exploités ?</p></div><p id="r-607723" data-claire-element-id="607723">Du côté du guerrier, j'utilise une simple formule : la dose de dégâts reçu ne sera pas de 5, mais de <code>5 - $atout</code>. Du côté du magicien, là aussi j'utilise une simple formule : il endort sa victime pendant <code>($this-&gt;atout * 6) * 3600</code> secondes.</p><p id="r-607724" data-claire-element-id="607724"><a href="http://vyk12.alwaysdata.net/sdz/tp_poo_2/">Voir le résultat que vous devez obtenir</a><br/><em>Comme au précédent TP, le résultat comporte toutes les améliorations proposées en fin de chapitre.</em></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">
<span class="arrow"></span>
<span class="next">TP : Des personnages spécialisés</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
<span class="arrow"></span>
<span class="next">Ce que nous allons faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
<span class="next">Améliorations possibles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-27" data-claire-element-id="607751">Correction</h4><p id="r-607728" data-claire-element-id="607728">Nous allons maintenant corriger le TP. Les codes seront d'abord précédés d'explications pour bien mettre au clair ce qui était demandé.</p><p id="r-607729" data-claire-element-id="607729">Commençons d'abord par notre classe <code>Personnage</code>. Celle-ci devait implémenter deux nouvelles méthodes (sans compter les <em>getters</em> et <em>setters</em>) : <code>estEndormi()</code> et <code>reveil()</code>. Aussi il ne fallait pas oublier de modifier la méthode <code>frapper()</code> afin de bien vérifier que le personnage qui frappe n'était pas endormi ! Enfin, il fallait assigner la bonne valeur à l'attribut <code>$type</code> dans le constructeur.</p><aside id="r-607731" data-claire-element-id="607731" data-claire-semantic="error"><p id="r-607730" data-claire-element-id="607730">Il ne fallait pas mettre de <em>setter</em> pour l'attribut <code>$type</code>. En effet, le type d'un personnage est constant (un magicien ne se transforme pas en guerrier). Il est défini dans le constructeur et l'utilisateur ne pourra pas changer sa valeur (imaginez le non-sens qu'il y aurait si l'utilisateur mettait « magicien » à l'attribut <code>$type</code> d'un objet <code>Guerrier</code>).</p></aside><pre id="r-607732" data-claire-element-id="607732"><code data-claire-semantic="html+php">&lt;?php
abstract class Personnage
{
  protected $atout,
            $degats,
            $id,
            $nom,
            $timeEndormi,
            $type;
  
  const CEST_MOI = 1; // Constante renvoyée par la méthode `frapper` si on se frappe soit-même.
  const PERSONNAGE_TUE = 2; // Constante renvoyée par la méthode `frapper` si on a tué le personnage en le frappant.
  const PERSONNAGE_FRAPPE = 3; // Constante renvoyée par la méthode `frapper` si on a bien frappé le personnage.
  const PERSONNAGE_ENSORCELE = 4; // Constante renvoyée par la méthode `lancerUnSort` (voir classe Magicien) si on a bien ensorcelé un personnage.
  const PAS_DE_MAGIE = 5; // Constante renvoyée par la méthode `lancerUnSort` (voir classe Magicien) si on veut jeter un sort alors que la magie du magicien est à 0.
  const PERSO_ENDORMI = 6; // Constante renvoyée par la méthode `frapper` si le personnage qui veut frapper est endormi.
  
  public function __construct(array $donnees)
  {
    $this-&gt;hydrate($donnees);
    $this-&gt;type = strtolower(get_class($this));
  }
  
  public function estEndormi()
  {
    return $this-&gt;timeEndormi &gt; time();
  }
  
  public function frapper(Personnage $perso)
  {
    if ($perso-&gt;id == $this-&gt;id)
    {
      return self::CEST_MOI;
    }
    
    if ($this-&gt;estEndormi())
    {
      return self::PERSO_ENDORMI;
    }
    
    // On indique au personnage qu'il doit recevoir des dégâts.
    // Puis on retourne la valeur renvoyée par la méthode : self::PERSONNAGE_TUE ou self::PERSONNAGE_FRAPPE.
    return $perso-&gt;recevoirDegats();
  }
  
  public function hydrate(array $donnees)
  {
    foreach ($donnees as $key =&gt; $value)
    {
      $method = 'set'.ucfirst($key);
      
      if (method_exists($this, $method))
      {
        $this-&gt;$method($value);
      }
    }
  }
  
  public function nomValide()
  {
    return !empty($this-&gt;nom);
  }
  
  public function recevoirDegats($force)
  {
    $this-&gt;degats += 5;
    
    // Si on a 100 de dégâts ou plus, on supprime le personnage de la BDD.
    if ($this-&gt;degats &gt;= 100)
    {
      return self::PERSONNAGE_TUE;
    }
    
    // Sinon, on se contente de mettre à jour les dégâts du personnage.
    return self::PERSONNAGE_FRAPPE;
  }
  
  public function reveil()
  {
    $secondes = $this-&gt;timeEndormi;
    $secondes -= time();
    
    $heures = floor($secondes / 3600);
    $secondes -= $heures * 3600;
    $minutes = floor($secondes / 60);
    $secondes -= $minutes * 60;
    
    $heures .= $heures &lt;= 1 ? ' heure' : ' heures';
    $minutes .= $minutes &lt;= 1 ? ' minute' : ' minutes';
    $secondes .= $secondes &lt;= 1 ? ' seconde' : ' secondes';
    
    return $heures . ', ' . $minutes . ' et ' . $secondes;
  }
  
  public function atout()
  {
    return $this-&gt;atout;
  }
  
  public function degats()
  {
    return $this-&gt;degats;
  }
  
  public function id()
  {
    return $this-&gt;id;
  }
  
  public function nom()
  {
    return $this-&gt;nom;
  }
  
  public function timeEndormi()
  {
    return $this-&gt;timeEndormi;
  }
  
  public function type()
  {
    return $this-&gt;type;
  }
  
  public function setAtout($atout)
  {
    $atout = (int) $atout;
    
    if ($atout &gt;= 0 &amp;&amp; $atout &lt;= 100)
    {
      $this-&gt;atout = $atout;
    }
  }
  
  public function setDegats($degats)
  {
    $degats = (int) $degats;
    
    if ($degats &gt;= 0 &amp;&amp; $degats &lt;= 100)
    {
      $this-&gt;degats = $degats;
    }
  }
  
  public function setId($id)
  {
    $id = (int) $id;
    
    if ($id &gt; 0)
    {
      $this-&gt;id = $id;
    }
  }
  
  public function setNom($nom)
  {
    if (is_string($nom))
    {
      $this-&gt;nom = $nom;
    }
  }
  
  public function setTimeEndormi($time)
  {
    $this-&gt;timeEndormi = (int) $time;
  }
}</code></pre><p id="r-607733" data-claire-element-id="607733">Penchons-nous maintenant vers la classe <code>Guerrier</code>. Celle-ci devait modifier la méthode <code>recevoirDegats()</code> afin d'ajouter une parade lors d'une attaque.</p><pre id="r-607734" data-claire-element-id="607734"><code data-claire-semantic="html+php">&lt;?php
class Guerrier extends Personnage
{
  public function recevoirDegats($force)
  {
    if ($this-&gt;degats &gt;= 0 &amp;&amp; $this-&gt;degats &lt;= 25)
    {
      $this-&gt;atout = 4;
    }
    elseif ($this-&gt;degats &gt; 25 &amp;&amp; $this-&gt;degats &lt;= 50)
    {
      $this-&gt;atout = 3;
    }
    elseif ($this-&gt;degats &gt; 50 &amp;&amp; $this-&gt;degats &lt;= 75)
    {
      $this-&gt;atout = 2;
    }
    elseif ($this-&gt;degats &gt; 50 &amp;&amp; $this-&gt;degats &lt;= 90)
    {
      $this-&gt;atout = 1;
    }
    else
    {
      $this-&gt;atout = 0;
    }
    
    $this-&gt;degats += 5 - $this-&gt;atout;
    
    // Si on a 100 de dégâts ou plus, on supprime le personnage de la BDD.
    if ($this-&gt;degats &gt;= 100)
    {
      return self::PERSONNAGE_TUE;
    }
    
    // Sinon, on se contente de mettre à jour les dégâts du personnage.
    return self::PERSONNAGE_FRAPPE;
  }
}</code></pre><p id="r-607735" data-claire-element-id="607735">Enfin, il faut maintenant s'occuper du magicien. La classe le représentant devait ajouter une nouvelle fonctionnalité : celle de pouvoir lancer un sort.</p><pre id="r-607736" data-claire-element-id="607736"><code data-claire-semantic="html+php">&lt;?php
class Magicien extends Personnage
{
  public function lancerUnSort(Personnage $perso)
  {
    if ($this-&gt;degats &gt;= 0 &amp;&amp; $this-&gt;degats &lt;= 25)
    {
      $this-&gt;atout = 4;
    }
    elseif ($this-&gt;degats &gt; 25 &amp;&amp; $this-&gt;degats &lt;= 50)
    {
      $this-&gt;atout = 3;
    }
    elseif ($this-&gt;degats &gt; 50 &amp;&amp; $this-&gt;degats &lt;= 75)
    {
      $this-&gt;atout = 2;
    }
    elseif ($this-&gt;degats &gt; 50 &amp;&amp; $this-&gt;degats &lt;= 90)
    {
      $this-&gt;atout = 1;
    }
    else
    {
      $this-&gt;atout = 0;
    }
    
    if ($perso-&gt;id == $this-&gt;id)
    {
      return self::CEST_MOI;
    }
    
    if ($this-&gt;atout == 0)
    {
      return self::PAS_DE_MAGIE;
    }
    
    if ($this-&gt;estEndormi())
    {
      return self::PERSO_ENDORMI;
    }
    
    $perso-&gt;timeEndormi = time() + ($this-&gt;atout * 6) * 3600;
    
    return self::PERSONNAGE_ENSORCELE;
  }
}</code></pre><p id="r-607737" data-claire-element-id="607737">Passons maintenant au manager. Nous allons toujours garder un seul manager parce que nous gérons toujours des personnages ayant la même structure. Les modifications sont mineures : il faut juste ajouter les deux nouveaux champs dans les requêtes et instancier la bonne classe lorsqu'on récupère un personnage.</p><pre id="r-607738" data-claire-element-id="607738"><code data-claire-semantic="html+php">&lt;?php
class PersonnagesManager
{
  private $db; // Instance de PDO
  
  public function __construct($db)
  {
    $this-&gt;db = $db;
  }
  
  public function add(Personnage $perso)
  {
    $q = $this-&gt;db-&gt;prepare('INSERT INTO personnages_v2 SET nom = :nom, type = :type');
    
    $q-&gt;bindValue(':nom', $perso-&gt;nom());
    $q-&gt;bindValue(':type', $perso-&gt;type());
    
    $q-&gt;execute();
    
    $perso-&gt;hydrate(array(
      'id' =&gt; $this-&gt;db-&gt;lastInsertId(),
      'degats' =&gt; 0,
      'atout' =&gt; 0
    ));
  }
  
  public function count()
  {
    return $this-&gt;db-&gt;query('SELECT COUNT(*) FROM personnages_v2')-&gt;fetchColumn();
  }
  
  public function delete(Personnage $perso)
  {
    $this-&gt;db-&gt;exec('DELETE FROM personnages_v2 WHERE id = '.$perso-&gt;id());
  }
  
  public function exists($info)
  {
    if (is_int($info)) // On veut voir si tel personnage ayant pour id $info existe.
    {
      return (bool) $this-&gt;db-&gt;query('SELECT COUNT(*) FROM personnages_v2 WHERE id = '.$info)-&gt;fetchColumn();
    }
    
    // Sinon, c'est qu'on veut vérifier que le nom existe ou pas.
    
    $q = $this-&gt;db-&gt;prepare('SELECT COUNT(*) FROM personnages_v2 WHERE nom = :nom');
    $q-&gt;execute(array(':nom' =&gt; $info));
    
    return (bool) $q-&gt;fetchColumn();
  }
  
  public function get($info)
  {
    if (is_int($info))
    {
      $q = $this-&gt;db-&gt;query('SELECT id, nom, degats, timeEndormi, type, atout FROM personnages_v2 WHERE id = '.$info);
      $perso = $q-&gt;fetch(PDO::FETCH_ASSOC);
    }
    
    else
    {
      $q = $this-&gt;db-&gt;prepare('SELECT id, nom, degats, timeEndormi, type, atout FROM personnages_v2 WHERE nom = :nom');
      $q-&gt;execute(array(':nom' =&gt; $info));
      
      $perso = $q-&gt;fetch(PDO::FETCH_ASSOC);
    }
    
    switch ($perso['type'])
    {
      case 'guerrier': return new Guerrier($perso);
      case 'magicien': return new Magicien($perso);
      default: return null;
    }
  }
  
  public function getList($nom)
  {
    $persos = array();
    
    $q = $this-&gt;db-&gt;prepare('SELECT id, nom, degats, timeEndormi, type, atout FROM personnages_v2 WHERE nom &lt;&gt; :nom ORDER BY nom');
    $q-&gt;execute(array(':nom' =&gt; $nom));
    
    while ($donnees = $q-&gt;fetch(PDO::FETCH_ASSOC))
    {
      switch ($donnees['type'])
      {
        case 'guerrier': $persos[] = new Guerrier($donnees); break;
        case 'magicien': $persos[] = new Magicien($donnees); break;
      }
    }
    
    return $persos;
  }
  
  public function update(Personnage $perso)
  {
    $q = $this-&gt;db-&gt;prepare('UPDATE personnages_v2 SET degats = :degats, timeEndormi = :timeEndormi, atout = :atout WHERE id = :id');
    
    $q-&gt;bindValue(':degats', $perso-&gt;degats(), PDO::PARAM_INT);
    $q-&gt;bindValue(':timeEndormi', $perso-&gt;timeEndormi(), PDO::PARAM_INT);
    $q-&gt;bindValue(':atout', $perso-&gt;atout(), PDO::PARAM_INT);
    $q-&gt;bindValue(':id', $perso-&gt;id(), PDO::PARAM_INT);
    
    $q-&gt;execute();
  }
}</code></pre><p id="r-607739" data-claire-element-id="607739">Enfin, finissons par la page d'index qui a légèrement changé. Quelles sont les modifications ?</p><ul id="r-607748" data-claire-element-id="607748"><li id="r-607741" data-claire-element-id="607741"><p id="r-607740" data-claire-element-id="607740">Le formulaire doit proposer au joueur de choisir le type du personnage qu'il veut créer.</p></li><li id="r-607743" data-claire-element-id="607743"><p id="r-607742" data-claire-element-id="607742">Lorsqu'on crée un personnage, le script doit créer une instance de la classe désirée et non de <code>Personnage</code>.</p></li><li id="r-607745" data-claire-element-id="607745"><p id="r-607744" data-claire-element-id="607744">Lorsqu'on veut frapper un personnage, on vérifie que l'attaquant n'est pas endormi.</p></li><li id="r-607747" data-claire-element-id="607747"><p id="r-607746" data-claire-element-id="607746">Un lien permettant d'ensorceler un personnage doit être ajouté pour les magiciens ainsi que l'antidote qui va avec.</p></li></ul><pre id="r-607749" data-claire-element-id="607749"><code data-claire-semantic="html+php">&lt;?php
function chargerClasse($classe)
{
  require $classe . '.class.php';
}

spl_autoload_register('chargerClasse');

session_start();

if (isset($_GET['deconnexion']))
{
  session_destroy();
  header('Location: .');
  exit();
}

$db = new PDO('mysql:host=localhost;dbname=combats', 'root', '');
$db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);

$manager = new PersonnagesManager($db);

if (isset($_SESSION['perso'])) // Si la session perso existe, on restaure l'objet.
{
  $perso = $_SESSION['perso'];
}

if (isset($_POST['creer']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu créer un personnage.
{
  switch ($_POST['type'])
  {
    case 'magicien' :
      $perso = new Magicien(array('nom' =&gt; $_POST['nom']));
      break;
    
    case 'guerrier' :
      $perso = new Guerrier(array('nom' =&gt; $_POST['nom']));
      break;
    
    default :
      $message = 'Le type du personnage est invalide.';
      break;
  }
  
  if (isset($perso)) // Si le type du personnage est valide, on a créé un personnage.
  {
    if (!$perso-&gt;nomValide())
    {
      $message = 'Le nom choisi est invalide.';
      unset($perso);
    }
    elseif ($manager-&gt;exists($perso-&gt;nom()))
    {
      $message = 'Le nom du personnage est déjà pris.';
      unset($perso);
    }
    else
    {
      $manager-&gt;add($perso);
    }
  }
}

elseif (isset($_POST['utiliser']) &amp;&amp; isset($_POST['nom'])) // Si on a voulu utiliser un personnage.
{
  if ($manager-&gt;exists($_POST['nom'])) // Si celui-ci existe.
  {
    $perso = $manager-&gt;get($_POST['nom']);
  }
  else
  {
    $message = 'Ce personnage n\'existe pas !'; // S'il n'existe pas, on affichera ce message.
  }
}

elseif (isset($_GET['frapper'])) // Si on a cliqué sur un personnage pour le frapper.
{
  if (!isset($perso))
  {
    $message = 'Merci de créer un personnage ou de vous identifier.';
  }
  
  else
  {
    if (!$manager-&gt;exists((int) $_GET['frapper']))
    {
      $message = 'Le personnage que vous voulez frapper n\'existe pas !';
    }
    
    else
    {
      $persoAFrapper = $manager-&gt;get((int) $_GET['frapper']);
      $retour = $perso-&gt;frapper($persoAFrapper); // On stocke dans $retour les éventuelles erreurs ou messages que renvoie la méthode frapper.
      
      switch ($retour)
      {
        case Personnage::CEST_MOI :
          $message = 'Mais... pourquoi voulez-vous vous frapper ???';
          break;
        
        case Personnage::PERSONNAGE_FRAPPE :
          $message = 'Le personnage a bien été frappé !';
          
          $manager-&gt;update($perso);
          $manager-&gt;update($persoAFrapper);
          
          break;
        
        case Personnage::PERSONNAGE_TUE :
          $message = 'Vous avez tué ce personnage !';
          
          $manager-&gt;update($perso);
          $manager-&gt;delete($persoAFrapper);
          
          break;
        
        case Personnage::PERSO_ENDORMI :
          $message = 'Vous êtes endormi, vous ne pouvez pas frapper de personnage !';
          break;
      }
    }
  }
}

elseif (isset($_GET['ensorceler']))
{
  if (!isset($perso))
  {
    $message = 'Merci de créer un personnage ou de vous identifier.';
  }
  
  else
  {
    // Il faut bien vérifier que le personnage est un magicien.
    if ($perso-&gt;type() != 'magicien')
    {
      $message = 'Seuls les magiciens peuvent ensorceler des personnages !';
    }
    
    else
    {
      if (!$manager-&gt;exists((int) $_GET['ensorceler']))
      {
        $message = 'Le personnage que vous voulez frapper n\'existe pas !';
      }
      
      else
      {
        $persoAEnsorceler = $manager-&gt;get((int) $_GET['ensorceler']);
        $retour = $perso-&gt;lancerUnSort($persoAEnsorceler);
        
        switch ($retour)
        {
          case Personnage::CEST_MOI :
            $message = 'Mais... pourquoi voulez-vous vous ensorceler ???';
            break;
          
          case Personnage::PERSONNAGE_ENSORCELE :
            $message = 'Le personnage a bien été ensorcelé !';
            
            $manager-&gt;update($perso);
            $manager-&gt;update($persoAEnsorceler);
            
            break;
          
          case Personnage::PAS_DE_MAGIE :
            $message = 'Vous n\'avez pas de magie !';
            break;
          
          case Personnage::PERSO_ENDORMI :
            $message = 'Vous êtes endormi, vous ne pouvez pas lancer de sort !';
            break;
        }
      }
    }
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;TP : Mini jeu de combat - Version 2&lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;p&gt;Nombre de personnages créés : &lt;?php echo $manager-&gt;count(); ?&gt;&lt;/p&gt;
&lt;?php
if (isset($message)) // On a un message à afficher ?
{
  echo '&lt;p&gt;', $message, '&lt;/p&gt;'; // Si oui, on l'affiche
}

if (isset($perso)) // Si on utilise un personnage (nouveau ou pas).
{
?&gt;
    &lt;p&gt;&lt;a href=&quot;?deconnexion=1&quot;&gt;Déconnexion&lt;/a&gt;&lt;/p&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Mes informations&lt;/legend&gt;
      &lt;p&gt;
        Type : &lt;?php echo ucfirst($perso-&gt;type()); ?&gt;&lt;br /&gt;
        Nom : &lt;?php echo htmlspecialchars($perso-&gt;nom()); ?&gt;&lt;br /&gt;
        Dégâts : &lt;?php echo $perso-&gt;degats(); ?&gt;&lt;br /&gt;
&lt;?php
// On affiche l'atout du personnage suivant son type.
switch ($perso-&gt;type())
{
  case 'magicien' :
    echo 'Magie : ';
    break;
  
  case 'guerrier' :
    echo 'Protection : ';
    break;
}

echo $perso-&gt;atout();
?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
    
    &lt;fieldset&gt;
      &lt;legend&gt;Qui attaquer ?&lt;/legend&gt;
      &lt;p&gt;
&lt;?php
// On récupère tous les personnages par ordre alphabétique, dont le nom est différent de celui de notre personnage (on va pas se frapper nous-même :p).
$retourPersos = $manager-&gt;getList($perso-&gt;nom());

if (empty($retourPersos))
{
  echo 'Personne à frapper !';
}

else
{
  if ($perso-&gt;estEndormi())
  {
    echo 'Un magicien vous a endormi ! Vous allez vous réveiller dans ', $perso-&gt;reveil(), '.';
  }
  
  else
  {
    foreach ($retourPersos as $unPerso)
    {
      echo '&lt;a href=&quot;?frapper=', $unPerso-&gt;id(), '&quot;&gt;', htmlspecialchars($unPerso-&gt;nom()), '&lt;/a&gt; (dégâts : ', $unPerso-&gt;degats(), ' | type : ', $unPerso-&gt;type(), ')';
      
      // On ajoute un lien pour lancer un sort si le personnage est un magicien.
      if ($perso-&gt;type() == 'magicien')
      {
        echo ' | &lt;a href=&quot;?ensorceler=', $unPerso-&gt;id(), '&quot;&gt;Lancer un sort&lt;/a&gt;';
      }
      
      echo '&lt;br /&gt;';
    }
  }
}
?&gt;
      &lt;/p&gt;
    &lt;/fieldset&gt;
&lt;?php
}
else
{
?&gt;
    &lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
      &lt;p&gt;
        Nom : &lt;input type=&quot;text&quot; name=&quot;nom&quot; maxlength=&quot;50&quot; /&gt; &lt;input type=&quot;submit&quot; value=&quot;Utiliser ce personnage&quot; name=&quot;utiliser&quot; /&gt;&lt;br /&gt;
        Type :
        &lt;select name=&quot;type&quot;&gt;
          &lt;option value=&quot;magicien&quot;&gt;Magicien&lt;/option&gt;
          &lt;option value=&quot;guerrier&quot;&gt;Guerrier&lt;/option&gt;
        &lt;/select&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Créer ce personnage&quot; name=&quot;creer&quot; /&gt;
      &lt;/p&gt;
    &lt;/form&gt;
&lt;?php
}
?&gt;
  &lt;/body&gt;
&lt;/html&gt;
&lt;?php
if (isset($perso)) // Si on a créé un personnage, on le stocke dans une variable session afin d'économiser une requête SQL.
{
  $_SESSION['perso'] = $perso;
}</code></pre><p id="r-607750" data-claire-element-id="607750">Alors, vous commencez à comprendre toute la puissance de la POO et de l'héritage ? Avec une telle structure, vous pourrez à tout moment décider de créer un nouveau personnage très simplement ! Il vous suffit de créer une nouvelle classe, d'ajouter le type du personnage à l'énumération « type » en BDD et de modifier un petit peu le fichier <strong>index.php</strong> et votre personnage voit le jour ! :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
<span class="arrow"></span>
<span class="next">Ce que nous allons faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
<span class="next">Améliorations possibles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Amliorationspossibles"></a><h2>Améliorations possibles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">
<span class="next">Les méthodes magiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ameliorations-possibles-3" data-claire-element-id="607772">Améliorations possibles</h4><p id="r-607752" data-claire-element-id="607752">Comme au précédent TP, beaucoup d'améliorations sont possibles, à commencer par celles déjà exposées dans le chapitre dudit TP :</p><ul id="r-607769" data-claire-element-id="607769"><li id="r-607756" data-claire-element-id="607756"><p id="r-607753" data-claire-element-id="607753">Un système de <strong>niveau</strong>. Vous pourriez très bien assigner à chaque personnage un niveau de 1 à 100. Le personnage bénéficierait aussi d'une expérience allant de 0 à 100. Lorsque l'expérience atteint 100, le personnage passe au niveau suivant.</p><aside id="r-607755" data-claire-element-id="607755" data-claire-semantic="information"><p id="r-607754" data-claire-element-id="607754"><strong>Indice</strong> : le <strong>niveau</strong> et l'<strong>expérience</strong> deviendraient des caractéristiques du personnage, donc... Pas besoin de vous le dire, je suis sûr que vous savez ce que ça signifie !</p></aside></li><li id="r-607760" data-claire-element-id="607760"><p id="r-607757" data-claire-element-id="607757">Un système de <strong>force</strong>. La force du personnage pourrait augmenter en fonction de son niveau, les dégâts infligés à la victime seront donc plus importants. :pirate:</p><aside id="r-607759" data-claire-element-id="607759" data-claire-semantic="information"><p id="r-607758" data-claire-element-id="607758"><strong>Indice</strong> : de même, la <strong>force</strong> du personnage serait aussi une caractéristique du personnage.</p></aside></li><li id="r-607762" data-claire-element-id="607762"><p id="r-607761" data-claire-element-id="607761">Un système de <strong>limitation</strong>. En effet, un personnage peut en frapper autant qu'il veut dans un laps de temps indéfini. Pourquoi ne pas le limiter à 3 coups par jour ?</p></li><aside id="r-607764" data-claire-element-id="607764" data-claire-semantic="information"><p id="r-607763" data-claire-element-id="607763"><strong>Indice</strong> : il faudrait que vous stockiez le <strong>nombre de coups</strong> portés par le personnage, ainsi que la <strong>date du dernier coup porté</strong>. Cela ferait donc deux nouveaux champs en BDD, et deux nouvelles caractéristiques pour le personnage !</p></aside><li id="r-607766" data-claire-element-id="607766"><p id="r-607765" data-claire-element-id="607765">Un système de <strong>retrait de dégâts</strong>. Chaque jour, si l'utilisateur se connecte, il pourrait voir ses dégâts se soustraire de 10 par exemple.</p></li><aside id="r-607768" data-claire-element-id="607768" data-claire-semantic="information"><p id="r-607767" data-claire-element-id="607767"><strong>Indice</strong> : il faudrait stocker la date de dernière connexion. À chaque connexion, vous regarderiez cette date. Si elle est inférieure à 24h, alors vous ne feriez rien. Sinon, vous retireriez 10 de dégâts au personnage puis mettriez à jour cette date de dernière connexion.</p></aside></ul><p id="r-607770" data-claire-element-id="607770">Pour reprendre cet esprit, vous pouvez vous entraîner à créer d'autres personnages, comme une <strong>brute</strong> par exemple. Son atout dépendrait aussi de ses dégâts et viendrait augmenter sa force lors d'une attaque.</p><p id="r-607771" data-claire-element-id="607771">La seule différence avec le premier TP est l'apparition de nouveaux personnages, les seules améliorations différentes possibles sont donc justement la création de nouveaux personnages. Ainsi je vous encourage à imaginer tout un tas de différents personnages tous aussi farfelus les uns que les autres : cela vous fera grandement progresser et cela vous aidera à vous familiariser avec l'héritage !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">
<span class="next">Les méthodes magiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesmthodesmagiques"></a><h2>Les méthodes magiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
<span class="arrow"></span>
<span class="next">Améliorations possibles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
<span class="next">Le principe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607774" data-claire-element-id="607774">Nous allons terminer cette partie par un chapitre assez simple. Dans ce chapitre, nous allons nous pencher sur une possibilité que nous offre le langage : il s'agit des méthodes magiques. Ce sont de petites bricoles bien pratiques dans certains cas. :)</p>
</div><a name="Leprincipe"></a><h2>Le principe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">
<span class="arrow"></span>
<span class="next">Les méthodes magiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
<span class="next">Surcharger les attributs et méthodes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-principe-1" data-claire-element-id="607782">Le principe</h4><p id="r-607775" data-claire-element-id="607775">Vous devez sans doute vous poser une grande question à la vue du titre du chapitre : mais qu'est-ce que c'est qu'une méthode magique ? o_O</p><p id="r-607776" data-claire-element-id="607776">Une méthode magique est une méthode qui, si elle est présente dans votre classe, sera appelée lors de tel ou tel évènement. Si la méthode n'existe pas et que l’évènement est exécuté, aucun effet « spécial » ne sera ajouté, l’évènement s'exécutera normalement. Le but des méthodes magiques est d'intercepter un évènement, dire de faire ceci ou cela et retourner une valeur utile pour l’évènement si besoin il y a.</p><p id="r-607777" data-claire-element-id="607777">Bonne nouvelle : vous connaissez déjà une méthode magique ! :D</p><p id="r-607778" data-claire-element-id="607778">Si si, cherchez bien au fond de votre tête… Et oui, la méthode <code>__construct</code> est magique ! Comme nous l'avons vu plus haut, chaque méthode magique s'exécute au moment où un évènement est lancé. L’évènement qui appelle la méthode <code>__construct</code> est <strong>la création de l'objet</strong>.</p><p id="r-607779" data-claire-element-id="607779">Dans le même genre que <code>__construct</code> on peut citer <code>__destruct</code> qui, elle, sera appelée lors de la <strong>destruction de l'objet</strong>. Assez intuitif, mais voici un exemple au cas où :</p><pre id="r-607780" data-claire-element-id="607780"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public function __construct()
  {
    echo 'Construction de MaClasse';
  }
  
  public function __destruct()
  {
    echo 'Destruction de MaClasse';
  }
}

$obj = new MaClasse;
?&gt;</code></pre><p id="r-607781" data-claire-element-id="607781">Ainsi, vous verrez les deux messages écrits ci-dessus à la suite.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">
<span class="arrow"></span>
<span class="next">Les méthodes magiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
<span class="next">Surcharger les attributs et méthodes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Surchargerlesattributsetmthodes"></a><h2>Surcharger les attributs et méthodes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
<span class="arrow"></span>
<span class="next">Le principe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
<span class="next">Linéariser ses objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-surcharger-les-attributs-et-methodes" data-claire-element-id="607841">Surcharger les attributs et méthodes</h4><p id="r-607783" data-claire-element-id="607783">Parlons maintenant des méthodes magiques liées à la surcharge des attributs et méthodes.</p><div id="r-607785" data-claire-element-id="607785" data-claire-semantic="question"><p id="r-607784" data-claire-element-id="607784">Euh, deux secondes là… C'est quoi la « surcharge des attributs et méthodes » ??</p></div><p id="r-607786" data-claire-element-id="607786">Vous avez raison, il serait d'abord préférable d'expliquer ceci. La surcharge d'attributs ou méthodes consiste à prévoir le cas où l'on appelle un attribut ou méthode qui n'existe pas ou du moins, auquel on n'a pas accès (par exemple, si un attribut ou une méthode est privé(e)). Dans ce cas-là, on a… voyons… 6 méthodes magiques à notre disposition ! :)</p><h5 id="r-set-et-get" data-claire-element-id="607811">« __set » et « __get »</h5><p id="r-607787" data-claire-element-id="607787">Commençons par étudier ces deux méthodes magiques. Leur principe est le même, leur fonctionnement est à peu près semblable, c'est juste l'événement qui change.</p><p id="r-607788" data-claire-element-id="607788">Commençons par <code>__set</code>. Cette méthode est appelée lorsque l'on essaye d'assigner une valeur à un attribut auquel on n'a pas accès ou qui n'existe pas. Cette méthode prend deux paramètres : le premier est le nom de l'attribut auquel on a tenté d'assigner une valeur, le second paramètre est la valeur que l'on a tenté d'assigner à l'attribut. Cette méthode ne retourne rien. Vous pouvez simplement faire ce que bon vous semble. :)</p><p id="r-607789" data-claire-element-id="607789">Exemple :</p><pre id="r-607790" data-claire-element-id="607790"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $unAttributPrive;
  
  public function __set($nom, $valeur)
  {
    echo 'Ah, on a tenté d\'assigner à l\'attribut &lt;strong&gt;', $nom, '&lt;/strong&gt; la valeur &lt;strong&gt;', $valeur, '&lt;/strong&gt; mais c\'est pas possible !&lt;br /&gt;';
  }
}

$obj = new MaClasse;

$obj-&gt;attribut = 'Simple test';
$obj-&gt;unAttributPrive = 'Autre simple test';
?&gt;</code></pre><p id="r-607791" data-claire-element-id="607791">À la sortie s'affichera :</p><figure id="r-resultat-affiche-par-le-script-4" data-claire-element-id="607794"><img id="r-607792" data-claire-element-id="607792" src="medias/uploads.siteduzero.com_files_411001_412000_411697.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607795" data-claire-element-id="607795">Tenez, petit exercice, stockez dans un tableau tous les attributs (avec leurs valeurs) que nous avons essayé de modifier ou créer. :)</p><p id="r-607796" data-claire-element-id="607796">Solution :</p><pre id="r-607797" data-claire-element-id="607797"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $attributs = array();
  private $unAttributPrive;
  
  public function __set($nom, $valeur)
  {
    $this-&gt;attributs[$nom] = $valeur;
  }
  
  public function afficherAttributs()
  {
    echo '&lt;pre&gt;', print_r($this-&gt;attributs, true), '&lt;/pre&gt;';
  }
}

$obj = new MaClasse;

$obj-&gt;attribut = 'Simple test';
$obj-&gt;unAttributPrive = 'Autre simple test';

$obj-&gt;afficherAttributs();
?&gt;</code></pre><p id="r-607798" data-claire-element-id="607798">Pas compliqué à faire, mais cela permet de pratiquer un peu. ;)</p><p id="r-607799" data-claire-element-id="607799">Parlons maintenant de <code>__get</code>. Cette méthode est appelée lorsque l'on essaye d'accéder à un attribut qui n'existe pas ou auquel on n'a pas accès. Elle prend un paramètre : le nom de l'attribut auquel on a essayé d'accéder. Cette méthode peut retourner ce qu'elle veut (ce sera, en quelque sorte, la valeur de l'attribut inaccessible).</p><p id="r-607800" data-claire-element-id="607800">Exemple :</p><pre id="r-607801" data-claire-element-id="607801"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $unAttributPrive;
  
  public function __get($nom)
  {
    return 'Impossible d\'accéder à l\'attribut &lt;strong&gt;' . $nom . '&lt;/strong&gt;, désolé !&lt;br /&gt;';
  }
}

$obj = new MaClasse;

echo $obj-&gt;attribut;
echo $obj-&gt;unAttributPrive;
?&gt;</code></pre><p id="r-607802" data-claire-element-id="607802">Ce qui va afficher :</p><figure id="r-resultat-affiche-par-le-script-5" data-claire-element-id="607805"><img id="r-607803" data-claire-element-id="607803" src="medias/uploads.siteduzero.com_files_411001_412000_411699.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607806" data-claire-element-id="607806">Encore un exercice. :) <br/> Combinez l'exercice précédent en vérifiant si l'attribut auquel on a tenté d'accéder est contenu dans le tableau de stockage d'attributs. Si tel est le cas, on l'affiche, sinon, on ne fait rien. :)</p><p id="r-607807" data-claire-element-id="607807">Solution :</p><pre id="r-607808" data-claire-element-id="607808"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $attributs = array();
  private $unAttributPrive;
  
  public function __get($nom)
  {
    if (isset($this-&gt;attributs[$nom]))
    {
      return $this-&gt;attributs[$nom];
    }
  }
  
  public function __set($nom, $valeur)
  {
    $this-&gt;attributs[$nom] = $valeur;
  }
  
  public function afficherAttributs()
  {
    echo '&lt;pre&gt;', print_r($this-&gt;attributs, true), '&lt;/pre&gt;';
  }
}

$obj = new MaClasse;

$obj-&gt;attribut = 'Simple test';
$obj-&gt;unAttributPrive = 'Autre simple test';

echo $obj-&gt;attribut;
echo $obj-&gt;autreAtribut;
?&gt;</code></pre><aside id="r-607810" data-claire-element-id="607810" data-claire-semantic="information"><p id="r-607809" data-claire-element-id="607809">Étant donné que tous vos attributs doivent être privés, vous pouvez facilement les mettre en «lecture seule » grâce à <code>__get</code>. L'utilisateur aura accès aux attributs, mais ne pourra pas les modifier.</p></aside><h5 id="r-isset-et-unset" data-claire-element-id="607824">« __isset » et « __unset »</h5><p id="r-607812" data-claire-element-id="607812">La première méthode <code>__isset</code> est appelée lorsque l'on appelle la fonction <code><a href="http://fr3.php.net/isset">isset</a></code> sur un attribut qui n'existe pas ou auquel on n'a pas accès. Étant donné que la fonction initiale <code>isset</code> renvoie <code>true</code> ou <code>false</code>, la méthode magique <code>__isset</code> doit renvoyer un booléen. Cette méthode prend un paramètre : le nom de l'attribut que l'on a envoyé à la fonction <code>isset</code>. Vous pouvez par exemple utiliser la classe précédente en implémentant la méthode <code>__isset</code>, ce qui peut nous donner :</p><pre id="r-607813" data-claire-element-id="607813"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $attributs = array();
  private $unAttributPrive;
  
  public function __set($nom, $valeur)
  {
    $this-&gt;attributs[$nom] = $valeur;
  }
  
  public function __get($nom)
  {
    if (isset($this-&gt;attributs[$nom]))
    {
      return $this-&gt;attributs[$nom];
    }
  }
  
  public function __isset($nom)
  {
    return isset($this-&gt;attributs[$nom]);
  }
}

$obj = new MaClasse;

$obj-&gt;attribut = 'Simple test';
$obj-&gt;unAttributPrive = 'Autre simple test';

if (isset($obj-&gt;attribut))
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; existe !&lt;br /&gt;';
}
else
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; n\'existe pas !&lt;br /&gt;';
}

if (isset($obj-&gt;unAutreAttribut))
{
  echo 'L\'attribut &lt;strong&gt;unAutreAttribut&lt;/strong&gt; existe !';
}
else
{
  echo 'L\'attribut &lt;strong&gt;unAutreAttribut&lt;/strong&gt; n\'existe pas !';
}
?&gt;</code></pre><p id="r-607814" data-claire-element-id="607814">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-6" data-claire-element-id="607817"><img id="r-607815" data-claire-element-id="607815" src="medias/uploads.siteduzero.com_files_411001_412000_411700.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607818" data-claire-element-id="607818">Pour <code>__unset</code>, le principe est le même. Cette méthode est appelée lorsque l'on tente d'appeler la fonction <code>unset</code> sur un attribut inexistant ou auquel on n'a pas accès. On peut facilement implémenter <code>__unset</code> à la classe précédente de manière à supprimer l'entrée correspondante dans notre tableau <code>$attributs</code>. Cette méthode ne doit rien retourner.</p><pre id="r-607819" data-claire-element-id="607819"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private $attributs = array();
  private $unAttributPrive;
  
  public function __set($nom, $valeur)
  {
    $this-&gt;attributs[$nom] = $valeur;
  }
  
  public function __get($nom)
  {
    if (isset($this-&gt;attributs[$nom]))
    {
      return $this-&gt;attributs[$nom];
    }
  }
  
  public function __isset($nom)
  {
    return isset($this-&gt;attributs[$nom]);
  }
  
  public function __unset($nom)
  {
    if (isset($this-&gt;attributs[$nom]))
    {
      unset($this-&gt;attributs[$nom]);
    }
  }
}

$obj = new MaClasse;

$obj-&gt;attribut = 'Simple test';
$obj-&gt;unAttributPrive = 'Autre simple test';

if (isset($obj-&gt;attribut))
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; existe !&lt;br /&gt;';
}
else
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; n\'existe pas !&lt;br /&gt;';
}

unset($obj-&gt;attribut);

if (isset($obj-&gt;attribut))
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; existe !&lt;br /&gt;';
}
else
{
  echo 'L\'attribut &lt;strong&gt;attribut&lt;/strong&gt; n\'existe pas !&lt;br /&gt;';
}

if (isset($obj-&gt;unAutreAttribut))
{
  echo 'L\'attribut &lt;strong&gt;unAutreAttribut&lt;/strong&gt; existe !';
}
else
{
  echo 'L\'attribut &lt;strong&gt;unAutreAttribut&lt;/strong&gt; n\'existe pas !';
}
?&gt;</code></pre><p id="r-607820" data-claire-element-id="607820">Ce qui donnera :</p><figure id="r-resultat-affiche-par-le-script-7" data-claire-element-id="607823"><img id="r-607821" data-claire-element-id="607821" src="medias/uploads.siteduzero.com_files_411001_412000_411702.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><h5 id="r-finissons-par-call-et-callstatic" data-claire-element-id="607840">Finissons par « __call » et « __callStatic »</h5><aside id="r-607826" data-claire-element-id="607826" data-claire-semantic="warning"><p id="r-607825" data-claire-element-id="607825">Bien que la méthode magique <code>__call</code> soit disponible sous PHP 5.1, la méthode <code>__callStatic</code> n'est disponible que sous PHP 5.3 !</p></aside><p id="r-607827" data-claire-element-id="607827">Bien. Laissons de côté les attributs pour le moment et parler cette fois-ci des méthodes que l'on appelle alors qu'on n'y a pas accès (soit elle n'existe pas, soit elle est privée). La méthode <code>__call</code> sera appelée lorsque l'on essayera d'appeler une telle méthode. Elle prend deux arguments : le premier est le nom de la méthode que l'on a essayé d'appeler et le second est la liste des arguments qui lui ont été passés (sous forme de tableau).</p><p id="r-607828" data-claire-element-id="607828">Exemple :</p><pre id="r-607829" data-claire-element-id="607829"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public function __call($nom, $arguments)
  {
    echo 'La méthode &lt;strong&gt;', $nom, '&lt;/strong&gt; a été appelée alors qu\'elle n\'existe pas ! Ses arguments étaient les suivants : &lt;strong&gt;', implode($arguments, '&lt;/strong&gt;, &lt;strong&gt;'), '&lt;/strong&gt;';
  }
}

$obj = new MaClasse;

$obj-&gt;methode(123, 'test');
?&gt;</code></pre><p id="r-607830" data-claire-element-id="607830">Résultat :</p><figure id="r-resultat-affiche-par-le-script-8" data-claire-element-id="607833"><img id="r-607831" data-claire-element-id="607831" src="medias/uploads.siteduzero.com_files_411001_412000_411703.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607834" data-claire-element-id="607834">Et si on essaye d'appeler une méthode qui n'existe pas statiquement ? Et bien, erreur fatale ! Sauf si vous utilisez <code>__callStatic</code>. Cette méthode est appelée lorsque vous appelez une méthode dans un contexte statique alors qu'elle n'existe pas. La méthode magique <code>__callStatic</code> doit obligatoirement être <code>static</code> !</p><pre id="r-607835" data-claire-element-id="607835"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public function __call($nom, $arguments)
  {
    echo 'La méthode &lt;strong&gt;', $nom, '&lt;/strong&gt; a été appelée alors qu\'elle n\'existe pas ! Ses arguments étaient les suivants : &lt;strong&gt;', implode ($arguments, '&lt;/strong&gt;, &lt;strong&gt;'), '&lt;/strong&gt;&lt;br /&gt;';
  }
  
  public static function __callStatic($nom, $arguments)
  {
    echo 'La méthode &lt;strong&gt;', $nom, '&lt;/strong&gt; a été appelée dans un contexte statique alors qu\'elle n\'existe pas ! Ses arguments étaient les suivants : &lt;strong&gt;', implode ($arguments, '&lt;/strong&gt;, &lt;strong&gt;'), '&lt;/strong&gt;&lt;br /&gt;';
  }
}

$obj = new MaClasse;

$obj-&gt;methode(123, 'test');

MaClasse::methodeStatique(456, 'autre test');
?&gt;</code></pre><p id="r-607836" data-claire-element-id="607836">Résultat :</p><figure id="r-resultat-affiche-par-le-script-9" data-claire-element-id="607839"><img id="r-607837" data-claire-element-id="607837" src="medias/uploads.siteduzero.com_files_411001_412000_411704.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
<span class="arrow"></span>
<span class="next">Le principe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
<span class="next">Linéariser ses objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Linarisersesobjets"></a><h2>Linéariser ses objets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
<span class="arrow"></span>
<span class="next">Surcharger les attributs et méthodes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
<span class="next">Autres méthodes magiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-lineariser-ses-objets" data-claire-element-id="607881">Linéariser ses objets</h4><p id="r-607842" data-claire-element-id="607842">Voici un point important de ce chapitre sur lequel je voudrais m'arrêter un petit instant : la linéarisation des objets. Pour suivre cette partie, je vous recommande chaudement <a href="http://www.siteduzero.com/tutoriel-3-31574-conservons-nos-variables-avec-serialize.html">ce tutoriel</a> qui vous expliquera de manière générale ce qu'est la linéarisation et vous fera pratiquer sur des exemples divers. Lisez le jusqu'à la partie <strong>Encore plus fort !</strong>, et je vais mieux vous expliquer à partir de là !</p><h5 id="r-posons-le-probleme-2" data-claire-element-id="607863">Posons le problème</h5><p id="r-607843" data-claire-element-id="607843">Vous avez un système de sessions sur votre site avec une classe <code>Connexion</code>. Cette classe, comme son nom l'indique, aura pour rôle d'établir une connexion à la BDD. Vous aimeriez bien stocker l'objet créé dans une variable <code>$_SESSION</code> mais vous ne savez pas comment faire.</p><div id="r-607845" data-claire-element-id="607845" data-claire-semantic="question"><p id="r-607844" data-claire-element-id="607844">Ben si ! On fait <code>$_SESSION['connexion'] = $objetConnexion</code> et puis voilà !</p></div><p id="r-607846" data-claire-element-id="607846">Oui, ça fonctionne, mais savez-vous vraiment ce qui se passe quand vous effectuez une telle opération ? Ou plutôt, ce qui se passe <strong>à la fin du script</strong> ? En fait, à la fin du script, le tableau de session est <strong>linéarisé</strong> automatiquement. <strong>Linéariser</strong> signifie que l'on <em>transforme</em> une variable en chaîne de caractères selon un format bien précis. Cette chaîne de caractères pourra, quand on le souhaitera, être transformée dans l'autre sens (c'est-à-dire qu'on va restituer son état d'origine). Pour bien comprendre ce principe, on va linéariser nous-mêmes notre objet. Voici ce que nous allons faire :</p><ul id="r-607855" data-claire-element-id="607855"><li id="r-607848" data-claire-element-id="607848"><p id="r-607847" data-claire-element-id="607847">Création de l'objet (<code>$objetConnexion = new Connexion;</code>) ;</p></li><li id="r-607850" data-claire-element-id="607850"><p id="r-607849" data-claire-element-id="607849">transformation de l'objet en chaîne de caractères (<code>$_SESSION['connexion'] = serialize($objetConnexion);</code>) ;</p></li><li id="r-607852" data-claire-element-id="607852"><p id="r-607851" data-claire-element-id="607851">changement de page ;</p></li><li id="r-607854" data-claire-element-id="607854"><p id="r-607853" data-claire-element-id="607853">transformation de la chaîne de caractères en objet (<code>$objetConnexion = unserialize($_SESSION['connexion']);</code>).</p></li></ul><p id="r-607856" data-claire-element-id="607856">Des explications s'imposent. :D</p><p id="r-607857" data-claire-element-id="607857">Les nouveautés rencontrées ici sont l'apparition de deux nouvelles fonctions : <code><a href="http://fr3.php.net/serialize">serialize</a></code> et <code><a href="http://fr3.php.net/unserialize">unserialize</a></code>.</p><p id="r-607858" data-claire-element-id="607858">La première fonction, <code>serialize</code>, retourne l'objet passé en paramètre sous forme de chaîne de caractères. Vous vous demandez sans doutes comment on peut transformer un objet en chaîne de caractères : la réponse est toute simple. Quand on y réfléchit, un objet c'est quoi ? C'est un ensemble d'attributs, tout simplement. Les méthodes ne sont pas stockées dans l'objet, c'est la classe qui s'en occupe. Notre chaîne de caractères contiendra donc juste quelque chose comme : « Objet <code>MaClasse</code> contenant les attributs <code>unAttribut</code> qui vaut &quot;Hello world !&quot;, <code>autreAttribut</code> qui vaut &quot;Vive la linéarisation&quot;, <code>dernierAttribut</code> qui vaut &quot;Et un dernier pour la route !&quot; ». Ainsi, vous pourrez conserver votre objet dans une variable sous forme de chaîne de caractères. Si vous affichez cette chaîne par un <code>echo</code> par exemple, vous n'arriverez sans doute pas à déchiffrer l'objet, c'est normal, ce n'est pas aussi simple que la chaîne que j'ai montrée à titre d'exemple :p . Cette fonction est <strong>automatiquement</strong> appelée sur l'array <code>$_SESSION</code> à la fin du script, notre objet est donc automatiquement linéarisé à la fin du script. C'est uniquement dans un but didactique que nous linéarisons manuellement. ;)</p><p id="r-607859" data-claire-element-id="607859">La seconde fonction, <code>unserialize</code>, retourne la chaîne de caractères passée en paramètre sous forme d'objet. En gros, cette fonction lit la chaîne de caractères, crée une instance de la classe correspondante et assigne à chaque attribut la valeur qu'ils avaient. Ainsi, vous pourrez utiliser l'objet retourné (appel de méthodes, attributs et diverses opérations) comme avant. Cette fonction est automatiquement appelée dès le début du script pour restaurer le tableau de sessions précédemment enregistré dans le fichier. Sachez toutefois que si vous avez linéarisé un objet manuellement, il ne sera <strong>jamais</strong> restauré automatiquement.</p><div id="r-607861" data-claire-element-id="607861" data-claire-semantic="question"><p id="r-607860" data-claire-element-id="607860">Et quel est le rapport avec tes méthodes magiques ?</p></div><p id="r-607862" data-claire-element-id="607862">En fait, les fonctions citées ci-dessus (<code>serialize</code> et <code>unserialize</code>) ne se contentent pas de transformer le paramètre qu'on leur passe en autre chose : elles vérifient si, dans l'objet passé en paramètre (pour <code>serialize</code>), il y a une méthode <code>__sleep</code>, auquel cas elle est exécutée. Si c'est <code>unserialize</code> qui est appelée, la fonction vérifie si l'objet obtenu comporte une méthode <code>__wakeup</code>, auquel cas elle est appelée.</p><h5 id="r-serialize-et-sleep" data-claire-element-id="607869">« serialize » et « __sleep »</h5><p id="r-607864" data-claire-element-id="607864">La méthode magique <code>__sleep</code> est utilisée pour nettoyer l'objet ou pour sauver des attributs. Si la méthode magique <code>__sleep</code> n'existe pas, tous les attributs seront sauvés. Cette méthode doit renvoyer un tableau avec les noms des attributs à sauver. Par exemple, si vous voulez sauver <code>$serveur</code> et <code>$login</code>, la fonction devra retourner <code>array('serveur', 'login');</code>.</p><p id="r-607865" data-claire-element-id="607865">Voici ce que pourrait donner notre classe <code>Connexion</code> :</p><pre id="r-607866" data-claire-element-id="607866"><code data-claire-semantic="html+php">&lt;?php
class Connexion
{
  protected $pdo, $serveur, $utilisateur, $motDePasse, $dataBase;
  
  public function __construct($serveur, $utilisateur, $motDePasse, $dataBase)
  {
    $this-&gt;serveur = $serveur;
    $this-&gt;utilisateur = $utilisateur;
    $this-&gt;motDePasse = $motDePasse;
    $this-&gt;dataBase = $dataBase;
    
    $this-&gt;connexionBDD();
  }
  
  protected function connexionBDD()
  {
    $this-&gt;pdo = new PDO('mysql:host='.$this-&gt;serveur.';dbname='.$this-&gt;dataBase, $this-&gt;utilisateur, $this-&gt;motDePasse);
  }
  
  public function __sleep()
  {
    // Ici sont à placer des instructions à exécuter juste avant la linéarisation.
    // On retourne ensuite la liste des attributs qu'on veut sauver.
    return array('serveur', 'utilisateur', 'motDePasse', 'dataBase');
  }
}
?&gt;</code></pre><p id="r-607867" data-claire-element-id="607867">Ainsi, vous pourrez faire ceci :</p><pre id="r-607868" data-claire-element-id="607868"><code data-claire-semantic="html+php">&lt;?php
$connexion = new Connexion('localhost', 'root', '', 'tests');

$_SESSION['connexion'] = serialize($connexion);
?&gt;</code></pre><h5 id="r-unserialize-et-wakeup" data-claire-element-id="607880">« unserialize » et « __wakeup »</h5><p id="r-607870" data-claire-element-id="607870">Maintenant, nous allons simplement implémenter la fonction <code>__wakeup</code>. Qu'allons-nous mettre dedans ?</p><p id="r-607871" data-claire-element-id="607871">Rien de compliqué… Nous allons juste appeler la méthode <code>connexionBDD</code> qui se chargera de nous connecter à notre base de données puisque les identifiants, serveur et nom de la base ont été sauvegardés et ainsi restaurés à l'appel de la fonction <code>unserialize</code> !</p><pre id="r-607872" data-claire-element-id="607872"><code data-claire-semantic="html+php">&lt;?php
class Connexion
{
  protected $pdo, $serveur, $utilisateur, $motDePasse, $dataBase;
  
  public function __construct($serveur, $utilisateur, $motDePasse, $dataBase)
  {
    $this-&gt;serveur = $serveur;
    $this-&gt;utilisateur = $utilisateur;
    $this-&gt;motDePasse = $motDePasse;
    $this-&gt;dataBase = $dataBase;
    
    $this-&gt;connexionBDD();
  }
  
  protected function connexionBDD()
  {
    $this-&gt;pdo = new PDO('mysql:host='.$this-&gt;serveur.';dbname='.$this-&gt;dataBase, $this-&gt;utilisateur, $this-&gt;motDePasse);
  }
  
  public function __sleep()
  {
    return array('serveur', 'utilisateur', 'motDePasse', 'dataBase');
  }
  
  public function __wakeup()
  {
    $this-&gt;connexionBDD();
  }
}
?&gt;</code></pre><p id="r-607873" data-claire-element-id="607873">Pratique, hein ? :)</p><p id="r-607874" data-claire-element-id="607874">Maintenant que vous savez ce qui se passe quand vous enregistrez un objet dans une entrée de session, je vous autorise à ne plus appeler <code>serialize</code> et <code>unserialize</code>. ;)</p><p id="r-607875" data-claire-element-id="607875">Ainsi, ce code fonctionne parfaitement :</p><pre id="r-607876" data-claire-element-id="607876"><code data-claire-semantic="html+php">&lt;?php
session_start();

if (!isset($_SESSION['connexion']))
{
  $connexion = new Connexion('localhost', 'root', '', 'tests');
  $_SESSION['connexion'] = $connexion;
  
  echo 'Actualisez la page !';
}

else
{
  echo '&lt;pre&gt;';
  var_dump($_SESSION['connexion']); // On affiche les infos concernant notre objet.
  echo '&lt;/pre&gt;';
}
?&gt;</code></pre><p id="r-607877" data-claire-element-id="607877">Vous voyez donc, en testant ce code, que notre objet a bel et bien été sauvegardé comme il fallait, et que tous les attributs ont été sauvés. Bref, c'est magique. :magicien:</p><aside id="r-607879" data-claire-element-id="607879" data-claire-semantic="error"><p id="r-607878" data-claire-element-id="607878">Étant donné que notre objet est restauré automatiquement lors de l'appel de <code>session_start()</code>, la classe correspondante doit être déclarée <strong>avant</strong>, sinon l'objet désérialisé sera une instance de <code>__PHP_Incomplete_Class_Name</code>, classe qui ne contient aucune méthode (cela produira donc un objet inutile). Si vous avez un autoload qui chargera la classe automatiquement, il sera appelé.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
<span class="arrow"></span>
<span class="next">Surcharger les attributs et méthodes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
<span class="next">Autres méthodes magiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Autresmthodesmagiques"></a><h2>Autres méthodes magiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
<span class="arrow"></span>
<span class="next">Linéariser ses objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">
<span class="next">Les objets en profondeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-autres-methodes-magiques" data-claire-element-id="607918">Autres méthodes magiques</h4><p id="r-607882" data-claire-element-id="607882">Voici les dernières méthodes magiques que vous n'avez pas vues. Je parlerai ici de <code>__toString</code>, <code>__set_state</code> et <code>__invoke</code>.</p><h5 id="r-tostring-2" data-claire-element-id="607887">« __toString »</h5><p id="r-607883" data-claire-element-id="607883">La méthode magique <code>__toString</code> est appelée lorsque l'objet est amené à être converti en chaîne de caractères. Cette méthode doit retourner la chaîne de caractères souhaitée.</p><p id="r-607884" data-claire-element-id="607884">Exemple :</p><pre id="r-607885" data-claire-element-id="607885"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  protected $texte;
  
  public function __construct($texte)
  {
    $this-&gt;texte = $texte;
  }
  
  public function __toString()
  {
    return $this-&gt;texte;
  }
}

$obj = new MaClasse('Hello world !');

// Solution 1 : le cast

$texte = (string) $obj;
var_dump($texte); // Affiche : string(13) &quot;Hello world !&quot;.

// Solution 2 : directement dans un echo
echo $obj; // Affiche : Hello world !
?&gt;</code></pre><p id="r-607886" data-claire-element-id="607886">Pas mal, hein ? :)</p><h5 id="r-set-state" data-claire-element-id="607899">« __set_state »</h5><p id="r-607888" data-claire-element-id="607888">La méthode magique <code>__set_state</code> est appelée lorsque vous appelez la fonction <code><a href="http://fr2.php.net/var_export">var_export</a></code> en passant votre objet à exporter en paramètre. Cette fonction <code>var_export</code> a pour rôle d'exporter la variable passée en paramètre sous forme de code PHP (chaîne de caractères). Si vous ne spécifiez pas de méthode <code>__set_state</code> dans votre classe, une erreur fatale sera levée.</p><p id="r-607889" data-claire-element-id="607889">Notre méthode <code>__set_state</code> prend un paramètre, la liste des attributs ainsi que leur valeur dans un tableau associatif (<code data-claire-semantic="html+php">array('attribut' =&gt; 'valeur')</code>). Notre méthode magique devra retourner l'objet à exporter. Il faudra donc créer un nouvel objet et lui assigner les valeurs qu'on souhaite, puis le retourner.</p><aside id="r-607891" data-claire-element-id="607891" data-claire-semantic="error"><p id="r-607890" data-claire-element-id="607890">Ne jamais retourner <code>$this</code>, car cette variable n'existera pas dans cette méthode ! <code>var_export</code> reportera donc une valeur nulle.</p></aside><p id="r-607892" data-claire-element-id="607892">Puisque la fonction <code>var_export</code> retourne du code PHP valide, on peut utiliser la fonction <code><a href="http://fr2.php.net/eval">eval</a></code> qui exécute du code PHP sous forme de chaîne de caractères qu'on lui passe en paramètre.</p><p id="r-607893" data-claire-element-id="607893">Par exemple, pour retourner un objet en sauvant ses attributs, on pourrait faire :</p><pre id="r-607894" data-claire-element-id="607894"><code data-claire-semantic="html+php">&lt;?php
class Export
{
  protected $chaine1, $chaine2;
  
  public function __construct($param1, $param2)
  {
    $this-&gt;chaine1 = $param1;
    $this-&gt;chaine2 = $param2;
  }
  
  public function __set_state($valeurs) // Liste des attributs de l'objet en paramètre.
  {
    $obj = new Export($valeurs['chaine1'], $valeurs['chaine2']); // On crée un objet avec les attributs de l'objet que l'on veut exporter.
    return $obj; // on retourne l'objet créé.
  }
}

$obj1 = new Export('Hello ', 'world !');

eval('$obj2 = ' . var_export ($obj1, true) . ';'); // On crée un autre objet, celui-ci ayant les mêmes attributs que l'objet précédent.

echo '&lt;pre&gt;', print_r ($obj2, true), '&lt;/pre&gt;';
?&gt;</code></pre><p id="r-607895" data-claire-element-id="607895">Le code affichera donc :</p><figure id="r-resultat-affiche-par-le-script-10" data-claire-element-id="607898"><img id="r-607896" data-claire-element-id="607896" src="medias/uploads.siteduzero.com_files_411001_412000_411694.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><h5 id="r-invoke" data-claire-element-id="607909">« __invoke »</h5><aside id="r-607901" data-claire-element-id="607901" data-claire-semantic="error"><p id="r-607900" data-claire-element-id="607900">Disponible depuis PHP 5.3</p></aside><p id="r-607902" data-claire-element-id="607902">Que diriez-vous de pouvoir utiliser l'objet comme fonction ? Vous ne voyez pas ce que je veux dire ? Je comprends. :p</p><p id="r-607903" data-claire-element-id="607903">Voici un code qui illustrera bien le tout :</p><pre id="r-607904" data-claire-element-id="607904"><code data-claire-semantic="html+php">&lt;?php
$obj = new MaClasse;
$obj('Petit test'); // Utilisation de l'objet comme fonction.
?&gt;</code></pre><p id="r-607905" data-claire-element-id="607905">Essayez ce code et… BAM ! Une erreur fatale (c'est bizarre :-° ). Plus sérieusement, pour résoudre ce problème, nous allons devoir utiliser la méthode magique <code>__invoke</code>. Elle est appelée dès qu'on essaye d'utiliser l'objet comme fonction (comme on vient de faire). Cette méthode comprend autant de paramètres que d'arguments passés à la fonction.</p><p id="r-607906" data-claire-element-id="607906">Exemple :</p><pre id="r-607907" data-claire-element-id="607907"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public function __invoke($argument)
  {
    echo $argument;
  }
}

$obj = new MaClasse;

$obj(5); // Affiche « 5 ».
?&gt;</code></pre><p id="r-607908" data-claire-element-id="607908">Ce tutoriel portant sur les méthodes magiques s'arrête ici. Je parlerai de la méthode <code>__clone</code> lors du clonage d'objets en deuxième partie. ;)</p><h5 id="r-en-resume-190" data-claire-element-id="607917">En résumé</h5><ul id="r-607916" data-claire-element-id="607916"><li id="r-607911" data-claire-element-id="607911"><p id="r-607910" data-claire-element-id="607910">Les méthodes magiques sont des méthodes qui sont appelées automatiquement lorsqu'un certain évènement est déclenché.</p></li><li id="r-607913" data-claire-element-id="607913"><p id="r-607912" data-claire-element-id="607912">Toutes les méthodes magiques commencent par deux <em>underscores</em>, évitez donc d'appeler vos méthodes suivant ce même modèle.</p></li><li id="r-607915" data-claire-element-id="607915"><p id="r-607914" data-claire-element-id="607914">Les méthodes magiques dont vous vous servirez le plus souvent sont <code>__construct</code>, <code>__set</code>, <code>__get</code> et <code>__call</code>. Les autres sont plus « gadget » et vous les rencontrerez moins souvent.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
<span class="arrow"></span>
<span class="next">Linéariser ses objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">
<span class="next">Les objets en profondeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesobjetsenprofondeur"></a><h2>Les objets en profondeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
<span class="arrow"></span>
<span class="next">Autres méthodes magiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
<span class="next">Un objet, un identifiant</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-607921" data-claire-element-id="607921">Je suis sûr qu'actuellement, vous pensez que lorsqu'on fait un <code>$objet = new MaClasse;</code>, la variable <code>$objet</code> contient l'objet que l'on vient de créer. Personne ne peut vous en vouloir puisque personne ne vous a dit que c'était faux. Et bien je vous le dis maintenant : comme nous le verrons dans ce chapitre, une telle variable ne contient pas l'objet à proprement parler ! Ceci explique ainsi quelques comportements bizarres que peut avoir PHP avec les objets. Nous allons ainsi parler de la dernière méthode magique que je vous avais volontairement cachée.</p><p id="r-607922" data-claire-element-id="607922">Une fois tout ceci expliqué, nous jouerons un peu avec nos objets en les parcourant, à peu près de la même façon qu'avec des tableaux.</p><p id="r-607923" data-claire-element-id="607923">Comme vous le verrez, les objets réservent bien des surprises !</p>
</div><a name="Unobjetunidentifiant"></a><h2>Un objet, un identifiant</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">
<span class="arrow"></span>
<span class="next">Les objets en profondeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
<span class="next">Comparons nos objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-objet-un-identifiant" data-claire-element-id="607948">Un objet, un identifiant</h4><p id="r-607924" data-claire-element-id="607924">Je vais commencer cette partie en vous faisant une révélation : quand vous instanciez une classe, la variable stockant l'objet ne stocke en fait pas l'objet lui-même, mais un identifiant qui représente cet objet. C'est-à-dire qu'en faisant <code>$objet = new Classe;</code>, &quot;<code>$objet</code> ne contient pas l'objet lui-même, mais son identifiant unique. C'est un peu comme quand vous enregistrez des informations dans une BDD : la plupart du temps, vous avez un champ &quot;id&quot; unique qui représente l'entrée. Quand vous faites une requête SQL, vous sélectionnez l'élément en fonction de son id. Et bien là, c'est pareil : quand vous accédez à un attribut ou à une méthode de l'objet, PHP regarde l'identifiant contenu dans la variable, va chercher l'objet correspondant et effectue le traitement nécessaire. Il est très important que vous compreniez cette idée, sinon vous allez être complètement perdus pour la suite du chapitre.</p><p id="r-607925" data-claire-element-id="607925">Nous avons donc vu que la variable <code>$objet</code> contenait l'identifiant de l'objet qu'elle a instancié. Vérifions cela :</p><pre id="r-607926" data-claire-element-id="607926"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public $attribut1;
  public $attribut2;
}

$a = new MaClasse;

$b = $a; // On assigne à $b l'identifiant de $a, donc $a et $b représentent le même objet.

$a-&gt;attribut1 = 'Hello';
echo $b-&gt;attribut1; // Affiche Hello.

$b-&gt;attribut2 = 'Salut';
echo $a-&gt;attribut2; // Affiche Salut.
?&gt;</code></pre><p id="r-607927" data-claire-element-id="607927">Je commente plus en détail la ligne 10 pour ceux qui sont un peu perdus. Nous avons dit plus haut que <code>$a</code> ne contenait pas l'objet lui-même mais son identifiant (un identifiant d'objet). <code>$a</code> contient donc l'identifiant représentant l'objet créé. Ensuite, on assigne à <code>$b</code> la valeur de <code>$a</code>. Donc qu'est-ce que <code>$b</code> vaut maintenant ? Et bien la même chose que <code>$a</code>, à savoir <strong>l'identifiant qui représente l'objet</strong> ! <code>$a</code> et &quot;<code>$b</code> font donc référence <strong>à la même instance</strong>. ;)</p><p id="r-607928" data-claire-element-id="607928">Schématiquement, on peut représenter le code ci-dessus comme ceci :</p><figure id="r-exemple-de-consequences-des-identifiants-d-objet" data-claire-element-id="607931"><img id="r-607929" data-claire-element-id="607929" src="medias/uploads.siteduzero.com_files_238001_239000_238185.png" alt="Exemple de conséquences des identifiants d'objet"/><figcaption>Exemple de conséquences des identifiants d'objet</figcaption></figure><p id="r-607932" data-claire-element-id="607932">Comme vous le voyez sur l'image, en réalité, il n'y a qu'un seul objet, qu'un seul identifiant, mais deux variables contenant exactement le même identifiant d'objet. Tout ceci peut sembler abstrait, donc allez à votre rythme pour bien comprendre. ;)</p><p id="r-607933" data-claire-element-id="607933">Maintenant que l'on sait que ces variables ne contiennent pas d'objet mais un <strong>identifiant d'objet</strong>, vous êtes censés savoir que lorsqu'un objet est passé en paramètre à une fonction ou renvoyé par une autre, on ne passe pas une copie de l'objet mais une copie de son identifiant ! Ainsi, vous n'êtes pas obligé de passer l'objet en <a href="http://www.siteduzero.com/tutoriel-3-91013-allez-plus-loin-avec-les-variables.html#ss_part_1">référence</a>, car vous passerez une référence de l'identifiant de l'objet. Inutile, donc. ;)</p><p id="r-607934" data-claire-element-id="607934">Cependant un problème se pose. Comment faire pour copier un objet ? Comment faire pour pouvoir copier tous ses attributs et valeurs dans un nouvel objet <strong>unique</strong> ? On a vu qu'on ne pouvait pas faire un simple <code>$objet1 = $objet2</code> pour arriver à cela. Comme vous vous en doutez peut-être, c'est là qu'intervient le clonage d'objet.</p><p id="r-607935" data-claire-element-id="607935">Pour cloner un objet, c'est assez simple. Il faut utiliser le mot-clé <em>clone</em> juste avant l'objet à copier. Exemple :</p><pre id="r-607936" data-claire-element-id="607936"><code data-claire-semantic="html+php">&lt;?php
$copie = clone $origine; // On copie le contenu de l'objet $origine dans l'objet $copie.
?&gt;</code></pre><p id="r-607937" data-claire-element-id="607937">C'est aussi simple que cela. Ainsi les deux objets contiennent des identifiants différents : par conséquent, si on veut modifier l'un d'eux, on peut le faire sans qu'aucune propriété de l'autre ne soit modifiée. ;)</p><div id="r-607939" data-claire-element-id="607939" data-claire-semantic="question"><p id="r-607938" data-claire-element-id="607938">Il n'était pas question d'une méthode magique ?</p></div><p id="r-607940" data-claire-element-id="607940">Si si, j'y viens. :)</p><p id="r-607941" data-claire-element-id="607941">Lorsque vous clonez un objet, la méthode <code>__clone</code> de celui-ci sera appelée (du moins, si vous l'avez définie). Vous ne pouvez pas appeler cette méthode directement. C'est la méthode <code>__clone</code> de l'objet à cloner qui est appelée, pas la méthode <code>__clone</code> du nouvel objet créé. ;)</p><p id="r-607942" data-claire-element-id="607942">Vous pouvez utiliser cette méthode pour modifier certains attributs pour l'ancien objet, ou alors incrémenter un compteur d'instances par exemple.</p><pre id="r-607943" data-claire-element-id="607943"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  private static $instances = 0;
  
  public function __construct()
  {
    self::$instances++;
  }
  
  public function __clone()
  {
    self::$instances++;
  }
  
  public static function getInstances()
  {
    return self::$instances;
  }
}

$a = new MaClasse;
$b = clone $a;

echo 'Nombre d\'instances de MaClasse : ', MaClasse::getInstances();
?&gt;</code></pre><p id="r-607944" data-claire-element-id="607944">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-11" data-claire-element-id="607947"><img id="r-607945" data-claire-element-id="607945" src="medias/uploads.siteduzero.com_files_411001_412000_411706.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">
<span class="arrow"></span>
<span class="next">Les objets en profondeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
<span class="next">Comparons nos objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Comparonsnosobjets"></a><h2>Comparons nos objets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
<span class="arrow"></span>
<span class="next">Un objet, un identifiant</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
<span class="next">Parcourons nos objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-comparons-nos-objets" data-claire-element-id="607969">Comparons nos objets</h4><p id="r-607949" data-claire-element-id="607949">Nous allons maintenant voir comment comparer deux objets. C'est très simple, il suffit de faire comme vous avez toujours fait en comparant des chaînes de caractères ou des nombres. Voici un exemple :</p><pre id="r-607950" data-claire-element-id="607950"><code data-claire-semantic="html+php">&lt;?php
if ($objet1 == $objet2)
{
  echo '$objet1 et $objet2 sont identiques !';
}
else
{
  echo '$objet1 et $objet2 sont différents !';
}
?&gt;</code></pre><p id="r-607951" data-claire-element-id="607951">Cette partie ne vous expliquera donc pas comment comparer des objets mais la démarche que PHP exécute pour les comparer et les effets que ces comparaisons peuvent produire.</p><p id="r-607952" data-claire-element-id="607952">Reprenons le code ci-dessus. Pour que la condition renvoie <em>true</em>, il faut que <code>$objet1</code> et <code>$objet2</code> aient les mêmes attributs et les mêmes valeurs, mais également que les deux objets soient des instances de la même classe. C'est-à-dire que même s'ils ont les mêmes attributs et valeurs mais que l'un est une instance de la classe A et l'autre une instance de la classe B, la condition renverra <em>false</em>. ;)</p><p id="r-607953" data-claire-element-id="607953">Exemple :</p><pre id="r-607954" data-claire-element-id="607954"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public $attribut1;
  public $attribut2;
}

class B
{
  public $attribut1;
  public $attribut2;
}

$a = new A;
$a-&gt;attribut1 = 'Hello';
$a-&gt;attribut2 = 'Salut';

$b = new B;
$b-&gt;attribut1 = 'Hello';
$b-&gt;attribut2 = 'Salut';

$c = new A;
$c-&gt;attribut1 = 'Hello';
$c-&gt;attribut2 = 'Salut';

if ($a == $b)
{
  echo '$a == $b';
}
else
{
  echo '$a != $b';
}

echo '&lt;br /&gt;';

if ($a == $c)
{
  echo '$a == $c';
}
else
{
  echo '$a != $c';
}
?&gt;</code></pre><p id="r-607955" data-claire-element-id="607955">Si vous avez bien suivi, vous savez ce qui va s'afficher, à savoir :</p><figure id="r-resultat-affiche-par-le-script-12" data-claire-element-id="607958"><img id="r-607956" data-claire-element-id="607956" src="medias/uploads.siteduzero.com_files_411001_412000_411709.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607959" data-claire-element-id="607959">Comme on peut le voir, <code>$a</code> et <code>$b</code> ont beau avoir les mêmes attributs et les mêmes valeurs, ils ne sont pas identiques car ils ne sont pas des instances de la même classe. Par contre, <code>$a</code> et <code>$c</code> sont bien identiques. ;)</p><p id="r-607960" data-claire-element-id="607960">Parlons maintenant de l'opérateur <code>===</code> qui permet de vérifier que deux objets sont <strong>strictement</strong> identiques. Vous n'avez jamais entendu parler de cet opérateur ? <a href="http://www.siteduzero.com/tutoriel-3-91013-allez-plus-loin-avec-les-variables.html#ss_part_6">Allez lire ce tutoriel</a> !</p><p id="r-607961" data-claire-element-id="607961">Cet opérateur vérifiera si les deux objets font référence vers la même instance. Il vérifiera donc que les deux identifiants d'objets comparés sont les mêmes. Allez relire la première partie de ce chapitre si vous êtes un peu perdu. ;)</p><p id="r-607962" data-claire-element-id="607962">Faisons quelques tests pour être sûr que vous avez bien compris :</p><pre id="r-607963" data-claire-element-id="607963"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public $attribut1;
  public $attribut2;
}

$a = new A;
$a-&gt;attribut1 = 'Hello';
$a-&gt;attribut2 = 'Salut';

$b = new A;
$b-&gt;attribut1 = 'Hello';
$b-&gt;attribut2 = 'Salut';

$c = $a;

if ($a === $b)
{
  echo '$a === $b';
}
else
{
  echo '$a !== $b';
}

echo '&lt;br /&gt;';

if ($a === $c)
{
  echo '$a === $c';
}
else
{
  echo '$a !== $c';
}
?&gt;</code></pre><p id="r-607964" data-claire-element-id="607964">Et à l'écran s'affichera :</p><figure id="r-resultat-affiche-par-le-script-13" data-claire-element-id="607967"><img id="r-607965" data-claire-element-id="607965" src="medias/uploads.siteduzero.com_files_411001_412000_411710.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-607968" data-claire-element-id="607968">On voit donc que cette fois ci, la condition qui renvoyait <em>true</em> avec l'opérateur <code>==</code> renvoie maintenant <em>false</em>. <code>$a</code> et <code>$c</code> font référence à la même instance, la condition renvoie donc <em>true</em>. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
<span class="arrow"></span>
<span class="next">Un objet, un identifiant</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
<span class="next">Parcourons nos objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Parcouronsnosobjets"></a><h2>Parcourons nos objets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
<span class="arrow"></span>
<span class="next">Comparons nos objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">
<span class="next">Les interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-parcourons-nos-objets" data-claire-element-id="608023">Parcourons nos objets</h4><p id="r-607970" data-claire-element-id="607970">Finissons en douceur en voyant comment parcourir nos objets et en quoi cela consiste.</p><p id="r-607971" data-claire-element-id="607971">Le fait de parcourir un objet consiste à lire tous les attributs <strong>visibles</strong> de l'objet. Qu'est-ce que cela veut dire ? Ceci veut tout simplement dire que vous ne pourrez pas lire les attributs privés ou protégés en dehors de la classe, mais l'inverse est tout à fait possible. Je ne vous apprends rien de nouveau me direz-vous, mais ce rappel me semblait important pour vous expliquer le parcours d'objets.</p><p id="r-607972" data-claire-element-id="607972">Qui dit &quot;parcours&quot; dit &quot;boucle&quot;. Quelle boucle devrons-nous utiliser pour parcourir un objet ? Et bien la même boucle que pour parcourir un tableau... J'ai nommé <em>foreach</em> !</p><p id="r-607973" data-claire-element-id="607973">Son utilisation est d'une simplicité remarquable (du moins, si vous savez parcourir un tableau). Sa syntaxe est la même. Il y en a deux possibles :</p><ul id="r-607978" data-claire-element-id="607978"><li id="r-607975" data-claire-element-id="607975"><p id="r-607974" data-claire-element-id="607974"><code>foreach ($objet as $valeur)</code> : <code>$valeur</code> sera la valeur de l'attribut actuellement lu.</p></li><li id="r-607977" data-claire-element-id="607977"><p id="r-607976" data-claire-element-id="607976"><code>foreach ($objet as $attribut =&gt; $valeur)</code> : <code>$attribut</code> aura pour valeur le nom de l'attribut actuellement lu et <code>$valeur</code> sera sa valeur.</p></li></ul><p id="r-607979" data-claire-element-id="607979">Vous ne devez sans doute pas être dépaysé, il n'y a presque rien de nouveau. Comme je vous l'ai dit, la boucle <em>foreach</em> parcourt les attributs visibles. Faisons quelques tests. Normalement, vous devez déjà anticiper le bon résultat (enfin, j'espère, mais si vous êtes tombé à côté de la plaque ce n'est pas un drame ! ;) ).</p><pre id="r-607980" data-claire-element-id="607980"><code data-claire-semantic="html+php">&lt;?php
class MaClasse
{
  public $attribut1 = 'Premier attribut public';
  public $attribut2 = 'Deuxième attribut public';
  
  protected $attributProtege1 = 'Premier attribut protégé';
  protected $attributProtege2 = 'Deuxième attribut protégé';
  
  private $attributPrive1 = 'Premier attribut privé';
  private $attributPrive2 = 'Deuxième attribut privé';
  
  function listeAttributs()
  {
    foreach ($this as $attribut =&gt; $valeur)
    {
      echo '&lt;strong&gt;', $attribut, '&lt;/strong&gt; =&gt; ', $valeur, '&lt;br /&gt;';
    }
  }
}

class Enfant extends MaClasse
{
  function listeAttributs() // Redéclaration de la fonction pour que ce ne soit pas celle de la classe mère qui soit appelée.
  {
    foreach ($this as $attribut =&gt; $valeur)
    {
      echo '&lt;strong&gt;', $attribut, '&lt;/strong&gt; =&gt; ', $valeur, '&lt;br /&gt;';
    }
  }
}

$classe = new MaClasse;
$enfant = new Enfant;

echo '---- Liste les attributs depuis l\'intérieur de la classe principale ----&lt;br /&gt;';
$classe-&gt;listeAttributs();

echo '&lt;br /&gt;---- Liste les attributs depuis l\'intérieur de la classe enfant ----&lt;br /&gt;';
$enfant-&gt;listeAttributs();

echo '&lt;br /&gt;---- Liste les attributs depuis le script global ----&lt;br /&gt;';

foreach ($classe as $attribut =&gt; $valeur)
{
  echo '&lt;strong&gt;', $attribut, '&lt;/strong&gt; =&gt; ', $valeur, '&lt;br /&gt;';
}
?&gt;</code></pre><p id="r-607981" data-claire-element-id="607981">Ce qui affichera :</p><p id="r-607982" data-claire-element-id="607982">---- Liste les attributs depuis l'intérieur de la classe principale ----</p><ul id="r-607995" data-claire-element-id="607995"><li id="r-607984" data-claire-element-id="607984"><p id="r-607983" data-claire-element-id="607983"><strong>attribut1</strong> =&gt; Premier attribut public</p></li><li id="r-607986" data-claire-element-id="607986"><p id="r-607985" data-claire-element-id="607985"><strong>attribut2</strong> =&gt; Deuxième attribut public</p></li><li id="r-607988" data-claire-element-id="607988"><p id="r-607987" data-claire-element-id="607987"><strong>attributProtege1</strong> =&gt; Premier attribut protégé</p></li><li id="r-607990" data-claire-element-id="607990"><p id="r-607989" data-claire-element-id="607989"><strong>attributProtege2</strong> =&gt; Deuxième attribut protégé</p></li><li id="r-607992" data-claire-element-id="607992"><p id="r-607991" data-claire-element-id="607991"><strong>attributPrive1</strong> =&gt; Premier attribut privé</p></li><li id="r-607994" data-claire-element-id="607994"><p id="r-607993" data-claire-element-id="607993"><strong>attributPrive2</strong> =&gt; Deuxième attribut privé</p></li></ul><p id="r-607996" data-claire-element-id="607996">---- Liste les attributs depuis l'intérieur de la classe enfant ----</p><ul id="r-608005" data-claire-element-id="608005"><li id="r-607998" data-claire-element-id="607998"><p id="r-607997" data-claire-element-id="607997"><strong>attribut1</strong> =&gt; Premier attribut public</p></li><li id="r-608000" data-claire-element-id="608000"><p id="r-607999" data-claire-element-id="607999"><strong>attribut2</strong> =&gt; Deuxième attribut public</p></li><li id="r-608002" data-claire-element-id="608002"><p id="r-608001" data-claire-element-id="608001"><strong>attributProtege1</strong> =&gt; Premier attribut protégé</p></li><li id="r-608004" data-claire-element-id="608004"><p id="r-608003" data-claire-element-id="608003"><strong>attributProtege2</strong> =&gt; Deuxième attribut protégé</p></li></ul><p id="r-608006" data-claire-element-id="608006">---- Liste les attributs depuis le script global ----</p><ul id="r-608011" data-claire-element-id="608011"><li id="r-608008" data-claire-element-id="608008"><p id="r-608007" data-claire-element-id="608007"><strong>attribut1</strong> =&gt; Premier attribut public</p></li><li id="r-608010" data-claire-element-id="608010"><p id="r-608009" data-claire-element-id="608009"><strong>attribut2</strong> =&gt; Deuxième attribut public</p></li></ul><p id="r-608012" data-claire-element-id="608012">J'ai volontairement terminé ce chapitre par le parcours d'objets. Pourquoi ? Car dans le prochain chapitre nous verrons comment modifier le comportement de l'objet quand il est parcouru grâce aux <strong>interfaces</strong> ! Celles-ci permettent de réaliser beaucoup de choses pratiques, mais je ne vous en dis pas plus. :)</p><h5 id="r-en-resume-191" data-claire-element-id="608022">En résumé</h5><ul id="r-608021" data-claire-element-id="608021"><li id="r-608014" data-claire-element-id="608014"><p id="r-608013" data-claire-element-id="608013">Une variable ne contient jamais d'objet à proprement parler, mais leurs identifiants.</p></li><li id="r-608016" data-claire-element-id="608016"><p id="r-608015" data-claire-element-id="608015">Pour dupliquer un objet, l'opérateur <code>=</code> n'a donc pas l'effet désiré : il faut <strong>cloner</strong> l'objet grâce à l'opérateur <code>clone</code>.</p></li><li id="r-608018" data-claire-element-id="608018"><p id="r-608017" data-claire-element-id="608017">Pour comparer deux objets, l'opérateur <code>==</code> vérifie que les deux objets sont issus de la même classe et que les valeurs de chaque attribut sont identiques, tandis que l'opérateur <code>===</code> vérifie que les deux identifiants d'objet sont les mêmes.</p></li><li id="r-608020" data-claire-element-id="608020"><p id="r-608019" data-claire-element-id="608019">Il est possible de parcourir un objet grâce la structure <code>foreach</code> : ceci aura pour effet de lister tous les attributs auxquels la structure a accès (par exemple, si la structure est située à l'extérieur de la classe, seuls les attributs publics seront listés).</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
<span class="arrow"></span>
<span class="next">Comparons nos objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">
<span class="next">Les interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesinterfaces"></a><h2>Les interfaces</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
<span class="arrow"></span>
<span class="next">Parcourons nos objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
<span class="next">Présentation et création d&#039;interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608025" data-claire-element-id="608025">Si, dans l'une de vos méthodes, on vous passe un objet quelconque, il vous est impossible de savoir si vous pouvez invoquer telle ou telle méthode sur ce dernier pour la simple et bonne raison que vous n'êtes pas totalement sûr que ces méthodes existent. En effet, si vous ne connaissez pas la classe dont l'objet est l'instance, vous ne pouvez pas vérifier l'existence de ces méthodes.</p><p id="r-608026" data-claire-element-id="608026">En PHP, il existe un moyen d'imposer une <strong>structure</strong> à nos classes, c'est-à-dire d'obliger certaines classes à implémenter certaines méthodes. Pour y arriver, nous allons nous servir des <strong>interfaces</strong>. Une fois toute la théorie posée, nous allons nous servir d'interfaces pré-définies afin de jouer un petit peu avec nos objets.</p>
</div><a name="Prsentationetcrationd039interfaces"></a><h2>Présentation et création d&#039;interfaces</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">
<span class="arrow"></span>
<span class="next">Les interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
<span class="next">Hériter ses interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-presentation-et-creation-d-interfaces" data-claire-element-id="608059">Présentation et création d'interfaces</h4><h5 id="r-le-role-d-une-interface" data-claire-element-id="608028">Le rôle d'une interface</h5><p id="r-608027" data-claire-element-id="608027">Techniquement, une interface est une classe entièrement abstraite. Son rôle est de décrire un comportement à notre objet. Les interfaces ne doivent pas être confondues avec l'héritage : l'héritage représente un sous-ensemble (exemple : un magicien est un sous-ensemble d'un personnage). Ainsi, une voiture et un personnage n'ont aucune raison d'hériter d'une même classe. Par contre, une voiture et un personnage peuvent tous les deux se déplacer, donc une interface représentant ce point commun pourra être créée.</p><h5 id="r-creer-une-interface-3" data-claire-element-id="608038">Créer une interface</h5><p id="r-608029" data-claire-element-id="608029">Une interface se déclare avec le mot-clé <code>interface</code>, suivi du nom de l'interface, suivi d'une paire d'accolades. C'est entre ces accolades que vous listerez des méthodes. Par exemple, voici une interface pouvant représenter le point commun évoqué ci-dessus :</p><pre id="r-608030" data-claire-element-id="608030"><code data-claire-semantic="html+php">&lt;?php
interface Movable
{
  public function move($dest);
}
?&gt;</code></pre><ol id="r-608037" data-claire-element-id="608037"><li id="r-608032" data-claire-element-id="608032"><p id="r-608031" data-claire-element-id="608031">Toutes les méthodes présentes dans une interface doivent être publiques.</p></li><li id="r-608034" data-claire-element-id="608034"><p id="r-608033" data-claire-element-id="608033">Une interface ne peut pas lister de méthodes abstraites ou finales.</p></li><li id="r-608036" data-claire-element-id="608036"><p id="r-608035" data-claire-element-id="608035">Une interface ne peut pas avoir le même nom qu'une classe et vice-versa.</p></li></ol><h5 id="r-implementer-une-interface" data-claire-element-id="608055">Implémenter une interface</h5><p id="r-608039" data-claire-element-id="608039">Cette interface étant toute seule, elle est un peu inutile. Il va donc falloir <em>implémenter</em> l'interface à notre classe grâce au mot-clé <code>implements</code> ! La démarche à exécuter est comme quand on faisait hériter une classe d'une autre, à savoir :</p><pre id="r-608040" data-claire-element-id="608040"><code data-claire-semantic="html+php">&lt;?php
class Personnage implements Movable
{

}
?&gt;</code></pre><p id="r-608041" data-claire-element-id="608041">Essayez ce code et... observez le résultat :</p><figure id="r-resultat-affiche-par-le-script-14" data-claire-element-id="608044"><img id="r-608042" data-claire-element-id="608042" src="medias/uploads.siteduzero.com_files_411001_412000_411712.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-608045" data-claire-element-id="608045">Et oui, une erreur fatale est générée car notre classe <code>Personnage</code> n'a pas implémenté la méthode présente dans l'interface <code>Movable</code>. Pour que ce code ne génère aucune erreur, il faut qu'il y ait au minimum ce code :</p><pre id="r-608046" data-claire-element-id="608046"><code data-claire-semantic="html+php">&lt;?php
class Personnage implements Movable
{
  public function move($dest)
  {
  
  }
}
?&gt;</code></pre><p id="r-608047" data-claire-element-id="608047">Et là... l'erreur a disparu !</p><aside id="r-608049" data-claire-element-id="608049" data-claire-semantic="information"><p id="r-608048" data-claire-element-id="608048">Vous pouvez très bien, dans votre classe, définir une méthode comme étant abstraite ou finale. ;)</p></aside><p id="r-608050" data-claire-element-id="608050">Si vous héritez une classe et que vous implémentez une interface, alors vous devez d'abord spécifier la classe à hériter avec le mot-clé <code>extends</code><strong>puis</strong> les interfaces à implémenter avec le mot-clé <code>implements</code>.</p><aside id="r-608052" data-claire-element-id="608052" data-claire-semantic="information"><p id="r-608051" data-claire-element-id="608051">Une interface vous oblige à écrire toutes ses méthodes, mais vous pouvez en rajouter autant que vous voulez. ;)</p></aside><p id="r-608053" data-claire-element-id="608053">Vous pouvez très bien implémenter plus d'une interface par classe, <strong>à condition que celles-ci n'aient aucune méthode portant le même nom</strong> ! Exemple :</p><pre id="r-608054" data-claire-element-id="608054"><code data-claire-semantic="html+php">&lt;?php
interface iA
{
  public function test1();
}

interface iB
{
  public function test2();
}

class A implements iA, iB
{
  // Pour ne générer aucune erreur, il va falloir écrire les méthodes de iA et de iB.
  
  public function test1()
  {
  
  }
  
  public function test2()
  {
  
  }
}
?&gt;</code></pre><h5 id="r-les-constantes-d-interfaces" data-claire-element-id="608058">Les constantes d'interfaces</h5><p id="r-608056" data-claire-element-id="608056">Les constantes d'interfaces fonctionnent exactement comme les constantes de classes. Elles ne peuvent être écrasées par des classes qui implémentent l'interface. Exemple :</p><pre id="r-608057" data-claire-element-id="608057"><code data-claire-semantic="html+php">&lt;?php
interface iInterface
{
  const MA_CONSTANTE = 'Hello !';
}

echo iInterface::MA_CONSTANTE; // Affiche Hello !

class MaClasse implements iInterface
{

}

echo MaClasse::MA_CONSTANTE; // Affiche Hello !
?&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">
<span class="arrow"></span>
<span class="next">Les interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
<span class="next">Hériter ses interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Hritersesinterfaces"></a><h2>Hériter ses interfaces</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
<span class="arrow"></span>
<span class="next">Présentation et création d&#039;interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
<span class="next">Interfaces prédéfinies</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-heriter-ses-interfaces" data-claire-element-id="608065">Hériter ses interfaces</h4><p id="r-608060" data-claire-element-id="608060">Comme pour les classes, vous pouvez hériter vos interfaces grâce à l'opérateur <code>extends</code>. Vous ne pouvez réécrire ni une méthode ni une constante qui a déjà été listée dans l'interface parente. Exemple :</p><pre id="r-608061" data-claire-element-id="608061"><code data-claire-semantic="html+php">&lt;?php
interface iA
{
  public function test1();
}

interface iB extends iA
{
  public function test1 ($param1, $param2); // Erreur fatale : impossible de réécrire cette méthode.
}

interface iC extends iA
{
  public function test2();
}

class MaClasse implements iC
{
  // Pour ne générer aucune erreur, on doit écrire les méthodes de iC et aussi de iA.
  
  public function test1()
  {
  
  }
  
  public function test2()
  {
  
  }
}
?&gt;</code></pre><p id="r-608062" data-claire-element-id="608062">Contrairement aux classes, les interfaces peuvent hériter de plusieurs interfaces à la fois. Il vous suffit de séparer leur nom par une virgule. Exemple :</p><pre id="r-608063" data-claire-element-id="608063"><code data-claire-semantic="html+php">&lt;?php
interface iA
{
  public function test1();
}

interface iB
{
  public function test2();
}

interface iC extends iA, iB
{
  public function test3();
}
?&gt;</code></pre><p id="r-608064" data-claire-element-id="608064">Dans cet exemple, si on imagine une classe implémentant iC, celle-ci devra implémenter les trois méthodes <code>test1</code>, <code>test2</code> et <code>test3</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
<span class="arrow"></span>
<span class="next">Présentation et création d&#039;interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
<span class="next">Interfaces prédéfinies</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Interfacesprdfinies"></a><h2>Interfaces prédéfinies</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
<span class="arrow"></span>
<span class="next">Hériter ses interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">
<span class="next">Les exceptions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-interfaces-predefinies" data-claire-element-id="608142">Interfaces prédéfinies</h4><p id="r-608066" data-claire-element-id="608066">Nous allons maintenant aborder les interfaces prédéfinies. Grâce à certaines, nous allons pouvoir modifier le comportement de nos objets ou réaliser plusieurs choses pratiques. Il y a beaucoup d'interfaces prédéfinies, je ne vous les présenterai pas toutes, seulement quatre d'entre elles. Déjà, avec celles-ci, nous allons pouvoir réaliser de belles choses, et puis vous êtes libres de lire la documentation pour découvrir toutes les interfaces. Nous allons essayer ici de créer un « tableau-objet ».</p><h5 id="r-l-interface-iterator" data-claire-element-id="608087">L'interface <code>Iterator</code></h5><p id="r-608067" data-claire-element-id="608067">Commençons d'abord par l'interface <code>Iterator</code>. Si votre classe implémente cette interface, alors vous pourrez modifier le comportement de votre objet lorsqu'il est parcouru. Cette interface comporte 5 méthodes :</p><ul id="r-608078" data-claire-element-id="608078"><li id="r-608069" data-claire-element-id="608069"><p id="r-608068" data-claire-element-id="608068"><code>current</code> : renvoie l'élément courant ;</p></li><li id="r-608071" data-claire-element-id="608071"><p id="r-608070" data-claire-element-id="608070"><code>key</code> : retourne la clé de l'élément courant ;</p></li><li id="r-608073" data-claire-element-id="608073"><p id="r-608072" data-claire-element-id="608072"><code>next</code> : déplace le pointeur sur l'élément suivant ;</p></li><li id="r-608075" data-claire-element-id="608075"><p id="r-608074" data-claire-element-id="608074"><code>rewind</code> : remet le pointeur sur le premier élément ;</p></li><li id="r-608077" data-claire-element-id="608077"><p id="r-608076" data-claire-element-id="608076"><code>valid</code> : vérifie si la position courante est valide.</p></li></ul><p id="r-608079" data-claire-element-id="608079">En écrivant ces méthodes, on pourra renvoyer la valeur qu'on veut, et pas forcément la valeur de l'attribut actuellement lu. Imaginons qu'on ait un attribut qui soit un array. On pourrait très bien créer un petit script qui, au lieu de parcourir l'objet, parcourt le tableau ! Je vous laisse essayer. Vous aurez besoin d'un attribut <code>$position</code> qui stocke la position actuelle. ;)</p><p id="r-608080" data-claire-element-id="608080">Correction :</p><pre id="r-608081" data-claire-element-id="608081"><code data-claire-semantic="html+php">&lt;?php
class MaClasse implements Iterator
{
  private $position = 0;
  private $tableau = array('Premier élément', 'Deuxième élément', 'Troisième élément', 'Quatrième élément', 'Cinquième élément');
  
  /**
   * Retourne l'élément courant du tableau.
   */
  public function current()
  {
    return $this-&gt;tableau[$this-&gt;position];
  }
  
  /**
   * Retourne la clé actuelle (c'est la même que la position dans notre cas).
   */
  public function key()
  {
    return $this-&gt;position;
  }
  
  /**
   * Déplace le curseur vers l'élément suivant.
   */
  public function next()
  {
    $this-&gt;position++;
  }
  
  /**
   * Remet la position du curseur à 0.
   */
  public function rewind()
  {
    $this-&gt;position = 0;
  }
  
  /**
   * Permet de tester si la position actuelle est valide.
   */
  public function valid()
  {
    return isset($this-&gt;tableau[$this-&gt;position]);
  }
}

$objet = new MaClasse;

foreach ($objet as $key =&gt; $value)
{
  echo $key, ' =&gt; ', $value, '&lt;br /&gt;';
}
?&gt;</code></pre><p id="r-608082" data-claire-element-id="608082">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-15" data-claire-element-id="608085"><img id="r-608083" data-claire-element-id="608083" src="medias/uploads.siteduzero.com_files_411001_412000_411713.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-608086" data-claire-element-id="608086">Alors, pratique non ? :)</p><h5 id="r-l-interface-seekableiterator" data-claire-element-id="608096">L'interface <code>SeekableIterator</code></h5><p id="r-608088" data-claire-element-id="608088">Cette interface hérite de l'interface <code>Iterator</code>, on n'aura donc pas besoin d'implémenter les deux à notre classe. ;)</p><p id="r-608089" data-claire-element-id="608089"><code>SeekableIterator</code> ajoute une méthode à la liste des méthodes d'<code>Iterator</code> : la méthode <code>seek</code>. Cette méthode permet de placer le curseur interne à une position précise. Elle demande donc un argument : la position du curseur à laquelle il faut le placer. Je vous déconseille de modifier directement l'attribut <code>$position</code> afin d'assigner directement la valeur de l'argument à <code>$position</code>. En effet, qui vous dit que la valeur de l'argument est une position valide ?</p><p id="r-608090" data-claire-element-id="608090">Je vous laisse réfléchir quant à l'implémentation de cette méthode. Voici la correction (j'ai repris la dernière classe) :</p><pre id="r-608091" data-claire-element-id="608091"><code data-claire-semantic="html+php">&lt;?php
class MaClasse implements SeekableIterator
{
  private $position = 0;
  private $tableau = array('Premier élément', 'Deuxième élément', 'Troisième élément', 'Quatrième élément', 'Cinquième élément');
  
  /**
   * Retourne l'élément courant du tableau.
   */
  public function current()
  {
    return $this-&gt;tableau[$this-&gt;position];
  }
  
  /**
   * Retourne la clé actuelle (c'est la même que la position dans notre cas).
   */
  public function key()
  {
    return $this-&gt;position;
  }
  
  /**
   * Déplace le curseur vers l'élément suivant.
   */
  public function next()
  {
    $this-&gt;position++;
  }
  
  /**
   * Remet la position du curseur à 0.
   */
  public function rewind()
  {
    $this-&gt;position = 0;
  }
  
  /**
   * Déplace le curseur interne.
   */
  public function seek($position)
  {
    $anciennePosition = $this-&gt;position;
    $this-&gt;position = $position;
    
    if (!$this-&gt;valid())
    {
      trigger_error('La position spécifiée n\'est pas valide', E_USER_WARNING);
      $this-&gt;position = $anciennePosition;
    }
  }
  
  /**
   * Permet de tester si la position actuelle est valide.
   */
  public function valid()
  {
    return isset($this-&gt;tableau[$this-&gt;position]);
  }
}

$objet = new MaClasse;

foreach ($objet as $key =&gt; $value)
{
  echo $key, ' =&gt; ', $value, '&lt;br /&gt;';
}

$objet-&gt;seek(2);
echo '&lt;br /&gt;', $objet-&gt;current();
?&gt;</code></pre><p id="r-608092" data-claire-element-id="608092">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-16" data-claire-element-id="608095"><img id="r-608093" data-claire-element-id="608093" src="medias/uploads.siteduzero.com_files_411001_412000_411715.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><h5 id="r-l-interface-arrayaccess" data-claire-element-id="608115">L'interface <code>ArrayAccess</code></h5><p id="r-608097" data-claire-element-id="608097">Nous allons enfin, grâce à cette interface, pouvoir placer des crochets à la suite de notre objet avec la clé à laquelle accéder, comme sur un vrai tableau ! L'interface <code>ArrayAccess</code> liste quatre méthodes :</p><ul id="r-608106" data-claire-element-id="608106"><li id="r-608099" data-claire-element-id="608099"><p id="r-608098" data-claire-element-id="608098"><code>offsetExists</code> : méthode qui vérifiera l'existence de la clé entre crochets lorsque l'objet est passé à la fonction <code>isset</code> ou <code>empty</code> (cette valeur entre crochet est passé à la méthode en paramètre) ;</p></li><li id="r-608101" data-claire-element-id="608101"><p id="r-608100" data-claire-element-id="608100"><code>offsetGet</code> : méthode appelée lorsqu'on fait un simple <code>$obj['clé']</code>. La valeur 'clé' est donc passée à la méthode <code>offsetGet</code> ;</p></li><li id="r-608103" data-claire-element-id="608103"><p id="r-608102" data-claire-element-id="608102"><code>offsetSet</code> : méthode appelée lorsqu'on assigne une valeur à une entrée. Cette méthode reçoit donc deux arguments, la valeur de la clé et la valeur qu'on veut lui assigner.</p></li><li id="r-608105" data-claire-element-id="608105"><p id="r-608104" data-claire-element-id="608104"><code>offsetUnset</code> : méthode appelée lorsqu'on appelle la fonction <code>unset</code> sur l'objet avec une valeur entre crochets. Cette méthode reçoit un argument, la valeur qui est mise entre les crochets.</p></li></ul><p id="r-608107" data-claire-element-id="608107">Maintenant, votre mission est d'implémenter cette interface et de gérer l'attribut <code>$tableau</code> grâce aux quatre méthodes. C'est parti ! ;)</p><p id="r-608108" data-claire-element-id="608108">Correction :</p><pre id="r-608109" data-claire-element-id="608109"><code data-claire-semantic="html+php">&lt;?php
class MaClasse implements SeekableIterator, ArrayAccess
{
  private $position = 0;
  private $tableau = array('Premier élément', 'Deuxième élément', 'Troisième élément', 'Quatrième élément', 'Cinquième élément');
  
  
  /* MÉTHODES DE L'INTERFACE SeekableIterator */
  
  
  /**
   * Retourne l'élément courant du tableau.
   */
  public function current()
  {
    return $this-&gt;tableau[$this-&gt;position];
  }
  
  /**
   * Retourne la clé actuelle (c'est la même que la position dans notre cas).
   */
  public function key()
  {
    return $this-&gt;position;
  }
  
  /**
   * Déplace le curseur vers l'élément suivant.
   */
  public function next()
  {
    $this-&gt;position++;
  }
  
  /**
   * Remet la position du curseur à 0.
   */
  public function rewind()
  {
    $this-&gt;position = 0;
  }
  
  /**
   * Déplace le curseur interne.
   */
  public function seek($position)
  {
    $anciennePosition = $this-&gt;position;
    $this-&gt;position = $position;
    
    if (!$this-&gt;valid())
    {
      trigger_error('La position spécifiée n\'est pas valide', E_USER_WARNING);
      $this-&gt;position = $anciennePosition;
    }
  }
  
  /**
   * Permet de tester si la position actuelle est valide.
   */
  public function valid()
  {
    return isset($this-&gt;tableau[$this-&gt;position]);
  }
  
  
  /* MÉTHODES DE L'INTERFACE ArrayAccess */
  
  
  /**
   * Vérifie si la clé existe.
   */
  public function offsetExists($key)
  {
    return isset($this-&gt;tableau[$key]);
  }
  
  /**
   * Retourne la valeur de la clé demandée.
   * Une notice sera émise si la clé n'existe pas, comme pour les vrais tableaux.
   */
  public function offsetGet($key)
  {
    return $this-&gt;tableau[$key];
  }
  
  /**
   * Assigne une valeur à une entrée.
   */
  public function offsetSet($key, $value)
  {
    $this-&gt;tableau[$key] = $value;
  }
  
  /**
   * Supprime une entrée et émettra une erreur si elle n'existe pas, comme pour les vrais tableaux.
   */
  public function offsetUnset($key)
  {
    unset($this-&gt;tableau[$key]);
  }
}

$objet = new MaClasse;

echo 'Parcours de l\'objet...&lt;br /&gt;';
foreach ($objet as $key =&gt; $value)
{
  echo $key, ' =&gt; ', $value, '&lt;br /&gt;';
}

echo '&lt;br /&gt;Remise du curseur en troisième position...&lt;br /&gt;';
$objet-&gt;seek(2);
echo 'Élément courant : ', $objet-&gt;current(), '&lt;br /&gt;';

echo '&lt;br /&gt;Affichage du troisième élément : ', $objet[2], '&lt;br /&gt;';
echo 'Modification du troisième élément... ';
$objet[2] = 'Hello world !';
echo 'Nouvelle valeur : ', $objet[2], '&lt;br /&gt;&lt;br /&gt;';

echo 'Destruction du quatrième élément...&lt;br /&gt;';
unset($objet[3]);

if (isset($objet[3]))
{
  echo '$objet[3] existe toujours... Bizarre...';
}
else
{
  echo 'Tout se passe bien, $objet[3] n\'existe plus !';
}
?&gt;</code></pre><p id="r-608110" data-claire-element-id="608110">Ce qui affiche :</p><figure id="r-resultat-affiche-par-le-script-17" data-claire-element-id="608113"><img id="r-608111" data-claire-element-id="608111" src="medias/uploads.siteduzero.com_files_411001_412000_411716.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-608114" data-claire-element-id="608114">Alors, on se rapproche vraiment du comportement d'un tableau, n'est-ce pas ? On peut faire tout ce qu'on veut, comme sur un tableau ! Enfin, il manque juste un petit quelque chose pour que ce soit absolument parfait...</p><h5 id="r-l-interface-countable" data-claire-element-id="608123">L'interface <code>Countable</code></h5><p id="r-608116" data-claire-element-id="608116">Et voici la dernière interface que je vous présenterai. Elle contient une méthode : la méthode <code>count</code>. Celle-ci doit obligatoirement renvoyer un entier qui sera la valeur renvoyée par la fonction <code>count</code> appelée sur notre objet. Cette méthode n'est pas bien compliquée à implémenter, il suffit juste de retourner le nombre d'entrées de notre tableau. ;)</p><p id="r-608117" data-claire-element-id="608117">Correction :</p><pre id="r-608118" data-claire-element-id="608118"><code data-claire-semantic="html+php">&lt;?php
class MaClasse implements SeekableIterator, ArrayAccess, Countable
{
  private $position = 0;
  private $tableau = array('Premier élément', 'Deuxième élément', 'Troisième élément', 'Quatrième élément', 'Cinquième élément');
  
  
  /* MÉTHODES DE L'INTERFACE SeekableIterator */
  
  
  /**
   * Retourne l'élément courant du tableau.
   */
  public function current()
  {
    return $this-&gt;tableau[$this-&gt;position];
  }
  
  /**
   * Retourne la clé actuelle (c'est la même que la position dans notre cas).
   */
  public function key()
  {
    return $this-&gt;position;
  }
  
  /**
   * Déplace le curseur vers l'élément suivant.
   */
  public function next()
  {
    $this-&gt;position++;
  }
  
  /**
   * Remet la position du curseur à 0.
   */
  public function rewind()
  {
    $this-&gt;position = 0;
  }
  
  /**
   * Déplace le curseur interne.
   */
  public function seek($position)
  {
    $anciennePosition = $this-&gt;position;
    $this-&gt;position = $position;
    
    if (!$this-&gt;valid())
    {
      trigger_error('La position spécifiée n\'est pas valide', E_USER_WARNING);
      $this-&gt;position = $anciennePosition;
    }
  }
  
  /**
   * Permet de tester si la position actuelle est valide.
   */
  public function valid()
  {
    return isset($this-&gt;tableau[$this-&gt;position]);
  }
  
  
  /* MÉTHODES DE L'INTERFACE ArrayAccess */
  
  
  /**
   * Vérifie si la clé existe.
   */
  public function offsetExists($key)
  {
    return isset($this-&gt;tableau[$key]);
  }
  
  /**
   * Retourne la valeur de la clé demandée.
   * Une notice sera émise si la clé n'existe pas, comme pour les vrais tableaux.
   */
  public function offsetGet($key)
  {
    return $this-&gt;tableau[$key];
  }
  
  /**
   * Assigne une valeur à une entrée.
   */
  public function offsetSet($key, $value)
  {
    $this-&gt;tableau[$key] = $value;
  }
  
  /**
   * Supprime une entrée et émettra une erreur si elle n'existe pas, comme pour les vrais tableaux.
   */
  public function offsetUnset($key)
  {
    unset($this-&gt;tableau[$key]);
  }
  
  
  /* MÉTHODES DE L'INTERFACE Countable */
  
  
  /**
   * Retourne le nombre d'entrées de notre tableau.
   */
  public function count()
  {
    return count($this-&gt;tableau);
  }
}

$objet = new MaClasse;

echo 'Parcours de l\'objet...&lt;br /&gt;';
foreach ($objet as $key =&gt; $value)
{
  echo $key, ' =&gt; ', $value, '&lt;br /&gt;';
}

echo '&lt;br /&gt;Remise du curseur en troisième position...&lt;br /&gt;';
$objet-&gt;seek(2);
echo 'Élément courant : ', $objet-&gt;current(), '&lt;br /&gt;';

echo '&lt;br /&gt;Affichage du troisième élément : ', $objet[2], '&lt;br /&gt;';
echo 'Modification du troisième élément... ';
$objet[2] = 'Hello world !';
echo 'Nouvelle valeur : ', $objet[2], '&lt;br /&gt;&lt;br /&gt;';

echo 'Actuellement, mon tableau comporte ', count($objet), ' entrées&lt;br /&gt;&lt;br /&gt;';

echo 'Destruction du quatrième élément...&lt;br /&gt;';
unset($objet[3]);

if (isset($objet[3]))
{
  echo '$objet[3] existe toujours... Bizarre...';
}
else
{
  echo 'Tout se passe bien, $objet[3] n\'existe plus !';
}

echo '&lt;br /&gt;&lt;br /&gt;Maintenant, il n\'en comporte plus que ', count($objet), ' !';
?&gt;</code></pre><p id="r-608119" data-claire-element-id="608119">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-18" data-claire-element-id="608122"><img id="r-608120" data-claire-element-id="608120" src="medias/uploads.siteduzero.com_files_411001_412000_411812.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><h5 id="r-bonus-la-classe-arrayiterator" data-claire-element-id="608129">Bonus : la classe <code>ArrayIterator</code></h5><p id="r-608124" data-claire-element-id="608124">Je dois vous avouer quelque chose : la classe que nous venons de créer pour pouvoir créer des « objets-tableaux » existe déjà. En effet, PHP possède nativement une classe nommée <code>ArrayIterator</code>. Comme notre précédente classe, celle-ci implémente les quatre interfaces qu'on a vues.</p><div id="r-608126" data-claire-element-id="608126" data-claire-semantic="question"><p id="r-608125" data-claire-element-id="608125">Mais pourquoi tu nous as fais faire tout ça ?!</p></div><p id="r-608127" data-claire-element-id="608127">Pour vous faire pratiquer, tiens. :)</p><p id="r-608128" data-claire-element-id="608128">Sachez que réécrire des classes ou fonctions natives de PHP est un <strong>excellent</strong> exercice (et c'est valable pour tous les langages de programmation). Je ne vais pas m'attarder sur cette classe, étant donné qu'elle s'utilise exactement comme la nôtre. Elle possède les mêmes méthodes, à une différence près : cette classe implémente un constructeur qui accepte un tableau en guise d'argument. Comme vous l'aurez deviné, c'est ce tableau qui sera « transformé » en objet. Ainsi, si vous faites un <code>echo $monInstanceArrayIterator['cle']</code>, alors à l'écran s'affichera l'entrée qui a pour clé <code>cle</code> du tableau passé en paramètre. ;)</p><h5 id="r-en-resume-192" data-claire-element-id="608141">En résumé</h5><ul id="r-608140" data-claire-element-id="608140"><li id="r-608131" data-claire-element-id="608131"><p id="r-608130" data-claire-element-id="608130">Une interface représente un <strong>comportement</strong>.</p></li><li id="r-608133" data-claire-element-id="608133"><p id="r-608132" data-claire-element-id="608132">Les interfaces ne sont autre que des classes 100% abstraites.</p></li><li id="r-608135" data-claire-element-id="608135"><p id="r-608134" data-claire-element-id="608134">Une interface s'utilise dans une classe grâce au mot-clé <code>implements</code>.</p></li><li id="r-608137" data-claire-element-id="608137"><p id="r-608136" data-claire-element-id="608136">Il est possibles d'hériter ses interfaces grâce au mot-clé <code>extends</code>.</p></li><li id="r-608139" data-claire-element-id="608139"><p id="r-608138" data-claire-element-id="608138">Il existe tout un panel d'interfaces pré-définies vous permettant de réaliser tout un tas de fonctionnalités intéressantes, comme la création « d'objets-tableaux ».</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
<span class="arrow"></span>
<span class="next">Hériter ses interfaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">
<span class="next">Les exceptions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesexceptions"></a><h2>Les exceptions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
<span class="arrow"></span>
<span class="next">Interfaces prédéfinies</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
<span class="next">Une différente gestion des erreurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608144" data-claire-element-id="608144">Actuellement, vous connaissez les erreurs fatales, les alertes, les erreurs d'analyse ou encore les notices. Nous allons découvrir dans ce chapitre une façon différente de gérer les erreurs. Nous allons, en quelque sorte, créer <strong>nos propres types d'erreurs</strong>. Les <em>exceptions</em> sont des erreurs assez différentes qui ne fonctionnent pas de la même manière. Comme vous le verrez, cette nouvelle façon de gérer ses erreurs est assez pratique. Par exemple, vous pouvez <strong>attraper</strong> l'erreur pour l'afficher comme vous voulez plutôt que d'avoir un fameux et plutôt laid <strong>Warning</strong>.</p><p id="r-608145" data-claire-element-id="608145">Cela ne s'arrêtera pas là. Puisque la gestion d'erreurs est assez importante sur un site, je dédie une partie de ce chapitre au moyen de gérer ses erreurs facilement et proprement, que ce soit les erreurs que vous connaissez déjà ou les exceptions.</p>
</div><a name="Unediffrentegestiondeserreurs"></a><h2>Une différente gestion des erreurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">
<span class="arrow"></span>
<span class="next">Les exceptions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
<span class="next">Des exceptions spécialisées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-une-differente-gestion-des-erreurs" data-claire-element-id="608176">Une différente gestion des erreurs</h4><p id="r-608146" data-claire-element-id="608146">Les exceptions, comme nous l'avons évoqué dans l'introduction de ce chapitre, sont une façon différente de gérer les erreurs. Celles-ci sont en fait des erreurs lancées par PHP lorsque quelque chose qui ne va pas est survenu. Nous allons commencer par lancer nos propres exceptions. Pour cela, on va devoir s'intéresser à la classe <code>Exception</code>.</p><h5 id="r-lancer-une-exception-2" data-claire-element-id="608161">Lancer une exception</h5><p id="r-608147" data-claire-element-id="608147">Une exception peut être lancée depuis n'importe où dans le code. Quand on lance une exception, on doit, en gros, lancer une instance de la classe <code>Exception</code>. Cet objet lancé contiendra le message d'erreur ainsi que son code. Pensez à spécifier au moins le message d'erreur, bien que celui-ci soit facultatif. Je ne vois pas l'intérêt de lancer une exception sans spécifier l'erreur rencontrée. ;) Pour le code d'erreur, il n'est pas (pour l'instant) très utile. Libre à vous de le spécifier ou pas. Le troisième et dernier argument est l'exception précédente. Là aussi, spécifiez-là si vous le souhaitez, mais ce n'est pas indispensable.</p><p id="r-608148" data-claire-element-id="608148">Passons à l'acte. Nous allons créer une simple fonction qui aura pour rôle d'additionner un nombre avec un autre. Si l'un des deux nombres n'est pas numérique, alors on lancera une exception de type <code>Exception</code> à l'aide du mot <code>throw</code> (= lancer). On va donc <strong>lancer</strong> une <strong>nouvelle</strong><code>Exception</code>. Le constructeur de la classe <code>Exception</code> demande en paramètre le message d'erreur, son code et l'exception précédente. Ces trois paramètres sont facultatifs.</p><pre id="r-608149" data-claire-element-id="608149"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    // On lance une nouvelle exception grâce à throw et on instancie directement un objet de la classe Exception.
    throw new Exception('Les deux paramètres doivent être des nombres');
  }
  
  return $a + $b;
}

echo additionner(12, 3), '&lt;br /&gt;';
echo additionner('azerty', 54), '&lt;br /&gt;';
echo additionner(4, 8);
?&gt;</code></pre><p id="r-608150" data-claire-element-id="608150">Et là, vous avez :</p><figure id="r-resultat-affiche-par-le-script-19" data-claire-element-id="608153"><img id="r-608151" data-claire-element-id="608151" src="medias/uploads.siteduzero.com_files_411001_412000_411721.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-608154" data-claire-element-id="608154">Et voilà votre première exception qui apparaît, d'une façon assez désagréable, devant vos yeux ébahis. Décortiquons ce que PHP veut nous dire.</p><p id="r-608155" data-claire-element-id="608155">Premièrement, il génère une erreur fatale. Et oui, une exception non attrapée génère automatiquement une erreur fatale. Nous verrons plus tard ce que signifie « attraper ».</p><p id="r-608156" data-claire-element-id="608156">Deuxièmement, il nous dit <em>Uncaught exception 'Exception' with message 'Les deux paramètres doivent être des nombres'</em> ce qui signifie « <em>Exception 'Exception' non attrapée avec le message 'Les deux paramètres doivent être des nombres'</em> ». Ce passage se passera de commentaire, la traduction parle d'elle-même : on n'a pas attrapé l'exception 'Exception' (= le nom de la classe instanciée par l'objet qui a été lancé) avec tel message (ici, c'est le message spécifié dans le constructeur).</p><p id="r-608157" data-claire-element-id="608157">Et pour finir, PHP nous dit où a été lancée l'exception, depuis quelle fonction, à quelle ligne, etc.</p><p id="r-608158" data-claire-element-id="608158">Maintenant, puisque PHP n'a pas l'air content que l'on n'ait pas « attrapé » cette exception, et bien c'est ce que nous allons faire.</p><aside id="r-608160" data-claire-element-id="608160" data-claire-semantic="error"><p id="r-608159" data-claire-element-id="608159"><strong>Ne lancez jamais d'exception dans un destructeur</strong>. Si vous faites une telle chose, vous aurez une erreur fatale : Exception thrown without a stack frame in Unknown on line 0. Cette erreur peut aussi être lancée dans un autre cas évoqué plus tard.</p></aside><h5 id="r-attraper-une-exception" data-claire-element-id="608175">Attraper une exception</h5><p id="r-608162" data-claire-element-id="608162">Afin d'attraper une exception, il faut d'abord qu'elle soit lancée. Le problème, c'est qu'on ne peut pas dire à PHP que toutes les exceptions lancées doivent être attrapées : c'est à nous de lui dire que l'on va <strong>essayer</strong> d'effectuer telle ou telle instruction et, si une exception est lancée, alors on <strong>attrapera</strong> celle-ci afin qu'aucune erreur fatale ne soit lancée et que de tels messages ne s'affichent plus.</p><p id="r-608163" data-claire-element-id="608163">Nous allons dès à présent placer nos instructions dans un bloc <code>try</code>. Celles-ci seront à placer entre une paire d'accolades. Qui dit bloc <code>try</code> dit aussi bloc <code>catch</code> car l'un ne va pas sans l'autre (si vous mettez l'un sans l'autre, une erreur d'analyse sera levée). Ce bloc <code>catch</code> a une petite particularité. Au lieu de placer <code>catch</code> suivi directement des deux accolades, nous allons devoir spécifier, entre une paire de parenthèses placée entre <code>catch</code> et l'accolade ouvrante, le type d'exception à attraper suivi d'une variable qui représentera cette exception. C'est à partir d'elle que l'on pourra récupérer le message ou le code d'erreur grâce aux méthodes de la classe.</p><p id="r-608164" data-claire-element-id="608164">Commençons en douceur en attrapant simplement toute exception <code>Exception</code> :</p><pre id="r-608165" data-claire-element-id="608165"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new Exception('Les deux paramètres doivent être des nombres'); // On lance une nouvelle exception si l'un des deux paramètres n'est pas un nombre.
  }
  
  return $a + $b;
}

try // On va essayer d'effectuer les instructions situées dans ce bloc.
{
  echo additionner(12, 3), '&lt;br /&gt;';
  echo additionner('azerty', 54), '&lt;br /&gt;';
  echo additionner(4, 8);
}

catch (Exception $e) // On va attraper les exceptions &quot;Exception&quot; s'il y en a une qui est levée.
{

}
?&gt;</code></pre><p id="r-608166" data-claire-element-id="608166">Et là, miracle, vous n'avez plus que <strong>15</strong> qui s'affiche, et plus d'erreur ! Par contre, les deux autres résultats ne sont pas affichés, et il serait intéressant de savoir pourquoi. Nous allons afficher le message d'erreur. Pour ce faire, il faut appeler la méthode <code>getMessage()</code>. Si vous souhaitez récupérer le code d'erreur, il faut appeler <code>getCode()</code>.</p><pre id="r-608167" data-claire-element-id="608167"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new Exception('Les deux paramètres doivent être des nombres');
  }
  
  return $a + $b;
}

try // Nous allons essayer d'effectuer les instructions situées dans ce bloc.
{
  echo additionner(12, 3), '&lt;br /&gt;';
  echo additionner('azerty', 54), '&lt;br /&gt;';
  echo additionner(4, 8);
}

catch (Exception $e) // On va attraper les exceptions &quot;Exception&quot; s'il y en a une qui est levée
{
  echo 'Une exception a été lancée. Message d\'erreur : ', $e-&gt;getMessage();
}
?&gt;</code></pre><p id="r-608168" data-claire-element-id="608168">Ce qui affichera :</p><figure id="r-resultat-affiche-par-le-script-20" data-claire-element-id="608171"><img id="r-608169" data-claire-element-id="608169" src="medias/uploads.siteduzero.com_files_411001_412000_411723.png" alt="Résultat affiché par le script"/><figcaption>Résultat affiché par le script</figcaption></figure><p id="r-608172" data-claire-element-id="608172">Comme vous pouvez le constater, la troisième instruction du bloc <code>try</code> n'a pas été exécutée. C'est normal puisque la deuxième instruction a interrompu la lecture du bloc. Si vous interceptez les exceptions comme nous l'avons fait, alors le script n'est pas interrompu. En voici la preuve :</p><pre id="r-608173" data-claire-element-id="608173"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new Exception('Les deux paramètres doivent être des nombres');
  }
  
  return $a + $b;
}

try // Nous allons essayer d'effectuer les instructions situées dans ce bloc.
{
  echo additionner(12, 3), '&lt;br /&gt;';
  echo additionner('azerty', 54), '&lt;br /&gt;';
  echo additionner(4, 8);
}

catch (Exception $e) // Nous allons attraper les exceptions &quot;Exception&quot; s'il y en a une qui est levée.
{
  echo 'Une exception a été lancée. Message d\'erreur : ', $e-&gt;getMessage();
}

echo 'Fin du script'; // Ce message s'affiche, ça prouve bien que le script est exécuté jusqu'au bout.
?&gt;</code></pre><p id="r-608174" data-claire-element-id="608174">Vous vous demandez sans doute pourquoi on doit spécifier le nom de l'exception à intercepter puisque c'est toujours une instance de la classe <code>Exception</code>. En fait, la classe <code>Exception</code> est la classe de base pour toute exception qui doit être lancée, ce qui signifie que l'on peut lancer n'importe quelle autre instance d'une classe, du moment <strong>qu'elle hérite de la classe <code>Exception</code></strong> !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">
<span class="arrow"></span>
<span class="next">Les exceptions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
<span class="next">Des exceptions spécialisées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Desexceptionsspcialises"></a><h2>Des exceptions spécialisées</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
<span class="arrow"></span>
<span class="next">Une différente gestion des erreurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
<span class="next">Gérer les erreurs facilement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-des-exceptions-specialisees" data-claire-element-id="608203">Des exceptions spécialisées</h4><h5 id="r-heriter-la-classe-exception" data-claire-element-id="608187">Hériter la classe Exception</h5><p id="r-608177" data-claire-element-id="608177">PHP nous offre la possibilité d'hériter la classe <code>Exception</code> afin de personnaliser nos exceptions. Par exemple, nous pouvons créer une classe <code>MonException</code> qui réécrira des méthodes de la classe <code>Exception</code> ou en créera de nouvelles qui lui seront propres.</p><p id="r-608178" data-claire-element-id="608178">Avant de foncer tête baissée dans l'écriture de notre classe personnalisée, encore faut-il savoir quelles méthodes et attributs seront disponibles. Voici la liste des attributs et méthodes de la classe <code>Exception</code> tirée <a href="http://www.php.net/manual/fr/language.exceptions.extending.php">de la documentation</a> :</p><pre id="r-608179" data-claire-element-id="608179"><code data-claire-semantic="html+php">&lt;?php
class Exception
{
  protected $message = 'exception inconnu'; // Message de l'exception.
  protected $code = 0; // Code de l'exception défini par l'utilisateur.
  protected $file; // Nom du fichier source de l'exception.
  protected $line; // Ligne de la source de l'exception.
  
  final function getMessage(); // Message de l'exception.
  final function getCode(); // Code de l'exception.
  final function getFile(); // Nom du fichier source.
  final function getLine(); // Ligne du fichier source.
  final function getTrace(); // Un tableau de backtrace().
  final function getTraceAsString(); // Chaîne formattée de trace.
  
  /* Remplacable */
  function __construct ($message = NULL, $code = 0);
  function __toString(); // Chaîne formatée pour l'affichage.
}
?&gt;</code></pre><p id="r-608180" data-claire-element-id="608180">Ainsi, nous voyons que l'on a accès aux attributs protégés de la classe et qu'on peut réécrire les méthodes <code>__construct</code> et <code>__toString</code>. Toutes les autres méthodes sont finales, nous n'avons donc pas le droit de les réécrire.</p><p id="r-608181" data-claire-element-id="608181">Nous allons donc créer notre classe <code>MonException</code> qui, par exemple, réécrira le constructeur en rendant obligatoire le premier argument ainsi que la méthode <code>__toString</code> pour n'afficher que le message d'erreur (c'est uniquement ça qui nous intéresse).</p><pre id="r-608182" data-claire-element-id="608182"><code data-claire-semantic="html+php">&lt;?php
class MonException extends Exception
{
  public function __construct($message, $code = 0)
  {
    parent::__construct($message, $code);
  }
  
  public function __toString()
  {
    return $this-&gt;message;
  }
}
?&gt;</code></pre><p id="r-608183" data-claire-element-id="608183">Maintenant, comme vous l'aurez peut-être deviné, nous n'allons pas lancer d'exception <code>Exception</code> mais une exception de type <code>MonException</code>.</p><p id="r-608184" data-claire-element-id="608184">Dans notre script, nous allons désormais attraper uniquement les exceptions <code>MonException</code>, ce qui éclaircira le code car c'est une manière de se dire que l'on ne travaille, dans le bloc <code>try</code>, qu'avec des instructions susceptibles de lancer des exceptions de type <code>MonException</code>. Exemple :</p><pre id="r-608185" data-claire-element-id="608185"><code data-claire-semantic="html+php">&lt;?php
class MonException extends Exception
{
  public function __construct($message, $code = 0)
  {
    parent::__construct($message, $code);
  }
  
  public function __toString()
  {
    return $this-&gt;message;
  }
}

function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new MonException('Les deux paramètres doivent être des nombres'); // On lance une exception &quot;MonException&quot;.
  }
  
  return $a + $b;
}

try // Nous allons essayer d'effectuer les instructions situées dans ce bloc.
{
  echo additionner(12, 3), '&lt;br /&gt;';
  echo additionner('azerty', 54), '&lt;br /&gt;';
  echo additionner(4, 8);
}

catch (MonException $e) // Nous allons attraper les exceptions &quot;MonException&quot; s'il y en a une qui est levée.
{
  echo $e; // On affiche le message d'erreur grâce à la méthode __toString que l'on a écrite.
}

echo '&lt;br /&gt;Fin du script'; // Ce message s'affiche, ça prouve bien que le script est exécuté jusqu'au bout.
?&gt;</code></pre><p id="r-608186" data-claire-element-id="608186">Ainsi, nous avons attrapé uniquement les exceptions de type <code>MonException</code>. Essayez de lancer une exception <code>Exception</code> à la place et vous verrez qu'elle ne sera pas attrapée. Si vous décidez d'attraper, dans le bloc <code>catch</code>, les exceptions <code>Exception</code>, alors <strong>toutes</strong> les exceptions seront attrapées car elles héritent toutes de cette classe. En fait, quand vous héritez une classe d'une autre et que vous décidez d'attraper les exceptions de la classe parente, alors celles de la classe enfant le seront aussi.</p><h5 id="r-emboiter-plusieurs-blocs-catch" data-claire-element-id="608191">Emboîter plusieurs blocs <code>catch</code></h5><p id="r-608188" data-claire-element-id="608188">Il est possible d'emboîter plusieurs blocs <code>catch</code>. En effet, vous pouvez mettre un premier bloc attrapant les exceptions <code>MonException</code> suivi d'un deuxième attrapant les exceptions <code>Exception</code>. Si vous effectuez une telle opération et qu'une exception est lancée, alors PHP ira dans le premier bloc pour voir si ce type d'exception doit être attrapé, si tel n'est pas le cas il va dans le deuxième, etc., jusqu'à ce qu'il tombe sur un bloc qui l'attrape. Si aucun ne l'attrape, alors une erreur fatale est levée. Exemple :</p><pre id="r-608189" data-claire-element-id="608189"><code data-claire-semantic="html+php">&lt;?php
class MonException extends Exception
{
  public function __construct($message, $code = 0)
  {
    parent::__construct($message, $code);
  }
  
  public function __toString()
  {
    return $this-&gt;message;
  }
}

function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new MonException('Les deux paramètres doivent être des nombres'); // On lance une exception &quot;MonException&quot;.
  }
  
  if (func_num_args() &gt; 2)
  {
    throw new Exception('Pas plus de deux arguments ne doivent être passés à la fonction'); // Cette fois-ci, on lance une exception &quot;Exception&quot;.
  }
  
  return $a + $b;
}

try // Nous allons essayer d'effectuer les instructions situées dans ce bloc.
{
  echo additionner(12, 3), '&lt;br /&gt;';
  echo additionner(15, 54, 45), '&lt;br /&gt;';
}

catch (MonException $e) // Nous allons attraper les exceptions &quot;MonException&quot; s'il y en a une qui est levée.
{
  echo '[MonException] : ', $e; // On affiche le message d'erreur grâce à la méthode __toString que l'on a écrite.
}

catch (Exception $e) // Si l'exception n'est toujours pas attrapée, alors nous allons essayer d'attraper l'exception &quot;Exception&quot;.
{
  echo '[Exception] : ', $e-&gt;getMessage(); // La méthode __toString() nous affiche trop d'informations, nous voulons juste le message d'erreur.
}

echo '&lt;br /&gt;Fin du script'; // Ce message s'affiche, cela prouve bien que le script est exécuté jusqu'au bout.
?&gt;</code></pre><p id="r-608190" data-claire-element-id="608190">Cette fois-ci, aucune exception <code>MonException</code> n'est lancée, mais une exception <code>Exception</code> l'a été. PHP va donc effectuer les opérations demandées dans le deuxième bloc <code>catch</code>.</p><h5 id="r-exemple-concret-la-classe-pdoexception" data-claire-element-id="608196">Exemple concret : la classe PDOException</h5><p id="r-608192" data-claire-element-id="608192">Vous connaissez sans doute la bibliothèque PDO (<a href="http://www.siteduzero.com/tutoriel-3-34790-pdo-interface-d-acces-aux-bdd.html">lire le tutoriel à ce sujet</a>). Dans ce tutoriel, il vous est donné une technique pour capturer les erreurs générées par PDO : comme vous le savez maintenant, ce sont des exceptions ! Et PDO a sa classe d'exception : <code>PDOException</code>. Celle-ci n'hérite pas directement de la classe <code>Exception</code> mais de <code>RuntimeException</code>. Cette classe n'a rien de plus que sa classe mère, il s'agit juste d'une classe qui est instanciée pour émettre une exception lors de l'exécution du script. Il existe une classe pour chaque circonstance dans laquelle l'exception est lancée : vous trouverez <a href="http://fr2.php.net/manual/fr/spl.exceptions.php">la liste des exceptions ici</a>.</p><p id="r-608193" data-claire-element-id="608193">Cette classe <code>PDOException</code> est donc la classe personnalisée pour émettre une exception par la classe PDO ou PDOStatement. Sachez d'ailleurs que si une extension orientée objet doit émettre une erreur, elle émettra une exception.</p><p id="r-608194" data-claire-element-id="608194">Bref, voici un exemple d'utilisation de <code>PDOException</code> :</p><pre id="r-608195" data-claire-element-id="608195"><code data-claire-semantic="html+php">&lt;?php
try
{
  $db = new PDO('mysql:host=localhost;dbname=tests', 'root', ''); // Tentative de connexion.
  echo 'Connexion réussie !'; // Si la connexion a réussi, alors cette instruction sera exécutée.
}

catch (PDOException $e) // On attrape les exceptions PDOException.
{
  echo 'La connexion a échoué.&lt;br /&gt;';
  echo 'Informations : [', $e-&gt;getCode(), '] ', $e-&gt;getMessage(); // On affiche le n° de l'erreur ainsi que le message.
}
?&gt;</code></pre><h5 id="r-exceptions-pre-definies" data-claire-element-id="608202">Exceptions pré-définies</h5><p id="r-608197" data-claire-element-id="608197">Il existe toute une quantité d'exceptions pré-définies. Vous pouvez obtenir cette liste sur <a href="http://fr2.php.net/manual/fr/spl.exceptions.php">la documentation</a>. Au lieu de lancer tout le temps une exception en instanciant <code>Exception</code>, il est préférable d'instancier la classe adaptée à la situation. Par exemple, reprenons le code proposé en début de chapitre :</p><pre id="r-608198" data-claire-element-id="608198"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    // On lance une nouvelle exception grâce à throw et on instancie directement un objet de la classe Exception.
    throw new Exception('Les deux paramètres doivent être des nombres');
  }
  
  return $a + $b;
}

echo additionner(12, 3), '&lt;br /&gt;';
echo additionner('azerty', 54), '&lt;br /&gt;';
echo additionner(4, 8);</code></pre><p id="r-608199" data-claire-element-id="608199">La classe à instancier ici est celle qui doit l'être lorsqu'un paramètre est invalide. On regarde la documentation, et on tombe sur <code>InvalidArgumentException</code>. Le code donnerait donc :</p><pre id="r-608200" data-claire-element-id="608200"><code data-claire-semantic="html+php">&lt;?php
function additionner($a, $b)
{
  if (!is_numeric($a) OR !is_numeric($b))
  {
    throw new InvalidArgumentException('Les deux paramètres doivent être des nombres');
  }
  
  return $a + $b;
}

echo additionner(12, 3), '&lt;br /&gt;';
echo additionner('azerty', 54), '&lt;br /&gt;';
echo additionner(4, 8);</code></pre><p id="r-608201" data-claire-element-id="608201">Cela permet de mieux se repérer dans le code et surtout de mieux cibler les erreurs grâce aux multiples blocs <code>catch</code>. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
<span class="arrow"></span>
<span class="next">Une différente gestion des erreurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
<span class="next">Gérer les erreurs facilement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Grerleserreursfacilement"></a><h2>Gérer les erreurs facilement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
<span class="arrow"></span>
<span class="next">Des exceptions spécialisées</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">
<span class="next">Les traits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-gerer-les-erreurs-facilement" data-claire-element-id="608257">Gérer les erreurs facilement</h4><h5 id="r-convertir-les-erreurs-en-exceptions" data-claire-element-id="608236">Convertir les erreurs en exceptions</h5><p id="r-608204" data-claire-element-id="608204">Nous allons voir une dernière chose avant de passer au prochain chapitre : la manière de convertir les erreurs fatales, alertes et notices en exceptions. Pour cela, nous allons avoir besoin de la fonction <a href="http://fr.php.net/set_error_handler">set_error_handler</a>. Celle-ci permet d'enregistrer une fonction en callback qui sera appelée à chaque fois que l'une de ces trois erreurs sera lancée. Il n'y a pas de rapport direct avec les exceptions : c'est à nous de l'établir.</p><p id="r-608205" data-claire-element-id="608205">Notre fonction, que l'on nommera <code>error2exception</code> par exemple, doit demander entre deux et cinq paramètres :</p><ul id="r-608216" data-claire-element-id="608216"><li id="r-608207" data-claire-element-id="608207"><p id="r-608206" data-claire-element-id="608206">Le numéro de l'erreur <strong>(obligatoire)</strong>.</p></li><li id="r-608209" data-claire-element-id="608209"><p id="r-608208" data-claire-element-id="608208">Le message d'erreur <strong>(obligatoire)</strong>.</p></li><li id="r-608211" data-claire-element-id="608211"><p id="r-608210" data-claire-element-id="608210">Le nom du fichier dans lequel l'erreur a été lancée.</p></li><li id="r-608213" data-claire-element-id="608213"><p id="r-608212" data-claire-element-id="608212">Le numéro de la ligne à laquelle l'erreur a été identifiée.</p></li><li id="r-608215" data-claire-element-id="608215"><p id="r-608214" data-claire-element-id="608214">Un tableau avec toutes les variables qui existaient jusqu'à ce que l'erreur soit rencontrée.</p></li></ul><p id="r-608217" data-claire-element-id="608217">Nous n'allons pas prêter attention au dernier paramètre, juste aux quatre premiers. Nous allons créer notre propre classe <code>MonException</code> qui hérite non pas de <code>Exception</code> mais de <code>ErrorException</code>. Bien sûr, comme je l'ai déjà dit plus haut, toutes les exceptions héritent de la classe <code>Exception</code> : <code>ErrorException</code> n'échappe pas à la règle et hérite de celle-ci.</p><p id="r-608218" data-claire-element-id="608218">La fonction <code>set_error_handler</code> demande deux paramètres. Le premier est la fonction à appeler, et le deuxième, les erreurs à intercepter. Par défaut, ce paramètre intercepte toutes les erreurs, y compris les erreurs strictes.</p><p id="r-608219" data-claire-element-id="608219">Le constructeur de la classe <code>ErrorException</code> demande cinq paramètres, tous facultatifs :</p><ul id="r-608230" data-claire-element-id="608230"><li id="r-608221" data-claire-element-id="608221"><p id="r-608220" data-claire-element-id="608220">Le message d'erreur.</p></li><li id="r-608223" data-claire-element-id="608223"><p id="r-608222" data-claire-element-id="608222">Le code de l'erreur.</p></li><li id="r-608225" data-claire-element-id="608225"><p id="r-608224" data-claire-element-id="608224">La sévérité de l'erreur (erreur fatale, alerte, notice, etc.) représentées par des <a href="http://fr2.php.net/manual/fr/errorfunc.constants.php">constantes pré-définies</a>.</p></li><li id="r-608227" data-claire-element-id="608227"><p id="r-608226" data-claire-element-id="608226">Le fichier où l'erreur a été rencontrée.</p></li><li id="r-608229" data-claire-element-id="608229"><p id="r-608228" data-claire-element-id="608228">La ligne à laquelle l'erreur a été rencontrée.</p></li></ul><p id="r-608231" data-claire-element-id="608231">Voici à quoi pourrait ressembler le code de base :</p><pre id="r-608232" data-claire-element-id="608232"><code data-claire-semantic="html+php">&lt;?php
class MonException extends ErrorException
{
  public function __toString()
  {
    switch ($this-&gt;severity)
    {
      case E_USER_ERROR : // Si l'utilisateur émet une erreur fatale;
        $type = 'Erreur fatale';
        break;
      
      case E_WARNING : // Si PHP émet une alerte.
      case E_USER_WARNING : // Si l'utilisateur émet une alerte.
        $type = 'Attention';
        break;
      
      case E_NOTICE : // Si PHP émet une notice.
      case E_USER_NOTICE : // Si l'utilisateur émet une notice.
        $type = 'Note';
        break;
      
      default : // Erreur inconnue.
        $type = 'Erreur inconnue';
        break;
    }
    
    return '&lt;strong&gt;' . $type . '&lt;/strong&gt; : [' . $this-&gt;code . '] ' . $this-&gt;message . '&lt;br /&gt;&lt;strong&gt;' . $this-&gt;file . '&lt;/strong&gt; à la ligne &lt;strong&gt;' . $this-&gt;line . '&lt;/strong&gt;';
  }
}

function error2exception($code, $message, $fichier, $ligne)
{
  // Le code fait office de sévérité.
  // Reportez-vous aux constantes prédéfinies pour en savoir plus.
  // http://fr2.php.net/manual/fr/errorfunc.constants.php
  throw new MonException($message, 0, $code, $fichier, $ligne);
}

set_error_handler('error2exception');
?&gt;</code></pre><p id="r-608233" data-claire-element-id="608233">Vous voyez que dans la méthode <code>__toString</code> je mettais à chaque fois E_X et E_USER_X. Les erreurs du type E_X sont générées par PHP et les erreurs E_USER_X sont générées par l'utilisateur grâce à <a href="http://fr.php.net/trigger_error">trigger_error</a>. Les erreurs E_ERROR (donc les erreurs fatales générées par PHP) ne peuvent être interceptées, c'est la raison pour laquelle je ne l'ai pas placé dans le switch.</p><p id="r-608234" data-claire-element-id="608234">Ensuite, à vous de faire des tests, vous verrez bien que ça fonctionne à merveille. Mais gardez bien ça en tête : avec ce code, toutes les erreurs (même les notices) qui ne sont pas dans un bloc <code>try</code><strong>interrompront le script</strong> car elles émettront une exception !</p><p id="r-608235" data-claire-element-id="608235">On aurait très bien pu utiliser la classe <code>Exception</code> mais <code>ErrorException</code> a été conçu exactement pour ce genre de chose. Nous n'avons pas besoin de créer d'attribut stockant la sévérité de l'erreur ou de réécrire le constructeur pour y stocker le nom du fichier et la ligne à laquelle s'est produite l'erreur.</p><h5 id="r-personnaliser-les-exceptions-non-attrapees" data-claire-element-id="608244">Personnaliser les exceptions non attrapées</h5><p id="r-608237" data-claire-element-id="608237">Nous avons réussi à transformer toutes nos erreurs en exceptions en les interceptant grâce à <code>set_error_handler</code>. Étant donné que la moindre erreur lèvera une exception, il serait intéressant de <em>personnaliser</em> l'erreur générée par PHP. Ce que je veux dire par là, c'est qu'une exception non attrapée génère une longue et laide erreur fatale. Nous allons donc, comme pour les erreurs, <strong>intercepter</strong> les exceptions grâce à <code>set_exception_handler</code>. Cette fonction demande un seul argument : le nom de la fonction à appeler lorsqu'une exception est lancée. La fonction de callback doit accepter un argument : c'est un objet représentant l'exception.</p><p id="r-608238" data-claire-element-id="608238">Voici un exemple d'utilisation en reprenant le précédent code :</p><pre id="r-608239" data-claire-element-id="608239"><code data-claire-semantic="html+php">&lt;?php
class MonException extends ErrorException
{
  public function __toString()
  {
    switch ($this-&gt;severity)
    {
      case E_USER_ERROR : // Si l'utilisateur émet une erreur fatale.
        $type = 'Erreur fatale';
        break;
      
      case E_WARNING : // Si PHP émet une alerte.
      case E_USER_WARNING : // Si l'utilisateur émet une alerte.
        $type = 'Attention';
        break;
      
      case E_NOTICE : // Si PHP émet une notice.
      case E_USER_NOTICE : // Si l'utilisateur émet une notice.
        $type = 'Note';
        break;
      
      default : // Erreur inconnue.
        $type = 'Erreur inconnue';
        break;
    }
    
    return '&lt;strong&gt;' . $type . '&lt;/strong&gt; : [' . $this-&gt;code . '] ' . $this-&gt;message . '&lt;br /&gt;&lt;strong&gt;' . $this-&gt;file . '&lt;/strong&gt; à la ligne &lt;strong&gt;' . $this-&gt;line . '&lt;/strong&gt;';
  }
}

function error2exception($code, $message, $fichier, $ligne)
{
  // Le code fait office de sévérité.
  // Reportez-vous aux constantes prédéfinies pour en savoir plus.
  // http://fr2.php.net/manual/fr/errorfunc.constants.php
  throw new MonException($message, 0, $code, $fichier, $ligne);
}

function customException($e)
{
  echo 'Ligne ', $e-&gt;getLine(), ' dans ', $e-&gt;getFile(), '&lt;br /&gt;&lt;strong&gt;Exception lancée&lt;/strong&gt; : ', $e-&gt;getMessage();
}

set_error_handler('error2exception');
set_exception_handler('customException');
?&gt;</code></pre><aside id="r-608241" data-claire-element-id="608241" data-claire-semantic="warning"><p id="r-608240" data-claire-element-id="608240">Je dis bien que l'exception est <strong>interceptée</strong> et non <strong>attrapée</strong> ! Cela signifie que l'on attrape l'exception, qu'on effectue des opérations puis qu'on la relâche. Le script, une fois <code>customException</code> appelé, est automatiquement <strong>interrompu</strong>.</p></aside><aside id="r-608243" data-claire-element-id="608243" data-claire-semantic="error"><p id="r-608242" data-claire-element-id="608242"><strong>Ne lancez jamais d'exception dans votre gestionnaire d'exception (ici <code>customException</code>)</strong>. En effet, cela créerait une boucle infinie puisque votre gestionnaire lance lui-même une exception. L'erreur lancée est la même que celle vue précédemment : il s'agit de l'erreur fatale « Exception thrown without a stack frame in Unknown on line 0 ».</p></aside><h5 id="r-en-resume-193" data-claire-element-id="608256">En résumé</h5><ul id="r-608255" data-claire-element-id="608255"><li id="r-608246" data-claire-element-id="608246"><p id="r-608245" data-claire-element-id="608245">Une exception est une erreur que l'on peut attraper grâce aux mots-clé <code>try</code> et <code>catch</code>.</p></li><li id="r-608248" data-claire-element-id="608248"><p id="r-608247" data-claire-element-id="608247">Une exception est une erreur que l'on peut personnaliser, que ce soit au niveau de son affichage ou au niveau de ses renseignements (fichier concerné par l'erreur, le numéro de la ligne, etc.).</p></li><li id="r-608250" data-claire-element-id="608250"><p id="r-608249" data-claire-element-id="608249">Une exception se lance grâce au mot-clé <code>throw</code>.</p></li><li id="r-608252" data-claire-element-id="608252"><p id="r-608251" data-claire-element-id="608251">Il est possible d'hériter des exceptions entre elles.</p></li><li id="r-608254" data-claire-element-id="608254"><p id="r-608253" data-claire-element-id="608253">Il existe un certain nombre d'exceptions déjà disponibles dont il ne faut pas hésiter à se servir pour respecter la logique du code.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
<span class="arrow"></span>
<span class="next">Des exceptions spécialisées</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">
<span class="next">Les traits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lestraits"></a><h2>Les traits</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
<span class="arrow"></span>
<span class="next">Gérer les erreurs facilement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
<span class="next">Le principe des traits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608259" data-claire-element-id="608259">Depuis sa version 5.4, PHP intègre un moyen de réutiliser le code d'une méthode dans deux classes indépendantes. Cette fonctionnalité permet ainsi de repousser les limites de l'héritage simple (pour rappel, en PHP, une classe ne peut hériter que d'une et une seule classe mère). Nous allons donc nous pencher ici sur les <strong>traits</strong> afin de pallier le problème de duplication de méthode.</p>
</div><a name="Leprincipedestraits"></a><h2>Le principe des traits</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">
<span class="arrow"></span>
<span class="next">Les traits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
<span class="next">Plus loin avec les traits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-principe-des-traits" data-claire-element-id="608299">Le principe des traits</h4><p id="r-608260" data-claire-element-id="608260">Pour suivre ce chapitre, il vous faut PHP 5.4 d'installé sur votre serveur. Si vous tournez sous Ubuntu avec un serveur LAMP et que les dépôts officiels ne sont pas encore mis à jour, je vous invite à visiter <a href="http://www.upubuntu.com/2012/03/how-to-upgrade-install-php-540-under.html">cette page</a>.</p><h5 id="r-posons-le-probleme-3" data-claire-element-id="608265">Posons le problème</h5><p id="r-608261" data-claire-element-id="608261">Admettons que vous ayez deux classes, <code>Writer</code> et <code>Mailer</code>. La première est chargée d'écrire du texte dans un fichier, tandis que la seconde envoie un texte par mail. Cependant, il est agréable de mettre en forme le texte. Pour cela, vous décidez de <strong>formater</strong> le texte en HTML. Or, un problème se pose : vous allez devoir effectuer la même opération (celle de formater en HTML) dans deux classes complètement différentes et indépendantes :</p><pre id="r-608262" data-claire-element-id="608262"><code data-claire-semantic="html+php">&lt;?php
class Writer
{
  public function write($text)
  {
    $text = '&lt;p&gt;Date : '.date('d/m/Y').'&lt;/p&gt;'.&quot;\n&quot;.
            '&lt;p&gt;'.nl2br($text).'&lt;/p&gt;';
    file_put_contents('fichier.txt', $text);
  }
}</code></pre><pre id="r-608263" data-claire-element-id="608263"><code data-claire-semantic="html+php">&lt;?php
class Mailer
{
  public function send($text)
  {
    $text = '&lt;p&gt;Date : '.date('d/m/Y').'&lt;/p&gt;'.&quot;\n&quot;.
            '&lt;p&gt;'.nl2br($text).'&lt;/p&gt;';
    mail('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="d7bbb8b0beb997b1b6bef9a3bbb3">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', 'Test avec les traits', $text);
  }
}</code></pre><p id="r-608264" data-claire-element-id="608264">Ici, le code est petit et la duplication n'est donc pas énorme, mais elle est belle et bien présente. Dans une application de plus grande envergure, ce code pourrait être dupliqué pas mal de fois. Imaginez alors que vous décidiez de formater autrement votre texte : catastrophe, il va falloir modifier chaque partie du code qui formatait du texte ! Penchons-nous donc vers les <strong>traits</strong> pour résoudre ce problème.</p><h5 id="r-resoudre-le-probleme-grace-aux-traits" data-claire-element-id="608281">Résoudre le problème grâce aux traits</h5><h6 id="r-syntaxe-de-base-4" data-claire-element-id="608270">Syntaxe de base</h6><p id="r-608266" data-claire-element-id="608266">Comme vous vous en doutez peut-être, les traits sont un moyen <strong>d'externaliser</strong> du code. Plus précisément, les traits définissent des méthodes que les classes peuvent utiliser. Avant de résoudre le problème évoqué, nous allons nous pencher sur la syntaxe des traits pour pouvoir s'en servir.</p><p id="r-608267" data-claire-element-id="608267">Regardez ce code :</p><pre id="r-608268" data-claire-element-id="608268"><code data-claire-semantic="html+php">&lt;?php
trait MonTrait
{
  public function hello()
  {
    echo 'Hello world !';
  }
}

class A
{
  use MonTrait;
}

class B
{
  use MonTrait;
}

$a = new A;
$a-&gt;hello(); // Affiche « Hello world ! ».

$b = new b;
$b-&gt;hello(); // Affiche aussi « Hello world ! ».</code></pre><p id="r-608269" data-claire-element-id="608269">Commentons ce code. Dans un premier temps, nous définissons un <strong>trait</strong>. Un trait, comme vous pouvez le constater, n'est autre qu'une mini-classe. Dedans, nous n'avons déclaré qu'une seule méthode. Ensuite, nous déclarons deux classes, chacune utilisant le trait que nous avons créé. Comme vous pouvez le constater, l'utilisation d'un trait dans une classe se fait grâce au mot-clé <code>use</code>. En utilisant ce mot-clé, toutes les méthodes du trait vont être <strong>importées</strong> dans la classe. Comme en témoigne le code de test en fin de fichier, les deux classes possèdent bien une méthode <code>hello()</code> et celle-ci affiche bien <em>« Hello world ! »</em>.</p><h6 id="r-retour-sur-notre-formateur" data-claire-element-id="608280">Retour sur notre formateur</h6><p id="r-608271" data-claire-element-id="608271">Ce que l'on va faire maintenant, c'est retirer le gros défaut de notre code : grâce aux traits, nous ferons disparaître la duplication de notre code. Ce que je vous propose de faire, c'est de créer un trait qui va contenir une méthode <code>format($text)</code> qui va formater le texte passé en argument en HTML.</p><p id="r-608272" data-claire-element-id="608272">Procédons étape par étape. Commençons par créer notre trait (il ne contient qu'une méthode chargée de formater le texte en HTML) :</p><pre id="r-608273" data-claire-element-id="608273"><code data-claire-semantic="html+php">&lt;?php
trait HTMLFormater
{
  public function format($text)
  {
    return '&lt;p&gt;Date : '.date('d/m/Y').'&lt;/p&gt;'.&quot;\n&quot;.
           '&lt;p&gt;'.nl2br($text).'&lt;/p&gt;';
  }
}</code></pre><p id="r-608274" data-claire-element-id="608274">Maintenant, nous allons modifier nos classes <code>Writer</code> et <code>Mailer</code> afin qu'elles utilisent ce trait pour formater le texte qu'elles exploiteront. Pour y arriver, je vous rappelle qu'il vous faut utiliser le mot-clé <code>use</code> pour <strong>importer</strong> toutes les méthodes du trait (ici, il n'y en a qu'une) dans la classe. Vous pourrez ainsi utiliser les méthodes comme si elles étaient déclarées dans la classe. Voici la correction :</p><pre id="r-608275" data-claire-element-id="608275"><code data-claire-semantic="html+php">&lt;?php
class Writer
{
  use HTMLFormater;
  
  public function write($text)
  {
    file_put_contents('fichier.txt', $this-&gt;format($text));
  }
}</code></pre><pre id="r-608276" data-claire-element-id="608276"><code data-claire-semantic="html+php">&lt;?php
class Mailer
{
  use HTMLFormater;
  
  public function send($text)
  {
    mail('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="83efece4eaedc3e5e2eaadf7efe7">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', 'Test avec les traits', $this-&gt;format($text));
  }
}</code></pre><p id="r-608277" data-claire-element-id="608277">Libre à vous de tester vos classes ! Par exemple, essayez d'exécuter ce code :</p><pre id="r-608278" data-claire-element-id="608278"><code data-claire-semantic="html+php">&lt;?php
$w = new Writer;
$w-&gt;write('Hello world!');

$m = new Mailer;
$m-&gt;send('Hello world!');</code></pre><p id="r-608279" data-claire-element-id="608279">Nous venons ici de supprimer la duplication de code anciennement présente. Cependant, les traits ne se résument pas qu'à ça ! Regardons par exemple comment utiliser plusieurs traits dans une classe.</p><h5 id="r-utiliser-plusieurs-traits" data-claire-element-id="608291">Utiliser plusieurs traits</h5><h6 id="r-syntaxe-34" data-claire-element-id="608285">Syntaxe</h6><p id="r-608282" data-claire-element-id="608282">Pour utiliser plusieurs traits, rien de plus simple : il vous suffit de lister tous les traits à utiliser séparés par des virgules, comme ceci :</p><pre id="r-608283" data-claire-element-id="608283"><code data-claire-semantic="html+php">&lt;?php
trait HTMLFormater
{
  public function formatHTML($text)
  {
    return '&lt;p&gt;Date : '.date('d/m/Y').'&lt;/p&gt;'.&quot;\n&quot;.
           '&lt;p&gt;'.nl2br($text).'&lt;/p&gt;';
  }
}

trait TextFormater
{
  public function formatText($text)
  {
    return 'Date : '.date('d/m/Y').&quot;\n&quot;.$text;
  }
}

class Writer
{
  use HTMLFormater, TextFormater;
  
  public function write($text)
  {
    file_put_contents('fichier.txt', $this-&gt;formatHTML($text));
  }
}</code></pre><p id="r-608284" data-claire-element-id="608284">Je vous laisse essayer ce code, je suis sûr que vous y arriverez seuls !</p><h6 id="r-resolution-des-conflits" data-claire-element-id="608290">Résolution des conflits</h6><p id="r-608286" data-claire-element-id="608286">Le code donné plus haut est bien beau, mais que se passerait-il si nos traits avaient tous les deux une méthode nommée <code>format()</code> ? Je vous laisse essayer... Et oui, une erreur fatale avec le message <em>« Trait method format has not been applied, because there are collisions with other trait methods »</em> est levée. Pour pallier ce problème, nous pouvons donner une priorité à une méthode d'un trait afin de lui permettre d'écraser la méthode de l'autre trait si il y en une identique.</p><p id="r-608287" data-claire-element-id="608287">Par exemple, si dans notre classe <code>Writer</code> nous voulions formater notre message en HTML, nous pourrions faire :</p><pre id="r-608288" data-claire-element-id="608288"><code data-claire-semantic="html+php">&lt;?php
class Writer
{
  use HTMLFormater, TextFormater
  {
    HTMLFormater::format insteadof TextFormater;
  }
  
  public function write($text)
  {
    file_put_contents('fichier.txt', $this-&gt;format($text));
  }
}</code></pre><p id="r-608289" data-claire-element-id="608289">Regardons de plus près cette ligne n°6. Pour commencer, notez qu'elle est définie dans une paire d'accolades suivant les noms des traits à utiliser. À l'intérieur de cette paire d'accolades se trouve la liste des « méthodes prioritaires ». Chaque déclaration de priorité se fait en se terminant par un point-virgule. Cette ligne signifie donc <em> : « La méthode <code>format()</code> du trait <code>HTMLFormater</code> écrasera la méthode du même nom du trait <code>TextFormater</code> (si elle y est définie). »</em></p><h5 id="r-methodes-de-traits-vs-methodes-de-classes" data-claire-element-id="608298">Méthodes de traits vs. méthodes de classes</h5><h6 id="r-la-classe-plus-forte-que-le-trait" data-claire-element-id="608294">La classe plus forte que le trait</h6><p id="r-608292" data-claire-element-id="608292">Terminons cette introduction aux traits en nous penchant sur les conflits entre méthodes de traits et méthodes de classes. Si une classe déclare une méthode et qu'elle utilise un trait possédant cette même méthode, alors la méthode déclarée dans la classe l'emportera sur la méthode déclarée dans le trait. Exemple :</p><pre id="r-608293" data-claire-element-id="608293"><code data-claire-semantic="html+php">&lt;?php
trait MonTrait
{
  public function sayHello()
  {
    echo 'Hello !';
  }
}

class MaClasse
{
  use MonTrait;
  
  public function sayHello()
  {
    echo 'Bonjour !';
  }
}

$objet = new MaClasse;
$objet-&gt;sayHello(); // Affiche « Bonjour ! ».</code></pre><h6 id="r-le-trait-plus-fort-que-la-mere" data-claire-element-id="608297">Le trait plus fort que la mère</h6><p id="r-608295" data-claire-element-id="608295">À l'inverse, si une classe utilise un trait possédant une méthode déjà implémentée dans la classe mère de la classe utilisant le trait, alors ce sera la méthode du trait qui sera utilisée (la méthode du trait écrasera celle de la méthode de la classe mère). Exemple :</p><pre id="r-608296" data-claire-element-id="608296"><code data-claire-semantic="html+php">&lt;?php
trait MonTrait
{
  public function speak()
  {
    echo 'Je suis un trait !';
  }
}

class Mere
{
  public function speak()
  {
    echo 'Je suis une classe mère !';
  }
}

class Fille extends Mere
{
  use MonTrait;
}

$fille = new Fille;
$fille-&gt;speak();</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">
<span class="arrow"></span>
<span class="next">Les traits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
<span class="next">Plus loin avec les traits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Plusloinaveclestraits"></a><h2>Plus loin avec les traits</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
<span class="arrow"></span>
<span class="next">Le principe des traits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">
<span class="next">L&#039;API de réflexivité</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-plus-loin-avec-les-traits" data-claire-element-id="608341">Plus loin avec les traits</h4><h5 id="r-definition-d-attributs" data-claire-element-id="608314">Définition d'attributs</h5><h6 id="r-syntaxe-35" data-claire-element-id="608304">Syntaxe</h6><p id="r-608300" data-claire-element-id="608300">Nous avons vu que les traits servaient à isoler des méthodes afin de pouvoir les utiliser dans deux classes totalement indépendantes. Si le besoin s'en fait sentir, sachez que vous pouvez aussi définir des attributs dans votre trait. Ils seront alors à leur tour <strong>importés</strong> dans la classe qui utilisera ce trait. Exemple :</p><pre id="r-608301" data-claire-element-id="608301"><code data-claire-semantic="html+php">&lt;?php
trait MonTrait
{
  protected $attr = 'Hello !';
  
  public function showAttr()
  {
    echo $this-&gt;attr;
  }
}

class MaClasse
{
  use MonTrait;
}

$fille = new MaClasse;
$fille-&gt;showAttr();</code></pre><aside id="r-608303" data-claire-element-id="608303" data-claire-semantic="error"><p id="r-608302" data-claire-element-id="608302">À l'inverse d'une méthode, un attribut ne peut pas être <code>static</code> !</p></aside><h6 id="r-conflit-entre-attributs" data-claire-element-id="608313">Conflit entre attributs</h6><p id="r-608305" data-claire-element-id="608305">Si un attribut est défini dans un trait, alors la classe utilisant le trait ne peut pas définir d'attribut possédant le même nom. Suivant la déclaration de l'attribut, deux cas peuvent se présenter :</p><ul id="r-608310" data-claire-element-id="608310"><li id="r-608307" data-claire-element-id="608307"><p id="r-608306" data-claire-element-id="608306">Si l'attribut déclaré dans la classe a le même nom mais pas la même valeur initiale ou pas la même visibilité, une erreur fatale est levée.</p></li><li id="r-608309" data-claire-element-id="608309"><p id="r-608308" data-claire-element-id="608308">Si l'attribut déclaré dans la classe a le même nom, une valeur initiale identique et la même visibilité, une erreur stricte est levée (il est possible, suivant votre configuration, que PHP n'affiche pas ce genre d'erreur).</p></li></ul><p id="r-608311" data-claire-element-id="608311">Malheureusement, il est impossible, comme nous l'avons fait avec les méthodes, de définir des attributs prioritaires. Veillez donc bien à ne pas utiliser ce genre de code :</p><pre id="r-608312" data-claire-element-id="608312"><code data-claire-semantic="html+php">&lt;?php
trait MonTrait
{
  protected $attr = 'Hello !';
}

class MaClasse
{
  use MonTrait;
  
  protected $attr = 'Hello !'; // Lèvera une erreur stricte.
  protected $attr = 'Bonjour !'; // Lèvera une erreur fatale.
  private $attr = 'Hello !'; // Lèvera une erreur fatale.
}</code></pre><h5 id="r-traits-composes-d-autres-traits" data-claire-element-id="608317">Traits composés d'autres traits</h5><p id="r-608315" data-claire-element-id="608315">Au même titre que les classes, les traits peuvent eux aussi utiliser des traits. La façon de procéder est la même qu'avec les classes, tout comme la gestion des conflits entre méthodes. Voici un exemple :</p><pre id="r-608316" data-claire-element-id="608316"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  public function saySomething()
  {
    echo 'Je suis le trait A !';
  }
}

trait B
{
  use A;
  
  public function saySomethingElse()
  {
    echo 'Je suis le trait B !';
  }
}

class MaClasse
{
  use B;
}

$o = new MaClasse;
$o-&gt;saySomething();
$o-&gt;saySomethingElse();</code></pre><h5 id="r-changer-la-visibilite-et-le-nom-des-methodes" data-claire-element-id="608323">Changer la visibilité et le nom des méthodes</h5><p id="r-608318" data-claire-element-id="608318">Si un trait implémente une méthode, toute classe utilisant ce trait a la capacité de changer sa visibilité, c'est-à-dire la passer en privé, protégé ou public. Pour cela, nous allons à nouveau se servir des accolades qui ont suivi la déclaration de <code>use</code> pour y glisser une instruction. Cette instruction fait appel à l'opérateur <code>as</code>, que vous avez déjà peut-être rencontré dans l'utilisation de <em>namespaces</em> (si ce n'est pas le cas, ce n'est pas grave du tout). Le rôle est ici le même : créer un alias. En effet, vous pouvez aussi <strong>changer</strong> le nom des méthodes. Dans ce dernier cas, la méthode ne sera pas renommée, mais copiée sous un autre nom, ce qui signifie que vous pourrez toujours y accéder sous son ancien nom.</p><p id="r-608319" data-claire-element-id="608319">Quelques petits exemples pour que vous compreniez :</p><pre id="r-608320" data-claire-element-id="608320"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  public function saySomething()
  {
    echo 'Je suis le trait A !';
  }
}

class MaClasse
{
  use A
  {
    saySomething as protected;
  }
}

$o = new MaClasse;
$o-&gt;saySomething(); // Lèvera une erreur fatale car on tente d'accéder à une méthode protégée.</code></pre><pre id="r-608321" data-claire-element-id="608321"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  public function saySomething()
  {
    echo 'Je suis le trait A !';
  }
}

class MaClasse
{
  use A
  {
    saySomething as sayWhoYouAre;
  }
}

$o = new MaClasse;
$o-&gt;sayWhoYouAre(); // Affichera « Je suis le trait A ! »
$o-&gt;saySomething(); // Affichera « Je suis le trait A ! »</code></pre><pre id="r-608322" data-claire-element-id="608322"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  public function saySomething()
  {
    echo 'Je suis le trait A !';
  }
}

class MaClasse
{
  use A
  {
    saySomething as protected sayWhoYouAre;
  }
}

$o = new MaClasse;
$o-&gt;saySomething(); // Affichera « Je suis le trait A ! ».
$o-&gt;sayWhoYouAre(); // Lèvera une erreur fatale, car l'alias créé est une méthode protégée.</code></pre><h5 id="r-methodes-abstraites-dans-les-traits" data-claire-element-id="608328">Méthodes abstraites dans les traits</h5><p id="r-608324" data-claire-element-id="608324">Enfin, sachez que l'on peut forcer la classe utilisant le trait à implémenter certaines méthodes au moyen de méthodes abstraites. Ainsi, ce code lèvera une erreur fatale :</p><pre id="r-608325" data-claire-element-id="608325"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  abstract public function saySomething();
}

class MaClasse
{
  use A;
}</code></pre><p id="r-608326" data-claire-element-id="608326">Cependant, si la classe utilisant le trait déclarant une méthode abstraite est elle aussi abstraite, alors ce sera à ses classes filles d'implémenter les méthodes abstraites du trait (elle peut le faire, mais elle n'est pas obligée). Exemple :</p><pre id="r-608327" data-claire-element-id="608327"><code data-claire-semantic="html+php">&lt;?php
trait A
{
  abstract public function saySomething();
}

abstract class Mere
{
  use A;
}

// Jusque-là, aucune erreur n'est levée.

class Fille extends Mere
{
  // Par contre, une erreur fatale est ici levée, car la méthode saySomething() n'a pas été implémentée.
}</code></pre><h5 id="r-en-resume-200" data-claire-element-id="608340">En résumé</h5><ul id="r-608339" data-claire-element-id="608339"><li id="r-608330" data-claire-element-id="608330"><p id="r-608329" data-claire-element-id="608329">Les traits sont un moyen pour éviter la duplication de méthodes.</p></li><li id="r-608332" data-claire-element-id="608332"><p id="r-608331" data-claire-element-id="608331">Un trait s'utilise grâce au mot-clé <code>use</code>.</p></li><li id="r-608334" data-claire-element-id="608334"><p id="r-608333" data-claire-element-id="608333">Il est possible d'utiliser une infinité de traits dans une classe en résolvant les conflits éventuels avec <code>insteadof</code>.</p></li><li id="r-608336" data-claire-element-id="608336"><p id="r-608335" data-claire-element-id="608335">Un trait peut lui-même utiliser un autre trait.</p></li><li id="r-608338" data-claire-element-id="608338"><p id="r-608337" data-claire-element-id="608337">Il est possible de changer la visibilité d'une méthode ainsi que son nom grâce au mot-clé <code>as</code>.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
<span class="arrow"></span>
<span class="next">Le principe des traits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">
<span class="next">L&#039;API de réflexivité</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039APIderflexivit"></a><h2>L&#039;API de réflexivité</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
<span class="arrow"></span>
<span class="next">Plus loin avec les traits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
<span class="next">Obtenir des informations sur ses classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608343" data-claire-element-id="608343">En tant que développeur, vous savez que telle classe hérite de telle autre ou que tel attribut est protégé par exemple. Cependant, votre script PHP, lui ne le sait pas : comment feriez-vous pour afficher à l'écran par exemple que telle classe hérite de telle autre (dynamiquement bien entendu :-° ) ? Cela est pour vous impossible. Je vais cependant vous dévoiler la solution : pour y parvenir, on se sert de l'API de réflexivité qui va justement nous permettre d'obtenir des informations sur nos classes, attributs et méthodes.</p><p id="r-608344" data-claire-element-id="608344">Une fois que nos aurons vu tout cela, nous allons nous pencher sur un exemple d'utilisation. Pour cela, nous utiliserons une bibliothèque qui se sert de l'API de réflexivité pour exploiter les <strong>annotations</strong>, terme sans doute inconnu en programmation pour la plupart d'entre vous.</p>
</div><a name="Obtenirdesinformationssursesclasses"></a><h2>Obtenir des informations sur ses classes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">
<span class="arrow"></span>
<span class="next">L&#039;API de réflexivité</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
<span class="next">Obtenir des informations sur les attributs de ses classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-obtenir-des-informations-sur-ses-classes" data-claire-element-id="608390">Obtenir des informations sur ses classes</h4><p id="r-608345" data-claire-element-id="608345">Qui dit « Réflexivité » dit « Instanciation de classe ». Nous allons donc instancier une classe qui nous fournira des informations sur telle classe. Dans cette section, il s'agit de la classe <code>ReflectionClass</code>. Quand nous l'instancierons, nous devrons spécifier le nom de la classe sur laquelle on veut obtenir des informations. Nous allons prendre pour exemple la classe <code>Magicien</code> de notre précédent TP.</p><p id="r-608346" data-claire-element-id="608346">Pour obtenir des informations la concernant, nous allons procéder comme suit :</p><pre id="r-608347" data-claire-element-id="608347"><code data-claire-semantic="html+php">&lt;?php
$classeMagicien = new ReflectionClass('Magicien'); // Le nom de la classe doit être entre apostrophes ou guillemets.
?&gt;</code></pre><aside id="r-608349" data-claire-element-id="608349" data-claire-semantic="information"><p id="r-608348" data-claire-element-id="608348">La classe <code>ReflectionClass</code> possède beaucoup de méthodes et je ne pourrai, par conséquent, toutes vous les présenter.</p></aside><p id="r-608350" data-claire-element-id="608350">Il est également possible d'obtenir des informations sur une classe grâce à un objet. Nous allons pour cela instancier la classe <code>ReflectionObject</code> en fournissant l'instance en guise d'argument. Cette classe hérite de toutes les méthodes de <code>ReflectionClass</code> : elle ne réécrit que deux méthodes (dont le constructeur). La seconde méthode réécrite ne nous intéresse pas. Cette classe n'implémente pas de nouvelles méthodes.</p><p id="r-608351" data-claire-element-id="608351">Exemple d'utilisation très simple :</p><pre id="r-608352" data-claire-element-id="608352"><code data-claire-semantic="html+php">&lt;?php
$magicien = new Magicien(array('nom' =&gt; 'vyk12', 'type' =&gt; 'magicien'));
$classeMagicien = new ReflectionObject($magicien);
?&gt;</code></pre><h5 id="r-informations-propres-a-la-classe" data-claire-element-id="608368">Informations propres à la classe</h5><h6 id="r-les-attributs-3" data-claire-element-id="608356">Les attributs</h6><p id="r-608353" data-claire-element-id="608353">Pour savoir si la classe possède tel attribut, tournons-nous vers <code>ReflectionClass::hasProperty($atrributeName)</code>. Cette méthode retourne vrai si l'attribut passé en paramètre existe et faux s'il n'existe pas. Exemple :</p><pre id="r-608354" data-claire-element-id="608354"><code data-claire-semantic="html+php">&lt;?php
if ($classeMagicien-&gt;hasProperty('magie'))
{
  echo 'La classe Magicien possède un attribut $magie';
}
else
{
  echo 'La classe Magicien ne possède pas d\'attribut $magie';
}
?&gt;</code></pre><p id="r-608355" data-claire-element-id="608355">Vous pouvez aussi récupérer cet attribut afin d'obtenir des informations le concernant comme nous venons de faire jusqu'à maintenant avec notre classe. Nous verrons cela plus tard, une sous-partie entière sera dédiée à ce sujet. ;)</p><h6 id="r-les-methodes-5" data-claire-element-id="608360">Les méthodes</h6><p id="r-608357" data-claire-element-id="608357">Si vous voulez savoir si la classe implémente telle méthode, alors il va falloir regarder du côté de <code>ReflectionClass::hasMethod($methodName)</code>. Celle-ci retourne vrai si la méthode est implémentée ou faux si elle ne l'est pas. Exemple :</p><pre id="r-608358" data-claire-element-id="608358"><code data-claire-semantic="html+php">&lt;?php
if ($classeMagicien-&gt;hasMethod('lancerUnSort'))
{
  echo 'La classe Magicien implémente une méthode lancerUnSort()';
}
else
{
  echo 'La classe Magicien n\'implémente pas de méthode lancerUnSort()';
}
?&gt;</code></pre><p id="r-608359" data-claire-element-id="608359">Vous pouvez, comme pour les attributs, récupérer une méthode, et une sous-partie sera consacrée à la classe permettant d'obtenir des informations sur telle méthode.</p><h6 id="r-les-constantes-2" data-claire-element-id="608367">Les constantes</h6><p id="r-608361" data-claire-element-id="608361">Dans ce cas également, il est possible de savoir si telle classe possède telle constante. Ceci grâce à la méthode <code>ReflectionClass::hasConstant($constName)</code>. Exemple :</p><pre id="r-608362" data-claire-element-id="608362"><code data-claire-semantic="html+php">&lt;?php
if ($classePersonnage-&gt;hasConstant('NOUVEAU'))
{
  echo 'La classe Personnage possède une constante NOUVEAU';
}
else
{
  echo 'La classe Personnage ne possède pas de constante NOUVEAU';
}
?&gt;</code></pre><p id="r-608363" data-claire-element-id="608363">Vous pouvez aussi récupérer la valeur de la constante grâce à <code>ReflectionClass::getConstant($constName)</code> :</p><pre id="r-608364" data-claire-element-id="608364"><code data-claire-semantic="html+php">&lt;?php
if ($classePersonnage-&gt;hasConstant('NOUVEAU'))
{
  echo 'La classe Personnage possède une constante NOUVEAU (celle ci vaut ', $classePersonnage-&gt;getConstant('NOUVEAU'), ')';
}
else
{
  echo 'La classe Personnage ne possède pas de constante NOUVEAU';
}
?&gt;</code></pre><p id="r-608365" data-claire-element-id="608365">Nous pouvons également retrouver la liste complète des constantes d'une classe sous forme de tableau grâce à <code>ReflectionClass::getConstants()</code> :</p><pre id="r-608366" data-claire-element-id="608366"><code data-claire-semantic="html+php">&lt;?php
echo '&lt;pre&gt;', print_r($classePersonnage-&gt;getConstants(), true), '&lt;/pre&gt;';
?&gt;</code></pre><h5 id="r-les-relations-entre-classes" data-claire-element-id="608389">Les relations entre classes</h5><h6 id="r-l-heritage-4" data-claire-element-id="608380">L'héritage</h6><p id="r-608369" data-claire-element-id="608369">Pour récupérer la classe parente de notre classe, nous allons regarder du côté de <code>ReflectionClass::getParentClass()</code>. Cette méthode nous renvoie la classe parente s'il y en a une : la valeur de retour sera une instance de la classe <code>ReflectionClass</code> qui représentera la classe parente ! Si la classe ne possède pas de parent, alors la valeur de retour sera <code>false</code>.</p><p id="r-608370" data-claire-element-id="608370">Exemple :</p><pre id="r-608371" data-claire-element-id="608371"><code data-claire-semantic="html+php">&lt;?php
$classeMagicien = new ReflectionClass('Magicien');

if ($parent = $classeMagicien-&gt;getParentClass())
{
  echo 'La classe Magicien a un parent : il s\'agit de la classe ', $parent-&gt;getName();
}
else
{
  echo 'La classe Magicien n\'a pas de parent';
}
?&gt;</code></pre><p id="r-608372" data-claire-element-id="608372">Voici une belle occasion de vous présenter la méthode <code>ReflectionClass::getName()</code>. Cette méthode se contente de renvoyer le nom de la classe. Pour l'exemple avec le magicien, cela aurait été inutile puisque nous connaissions déjà le nom de la classe, mais ici nous ne le connaissons pas (quand je dis que nous ne le connaissons pas, cela signifie qu'il n'est pas déclaré explicitement dans les dernières lignes de code).</p><p id="r-608373" data-claire-element-id="608373">Dans le domaine de l'héritage, nous pouvons également citer <code>ReflectionClass::isSubclassOf($className)</code>. Cette méthode nous renvoie vrai si la classe spécifiée en paramètre est le parent de notre classe. Exemple :</p><pre id="r-608374" data-claire-element-id="608374"><code data-claire-semantic="html+php">&lt;?php
if ($classeMagicien-&gt;isSubclassOf('Personnage'))
{
  echo 'La classe Magicien a pour parent la classe Personnage';
}
else
{
  echo 'La classe Magicien n\'a la classe Personnage pour parent';
}
?&gt;</code></pre><p id="r-608375" data-claire-element-id="608375">Les deux prochaines méthodes que je vais vous présenter ne sont pas en rapport direct avec l'héritage mais sont cependant utilisées lorsque cette relation existe : il s'agit de savoir si la classe est abstraite ou finale. Nous avons pour cela les méthodes <code>ReflectionClass::isAbstract()</code> et <code>ReflectionClass::isFinal()</code>. Notre classe <code>Personnage</code> est abstraite, vérifions donc cela :</p><pre id="r-608376" data-claire-element-id="608376"><code data-claire-semantic="html+php">&lt;?php
$classePersonnage = new ReflectionClass('Personnage');

// Est-elle abstraite ?
if ($classePersonnage-&gt;isAbstract())
{
  echo 'La classe Personnage est abstraite';
}
else
{
  echo 'La classe Personnage n\'est pas abstraite';
}

// Est-elle finale ?
if ($classePersonnage-&gt;isFinal())
{
  echo 'La classe Personnage est finale';
}
else
{
  echo 'La classe Personnage n\'est pas finale';
}
?&gt;</code></pre><p id="r-608377" data-claire-element-id="608377">Dans le même genre, <code>ReflectionClass::isInstantiable()</code> permet également de savoir si notre classe est instanciable. Comme la classe <code>Personnage</code> est abstraite, elle ne peut pas l'être. Vérifions cela :</p><pre id="r-608378" data-claire-element-id="608378"><code data-claire-semantic="html+php">&lt;?php
if ($classePersonnage-&gt;isInstantiable())
{
  echo 'La classe Personnage est instanciable';
}
else
{
  echo 'La classe personnage n\'est pas instanciable';
}
?&gt;</code></pre><p id="r-608379" data-claire-element-id="608379">Bref, pas de grosse surprise. :)</p><h6 id="r-les-interfaces-2" data-claire-element-id="608388">Les interfaces</h6><p id="r-608381" data-claire-element-id="608381">Voyons maintenant les méthodes en rapport avec les interfaces. Comme je vous l'ai déjà dit, une interface n'est autre qu'une classe entièrement abstraite : nous pouvons donc instancier la classe <code>ReflectionClass</code> en spécifiant une interface en paramètre et vérifier si celle-ci est bien une interface grâce à la méthode <code>ReflectionClass::isInterface()</code>.</p><aside id="r-608383" data-claire-element-id="608383" data-claire-semantic="information"><p id="r-608382" data-claire-element-id="608382">Dans les exemples qui vont suivre, nous allons admettre que la classe <code>Magicien</code> implémente une interface <code>iMagicien</code>.</p></aside><pre id="r-608384" data-claire-element-id="608384"><code data-claire-semantic="html+php">&lt;?php
$classeIMagicien = new ReflectionClass('iMagicien');

if ($classeIMagicien-&gt;isInterface())
{
   echo 'La classe iMagicien est une interface';
}
else
{
  echo 'La classe iMagicien n\'est pas une interface';
}
?&gt;</code></pre><p id="r-608385" data-claire-element-id="608385">Vous pouvez aussi savoir si telle classe implémente telle interface grâce à la méthode <code>ReflectionClass::implementsInterface($interfaceName)</code>. Exemple :</p><pre id="r-608386" data-claire-element-id="608386"><code data-claire-semantic="html+php">&lt;?php
if ($classeMagicien-&gt;implementsInterface('iMagicien'))
{
  echo 'La classe Magicien implémente l\'interface iMagicien';
}
else
{
  echo 'La classe Magicien n\'implémente pas l\'interface iMagicien';
}
?&gt;</code></pre><p id="r-608387" data-claire-element-id="608387">Il est aussi possible de récupérer toutes les interfaces implémentées, interfaces contenues dans un tableau. Pour cela, deux méthodes sont à votre disposition : <code>ReflectionClass::getInterfaces()</code> et <code>ReflectionClass::getInterfaceNames()</code>. La première renvoie autant d'instances de la classe <code>ReflectionClass</code> qu'il y a d'interfaces, chacune représentant une interface. La seconde méthode se contente uniquement de renvoyer un tableau contenant le nom de toutes les interfaces implémentées. Je pense qu'il est inutile de donner un exemple sur ce point-là. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">
<span class="arrow"></span>
<span class="next">L&#039;API de réflexivité</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
<span class="next">Obtenir des informations sur les attributs de ses classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Obtenirdesinformationssurlesattributsdesesclasses"></a><h2>Obtenir des informations sur les attributs de ses classes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
<span class="next">Obtenir des informations sur les méthodes de ses classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-obtenir-des-informations-sur-les-attributs-de-ses-classes" data-claire-element-id="608426">Obtenir des informations sur les attributs de ses classes</h4><p id="r-608391" data-claire-element-id="608391">Nous avons assez parlé de la classe, intéressons-nous maintenant à ses attributs. La classe qui va nous permettre d'en savoir plus à leur sujet est <code>ReflectionProperty</code>. Il y a deux moyens d'utiliser cette classe : l'instancier directement ou utiliser une méthode de <code>ReflectionClass</code> qui nous renverra une instance de <code>ReflectionProperty</code>.</p><h5 id="r-instanciation-directe" data-claire-element-id="608395">Instanciation directe</h5><p id="r-608392" data-claire-element-id="608392">L'appel du constructeur se fait en lui passant deux arguments. Le premier est le nom de la classe, et le second est le nom de l'attribut. Exemple :</p><pre id="r-608393" data-claire-element-id="608393"><code data-claire-semantic="html+php">&lt;?php
$attributMagie = new ReflectionProperty('Magicien', 'magie');
?&gt;</code></pre><p id="r-608394" data-claire-element-id="608394">Tout simplement. :)</p><h5 id="r-recuperation-d-attribut-d-une-classe" data-claire-element-id="608403">Récupération d'attribut d'une classe</h5><h6 id="r-recuperer-un-attribut" data-claire-element-id="608398">Récupérer un attribut</h6><p id="r-608396" data-claire-element-id="608396">Pour récupérer un attribut d'une classe, nous aurons besoin de la méthode <code>ReflectionClass::getProperty($attrName)</code> :</p><pre id="r-608397" data-claire-element-id="608397"><code data-claire-semantic="html+php">&lt;?php
$classeMagicien = new ReflectionClass('Magicien');
$attributMagie = $classeMagicien-&gt;getProperty('magie');
?&gt;</code></pre><h6 id="r-recuperer-tous-les-attributs" data-claire-element-id="608402">Récupérer tous les attributs</h6><p id="r-608399" data-claire-element-id="608399">Si vous souhaitez récupérer tous les attributs d'une classe, il va falloir se servir de <code>ReflectionClass::getProperties()</code>. Le résultat retourné est un tableau contenant autant d'instances de <code>ReflectionProperty</code> que d'attributs.</p><pre id="r-608400" data-claire-element-id="608400"><code data-claire-semantic="html+php">&lt;?php
$classePersonnage = new ReflectionClass('Personnage');
$attributsPersonnage = $classeMagicien-&gt;getProperties();
?&gt;</code></pre><p id="r-608401" data-claire-element-id="608401">Après avoir vu comment récupérer un attribut, nous allons voir ce que l'on peut faire avec. :)</p><h5 id="r-le-nom-et-la-valeur-des-attributs" data-claire-element-id="608413">Le nom et la valeur des attributs</h5><p id="r-608404" data-claire-element-id="608404">Afin de récupérer le nom de l'attribut, nous avons toujours la méthode <code>ReflectionProperty::getName()</code>. Pour obtenir la valeur de celui-ci, nous utiliserons la méthode <code>ReflectionProperty::getValue($object)</code>. Nous devrons spécifier à cette dernière méthode l'instance dans laquelle nous voulons obtenir la valeur de l'attribut : chaque attribut est propre à chaque instance, ça n'aurait pas de sens de demander la valeur de l'attribut d'une classe. ;)</p><p id="r-608405" data-claire-element-id="608405">Pour nous exercer, nous allons lister tous les attributs de la classe <code>Magicien</code>.</p><pre id="r-608406" data-claire-element-id="608406"><code data-claire-semantic="html+php">&lt;?php
$classeMagicien = new ReflectionClass('Magicien');
$magicien = new Magicien(array('nom' =&gt; 'vyk12', 'type' =&gt; 'magicien'));

foreach ($classeMagicien-&gt;getProperties() as $attribut)
{
  echo $attribut-&gt;getName(), ' =&gt; ', $attribut-&gt;getValue($magicien);
}
?&gt;</code></pre><div id="r-608408" data-claire-element-id="608408" data-claire-semantic="question"><p id="r-608407" data-claire-element-id="608407">Il fonctionne pas ton code, j'ai une vieille erreur fatale qui me bloque tout...</p></div><p id="r-608409" data-claire-element-id="608409">En effet. Cette erreur fatale est levée car vous avez appelé la méthode <code>ReflectionProperty::getValue()</code> sur un attribut <strong>non public</strong>. Il faut donc rendre l'attribut <strong>accessible</strong> grâce à <code>ReflectionProperty::setAccessible($accessible)</code>, où <code>$accessible</code> vaut vrai ou faux selon si vous voulez rendre l'attribut accessible ou non.</p><pre id="r-608410" data-claire-element-id="608410"><code data-claire-semantic="html+php">&lt;?php
$classeMagicien = new ReflectionClass('Magicien');
$magicien = new Magicien(array('nom' =&gt; 'vyk12', 'type' =&gt; 'magicien'));

foreach ($classeMagicien-&gt;getProperties() as $attribut)
{
  $attribut-&gt;setAccessible(true);
  echo $attribut-&gt;getName(), ' =&gt; ', $attribut-&gt;getValue($magicien);
}
?&gt;</code></pre><aside id="r-608412" data-claire-element-id="608412" data-claire-semantic="warning"><p id="r-608411" data-claire-element-id="608411">Quand vous rendez un attribut accessible, vous pouvez modifier sa valeur grâce à <code>ReflectionProperty::setValue($objet, $valeur)</code>, ce qui est contre le principe d'encapsulation. Pensez donc bien à rendre l'attribut inaccessible après sa lecture en faisant <code>$attribut-&gt;setAccessible(false).</code></p></aside><h5 id="r-portee-de-l-attribut" data-claire-element-id="608418">Portée de l'attribut</h5><p id="r-608414" data-claire-element-id="608414">Il est tout à fait possible de savoir si un attribut est privé, protégé ou public grâce aux méthodes <code>ReflectionProperty::isPrivate()</code>, <code>ReflectionProperty::isProtected()</code> et <code>ReflectionProperty::isPublic()</code>.</p><pre id="r-608415" data-claire-element-id="608415"><code data-claire-semantic="html+php">&lt;?php
$uneClasse = new ReflectionClass('MaClasse');

foreach ($uneClasse-&gt;getProperties() as $attribut)
{
  echo $attribut-&gt;getName(), ' =&gt; attribut ';
  
  if ($attribut-&gt;isPublic())
  {
    echo 'public';
  }
  elseif ($attribut-&gt;isProtected())
  {
    echo 'protégé';
  }
  else
  {
    echo 'privé';
  }
}
?&gt;</code></pre><p id="r-608416" data-claire-element-id="608416">Il existe aussi une méthode permettant de savoir si l'attribut est statique ou non grâce à <code>ReflectionProperty::isStatic()</code>.</p><pre id="r-608417" data-claire-element-id="608417"><code data-claire-semantic="html+php">&lt;?php
$uneClasse = new ReflectionClass('MaClasse');

foreach ($uneClasse-&gt;getProperties() as $attribut)
{
  echo $attribut-&gt;getName(), ' =&gt; attribut ';
  
  if ($attribut-&gt;isPublic())
  {
    echo 'public';
  }
  elseif ($attribut-&gt;isProtected())
  {
    echo 'protégé';
  }
  else
  {
    echo 'privé';
  }
  
  if ($attribut-&gt;isStatic())
  {
    echo ' (attribut statique)';
  }
}
?&gt;</code></pre><h5 id="r-les-attributs-statiques-2" data-claire-element-id="608425">Les attributs statiques</h5><p id="r-608419" data-claire-element-id="608419">Le traitement d'attributs statiques diffère un peu dans le sens où ce n'est pas un attribut d'une <strong>instance</strong> mais un attribut de la <strong>classe</strong>. Ainsi, vous n'êtes pas obligés de spécifier d'instance lors de l'appel de <code>ReflectionProperty::getValue()</code> car un attribut statique n'appartient à aucune instance.</p><pre id="r-608420" data-claire-element-id="608420"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public static $attr = 'Hello world !';
}

$classeA = new ReflectionClass('A');
echo $classeA-&gt;getProperty('attr')-&gt;getValue();
?&gt;</code></pre><p id="r-608421" data-claire-element-id="608421">Au lieu d'utiliser cette façon de faire, vous pouvez directement appeler <code>ReflectionClass::getStaticPropertyValue($attr)</code>, où <code>$attr</code> est le nom de l'attribut. Dans le même genre, on peut citer <code>ReflectionClass::setStaticPropertyValue($attr, $value)</code> où <code>$value</code> est la nouvelle valeur de l'attribut.</p><pre id="r-608422" data-claire-element-id="608422"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public static $attr = 'Hello world !';
}

$classeA = new ReflectionClass('A');
echo $classeA-&gt;getStaticPropertyValue('attr'); // Affiche Hello world !

$classeA-&gt;setStaticPropertyValue('attr', 'Bonjour le monde !');
echo $classeA-&gt;getStaticPropertyValue('attr'); // Affiche Bonjour le monde !
?&gt;</code></pre><p id="r-608423" data-claire-element-id="608423">Vous avez aussi la possibilité d'obtenir tous les attributs statiques grâce à <code>ReflectionClass::getStaticProperties()</code>. Le tableau retourné ne contient pas des instances de <code>ReflectionProperty</code> mais uniquement les valeurs de chaque attribut.</p><pre id="r-608424" data-claire-element-id="608424"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public static $attr1 = 'Hello world !';
  public static $attr2 = 'Bonjour le monde !';
}

$classeA = new ReflectionClass('A');

foreach ($classeA-&gt;getStaticProperties() as $attr)
{
  echo $attr;
}

// À l'écran s'affichera Hello world ! Bonjour le monde !
?&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
<span class="next">Obtenir des informations sur les méthodes de ses classes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Obtenirdesinformationssurlesmthodesdesesclasses"></a><h2>Obtenir des informations sur les méthodes de ses classes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur les attributs de ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
<span class="next">Utiliser des annotations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-obtenir-des-informations-sur-les-methodes-de-ses-classes" data-claire-element-id="608454">Obtenir des informations sur les méthodes de ses classes</h4><p id="r-608427" data-claire-element-id="608427">Voici la dernière classe faisant partie de l'API de réflexivité que je vais vous présenter : il s'agit de <code>ReflectionMethod</code>. Comme vous l'aurez deviné, c'est grâce à celle-ci que l'on pourra obtenir des informations concernant telle ou telle méthode. Nous pourrons connaître la portée de la méthode (publique, protégée ou privée), si elle est statique ou non, abstraite ou finale, s'il s'agit du constructeur ou du destructeur et on pourra même l'appeler sur un objet. :)</p><h5 id="r-creation-d-une-instance-de-reflectionmethod" data-claire-element-id="608434">Création d'une instance de <code>ReflectionMethod</code></h5><h6 id="r-instanciation-directe-1" data-claire-element-id="608430">Instanciation directe</h6><p id="r-608428" data-claire-element-id="608428">Le constructeur de <code>ReflectionMethod</code> demande deux arguments : le nom de la classe et le nom de la méthode. Exemple :</p><pre id="r-608429" data-claire-element-id="608429"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function hello($arg1, $arg2, $arg3 = 1, $arg4 = 'Hello world !')
  {
    echo 'Hello world !';
  }
}

$methode = new ReflectionMethod('A', 'hello');
?&gt;</code></pre><h6 id="r-recuperation-d-une-methode-d-une-classe" data-claire-element-id="608433">Récupération d'une méthode d'une classe</h6><p id="r-608431" data-claire-element-id="608431">La seconde façon de procéder est de récupérer la méthode de la classe grâce à <code>ReflectionClass::getMethod($name)</code>. Celle-ci renvoie une instance de <code>ReflectionClass</code> représentant la méthode.</p><pre id="r-608432" data-claire-element-id="608432"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function hello($arg1, $arg2, $arg3 = 1, $arg4 = 'Hello world !')
  {
    echo 'Hello world !';
  }
}

$classeA = new ReflectionClass('A');
$methode = $classeA-&gt;getMethod('hello');
?&gt;</code></pre><h5 id="r-publique-protegee-ou-privee" data-claire-element-id="608439">Publique, protégée ou privée ?</h5><p id="r-608435" data-claire-element-id="608435">Comme pour les attributs, nous avons des méthodes pour le savoir : j'ai nommé <code>ReflectionMethod::isPublic()</code>, <code>ReflectionMethod::isProtected()</code> et <code>ReflectionMethod::isPrivate()</code>. Je ne vais pas m'étendre sur le sujet, vous savez déjà vous en servir. ;)</p><pre id="r-608436" data-claire-element-id="608436"><code data-claire-semantic="html+php">&lt;?php
$classeA = new ReflectionClass('A');
$methode = $classeA-&gt;getMethod('hello');

echo 'La méthode ', $methode-&gt;getName(), ' est ';

if ($methode-&gt;isPublic())
{
  echo 'publique';
}
elseif ($methode-&gt;isProtected())
{
  echo 'protégée';
}
else
{
  echo 'privée';
}
?&gt;</code></pre><p id="r-608437" data-claire-element-id="608437">Je suis sûr que vous savez quelle méthode permet de savoir si elle est statique ou non. ;)</p><pre id="r-608438" data-claire-element-id="608438"><code data-claire-semantic="html+php">&lt;?php
$classeA = new ReflectionClass('A');
$methode = $classeA-&gt;getMethod('hello');

echo 'La méthode ', $methode-&gt;getName(), ' est ';

if ($methode-&gt;isPublic())
{
  echo 'publique';
}
elseif ($methode-&gt;isProtected())
{
  echo 'protégée';
}
else
{
  echo 'privée';
}

if ($methode-&gt;isStatic())
{
  echo ' (en plus elle est statique)';
}
?&gt;</code></pre><h5 id="r-abstraite-finale" data-claire-element-id="608442">Abstraite ? Finale ?</h5><p id="r-608440" data-claire-element-id="608440">Les méthodes permettant de savoir si une méthode est abstraite ou finale sont très simples à retenir : il s'agit de <code>ReflectionMethod::isAbstract()</code> et <code>ReflectionMethod::isFinal()</code>.</p><pre id="r-608441" data-claire-element-id="608441"><code data-claire-semantic="html+php">&lt;?php
$classeA = new ReflectionClass('A');
$methode = $classeA-&gt;getMethod('hello');

echo 'La méthode ', $methode-&gt;getName(), ' est ';

if ($methode-&gt;isAbstract())
{
  echo 'abstraite';
}
elseif ($methode-&gt;isFinal())
{
  echo 'finale';
}
else
{
  echo '« normale »';
}
?&gt;</code></pre><h5 id="r-constructeur-destructeur" data-claire-element-id="608447">Constructeur ? Destructeur ?</h5><p id="r-608443" data-claire-element-id="608443">Dans le même genre, <code>ReflectionMethod::isConstructor()</code> et <code>ReflectionMethod::isDestructor()</code> permettent de savoir si la méthode est le constructeur ou le destructeur de la classe.</p><pre id="r-608444" data-claire-element-id="608444"><code data-claire-semantic="html+php">&lt;?php
$classeA = new ReflectionClass('A');
$methode = $classeA-&gt;getMethod('hello');

if ($methode-&gt;isConstructor())
{
  echo 'La méthode ', $methode-&gt;getName(), ' est le constructeur';
}
elseif ($methode-&gt;isDestructor())
{
  echo 'La méthode ', $methode-&gt;getName(), ' est le destructeur';
}
?&gt;</code></pre><aside id="r-608446" data-claire-element-id="608446" data-claire-semantic="information"><p id="r-608445" data-claire-element-id="608445">Pour que la première condition renvoie vrai, il ne faut pas obligatoirement que la méthode soit nommée <code>__construct</code>. En effet, si la méthode a le même nom que la classe, celle-ci est considérée comme le constructeur de la classe car, sous PHP 4, c'était de cette façon que l'on implémentait le constructeur : il n'y avait jamais de <code>__construct</code>. Pour que les scripts développés sous PHP 4 soient aussi compatibles sous PHP 5, le constructeur peut également être implémenté de cette manière, mais il est clairement préférable d'utiliser la méthode magique créée pour cet effet. ;)</p></aside><h5 id="r-appeler-la-methode-sur-un-objet" data-claire-element-id="608453">Appeler la méthode sur un objet</h5><p id="r-608448" data-claire-element-id="608448">Pour réaliser ce genre de chose, nous allons avoir besoin de <code>ReflectionMethod::invoke($object, $args)</code>. Le premier argument est l'objet sur lequel on veut appeler la méthode. Viennent ensuite tous les arguments que vous voulez passer à la méthode : vous devrez donc passer autant d'arguments que la méthode appelée en exige. Prenons un exemple tout simple, vous comprendrez mieux :</p><pre id="r-608449" data-claire-element-id="608449"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function hello($arg1, $arg2, $arg3 = 1, $arg4 = 'Hello world !')
  {
    var_dump($arg1, $arg2, $arg3, $arg4);
  }
}

$a = new A;
$hello = new ReflectionMethod('A', 'hello');

$hello-&gt;invoke($a, 'test', 'autre test'); // On ne va passer que deux arguments à notre méthode.

// A l'écran s'affichera donc :
// string(4) &quot;test&quot; string(10) &quot;autre test&quot; int(1) string(13) &quot;Hello world !&quot;
?&gt;</code></pre><p id="r-608450" data-claire-element-id="608450">Une méthode semblable à <code>ReflectionMethod::invoke($object, $args)</code> existe : il s'agit de <code>ReflectionMethod::invokeArgs($object, $args)</code>. La différence entre ces deux méthodes est que la seconde demandera les arguments listés dans un tableau au lieu de les lister en paramètres. L'équivalent du code précédent avec <code>Reflection::invokeArgs()</code> serait donc le suivant :</p><pre id="r-608451" data-claire-element-id="608451"><code data-claire-semantic="html+php">&lt;?php
class A
{
  public function hello($arg1, $arg2, $arg3 = 1, $arg4 = 'Hello world !')
  {
    var_dump($arg1, $arg2, $arg3, $arg4);
  }
}

$a = new A;
$hello = new ReflectionMethod('A', 'hello');

$hello-&gt;invokeArgs($a, array('test', 'autre test')); // Les deux arguments sont cette fois-ci contenus dans un tableau.

// Le résultat affiché est exactement le même.
?&gt;</code></pre><p id="r-608452" data-claire-element-id="608452">Si vous n'avez pas accès à la méthode à cause de sa portée restreinte, vous pouvez la rendre accessible comme on l'a fait avec les attributs, grâce à la méthode <code>ReflectionMethod::setAccessible($bool)</code>. Si <code>$bool</code> vaut <code>true</code>, alors la méthode sera accessible, sinon elle ne le sera pas. Je me passe d'exemple, je suis sûr que vous trouverez tous seuls. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur les attributs de ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
<span class="next">Utiliser des annotations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserdesannotations"></a><h2>Utiliser des annotations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur les méthodes de ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">
<span class="next">UML : présentation (1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utiliser-des-annotations" data-claire-element-id="608520">Utiliser des annotations</h4><p id="r-608455" data-claire-element-id="608455">À présent, je vais vous montrer quelque chose d'intéressant qu'il est possible de faire grâce à la réflexivité : utiliser des annotations pour vos classes, méthodes et attributs, mais surtout y accéder durant l'exécution du script. Que sont les annotations ? Les annotations sont des méta-données relatives à la classe, méthode ou attribut, qui apportent des informations sur l'entité souhaitée. Elles sont insérées dans des commentaires utilisant le syntaxe <strong>doc block</strong>, comme ceci :</p><pre id="r-608456" data-claire-element-id="608456"><code data-claire-semantic="html+php">&lt;?php
/**
 * @version 2.0
 */
class Personnage
{
  // ...
}</code></pre><p id="r-608457" data-claire-element-id="608457">Les annotations s'insèrent à peu près de la même façon, mais la syntaxe est un peu différente. En effet, la syntaxe doit être précise pour qu'elle puisse être parsée par la bibliothèque que nous allons utiliser pour récupérer les données souhaitées.</p><h5 id="r-presentation-d-addendum" data-claire-element-id="608469">Présentation d'addendum</h5><p id="r-608458" data-claire-element-id="608458">Cette section aura pour but de présenter les annotations par le biais de la bibliothèque <strong>addendum</strong> qui parsera les codes pour en extraire les informations. Pour cela, commencez par <a href="http://code.google.com/p/addendum/downloads/list">télécharger addendum</a>, et décompressez l'archive dans le dossier contenant votre projet.</p><p id="r-608459" data-claire-element-id="608459">Commençons par créer une classe sur laquelle nous allons travailler tout au long de cette partie, comme <code>Personnage</code> (à tout hasard). Avec addendum, toutes les annotations sont des classes héritant d'une classe de base : <code>Annotation</code>. Si nous voulons ajouter une annotation, <code>Table</code> par exemple, à notre classe pour spécifier à quelle table un objet <code>Personnage</code> correspond, alors il faudra au préalable créer une classe <code>Table</code>.</p><aside id="r-608461" data-claire-element-id="608461" data-claire-semantic="information"><p id="r-608460" data-claire-element-id="608460">Pour travailler simplement, créez sur votre ordinateur un dossier <strong>annotations</strong> contenant un fichier <strong>index.php</strong>, un fichier <strong>Personnage.class.php</strong> qui contiendra notre classe, un fichier <strong>MyAnnotations.php</strong> qui contiendra nos annotations, et enfin le dossier <strong>addendum.</strong></p></aside><pre id="r-608462" data-claire-element-id="608462"><code data-claire-semantic="html+php">&lt;?php
class Table extends Annotation {}</code></pre><p id="r-608463" data-claire-element-id="608463">À toute annotation correspond une <strong>valeur</strong>, valeur à spécifier lors de la déclaration de l'annotation :</p><pre id="r-608464" data-claire-element-id="608464"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Table(&quot;personnages&quot;)
 */
class Personnage
{

}</code></pre><p id="r-608465" data-claire-element-id="608465">Nous venons donc de créer une annotation basique, mais concrètement, nous n'avons pas fait grand-chose. Nous allons maintenant voir comment récupérer cette annotation, et plus précisément la valeur qui lui est assignée, grâce à addendum.</p><div id="r-608467" data-claire-element-id="608467" data-claire-semantic="question"><p id="r-608466" data-claire-element-id="608466">À quoi servent-elles ces annotations ?</p></div><p id="r-608468" data-claire-element-id="608468">Les annotations sont surtout utilisées par les frameworks, comme <a href="http://www.phpunit.de/manual/3.3/en/index.html">PHPUnit</a> (framework de tests unitaires) ou <a href="http://framework.zend.com/">Zend Framework</a> par exemple, ou bien les <a href="http://fr.wikipedia.org/wiki/Object-relational_mapping">ORM</a> tel que <a href="http://www.siteduzero.com/tutoriel-3-268920-apprendre-a-utiliser-doctrine.html">Doctrine</a>, qui apportent ici des informations pour le mapping des classes. Vous n'aurez donc peut-être pas à utiliser les annotations dans vos scripts, mais il est important d'en avoir entendu parler si vous décidez d'utiliser des frameworks ou bibliothèques les utilisant.</p><h5 id="r-recuperer-une-annotation" data-claire-element-id="608484">Récupérer une annotation</h5><p id="r-608470" data-claire-element-id="608470">Pour récupérer une annotation, il va d'abord falloir récupérer la classe <em>via</em> la bibliothèque en créant une instance de <code>ReflectionAnnotatedClass</code>, comme nous l'avions fait en début de chapitre avec <code>ReflectionClass</code> :</p><pre id="r-608471" data-claire-element-id="608471"><code data-claire-semantic="html+php">&lt;?php
// On commence par inclure les fichiers nécessaires.
require 'addendum/annotations.php';
require 'MyAnnotations.php';
require 'Personnage.class.php';

$reflectedClass = new ReflectionAnnotatedClass('Personnage');</code></pre><p id="r-608472" data-claire-element-id="608472">Maintenant que c'est fait, nous allons pouvoir récupérer l'annotation grâce à la méthode <code>getAnnotation</code>. De manière générale, cette méthode retourne une instance de <code>Annotation</code>. Dans notre cas, puisque nous voulons l'annotation <code>Table</code>, ce sera une instance de <code>Table</code> qui sera retournée. La valeur de l'annotation est contenue dans l'attribut <code>value</code>, attribut public disponible dans toutes les classes filles de <code>Annotation</code> :</p><pre id="r-608473" data-claire-element-id="608473"><code data-claire-semantic="html+php">&lt;?php
// On commence par inclure les fichiers nécessaires.
require 'addendum/annotations.php';
require 'MyAnnotations.php';
require 'Personnage.class.php';

$reflectedClass = new ReflectionAnnotatedClass('Personnage');

echo 'La valeur de l\'annotation &lt;strong&gt;Table&lt;/strong&gt; est &lt;strong&gt;', $reflectedClass-&gt;getAnnotation('Table')-&gt;value, '&lt;/strong&gt;';</code></pre><p id="r-608474" data-claire-element-id="608474">Il est aussi possible, pour une annotation, d'avoir un tableau comme valeur. Pour réaliser ceci, il faut mettre la valeur de l'annotation entre accolades et séparer les valeurs du tableau par des virgules :</p><pre id="r-608475" data-claire-element-id="608475"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Type({'brute', 'guerrier', 'magicien'})
 */
class Personnage
{

}</code></pre><p id="r-608476" data-claire-element-id="608476">Si vous récupérez l'annotation, vous obtiendrez un tableau classique :</p><pre id="r-608477" data-claire-element-id="608477"><code data-claire-semantic="html+php">&lt;?php
print_r($reflectedClass-&gt;getAnnotation('Type')-&gt;value); // Affiche le détail du tableau.</code></pre><p id="r-608478" data-claire-element-id="608478">Vous pouvez aussi spécifier des clés pour les valeurs comme ceci :</p><pre id="r-608479" data-claire-element-id="608479"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Type({meilleur = 'magicien', 'moins bon' = 'brute', neutre = 'guerrier'})
 */
class Personnage
{

}</code></pre><aside id="r-608481" data-claire-element-id="608481" data-claire-semantic="information"><p id="r-608480" data-claire-element-id="608480">Notez la mise entre quotes de <strong>moins bon</strong> : elles sont utiles ici car un espace est présent. Cependant, comme vous le voyez avec <strong>meilleur</strong> et <strong>neutre</strong>, elles ne sont pas obligatoires. ;)</p></aside><p id="r-608482" data-claire-element-id="608482">Enfin, pour finir avec les tableaux, je précise que vous pouvez en emboîter tant que vous voulez. Pour placer un tableau dans un autre, il suffit d'ouvrir une nouvelle paire d'accolades :</p><pre id="r-608483" data-claire-element-id="608483"><code data-claire-semantic="html+php">&lt;?php
/**
 * @UneAnnotation({uneCle = 1337, {uneCle2 = true, uneCle3 = 'une valeur'}})
 */</code></pre><h5 id="r-savoir-si-une-classe-possede-telle-annotation" data-claire-element-id="608487">Savoir si une classe possède telle annotation</h5><p id="r-608485" data-claire-element-id="608485">Il est possible de savoir si une classe possède telle annotation grâce à la méthode <code>hasAnnotation</code> :</p><pre id="r-608486" data-claire-element-id="608486"><code data-claire-semantic="html+php">&lt;?php
require 'addendum/annotations.php';
require 'MyAnnotations.php';
require 'Personnage.class.php';

$reflectedClass = new ReflectionAnnotatedClass('Personnage');

$ann = 'Table';
if ($reflectedClass-&gt;hasAnnotation($ann))
{
  echo 'La classe possède une annotation &lt;strong&gt;', $ann, '&lt;/strong&gt; dont la valeur est &lt;strong&gt;', $reflectedClass-&gt;getAnnotation($ann)-&gt;value, '&lt;/strong&gt;&lt;br /&gt;';
}</code></pre><h5 id="r-une-annotation-a-multiples-valeurs" data-claire-element-id="608499">Une annotation à multiples valeurs</h5><p id="r-608488" data-claire-element-id="608488">Il est possible pour une annotation de posséder plusieurs valeurs. Chacune de ces valeurs est stockée dans un attribut de la classe représentant l'annotation. Par défaut, une annotation ne contient qu'un attribut (<code>$value</code>) qui est la valeur de l'annotation.</p><p id="r-608489" data-claire-element-id="608489">Pour pouvoir assigner plusieurs valeurs à une annotation, il va donc falloir ajouter des attributs à notre classe. Commençons par ça :</p><pre id="r-608490" data-claire-element-id="608490"><code data-claire-semantic="html+php">&lt;?php
class ClassInfos extends Annotation
{
  public $author;
  public $version;
}</code></pre><aside id="r-608492" data-claire-element-id="608492" data-claire-semantic="warning"><p id="r-608491" data-claire-element-id="608491">Il est important ici que les attributs soient publics pour que le code extérieur à la classe puisse modifier leur valeur.</p></aside><p id="r-608493" data-claire-element-id="608493">Maintenant, tout se joue lors de la création de l'annotation. Pour assigner les valeurs souhaitées aux attributs, il suffit d'écrire ces valeurs précédées du nom de l'attribut. Exemple :</p><pre id="r-608494" data-claire-element-id="608494"><code data-claire-semantic="html+php">&lt;?php
/**
 * @ClassInfos(author = &quot;vyk12&quot;, version = &quot;1.0&quot;)
 */
class Personnage
{

}</code></pre><p id="r-608495" data-claire-element-id="608495">Pour accéder aux valeurs des attributs, il faut récupérer l'annotation, comme nous l'avons fait précédemment, et récupérer l'attribut.</p><pre id="r-608496" data-claire-element-id="608496"><code data-claire-semantic="html+php">&lt;?php
$classInfos = $reflectedClass-&gt;getAnnotation('ClassInfos');

echo $classInfos-&gt;author;
echo $classInfos-&gt;version;</code></pre><p id="r-608497" data-claire-element-id="608497">Le fait que les attributs soient publics peut poser quelques problèmes. En effet, de la sorte, nous ne pouvons pas être sûrs que les valeurs assignées soient correctes. Heureusement, la bibliothèque nous permet de pallier ce problème en réécrivant la méthode <code>checkConstraints()</code> (déclarée dans sa classe mère <code>Annotation</code>) dans notre classe représentant l'annotation, appelée à chaque assignation de valeur, dans l'ordre dans lequel sont assignées les valeurs. Vous pouvez ainsi vérifier l'intégrité des données, et lancer une erreur si il y a un problème. Cette méthode prend un argument : la cible d'où provient l'annotation. Dans notre cas, l'annotation vient de notre classe <code>Personnage</code>, donc le paramètre sera une instance de <code>ReflectionAnnotatedClass</code> représentant <code>Personnage</code>. Vous verrez ensuite que cela peut être une méthode ou un attribut.</p><pre id="r-608498" data-claire-element-id="608498"><code data-claire-semantic="html+php">&lt;?php
class ClassInfos extends Annotation
{
  public $author;
  public $version;
  
  public function checkConstraints($target)
  {
    if (!is_string($this-&gt;author))
    {
      throw new Exception('L\'auteur doit être une chaîne de caractères');
    }
    
    if (!is_numeric($this-&gt;version))
    {
      throw new Exception('Le numéro de version doit être un nombre valide');
    }
  }
}</code></pre><h5 id="r-des-annotations-pour-les-attributs-et-methodes" data-claire-element-id="608505">Des annotations pour les attributs et méthodes</h5><p id="r-608500" data-claire-element-id="608500">Jusqu'ici nous avons ajouté des annotations à une classe. Il est cependant possible d'en ajouter à des méthodes et attributs comme nous l'avons fait pour la classe :</p><pre id="r-608501" data-claire-element-id="608501"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Table(&quot;Personnages&quot;)
 * @ClassInfos(author = &quot;vyk12&quot;, version = &quot;1.0&quot;)
 */
class Personnage
{
  /**
   * @AttrInfos(description = 'Contient la force du personnage, de 0 à 100', type = 'int')
  */
  protected $force_perso;
  
  /**
   * @ParamInfo(name = 'destination', description = 'La destination du personnage')
   * @ParamInfo(name = 'vitesse', description = 'La vitesse à laquelle se déplace le personnage')
   * @MethodInfos(description = 'Déplace le personnage à un autre endroit', return = true, returnDescription = 'Retourne true si le personnage peut se déplacer')
  */
  public function deplacer($destination, $vitesse)
  {
    // ...
  }
}</code></pre><p id="r-608502" data-claire-element-id="608502">Pour récupérer une de ces annotations, il faut d'abord récupérer l'attribut ou la méthode. Nous allons pour cela se tourner vers <code>ReflectionAnnotatedProperty</code> et <code>ReflectionAnnotatedMethod</code>. Le constructeur de ces classes attend en premier paramètre le nom de la classe contenant l'élément et, en second, le nom de l'attribut ou de la méthode. Exemple :</p><pre id="r-608503" data-claire-element-id="608503"><code data-claire-semantic="html+php">&lt;?php
$reflectedAttr = new ReflectionAnnotatedProperty('Personnage', 'force_perso');
$reflectedMethod = new ReflectionAnnotatedMethod('Personnage', 'deplacer');

echo 'Infos concernant l\'attribut :';
var_dump($reflectedAttr-&gt;getAnnotation('AttrInfos'));

echo 'Infos concernant les paramètres de la méthode :';
var_dump($reflectedMethod-&gt;getAllAnnotations('ParamInfo'));

echo 'Infos concernant la méthode :';
var_dump($reflectedMethod-&gt;getAnnotation('MethodInfos'));</code></pre><p id="r-608504" data-claire-element-id="608504">Notez ici l'utilisation de <code>ReflectionAnnotatedMethod::getAllAnnotations()</code>. Cette méthode permet de récupérer toutes les annotations d'une entité correspondant au nom donné en argument. Si aucun nom n'est donné, alors toutes les annotations de l'entité seront retournées.</p><h5 id="r-contraindre-une-annotation-a-une-cible-precise" data-claire-element-id="608511">Contraindre une annotation à une cible précise</h5><p id="r-608506" data-claire-element-id="608506">Grâce à une annotation un peu spéciale, vous avez la possibilité d'imposer un type de cible pour une annotation. En effet, jusqu'à maintenant, nos annotations pouvaient être utilisées aussi bien par des classes que par des attributs ou des méthodes. Dans le cas des annotations <code>ClassInfos</code>, <code>AttrInfos</code>, <code>MethodInfos</code> et <code>ParamInfos</code>, cela présenterait un non-sens qu'elles puissent être utilisées par n'importe quel type d'élément.</p><p id="r-608507" data-claire-element-id="608507">Pour pallier ce problème, retournons à notre classe <code>ClassInfos</code>. Pour dire à cette annotation qu'elle ne peut être utilisée que sur des classes, il faut utiliser l'annotation spéciale <code>@Target</code> :</p><pre id="r-608508" data-claire-element-id="608508"><code data-claire-semantic="html+php">&lt;?php
/** @Target(&quot;class&quot;) */
class ClassInfos extends Annotation
{
  public $author;
  public $version;
}</code></pre><p id="r-608509" data-claire-element-id="608509">À présent, essayez d'utiliser l'annotation <code>@ClassInfos</code> sur un attribut ou une méthode et vous verrez qu'une erreur sera levée. ;) <br/> Cette annotation peut aussi prendre pour valeur <code>property</code>, <code>method</code> ou <code>nesty</code>. Ce dernier type est un peu particulier et cette partie commençant déjà à devenir un peu imposante, j'ai décidé de ne pas en parler. Si cela vous intéresse, je ne peux que vous conseiller d'aller faire un tour sur <a href="http://code.google.com/p/addendum/">la documentation d'addendum</a>. ;)</p><p id="r-608510" data-claire-element-id="608510">Je vous ai aussi volontairement caché une classe : la classe <code><a href="http://fr.php.net/manual/fr/class.reflectionparameter.php">ReflectionParameter</a></code> qui vous permet d'obtenir des informations sur les paramètres de vos méthodes. Je vous laisse vous documenter à ce sujet, son utilisation est très simple. :)</p><h5 id="r-en-resume-201" data-claire-element-id="608519">En résumé</h5><ul id="r-608518" data-claire-element-id="608518"><li id="r-608513" data-claire-element-id="608513"><p id="r-608512" data-claire-element-id="608512">Il est possible d'obtenir des informations sur ses classes, attributs et méthodes, respectivement grâce à <code>ReflectionClass</code>, <code>ReflectionProperty</code> et <code>ReflectionMethod</code>.</p></li><li id="r-608515" data-claire-element-id="608515"><p id="r-608514" data-claire-element-id="608514">Utiliser des annotations sur ses classes permet, grâce à une bibliothèque telle qu'addendum, de récupérer dynamiquement leurs contenus.</p></li><li id="r-608517" data-claire-element-id="608517"><p id="r-608516" data-claire-element-id="608516">L'utilisation d'annotations dans un but de configuration dynamique est utilisée par certains frameworks ou ORM tel que Doctrine par exemple, ce qui permet d'économiser un fichier de configuration en plaçant la description des tables et des colonnes directement dans des annotations.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
<span class="arrow"></span>
<span class="next">Obtenir des informations sur les méthodes de ses classes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">
<span class="next">UML : présentation (1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UMLprsentation1_2"></a><h2>UML : présentation (1/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
<span class="arrow"></span>
<span class="next">Utiliser des annotations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
<span class="next">UML, kézako ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608522" data-claire-element-id="608522">Programmer en orienté objet c'est bien beau, mais au début, c'est un peu difficile. On a du mal à s'y retrouver, on ne sait pas trop comment lier nos classes ni comment <strong>penser</strong> cet ensemble. L'UML est justement l'un des moyens pour y parvenir. L'UML (pour <em>Unified Modeling Language</em>, ou &quot;langage de modélisation unifié&quot; en français) est un langage permettant de modéliser nos classes et leurs interactions. Concrètement, cela s'effectue par le biais d'un diagramme : vous dessinerez vos classes et les lierez suivant des conventions bien précises. Cela vous permettra ainsi de mieux visualiser votre application et de mieux la penser.</p><p id="r-608523" data-claire-element-id="608523">La présentation de l'UML ne sera volontairement pas très approfondie, le but n'est pas de faire de vous des pros de la modélisation, mais juste de vous enseigner les bases afin que vous puissiez être capables de modéliser vous-mêmes.</p>
</div><a name="UMLkzako"></a><h2>UML, kézako ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">
<span class="arrow"></span>
<span class="next">UML : présentation (1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
<span class="next">Modéliser une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-uml-kezako" data-claire-element-id="608540">UML, kézako ?</h4><p id="r-608524" data-claire-element-id="608524">L'UML est un langage de modélisation objet. Il permet donc de modéliser vos objets et ainsi représenter votre application sous forme de diagramme.<br/> Avant d'aller plus loin, attardons nous un peu sur la signification d'UML : <em>Unified Modeling Language</em>, « langage de modélisation unifié ». UML n'est pas un langage à proprement parler, plutôt une sorte de <em>méthodologie</em>.</p><div id="r-608526" data-claire-element-id="608526" data-claire-semantic="question"><p id="r-608525" data-claire-element-id="608525">Mais qu'est-ce que c'est concrètement ? À quoi ça pourra bien me servir ?</p></div><p id="r-608527" data-claire-element-id="608527">Grâce à UML, vous pourrez modéliser toute votre application. Quand je dis <em>toute</em>, j'entends par là la plupart de votre application car PHP n'est pas un langage orienté objet : le modèle objet lui a été implémenté au cours des versions (dès la version 4). Grâce à ces diagrammes, vous pourrez donc représenter votre application : son fonctionnement, sa mise en route, les actions susceptibles d'être effectuées par l'application, etc. Ces diagrammes ont été conçus pour que quelqu'un n'ayant aucune connaissance en informatique puisse comprendre le fonctionnement de votre application. Certes, certains diagrammes sont réservés aux développeurs car assez difficiles à expliquer si on ne sait pas programmer : ce sont ces diagrammes que nous allons étudier.</p><div id="r-608529" data-claire-element-id="608529" data-claire-semantic="question"><p id="r-608528" data-claire-element-id="608528">D'accord, je peux modéliser mon application mais en quoi cela va-t-il m'aider ?</p></div><p id="r-608530" data-claire-element-id="608530">Si vous avez un gros projet (et là je ne parle pas forcément de PHP mais de tout langage implémentant la POO), il peut être utile de le modéliser afin d'y voir plus clair. Si vous vous focalisez sur la question <em>« Par où commencer ? »</em> au début du projet, c'est qu'il vous faut un regard plus objectif sur le projet. Les diagrammes vous apporteront ce regard différent sur votre application.</p><p id="r-608531" data-claire-element-id="608531">L'UML peut aussi être utile quand on commence à programmer OO mais qu'on ne sait pas trop comment s'y prendre. Par exemple, vous ne savez pas trop encore comment programmer orienté objet de façon concrète (vous avez vu comment créer un mini-jeu, c'est cool, mais un livre d'or ou un système de news, vous savez ?). Sachez donc que l'UML va vous être d'une grande aide au début. Ça vous aidera à mieux penser objet car les diagrammes représentent vos classes, vous vous rendrez ainsi mieux compte de ce qu'il est intelligent de faire ou pas. Cependant, l'UML n'est pas un remède miracle et vous ne saurez toujours pas comment vous y prendre pour réaliser votre toute première application, mais une fois que je vous aurai montré et que vous aurez acquis un minimum de pratique, l'UML pourra vous aider.</p><p id="r-608532" data-claire-element-id="608532">Enfin, l'UML a aussi un rôle de documentation. En effet, quand vous représenterez votre projet sous forme de diagramme, quiconque sachant le déchiffrer pourra (du moins, si vous l'avez bien construit) comprendre le déroulement de votre application et éventuellement reprendre votre projet (c'est toujours mieux que la <a href="http://www.phpdoc.org/">phpdoc</a> que nous utilisions jusqu'à présent pour commenter nos classes (revenez au dernier TP si vous avez un trou de mémoire)).</p><p id="r-608533" data-claire-element-id="608533">Bref, que ce soient pour les gros projets personnels ou professionnels, l'UML vous suivra partout. Cependant, tout le monde ne trouve pas l'UML très utile et certains préfèrent modéliser le projet « dans leur tête ». Vous verrez avec le temps si vous avez réellement besoin de l'UML ou si vous pouvez vous en passer, mais pour l'instant, je vous conseille de modéliser (enfin, dès le prochain chapitre). ;)</p><p id="r-608534" data-claire-element-id="608534">Il existe plusieurs types de diagrammes. Nous, nous allons étudier les <em>diagrammes de classe</em>. Ce sont des diagrammes modélisant vos classes et montrant les différentes interactions entre elles. Un exemple ? Regardez plutôt la figure suivante.</p><figure id="r-diagramme-uml-modelisant-notre-dernier-tp" data-claire-element-id="608537"><img id="r-608535" data-claire-element-id="608535" src="medias/uploads.siteduzero.com_files_403001_404000_403744.png" alt="Diagramme UML modélisant notre dernier TP"/><figcaption>Diagramme UML modélisant notre dernier TP</figcaption></figure><p id="r-608538" data-claire-element-id="608538">Vous aurez sans doutes reconnu notre dernier TP représenté sur un diagramme.</p><p id="r-608539" data-claire-element-id="608539">Ce diagramme a l'avantage d'être très simple à étudier. Cependant, il y a des cas complexes et des conventions à connaître car, par exemple, des méthodes abstraites n'ont pas le même style d'écriture qu'une méthode finale. Nous allons étudier les bases, petit à petit, puis, à la fin de ce chapitre, vous serez capable d'analyser complètement un diagramme de classe. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">
<span class="arrow"></span>
<span class="next">UML : présentation (1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
<span class="next">Modéliser une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modliseruneclasse"></a><h2>Modéliser une classe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
<span class="arrow"></span>
<span class="next">UML, kézako ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
<span class="next">Modéliser les interactions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modeliser-une-classe" data-claire-element-id="608591">Modéliser une classe</h4><h5 id="r-premiere-approche-11" data-claire-element-id="608580">Première approche</h5><p id="r-608541" data-claire-element-id="608541">Nous allons commencer en douceur par analyser une simple classe modélisée. Nous allons prendre notre classe <code>News</code> simplifiée (voir la figure suivante).</p><figure id="r-notre-classe-news-modelisee" data-claire-element-id="608544"><img id="r-608542" data-claire-element-id="608542" src="medias/uploads.siteduzero.com_files_403001_404000_403745.png" alt="Notre classe News modélisée"/><figcaption>Notre classe News modélisée</figcaption></figure><p id="r-608545" data-claire-element-id="608545">Nous avons donc ici une simple classe. Commençons par analyser celle-ci.</p><ul id="r-608552" data-claire-element-id="608552"><li id="r-608547" data-claire-element-id="608547"><p id="r-608546" data-claire-element-id="608546">En haut, en gras et gros, nous avons le nom de la classe (ici, <code>News</code>).</p></li><li id="r-608549" data-claire-element-id="608549"><p id="r-608548" data-claire-element-id="608548">Ensuite, séparé du nom de la classe, vient un attribut de cette classe : il s'agit de <code>id</code> précédé d'un #, nous verrons ce que ça signifie juste après.</p></li><li id="r-608551" data-claire-element-id="608551"><p id="r-608550" data-claire-element-id="608550">Enfin, séparée de la liste d'attributs, vient la liste des méthodes de la classe. Toutes sont précédées d'un +, qui a, comme le #, une signification.</p></li></ul><p id="r-608553" data-claire-element-id="608553">Nous allons commencer par analyser la signification du # et des +. Je ne vous fais pas attendre : ces signes symbolisent la portée de l'attribut ou de la méthode. Voici la liste des trois symboles :</p><ul id="r-608560" data-claire-element-id="608560"><li id="r-608555" data-claire-element-id="608555"><p id="r-608554" data-claire-element-id="608554">Le signe + : l'élément suivi de ce signe est public.</p></li><li id="r-608557" data-claire-element-id="608557"><p id="r-608556" data-claire-element-id="608556">Le signe # : l'élément suivi de ce signe est protégé.</p></li><li id="r-608559" data-claire-element-id="608559"><p id="r-608558" data-claire-element-id="608558">Le signe - : l'élément suivi de ce signe est privé.</p></li></ul><p id="r-608561" data-claire-element-id="608561">Maintenant que vous savez à quoi correspondent ces signes, regardez à droite de l'attribut : suivi de deux points, on peut lire <code>int</code>. Cela veut dire que cet attribut est de type <code>int</code>, tout simplement. <code>int</code> est le diminutif de <code>integer</code> qui veut dire <code>entier</code> : notre attribut est donc un nombre entier.</p><p id="r-608562" data-claire-element-id="608562">À droite des méthodes, nous pouvons apercevoir la même chose. Ceci indique le type de la valeur de retour de celle-ci. Si elle ne renvoie rien, alors on dit qu'elle est vide (= <code>void</code>). Si elle peut renvoyer plusieurs types de résultats différents, alors on dit qu'elle est mixte (= <code>mixed</code>). Par exemple, une méthode <code>__get</code> peut renvoyer une chaîne de caractères ou un entier (regardez la classe <code>Personnage</code> sur le premier diagramme).</p><p id="r-608563" data-claire-element-id="608563">Encore une dernière chose à expliquer sur ce diagramme : ce qu'il y a entre les parenthèses suivant le nom des méthodes. Comme vous vous en doutez, elles contiennent tous les attributs ainsi que leur type (entier, tableau, chaîne de caractères, etc.). Si un paramètre peut être de plusieurs types, alors, comme pour les valeurs de retour des méthodes, on dit qu'il est <em>mixte</em>.</p><aside id="r-608565" data-claire-element-id="608565" data-claire-semantic="information"><p id="r-608564" data-claire-element-id="608564">Si un attribut, une méthode ou un paramètre est une instance ou en renvoie une, il ne faut pas dire que son type est <code>object</code>. Son type est le nom de la classe, à savoir <code>Personnage</code>, <code>Brute</code>, <code>Magicien</code>, <code>Guerrier</code>, etc.</p></aside><p id="r-608566" data-claire-element-id="608566">Ensuite, il y a des conventions concernant le style d'écriture des attributs, des constantes et des méthodes.</p><ul id="r-608573" data-claire-element-id="608573"><li id="r-608568" data-claire-element-id="608568"><p id="r-608567" data-claire-element-id="608567">Sans style d'écriture particulier, la méthode est « normale », c'est-à-dire ni abstraite, ni finale (comme ici). Si la méthode est en italique, cela signifie qu'elle est abstraite. Pour montrer qu'une méthode est finale, on le spécifie en <em>stéréotype</em> (on place le mot <code>leaf</code> entre chevrons à côté de la méthode).</p></li><li id="r-608570" data-claire-element-id="608570"><p id="r-608569" data-claire-element-id="608569">Si l'attribut ou la méthode est souligné, cela signifie que l'élément est statique.</p></li><li id="r-608572" data-claire-element-id="608572"><p id="r-608571" data-claire-element-id="608571">Une constante est représentée comme étant un attribut public, statique, de type <code>const</code> et est écrite en majuscules.</p></li></ul><p id="r-608574" data-claire-element-id="608574">Exemple récapitulant tout ça (voir la figure suivante).</p><figure id="r-exemple-de-classe-modelisee" data-claire-element-id="608577"><img id="r-608575" data-claire-element-id="608575" src="medias/uploads.siteduzero.com_files_403001_404000_403819.png" alt="Exemple de classe modélisée"/><figcaption>Exemple de classe modélisée</figcaption></figure><aside id="r-608579" data-claire-element-id="608579" data-claire-semantic="error"><p id="r-608578" data-claire-element-id="608578">Tous ces « codes » (textes en gras, soulignés ou en italiques) sont une norme qu'il faut respecter. Tout le monde sait qu'une méthode en italique signifie qu'elle est abstraite par exemple : ne faites donc pas comme bon vous semble !</p></aside><h5 id="r-exercices-34" data-claire-element-id="608590">Exercices</h5><p id="r-608581" data-claire-element-id="608581">Maintenant que vous savez tout cela, je vais vous donner quelques attributs et méthodes et vous allez essayer de deviner quels sont ses particularités (portée, statique ou non, abstraite, finale, ou ni l'un ni l'autre, les arguments et leur type...).</p><p id="r-608582" data-claire-element-id="608582"><strong>Exercice 1</strong> : <em>-maMethode (param1:int) : void</em></p><p id="r-608583" data-claire-element-id="608583"><strong>Correction</strong> : nous avons ici une méthode <code>maMethode</code> qui est abstraite (car en italique) et statique (car soulignée). Elle ne renvoie rien et accepte un argument : <code>$param1</code>, qui est un entier. Sans oublier sa visibilitée, symbolisée par le signe -, qui est privée.</p><p id="r-608584" data-claire-element-id="608584"><strong>Exercice 2</strong> : #maMethode (param1:mixed) : array</p><p id="r-608585" data-claire-element-id="608585"><strong>Correction</strong> : nous avons ici une méthode <code>maMethode</code> ni abstraite, ni finale. Elle renvoie un tableau et accepte un argument : <code>$param1</code>, qui peut être de plusieurs types. Sans oublier sa visibilitée, symbolisée par le signe #, qui est protégée.</p><p id="r-608586" data-claire-element-id="608586"><strong>Exercice 3</strong> : +&lt;&lt;leaf&gt;&gt; maMethode() : array</p><p id="r-608587" data-claire-element-id="608587">Correction : cette fois-ci, la méthode est finale (signalée par le mot <code>leaf</code>) et statique (car soulignée). Elle ne prend aucun argument et renvoie un tableau. Quant à sa visibilité, le signe + nous informe qu'elle est publique.</p><p id="r-608588" data-claire-element-id="608588">Les différents codes (italique, soulignements, etc.) rentreront dans votre tête au fil du temps, je ne vous impose pas de tous les apprendre sur-le-champ. Référez-vous autant que nécessaire à cette partie en cas de petits trous de mémoire. ;)</p><p id="r-608589" data-claire-element-id="608589">Maintenant que vous savez analyser un objet, il serait bien de savoir analyser les interactions entre ceux-ci, non ?</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
<span class="arrow"></span>
<span class="next">UML, kézako ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
<span class="next">Modéliser les interactions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modliserlesinteractions"></a><h2>Modéliser les interactions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
<span class="arrow"></span>
<span class="next">Modéliser une classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">
<span class="next">UML : modélisons nos classes (2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modeliser-les-interactions" data-claire-element-id="608652">Modéliser les interactions</h4><p id="r-608592" data-claire-element-id="608592">Nous attaquons la dernière partie de ce chapitre. Nous allons voir comment modéliser les interactions entre les objets que l'on a modélisés. Jusqu'à présent, nous savions comment les reconnaître, mais l'avantage de la POO est de créer un ensemble d'objets qui interagissent entre eux afin de créer une véritable application.</p><h5 id="r-l-heritage-5" data-claire-element-id="608599">L'héritage</h5><p id="r-608593" data-claire-element-id="608593">Parmi les interactions, on peut citer l'héritage. Comme montré dans le premier diagramme que vous avez vu, l'héritage est symbolisé par une simple flèche, comme indiqué à la figure suivante.</p><figure id="r-exemple-de-modelisation-d-une-classe-fille-et-d-une-classe-mere" data-claire-element-id="608596"><img id="r-608594" data-claire-element-id="608594" src="medias/uploads.siteduzero.com_files_403001_404000_403757.png" alt="Exemple de modélisation d'une classe fille et d'une classe mère"/><figcaption>Exemple de modélisation d'une classe fille et d'une classe mère</figcaption></figure><p id="r-608597" data-claire-element-id="608597">Ce diagramme équivaut au code suivant :</p><pre id="r-608598" data-claire-element-id="608598"><code data-claire-semantic="html+php">&lt;?php
class Mere
{
  protected $attribut1;
  protected $attribut2;
  
  public function methode()
  {
  
  }
}

class Fille extends Mere
{
  protected $attribut3;
  
  public function __set($nom, $valeur)
  {
  
  }
}
?&gt;</code></pre><h5 id="r-les-interfaces-3" data-claire-element-id="608606">Les interfaces</h5><p id="r-608600" data-claire-element-id="608600">Vous connaissez également les interactions avec les interfaces. En effet, comme je l'ai déjà dit, une interface n'est rien d'autre qu'une classe entièrement abstraite, elle est donc considérée comme tel. Si une classe doit implémenter une interface, alors on utilisera la flèche en pointillés, comme à la figure suivante.</p><figure id="r-exemple-de-modelisation-d-une-classe-implementant-une-interface" data-claire-element-id="608603"><img id="r-608601" data-claire-element-id="608601" src="medias/uploads.siteduzero.com_files_405001_406000_405059.png" alt="Exemple de modélisation d'une classe implémentant une interface"/><figcaption>Exemple de modélisation d'une classe implémentant une interface</figcaption></figure><p id="r-608604" data-claire-element-id="608604">Traduit en PHP, ça donne :</p><pre id="r-608605" data-claire-element-id="608605"><code data-claire-semantic="html+php">&lt;?php
interface iMaClasse
{
  public function methode1();
  public function methode2();
}

class MaClasse implements iMaClasse
{
  protected $attribut;
  
  public function methode()
  {
  
  }
  
  // Ne pas oublier d'implémenter les méthodes de l'interface !
  
  public function methode1()
  {
  
  }
  
  public function methode2()
  {
  
  }
}
?&gt;</code></pre><h5 id="r-l-association" data-claire-element-id="608625">L'association</h5><p id="r-608607" data-claire-element-id="608607">Nous allons voir encore trois interactions qui se ressemblent. La première est <strong>l'association</strong>. On dit que deux classes sont associées lorsqu'une instance des deux classes est amenée à interagir avec l'autre instance. L'association entre deux classes est modélisée comme à la figure suivante.</p><figure id="r-exemple-de-modelisation-d-une-association" data-claire-element-id="608610"><img id="r-608608" data-claire-element-id="608608" src="medias/uploads.siteduzero.com_files_403001_404000_403889.png" alt="Exemple de modélisation d'une association"/><figcaption>Exemple de modélisation d'une association</figcaption></figure><p id="r-608611" data-claire-element-id="608611">L'association est ici caractérisée par le fait qu'une méthode de la classe <code>NewsManager</code> entre en relation avec une instance de la classe <code>News</code>.</p><div id="r-608613" data-claire-element-id="608613" data-claire-semantic="question"><p id="r-608612" data-claire-element-id="608612">Attends deux secondes... Je vois des choses écrites sur la ligne ainsi qu'aux extrémités, qu'est-ce que c'est ?</p></div><p id="r-608614" data-claire-element-id="608614">Le mot écrit au centre, au-dessus de la ligne est la <strong>définition</strong> de la relation. Il est suivi d'un petit symbole indiquant le sens de l'association. Ainsi, on peut lire facilement « <code>NewsManager</code> gère <code>News</code> ».</p><p id="r-608615" data-claire-element-id="608615">Ensuite, vous voyez le chiffre 1 écrit à gauche et une astérisque à droite. Ce sont les <strong>cardinalités</strong>. Ces cardinalités présentent le nombre d'instances qui participent à l'interaction. Nous voyons donc qu'il y a <strong>1</strong> manager pour une infinité de news. On peut désormais lire facilement « 1 <code>NewsManager</code> gère une infinité de <code>News</code> ». Les cardinalités peuvent être écrites sous différentes formes :</p><ul id="r-608624" data-claire-element-id="608624"><li id="r-608617" data-claire-element-id="608617"><p id="r-608616" data-claire-element-id="608616"><strong>x</strong> (nombre entier) : tout simplement la valeur exacte de <strong>x</strong>.</p></li><li id="r-608619" data-claire-element-id="608619"><p id="r-608618" data-claire-element-id="608618"><strong>x..y</strong> : de <strong>x</strong> à <strong>y</strong> (exemple : <strong>1..5</strong>).</p></li><li id="r-608621" data-claire-element-id="608621"><p id="r-608620" data-claire-element-id="608620"><strong>*</strong> : une infinité.</p></li><li id="r-608623" data-claire-element-id="608623"><p id="r-608622" data-claire-element-id="608622"><strong>x..*</strong> : <strong>x</strong> ou plus (exemple : <strong>5..*</strong>).</p></li></ul><h5 id="r-l-agregation" data-claire-element-id="608631">L'agrégation</h5><p id="r-608626" data-claire-element-id="608626">La deuxième flèche que je vais vous présenter est <strong>l'agrégation</strong>. Il s'agit d'une forme d'association un peu particulière : on parlera d'agrégation entre deux classes lorsque l'une d'entre elles contiendra au moins une instance de l'autre classe. Une agrégation est caractérisée de la sorte (voir figure suivante).</p><figure id="r-exemple-de-modelisation-d-une-agregation" data-claire-element-id="608629"><img id="r-608627" data-claire-element-id="608627" src="medias/uploads.siteduzero.com_files_403001_404000_403755.png" alt="Exemple de modélisation d'une agrégation"/><figcaption>Exemple de modélisation d'une agrégation</figcaption></figure><p id="r-608630" data-claire-element-id="608630">Vous pouvez remarquer qu'il n'y a pas de cardinalité du côté du losange. En effet, le côté ayant le losange signifie qu'il y a obligatoirement une et une seule instance de la classe par relation (ici la classe est <code>NewsCollection</code>).</p><h5 id="r-la-composition" data-claire-element-id="608639">La composition</h5><p id="r-608632" data-claire-element-id="608632">La dernière interaction que je vais vous présenter est la <strong>composition</strong>. La composition est une agrégation particulière. Imaginons que nous avons une classe A qui contient une ou plusieurs instance(s) de B. On parlera de composition si, lorsque l'instance de A sera supprimée, toutes les instances de B contenues dans l'instance de A sont elles aussi supprimées (ce qui n'était pas le cas avec l'agrégation). Une composition est représentée de la sorte (voir la figure suivante).</p><figure id="r-exemple-de-modelisation-d-une-composition" data-claire-element-id="608635"><img id="r-608633" data-claire-element-id="608633" src="medias/uploads.siteduzero.com_files_403001_404000_403756.png" alt="Exemple de modélisation d'une composition"/><figcaption>Exemple de modélisation d'une composition</figcaption></figure><aside id="r-608637" data-claire-element-id="608637" data-claire-semantic="information"><p id="r-608636" data-claire-element-id="608636">Notez la présence de la méthode <em>__destruct()</em> qui sera chargée de détruire les instances de la classe <code>News</code>. Cependant, celle-ci n'est pas obligatoire : vous pouvez très bien, dans l'une de vos méthodes, placer un $this-&gt;liste[] = new News;, et l'instance créée puis stockée dans l'attribut <code>$liste</code> sera donc automatiquement détruit. ;)</p></aside><p id="r-608638" data-claire-element-id="608638">Ce chapitre ne se veut pas complet pour la simple et bonne raison qu'il serait beaucoup trop long de faire le tour de l'UML. En effet, un cours complet sur l'UML s'étalerait sur beaucoup de chapitres, et ce n'est clairement pas le but du tutoriel. Si ce sujet vous intéresse, je peux vous renvoyer sur le site <a href="http://uml.free.fr/cours/uml_free_fr_cours.html">uml.free.fr</a>.</p><h5 id="r-en-resume-202" data-claire-element-id="608651">En résumé</h5><ul id="r-608650" data-claire-element-id="608650"><li id="r-608641" data-claire-element-id="608641"><p id="r-608640" data-claire-element-id="608640">L'UML est un moyen parmi d'autres de modéliser son application afin de mieux s'y retrouver.</p></li><li id="r-608643" data-claire-element-id="608643"><p id="r-608642" data-claire-element-id="608642">La modélisation d'une classe et des interactions se réalise en respectant certaines conventions.</p></li><li id="r-608645" data-claire-element-id="608645"><p id="r-608644" data-claire-element-id="608644">Il y a association lorsqu'une classe A se sert d'une classe B.</p></li><li id="r-608647" data-claire-element-id="608647"><p id="r-608646" data-claire-element-id="608646">Une agrégation est une association particulière : il y a agrégation entre A et B si l'objet A possède une ou plusieurs instances de B.</p></li><li id="r-608649" data-claire-element-id="608649"><p id="r-608648" data-claire-element-id="608648">Une composition est une agrégation particulière : il y a composition entre A et B si toutes les instances de B contenues dans A sont supprimées lorsque A est supprimée.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
<span class="arrow"></span>
<span class="next">Modéliser une classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">
<span class="next">UML : modélisons nos classes (2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UMLmodlisonsnosclasses2_2"></a><h2>UML : modélisons nos classes (2/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
<span class="arrow"></span>
<span class="next">Modéliser les interactions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
<span class="next">Ayons les bons outils</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608654" data-claire-element-id="608654">Voici la suite directe du précédent chapitre ayant pour objectif de vous introduire à l'UML. Nous savons actuellement analyser des diagrammes de classes et les interactions entre elles, mais que diriez-vous de créer vous-même ces diagrammes ? :)</p><p id="r-608655" data-claire-element-id="608655">Pour ce faire, nous allons avoir besoin d'un programme : je vais vous présenter Dia.</p>
</div><a name="Ayonslesbonsoutils"></a><h2>Ayons les bons outils</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">
<span class="arrow"></span>
<span class="next">UML : modélisons nos classes (2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
<span class="next">Modéliser une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ayons-les-bons-outils" data-claire-element-id="608682">Ayons les bons outils</h4><p id="r-608656" data-claire-element-id="608656">Avant de se lancer tête baissée dans la modélisation, il serait bien d'avoir les logiciels qui le permettront (ça pourrait aider, sait-on jamais :p ). Pour cela, nous allons avoir besoin d'un logiciel de modélisation de diagrammes UML. Il en existe plusieurs, pour ma part, j'ai choisi Dia.</p><p id="r-608657" data-claire-element-id="608657">La raison de ce choix est simple : une extension qui permet de convertir les diagrammes UML en code PHP a été développée pour ce logiciel ! Ainsi, en quelques clics, toutes vos classes contenant les attributs et méthodes ainsi que les interactions seront générées, le tout commenté avec une phpdoc. Bref, cela nous simplifiera grandement la tâche ! :D</p><h5 id="r-installation-15" data-claire-element-id="608659">Installation</h5><p id="r-608658" data-claire-element-id="608658">Des installateurs sont disponibles sur le site <a href="http://dia-installer.de/">dia-installer.de</a>. Le lien de téléchargement pour Windows est sur la page d'accueil. Deux petits liens situés en-dessous de ce lien de téléchargement mènent aux pages proposant les liens pour <a href="http://dia-installer.de/download/linux.html">Linux</a> et <a href="http://dia-installer.de/download/macosx.html">Mac OS X</a>.</p><h5 id="r-installation-de-l-extension-uml2php5" data-claire-element-id="608661">Installation de l'extension uml2php5</h5><p id="r-608660" data-claire-element-id="608660">Vous avez correctement installé Dia sur votre ordinateur. Il faut maintenant installer l'extension uml2php5 qui nous permettra de générer automatiquement le code de nos classes à partir de nos diagrammes. Pour cela, il vous faut télécharger cinq fichiers. Ces fichiers sont disponibles sur <a href="http://uml2php5.zpmag.com/">le site de l'extension</a>, en ayant cliqué sur <strong>Download</strong> à gauche. Téléchargez l'archive .zip ou .tar.gz suivant vos préférences. Décompressez cette archive et copiez / collez les cinq fichiers dans le dossier <strong>xslt</strong> présent dans le répertoire d'installation de Dia.</p><h5 id="r-lancer-dia" data-claire-element-id="608666">Lancer Dia</h5><p id="r-608662" data-claire-element-id="608662">Histoire que nous soyons tous au point, je vais vous demander de lancer votre logiciel afin que nous soyons bien sûrs d'avoir tous le même. Si l'interface est différente, veillez bien à avoir téléchargé la version 0.97 du logiciel (actuellement la dernière). Si une version plus récente est sortie, vous pouvez me contacter. ;)</p><figure id="r-fenetre-principale-de-dia" data-claire-element-id="608665"><img id="r-608663" data-claire-element-id="608663" src="medias/uploads.siteduzero.com_files_213001_214000_213669.png" alt="Fenêtre principale de Dia"/><figcaption>Fenêtre principale de Dia</figcaption></figure><h5 id="r-deux-zones-principales" data-claire-element-id="608669">Deux zones principales</h5><p id="r-608667" data-claire-element-id="608667">L'interface étant assez intuitive, je ne vais pas m'étendre sur sa présentation. Je vais me contenter de vous donner le rôle des deux parties de cette interface.</p><p id="r-608668" data-claire-element-id="608668">La première partie, à gauche, contient tous les outils (créer une classe, une interaction, ou bien un trait, un cercle, etc.). La seconde, à droite, est beaucoup plus grande : elle contiendra notre diagramme. C'est à l'intérieur d'elle que l'on effectuera nos opérations pour tout mettre en œuvre.</p><h5 id="r-unir-les-fenetres" data-claire-element-id="608681">Unir les fenêtres</h5><p id="r-608670" data-claire-element-id="608670">Il se peut que vous ayez deux fenêtres séparées. Si c'est le cas, c'est que vous n'avez pas passé l'argument <strong>--integrated</strong> au programme. Vous pouvez passer cet argument en lançant le logiciel en ligne de commande. Il y a cependant plus pratique, voici donc des petites astuces suivant votre système d'exploitation.</p><h6 id="r-sous-windows-2" data-claire-element-id="608674">Sous Windows</h6><p id="r-608671" data-claire-element-id="608671">Sous Windows, vous pouvez créer un raccourci. Pour cela, allez dans le dossier d'installation de Dia puis dans le dossier <strong>bin</strong>. Faites un clic droit sur le fichier <strong>diaw.exe</strong> et cliquez sur <strong>Copier</strong>. Allez dans le répertoire où vous voulez créer le raccourci, faites un clic droit dans ce répertoire puis choisissez l'option <strong>Coller le raccourci</strong>. Faites un clic droit sur le fichier créé, puis cliquez sur <strong>Propriétés</strong>. Dans le champ texte <strong>Cible</strong>, rajoutez à la fin (en dehors des guillemets) <strong>--integrated</strong>. Ainsi, quand vous lancerez Dia depuis ce raccourci, les deux fenêtres seront fusionnées.</p><aside id="r-608673" data-claire-element-id="608673" data-claire-semantic="information"><p id="r-608672" data-claire-element-id="608672">Par défaut, le raccourci présent dans le menu <strong>démarrer</strong> lance Dia avec l'option <strong>--intergrated</strong>. Si ce n'est pas le cas, modifiez la cible de celui-ci comme on vient de le faire (Clic droit &gt; Propriétés &gt; ...).</p></aside><h6 id="r-sous-linux-2" data-claire-element-id="608677">Sous Linux</h6><p id="r-608675" data-claire-element-id="608675">Je vais ici vous donner une manipulation simple sous Ubuntu afin de modifier la cible du lien pointant sur le logiciel dans le menu <strong>Applications</strong>. Dans le menu <strong>Système</strong>, allez dans <strong>Préférences</strong> puis <strong>Menu principal</strong>. À gauche de la fenêtre qui est apparue, sous le menu <strong>Applications</strong>, cliquez sur <strong>Graphisme</strong>. Au milieu de la fenêtre, cliquez sur <strong>Éditeur de diagrammes Dia</strong>. À droite, cliquez sur <strong>Propriétés</strong>. Dans le champ texte <strong>Commande</strong>, placez-y <strong>dia --integrated %F</strong>. Fermez le tout, relancez votre programme via le menu et vous avez vos deux fenêtres fusionnées.</p><p id="r-608676" data-claire-element-id="608676">Sous les autres distributions, l'idée est la même : il faut vous arranger pour modifier le raccourci afin d'ajouter l'option <strong>--integrated</strong>.</p><h6 id="r-sous-mac-os" data-claire-element-id="608680">Sous Mac OS</h6><p id="r-608678" data-claire-element-id="608678">Hélas sous Mac OS, vous ne pouvez créer de raccourci. La solution consiste donc à lancer le logiciel en ligne de commande. Heureusement, celle-ci est assez courte et simple à retenir. En effet, un simple <code data-claire-semantic="console">dia --integrated</code> suffit. ;)</p><p id="r-608679" data-claire-element-id="608679">Cependant, vous pouvez télécharger <a href="http://www.lolart.net/Media/Files/dia-launcher">un lanceur</a> qui vous facilitera la tâche pour lancer l'application.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">
<span class="arrow"></span>
<span class="next">UML : modélisons nos classes (2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
<span class="next">Modéliser une classe</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modliseruneclasse"></a><h2>Modéliser une classe</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
<span class="arrow"></span>
<span class="next">Ayons les bons outils</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
<span class="next">Modéliser les interactions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modeliser-une-classe-2" data-claire-element-id="608809">Modéliser une classe</h4><h5 id="r-creer-une-classe-3" data-claire-element-id="608693">Créer une classe</h5><p id="r-608683" data-claire-element-id="608683">Lançons-nous maintenant dans la création d'un diagramme. Pour commencer, modélisons notre première classe. Pour cela, rien de plus simple. Je vais vous demander de cliquer sur cette icône (voir figure suivante).</p><figure id="r-modeliser-une-classe-1" data-claire-element-id="608686"><img id="r-608684" data-claire-element-id="608684" src="medias/uploads.siteduzero.com_files_202001_203000_202521.png" alt="Modéliser une classe"/><figcaption>Modéliser une classe</figcaption></figure><p id="r-608687" data-claire-element-id="608687">Cette icône, comme l'infobulle nous l'indique, représente l'outil permettant de créer une classe. Ainsi, dans la zone contenant notre diagramme, il suffira de cliquer n'importe où pour qu'une classe soit créée à l'endroit où l'on a cliqué. Essayez donc. ;)</p><p id="r-608688" data-claire-element-id="608688">Normalement, vous devriez avoir obtenu quelque chose ressemblant à ceci (voir figure suivante).</p><figure id="r-diagramme-de-classe-vierge" data-claire-element-id="608691"><img id="r-608689" data-claire-element-id="608689" src="medias/uploads.siteduzero.com_files_202001_203000_202523.png" alt="Diagramme de classe vierge"/><figcaption>Diagramme de classe vierge</figcaption></figure><p id="r-608692" data-claire-element-id="608692">Vous voyez huit carrés ainsi que deux croix bleues autour de la classe. Si les carrés sont présents, cela veut dire que la classe est sélectionnée (par défaut sélectionnée quand vous en créez une). Si vous voulez enlever cette sélection, il vous suffit de cliquer à côté. Vous verrez ainsi les huit carrés remplacés par de nouvelles petites croix bleues qui ont une signification bien particulière. Je vous expliquerai ceci plus tard. ;)</p><h5 id="r-modifier-notre-classe" data-claire-element-id="608808">Modifier notre classe</h5><p id="r-608694" data-claire-element-id="608694">Nous allons accéder aux propriétés de notre classe afin de pouvoir la modifier. Pour cela, je vais vous demander de double-cliquer dessus afin d'obtenir cette fenêtre (voir figure suivante).</p><figure id="r-fenetre-permettant-de-modifier-la-classe" data-claire-element-id="608697"><img id="r-608695" data-claire-element-id="608695" src="medias/uploads.siteduzero.com_files_202001_203000_202526.png" alt="Fenêtre permettant de modifier la classe"/><figcaption>Fenêtre permettant de modifier la classe</figcaption></figure><p id="r-608698" data-claire-element-id="608698">Décortiquons un peu cette fenêtre. Tout ceci est en fait très simple, il suffit juste de quelques explications.</p><p id="r-608699" data-claire-element-id="608699">Tout en haut, vous voyez une liste de cinq onglets :</p><ul id="r-608710" data-claire-element-id="608710"><li id="r-608701" data-claire-element-id="608701"><p id="r-608700" data-claire-element-id="608700"><strong>Classe</strong> : permet de gérer les options concernant cette classe.</p></li><li id="r-608703" data-claire-element-id="608703"><p id="r-608702" data-claire-element-id="608702"><strong>Attributs</strong> : permet de gérer la liste des attributs de cette classe.</p></li><li id="r-608705" data-claire-element-id="608705"><p id="r-608704" data-claire-element-id="608704"><strong>Opérations</strong> : permet de gérer la liste des méthodes de cette classe.</p></li><li id="r-608707" data-claire-element-id="608707"><p id="r-608706" data-claire-element-id="608706"><strong>Modèles</strong> : inutile en PHP étant donné qu'il n'y a pas de templates. Si ça vous intrigue, allez voir en C++ par exemple ;).</p></li><li id="r-608709" data-claire-element-id="608709"><p id="r-608708" data-claire-element-id="608708"><strong>Style</strong> : permet de modifier le style de la classe (couleurs et effets de texte).</p></li></ul><h6 id="r-gestion-des-options-de-la-classe" data-claire-element-id="608715">Gestion des options de la classe</h6><p id="r-608711" data-claire-element-id="608711">En haut, vous pouvez apercevoir trois champs texte. Le premier est le nom de la classe. Vous pouvez par exemple y indiquer le nom <code>Personnage</code>. Ensuite vient le stéréotype. Ce champ est à utiliser pour spécifier que la classe est particulière. Par exemple, s'il s'agit d'une interface, on y écrira simplement « interface ». Enfin, dans le dernier champ texte, nous placerons des commentaires relatifs à la classe.</p><p id="r-608712" data-claire-element-id="608712">Ensuite viennent une série de cases à cocher. La première signifie (comme vous vous en doutez) que la classe est abstraite ou non. Par la suite, nous pouvons apercevoir trois cases à cocher permettant d'afficher ou non des éléments (afficher ou masquer les attributs, méthodes ou commentaires). Si vous décidez de masquer les attributs ou méthodes, leur bloc disparaîtra de la classe (les bordures entourant le bloc comprises), tandis que si vous décidez de supprimer les attributs ou méthodes (via les cases à cocher de droite), le bloc restera visible mais ne contiendra plus leur liste d'attributs ou méthodes. Le masquage des attributs est utile dans le cas où la classe est une interface par exemple. ;)</p><aside id="r-608714" data-claire-element-id="608714" data-claire-semantic="information"><p id="r-608713" data-claire-element-id="608713">Pour que vous vous rendiez compte des modifications que vous effectuez en temps réel, cliquez sur <strong>Appliquer</strong>. Vous verrez ainsi votre classe se modifier avec les nouvelles options. Si ça ne vous plait pas et que vous voulez annuler tout ce que vous avez fait, il vous suffit de cliquer sur <strong>Fermer</strong>. Par contre, si vous voulez enregistrer vos informations, cliquez sur <strong>Valider</strong>.</p></aside><h6 id="r-gestion-des-attributs" data-claire-element-id="608745">Gestion des attributs</h6><p id="r-608716" data-claire-element-id="608716">Commençons par ajouter des attributs à notre classe. Pour cela, cliquez sur l'onglet <strong>Attributs</strong> (voir figure suivante).</p><figure id="r-fenetre-permettant-de-gerer-les-attributs" data-claire-element-id="608719"><img id="r-608717" data-claire-element-id="608717" src="medias/uploads.siteduzero.com_files_202001_203000_202533.png" alt="Fenêtre permettant de gérer les attributs"/><figcaption>Fenêtre permettant de gérer les attributs</figcaption></figure><p id="r-608720" data-claire-element-id="608720">Analysons le contenu de cette fenêtre. La partie la plus évidente que vous voyez est le gros carré blanc en haut à gauche : c'est à l'intérieur de ce bloc que seront listés tous les attributs. Vous pourrez, à partir de là, en sélectionner afin d'en modifier, d'en supprimer, d'en monter ou descendre d'un cran dans la liste. Afin d'effectuer ces actions, il vous suffira d'utiliser les boutons situés à droite de ce bloc :</p><ul id="r-608729" data-claire-element-id="608729"><li id="r-608722" data-claire-element-id="608722"><p id="r-608721" data-claire-element-id="608721">Le bouton <strong>Nouveau</strong> créera un nouvel attribut.</p></li><li id="r-608724" data-claire-element-id="608724"><p id="r-608723" data-claire-element-id="608723">Le bouton <strong>Supprimer</strong> supprimera l'attribut sélectionné.</p></li><li id="r-608726" data-claire-element-id="608726"><p id="r-608725" data-claire-element-id="608725">Le bouton <strong>Monter</strong> montera l'attribut d'un cran dans la liste (s'il n'est pas déjà tout en haut).</p></li><li id="r-608728" data-claire-element-id="608728"><p id="r-608727" data-claire-element-id="608727">Le bouton <strong>Descendre</strong> descendra l'attribut d'un cran dans la liste (s'il n'est pas déjà tout en bas).</p></li></ul><p id="r-608730" data-claire-element-id="608730">Créez donc un nouvel attribut en cliquant sur le bouton adapté. Vous voyez maintenant tous les champs du bas qui se dégrisent. Regardons de plus près ce dont il s'agit.</p><ul id="r-608743" data-claire-element-id="608743"><li id="r-608732" data-claire-element-id="608732"><p id="r-608731" data-claire-element-id="608731">Un premier champ texte est présent afin d'y spécifier le nom de l'attribut (par exemple, vous pouvez y inscrire <code>force</code>).</p></li><li id="r-608734" data-claire-element-id="608734"><p id="r-608733" data-claire-element-id="608733">En dessous est présent un champ texte demandant le type de l'attribut (s'il s'agit d'une chaîne de caractères, d'un nombre entier, d'un tableau, d'un objet, etc.). Par exemple, pour l'attribut créé, vous pouvez entrer <code>int</code>.</p></li><li id="r-608736" data-claire-element-id="608736"><p id="r-608735" data-claire-element-id="608735">Ensuite vient un champ texte demandant la valeur de l'attribut. Ce n'est pas obligatoire, il faut juste y spécifier quelque chose quand on souhaite que notre attribut ait une valeur par défaut (par exemple, vous pouvez entrer <strong>0</strong>).</p></li><li id="r-608738" data-claire-element-id="608738"><p id="r-608737" data-claire-element-id="608737">Le dernier champ texte est utile si vous souhaitez laisser un commentaire sur l'attribut (ce que je vous conseille de faire).</p></li><li id="r-608740" data-claire-element-id="608740"><p id="r-608739" data-claire-element-id="608739">Vient ensuite une liste déroulante permettant d'indiquer la visibilité de l'attribut. Il y a quatre options. Vous reconnaîtrez parmi elles les trois types de visibilités. En plus de ces trois types, vous pouvez apercevoir un quatrième type nommé <strong>Implémentation</strong>. Ne vous en préoccupez pas, vous n'en aurez pas besoin. ;)</p></li><li id="r-608742" data-claire-element-id="608742"><p id="r-608741" data-claire-element-id="608741">La dernière option est une case à cocher, suivie de <strong>Visibilité de la classe</strong>. Si vous cochez cette case, cela voudra dire que votre attribut sera statique.</p></li></ul><p id="r-608744" data-claire-element-id="608744">Entraînez-vous à créer quelques attributs bidons (ou bien ceux de la classe <code>Personnage</code> si vous êtes à cours d'idée). Vous pourrez ainsi tester les quatre boutons situés à droite du bloc listant les attributs afin de bien comprendre leur utilisation (bien que ceci ne doit pas être bien difficile, mais sait-on jamais :p ).</p><h6 id="r-gestion-des-constantes" data-claire-element-id="608759">Gestion des constantes</h6><p id="r-608746" data-claire-element-id="608746">Comme je l'avais brièvement évoqué au chapitre précédent, une constante se reconnaît grâce à plusieurs signes. En effet, une constante se déclare comme un attribut sur un diagramme, mais respecte plusieurs contraintes :</p><ul id="r-608757" data-claire-element-id="608757"><li id="r-608748" data-claire-element-id="608748"><p id="r-608747" data-claire-element-id="608747">Elle doit être écrite en majuscules et les espaces sont remplacées par des <em>underscores</em> (comme dans votre script PHP).</p></li><li id="r-608750" data-claire-element-id="608750"><p id="r-608749" data-claire-element-id="608749">Elle doit avoir une visibilité <strong>publique</strong>.</p></li><li id="r-608752" data-claire-element-id="608752"><p id="r-608751" data-claire-element-id="608751">Elle doit être de type <code>const</code>.</p></li><li id="r-608754" data-claire-element-id="608754"><p id="r-608753" data-claire-element-id="608753">Elle doit être <strong>statique</strong>.</p></li><li id="r-608756" data-claire-element-id="608756"><p id="r-608755" data-claire-element-id="608755">Elle doit posséder une <strong>valeur</strong>.</p></li></ul><p id="r-608758" data-claire-element-id="608758">Je vous ai appris à créer des attributs, il serait donc redondant que je vous apprenne à créer des constantes qui ne sont, comme je viens de le dire, que des attributs particuliers. ;)</p><h6 id="r-gestion-des-methodes" data-claire-element-id="608799">Gestion des méthodes</h6><p id="r-608760" data-claire-element-id="608760">Après avoir ajouté des attributs à notre classe, voyons comment lui ajouter des méthodes. Pour cela, cliquez sur l'onglet <strong>Opérations</strong> (voir la figure suivante).</p><figure id="r-fenetre-permettant-de-gerer-les-methodes" data-claire-element-id="608763"><img id="r-608761" data-claire-element-id="608761" src="medias/uploads.siteduzero.com_files_202001_203000_202535.png" alt="Fenêtre permettant de gérer les méthodes"/><figcaption>Fenêtre permettant de gérer les méthodes</figcaption></figure><p id="r-608764" data-claire-element-id="608764">Vous constatez déjà un peu plus de bazar. :p</p><p id="r-608765" data-claire-element-id="608765">Cependant, si vous observez bien et que vous avez bien suivi la précédente partie sur la gestion des attributs, vous ne devriez pas être entièrement dépaysés. En effet, en haut, nous avons toujours notre bloc blanc qui listera, cette fois-ci, nos méthodes, ainsi que les quatre boutons à droite effectuant les mêmes opérations. Créez donc une nouvelle méthode en cliquant simplement sur le bouton <strong>Nouveau</strong>, comme pour les attributs, et bidouillons-la un peu. :)</p><p id="r-608766" data-claire-element-id="608766">Pour commencer, je vais parler de cette partie de la fenêtre (voir la figure suivante).</p><figure id="r-zone-permettant-de-modifier-la-methode" data-claire-element-id="608769"><img id="r-608767" data-claire-element-id="608767" src="medias/uploads.siteduzero.com_files_202001_203000_202536.png" alt="Zone permettant de modifier la méthode"/><figcaption>Zone permettant de modifier la méthode</figcaption></figure><p id="r-608770" data-claire-element-id="608770">La partie encadrée de rouge concerne la méthode en elle-même. Les champs qui restent concernent ses paramètres, mais on verra ça juste après.</p><p id="r-608771" data-claire-element-id="608771">Les deux premiers champs textes (<strong>Nom</strong> et <strong>Type</strong>) ont le même rôle que pour les attributs (je vous rappelle que le type de la méthode est le type de la valeur renvoyée par celle-ci). Ensuite est présent un champ texte <strong>Stéréotype</strong>. Cela est utile pour afficher une caractéristique de la méthode. Par exemple, si une méthode est finale, on mettra <em>leaf</em> dans ce champ. Nous avons, comme pour les attributs, deux autres options qui refont leur apparition : la visibilité et la case à cocher <strong>Visibilité de la classe</strong>. Inutile de vous rappeler ce que c'est je pense (si toutefois vous avez un trou de mémoire, il vous suffit de remonter un tout petit peu dans ce cours). Et pour en finir sur les points communs avec les attributs, vous pouvez apercevoir tout à droite le champ texte <strong>Commentaire</strong> qui a aussi pour rôle de spécifier les commentaires relatifs à la méthode.</p><p id="r-608772" data-claire-element-id="608772">Par contre, contrairement aux attributs, nous avons ici deux nouvelles options. La première est <strong>Type d'héritage</strong> qui est une liste déroulante présentant trois options :</p><ul id="r-608779" data-claire-element-id="608779"><li id="r-608774" data-claire-element-id="608774"><p id="r-608773" data-claire-element-id="608773"><strong>Abstraite</strong> : à sélectionner si la méthode est abstraite.</p></li><li id="r-608776" data-claire-element-id="608776"><p id="r-608775" data-claire-element-id="608775"><strong>Polymorphe (virtuelle)</strong> : cela ne nous concerne pas (nous travaillons avec PHP qui n'implémente pas le concept de méthode virtuelle).</p></li><li id="r-608778" data-claire-element-id="608778"><p id="r-608777" data-claire-element-id="608777"><strong>Feuille (finale)</strong> : à sélectionner si la méthode n'est ni abstraite, ni finale (contrairement à ce qui est indiqué, cela ne veut pas dire que la méthode est finale !).</p></li></ul><p id="r-608780" data-claire-element-id="608780">La deuxième option est une case à cocher. À côté de celle-ci est écrit <strong>Requête</strong>. Vous vous demandez sans doute ce qu'une requête vient faire ici, non ? En fait, si vous cochez cette case, cela veut dire que la méthode ne modifiera aucun attribut de la classe. Par exemple, vos accesseurs (les méthodes étant chargées de renvoyer la valeur d'attributs privés ou protégés) sont considérés comme de simples requêtes afin d'accéder à ces valeurs. Elles pourront donc avoir cette case de cochée.</p><p id="r-608781" data-claire-element-id="608781">Entraînez-vous à créer des méthodes, il est toujours utile de pratiquer. :)</p><p id="r-608782" data-claire-element-id="608782">Maintenant que vous êtes prêts (enfin j'espère), nous allons leur ajouter des arguments. Pour cela, nous allons nous intéresser à cette partie de la fenêtre (voir la figure suivante).</p><figure id="r-zone-permettant-de-modifier-les-parametres-de-la-methode" data-claire-element-id="608785"><img id="r-608783" data-claire-element-id="608783" src="medias/uploads.siteduzero.com_files_403001_404000_403816.png" alt="Zone permettant de modifier les paramètres de la méthode"/><figcaption>Zone permettant de modifier les paramètres de la méthode</figcaption></figure><p id="r-608786" data-claire-element-id="608786">Encore une fois, nous remarquons des ressemblances avec tout ce que nous avons vu. En effet, nous retrouvons notre bloc blanc ainsi que ses quatre boutons, toujours fidèles au rendez-vous. Inutile de vous expliquer le rôle de chacun hein je crois :p . Au cas où vous n'ayez pas deviné, la gestion des paramètres de la méthode s'effectue à cet endroit. ;)</p><p id="r-608787" data-claire-element-id="608787">Créez donc un nouveau paramètre. Les champs de droite, comme à leur habitude, se dégrisent. Je fais une brève description des fonctionnalités des champs, étant donné que c'est du déjà vu.</p><ul id="r-608798" data-claire-element-id="608798"><li id="r-608789" data-claire-element-id="608789"><p id="r-608788" data-claire-element-id="608788">Le champ <strong>Nom</strong> indique le nom de l'argument.</p></li><li id="r-608791" data-claire-element-id="608791"><p id="r-608790" data-claire-element-id="608790">Le champ <strong>Type</strong> spécifie le type de l'argument (entier, chaîne de caractères, tableau, etc.).</p></li><li id="r-608793" data-claire-element-id="608793"><p id="r-608792" data-claire-element-id="608792">Le champ <strong>Val. par déf.</strong> révèle la valeur par défaut de l'argument.</p></li><li id="r-608795" data-claire-element-id="608795"><p id="r-608794" data-claire-element-id="608794">Le champ <strong>Commentaire</strong> permet de laisser un petit commentaire concernant l'argument.</p></li><li id="r-608797" data-claire-element-id="608797"><p id="r-608796" data-claire-element-id="608796">L'option <strong>Direction</strong> est inutile.</p></li></ul><h6 id="r-gestion-du-style-de-la-classe" data-claire-element-id="608807">Gestion du style de la classe</h6><p id="r-608800" data-claire-element-id="608800">Si vous êtes sous Windows, vous avez peut-être remarqué que tous vos attributs et méthodes ont le même style, quels que soient leurs spécificités. Pour remédier à ce problème, il faut modifier le style de la classe en cliquant sur l'onglet <strong>Style</strong> (voir la figure suivante).</p><figure id="r-608803" data-claire-element-id="608803"><p id="r-608801" data-claire-element-id="608802"><a href="medias/uploads.siteduzero.com_files_202001_203000_202643.png"><img id="r-608802" data-claire-element-id="608801" src="medias/uploads.siteduzero.com_thb_202001_203000_202643.png" alt="Fenêtre permettant de gérer le style de la classe"/>Fenêtre permettant de gérer le style de la classe</a></p></figure><p id="r-608804" data-claire-element-id="608804">Je ne pense pas que de plus amples explications s'imposent, je ne ferais que répéter ce que la fenêtre vous affiche. ;)</p><p id="r-608805" data-claire-element-id="608805">Pour modifier le style de toutes les classes, sélectionnez-les toutes (en cliquant sur chacune tout en maintenant la touche <kbd>Shift</kbd>) puis double-cliquez sur l'une d'elle. Modifiez le style dans la fenêtre ouverte, validez et admirez. :)</p><p id="r-608806" data-claire-element-id="608806">Je crois avoir fait le tour de toutes les fonctionnalités. Pour vous entraîner, vous pouvez essayer de reconstituer la classe <code>Personnage</code>. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
<span class="arrow"></span>
<span class="next">Ayons les bons outils</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
<span class="next">Modéliser les interactions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modliserlesinteractions"></a><h2>Modéliser les interactions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
<span class="arrow"></span>
<span class="next">Modéliser une classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
<span class="next">Exploiter son diagramme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modeliser-les-interactions-1" data-claire-element-id="608868">Modéliser les interactions</h4><p id="r-608810" data-claire-element-id="608810">Vous avez réussi à créer une belle classe avec plein d'attributs et de méthodes. Je vais vous demander d'en créer une autre afin de les faire interagir entre elles. Nous allons voir les quatre interactions abordées dans le précédent chapitre.</p><h5 id="r-creation-des-liaisons" data-claire-element-id="608862">Création des liaisons</h5><h6 id="r-l-heritage-6" data-claire-element-id="608823">L'héritage</h6><p id="r-608811" data-claire-element-id="608811">Nous allons créer notre première interaction : l'héritage entre deux classes. Pour cela, il faut cliquer sur l'icône représentant l'interaction de l'héritage (voir la figure suivante).</p><figure id="r-modeliser-un-heritage" data-claire-element-id="608814"><img id="r-608812" data-claire-element-id="608812" src="medias/uploads.siteduzero.com_files_202001_203000_202544.png" alt="Modéliser un héritage"/><figcaption>Modéliser un héritage</figcaption></figure><p id="r-608815" data-claire-element-id="608815">Ensuite, dirigez-vous sur la partie de droite contenant vos deux classes. Cliquez sur une croix bleue de la classe mère et, tout en maintenant le clic de la souris enfoncé, glissez jusqu'à une croix bleue de votre classe fille. Lorsque vous déplacez votre flèche, le curseur prend la forme d'une croix. Une fois qu'il survole une croix bleue, il est transformé en une autre croix représentant trois chemins qui se croisent, et la classe reliée se voit entourée d'un épais trait rouge : c'est à ce moment-là que vous pouvez lâcher le clic.</p><p id="r-608816" data-claire-element-id="608816">Normalement, vous devriez avoir obtenu ceci (voir la figure suivante).</p><figure id="r-modelisation-d-un-heritage-simple" data-claire-element-id="608819"><img id="r-608817" data-claire-element-id="608817" src="medias/uploads.siteduzero.com_files_403001_404000_403761.png" alt="Modélisation d'un héritage simple"/><figcaption>Modélisation d'un héritage simple</figcaption></figure><aside id="r-608821" data-claire-element-id="608821" data-claire-semantic="information"><p id="r-608820" data-claire-element-id="608820">Notez les deux points rouges sur la flèche ainsi que le point orange au milieu. Ceux-ci indiquent que la flèche est sélectionnée. Il se peut que l'un des points des extrémités de la flèche soit vert, auquel cas cela signifie que ce point n'est pas situé sur une croix bleue ! Si elle n'est pas sur une croix bleue, alors elle n'est reliée à <strong>aucune classe</strong>.<br/> Le point orange du milieu ne bougera jamais (sauf si vous le déplacez manuellement). La flèche passera toujours par ce point. Ainsi, si vous voulez déplacer vos deux classes sans toucher à ce point, votre flèche fera une trajectoire assez étrange. :p</p></aside><p id="r-608822" data-claire-element-id="608822">Alors, premières impressions :) ? Si vous êtes parvenus sans encombre à réaliser ce qu'on vient de faire, les quatre prochaines interactions seront toutes aussi simples !</p><h6 id="r-les-interfaces-4" data-claire-element-id="608833">Les interfaces</h6><p id="r-608824" data-claire-element-id="608824">Passons maintenant à l'implémentation d'interfaces. Créez une classe banale et, histoire que les classes coordonnent avec l'interaction, écrivez <code>interface</code> dans le champ texte <strong>Stéréotype</strong> de la classe. Pensez aussi à décocher la case <strong>Attributs visibles</strong>.</p><p id="r-608825" data-claire-element-id="608825">L'icône représentant l'interaction de l'implémentation d'interface est située juste à gauche de celui de l'héritage (voir la figure suivante).</p><figure id="r-modeliser-une-implementation-d-interface" data-claire-element-id="608828"><img id="r-608826" data-claire-element-id="608826" src="medias/uploads.siteduzero.com_files_202001_203000_202546.png" alt="Modéliser une implémentation d'interface"/><figcaption>Modéliser une implémentation d'interface</figcaption></figure><p id="r-608829" data-claire-element-id="608829">Comme pour la précédente interaction, cliquez sur une des croix bleues de l'interface, puis glissez la souris sur une croix bleue de la classe l'implémentant et relâchez la souris. Si tout s'est bien déroulé, vous devriez avoir obtenu ceci (voir figure suivante).</p><figure id="r-exemple-d-implementation-d-interface" data-claire-element-id="608832"><img id="r-608830" data-claire-element-id="608830" src="medias/uploads.siteduzero.com_files_403001_404000_403770.png" alt="Exemple d'implémentation d'interface"/><figcaption>Exemple d'implémentation d'interface</figcaption></figure><h6 id="r-l-association-1" data-claire-element-id="608852">L'association</h6><p id="r-608834" data-claire-element-id="608834">Voyons maintenant comment modéliser l'association. Cette icône est placée juste à droite de l'icône représentant l'héritage (voir la figure suivante).</p><figure id="r-modeliser-une-association" data-claire-element-id="608837"><img id="r-608835" data-claire-element-id="608835" src="medias/uploads.siteduzero.com_files_202001_203000_202548.png" alt="Modéliser une association"/><figcaption>Modéliser une association</figcaption></figure><p id="r-608838" data-claire-element-id="608838">Cliquez donc sur la croix bleue de la classe ayant un attribut stockant une instance de l'autre classe, puis glissez sur cette autre classe. Vous devriez avoir ceci sous vos yeux (voir la figure suivante).</p><figure id="r-premiere-etape-pour-creer-une-association" data-claire-element-id="608841"><img id="r-608839" data-claire-element-id="608839" src="medias/uploads.siteduzero.com_files_403001_404000_403891.png" alt="Première étape pour créer une association"/><figcaption>Première étape pour créer une association</figcaption></figure><aside id="r-608843" data-claire-element-id="608843" data-claire-semantic="information"><p id="r-608842" data-claire-element-id="608842">Cette fois-ci, les points rouges et le point orange n'apparaissent pas. Cela signifie simplement que la flèche n'est pas sélectionnée.</p></aside><p id="r-608844" data-claire-element-id="608844">Voyons maintenant comment définir l'association et placer les cardinalités. En fait, ce sont des options de l'association que l'on peut modifier en accédant à la configuration de cette liaison. Pour cela, double-cliquez sur la ligne. Vous devriez avoir obtenu cette fenêtre (voir la figure suivante).</p><figure id="r-parametrer-l-association" data-claire-element-id="608847"><img id="r-608845" data-claire-element-id="608845" src="medias/uploads.siteduzero.com_files_202001_203000_202551.png" alt="Paramétrer l'association"/><figcaption>Paramétrer l'association</figcaption></figure><p id="r-608848" data-claire-element-id="608848">La définition de l'association se place dans le premier champ texte correspondant au nom. Mettez-y par exemple « gère ». Les cardinalités se placent dans les champs texte <strong>Multiplicity</strong>. La première colonne « Side A » correspond à la classe qui lie l'autre classe. Dans notre exemple, « Side A » correspond à <code>NewsManager</code> et « Side B » à <code>News</code>. Si vous vous êtes bien débrouillés, vous devriez avoir obtenu quelque chose dans ce genre (voir la figure suivante).</p><figure id="r-exemple-d-une-association-complete" data-claire-element-id="608851"><img id="r-608849" data-claire-element-id="608849" src="medias/uploads.siteduzero.com_files_403001_404000_403890.png" alt="Exemple d'une association complète"/><figcaption>Exemple d'une association complète</figcaption></figure><h6 id="r-l-agregation-1" data-claire-element-id="608859">L'agrégation</h6><p id="r-608853" data-claire-element-id="608853">Intéressons-nous maintenant à la flèche représentant l'agrégation. On peut le faire de deux façons différentes. La première est la même que la précédente (j'entends par là que l'icône sur laquelle cliquer est la même). Cette fois-ci, il ne faut pas afficher le sens de la liaison et afficher un losange. Pour ce faire, il suffit de sélectionner <strong>Aggregation</strong> dans la liste déroulante <strong>Type</strong> et cliquer sur le gros bouton <strong>Oui</strong> de la ligne <strong>Show direction</strong>. La seconde solution consiste à utiliser une autre icône qui construira directement la flèche avec le losange. En réalité, il s'agit simplement d'un raccourci de la première solution. ;)</p><p id="r-608854" data-claire-element-id="608854">Cette icône se trouve juste à droite de la précédente (voir la figure suivante).</p><figure id="r-modeliser-une-agregation" data-claire-element-id="608857"><img id="r-608855" data-claire-element-id="608855" src="medias/uploads.siteduzero.com_files_202001_203000_202553.png" alt="Modéliser une agrégation"/><figcaption>Modéliser une agrégation</figcaption></figure><p id="r-608858" data-claire-element-id="608858">Je pense qu'il est inutile de vous dire comment lier vos deux classes étant donné que le principe reste le même. ;)</p><h6 id="r-la-composition-1" data-claire-element-id="608861">La composition</h6><p id="r-608860" data-claire-element-id="608860">Enfin, terminons par la composition. La composition n'a pas d'icône pour la représenter. Vous pouvez soit cliquer sur l'icône de l'association, soit cliquer sur l'icône de l'agrégation (cette dernière est à préférer dans le sens où une composition se rapproche beaucoup plus d'une agrégation que d'une association). Reliez vos classes comme nous l'avons fait jusqu'à maintenant puis double-cliquez sur celles-ci. Nous allons regarder la même liste déroulante que celle utilisée dans l'agrégation : je parle de la liste déroulante <strong>Type</strong>. À l'intérieur de celle-ci, choisissez l'option <strong>Composition</strong> puis validez.</p><h5 id="r-exercice-69" data-claire-element-id="608867">Exercice</h5><p id="r-608863" data-claire-element-id="608863">Vous avez désormais accumulé toutes les connaissances pour faire un diagramme complet. Je vais donc vous demander de me reconstituer le diagramme que je vous ai donné au début (voir la figure suivante).</p><figure id="r-diagramme-modelisant-le-dernier-tp" data-claire-element-id="608866"><img id="r-608864" data-claire-element-id="608864" src="medias/uploads.siteduzero.com_files_403001_404000_403783.png" alt="Diagramme modélisant le dernier TP"/><figcaption>Diagramme modélisant le dernier TP</figcaption></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
<span class="arrow"></span>
<span class="next">Modéliser une classe</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
<span class="next">Exploiter son diagramme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Exploitersondiagramme"></a><h2>Exploiter son diagramme</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
<span class="arrow"></span>
<span class="next">Modéliser les interactions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">
<span class="next">Les design patterns</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exploiter-son-diagramme" data-claire-element-id="608918">Exploiter son diagramme</h4><p id="r-608869" data-claire-element-id="608869">Vous avez maintenant un diagramme conséquent avec un grand nombre d'interactions, mais qu'allez vous en faire ? Je vais ici vous expliquer comment exporter votre diagramme dans deux formats différents bien pratiques. L'un sera sous forme d'image, l'autre sous forme de code PHP. :)</p><h5 id="r-enregistrer-son-diagramme" data-claire-element-id="608886">Enregistrer son diagramme</h5><aside id="r-608871" data-claire-element-id="608871" data-claire-semantic="error"><p id="r-608870" data-claire-element-id="608870">Le chemin menant au dossier dans lequel vous allez enregistrer votre diagramme ne doit pas contenir d'espace ou de caractères spéciaux (lettres accentuées, signes spéciaux comme le ©, etc.). Je vous conseille donc (pour les utilisateurs de Windows), de créer un dossier à la racine de votre disque dur. S'il comporte des caractères spéciaux, vous ne pourrez pas double-cliquer dessus afin de le lancer (comme vous faites avec tout autre document), et s'il contient des espaces ou caractères spéciaux vous ne pourrez pas exporter par la suite votre diagramme sous forme de code PHP (et tout autre langage que propose le logiciel).</p></aside><p id="r-608872" data-claire-element-id="608872">Avant toute exportation, il faut sauvegarder son diagramme, sinon cela ne fonctionnera pas. Pour ce faire, cliquez sur le menu <strong>Fichier</strong> puis cliquez sur <strong>Enregistrer</strong> (voir la figure suivante).</p><figure id="r-enregistrer-le-diagramme-par-le-menu" data-claire-element-id="608875"><img id="r-608873" data-claire-element-id="608873" src="medias/uploads.siteduzero.com_files_202001_203000_202554.png" alt="Enregistrer le diagramme par le menu"/><figcaption>Enregistrer le diagramme par le menu</figcaption></figure><p id="r-608876" data-claire-element-id="608876">Ou cliquez sur cette icône (voir la figure suivante).</p><figure id="r-enregistrer-le-diagramme-par-la-barre-d-outils" data-claire-element-id="608879"><img id="r-608877" data-claire-element-id="608877" src="medias/uploads.siteduzero.com_files_203001_204000_203681.png" alt="Enregistrer le diagramme par la barre d'outils"/><figcaption>Enregistrer le diagramme par la barre d'outils</figcaption></figure><p id="r-608880" data-claire-element-id="608880">Cette fenêtre s'ouvre à vous (voir la figure suivante).</p><figure id="r-fenetre-permettant-d-enregistrer-le-diagramme" data-claire-element-id="608883"><img id="r-608881" data-claire-element-id="608881" src="medias/uploads.siteduzero.com_files_213001_214000_213675.png" alt="Fenêtre permettant d'enregistrer le diagramme"/><figcaption>Fenêtre permettant d'enregistrer le diagramme</figcaption></figure><p id="r-608884" data-claire-element-id="608884">Tout est écrit en français, je ne pense pas avoir besoin d'expliquer en détails. Cette fenêtre contient un explorateur. À gauche sont listés les raccourcis menant aux dossiers les plus courants (le bureau, les documents, ainsi que les disques), tandis qu'à droite sont listés tous les fichiers et dossiers présents dans celui où vous vous trouvez (dans mon cas, le dossier est vierge).</p><p id="r-608885" data-claire-element-id="608885">Le champ texte situé tout en haut contient le nom du fichier sous lequel doit être enregistré le diagramme. Une fois que vous avez bien tout paramétré, cliquez sur <strong>Enregistrer</strong>. Votre diagramme est maintenant enregistré au format <strong>.dia</strong>.</p><h5 id="r-exporter-son-diagramme" data-claire-element-id="608909">Exporter son diagramme</h5><h6 id="r-sous-forme-d-image" data-claire-element-id="608900">Sous forme d'image</h6><p id="r-608887" data-claire-element-id="608887">Nous avons enregistré notre diagramme, nous sommes maintenant fin prêts à l'exporter. Pour obtenir une image de ce diagramme, nous allons cliquer sur <strong>Exporter</strong> dans le menu <strong>Fichier</strong> (voir la figure suivante).</p><figure id="r-exporter-le-diagramme-par-le-menu" data-claire-element-id="608890"><img id="r-608888" data-claire-element-id="608888" src="medias/uploads.siteduzero.com_files_202001_203000_202556.png" alt="Exporter le diagramme par le menu"/><figcaption>Exporter le diagramme par le menu</figcaption></figure><p id="r-608891" data-claire-element-id="608891">Ou cliquez sur cette icône (voir la figure suivante).</p><figure id="r-exporter-le-diagramme-par-la-barre-d-outils" data-claire-element-id="608894"><img id="r-608892" data-claire-element-id="608892" src="medias/uploads.siteduzero.com_files_203001_204000_203683.png" alt="Exporter le diagramme par la barre d'outils"/><figcaption>Exporter le diagramme par la barre d'outils</figcaption></figure><p id="r-608895" data-claire-element-id="608895">Une fenêtre semblable à celle de l'enregistrement du diagramme apparaît. Cependant, il y a une liste déroulante qui a fait son apparition (voir la figure suivante).</p><figure id="r-determiner-le-type-du-fichier" data-claire-element-id="608898"><img id="r-608896" data-claire-element-id="608896" src="medias/uploads.siteduzero.com_files_202001_203000_202557.png" alt="Déterminer le type du fichier"/><figcaption>Déterminer le type du fichier</figcaption></figure><p id="r-608899" data-claire-element-id="608899">Pour exporter votre diagramme sous forme d'image, vous avez deux possibilités. Soit vous placez l'extension <strong>.png</strong> à la fin du nom de votre image en haut, soit, dans la liste déroulante, vous sélectionnez l'option <strong>Pixbuf[png] (*.png)</strong>. Avec cette deuxième solution, le champ texte du haut contiendra le nom de votre image avec l'extension <strong>.png</strong>. Cliquez sur <strong>Enregistrer</strong>, puis contemplez votre image générée. Pas mal, n'est-ce pas ? :)</p><h6 id="r-sous-forme-de-code-php" data-claire-element-id="608908">Sous forme de code PHP</h6><p id="r-608901" data-claire-element-id="608901">Au début, la marche à suivre reste la même, c'est-à-dire qu'il faut aller dans le menu <strong>Fichier</strong> puis cliquer sur <strong>Exporter</strong>. Cette fois-ci, nous allons choisir une autre option (logique :p ). Vous pouvez là aussi réaliser l'opération de deux façons. Soit vous placez à la fin du nom du diagramme l'extension <strong>.code</strong>, soit vous sélectionnez <strong>Filtre de transformation XSL (*.code)</strong> dans la liste déroulante. Cliquez sur <strong>Enregistrer</strong>. Cette nouvelle fenêtre apparaît (voir la figure suivante).</p><figure id="r-determiner-le-langage-dans-lequel-sera-exporte-le-diagramme" data-claire-element-id="608904"><img id="r-608902" data-claire-element-id="608902" src="medias/uploads.siteduzero.com_files_202001_203000_202558.png" alt="Déterminer le langage dans lequel sera exporté le diagramme"/><figcaption>Déterminer le langage dans lequel sera exporté le diagramme</figcaption></figure><p id="r-608905" data-claire-element-id="608905">Dans la première liste déroulante, choisissez <strong>UML-CLASSES-EXTENDED</strong>. Dans la seconde liste, choisissez <strong>PHP5</strong> puis cliquez sur <strong>Valider</strong>. Regardez les nouveaux fichiers générés dans votre dossier. Alors, ça en jette non ? :)</p><aside id="r-608907" data-claire-element-id="608907" data-claire-semantic="error"><p id="r-608906" data-claire-element-id="608906">Si vous n'avez pas l'option <strong>UML-CLASSES-EXTENDED</strong> c'est que vous n'avez pas installé comme il faut l'extension <strong>uml2php5</strong>. Relisez donc bien la première partie du cours.</p></aside><h5 id="r-en-resume-203" data-claire-element-id="608917">En résumé</h5><ul id="r-608916" data-claire-element-id="608916"><li id="r-608911" data-claire-element-id="608911"><p id="r-608910" data-claire-element-id="608910">Dia est un logiciel permettant de créer facilement des diagrammes UML.</p></li><li id="r-608913" data-claire-element-id="608913"><p id="r-608912" data-claire-element-id="608912">Ce logiciel a l'avantage de pouvoir exporter vos diagrammes en images <strong>et</strong> en codes PHP.</p></li><li id="r-608915" data-claire-element-id="608915"><p id="r-608914" data-claire-element-id="608914">La modélisation grâce à UML est très appréciée dans le milieu professionnel, n'en ayez pas peur !</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
<span class="arrow"></span>
<span class="next">Modéliser les interactions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">
<span class="next">Les design patterns</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesdesignpatterns"></a><h2>Les design patterns</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
<span class="arrow"></span>
<span class="next">Exploiter son diagramme</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
<span class="next">Laisser une classe créant les objets : le pattern Factory</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-608920" data-claire-element-id="608920">Depuis les débuts de la programmation, tout un tas de développeurs ont rencontré différents problèmes de conception. La plupart de ces problèmes étaient récurrents. Pour éviter aux autres développeurs de buter sur le même souci, certains groupes de développeurs ont développé ce qu'on appelle des <em>design patterns</em> (ou <em>masques de conceptions</em> en français). Chaque design pattern répond à un problème précis. Comme nous le verrons dans ce chapitre, certains problèmes reviennent de façon récurrente et nous allons utiliser les moyens de conception déjà inventés pour les résoudre.</p><p id="r-608921" data-claire-element-id="608921">Ce chapitre est donc divisé en plusieurs sous-parties où chacune répond à un problème précis. Nous procèderons ainsi par étude de cas en posant le problème puis en le résolvant grâce aux moyens de conception connus.</p>
</div><a name="LaisseruneclassecrantlesobjetslepatternFactory"></a><h2>Laisser une classe créant les objets : le pattern Factory</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">
<span class="arrow"></span>
<span class="next">Les design patterns</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
<span class="next">Écouter ses objets : le pattern Observer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-laisser-une-classe-creant-les-objets-le-pattern-factory" data-claire-element-id="608933">Laisser une classe créant les objets : le pattern Factory</h4><h5 id="r-le-probleme-4" data-claire-element-id="608928">Le problème</h5><p id="r-608922" data-claire-element-id="608922">Admettons que vous venez de créer une application relativement importante. Vous avez construit cette application en associant plus ou moins la plupart de vos classes entre elles. À présent, vous voudriez modifier un petit morceau de code afin d'ajouter une fonctionnalité à l'application. Problème : étant donné que la plupart de vos classes sont plus ou moins liées, il va falloir modifier un tas de chose ! Le pattern Factory pourra sûrement vous aider.</p><p id="r-608923" data-claire-element-id="608923">Ce motif est très simple à construire. En fait, si vous implémentez ce pattern, vous n'aurez plus de <code>new</code> à placer dans la partie globale du script afin d'instancier une classe. En effet, ce ne sera pas à vous de le faire mais à une <strong>classe usine</strong>. Cette classe aura pour rôle de charger les classes que vous lui passez en argument. Ainsi, quand vous modifierez votre code, vous n'aurez qu'à modifier le masque d'usine pour que la plupart des modifications prennent effet. En gros, vous ne vous soucierez plus de l'instanciation de vos classes, ce sera à l'usine de le faire !</p><p id="r-608924" data-claire-element-id="608924">Voici comment se présente une classe implémentant le pattern Factory :</p><pre id="r-608925" data-claire-element-id="608925"><code data-claire-semantic="html+php">&lt;?php
class DBFactory
{
  public static function load($sgbdr)
  {
    $classe = 'SGBDR_' . $sgbdr;
    
    if (file_exists($chemin = $classe . '.class.php'))
    {
      require $chemin;
      return new $classe;
    }
    else
    {
      throw new RuntimeException('La classe &lt;strong&gt;' . $classe . '&lt;/strong&gt; n\'a pu être trouvée !');
    }
  }
}
?&gt;</code></pre><p id="r-608926" data-claire-element-id="608926">Dans votre script, vous pourrez donc faire quelque chose de ce genre :</p><pre id="r-608927" data-claire-element-id="608927"><code data-claire-semantic="html+php">&lt;?php
try
{
  $mysql = DBFactory::load('MySQL');
}
catch (RuntimeException $e)
{
  echo $e-&gt;getMessage();
}
?&gt;</code></pre><h5 id="r-exemple-concret-1" data-claire-element-id="608932">Exemple concret</h5><p id="r-608929" data-claire-element-id="608929">Le but est de créer une classe qui nous distribuera les objets PDO plus facilement. Nous allons partir du principe que vous avez plusieurs SGBDR, ou plusieurs BDD qui utilisent des identifiants différents. Pour résumer, nous allons tout centraliser dans une classe.</p><pre id="r-608930" data-claire-element-id="608930"><code data-claire-semantic="html+php">&lt;?php
class PDOFactory
{
  public static function getMysqlConnexion()
  {
    $db = new PDO('mysql:host=localhost;dbname=tests', 'root', '');
    $db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    
    return $db;
  }
  
  public static function getPgsqlConnexion()
  {
    $db = new PDO('pgsql:host=localhost;dbname=tests', 'root', '');
    $db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    
    return $db;
  }
}
?&gt;</code></pre><p id="r-608931" data-claire-element-id="608931">Ceci vous simplifiera énormément la tâche. Si vous avez besoin de modifier vos identifiants de connexion, vous n'aurez pas à aller chercher dans tous vos scripts : tout sera placé dans notre factory. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">
<span class="arrow"></span>
<span class="next">Les design patterns</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
<span class="next">Écouter ses objets : le pattern Observer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="coutersesobjetslepatternObserver"></a><h2>Écouter ses objets : le pattern Observer</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
<span class="arrow"></span>
<span class="next">Laisser une classe créant les objets : le pattern Factory</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
<span class="next">Séparer ses algorithmes : le pattern Strategy</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ecouter-ses-objets-le-pattern-observer" data-claire-element-id="608983">Écouter ses objets : le pattern Observer</h4><h5 id="r-le-probleme-5" data-claire-element-id="608962">Le problème</h5><p id="r-608934" data-claire-element-id="608934">Dans votre script est présente une classe qui s'occupe de la gestion d'un module. Lors d'une action précise, vous exécutez une ou plusieurs instructions. Celles-ci n'ont qu'une seule chose en commun : le fait qu'elles soient appelées car telle action s'est produite. Elles ont été placées dans la méthode <em>« parce qu'il faut bien les appeler et qu'on sait pas où les mettre »</em>. Il est intéressant dans ce cas-là de séparer les différentes actions effectuées lorsque telle action survient. Pour cela, nous allons regarder du côté du pattern Observer.</p><p id="r-608935" data-claire-element-id="608935">Le principe est simple : vous avez une classe observée et une ou plusieurs autre(s) classe(s) qui l'observe(nt). Lorsque telle action survient, vous allez prévenir toutes les classes qui l'observent. Nous allons, pour une raison d'homogénéité, utiliser les interfaces prédéfinies de la SPL. Il s'agit d'une librairie standard qui est fournie d'office avec PHP. Elle contient différentes classes, fonctions, interfaces, etc. Vous vous en êtes déjà servi en utilisant <code>spl_autoload_register()</code>. ;)</p><p id="r-608936" data-claire-element-id="608936">Attardons nous plutôt sur ce qui nous intéresse, à savoir deux interfaces : <a href="http://fr.php.net/manual/en/class.splsubject.php">SplSubject</a> et <a href="http://fr.php.net/manual/en/class.splobserver.php">SplObserver</a>.</p><p id="r-608937" data-claire-element-id="608937">La première interface, <code>SplSubject</code>, est l'interface implémentée par l'objet observé. Elle contient trois méthodes :</p><ul id="r-608944" data-claire-element-id="608944"><li id="r-608939" data-claire-element-id="608939"><p id="r-608938" data-claire-element-id="608938"><code>attach (SplObserver $observer)</code> : méthode appelée pour ajouter une classe observatrice à notre classe observée.</p></li><li id="r-608941" data-claire-element-id="608941"><p id="r-608940" data-claire-element-id="608940"><code>detach (SplObserver $observer)</code> : méthode appelée pour supprimer une classe observatrice.</p></li><li id="r-608943" data-claire-element-id="608943"><p id="r-608942" data-claire-element-id="608942"><code>notify()</code> : méthode appelée lorsque l'on aura besoin de prévenir toutes les classes observatrices que quelque chose s'est produit.</p></li></ul><p id="r-608945" data-claire-element-id="608945">L'interface <code>SplObserver</code> est l'interface implémentée par les différents observateurs. Elle ne contient qu'une seule méthode qui est celle appelée par la classe observée dans la méthode <code>notify()</code> : il s'agit de <code>update ( (SplSubject $subject))</code>.</p><p id="r-608946" data-claire-element-id="608946">Voici un diagramme mettant en œuvre ce design pattern (voir la figure suivante).</p><figure id="r-diagramme-modelisant-une-mise-en-place-du-design-pattern-observer" data-claire-element-id="608949"><img id="r-608947" data-claire-element-id="608947" src="medias/uploads.siteduzero.com_files_403001_404000_403892.png" alt="Diagramme modélisant une mise en place du design pattern Observer"/><figcaption>Diagramme modélisant une mise en place du design pattern Observer</figcaption></figure><p id="r-608950" data-claire-element-id="608950">Nous allons maintenant imaginer le code correspondant au diagramme. Commençons par la classe observée :</p><pre id="r-608951" data-claire-element-id="608951"><code data-claire-semantic="html+php">&lt;?php
class Observee implements SplSubject
{
  // Ceci est le tableau qui va contenir tous les objets qui nous observent.
  protected $observers = array();
  
  // Dès que cet attribut changera on notifiera les classes observatrices.
  protected $nom;
  
  public function attach(SplObserver $observer)
  {
    $this-&gt;observers[] = $observer;
  }
  
  public function detach(SplObserver $observer)
  {
    if (is_int($key = array_search($observer, $this-&gt;observers, true)))
    {
      unset($this-&gt;observers[$key]);
    }
  }
  
  public function notify()
  {
    foreach ($this-&gt;observers as $observer)
    {
      $observer-&gt;update($this);
    }
  }
  
  public function getNom()
  {
    return $this-&gt;nom;
  }
  
  public function setNom($nom)
  {
    $this-&gt;nom = $nom;
    $this-&gt;notify();
  }
}
?&gt;</code></pre><aside id="r-608953" data-claire-element-id="608953" data-claire-semantic="information"><p id="r-608952" data-claire-element-id="608952">Vous pouvez constater la présence du nom des interfaces en guise d'argument. Cela signifie que cet argument doit implémenter l'interface spécifiée.</p></aside><p id="r-608954" data-claire-element-id="608954">Voici les deux classes observatrices :</p><pre id="r-608955" data-claire-element-id="608955"><code data-claire-semantic="html+php">&lt;?php
class Observer1 implements SplObserver
{
  public function update(SplSubject $obj)
  {
    echo __CLASS__, ' a été notifié ! Nouvelle valeur de l\'attribut &lt;strong&gt;nom&lt;/strong&gt; : ', $obj-&gt;getNom();
  }
}

class Observer2 implements SplObserver
{
  public function update(SplSubject $obj)
  {
    echo __CLASS__, ' a été notifié ! Nouvelle valeur de l\'attribut &lt;strong&gt;nom&lt;/strong&gt; : ', $obj-&gt;getNom();
  }
}
?&gt;</code></pre><p id="r-608956" data-claire-element-id="608956">Ces deux classes font exactement la même chose, ce n'était qu'à titre d'exemple basique que je vous ai donné ces exemples, afin que vous puissiez vous rendre compte de la syntaxe de base lors de l'utilisation du pattern Observer.</p><p id="r-608957" data-claire-element-id="608957">Pour tester nos classes, vous pouvez utiliser ce bout de code :</p><pre id="r-608958" data-claire-element-id="608958"><code data-claire-semantic="html+php">&lt;?php
$o = new Observee;
$o-&gt;attach(new Observer1); // Ajout d'un observateur.
$o-&gt;attach(new Observer2); // Ajout d'un autre observateur.
$o-&gt;setNom('Victor'); // On modifie le nom pour voir si les classes observatrices ont bien été notifiées.
?&gt;</code></pre><p id="r-608959" data-claire-element-id="608959">Vous pouvez constater qu'ajouter des classes observatrices de cette façon peut être assez long si on en a cinq ou six. Il y a une petite technique qui consiste à pouvoir obtenir ce genre de code :</p><pre id="r-608960" data-claire-element-id="608960"><code data-claire-semantic="html+php">&lt;?php
$o = new Observee;

$o-&gt;attach(new Observer1)
  -&gt;attach(new Observer2)
  -&gt;attach(new Observer3)
  -&gt;attach(new Observer4)
  -&gt;attach(new Observer5);

$o-&gt;setNom('Victor'); // On modifie le nom pour voir si les classes observatrices ont bien été notifiées.
?&gt;</code></pre><p id="r-608961" data-claire-element-id="608961">Pour effectuer ce genre de manœuvres, la méthode <code>attach()</code> doit retourner l'instance qui l'a appelé (en d'autres termes, elle doit retourner <code>$this</code>).</p><h5 id="r-exemple-concret-2" data-claire-element-id="608982">Exemple concret</h5><p id="r-608963" data-claire-element-id="608963">Regardons un exemple concret à présent. Nous allons imaginer que vous avez, dans votre script, une classe gérant les erreurs générées par PHP. Lorsqu'une erreur est générée, vous aimeriez qu'il se passe deux choses :</p><ul id="r-608968" data-claire-element-id="608968"><li id="r-608965" data-claire-element-id="608965"><p id="r-608964" data-claire-element-id="608964">Que l'erreur soit enregistrée en BDD.</p></li><li id="r-608967" data-claire-element-id="608967"><p id="r-608966" data-claire-element-id="608966">Que l'erreur vous soit envoyée par mail.</p></li></ul><p id="r-608969" data-claire-element-id="608969">Pour cela, vous pensez donc coder une classe comportant une méthode attrapant l'erreur et effectuant les deux opérations ci-dessus. Grave erreur ! Ceci est surtout à éviter : votre classe est chargée <strong>d'intercepter</strong> les erreurs, et non de les <strong>gérer</strong> ! Ce sera à d'autres classes de s'en occuper : ces classes vont observer la classe gérant l'erreur et une fois notifiée, elles vont effectuer l'action pour laquelle elles ont été conçues. Vous voyez un peu la tête qu'aura le script ?</p><aside id="r-608971" data-claire-element-id="608971" data-claire-semantic="information"><p id="r-608970" data-claire-element-id="608970">Rappel : pour intercepter les erreurs, il vous faut utiliser <code>set_error_handler()</code>. Pour faire en sorte que la fonction de callback appelée lors de la génération d'une erreur soit une méthode d'une classe, passez un tableau à deux entrées en premier argument. La première entrée est l'objet sur lequel vous allez appeler la méthode, et la seconde est le nom de la méthode.</p></aside><p id="r-608972" data-claire-element-id="608972">Vous êtes capables de le faire tout seul. Voici la correction.</p><h6 id="r-errorhandler-classe-gerant-les-erreurs" data-claire-element-id="608974">ErrorHandler : classe gérant les erreurs</h6><pre id="r-608973" data-claire-element-id="608973"><code data-claire-semantic="html+php">&lt;?php
class ErrorHandler implements SplSubject
{
  // Ceci est le tableau qui va contenir tous les objets qui nous observent.
  protected $observers = array();
  
  // Attribut qui va contenir notre erreur formatée.
  protected $formatedError;
  
  public function attach(SplObserver $observer)
  {
    $this-&gt;observers[] = $observer;
    return $this;
  }
  
  public function detach(SplObserver $observer)
  {
    if (is_int($key = array_search($observer, $this-&gt;observers, true)))
    {
      unset($this-&gt;observers[$key]);
    }
  }
  
  public function getFormatedError()
  {
    return $this-&gt;formatedError;
  }
  
  public function notify()
  {
    foreach ($this-&gt;observers as $observer)
    {
      $observer-&gt;update($this);
    }
  }
  
  public function error($errno, $errstr, $errfile, $errline)
  {
    $this-&gt;formatedError = '[' . $errno . '] ' . $errstr . &quot;\n&quot; . 'Fichier : ' . $errfile . ' (ligne ' . $errline . ')';
    $this-&gt;notify();
  }
}
?&gt;</code></pre><h6 id="r-mailsender-classe-s-occupant-d-envoyer-les-mails" data-claire-element-id="608976">MailSender : classe s'occupant d'envoyer les mails</h6><pre id="r-608975" data-claire-element-id="608975"><code data-claire-semantic="html+php">&lt;?php
class MailSender implements SplObserver
{
  protected $mail;
  
  public function __construct($mail)
  {
    if (preg_match('`^[a-z0-9._-]+@[a-z0-9._-]{2,}\.[a-z]{2,4}$`', $mail))
    {
      $this-&gt;mail = $mail;
    }
  }
  
  public function update(SplSubject $obj)
  {
    mail($this-&gt;mail, 'Erreur détectée !', 'Une erreur a été détectée sur le site. Voici les informations de celle-ci : ' . &quot;\n&quot; . $obj-&gt;getFormatedError());
  }
}
?&gt;</code></pre><h6 id="r-bddwriter-classe-s-occupant-de-l-enregistrement-en-bdd" data-claire-element-id="608978">BDDWriter : classe s'occupant de l'enregistrement en BDD</h6><pre id="r-608977" data-claire-element-id="608977"><code data-claire-semantic="html+php">&lt;?php
class BDDWriter implements SplObserver
{
  protected $db;
  
  public function __construct(PDO $db)
  {
    $this-&gt;db = $db;
  }
  
  public function update(SplSubject $obj)
  {
    $q = $this-&gt;db-&gt;prepare('INSERT INTO erreurs SET erreur = :erreur');
    $q-&gt;bindValue(':erreur', $obj-&gt;getFormatedError());
    $q-&gt;execute();
  }
}
?&gt;</code></pre><h6 id="r-testons-notre-code" data-claire-element-id="608981">Testons notre code !</h6><pre id="r-608979" data-claire-element-id="608979"><code data-claire-semantic="html+php">&lt;?php
$o = new ErrorHandler; // Nous créons un nouveau gestionnaire d'erreur.
$db = PDOFactory::getMysqlConnexion();

$o-&gt;attach(new MailSender('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="45292a222c2b0523242c6b312921">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>'))
  -&gt;attach(new BDDWriter($db));

set_error_handler(array($o, 'error')); // Ce sera par la méthode error() de la classe ErrorHandler que les erreurs doivent être traitées.

5 / 0; // Générons une erreur
?&gt;</code></pre><p id="r-608980" data-claire-element-id="608980">D'accord, cela en fait du code ! Je ne sais pas si vous vous en rendez compte, mais ce que nous venons de créer là est une <strong>excellente</strong> manière de coder. Nous venons de séparer notre code comme il se doit et nous pourrons le modifier aisément car les différentes actions ont été séparées avec logique.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
<span class="arrow"></span>
<span class="next">Laisser une classe créant les objets : le pattern Factory</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
<span class="next">Séparer ses algorithmes : le pattern Strategy</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="SparersesalgorithmeslepatternStrategy"></a><h2>Séparer ses algorithmes : le pattern Strategy</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
<span class="arrow"></span>
<span class="next">Écouter ses objets : le pattern Observer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
<span class="next">Une classe, une instance : le pattern Singleton</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-separer-ses-algorithmes-le-pattern-strategy" data-claire-element-id="609006">Séparer ses algorithmes : le pattern Strategy</h4><h5 id="r-le-probleme-6" data-claire-element-id="608985">Le problème</h5><p id="r-608984" data-claire-element-id="608984">Vous avez une classe dédiée à une tâche spécifique. Dans un premier temps, celle-ci effectue une opération suivant un algorithme bien précis. Cependant, avec le temps, cette classe sera amenée à évoluer, et elle suivra plusieurs algorithmes, tout en effectuant la même tâche de base. Par exemple, vous avez une classe <code>FileWriter</code> qui a pour rôle d'écrire dans un fichier ainsi qu'une classe <code>DBWriter</code>. Dans un premier temps, ces classes ne contiennent qu'une méthode <code>write()</code> qui n'écrira que le texte passé en paramètre dans le fichier ou dans la BDD. <br/> Au fil du temps, vous vous rendez compte que c'est dommage qu'elles ne fassent que ça et vous aimeriez bien qu'elles puissent écrire en différents formats (HTML, XML, etc.) : les classes doivent donc <strong>formater</strong> puis <strong>écrire</strong>. C'est à ce moment qu'il est intéressant de se tourner vers le pattern Strategy. En effet, sans ce design pattern, vous seriez obligés de créer deux classes différentes pour écrire au format HTML par exemple : <code>HTMLFileWriter</code> et <code>HTMLDBWriter</code>. Pourtant, ces deux classes devront formater le texte de la même façon : nous assisterons à une duplication du code, la pire chose à faire dans un script ! Imaginez que vous voulez modifier l'algorithme dupliqué une dizaine de fois... Pas très pratique n'est-ce pas ?</p><h5 id="r-exemple-concret-3" data-claire-element-id="609005">Exemple concret</h5><p id="r-608986" data-claire-element-id="608986">Passons directement à l'exemple concret. Nous allons suivre l'idée que nous avons évoquée à l'instant : l'action d'écrire dans un fichier ou dans une BDD. Il y aura pas mal de classes à créer donc au lieu de vous faire un grand discours, je vais détailler le diagramme représentant l'application (voir la figure suivante).</p><figure id="r-diagramme-modelisant-une-mise-en-place-du-design-pattern-strategy" data-claire-element-id="608989"><img id="r-608987" data-claire-element-id="608987" src="medias/uploads.siteduzero.com_files_403001_404000_403789.png" alt="Diagramme modélisant une mise en place du design pattern Strategy"/><figcaption>Diagramme modélisant une mise en place du design pattern Strategy</figcaption></figure><p id="r-608990" data-claire-element-id="608990">Ça en fait des classes ! Pourtant (je vous assure) le principe est très simple à comprendre. La classe <code>Writer</code> est abstraite (ça n'aurait aucun sens de l'instancier : on veut écrire, d'accord, mais sur quel support ?) et implémente un constructeur qui acceptera un argument : il s'agit du formateur que l'on souhaite utiliser. Nous allons aussi placer une méthode abstraite <code>write()</code>, ce qui forcera toutes les classes filles de <code>Writer</code> à implémenter cette méthode qui appellera la méthode <code>format()</code> du formateur associé (instance contenue dans l'attribut <code>$formater</code>) afin de récupérer le texte formaté. Allez, au boulot ! :)</p><p id="r-608991" data-claire-element-id="608991">Commençons par l'interface. Rien de bien compliqué, elle ne contient qu'une seule méthode :</p><pre id="r-608992" data-claire-element-id="608992"><code data-claire-semantic="html+php">&lt;?php
interface Formater
{
  public function format($text);
}
?&gt;</code></pre><p id="r-608993" data-claire-element-id="608993">Ensuite vient la classe abstraite <code>Writer</code> que voici :</p><pre id="r-608994" data-claire-element-id="608994"><code data-claire-semantic="html+php">&lt;?php
abstract class Writer
{
  // Attribut contenant l'instance du formateur que l'on veut utiliser.
  protected $formater;
  
  abstract public function write($text);
  
  // Nous voulons une instance d'une classe implémentant Formater en paramètre.
  public function __construct(Formater $formater)
  {
    $this-&gt;formater = $formater;
  }
}
?&gt;</code></pre><p id="r-608995" data-claire-element-id="608995">Nous allons maintenant créer deux classes héritant de <code>Writer</code> : <code>FileWriter</code> et <code>DBWriter</code>.</p><pre id="r-608996" data-claire-element-id="608996"><code data-claire-semantic="html+php">&lt;?php
class DBWriter extends Writer
{
  protected $db;
  
  public function __construct(Formater $formater, PDO $db)
  {
    parent::__construct($formater);
    $this-&gt;db = $db;
  }
  
  public function write ($text)
  {
    $q = $this-&gt;db-&gt;prepare('INSERT INTO lorem_ipsum SET text = :text');
    $q-&gt;bindValue(':text', $this-&gt;formater-&gt;format($text));
    $q-&gt;execute();
  }
}
?&gt;</code></pre><pre id="r-608997" data-claire-element-id="608997"><code data-claire-semantic="html+php">&lt;?php
class FileWriter extends Writer
{
  // Attribut stockant le chemin du fichier.
  protected $file;
  
  public function __construct(Formater $formater, $file)
  {
    parent::__construct($formater);
    $this-&gt;file = $file;
  }
  
  public function write($text)
  {
    $f = fopen($this-&gt;file, 'w');
    fwrite($f, $this-&gt;formater-&gt;format($text));
    fclose($f);
  }
}
?&gt;</code></pre><p id="r-608998" data-claire-element-id="608998">Enfin, nous avons nos trois formateurs. L'un ne fait rien de particulier (<code>TextFormater</code>), et les deux autres formatent le texte en deux langages différents (<code>HTMLFormater</code> et <code>XMLFormater</code>). J'ai décidé d'ajouter le timestamp dans le formatage du texte histoire que le code ne soit pas complètement inutile (surtout pour la classe qui ne fait pas de formatage particulier). ;)</p><pre id="r-608999" data-claire-element-id="608999"><code data-claire-semantic="html+php">&lt;?php
class TextFormater implements Formater
{
  public function format($text)
  {
    return 'Date : ' . time() . &quot;\n&quot; . 'Texte : ' . $text;
  }
}
?&gt;</code></pre><pre id="r-609000" data-claire-element-id="609000"><code data-claire-semantic="html+php">&lt;?php
class HTMLFormater implements Formater
{
  public function format($text)
  {
    return '&lt;p&gt;Date : ' . time() . '&lt;br /&gt;' .&quot;\n&quot;. 'Texte : ' . $text . '&lt;/p&gt;';
  }
}
?&gt;</code></pre><pre id="r-609001" data-claire-element-id="609001"><code data-claire-semantic="html+php">&lt;?php
class XMLFormater implements Formater
{
  public function format($text)
  {
    return '&lt;?xml version=&quot;1.0&quot; encoding=&quot;ISO-8859-1&quot;?&gt;' .&quot;\n&quot;.
           '&lt;message&gt;' .&quot;\n&quot;.
           &quot;\t&quot;. '&lt;date&gt;' . time() . '&lt;/date&gt;' .&quot;\n&quot;.
           &quot;\t&quot;. '&lt;texte&gt;' . $text . '&lt;/texte&gt;' .&quot;\n&quot;.
           '&lt;/message&gt;';
  }
}
?&gt;</code></pre><p id="r-609002" data-claire-element-id="609002">Et testons enfin notre code :</p><pre id="r-609003" data-claire-element-id="609003"><code data-claire-semantic="html+php">&lt;?php
function autoload($class)
{
  if (file_exists($path = $class . '.class.php') || file_exists($path = $class . '.interface.php'))
  {
    require $path;
  }
}

spl_autoload_register('autoload');

$writer = new FileWriter(new HTMLFormater, 'file.html');
$writer-&gt;write('Hello world !');
?&gt;</code></pre><p id="r-609004" data-claire-element-id="609004">Ce code de base a l'avantage d'être très flexible. Il peut paraître un peu imposant pour notre utilisation, mais si l'application est amenée à obtenir beaucoup de fonctionnalités supplémentaires, nous aurons déjà préparé le terrain ! :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
<span class="arrow"></span>
<span class="next">Écouter ses objets : le pattern Observer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
<span class="next">Une classe, une instance : le pattern Singleton</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UneclasseuneinstancelepatternSingleton"></a><h2>Une classe, une instance : le pattern Singleton</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
<span class="arrow"></span>
<span class="next">Séparer ses algorithmes : le pattern Strategy</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
<span class="next">L&#039;injection de dépendances</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-une-classe-une-instance-le-pattern-singleton" data-claire-element-id="609029">Une classe, une instance : le pattern Singleton</h4><p id="r-609007" data-claire-element-id="609007">Nous allons terminer par un pattern qui est en général le premier qu'on vous présente. Si je ne vous l'ai pas présenté au début c'est parce que je veux que vous fassiez attention en l'employant car il peut être très mal utilisé et se transformer en mauvaise pratique. On considérera alors le pattern comme un « anti-pattern ». Cependant, il est très connu et par conséquent il est essentiel de le connaître et de savoir pourquoi il ne faut pas l'utiliser dans certains contextes.</p><h5 id="r-le-probleme-7" data-claire-element-id="609020">Le problème</h5><p id="r-609008" data-claire-element-id="609008">Nous avons une classe qui ne doit être instanciée qu'une seule fois. À première vue, ça vous semble impossible et c'est normal. Jusqu'à présent, nous pouvions faire de multiples <code>$obj</code> = <code>new Classe;</code> jusqu'à l'infini, et nous nous retrouvions avec une infinité d'instances de <code>Classe</code>. Il va donc falloir empêcher ceci.</p><p id="r-609009" data-claire-element-id="609009">Pour empêcher la création d'une instance de cette façon, c'est très simple : il suffit de mettre le constructeur de la classe en privé ou en protégé !</p><div id="r-609011" data-claire-element-id="609011" data-claire-semantic="question"><p id="r-609010" data-claire-element-id="609010">T'es marrant toi, on ne pourra jamais créer d'instance avec cette technique !</p></div><p id="r-609012" data-claire-element-id="609012">Bien sûr que si ! Nous allons créer une instance de notre classe <strong>à l'intérieur d'elle-même</strong> ! De cette façon nous aurons accès au constructeur. :)</p><p id="r-609013" data-claire-element-id="609013">Oui mais voilà, il ne va falloir créer qu'une seule instance... Nous allons donc créer un attribut statique dans notre classe qui contiendra... l'instance de cette classe ! Nous aurons aussi une méthode statique qui aura pour rôle de renvoyer cette instance. Si on l'appelle pour la première fois, alors il faut instancier la classe puis retourner l'objet, sinon on se contente de le retourner. ;)</p><p id="r-609014" data-claire-element-id="609014">Il reste un petit détail à régler. Nous voulons vraiment une seule instance, et là, il est encore possible d'en avoir plusieurs. En effet, rien n'empêche l'utilisateur de cloner l'instance ! Il faut donc bien penser à interdire l'accès à la méthode <code>__clone()</code>. ;)</p><p id="r-609015" data-claire-element-id="609015">Ainsi, une classe implémentant le pattern Singleton ressemblerait à ceci :</p><pre id="r-609016" data-claire-element-id="609016"><code data-claire-semantic="html+php">&lt;?php
class MonSingleton
{
  protected static $instance; // Contiendra l'instance de notre classe.
  
  protected function __construct() { } // Constructeur en privé.
  protected function __clone() { } // Méthode de clonage en privé aussi.
  
  public static function getInstance()
  {
    if (!isset(self::$instance)) // Si on n'a pas encore instancié notre classe.
    {
      self::$instance = new self; // On s'instancie nous-mêmes. :)
    }
    
    return self::$instance;
  }
}
?&gt;</code></pre><p id="r-609017" data-claire-element-id="609017">Ceci est le strict minimum. À vous d'implémenter de nouvelles méthodes comme vous l'auriez fait dans votre classe normale. ;)</p><p id="r-609018" data-claire-element-id="609018">Voici donc une utilisation de la classe :</p><pre id="r-609019" data-claire-element-id="609019"><code data-claire-semantic="html+php">&lt;?php
$obj = MonSingleton::getInstance(); // Premier appel : instance créée.
$obj-&gt;methode1();
?&gt;</code></pre><h5 id="r-exemple-concret-6" data-claire-element-id="609028">Exemple concret</h5><p id="r-609021" data-claire-element-id="609021">Un exemple concret pour le pattern Singleton ? Non, désolé, nous allons devoir nous en passer. :-°</p><div id="r-609023" data-claire-element-id="609023" data-claire-semantic="question"><p id="r-609022" data-claire-element-id="609022">Quoi ? Tu te moques de nous ? Alors il sert à rien ce design pattern ? o_O</p></div><p id="r-609024" data-claire-element-id="609024">Selon moi, non. Je n'ai encore jamais eu besoin de l'utiliser. Ce pattern doit être employé uniquement si plusieurs instanciations de la classe provoquaient un dysfonctionnement. Si le script peut continuer normalement alors que plusieurs instances sont créées, le pattern Singleton ne doit pas être utilisé.</p><div id="r-609026" data-claire-element-id="609026" data-claire-semantic="question"><p id="r-609025" data-claire-element-id="609025">Donc ce que nous avons appris là, ça ne sert à rien ?</p></div><p id="r-609027" data-claire-element-id="609027">Non. Il est important de connaître ce design pattern, non pas pour l'utiliser, mais au contraire pour ne pas y avoir recours, et surtout savoir pourquoi. Cependant, avant de vous répondre, je vais vous présenter un autre pattern très important : <strong>l'injection de dépendances</strong>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
<span class="arrow"></span>
<span class="next">Séparer ses algorithmes : le pattern Strategy</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
<span class="next">L&#039;injection de dépendances</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039injectiondedpendances"></a><h2>L&#039;injection de dépendances</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
<span class="arrow"></span>
<span class="next">Une classe, une instance : le pattern Singleton</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">
<span class="next">TP : un système de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-injection-de-dependances" data-claire-element-id="609071">L'injection de dépendances</h4><p id="r-609030" data-claire-element-id="609030">Comme tout pattern, celui-ci est né à cause d'un problème souvent rencontré par les développeurs : le fait d'avoir de nombreuses classes dépendantes les unes des autres. L'injection de dépendances consiste à découpler nos classes. Le pattern singleton que nous venons de voir favorise les dépendances, et l'injection de dépendances palliant ce problème, il est intéressant d'étudier ce nouveau pattern avec celui que nous venons de voir.</p><p id="r-609031" data-claire-element-id="609031">Soit le code suivant :</p><pre id="r-609032" data-claire-element-id="609032"><code data-claire-semantic="html+php">&lt;?php
class NewsManager
{
  public function get($id)
  {
    // On admet que MyPDO étend PDO et qu'il implémente un singleton.
    $q = MyPDO::getInstance()-&gt;query('SELECT id, auteur, titre, contenu FROM news WHERE id = '.(int)$id);
    
    return $q-&gt;fetch(PDO::FETCH_ASSOC);
  }
}</code></pre><p id="r-609033" data-claire-element-id="609033">Vous vous apercevez qu'ici, le singleton a introduit une dépendance entre deux classes n'appartenant pas au même module. Deux modules ne doivent jamais être liés de cette façon, ce qui est le cas dans cet exemple. Deux modules doivent être indépendants l'un de l'autre. D'ailleurs, en y regardant de plus près, cela ressemble fortement à une variable globale. En effet, un singleton n'est rien d'autre qu'une variable globale déguisée (il y a juste une étape en plus pour accéder à la variable) :</p><pre id="r-609034" data-claire-element-id="609034"><code data-claire-semantic="html+php">&lt;?php
class NewsManager
{
  public function get($id)
  {
    global $db;
    // Revient EXACTEMENT au même que :
    $db = MyPDO::getInstance();
    
    // Suite des opérations.
  }
}</code></pre><p id="r-609035" data-claire-element-id="609035">Vous ne voyez pas où est le problème ? Souvenez-vous de l'un des points forts de la POO : le fait de pouvoir redistribuer sa classe ou la réutiliser. Dans le cas présent, c'est impossible, car notre classe <code>NewsManager</code><em>dépend</em> de <code>MyPDO</code>. Qu'est-ce qui vous dit que la personne qui utilisera <code>NewsManager</code> aura cette dernière ? Rien du tout, et c'est normal. Nous sommes ici face à une dépendance créée par le singleton. De plus, la classe dépend aussi de PDO : il y avait donc déjà une dépendance au début, et le pattern Singleton en a créé une autre. Il faut donc supprimer ces deux dépendances.</p><div id="r-609037" data-claire-element-id="609037" data-claire-semantic="question"><p id="r-609036" data-claire-element-id="609036">Comment faire alors ?</p></div><p id="r-609038" data-claire-element-id="609038">Ce qu'il faut, c'est passer notre DAO au constructeur, sauf que notre classe ne doit pas être dépendante d'une quelconque bibliothèque. Ainsi, notre objet peut très bien utiliser PDO, MySQLi ou que sais-je encore, la classe se servant de lui doit fonctionner de la même manière. Alors comment procéder ? Il faut imposer un <strong>comportement spécifique à notre objet</strong> en l'obligeant à implémenter certaines méthodes. Je ne vous fais pas attendre : les interfaces sont là pour ça. Nous allons donc créer une interface <code>iDB</code> contenant (pour faire simple) qu'une seule méthode : <code>query()</code>.</p><pre id="r-609039" data-claire-element-id="609039"><code data-claire-semantic="html+php">&lt;?php
interface iDB
{
  public function query($query);
}</code></pre><p id="r-609040" data-claire-element-id="609040">Pour que l'exemple soit parlant, nous allons créer deux classes utilisant cette structure, l'une utilisant PDO et l'autre MySQLi. Cependant, un problème se pose : le résultat retourné par la méthode <code>query()</code> des classes PDO et MySQLi sont des instances de deux classes différentes, les méthodes disponibles ne sont, par conséquent, pas les mêmes. Il faut donc créer d'autres classes pour gérer les résultats qui suivent eux aussi une structure définie par une interface (admettons <code>iResult</code>).</p><pre id="r-609041" data-claire-element-id="609041"><code data-claire-semantic="html+php">&lt;?php
interface iResult
{
  public function fetchAssoc();
}</code></pre><p id="r-609042" data-claire-element-id="609042">Nous pouvons donc à présent écrire nos quatre classes : <code>MyPDO</code>, <code>MyMySQLi</code>, <code>MyPDOStatement</code> et <code>MyMySQLiResult</code>.</p><pre id="r-609043" data-claire-element-id="609043"><code data-claire-semantic="html+php">&lt;?php
class MyPDO extends PDO implements iDB
{
  public function query($query)
  {
    return new MyPDOStatement(parent::query($query));
  }
}</code></pre><pre id="r-609044" data-claire-element-id="609044"><code data-claire-semantic="html+php">&lt;?php
class MyPDOStatement implements iResult
{
  protected $st;
  
  public function __construct(PDOStatement $st)
  {
    $this-&gt;st = $st;
  }
  
  public function fetchAssoc()
  {
    return $this-&gt;st-&gt;fetch(PDO::FETCH_ASSOC);
  }
}</code></pre><pre id="r-609045" data-claire-element-id="609045"><code data-claire-semantic="html+php">&lt;?php
class MyMySQLi extends MySQLi implements iDB
{
  public function query($query)
  {
    return new MyMySQLiResult(parent::query($query));
  }
}</code></pre><pre id="r-609046" data-claire-element-id="609046"><code data-claire-semantic="html+php">&lt;?php
class MyMySQLiResult implements iResult
{
  protected $st;
  
  public function __construct(MySQLi_Result $st)
  {
    $this-&gt;st = $st;
  }
  
  public function fetchAssoc()
  {
    return $this-&gt;st-&gt;fetch_assoc();
  }
}</code></pre><p id="r-609047" data-claire-element-id="609047">Nous pouvons donc maintenant écrire notre classe <code>NewsManager</code>. N'oubliez pas de vérifier que les objets sont bien des instances de classes implémentant les interfaces désirées. ;)</p><pre id="r-609048" data-claire-element-id="609048"><code data-claire-semantic="html+php">&lt;?php
class NewsManager
{
  protected $dao;
  
  // On souhaite un objet instanciant une classe qui implémente iDB.
  public function __construct(iDB $dao)
  {
    $this-&gt;dao = $dao;
  }
  
  public function get($id)
  {
    $q = $this-&gt;dao-&gt;query('SELECT id, auteur, titre, contenu FROM news WHERE id = '.(int)$id);
    
    // On vérifie que le résultat implémente bien iResult.
    if (!$q instanceof iResult)
    {
      throw new Exception('Le résultat d\'une requête doit être un objet implémentant iResult');
    }
    
    return $q-&gt;fetchAssoc();
  }
}</code></pre><p id="r-609049" data-claire-element-id="609049">Testons maintenant notre code.</p><pre id="r-609050" data-claire-element-id="609050"><code data-claire-semantic="html+php">&lt;?php
$dao = new MyPDO('mysql:host=localhost;dbname=news', 'root', '');
// $dao = new MyMySQLi('localhost', 'root', '', 'news');

$manager = new NewsManager($dao);
print_r($manager-&gt;get(2));</code></pre><p id="r-609051" data-claire-element-id="609051">Je vous laisse commenter les deux premières lignes pour vérifier que les deux fonctionnent. Après quelques tests, vous vous rendrez compte que nous avons bel et bien découplé nos classes ! Il n'y a ainsi plus aucune dépendance entre notre classe <code>NewsManager</code> et une quelconque autre classe.</p><aside id="r-609053" data-claire-element-id="609053" data-claire-semantic="information"><p id="r-609052" data-claire-element-id="609052">Le problème, dans notre cas, c'est qu'il est difficile de faire de l'injection de dépendances pour qu'une classe supporte toutes les bibliothèques d'accès aux BDD (PDO, MySQLi, etc.) à cause des résultats des requêtes. De son côté, PDO a la classe <code>PDOStatement</code>, tandis que MySQLi a MySQLi_STMT pour les requêtes préparées et MySQLi_Result pour les résultats de requêtes classiques. Cela est donc difficile de les conformer au même modèle. Nous allons donc, dans le TP à venir, utiliser une autre technique pour découpler nos classes.</p></aside><h5 id="r-pour-conclure-8" data-claire-element-id="609056">Pour conclure</h5><p id="r-609054" data-claire-element-id="609054">Le principal problème du singleton est de favoriser les dépendances entre deux classes. Il faut donc être très méfiant de ce côté-là, car votre application deviendra difficilement modifiable et l'on perd alors les avantages de la POO. Je vous recommande donc d'utiliser le singleton en dernier recours : si vous décidez d'implémenter ce pattern, c'est pour garantir que cette classe ne doit être instanciée qu'une seule fois. Si vous vous rendez compte que deux instances ou plus ne causent pas de problème à l'application, alors n'implémentez pas le singleton. Et par pitié : <strong>n'implémentez pas un singleton pour l'utiliser comme une variable globale</strong> ! C'est la pire des choses à faire car cela favorise les dépendances entre classes comme nous l'avons vu.</p><p id="r-609055" data-claire-element-id="609055">Si vous voulez en savoir plus sur l'injection de dépendances (notamment sur l'utilisation de <strong>conteneurs</strong>), je vous invite à lire <a href="http://www.siteduzero.com/tutoriel-3-495641-introduction-a-l-injection-de-dependances-en-php.html">cet excellent tutoriel</a> de <a href="http://www.siteduzero.com/membres-294-43623.html">vincent1870</a>.</p><h5 id="r-en-resume-204" data-claire-element-id="609070">En résumé</h5><ul id="r-609069" data-claire-element-id="609069"><li id="r-609058" data-claire-element-id="609058"><p id="r-609057" data-claire-element-id="609057">Un <em>design pattern</em> est un moyen de conception répondant à un problème récurrent.</p></li><li id="r-609060" data-claire-element-id="609060"><p id="r-609059" data-claire-element-id="609059">Le pattern <em>factory</em> a pour but de laisser des classes usine créer les instances à votre place.</p></li><li id="r-609062" data-claire-element-id="609062"><p id="r-609061" data-claire-element-id="609061">Le pattern <em>observer</em> permet de lier certains objets à des « écouteurs » eux-mêmes chargés de notifier les objets auxquels ils sont rattachés.</p></li><li id="r-609064" data-claire-element-id="609064"><p id="r-609063" data-claire-element-id="609063">Le pattern <em>strategy</em> sert à délocaliser la partie algorithmique d'une méthode afin de le permettre réutilisable, évitant ainsi la duplication de cet algorithme.</p></li><li id="r-609066" data-claire-element-id="609066"><p id="r-609065" data-claire-element-id="609065">Le pattern <em>singleton</em> permet de pouvoir instancier une classe une seule et unique fois, ce qui présente quelques soucis au niveau des dépendances entre classes.</p></li><li id="r-609068" data-claire-element-id="609068"><p id="r-609067" data-claire-element-id="609067">Le pattern <em>injection de dépendances</em> a pour but de rendre le plus indépendantes possible les classes.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
<span class="arrow"></span>
<span class="next">Une classe, une instance : le pattern Singleton</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">
<span class="next">TP : un système de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPunsystmedenews"></a><h2>TP : un système de news</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
<span class="arrow"></span>
<span class="next">L&#039;injection de dépendances</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
<span class="next">Ce que nous allons faire</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609073" data-claire-element-id="609073">La plupart des sites web dynamiques proposent un système d'actualités. Je sais par conséquent que c'est l'exemple auquel la plupart d'entre vous s'attend : nous allons donc réaliser ici un système de news ! Cela sera le dernier petit TP permettant de clarifier vos acquis avant celui plus important qui vous attend. Ce TP est aussi l'occasion pour vous de voir un exemple concret qui vous sera utile pour votre site !</p>
</div><a name="Cequenousallonsfaire"></a><h2>Ce que nous allons faire</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">
<span class="arrow"></span>
<span class="next">TP : un système de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ce-que-nous-allons-faire-3" data-claire-element-id="609112">Ce que nous allons faire</h4><h5 id="r-cahier-des-charges-9" data-claire-element-id="609093">Cahier des charges</h5><p id="r-609074" data-claire-element-id="609074">Commençons par définir ce que nous allons faire et surtout, ce dont nous allons avoir besoin.</p><p id="r-609075" data-claire-element-id="609075">Ce que nous allons réaliser est très simple, à savoir un système de news basique avec les fonctionnalités suivantes :</p><ul id="r-609082" data-claire-element-id="609082"><li id="r-609077" data-claire-element-id="609077"><p id="r-609076" data-claire-element-id="609076">Affichage des cinq premières news à l'accueil du site avec texte réduit à 200 caractères.</p></li><li id="r-609079" data-claire-element-id="609079"><p id="r-609078" data-claire-element-id="609078">Possibilité de cliquer sur le titre de la news pour la lire entièrement. L'auteur et la date d'ajout apparaîtront, ainsi que la date de modification si la news a été modifiée.</p></li><li id="r-609081" data-claire-element-id="609081"><p id="r-609080" data-claire-element-id="609080">Un espace d'administration qui permettra d'ajouter / modifier / supprimer des news. Cet espace tient sur une page : il y a un formulaire et un tableau en-dessous listant les news avec des liens modifier / supprimer. Quand on clique sur « Modifier », le formulaire se pré-remplit.</p></li></ul><p id="r-609083" data-claire-element-id="609083">Pour réaliser cela, nous allons avoir besoin de créer une table <strong>news</strong> dont la structure est la suivante :</p><pre id="r-609084" data-claire-element-id="609084"><code data-claire-semantic="sql">CREATE TABLE `news` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `auteur` varchar(30) NOT NULL,
  `titre` varchar(100) NOT NULL,
  `contenu` text NOT NULL,
  `dateAjout` datetime NOT NULL,
  `dateModif` datetime NOT NULL,
  PRIMARY KEY (`id`)
);</code></pre><p id="r-609085" data-claire-element-id="609085">Concernant l'organisation des classes, nous allons suivre la même structure que pour les personnages, à savoir :</p><ul id="r-609090" data-claire-element-id="609090"><li id="r-609087" data-claire-element-id="609087"><p id="r-609086" data-claire-element-id="609086">Une classe <code>News</code> qui contiendra les champs sous forme d'attributs. Son rôle sera de représenter une news.</p></li><li id="r-609089" data-claire-element-id="609089"><p id="r-609088" data-claire-element-id="609088">Une classe <code>NewsManager</code> qui gérera les news. C'est elle qui interagira avec la BDD.</p></li></ul><p id="r-609091" data-claire-element-id="609091">Cependant, je voudrais vous enseigner quelque chose de nouveau. Je voudrais que la classe <code>NewsManager</code> ne soit pas dépendante de PDO. Nous avons vu dans le chapitre précédent que l'injection de dépendances pouvait être intéressante mais nous compliquait trop la tâche concernant l'adaptation des DAO. Au lieu d'injecter la dépendance, nous allons plutôt créer des classes <strong>spécialisées</strong>, c'est-à-dire qu'à chaque API correspondra une classe. Par exemple, si nous voulons assurer la compatibilité de notre système de news avec l'API PDO et MySQLi, alors nous aurons deux managers différents, l'un effectuant les requêtes avec PDO, l'autre avec MySQLi. Néanmoins, étant donné que ces classes ont une nature en commun (celle d'être toutes les deux des managers de news), alors elles devront hériter d'une classe représentant cette nature.</p><p id="r-609092" data-claire-element-id="609092"><a href="http://vyk12.alwaysdata.net/sdz/tp_poo_3/">Voir le résultat que vous devez obtenir</a></p><h5 id="r-retour-sur-le-traitement-des-resultats" data-claire-element-id="609111">Retour sur le traitement des résultats</h5><p id="r-609094" data-claire-element-id="609094">Je vais vous demander d'essayer de vous rappeler le dernier TP, celui sur les personnages, et, plus précisément, la manière dont nous récupérions les résultats. Nous obtenions quelque chose comme ça :</p><pre id="r-609095" data-claire-element-id="609095"><code data-claire-semantic="html+php">&lt;?php
// On admet que $db est une instance de PDO

$q = $db-&gt;prepare('SELECT id, nom, degats FROM personnages WHERE nom &lt;&gt; :nom ORDER BY nom');
$q-&gt;execute(array(':nom' =&gt; $nom));

while ($donnees = $q-&gt;fetch(PDO::FETCH_ASSOC))
{
  $persos[] = new Personnage($donnees);
}</code></pre><p id="r-609096" data-claire-element-id="609096">Comme vous pouvez le constater, on récupère la liste des personnages sous forme de tableau grâce à la constante <code>PDO::FETCH_ASSOC</code>, puis on instancie notre classe <code>Personnage</code> en passant ce tableau au constructeur. Je vais vous dévoiler un moyen plus simple et davantage optimisé pour effectuer cette opération. je ne l'ai pas abordé précédemment car je trouvais qu'il était un peu tôt pour vous en parler dès la première partie.</p><p id="r-609097" data-claire-element-id="609097">Avec PDO (comme avec MySQLi, mais nous le verrons plus tard), il existe une constante qui signifie <em>« retourne-moi le résultat dans un objet »</em> (au même titre que la constante <code>PDO::FETCH_ASSOC</code> signifie <em>« retourne-moi le résultat dans un tableau »</em>). Cette constante est tout simplement <code>PDO::FETCH_CLASS</code>. Comment s'utilise-t-elle ? Comme vous vous en doutez peut-être, si nous voulons que PDO nous retourne les résultats sous forme d'instances de notre classe <code>News</code>, il va falloir lui dire ! Or, nous ne pouvons pas lui dire le nom de notre classe directement dans la méthode <code>fetch()</code> comme nous le faisons avec <code>PDO::FETCH_ASSOC</code>. Nous allons nous servir d'une autre méthode, <code><a href="http://fr2.php.net/manual/fr/pdostatement.setfetchmode.php">setFetchMode()</a></code>. Si vous avez lu les toutes premières lignes de la page pointée par le lien que j'ai donné, vous devriez savoir utiliser cette méthode :</p><pre id="r-609098" data-claire-element-id="609098"><code data-claire-semantic="html+php">&lt;?php
// On admet que $db est une instance de PDO

$q = $db-&gt;prepare('SELECT id, nom, degats FROM personnages WHERE nom &lt;&gt; :nom ORDER BY nom');
$q-&gt;execute(array(':nom' =&gt; $nom));

$q-&gt;setFetchMode(PDO::FETCH_CLASS, 'Personnage');

$persos = $q-&gt;fetchAll();</code></pre><aside id="r-609100" data-claire-element-id="609100" data-claire-semantic="information"><p id="r-609099" data-claire-element-id="609099">Notez qu'il n'est plus utile de parcourir chaque résultat pour les stocker dans un tableau puisque nous n'avons aucune opération à effectuer. Un simple appel à <code>fetchAll()</code> suffit donc amplement.</p></aside><p id="r-609101" data-claire-element-id="609101">Comme vous le voyez, puisque nous avons dit à PDO à la ligne 7 que nous voulions une instance de <code>Personnage</code> en guise de résultat, il n'est pas utile de spécifier de nouveau quoi que ce soit lorsqu'on appelle la méthode <code>fetchAll()</code>.</p><p id="r-609102" data-claire-element-id="609102">Vous pouvez essayer ce code et vous verrez que ça fonctionne. Maintenant, je vais vous demander d'effectuer un petit test. Affichez la valeur des attributs dans le constructeur de <code>News</code> (avec des simples <code>echo</code>, n'allez pas chercher bien loin). Lancez de nouveau le script. Sur votre écran vont alors s'afficher les valeurs que PDO a assignées à notre objet. Rien ne vous titille ? Dois-je vous rappeler que, normalement, le constructeur d'une classe est appelé <strong>en premier</strong> et qu'il a pour rôle principal d'initialiser l'objet ? Pensez-vous que ce rôle est accompli alors que les valeurs ont été assignées <strong>avant même que le constructeur soit appelé</strong> ? Si vous aviez un constructeur qui devait assigner des valeurs par défaut aux attributs, celui-ci aurait écrasé les valeurs assignées par PDO.</p><p id="r-609103" data-claire-element-id="609103">Pour résumer, mémorisez qu'avec cette technique, l'objet n'est pas instancié comme il se doit. L'objet est créé (<strong>sans que le constructeur soit appelé</strong>), puis les valeurs sont assignées aux attributs par PDO, enfin le constructeur est appelé.</p><p id="r-609104" data-claire-element-id="609104">Pour remettre les choses dans l'ordre, une autre constante est disponible : <code>PDO::FETCH_PROPS_LATE</code>. Elle va de paire avec <code>PDO::FETCH_CLASS</code>. Essayez dès à présent cette modification :</p><pre id="r-609105" data-claire-element-id="609105"><code data-claire-semantic="html+php">&lt;?php
// On admet que $db est une instance de PDO

$q = $db-&gt;prepare('SELECT id, nom, degats FROM personnages WHERE nom &lt;&gt; :nom ORDER BY nom');
$q-&gt;execute(array(':nom' =&gt; $nom));

$q-&gt;setFetchMode(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE, 'Personnage');

$persos = $q-&gt;fetchAll();</code></pre><p id="r-609106" data-claire-element-id="609106">Affichez avec des <code>echo</code> la valeur de quelques attributs dans le constructeur et vous verrez qu'ils auront tous une valeur nulle, pour la simple et bonne raison que cette fois-ci, le constructeur a été appelé <strong>avant</strong> que les valeurs soient assignées aux attributs par PDO.</p><p id="r-609107" data-claire-element-id="609107">Maintenant, puisque le cahier des charges vous demande de rendre ce script compatible avec l'API MySQLi, je vais vous dire comment procéder. C'est beaucoup plus simple : au lieu d'appeler la méthode <code>fetch_assoc()</code> sur le résultat, appelez tout simplement la méthode <code>fetch_object('NomDeLaClasse')</code>.</p><div id="r-609109" data-claire-element-id="609109" data-claire-semantic="question"><p id="r-609108" data-claire-element-id="609108">Mes attributs sont privés ou protégés, pourquoi PDO et MySQLi peuvent-ils modifier leur valeur sans appeler les <em>setters</em> ?</p></div><p id="r-609110" data-claire-element-id="609110">Procéder de cette façon, c'est de la &quot;bidouille&quot; de bas niveau. PDO et MySQLi sont des API compilées avec PHP, elles ne fonctionnent donc pas comme les classes que vous développez. En plus de vous dire des bêtises, cela serait un hors sujet de vous expliquer le pourquoi du comment, mais sachez juste que les API compilées ont quelques super pouvoirs de ce genre. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">
<span class="arrow"></span>
<span class="next">TP : un système de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
<span class="arrow"></span>
<span class="next">Ce que nous allons faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">
<span class="next">Description de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-28" data-claire-element-id="609133">Correction</h4><h5 id="r-diagramme-uml" data-claire-element-id="609117">Diagramme UML</h5><p id="r-609113" data-claire-element-id="609113">Avant de donner une correction du code, je vais corriger la construction des classes en vous donnant le diagramme UML représentant le module (voir la figure suivante).</p><figure id="r-diagramme-modelisant-le-systeme-de-news" data-claire-element-id="609116"><img id="r-609114" data-claire-element-id="609114" src="medias/uploads.siteduzero.com_files_405001_406000_405515.png" alt="Diagramme modélisant le système de news"/><figcaption>Diagramme modélisant le système de news</figcaption></figure><h5 id="r-le-code-du-systeme" data-claire-element-id="609132">Le code du système</h5><p id="r-609118" data-claire-element-id="609118">Pour des raisons d'organisation, j'ai décidé de placer les quatre classes dans un dossier <strong>lib</strong>.</p><pre id="r-609119" data-claire-element-id="609119"><code data-claire-semantic="html+php">&lt;?php
/**
 * Classe représentant une news, créée à l'occasion d'un TP du tutoriel « La programmation orientée objet en PHP » disponible sur http://www.siteduzero.com/
 * @author Victor T.
 * @version 2.0
 */
class News
{
  protected $erreurs = array(),
            $id,
            $auteur,
            $titre,
            $contenu,
            $dateAjout,
            $dateModif;
  
  /**
   * Constantes relatives aux erreurs possibles rencontrées lors de l'exécution de la méthode.
   */
  const AUTEUR_INVALIDE = 1;
  const TITRE_INVALIDE = 2;
  const CONTENU_INVALIDE = 3;
  
  
  /**
   * Constructeur de la classe qui assigne les données spécifiées en paramètre aux attributs correspondants.
   * @param $valeurs array Les valeurs à assigner
   * @return void
   */
  public function __construct($valeurs = array())
  {
    if (!empty($valeurs)) // Si on a spécifié des valeurs, alors on hydrate l'objet.
    {
      $this-&gt;hydrate($valeurs);
    }
  }
  
  /**
   * Méthode assignant les valeurs spécifiées aux attributs correspondant.
   * @param $donnees array Les données à assigner
   * @return void
   */
  public function hydrate($donnees)
  {
    foreach ($donnees as $attribut =&gt; $valeur)
    {
      $methode = 'set'.ucfirst($attribut);
      
      if (is_callable(array($this, $methode)))
      {
        $this-&gt;$methode($valeur);
      }
    }
  }
  
  /**
   * Méthode permettant de savoir si la news est nouvelle.
   * @return bool
   */
  public function isNew()
  {
    return empty($this-&gt;id);
  }
  
  /**
   * Méthode permettant de savoir si la news est valide.
   * @return bool
   */
  public function isValid()
  {
    return !(empty($this-&gt;auteur) || empty($this-&gt;titre) || empty($this-&gt;contenu));
  }
  
  
  // SETTERS //
  
  public function setId($id)
  {
    $this-&gt;id = (int) $id;
  }
  
  public function setAuteur($auteur)
  {
    if (!is_string($auteur) || empty($auteur))
    {
      $this-&gt;erreurs[] = self::AUTEUR_INVALIDE;
    }
    else
    {
      $this-&gt;auteur = $auteur;
    }
  }
  
  public function setTitre($titre)
  {
    if (!is_string($titre) || empty($titre))
    {
      $this-&gt;erreurs[] = self::TITRE_INVALIDE;
    }
    else
    {
      $this-&gt;titre = $titre;
    }
  }
  
  public function setContenu($contenu)
  {
    if (!is_string($contenu) || empty($contenu))
    {
      $this-&gt;erreurs[] = self::CONTENU_INVALIDE;
    }
    else
    {
      $this-&gt;contenu = $contenu;
    }
  }
  
  public function setDateAjout($dateAjout)
  {
    if (is_string($dateAjout) &amp;&amp; preg_match('`le [0-9]{2}/[0-9]{2}/[0-9]{4} à [0-9]{2}h[0-9]{2}`', $dateAjout))
    {
      $this-&gt;dateAjout = $dateAjout;
    }
  }
  
  public function setDateModif($dateModif)
  {
    if (is_string($dateModif) &amp;&amp; preg_match('`le [0-9]{2}/[0-9]{2}/[0-9]{4} à [0-9]{2}h[0-9]{2}`', $dateModif))
    {
      $this-&gt;dateModif = $dateModif;
    }
  }
  
  // GETTERS //
  
  public function erreurs()
  {
    return $this-&gt;erreurs;
  }
  
  public function id()
  {
    return $this-&gt;id;
  }
  
  public function auteur()
  {
    return $this-&gt;auteur;
  }
  
  public function titre()
  {
    return $this-&gt;titre;
  }
  
  public function contenu()
  {
    return $this-&gt;contenu;
  }
  
  public function dateAjout()
  {
    return $this-&gt;dateAjout;
  }
  
  public function dateModif()
  {
    return $this-&gt;dateModif;
  }
}</code></pre><pre id="r-609120" data-claire-element-id="609120"><code data-claire-semantic="html+php">&lt;?php
abstract class NewsManager
{
  /**
   * Méthode permettant d'ajouter une news.
   * @param $news News La news à ajouter
   * @return void
   */
  abstract protected function add(News $news);
  
  /**
   * Méthode renvoyant le nombre de news total.
   * @return int
   */
  abstract public function count();
  
  /**
   * Méthode permettant de supprimer une news.
   * @param $id int L'identifiant de la news à supprimer
   * @return void
   */
  abstract public function delete($id);
  
  /**
   * Méthode retournant une liste de news demandée.
   * @param $debut int La première news à sélectionner
   * @param $limite int Le nombre de news à sélectionner
   * @return array La liste des news. Chaque entrée est une instance de News.
   */
  abstract public function getList($debut = -1, $limite = -1);
  
  /**
   * Méthode retournant une news précise.
   * @param $id int L'identifiant de la news à récupérer
   * @return News La news demandée
   */
  abstract public function getUnique($id);
  
  /**
   * Méthode permettant d'enregistrer une news.
   * @param $news News la news à enregistrer
   * @see self::add()
   * @see self::modify()
   * @return void
   */
  public function save(News $news)
  {
    if ($news-&gt;isValid())
    {
      $news-&gt;isNew() ? $this-&gt;add($news) : $this-&gt;update($news);
    }
    else
    {
      throw new RuntimeException('La news doit être valide pour être enregistrée');
    }
  }
  
  /**
   * Méthode permettant de modifier une news.
   * @param $news news la news à modifier
   * @return void
   */
  abstract protected function update(News $news);
}</code></pre><pre id="r-609121" data-claire-element-id="609121"><code data-claire-semantic="html+php">&lt;?php
class NewsManager_PDO extends NewsManager
{
  /**
   * Attribut contenant l'instance représentant la BDD.
   * @type PDO
   */
  protected $db;
  
  /**
   * Constructeur étant chargé d'enregistrer l'instance de PDO dans l'attribut $db.
   * @param $db PDO Le DAO
   * @return void
   */
  public function __construct(PDO $db)
  {
    $this-&gt;db = $db;
  }
  
  /**
   * @see NewsManager::add()
   */
  protected function add(News $news)
  {
    $requete = $this-&gt;db-&gt;prepare('INSERT INTO news SET auteur = :auteur, titre = :titre, contenu = :contenu, dateAjout = NOW(), dateModif = NOW()');
    
    $requete-&gt;bindValue(':titre', $news-&gt;titre());
    $requete-&gt;bindValue(':auteur', $news-&gt;auteur());
    $requete-&gt;bindValue(':contenu', $news-&gt;contenu());
    
    $requete-&gt;execute();
  }
  
  /**
   * @see NewsManager::count()
   */
  public function count()
  {
    return $this-&gt;db-&gt;query('SELECT COUNT(*) FROM news')-&gt;fetchColumn();
  }
  
  /**
   * @see NewsManager::delete()
   */
  public function delete($id)
  {
    $this-&gt;db-&gt;exec('DELETE FROM news WHERE id = '.(int) $id);
  }
  
  /**
   * @see NewsManager::getList()
   */
  public function getList($debut = -1, $limite = -1)
  {
    $sql = 'SELECT id, auteur, titre, contenu, DATE_FORMAT (dateAjout, \'le %d/%m/%Y à %Hh%i\') AS dateAjout, DATE_FORMAT (dateModif, \'le %d/%m/%Y à %Hh%i\') AS dateModif FROM news ORDER BY id DESC';
    
    // On vérifie l'intégrité des paramètres fournis.
    if ($debut != -1 || $limite != -1)
    {
      $sql .= ' LIMIT '.(int) $limite.' OFFSET '.(int) $debut;
    }
    
    $requete = $this-&gt;db-&gt;query($sql);
    $requete-&gt;setFetchMode(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE, 'News');
    
    $listeNews = $requete-&gt;fetchAll();
    
    $requete-&gt;closeCursor();
    
    return $listeNews;
  }
  
  /**
   * @see NewsManager::getUnique()
   */
  public function getUnique($id)
  {
    $requete = $this-&gt;db-&gt;prepare('SELECT id, auteur, titre, contenu, DATE_FORMAT (dateAjout, \'le %d/%m/%Y à %Hh%i\') AS dateAjout, DATE_FORMAT (dateModif, \'le %d/%m/%Y à %Hh%i\') AS dateModif FROM news WHERE id = :id');
    $requete-&gt;bindValue(':id', (int) $id, PDO::PARAM_INT);
    $requete-&gt;execute();
    
    $requete-&gt;setFetchMode(PDO::FETCH_CLASS | PDO::FETCH_PROPS_LATE, 'News');
    
    return $requete-&gt;fetch();
  }
  
  /**
   * @see NewsManager::update()
   */
  protected function update(News $news)
  {
    $requete = $this-&gt;db-&gt;prepare('UPDATE news SET auteur = :auteur, titre = :titre, contenu = :contenu, dateModif = NOW() WHERE id = :id');
    
    $requete-&gt;bindValue(':titre', $news-&gt;titre());
    $requete-&gt;bindValue(':auteur', $news-&gt;auteur());
    $requete-&gt;bindValue(':contenu', $news-&gt;contenu());
    $requete-&gt;bindValue(':id', $news-&gt;id(), PDO::PARAM_INT);
    
    $requete-&gt;execute();
  }
}</code></pre><pre id="r-609122" data-claire-element-id="609122"><code data-claire-semantic="html+php">&lt;?php
class NewsManager_MySQLi extends NewsManager
{
  /**
   * Attribut contenant l'instance représentant la BDD.
   * @type MySQLi
   */
  protected $db;
  
  /**
   * Constructeur étant chargé d'enregistrer l'instance de MySQLi dans l'attribut $db.
   * @param $db MySQLi Le DAO
   * @return void
   */
  public function __construct(MySQLi $db)
  {
    $this-&gt;db = $db;
  }
  
  /**
   * @see NewsManager::add()
   */
  protected function add(News $news)
  {
    $requete = $this-&gt;db-&gt;prepare('INSERT INTO news SET auteur = ?, titre = ?, contenu = ?, dateAjout = NOW(), dateModif = NOW()');
    
    $requete-&gt;bind_param('sss', $news-&gt;auteur(), $news-&gt;titre(), $news-&gt;contenu());
    
    $requete-&gt;execute();
  }
  
  /**
   * @see NewsManager::count()
   */
  public function count()
  {
    return $this-&gt;db-&gt;query('SELECT id FROM news')-&gt;num_rows;
  }
  
  /**
   * @see NewsManager::delete()
   */
  public function delete($id)
  {
    $id = (int) $id;
    
    $requete = $this-&gt;db-&gt;prepare('DELETE FROM news WHERE id = ?');
    
    $requete-&gt;bind_param('i', $id);
    
    $requete-&gt;execute();
  }
  
  /**
   * @see NewsManager::getList()
   */
  public function getList($debut = -1, $limite = -1)
  {
    $listeNews = array();
    
    $sql = 'SELECT id, auteur, titre, contenu, DATE_FORMAT (dateAjout, \'le %d/%m/%Y à %Hh%i\') AS dateAjout, DATE_FORMAT (dateModif, \'le %d/%m/%Y à %Hh%i\') AS dateModif FROM news ORDER BY id DESC';
    
    // On vérifie l'intégrité des paramètres fournis.
    if ($debut != -1 || $limite != -1)
    {
      $sql .= ' LIMIT '.(int) $limite.' OFFSET '.(int) $debut;
    }
    
    $requete = $this-&gt;db-&gt;query($sql);
    
    while ($news = $requete-&gt;fetch_object('News'))
    {
      $listeNews[] = $news;
    }
    
    return $listeNews;
  }
  
  /**
   * @see NewsManager::getUnique()
   */
  public function getUnique($id)
  {
    $id = (int) $id;
    
    $requete = $this-&gt;db-&gt;prepare('SELECT id, auteur, titre, contenu, DATE_FORMAT (dateAjout, \'le %d/%m/%Y à %Hh%i\') AS dateAjout, DATE_FORMAT (dateModif, \'le %d/%m/%Y à %Hh%i\') AS dateModif FROM news WHERE id = ?');
    $requete-&gt;bind_param('i', $id);
    $requete-&gt;execute();
    
    $requete-&gt;bind_result($id, $auteur, $titre, $contenu, $dateAjout, $dateModif);
    
    $requete-&gt;fetch();
    
    return new News(array(
      'id' =&gt; $id,
      'auteur' =&gt; $auteur,
      'titre' =&gt; $titre,
      'contenu' =&gt; $contenu,
      'dateAjout' =&gt; $dateAjout,
      'dateModif' =&gt; $dateModif
    ));
  }
  
  /**
   * @see NewsManager::update()
   */
  protected function update(News $news)
  {
    $requete = $this-&gt;db-&gt;prepare('UPDATE news SET auteur = ?, titre = ?, contenu = ?, dateModif = NOW() WHERE id = ?');
    
    $requete-&gt;bind_param('sssi', $news-&gt;auteur(), $news-&gt;titre(), $news-&gt;contenu(), $news-&gt;id());
    
    $requete-&gt;execute();
  }
}</code></pre><p id="r-609123" data-claire-element-id="609123">Pour accéder aux instances de PDO et MySQLi, nous allons nous aider du design pattern factory. Veuillez donc créer une simple classe <code>DBFactory</code>.</p><pre id="r-609124" data-claire-element-id="609124"><code data-claire-semantic="html+php">&lt;?php
class DBFactory
{
  public static function getMysqlConnexionWithPDO()
  {
    $db = new PDO('mysql:host=localhost;dbname=news', 'root', '');
    $db-&gt;setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
    
    return $db;
  }
  
  public static function getMysqlConnexionWithMySQLi()
  {
    return new MySQLi('localhost', 'root', '', 'news');
  }
}</code></pre><p id="r-609125" data-claire-element-id="609125">Nous allons créer deux pages : <strong>index.php</strong> qui sera accessible au grand public et listera les news, ainsi que <strong>admin.php</strong> qui nous permettra de gérer les news. Dans ces deux pages, nous aurons besoin d'un autoload. Nous allons donc créer un fichier <strong>autoload.inc.php</strong> dans le dossier <strong>lib</strong> qui contiendra notre autoload. Il s'agit d'un simple fichier, voyez par vous-même :</p><pre id="r-609126" data-claire-element-id="609126"><code data-claire-semantic="html+php">&lt;?php
function autoload($classname)
{
  if (file_exists($file = dirname (__FILE__) . '/' . $classname . '.class.php'))
  {
    require $file;
  }
}

spl_autoload_register('autoload');</code></pre><p id="r-609127" data-claire-element-id="609127">Maintenant que nous avons créé la partie interne, nous allons nous occuper des pages qui s'afficheront devant vos yeux. Il s'agit bien entendu de la partie la plus facile, le pire est derrière nous. ;)</p><p id="r-609128" data-claire-element-id="609128">Commençons par la page d'administration :</p><pre id="r-609129" data-claire-element-id="609129"><code data-claire-semantic="html+php">&lt;?php
require 'lib/autoload.inc.php';

$db = DBFactory::getMysqlConnexionWithMySQLi();
$manager = new NewsManager_MySQLi($db);

if (isset($_GET['modifier']))
{
  $news = $manager-&gt;getUnique ((int) $_GET['modifier']);
}

if (isset($_GET['supprimer']))
{
  $manager-&gt;delete((int) $_GET['supprimer']);
  $message = 'La news a bien été supprimée !';
}

if (isset($_POST['auteur']))
{
  $news = new News(
    array(
      'auteur' =&gt; $_POST['auteur'],
      'titre' =&gt; $_POST['titre'],
      'contenu' =&gt; $_POST['contenu']
    )
  );
  
  if (isset($_POST['id']))
  {
    $news-&gt;setId($_POST['id']);
  }
  
  if ($news-&gt;isValid())
  {
    $manager-&gt;save($news);
    
    $message = $news-&gt;isNew() ? 'La news a bien été ajoutée !' : 'La news a bien été modifiée !';
  }
  else
  {
    $erreurs = $news-&gt;erreurs();
  }
}
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;Administration&lt;/title&gt;
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
    
    &lt;style type=&quot;text/css&quot;&gt;
      table, td {
        border: 1px solid black;
      }
      
      table {
        margin:auto;
        text-align: center;
        border-collapse: collapse;
      }
      
      td {
        padding: 3px;
      }
    &lt;/style&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;p&gt;&lt;a href=&quot;.&quot;&gt;Accéder à l'accueil du site&lt;/a&gt;&lt;/p&gt;
    
    &lt;form action=&quot;admin.php&quot; method=&quot;post&quot;&gt;
      &lt;p style=&quot;text-align: center&quot;&gt;
&lt;?php
if (isset($message))
{
  echo $message, '&lt;br /&gt;';
}
?&gt;
        &lt;?php if (isset($erreurs) &amp;&amp; in_array(News::AUTEUR_INVALIDE, $erreurs)) echo 'L\'auteur est invalide.&lt;br /&gt;'; ?&gt;
        Auteur : &lt;input type=&quot;text&quot; name=&quot;auteur&quot; value=&quot;&lt;?php if (isset($news)) echo $news-&gt;auteur(); ?&gt;&quot; /&gt;&lt;br /&gt;
        
        &lt;?php if (isset($erreurs) &amp;&amp; in_array(News::TITRE_INVALIDE, $erreurs)) echo 'Le titre est invalide.&lt;br /&gt;'; ?&gt;
        Titre : &lt;input type=&quot;text&quot; name=&quot;titre&quot; value=&quot;&lt;?php if (isset($news)) echo $news-&gt;titre(); ?&gt;&quot; /&gt;&lt;br /&gt;
        
        &lt;?php if (isset($erreurs) &amp;&amp; in_array(News::CONTENU_INVALIDE, $erreurs)) echo 'Le contenu est invalide.&lt;br /&gt;'; ?&gt;
        Contenu :&lt;br /&gt;&lt;textarea rows=&quot;8&quot; cols=&quot;60&quot; name=&quot;contenu&quot;&gt;&lt;?php if (isset($news)) echo $news-&gt;contenu(); ?&gt;&lt;/textarea&gt;&lt;br /&gt;
&lt;?php
if(isset($news) &amp;&amp; !$news-&gt;isNew())
{
?&gt;
        &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?php echo $news-&gt;id(); ?&gt;&quot; /&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Modifier&quot; name=&quot;modifier&quot; /&gt;
&lt;?php
}
else
{
?&gt;
        &lt;input type=&quot;submit&quot; value=&quot;Ajouter&quot; /&gt;
&lt;?php
}
?&gt;
      &lt;/p&gt;
    &lt;/form&gt;
    
    &lt;p style=&quot;text-align: center&quot;&gt;Il y a actuellement &lt;?php echo $manager-&gt;count(); ?&gt; news. En voici la liste :&lt;/p&gt;
    
    &lt;table&gt;
      &lt;tr&gt;&lt;th&gt;Auteur&lt;/th&gt;&lt;th&gt;Titre&lt;/th&gt;&lt;th&gt;Date d'ajout&lt;/th&gt;&lt;th&gt;Dernière modification&lt;/th&gt;&lt;th&gt;Action&lt;/th&gt;&lt;/tr&gt;
&lt;?php
foreach ($manager-&gt;getList() as $news)
{
  echo '&lt;tr&gt;&lt;td&gt;', $news-&gt;auteur(), '&lt;/td&gt;&lt;td&gt;', $news-&gt;titre(), '&lt;/td&gt;&lt;td&gt;', $news-&gt;dateAjout(), '&lt;/td&gt;&lt;td&gt;', ($news-&gt;dateAjout() == $news-&gt;dateModif() ? '-' : $news-&gt;dateModif()), '&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;?modifier=', $news-&gt;id(), '&quot;&gt;Modifier&lt;/a&gt; | &lt;a href=&quot;?supprimer=', $news-&gt;id(), '&quot;&gt;Supprimer&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;', &quot;\n&quot;;
}
?&gt;
    &lt;/table&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-609130" data-claire-element-id="609130">Et enfin, la partie visible à tous vos visiteurs :</p><pre id="r-609131" data-claire-element-id="609131"><code data-claire-semantic="html+php">&lt;?php
require 'lib/autoload.inc.php';

$db = DBFactory::getMysqlConnexionWithMySQLi();
$manager = new NewsManager_MySQLi($db);
?&gt;
&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;Accueil du site&lt;/title&gt;
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;p&gt;&lt;a href=&quot;admin.php&quot;&gt;Accéder à l'espace d'administration&lt;/a&gt;&lt;/p&gt;
&lt;?php
if (isset($_GET['id']))
{
  $news = $manager-&gt;getUnique((int) $_GET['id']);
  
  echo '&lt;p&gt;Par &lt;em&gt;', $news-&gt;auteur(), '&lt;/em&gt;, ', $news-&gt;dateAjout(), '&lt;/p&gt;', &quot;\n&quot;,
       '&lt;h2&gt;', $news-&gt;titre(), '&lt;/h2&gt;', &quot;\n&quot;,
       '&lt;p&gt;', nl2br($news-&gt;contenu()), '&lt;/p&gt;', &quot;\n&quot;;
  
  if ($news-&gt;dateAjout() != $news-&gt;dateModif())
  {
    echo '&lt;p style=&quot;text-align: right;&quot;&gt;&lt;small&gt;&lt;em&gt;Modifiée ', $news-&gt;dateModif(), '&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;';
  }
}

else
{
  echo '&lt;h2 style=&quot;text-align:center&quot;&gt;Liste des 5 dernières news&lt;/h2&gt;';
  
  foreach ($manager-&gt;getList(0, 5) as $news)
  {
    if (strlen($news-&gt;contenu()) &lt;= 200)
    {
      $contenu = $news-&gt;contenu();
    }
    
    else
    {
      $debut = substr($news-&gt;contenu(), 0, 200);
      $debut = substr($debut, 0, strrpos($debut, ' ')) . '...';
      
      $contenu = $debut;
    }
    
    echo '&lt;h4&gt;&lt;a href=&quot;?id=', $news-&gt;id(), '&quot;&gt;', $news-&gt;titre(), '&lt;/a&gt;&lt;/h4&gt;', &quot;\n&quot;,
         '&lt;p&gt;', nl2br($contenu), '&lt;/p&gt;';
  }
}
?&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
<span class="arrow"></span>
<span class="next">Ce que nous allons faire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">
<span class="next">Description de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Descriptiondel039application"></a><h2>Description de l&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
<span class="next">Une application, qu&#039;est ce que c&#039;est ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609136" data-claire-element-id="609136">Il serait temps de faire un TP conséquent pour mettre en pratique tout ce que nous avons vu : nous allons réaliser un site web (souvent comparé à une <strong>application</strong>). En effet, vous avez maintenant toutes les connaissances nécessaires pour réaliser une tel projet. Ce sera donc l'occasion de faire un point sur vos connaissances en <strong>orienté objet</strong>. Si vous pensez que vous êtes à l'aise avec l'orienté objet, ce TP sera l'occasion de vérifier cela. Si vous avez toujours du mal, alors ce TP vous aidera de façon très concrète.</p><p id="r-609137" data-claire-element-id="609137">Pour y arriver, nous allons créer une <strong>bibliothèque</strong> (terme que nous allons définir dès ce premier chapitre), un <strong>module</strong> de news avec commentaires ainsi qu'un <strong>espace d'administration</strong> complet. Le plus difficile consiste à développer notre bibliothèque. Au lieu de nous lancer tête baissée dans sa création, nous allons réfléchir sur ce que c'est, à quoi elle doit nous servir, etc. Nous ne développerons cette bibliothèque que dans le prochain chapitre.</p><p id="r-609138" data-claire-element-id="609138">Ceci est une étape importante qu'il ne faut surtout pas négliger. Ne lisez donc pas ce chapitre <em>vite fait, bien fait</em>, sinon vous risquez d'être perdus par la suite. Par ailleurs, ne vous découragez pas si vous ne comprenez pas tout d'un coup : ce chapitre est d'un niveau plus élevé que les précédents, il est donc normal de ne pas tout comprendre dès la première lecture. Ne vous découragez pas, vous allez y arriver ! ;)</p>
</div><a name="Uneapplicationqu039estcequec039est"></a><h2>Une application, qu&#039;est ce que c&#039;est ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">
<span class="arrow"></span>
<span class="next">Description de l&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
<span class="next">Les entrailles de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-une-application-qu-est-ce-que-c-est" data-claire-element-id="609187">Une application, qu'est ce que c'est ?</h4><h5 id="r-le-deroulement-d-une-application" data-claire-element-id="609161">Le déroulement d'une application</h5><p id="r-609139" data-claire-element-id="609139">Avant de commencer à créer une application, encore faudrait-il savoir ce que c'est et en quoi cela consiste. En fait, il faut décomposer le déroulement des actions effectuées du début à la fin (le début étant la requête envoyée par le client et la fin étant la réponse renvoyée à ce client). De manière très schématique, voici le déroulement d'une application (voir la figure suivante).</p><figure id="r-schema-simplifie-du-deroulement-d-une-application" data-claire-element-id="609142"><img id="r-609140" data-claire-element-id="609140" src="medias/uploads.siteduzero.com_files_263001_264000_263880.png" alt="Schéma simplifié du déroulement d'une application"/><figcaption>Schéma simplifié du déroulement d'une application</figcaption></figure><p id="r-609143" data-claire-element-id="609143">Détaillons ce schéma, étape par étape.</p><ul id="r-609152" data-claire-element-id="609152"><li id="r-609145" data-claire-element-id="609145"><p id="r-609144" data-claire-element-id="609144"><strong>Lancement de l'application</strong> : lorsque l'internaute accèdera à votre site, un fichier PHP est exécuté sur le serveur. Dans notre cas, ce fichier sera exécuté <strong>à chaque fois que le visiteur voudra accéder à une page</strong>, quelle que soit cette dernière. Que le visiteur veuille afficher une news, ouvrir un forum ou poster un commentaire, c'est ce fichier qui sera exécuté (nous verrons comment plus tard). Ce fichier sera très réduit : il ne fera que <strong>lancer l'application</strong> (nous verrons plus tard qu'il se contente d'instancier une classe et d'invoquer une méthode).</p></li><li id="r-609147" data-claire-element-id="609147"><p id="r-609146" data-claire-element-id="609146"><strong>Chargement de la requête du client</strong> : cette étape consiste à analyser la requête envoyée par le client. C'est lors de cette étape que l'application ira chercher les variables transmises par formulaire ou par URL (les fameuses variables GET et POST).</p></li><li id="r-609149" data-claire-element-id="609149"><p id="r-609148" data-claire-element-id="609148"><strong>Exécution de la page désirée</strong> : c'est ici le cœur de l'exécution de l'application. Mais comment l'application connaît-elle la page à exécuter ? Quelle action le visiteur veut-il exécuter ? Veut-il afficher une news, visiter un forum, poster un commentaire ? Cette action est déterminée par ce qu'on appelle un <strong>routeur</strong>. En analysant l'URL, le routeur est capable de savoir ce que le visiteur veut. Par exemple, si l'URL entrée par le visiteur est <a href="http://www.monsupersite.com/news-12.html"><strong>http://www.monsupersite.com/news-12.html</strong></a>, alors le routeur saura que le visiteur veut afficher la news ayant pour identifiant 12 dans la base de données. Le routeur va donc retourner cette action à l'application qui l'exécutera (nous verrons plus tard ce dont il s'agit vraiment).</p></li><li id="r-609151" data-claire-element-id="609151"><p id="r-609150" data-claire-element-id="609150"><strong>Envoi de la réponse au client</strong> : après avoir exécuté l'action désirée (par exemple, si le visiteur veut afficher une news, l'action correspondante est de récupérer cette news), l'application va afficher le tout, et l'exécution du script sera terminée. C'est à ce moment-là que la page sera envoyée au visiteur.</p></li></ul><p id="r-609153" data-claire-element-id="609153">Pour bien cerner le principe, prenons un exemple. Si le visiteur veut voir la news n°12, alors il demandera la page <strong>news-12.html</strong>. Schématiquement, voici ce qui va se passer (voir la figure suivante).</p><figure id="r-details-des-operations-effectuees-lorsqu-une-page-est-demandee" data-claire-element-id="609156"><img id="r-609154" data-claire-element-id="609154" src="medias/uploads.siteduzero.com_files_410001_411000_410251.png" alt="Détails des opérations effectuées lorsqu'une page est demandée"/><figcaption>Détails des opérations effectuées lorsqu'une page est demandée</figcaption></figure><p id="r-609157" data-claire-element-id="609157">Il est très important de comprendre ce principe. Si vous ne saisissez pas tout, n'hésitez pas à relire les explications, sinon vous risquez de ne pas suivre la suite du cours. ;)</p><p id="r-609158" data-claire-element-id="609158">Vous êtes maintenant au courant qu'une application s'exécute et qu'elle a pour rôle d'orchestrer l'exécution du script afin de donner la page au visiteur. Dans un tutoriel sur la POO en PHP, je suis sûr que vous savez comment sera représenté cette application dans votre script... Oui, notre application sera un objet ! Qui dit objet dit classe, et qui dit classe dit fonctionnalités. Reprenez le schéma et énoncez-moi les fonctionnalités que possède notre classe <code>Application</code>...</p><p id="r-609159" data-claire-element-id="609159">Pour l'instant, elle ne possède qu'une fonctionnalité : celle de s'exécuter (nous verrons par la suite qu'elle en possèdera plusieurs autres, mais vous ne pouviez pas les deviner). Cette fonctionnalité est obligatoire quelle que soit l'application : quel serait l'intérêt d'une application si elle ne pouvait pas s'exécuter ?</p><p id="r-609160" data-claire-element-id="609160">En général, dans un site web, il y a deux applications : le <em>frontend</em> et le <em>backend</em>. La première est l'application accessible par tout le monde : c'est à travers cette application qu'un visiteur pourra afficher une news, lire un sujet d'un forum, poster un commentaire, etc. La seconde application est l'espace d'administration : l'accès est bloqué aux visiteurs. Pour y accéder, une paire identifiant-mot de passe est requise. Comme vous l'aurez peut-être compris, ces deux applications seront représentées par deux classes héritant de notre classe de base <code>Application</code>.</p><h5 id="r-un-peu-d-organisation" data-claire-element-id="609186">Un peu d'organisation</h5><p id="r-609162" data-claire-element-id="609162">Nous avons vu suffisamment de notions pour se pencher sur l'architecture de notre projet. En effet, nous savons que notre site web sera composé de deux applications (<em>frontend</em> et <em>backend</em>) ainsi que d'une classe de base <code>Application</code>.</p><p id="r-609163" data-claire-element-id="609163">La classe <code>Application</code> fait partie de notre <strong>bibliothèque</strong> (ou <strong>library</strong> en anglais), comme de nombreuses autres classes dont nous parlerons plus tard. Toutes ces classes vont, par conséquent, être placées dans un dossier <strong>/Library</strong>.</p><p id="r-609164" data-claire-element-id="609164">Pour les deux applications, c'est un peu plus compliqué. En effet, une application ne tient pas dans un seul fichier : elle est divisée en plusieurs parties. Parmi ces parties, nous trouvons la plus grosse : la partie contenant les modules.</p><div id="r-609166" data-claire-element-id="609166" data-claire-semantic="question"><p id="r-609165" data-claire-element-id="609165">Qu'est-ce qu'un module ?</p></div><p id="r-609167" data-claire-element-id="609167">Un module est un ensemble d'actions et de données concernant une partie du site. Par exemple, les actions « afficher une news » et « commenter une news » font partie du même module de news, tandis que les actions « afficher ce sujet » et « poster dans ce sujet » font partie du module du forum.</p><p id="r-609168" data-claire-element-id="609168">Ainsi, je vous propose l'architecture suivante :</p><ul id="r-609173" data-claire-element-id="609173"><li id="r-609170" data-claire-element-id="609170"><p id="r-609169" data-claire-element-id="609169">Le dossier <strong>/Applications</strong> contiendra nos applications (<em>frontend</em> et <em>backend</em>).</p></li><li id="r-609172" data-claire-element-id="609172"><p id="r-609171" data-claire-element-id="609171">Le sous-dossier <strong>/Applications/Nomdelapplication/Modules</strong> contiendra les modules de l'application (par exemple, si l'application <em>frontend</em> possède un module de news, alors il y aura un dossier <strong>/Applications/Frontend/Modules/News</strong>).</p></li></ul><p id="r-609174" data-claire-element-id="609174">Ne vous inquiétez pas, nous reviendrons en détail sur ces fameux modules. J'ai introduit la notion ici pour parler de l'architecture (et surtout de ce qui va suivre). En effet, vous devriez vous posez une question : quand l'utilisateur veut afficher une page, quel fichier PHP sera exécuté en premier ? Ou pourrai-je placer mes feuilles de style et mes images ?</p><p id="r-609175" data-claire-element-id="609175">Tous les fichiers accessibles au public devront être placés dans un dossier <strong>/Web</strong>. Pour être plus précis, votre serveur HTTP ne pointera pas vers la racine du projet, mais vers le dossier <strong>/Web</strong>. Je m'explique.</p><p id="r-609176" data-claire-element-id="609176">Sur votre serveur local, si vous tapez <strong>localhost</strong> dans la barre d'adresse, alors votre serveur renverra le contenu du dossier C:\Wamp\www si vous êtes sous WampServer, ou du dossier /var/www si vous êtes sous LAMP. Vous êtes-vous déjà demandé comment est-ce que cela se faisait ? Qui a décrété cela ? En fait, c'est écrit quelque part, dans un fichier de configuration. Il y en a un qui dit que si on tape <strong>localhost</strong> dans la barre d'adresse, alors on se connectera sur l'ordinateur. Ce fichier de configuration est le fichier <strong>hosts</strong>. Le chemin menant à ce fichier est <strong>C:\windows\system32\drivers\etc\hosts</strong> sous Windows et <strong>/etc/hosts</strong> sous Linux et Mac OS. Vous pouvez l'éditer (à condition d'avoir les droits). Faites le test : ajoutez la ligne suivante à la fin du fichier.</p><pre id="r-609177" data-claire-element-id="609177"><code data-claire-semantic="autre">127.0.0.1  monsupersite</code></pre><p id="r-609178" data-claire-element-id="609178">Sauvegardez le fichier et fermez-le. Ouvrez votre navigateur, tapez <strong>monsupersite</strong> et... vous atterrissez sur la même page que quand vous tapiez <strong>localhost</strong> !</p><p id="r-609179" data-claire-element-id="609179">Maintenant, nous allons utiliser un autre fichier. La manipulation va consister à dire à l'ordinateur que lorsqu'on tape <strong>monsupersite</strong>, on ne voudra pas le contenu de <strong>C:\Wamp\www</strong> ou de <strong>/var/www</strong>, mais de <strong>C:\Wamp\www\monsupersite\Web</strong> si vous êtes sous Windows ou de <strong>/var/www/monsupersite/Web</strong> si vous êtes sous Linux ou Mac OS.</p><p id="r-609180" data-claire-element-id="609180">Tout d'abord, je vous annonce que nous allons utiliser le module <strong>mod_vhost_alias</strong> d'Apache. Assurez-vous donc qu'il soit bien activé. Le fichier que nous allons manipuler est le fichier de configuration d'Apache, à savoir <strong>httpd.conf</strong> sous WampServer. Rajoutez à la fin du fichier :</p><pre id="r-609181" data-claire-element-id="609181"><code data-claire-semantic="apache">&lt;VirtualHost *:80&gt;
  ServerAdmin webmaster@localhost
  
  # Mettez ici le nom de domaine que vous avez utilisé dans le fichier hosts.
  ServerName monsupersite
  
  # Mettez ici le chemin vers lequel doit pointer le domaine.
  # Je suis sous Linux. Si vous êtes sous Windows, le chemin sera de la forme C:\Wamp\www\monsupersite\Web
  DocumentRoot /home/victor/www/monsupersite/Web
  &lt;Directory /home/victor/www/monsupersite/Web&gt;
    Options Indexes FollowSymLinks MultiViews
    
    # Cette directive permet d'activer les .htaccess.
    AllowOverride All
    
    # Si le serveur est accessible via l'Internet mais que vous n'en faites qu'une utilisation personnelle
    # pensez à interdire l'accès à tout le monde
    # sauf au localhost, sinon vous ne pourrez pas y accéder !
    deny from all
    allow from localhost
  &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre><p id="r-609182" data-claire-element-id="609182">Si vous avez un serveur LAMP, n'essayez pas de trouver le fichier <strong>httpd.conf</strong>, il n'existe pas. :-°</p><p id="r-609183" data-claire-element-id="609183">En fait, la création d'hôtes virtuels s'effectue en créant un nouveau fichier contenant la configuration de ce dernier. Le fichier à créer est <strong>/etc/apache2/sites-available/monsupersite</strong> (remplacez <strong>monsupersite</strong> par le domaine choisi). Placez-y à l'intérieur le contenu que je vous ai donné. Ensuite, il n'y a plus qu'à activer cette nouvelle configuration grâce à la commande <code data-claire-semantic="console">sudo a2ensite monsupersite</code> (remplacez <strong>monsupersite</strong> par le nom du fichier contenant la configuration de l'hôte virtuel).</p><p id="r-609184" data-claire-element-id="609184">Dans tous les cas, que vous soyez sous Windows, Linux, Mac OS ou quoi que ce soit d'autre, <strong>redémarrez Apache</strong> pour que la nouvelle configuration soit prise en compte.</p><p id="r-609185" data-claire-element-id="609185">Essayez d'entrer <strong>monsupersite</strong> dans la barre d'adresse, et vous verrez que le navigateur vous affiche le dossier spécifié dans la configuration d'Apache !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">
<span class="arrow"></span>
<span class="next">Description de l&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
<span class="next">Les entrailles de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesentraillesdel039application"></a><h2>Les entrailles de l&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
<span class="arrow"></span>
<span class="next">Une application, qu&#039;est ce que c&#039;est ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
<span class="next">Résumé du déroulement de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-entrailles-de-l-application" data-claire-element-id="609232">Les entrailles de l'application</h4><p id="r-609188" data-claire-element-id="609188">Avant d'aller plus loin, il est indispensable (voire obligatoire) de savoir utiliser le pattern MVC. Pour cela, je vous conseille d'aller lire le tutoriel <em><a href="http://www.siteduzero.com/tutoriel-3-31452-adopter-un-style-de-programmation-clair-avec-le-modele-mvc.html">Adopter un style de programmation clair avec le modèle MVC</a></em>. En effet, ce cours explique la théorie du pattern MVC et je ne ferais que créer un doublon si je vous expliquais à mon tour ce motif.</p><p id="r-609189" data-claire-element-id="609189">Nous pouvons donc passer directement aux choses sérieuses.</p><h5 id="r-retour-sur-les-modules" data-claire-element-id="609197">Retour sur les modules</h5><p id="r-609190" data-claire-element-id="609190">Comme je vous l'avais brièvement indiqué, un module englobe un ensemble d'actions agissant sur une même partie du site. C'est donc à l'intérieur de ce module que nous allons créer le contrôleur, les vues et les modèles.</p><h6 id="r-le-controleur-3" data-claire-element-id="609192">Le contrôleur</h6><p id="r-609191" data-claire-element-id="609191">Nous allons donc créer pour chaque module un contrôleur qui contiendra au moins autant de méthodes que d'actions. Par exemple, si dans le module de news je veux pouvoir avoir la possibilité d'afficher l'index du module (qui nous dévoilera la liste des cinq dernières news par exemple) et afficher une news, j'aurais alors deux méthodes dans mon contrôleur : executeIndex et executeShow. Ce fichier aura pour nom <strong>NomDuModuleController.class.php</strong>, ce qui nous donne, pour le module de news, un fichier du nom de <strong>NewsController.class.php</strong>. Celui-ci est directement situé dans le dossier du module.</p><h6 id="r-les-vues-1" data-claire-element-id="609194">Les vues</h6><p id="r-609193" data-claire-element-id="609193">Chacune de ces actions correspond, comme vous le savez, à une vue. Nous aurons donc pour chaque action une vue du même nom. Par exemple, pour l'action <code>show</code>, nous aurons un fichier <strong>show.php</strong>. Toutes les vues sont à placer dans le dossier <strong>Views</strong> du module.</p><h6 id="r-les-modeles-7" data-claire-element-id="609196">Les modèles</h6><p id="r-609195" data-claire-element-id="609195">En fait, les modèles, vous les connaissez déjà : il s'agit des <strong>managers</strong>. Ce sont eux qui feront office de modèles. Les modèles ne sont rien d'autre que des fichiers permettant l'interaction avec les données. Pour chaque module, nous aurons donc au moins deux fichiers constituant le modèle : le manager abstrait de base (<strong>NewsManager.class.php</strong>) et au moins une classe exploitant ce manager (par exemple <strong>NewsManager_PDO.class.php</strong>). Tous les modèles devront être placés dans le dossier <strong>/Library/Models</strong> afin qu'ils puissent être utilisés facilement par deux applications différentes (ce qui est souvent le cas avec les applications <em>backend</em> et <em>frontend</em>). Cependant, ces modèles ont besoin des classes représentant les <strong>entités</strong> qu'ils gèrent. La classe représentant un enregistrement (comme <code>News</code> dans notre cas) sera, elle, placée dans le dossier <strong>/Library/Entities</strong>. Nous aurons l'occasion de faire un petit rappel sur cette organisation lors du prochain chapitre.</p><h5 id="r-le-back-controller-de-base" data-claire-element-id="609205">Le <em>back controller</em> de base</h5><p id="r-609198" data-claire-element-id="609198">Tous ces contrôleurs sont chacun des <em>back controller</em>. Et que met-on en place quand on peut dire qu'une entité B est une entité A ? Un lien de parenté, bien évidemment ! Ainsi, nous aurons au sein de notre bibliothèque une classe abstraite <code>BackController</code> dont héritera chaque <em>back controller</em>. L'éternelle question que l'on peut se poser : mais que permet de faire cette classe ? Pour l'instant, il n'y en a qu'une : celle d'exécuter une action (donc une méthode).</p><p id="r-609199" data-claire-element-id="609199">Je voudrais faire un petit retour sur le fonctionnement du routeur. Souvenez-vous : je vous avais dit que le routeur savait à quoi correspondait l'URL et retournait en conséquence l'action à exécuter à l'application, qui sera donc apte à l'exécuter. Cela prendra plus de sens maintenant que nous avons vu la notion de <em>back controller</em>. Le routeur aura pour rôle de <strong>récupérer la route correspondant à l'URL</strong>. L'application, qui exploitera le routeur, instanciera donc le contrôleur correspondant à la route que le routeur lui aura renvoyée. Par exemple, si l'utilisateur veut afficher une news, le routeur retournera la route correspondante, et l'application créera une instance de <code>NewsController</code> en lui ayant spécifié qu'il devra effectuer l'action <code>show</code>. L'application n'aura donc plus qu'à exécuter le <em>back controller</em>.</p><p id="r-609200" data-claire-element-id="609200">Souvenez-vous du <a href="medias/uploads.siteduzero.com_files_373001_374000_373636.png">schéma sur le déroulement de l'application</a>. Si nous faisions un petit zoom sur le routeur, nous obtiendrions ceci (voir la figure suivante).</p><figure id="r-zoom-sur-le-routeur" data-claire-element-id="609203"><img id="r-609201" data-claire-element-id="609201" src="medias/uploads.siteduzero.com_files_410001_411000_410252.png" alt="Zoom sur le routeur"/><figcaption>Zoom sur le routeur</figcaption></figure><p id="r-609204" data-claire-element-id="609204">Vous vous posez peut-être des questions sur le contenu de la deuxième bulle associée au routeur. En fait, le routeur analyse toute l'URL et décrypte ce qui s'y cache (nous verrons plus tard comment). Quand je dis que « tout le monde pourra y accéder à travers la requête du client », c'est que nous pourrons accéder à cette valeur à travers la classe qui représentera la requête du client (que nous construirons d'ailleurs durant le prochain chapitre).</p><h5 id="r-la-page-1" data-claire-element-id="609221">La page</h5><p id="r-609206" data-claire-element-id="609206">Nous avons parlé jusqu'à présent du déroulement de l'application et nous avons commencé à creuser un petit peu en parlant de l'organisation interne avec l'utilisation du pattern MVC. Cependant, comment est générée la page que le visiteur aura devant les yeux ? Cette page, vous l'aurez peut-être deviné, sera représentée par une classe. Comme d'habitude, qui dit classe dit fonctionnalités. En effet, une page en possède plusieurs :</p><ul id="r-609213" data-claire-element-id="609213"><li id="r-609208" data-claire-element-id="609208"><p id="r-609207" data-claire-element-id="609207">Celle d'ajouter une variable à la page (le contrôleur aura besoin de passer des données à la vue).</p></li><li id="r-609210" data-claire-element-id="609210"><p id="r-609209" data-claire-element-id="609209">Celle d'assigner une vue à la page (il faut qu'on puisse dire à notre page quelle vue elle doit utiliser).</p></li><li id="r-609212" data-claire-element-id="609212"><p id="r-609211" data-claire-element-id="609211">De générer la page avec le <em>layout</em> de l'application.</p></li></ul><p id="r-609214" data-claire-element-id="609214">Des explications s'imposent, notamment sur ce que sont précisément ces vues et ce fameux <em>layout</em>. Le <em>layout</em> est le fichier contenant « l'enveloppe » du site (déclaration du doctype, inclusion des feuilles de style, déclaration des balises meta, etc.). Voici un exemple très simple :</p><pre id="r-609215" data-claire-element-id="609215"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;Mon super site&lt;/title&gt;
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;?php echo $content; ?&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-609216" data-claire-element-id="609216">Le <em>layout</em>, spécifique à chaque application, doit se placer dans <strong>/Applications/Nomdelapplication/Templates</strong>, sous le nom de <strong>layout.php</strong>. Comme vous pouvez vous en apercevoir, il y a une variable <code>$content</code> qui traîne. Vous aurez sans doute deviné que cette variable sera le contenu de la page : ce sera donc notre classe <code>Page</code> qui se chargera de générer la vue, de stocker ce contenu dans <code>$content</code> puis d'inclure le layout correspondant à l'application.</p><p id="r-609217" data-claire-element-id="609217">Schématiquement, voici comment la page se construit (voir la figure suivante).</p><figure id="r-representation-schematique-de-la-construction-d-une-page" data-claire-element-id="609220"><img id="r-609218" data-claire-element-id="609218" src="medias/uploads.siteduzero.com_files_373001_374000_373686.png" alt="Représentation schématique de la construction d'une page"/><figcaption>Représentation schématique de la construction d'une page</figcaption></figure><h5 id="r-l-autoload" data-claire-element-id="609231">L'autoload</h5><p id="r-609222" data-claire-element-id="609222">L'autoload sera très simple. En effet, comme nous le verrons plus tard, chaque classe se situe dans un <em>namespace</em>. Ces <em>namespaces</em> correspondent aux dossiers dans lesquels sont placées les classes.</p><aside id="r-609224" data-claire-element-id="609224" data-claire-semantic="information"><p id="r-609223" data-claire-element-id="609223">Si vous n'avez jamais entendu parler des <em>namespaces</em>, je vous invite à lire le tutoriel <em><a href="http://www.siteduzero.com/tutoriel-3-217599-les-espaces-de-noms-en-php.html">Les espaces de noms en PHP</a></em>.</p></aside><p id="r-609225" data-claire-element-id="609225">Prenons l'exemple de la classe <code>Application</code>. Comme nous l'avons vu, cette classe fait partie de notre bibliothèque, donc est placée dans le dossier <strong>/Library</strong>, stocké dans le fichier <strong>Application.class.php</strong>. Ce fichier, puisqu'il est placé dans le dossier <strong>/Library</strong>, contiendra donc la classe <code>Application</code> dans le <strong>namespace</strong><code>Library</code> :</p><pre id="r-609226" data-claire-element-id="609226"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Application
{
  // ...
}</code></pre><p id="r-609227" data-claire-element-id="609227">Maintenant, regardons du côté de l'autoload. Souvenez-vous : notre fonction, appelée par PHP lorsqu'une classe non déclarée est invoquée, possède un paramètre, le nom de la classe. Cependant, si la classe si situe dans un <em>namespace</em>, alors il n'y aura pas que le nom de la classe qui sera passé en argument à notre fonction, mais <strong>le nom de la classe précédé du namespace qui la contient</strong>. Si l'on prend l'exemple de notre classe <code>Application</code>, et que l'on l'instancie pour que l'autoload soit appelé, alors l'argument vaudra <code>Library\Application</code>. Vous voyez à quoi ressemblera notre autoload ? Il se contentera de remplacer les antislashes (\) par des slashes (/) de l'argument et d'inclure le fichier correspondant.</p><p id="r-609228" data-claire-element-id="609228">Notre autoload, situé dans <strong>/Library</strong>, ressemblera donc à ça :</p><pre id="r-609229" data-claire-element-id="609229"><code data-claire-semantic="html+php">&lt;?php
function autoload($class)
{
  require '../'.str_replace('\\', '/', $class).'.class.php';
}

spl_autoload_register('autoload');</code></pre><p id="r-609230" data-claire-element-id="609230">Gardez-le dans un coin de votre ordinateur, vous le comprendrez sans doute mieux au fil de la création de l'application. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
<span class="arrow"></span>
<span class="next">Une application, qu&#039;est ce que c&#039;est ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
<span class="next">Résumé du déroulement de l&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rsumdudroulementdel039application"></a><h2>Résumé du déroulement de l&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
<span class="arrow"></span>
<span class="next">Les entrailles de l&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">
<span class="next">Développement de la bibliothèque</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-resume-du-deroulement-de-l-application" data-claire-element-id="609238">Résumé du déroulement de l'application</h4><p id="r-609233" data-claire-element-id="609233">Nous allons ici résumer tout ce que nous avons vu à travers un gros schéma. Je vous conseille de l'imprimer sur une feuille qui sera toujours à côté de votre écran quand vous lirez le cours : vous comprendrez mieux ce que nous serons en train de faire (voir la figure suivante).</p><figure id="r-deroulement-detaille-de-l-application" data-claire-element-id="609236"><img id="r-609234" data-claire-element-id="609234" src="medias/uploads.siteduzero.com_files_410001_411000_410254.png" alt="Déroulement détaillé de l'application"/><figcaption>Déroulement détaillé de l'application</figcaption></figure><p id="r-609237" data-claire-element-id="609237">Il est <strong>indispensable</strong> que vous compreniez ce schéma. Si vous ne voulez pas l'apprendre par cœur, <strong>imprimez-le</strong> afin de toujours l'avoir sous les yeux quand vous travaillerez sur ce projet !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
<span class="arrow"></span>
<span class="next">Les entrailles de l&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">
<span class="next">Développement de la bibliothèque</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dveloppementdelabibliothque"></a><h2>Développement de la bibliothèque</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
<span class="arrow"></span>
<span class="next">Résumé du déroulement de l&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
<span class="next">L&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609240" data-claire-element-id="609240">Le plus gros a été fait : nous savons comment fonctionnera notre application, nous savons où nous voulons aller. Maintenant, il ne reste plus qu'à nous servir de tout cela pour construire les diagrammes UML qui vont lier toutes nos classes, nous permettant ainsi de les écrire plus facilement.</p><p id="r-609241" data-claire-element-id="609241">Accrochez-vous à vos claviers, ça ne va pas être de tout repos ! ;)</p>
</div><a name="L039application"></a><h2>L&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">
<span class="arrow"></span>
<span class="next">Développement de la bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
<span class="next">Le routeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-application-2" data-claire-element-id="609317">L'application</h4><h5 id="r-l-application-1" data-claire-element-id="609244">L'application</h5><p id="r-609242" data-claire-element-id="609242">Commençons par construire notre classe <code>Application</code>. Souvenez-vous : nous avions dit que cette classe possédait une fonctionnalité, celle de s'exécuter. Or je ne vous ai pas encore parlé des <strong>caractéristiques</strong> de l'application. La première ne vous vient peut-être pas à l'esprit, mais je l'ai pourtant déjà évoqué : il s'agit du <strong>nom</strong> de l'application.</p><p id="r-609243" data-claire-element-id="609243">Il en existe deux autres. Nous en avons brièvement parlé, et il est fort probable que vous les ayez oubliées : il s'agit de la <strong>requête</strong> ainsi que la <strong>réponse</strong> envoyée au client. Ainsi, avant de créer notre classe <code>Application</code>, nous allons nous intéresser à ces deux entités.</p><h5 id="r-la-requete-du-client" data-claire-element-id="609267">La requête du client</h5><h6 id="r-schematisons" data-claire-element-id="609261">Schématisons</h6><p id="r-609245" data-claire-element-id="609245">Comme vous vous en doutez, nous allons représenter la requête du client au travers d'une instance de classe. Comme pour toute classe, intéressons-nous aux fonctionnalités attendues. Qu'est-ce qui nous intéresse dans la requête du client ? Quelles fonctionnalités seraient intéressantes ? À partir de cette instance, il serait pratique de pouvoir :</p><ul id="r-609256" data-claire-element-id="609256"><li id="r-609247" data-claire-element-id="609247"><p id="r-609246" data-claire-element-id="609246">Obtenir une variable <code>POST</code>.</p></li><li id="r-609249" data-claire-element-id="609249"><p id="r-609248" data-claire-element-id="609248">Obtenir une variable <code>GET</code>.</p></li><li id="r-609251" data-claire-element-id="609251"><p id="r-609250" data-claire-element-id="609250">Obtenir un cookie.</p></li><li id="r-609253" data-claire-element-id="609253"><p id="r-609252" data-claire-element-id="609252">Obtenir la méthode employée pour envoyer la requête (méthode <code>GET</code> ou <code>POST</code>).</p></li><li id="r-609255" data-claire-element-id="609255"><p id="r-609254" data-claire-element-id="609254">Obtenir l'URL entrée (utile pour que le routeur connaisse la page souhaitée).</p></li></ul><p id="r-609257" data-claire-element-id="609257">Et pour la route, voici un petit diagramme (j'en ai profité pour ajouter des méthodes permettant de vérifier l'existence de tel cookie / variable <code>GET</code> / variable <code>POST</code>) - voir la figure suivante.</p><figure id="r-modelisation-de-la-classe-httprequest" data-claire-element-id="609260"><img id="r-609258" data-claire-element-id="609258" src="medias/uploads.siteduzero.com_files_403001_404000_403796.png" alt="Modélisation de la classe HTTPRequest"/><figcaption>Modélisation de la classe HTTPRequest</figcaption></figure><h6 id="r-codons-1" data-claire-element-id="609266">Codons</h6><p id="r-609262" data-claire-element-id="609262">Le contenu est assez simple, les méthodes effectuent des opérations basiques. Voici donc le résultat auquel vous étiez censé arriver :</p><pre id="r-609263" data-claire-element-id="609263"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class HTTPRequest
{
  public function cookieData($key)
  {
    return isset($_COOKIE[$key]) ? $_COOKIE[$key] : null;
  }
  
  public function cookieExists($key)
  {
    return isset($_COOKIE[$key]);
  }
  
  public function getData($key)
  {
    return isset($_GET[$key]) ? $_GET[$key] : null;
  }
  
  public function getExists($key)
  {
    return isset($_GET[$key]);
  }
  
  public function method()
  {
    return $_SERVER['REQUEST_METHOD'];
  }
  
  public function postData($key)
  {
    return isset($_POST[$key]) ? $_POST[$key] : null;
  }
  
  public function postExists($key)
  {
    return isset($_POST[$key]);
  }
  
  public function requestURI()
  {
    return $_SERVER['REQUEST_URI'];
  }
}</code></pre><p id="r-609264" data-claire-element-id="609264">Un petit mot sur la toute première ligne, celle qui contient la déclaration du <em>namespace</em>. J'en avais déjà parlé lors de l'écriture de l'autoload, mais je me permets de faire une petite piqûre de rappel. Toutes les classes de notre projet sont déclarées dans des <em>namespaces</em>. Cela permet d'une part de structurer son projet et, d'autre part, d'écrire un autoload simple qui sait directement, grâce au <em>namespace</em> contenant la classe, le chemin du fichier contenant ladite classe.</p><p id="r-609265" data-claire-element-id="609265">Par exemple, si j'ai un contrôleur du module news. Celui-ci sera placé dans le dossier <strong>/Applications/Frontend/Modules/News</strong> (si vous avez oublié ce chemin, ne vous inquiétez pas, nous y reviendrons : je l'utilise juste pour l'exemple). La classe représentant ce contrôleur (<code>NewsController</code>) sera donc dans le <em>namespace</em><code>Applications\Frontend\Modules\News</code> ! ;)</p><h5 id="r-la-reponse-envoyee-au-client" data-claire-element-id="609293">La réponse envoyée au client</h5><h6 id="r-schematisons-1" data-claire-element-id="609289">Schématisons</h6><p id="r-609268" data-claire-element-id="609268">Là aussi, nous allons représenter la réponse envoyée au client au travers d'une entité. Cette entité, vous l'aurez compris, n'est autre qu'une instance d'une classe. Quelles fonctionnalités attendons-nous de cette classe ? Que voulons-nous envoyer au visiteur ? La réponse la plus évidente est la <strong>page</strong>. Nous voulons pouvoir assigner une <strong>page</strong> à la réponse. Cependant, il est bien beau d'assigner une page, encore faudrait-il pouvoir l'envoyer ! Voici une deuxième fonctionnalité : celle d'<strong>envoyer</strong> la réponse en <strong>générant</strong> la page.</p><p id="r-609269" data-claire-element-id="609269">Il existe de nombreuses autres fonctionnalités « accessoires ». Pour ma part, je trouvais intéressant de pouvoir rediriger le visiteur vers une erreur 404, lui écrire un <em>cookie</em> et d'ajouter un <em>header</em> spécifique. Pour résumer, notre classe nous permettra :</p><ul id="r-609282" data-claire-element-id="609282"><li id="r-609271" data-claire-element-id="609271"><p id="r-609270" data-claire-element-id="609270">D'assigner une page à la réponse.</p></li><li id="r-609273" data-claire-element-id="609273"><p id="r-609272" data-claire-element-id="609272">D'envoyer la réponse en générant la page.</p></li><li id="r-609275" data-claire-element-id="609275"><p id="r-609274" data-claire-element-id="609274">De rediriger l'utilisateur.</p></li><li id="r-609277" data-claire-element-id="609277"><p id="r-609276" data-claire-element-id="609276">De le rediriger vers une erreur 404.</p></li><li id="r-609279" data-claire-element-id="609279"><p id="r-609278" data-claire-element-id="609278">D'ajouter un cookie.</p></li><li id="r-609281" data-claire-element-id="609281"><p id="r-609280" data-claire-element-id="609280">D'ajouter un header spécifique.</p></li></ul><p id="r-609283" data-claire-element-id="609283">Et à la figure suivante, le schéma tant attendu !</p><figure id="r-modelisation-de-la-classe-hhtpresponse" data-claire-element-id="609286"><img id="r-609284" data-claire-element-id="609284" src="medias/uploads.siteduzero.com_files_403001_404000_403797.png" alt="Modélisation de la classe HHTPResponse"/><figcaption>Modélisation de la classe HHTPResponse</figcaption></figure><p id="r-609287" data-claire-element-id="609287">Notez la valeur par défaut du dernier paramètre de la méthode <code>setCookie()</code> : elle est à <code>true</code>, alors qu'elle est à <code>false</code> sur la fonction <code>setcookie()</code> de la librairie standard de PHP. Il s'agit d'une sécurité qu'il est toujours préférable d'activer.</p><p id="r-609288" data-claire-element-id="609288">Concernant la redirection vers la page 404, laissez-là vide pour l'instant, nous nous chargerons de son implémentation par la suite. ;)</p><h6 id="r-codons-2" data-claire-element-id="609292">Codons</h6><p id="r-609290" data-claire-element-id="609290">Voici le code que vous devriez avoir obtenu :</p><pre id="r-609291" data-claire-element-id="609291"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class HTTPResponse
{
  protected $page;
  
  public function addHeader($header)
  {
    header($header);
  }
  
  public function redirect($location)
  {
    header('Location: '.$location);
    exit;
  }
  
  public function redirect404()
  {
  }
  
  public function send()
  {
    // Actuellement, cette ligne a peu de sens dans votre esprit.
    // Promis, vous saurez vraiment ce qu'elle fait d'ici la fin du chapitre
    // (bien que je suis sûr que les noms choisis sont assez explicites !).
    exit($this-&gt;page-&gt;getGeneratedPage());
  }
  
  public function setPage(Page $page)
  {
    $this-&gt;page = $page;
  }
  
  // Changement par rapport à la fonction setcookie() : le dernier argument est par défaut à true.
  public function setCookie($name, $value = '', $expire = 0, $path = null, $domain = null, $secure = false, $httpOnly = true)
  {
    setcookie($name, $value, $expire, $path, $domain, $secure, $httpOnly);
  }
}</code></pre><h5 id="r-retour-sur-notre-application" data-claire-element-id="609304">Retour sur notre application</h5><h6 id="r-schematisons-2" data-claire-element-id="609299">Schématisons</h6><p id="r-609294" data-claire-element-id="609294">Maintenant que nous avons vu comment sont représentées la requête du client et la réponse que nous allons lui envoyer, nous pouvons réfléchir pleinement à ce qui compose notre classe. Elle possède une fonctionnalité (celle de s'exécuter) et trois caractéristiques : son nom, la requête du client et la réponse que nous allons lui envoyer.</p><p id="r-609295" data-claire-element-id="609295">Je vous rappelle que nous construisons une classe <code>Application</code> dont héritera chaque classe représentant une application. Par conséquent, cela n'a aucun sens d'instancier cette classe. Vous savez ce que cela signifie ? Oui, notre classe <code>Application</code> est abstraite ! La représentation graphique de notre classe sera donc telle que vous pouvez la voir sur la figure suivante.</p><figure id="r-modelisation-de-la-classe-application" data-claire-element-id="609298"><img id="r-609296" data-claire-element-id="609296" src="medias/uploads.siteduzero.com_files_405001_406000_405061.png" alt="Modélisation de la classe Application"/><figcaption>Modélisation de la classe Application</figcaption></figure><h6 id="r-codons-3" data-claire-element-id="609303">Codons</h6><p id="r-609300" data-claire-element-id="609300">Le code est très basique. Le constructeur se charge uniquement d'instancier les classes <code>HTTPRequest</code> et <code>HTTPResponse</code>. Quant aux autres méthodes, ce sont des accesseurs, nous avons donc vite fait le tour. :-°</p><pre id="r-609301" data-claire-element-id="609301"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Application
{
  protected $httpRequest;
  protected $httpResponse;
  protected $name;
  
  public function __construct()
  {
    $this-&gt;httpRequest = new HTTPRequest;
    $this-&gt;httpResponse = new HTTPResponse;
    $this-&gt;name = '';
  }
  
  abstract public function run();
  
  public function httpRequest()
  {
    return $this-&gt;httpRequest;
  }
  
  public function httpResponse()
  {
    return $this-&gt;httpResponse;
  }
  
  public function name()
  {
    return $this-&gt;name;
  }
}</code></pre><p id="r-609302" data-claire-element-id="609302">Dans le constructeur, vous voyez qu'on assigne une valeur nulle à l'attribut <code>name</code>. En fait, chaque application (qui héritera donc de cette classe) sera chargée de spécifier son nom en initialisant cet attribut (par exemple, l'application <em>frontend</em> assignera la valeur <code>Frontend</code> à cet attribut).</p><h5 id="r-les-composants-de-l-application" data-claire-element-id="609316">Les composants de l'application</h5><p id="r-609305" data-claire-element-id="609305">Les deux dernières classes (comme la plupart des classes que nous allons créer) sont des <strong>composants de l'application</strong>. Toutes ces classes ont donc une nature en commun et doivent hériter d'une même classe représentant cette nature : j'ai nommé <code>ApplicationComponent</code>.</p><div id="r-609307" data-claire-element-id="609307" data-claire-semantic="question"><p id="r-609306" data-claire-element-id="609306">Que permet de faire cette classe ?</p></div><p id="r-609308" data-claire-element-id="609308">D'obtenir l'application à laquelle l'objet appartient. C'est tout ! :-° <br/> Cette classe se chargera juste de stocker, pendant la construction de l'objet, l'instance de l'application exécutée. Nous avons donc une simple classe ressemblant à celle-ci (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-applicationcomponent" data-claire-element-id="609311"><img id="r-609309" data-claire-element-id="609309" src="medias/uploads.siteduzero.com_files_403001_404000_403799.png" alt="Modélisation de la classe ApplicationComponent"/><figcaption>Modélisation de la classe ApplicationComponent</figcaption></figure><p id="r-609312" data-claire-element-id="609312">Niveau code, je pense qu'on peut difficilement faire plus simple :</p><pre id="r-609313" data-claire-element-id="609313"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class ApplicationComponent
{
  protected $app;
  
  public function __construct(Application $app)
  {
    $this-&gt;app = $app;
  }
  
  public function app()
  {
    return $this-&gt;app;
  }
}</code></pre><aside id="r-609315" data-claire-element-id="609315" data-claire-semantic="information"><p id="r-609314" data-claire-element-id="609314">Pensez donc à ajouter le lien de parenté aux classes <code>HTTPRequest</code> et <code>HTTPResponse</code>.<br/> Et n'oubliez donc pas de passer l'instance de l'application lors de l'instanciation de ces deux classes dans le constructeur de <code>Application</code>.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">
<span class="arrow"></span>
<span class="next">Développement de la bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
<span class="next">Le routeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lerouteur"></a><h2>Le routeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
<span class="next">Le back controller</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-routeur-2" data-claire-element-id="609376">Le routeur</h4><h5 id="r-reflechissons-schematisons" data-claire-element-id="609368">Réfléchissons, schématisons</h5><p id="r-609318" data-claire-element-id="609318">Comme nous l'avons vu, le routeur est l'objet qui va nous permettre de savoir quelle page nous devons exécuter. Pour en être capable, le routeur aura à sa disposition des <strong>routes</strong> pointant chacune vers un module et une action.</p><aside id="r-609320" data-claire-element-id="609320" data-claire-semantic="information"><p id="r-609319" data-claire-element-id="609319"><strong>Rappel</strong> : une route, c'est une URL associée à un module et une action. Créer une route signifie donc assigner à une URL un module et une action.</p></aside><p id="r-609321" data-claire-element-id="609321">La question que l'on se pose alors est : <strong>où seront écrites les routes ?</strong> Certains d'entre vous seraient tentés de les écrire directement à l'intérieur de la classe et faire une sorte de <code>switch / case</code> sur les routes pour trouver laquelle correspond à l'URL. Cette façon de faire présente un énorme inconvénient : votre classe représentant le routeur sera <strong>dépendante</strong> du projet que vous développez. Par conséquent, vous ne pourrez plus l'utiliser sur un autre site ! Il va donc falloir <strong>externaliser</strong> ces définitions de routes.</p><p id="r-609322" data-claire-element-id="609322">Comment pourrions-nous faire alors ? Puisque je vous ai dit que nous n'allons pas toucher à la classe pour chaque nouvelle route à ajouter, nous allons placer ces routes dans un autre fichier. Ce fichier doit être placé dans le dossier de l'application, et puisque ça touche à la configuration de celle-ci, nous le placerons dans un sous-dossier <code>Config</code>. Il y a aussi un détail à régler : dans quel format allons-nous écrire le fichier ? Je vous propose le format <a href="http://www.siteduzero.com/tutoriel-3-33440-le-point-sur-xml.html">XML</a> car ce langage est intuitif et simple à parser, notamment grâce à la bibliothèque native <a href="http://fr2.php.net/manual/fr/class.domdocument.php">DOMDocument</a> de PHP. Si ce format ne vous plaît pas, vous êtes libre d'en choisir un autre, cela n'a pas d'importance, le but étant que vous ayez un fichier que vous arrivez à parser. Le chemin complet vers ce fichier devient donc <strong>/Applications/Nomdelapplication/Config/routes.xml</strong>.</p><p id="r-609323" data-claire-element-id="609323">Comme pour tout fichier XML qui se respecte, celui-ci doit suivre une structure précise. Essayez de deviner la fonctionnalité de la ligne 3 :</p><pre id="r-609324" data-claire-element-id="609324"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/news.html&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
&lt;/routes&gt;</code></pre><p id="r-609325" data-claire-element-id="609325">Alors, avez-vous une idée du rôle de la troisième ligne ? Lorsque nous allons aller sur la page <strong>news.html</strong>, le routeur dira donc à l'application : <em>« le client veut accéder au module <code>News</code> et exécuter l'action <code>index</code> »</em>.</p><p id="r-609326" data-claire-element-id="609326">Un autre problème se pose. Par exemple, si je veux afficher une news spécifique en fonction de son identifiant, comment faire ? Ou, plus généralement, comment passer des variables GET ? L'idéal serait d'utiliser des expressions régulières (ou regex) en guise d'URL. Chaque paire de parenthèses représentera une variable GET. Nous spécifierons leur nom dans un quatrième attribut <code>vars</code>.</p><p id="r-609327" data-claire-element-id="609327">Comme un exemple vaut mieux qu'un long discours, voyons donc un cas concret :</p><pre id="r-609328" data-claire-element-id="609328"><code data-claire-semantic="xml">&lt;route url=&quot;/news-(.+)-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;show&quot; vars=&quot;slug,id&quot; /&gt;</code></pre><p id="r-609329" data-claire-element-id="609329">Ainsi, toute URL vérifiant cette expression pointera vers le module <code>News</code> et exécutera l'action <code>show</code>. Les variables <code>$_GET['slug']</code> et <code>$_GET['id']</code> seront créées et auront pour valeur le contenu des parenthèses capturantes.</p><aside id="r-609331" data-claire-element-id="609331" data-claire-semantic="information"><p id="r-609330" data-claire-element-id="609330">Puisqu'il s'agit d'une expression régulière et qu'elle sera vérifiée par <code>preg_match()</code>, il est important d'échapper le point précédent <strong>html</strong>. En effet, dans une expression régulière, un point signifie « tout caractère ». Il faut donc l'échapper pour qu'il perde cette fonctionnalité.</p></aside><p id="r-609332" data-claire-element-id="609332">On sait désormais que notre routeur a besoin de routes pour nous renvoyer celle qui correspond à l'URL. Cependant, s'il a besoin de routes, il va falloir les lui donner !</p><div id="r-609334" data-claire-element-id="609334" data-claire-semantic="question"><p id="r-609333" data-claire-element-id="609333">Pourquoi ne peut-il pas aller chercher lui-même les routes ?</p></div><p id="r-609335" data-claire-element-id="609335">S'il allait les chercher lui-même, notre classe serait dépendante de l'architecture de l'application. Si vous voulez utiliser votre classe dans un projet complètement différent, vous ne pourrez pas, car le fichier contenant les routes (<strong>/Applications/Nomdelapplication/Config/routes.xml</strong>) n'existera tout simplement pas. De plus, dans ce projet, les routes ne seront peut-être pas stockées dans un fichier XML, donc le parsage ne se fera pas de la même façon. Or, je vous l'avais déjà dit dans les premiers chapitres, mais l'un des points forts de la POO est son caractère <strong>réutilisable</strong>. Ainsi, votre classe représentant le routeur ne dépendra ni d'une architecture, ni du format du fichier stockant les routes.</p><p id="r-609336" data-claire-element-id="609336">De cette façon, notre classe présente déjà deux fonctionnalités :</p><ul id="r-609341" data-claire-element-id="609341"><li id="r-609338" data-claire-element-id="609338"><p id="r-609337" data-claire-element-id="609337">Celle d'ajouter une route.</p></li><li id="r-609340" data-claire-element-id="609340"><p id="r-609339" data-claire-element-id="609339">Celle de renvoyer la route correspondant à l'URL.</p></li></ul><p id="r-609342" data-claire-element-id="609342">Avec, bien entendu, une caractéristique : la liste des routes attachée au routeur. Cependant, une autre question se pose : nous disons qu'on <em>« passe une route »</em> au routeur. Mais comment est matérialisée une route ? Puisque vous pensez orienté objet, vous devriez automatiquement me dire <em>« une route, c'est un objet ! »</em>.</p><p id="r-609343" data-claire-element-id="609343">Intéressons-nous donc maintenant à notre objet représentant une route. Cet objet, qu'est-ce qui le caractérise ?</p><ul id="r-609354" data-claire-element-id="609354"><li id="r-609345" data-claire-element-id="609345"><p id="r-609344" data-claire-element-id="609344">Une URL.</p></li><li id="r-609347" data-claire-element-id="609347"><p id="r-609346" data-claire-element-id="609346">Un module.</p></li><li id="r-609349" data-claire-element-id="609349"><p id="r-609348" data-claire-element-id="609348">Une action.</p></li><li id="r-609351" data-claire-element-id="609351"><p id="r-609350" data-claire-element-id="609350">Un tableau comportant les noms des variables.</p></li><li id="r-609353" data-claire-element-id="609353"><p id="r-609352" data-claire-element-id="609352">Un tableau clé/valeur comportant les noms/valeurs des variables.</p></li></ul><div id="r-609356" data-claire-element-id="609356" data-claire-semantic="question"><p id="r-609355" data-claire-element-id="609355">Quelle différence entre les deux dernières caractéristiques ?</p></div><p id="r-609357" data-claire-element-id="609357">En fait, lorsque nous créerons les routes, nous allons assigner les quatre premières caractéristiques (souvenez-vous du fichier XML : nous définissons une URL, un module, une action, et la liste des noms des variables). C'est donc cette dernière liste de variables que nous allons assigner à notre route. Ensuite, notre routeur ira parcourir ces routes et c'est lui qui assignera les valeurs des variables. C'est donc à ce moment-là que le tableau comportant les noms/valeurs des variables sera créé et assigné à l'attribut correspondant.</p><p id="r-609358" data-claire-element-id="609358">Nous pouvons maintenant dresser la liste des fonctionnalités de notre objet représentant une route :</p><ul id="r-609363" data-claire-element-id="609363"><li id="r-609360" data-claire-element-id="609360"><p id="r-609359" data-claire-element-id="609359">Celle de savoir si la route correspond à l'URL.</p></li><li id="r-609362" data-claire-element-id="609362"><p id="r-609361" data-claire-element-id="609361">Celle de savoir si la route possède des variables (utile, nous le verrons, dans notre routeur).</p></li></ul><p id="r-609364" data-claire-element-id="609364">Pour résumer, voici le diagramme UML représentant nos classes (voir la figure suivante).</p><figure id="r-modelisation-des-classes-router-et-route" data-claire-element-id="609367"><img id="r-609365" data-claire-element-id="609365" src="medias/uploads.siteduzero.com_files_403001_404000_403800.png" alt="Modélisation des classes Router et Route"/><figcaption>Modélisation des classes Router et Route</figcaption></figure><h5 id="r-codons-4" data-claire-element-id="609375">Codons</h5><p id="r-609369" data-claire-element-id="609369">Commençons par nos deux classes <code>Router</code> et <code>Route</code> :</p><pre id="r-609370" data-claire-element-id="609370"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Router
{
  protected $routes = array();
  
  const NO_ROUTE = 1;
  
  public function addRoute(Route $route)
  {
    if (!in_array($route, $this-&gt;routes))
    {
      $this-&gt;routes[] = $route;
    }
  }
  
  public function getRoute($url)
  {
    foreach ($this-&gt;routes as $route)
    {
      // Si la route correspond à l'URL.
      if (($varsValues = $route-&gt;match($url)) !== false)
      {
        // Si elle a des variables.
        if ($route-&gt;hasVars())
        {
          $varsNames = $route-&gt;varsNames();
          $listVars = array();
          
          // On créé un nouveau tableau clé/valeur.
          // (Clé = nom de la variable, valeur = sa valeur.)
          foreach ($varsValues as $key =&gt; $match)
          {
            // La première valeur contient entièrement la chaine capturée (voir la doc sur preg_match).
            if ($key !== 0)
            {
              $listVars[$varsNames[$key - 1]] = $match;
            }
          }
          
          // On assigne ce tableau de variables à la route.
          $route-&gt;setVars($listVars);
        }
        
        return $route;
      }
    }
    
    throw new \RuntimeException('Aucune route ne correspond à l\'URL', self::NO_ROUTE);
  }
}</code></pre><pre id="r-609371" data-claire-element-id="609371"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Route
{
  protected $action;
  protected $module;
  protected $url;
  protected $varsNames;
  protected $vars = array();
  
  public function __construct($url, $module, $action, array $varsNames)
  {
    $this-&gt;setUrl($url);
    $this-&gt;setModule($module);
    $this-&gt;setAction($action);
    $this-&gt;setVarsNames($varsNames);
  }
  
  public function hasVars()
  {
    return !empty($this-&gt;varsNames);
  }
  
  public function match($url)
  {
    if (preg_match('`^'.$this-&gt;url.'$`', $url, $matches))
    {
      return $matches;
    }
    else
    {
      return false;
    }
  }
  
  public function setAction($action)
  {
    if (is_string($action))
    {
      $this-&gt;action = $action;
    }
  }
  
  public function setModule($module)
  {
    if (is_string($module))
    {
      $this-&gt;module = $module;
    }
  }
  
  public function setUrl($url)
  {
    if (is_string($url))
    {
      $this-&gt;url = $url;
    }
  }
  
  public function setVarsNames(array $varsNames)
  {
    $this-&gt;varsNames = $varsNames;
  }
  
  public function setVars(array $vars)
  {
    $this-&gt;vars = $vars;
  }
  
  public function action()
  {
    return $this-&gt;action;
  }
  
  public function module()
  {
    return $this-&gt;module;
  }
  
  public function vars()
  {
    return $this-&gt;vars;
  }
  
  public function varsNames()
  {
    return $this-&gt;varsNames;
  }
}</code></pre><p id="r-609372" data-claire-element-id="609372">Tout cela est bien beau, mais il serait tout de même intéressant d'exploiter notre routeur afin de l'intégrer dans notre application. Pour cela, nous allons implémenter une méthode dans notre classe <code>Application</code> qui sera chargée de nous donner le contrôleur correspondant à l'URL. Pour cela, cette méthode va parcourir le fichier XML pour ajouter les routes au routeur. Ensuite, elle va récupérer la route correspondante à l'URL (si une exception a été levée, on lèvera une erreur 404). Enfin, la méthode instanciera le contrôleur correspondant à la route et le renverra (il est possible que vous ne sachiez pas comment faire car nous n'avons pas encore vu le contrôleur en détail, donc laissez ça de côté et regardez la correction, vous comprendrez plus tard).</p><p id="r-609373" data-claire-element-id="609373">Voici notre nouvelle classe <code>Application</code> :</p><pre id="r-609374" data-claire-element-id="609374"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Application
{
  protected $httpRequest;
  protected $httpResponse;
  protected $name;
  
  public function __construct()
  {
    $this-&gt;httpRequest = new HTTPRequest($this);
    $this-&gt;httpResponse = new HTTPResponse($this);
    
    $this-&gt;name = '';
  }
  
  public function getController()
  {
    $router = new \Library\Router;
    
    $xml = new \DOMDocument;
    $xml-&gt;load(__DIR__.'/../Applications/'.$this-&gt;name.'/Config/routes.xml');
    
    $routes = $xml-&gt;getElementsByTagName('route');
    
    // On parcourt les routes du fichier XML.
    foreach ($routes as $route)
    {
      $vars = array();
      
      // On regarde si des variables sont présentes dans l'URL.
      if ($route-&gt;hasAttribute('vars'))
      {
        $vars = explode(',', $route-&gt;getAttribute('vars'));
      }
      
      // On ajoute la route au routeur.
      $router-&gt;addRoute(new Route($route-&gt;getAttribute('url'), $route-&gt;getAttribute('module'), $route-&gt;getAttribute('action'), $vars));
    }
    
    try
    {
      // On récupère la route correspondante à l'URL.
      $matchedRoute = $router-&gt;getRoute($this-&gt;httpRequest-&gt;requestURI());
    }
    catch (\RuntimeException $e)
    {
      if ($e-&gt;getCode() == \Library\Router::NO_ROUTE)
      {
        // Si aucune route ne correspond, c'est que la page demandée n'existe pas.
        $this-&gt;httpResponse-&gt;redirect404();
      }
    }
    
    // On ajoute les variables de l'URL au tableau $_GET.
    $_GET = array_merge($_GET, $matchedRoute-&gt;vars());
    
    // On instancie le contrôleur.
    $controllerClass = 'Applications\\'.$this-&gt;name.'\\Modules\\'.$matchedRoute-&gt;module().'\\'.$matchedRoute-&gt;module().'Controller';
    return new $controllerClass($this, $matchedRoute-&gt;module(), $matchedRoute-&gt;action());
  }
  
  abstract public function run();
  
  public function httpRequest()
  {
    return $this-&gt;httpRequest;
  }
  
  public function httpResponse()
  {
    return $this-&gt;httpResponse;
  }
  
  public function name()
  {
    return $this-&gt;name;
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
<span class="next">Le back controller</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lebackcontroller"></a><h2>Le back controller</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
<span class="arrow"></span>
<span class="next">Le routeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
<span class="next">La page</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-back-controller" data-claire-element-id="609433">Le back controller</h4><p id="r-609377" data-claire-element-id="609377">Nous venons de construire notre routeur qui donne à l'application le contrôleur associé. Afin de suivre la logique du déroulement de l'application, construisons maintenant notre <em>back controller</em> de base.</p><h5 id="r-reflechissons-schematisons-1" data-claire-element-id="609395">Réfléchissons, schématisons</h5><p id="r-609378" data-claire-element-id="609378">Remémorons-nous ce que permet de faire un objet <code>BackController</code>. Nous avions vu qu'un tel objet n'offrait qu'une seule fonctionnalité : celle d'exécuter une action. Comme pour l'objet <code>Application</code>, je ne vous avais pas parlé des caractéristiques d'un <em>back controller</em>. Qu'est-ce qui caractérise un <em>back controller</em> ? Si vous connaissez l'architecture MVC, vous savez qu'une vue est associée au <em>back controller</em> : c'est donc l'une de ses caractéristiques.</p><p id="r-609379" data-claire-element-id="609379">Maintenant, pensons à la nature d'un <em>back controller</em>. Celui-ci est propre à un <strong>module</strong>, et si on l'a instancié c'est que nous voulons qu'il exécute une <strong>action</strong>. Cela fait donc deux autres caractéristiques : le module et l'action.</p><p id="r-609380" data-claire-element-id="609380">Enfin, il y en a une dernière que vous ne pouvez pas deviner : la page associée au contrôleur. Comme nous le verrons bientôt, c'est à travers cette instance représentant la page que nous allons envoyer au visiteur que le contrôleur transmettra des données à la vue. Pour l'instant, mémorisez juste l'idée que le contrôleur est associé à une page stockée en tant qu'instance dans un attribut de la classe <code>BackController</code>.</p><p id="r-609381" data-claire-element-id="609381">Une instance de <code>BackController</code> nous permettra donc :</p><ul id="r-609388" data-claire-element-id="609388"><li id="r-609383" data-claire-element-id="609383"><p id="r-609382" data-claire-element-id="609382">D'exécuter une action (donc une méthode).</p></li><li id="r-609385" data-claire-element-id="609385"><p id="r-609384" data-claire-element-id="609384">D'obtenir la page associée au contrôleur.</p></li><li id="r-609387" data-claire-element-id="609387"><p id="r-609386" data-claire-element-id="609386">De modifier le module, l'action et la vue associés au contrôleur.</p></li></ul><p id="r-609389" data-claire-element-id="609389">Cette classe est une classe de base dont héritera chaque contrôleur. Par conséquent, elle se doit d'être abstraite. Aussi, il s'agit d'un <strong>composant</strong> de l'application, donc un lien de parenté avec <code>ApplicationComponent</code> est à créer. Nous arrivons donc à une classe ressemblant à ça (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-backcontroller" data-claire-element-id="609392"><img id="r-609390" data-claire-element-id="609390" src="medias/uploads.siteduzero.com_files_403001_404000_403801.png" alt="Modélisation de la classe Backcontroller"/><figcaption>Modélisation de la classe Backcontroller</figcaption></figure><p id="r-609393" data-claire-element-id="609393">Notre constructeur se chargera dans un premier temps d'appeler le constructeur de son parent. Dans un second temps, il créera une instance de la classe <code>Page</code> qu'il stockera dans l'attribut correspondant. Enfin, il assignera les valeurs au module, à l'action et à la vue (par défaut la vue a la même valeur que l'action).</p><p id="r-609394" data-claire-element-id="609394">Concernant la méthode <code>execute()</code>, comment fonctionnera-t-elle ? Son rôle est d'invoquer la méthode correspondant à l'action assignée à notre objet. Le nom de la méthode suit une logique qui est de se nommer <code>executeNomdelaction()</code>. Par exemple, si nous avons une action <code>show</code> sur notre module, nous devrons implémenter la méthode <code>executeShow()</code> dans notre contrôleur. Aussi, pour une question de simplicité, nous passerons la requête du client à la méthode. En effet, dans la plupart des cas, les méthodes auront besoin de la requête du client pour obtenir une donnée (que ce soit une variable GET, POST, ou un cookie).</p><h5 id="r-codons-5" data-claire-element-id="609398">Codons</h5><p id="r-609396" data-claire-element-id="609396">Voici le résultat qui était à obtenir :</p><pre id="r-609397" data-claire-element-id="609397"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class BackController extends ApplicationComponent
{
  protected $action = '';
  protected $module = '';
  protected $page = null;
  protected $view = '';
  
  public function __construct(Application $app, $module, $action)
  {
    parent::__construct($app);
    
    $this-&gt;page = new Page($app);
    
    $this-&gt;setModule($module);
    $this-&gt;setAction($action);
    $this-&gt;setView($action);
  }
  
  public function execute()
  {
    $method = 'execute'.ucfirst($this-&gt;action);
    
    if (!is_callable(array($this, $method)))
    {
      throw new \RuntimeException('L\'action &quot;'.$this-&gt;action.'&quot; n\'est pas définie sur ce module');
    }
    
    $this-&gt;$method($this-&gt;app-&gt;httpRequest());
  }
  
  public function page()
  {
    return $this-&gt;page;
  }
  
  public function setModule($module)
  {
    if (!is_string($module) || empty($module))
    {
      throw new \InvalidArgumentException('Le module doit être une chaine de caractères valide');
    }
    
    $this-&gt;module = $module;
  }
  
  public function setAction($action)
  {
    if (!is_string($action) || empty($action))
    {
      throw new \InvalidArgumentException('L\'action doit être une chaine de caractères valide');
    }
    
    $this-&gt;action = $action;
  }
  
  public function setView($view)
  {
    if (!is_string($view) || empty($view))
    {
      throw new \InvalidArgumentException('La vue doit être une chaine de caractères valide');
    }
    
    $this-&gt;view = $view;
  }
}</code></pre><h5 id="r-acceder-aux-managers-depuis-le-controleur" data-claire-element-id="609416">Accéder aux managers depuis le contrôleur</h5><p id="r-609399" data-claire-element-id="609399">Un petit souci se pose : comment le contrôleur accèdera aux managers ? On pourrait les instancier directement dans la méthode, mais les managers exigent le DAO lors de la construction de l'objet et ce DAO n'est pas accessible depuis le contrôleur. Nous allons donc créer une classe qui gérera les managers : j'ai nommé <code>Managers</code>. Nous instancierons donc cette classe au sein de notre contrôleur en lui passant le DAO. Les méthodes filles auront accès à cet objet et pourront accéder aux managers facilement.</p><h6 id="r-petit-rappel-sur-la-structure-d-un-manager" data-claire-element-id="609402">Petit rappel sur la structure d'un manager</h6><p id="r-609400" data-claire-element-id="609400">Je vais faire un bref rappel concernant la structure des managers. Un manager, comme nous l'avons vu durant le TP des news, est divisé en deux parties. La première partie est une classe abstraite listant toutes les méthodes que le manager doit implémenter. La seconde partie est constituée des classes qui vont implémenter ces méthodes, <strong>spécifiques à chaque DAO</strong>. Pour reprendre l'exemple des news, la première partie était constituée de la classe abstraite <code>NewsManager</code> et la seconde partie de <code>NewsManager_PDO</code> et <code>NewsManager_MySQLi</code>. ;)</p><p id="r-609401" data-claire-element-id="609401">En plus du DAO, il faudra donc spécifier à notre classe gérant ces managers l'API que l'on souhaite utiliser. Suivant ce qu'on lui demande, notre classe nous retournera une instance de <code>NewsManager_PDO</code> ou <code>NewsManager_MySQLi</code> par exemple.</p><h6 id="r-la-classe-managers" data-claire-element-id="609415">La classe Managers</h6><p id="r-609403" data-claire-element-id="609403">Schématiquement, voici à quoi ressemble la classe <code>Managers</code> (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-managers" data-claire-element-id="609406"><img id="r-609404" data-claire-element-id="609404" src="medias/uploads.siteduzero.com_files_403001_404000_403802.png" alt="Modélisation de la classe Managers"/><figcaption>Modélisation de la classe Managers</figcaption></figure><p id="r-609407" data-claire-element-id="609407">Cette instance de <code>Managers</code> sera stockée dans un attribut de l'objet <code>BackController</code> comme <code>$managers</code> par exemple. L'attribution d'une instance de <code>Managers</code> à cet attribut se fait dans le constructeur de la manière suivante :</p><pre id="r-609408" data-claire-element-id="609408"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class BackController extends ApplicationComponent
{
  // ...
  protected $managers = null;
  
  public function __construct(Application $app, $module, $action)
  {
    parent::__construct($app);
    
    $this-&gt;managers = new Managers('PDO', PDOFactory::getMysqlConnexion());
    $this-&gt;page = new Page($app);
    
    $this-&gt;setModule($module);
    $this-&gt;setAction($action);
    $this-&gt;setView($action);
  }
  
  // ...
}</code></pre><p id="r-609409" data-claire-element-id="609409">Niveau code, voici à quoi ressemble la classe <code>Managers</code> :</p><pre id="r-609410" data-claire-element-id="609410"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Managers
{
  protected $api = null;
  protected $dao = null;
  protected $managers = array();
  
  public function __construct($api, $dao)
  {
    $this-&gt;api = $api;
    $this-&gt;dao = $dao;
  }
  
  public function getManagerOf($module)
  {
    if (!is_string($module) || empty($module))
    {
      throw new \InvalidArgumentException('Le module spécifié est invalide');
    }
    
    if (!isset($this-&gt;managers[$module]))
    {
      $manager = '\\Library\\Models\\'.$module.'Manager_'.$this-&gt;api;
      $this-&gt;managers[$module] = new $manager($this-&gt;dao);
    }
    
    return $this-&gt;managers[$module];
  }
}</code></pre><div id="r-609412" data-claire-element-id="609412" data-claire-semantic="question"><p id="r-609411" data-claire-element-id="609411">Et maintenant, comment je passe l'instance de PDO au constructeur de <code>Managers</code> ? Je l'instancie directement ?</p></div><p id="r-609413" data-claire-element-id="609413">Non car cela vous obligerait à modifier la classe <code>BackController</code> à chaque modification, ce qui n'est pas très flexible. Je vous conseille plutôt d'utiliser le pattern factory que nous avons vu durant la précédente partie avec la classe <code>PDOFactory</code> :</p><pre id="r-609414" data-claire-element-id="609414"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class PDOFactory
{
  public static function getMysqlConnexion()
  {
    $db = new \PDO('mysql:host=localhost;dbname=news', 'root', '');
    $db-&gt;setAttribute(\PDO::ATTR_ERRMODE, \PDO::ERRMODE_EXCEPTION);
    
    return $db;
  }
}</code></pre><h5 id="r-a-propos-des-managers" data-claire-element-id="609432">À propos des managers</h5><p id="r-609417" data-claire-element-id="609417">Nous trouvons ici des natures en commun : les managers sont tous des managers ! Et les entités, et bien ce sont toutes des entités ! :-°</p><p id="r-609418" data-claire-element-id="609418">Cela peut vous sembler bête (oui, ça l'est), mais si je vous dis ceci c'est pour mettre en évidence le lien de parenté qui saute forcément aux yeux après cette phrase. Tous les managers devront donc hériter de <code>Manager</code> et chaque entité de <code>Entity</code>. La classe <code>Manager</code> se chargera d'implémenter un constructeur qui demandera le DAO par le biais d'un paramètre, comme ceci :</p><pre id="r-609419" data-claire-element-id="609419"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Manager
{
  protected $dao;
  
  public function __construct($dao)
  {
    $this-&gt;dao = $dao;
  }
}</code></pre><p id="r-609420" data-claire-element-id="609420">Par contre, la classe <code>Entity</code> est légèrement plus complexe. En effet, celle-ci offre quelques fonctionnalités :</p><ul id="r-609429" data-claire-element-id="609429"><li id="r-609422" data-claire-element-id="609422"><p id="r-609421" data-claire-element-id="609421">Implémentation d'un constructeur qui hydratera l'objet si un tableau de valeurs lui est fourni.</p></li><li id="r-609424" data-claire-element-id="609424"><p id="r-609423" data-claire-element-id="609423">Implémentation d'une méthode qui permet de vérifier si l'enregistrement est nouveau ou pas. Pour cela, on vérifie si l'attribut <code>$id</code> est vide ou non (ce qui inclut le fait que toutes les tables devront posséder un champ nommé <code>id</code>).</p></li><li id="r-609426" data-claire-element-id="609426"><p id="r-609425" data-claire-element-id="609425">Implémentation des getters / setters.</p></li><li id="r-609428" data-claire-element-id="609428"><p id="r-609427" data-claire-element-id="609427">Implémentation de l'interface <code>ArrayAccess</code> (ce n'est pas obligatoire, c'est juste que je préfère utiliser l'objet comme un tableau dans les vues).</p></li></ul><p id="r-609430" data-claire-element-id="609430">Le code obtenu devrait s'apparenter à celui-ci :</p><pre id="r-609431" data-claire-element-id="609431"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Entity implements \ArrayAccess
{
  protected $erreurs = array(),
        $id;
  
  public function __construct(array $donnees = array())
  {
    if (!empty($donnees))
    {
      $this-&gt;hydrate($donnees);
    }
  }
  
  public function isNew()
  {
    return empty($this-&gt;id);
  }
  
  public function erreurs()
  {
    return $this-&gt;erreurs;
  }
  
  public function id()
  {
    return $this-&gt;id;
  }
  
  public function setId($id)
  {
    $this-&gt;id = (int) $id;
  }
  
  public function hydrate(array $donnees)
  {
    foreach ($donnees as $attribut =&gt; $valeur)
    {
      $methode = 'set'.ucfirst($attribut);
      
      if (is_callable(array($this, $methode)))
      {
        $this-&gt;$methode($valeur);
      }
    }
  }
  
  public function offsetGet($var)
  {
    if (isset($this-&gt;$var) &amp;&amp; is_callable(array($this, $var)))
    {
      return $this-&gt;$var();
    }
  }
  
  public function offsetSet($var, $value)
  {
    $method = 'set'.ucfirst($var);
    
    if (isset($this-&gt;$var) &amp;&amp; is_callable(array($this, $method)))
    {
      $this-&gt;$method($value);
    }
  }
  
  public function offsetExists($var)
  {
    return isset($this-&gt;$var) &amp;&amp; is_callable(array($this, $var));
  }
  
  public function offsetUnset($var)
  {
    throw new \Exception('Impossible de supprimer une quelconque valeur');
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
<span class="arrow"></span>
<span class="next">Le routeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
<span class="next">La page</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lapage"></a><h2>La page</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
<span class="arrow"></span>
<span class="next">Le back controller</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
<span class="next">Bonus : l&#039;utilisateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-page-2" data-claire-element-id="609471">La page</h4><p id="r-609434" data-claire-element-id="609434">Toujours dans la continuité du déroulement de l'application, nous allons nous intéresser maintenant à la page qui, nous venons de le voir, était attachée à notre contrôleur.</p><h5 id="r-reflechissons-schematisons-2" data-claire-element-id="609451">Réfléchissons, schématisons</h5><p id="r-609435" data-claire-element-id="609435">Commençons par nous intéresser aux fonctionnalités de notre classe <code>Page</code>. Vous le savez, une page est composée de la vue et du <em>layout</em> afin de générer le tout. Ainsi, nous avons une première fonctionnalité : celle de <strong>générer</strong> une page. De plus, le contrôleur doit pouvoir transmettre des variables à la vue, stockée dans cette page : <strong>ajouter une variable à la page</strong> est donc une autre fonctionnalité. Enfin, la page doit savoir quelle vue elle doit générer et ajouter au <em>layout</em> : il est donc possible d'<strong>assigner une vue à la page</strong> (voir la figure suivante).</p><figure id="r-composition-d-une-page" data-claire-element-id="609438"><img id="r-609436" data-claire-element-id="609436" src="medias/uploads.siteduzero.com_files_373001_374000_373686.png" alt="Composition d'une page"/><figcaption>Composition d'une page</figcaption></figure><p id="r-609439" data-claire-element-id="609439">Pour résumer, une instance de notre classe <code>Page</code> nous permet :</p><ul id="r-609446" data-claire-element-id="609446"><li id="r-609441" data-claire-element-id="609441"><p id="r-609440" data-claire-element-id="609440">D'ajouter une variable à la page (le contrôleur aura besoin de passer des données à la vue).</p></li><li id="r-609443" data-claire-element-id="609443"><p id="r-609442" data-claire-element-id="609442">D'assigner une vue à la page.</p></li><li id="r-609445" data-claire-element-id="609445"><p id="r-609444" data-claire-element-id="609444">De générer la page avec le layout de l'application.</p></li></ul><p id="r-609447" data-claire-element-id="609447">Avant de commencer à coder cette classe, voici le diagramme la représentant (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-page" data-claire-element-id="609450"><img id="r-609448" data-claire-element-id="609448" src="medias/uploads.siteduzero.com_files_403001_404000_403803.png" alt="Modélisation de la classe Page"/><figcaption>Modélisation de la classe Page</figcaption></figure><h5 id="r-codons-6" data-claire-element-id="609454">Codons</h5><p id="r-609452" data-claire-element-id="609452">La classe est, me semble-t-il, plutôt facile à écrire. Cependant, il se peut que vous vous demandiez comment écrire la méthode <code>getGeneratedPage()</code>. En fait, il faut <strong>inclure</strong> les pages pour générer leur contenu, et stocker ce contenu dans une variable grâce aux <a href="http://fr2.php.net/manual/fr/ref.outcontrol.php">fonctions de tamporisation de sortie</a> pour pouvoir s'en servir plus tard. Pour la transformation du tableau stocké dans l'attribut <code>$vars</code> en variables, regardez du côté de la fonction <code><a href="http://fr2.php.net/manual/fr/function.extract.php">extract</a></code>.</p><pre id="r-609453" data-claire-element-id="609453"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Page extends ApplicationComponent
{
  protected $contentFile;
  protected $vars = array();
  
  public function addVar($var, $value)
  {
    if (!is_string($var) || is_numeric($var) || empty($var))
    {
      throw new \InvalidArgumentException('Le nom de la variable doit être une chaine de caractère non nulle');
    }
    
    $this-&gt;vars[$var] = $value;
  }
  
  public function getGeneratedPage()
  {
    if (!file_exists($this-&gt;contentFile))
    {
      throw new \RuntimeException('La vue spécifiée n\'existe pas');
    }
    
    extract($this-&gt;vars);
    
    ob_start();
      require $this-&gt;contentFile;
    $content = ob_get_clean();
    
    ob_start();
      require __DIR__.'/../Applications/'.$this-&gt;app-&gt;name().'/Templates/layout.php';
    return ob_get_clean();
  }
  
  public function setContentFile($contentFile)
  {
    if (!is_string($contentFile) || empty($contentFile))
    {
      throw new \InvalidArgumentException('La vue spécifiée est invalide');
    }
    
    $this-&gt;contentFile = $contentFile;
  }
}</code></pre><h5 id="r-retour-sur-la-classe-backcontroller" data-claire-element-id="609457">Retour sur la classe BackController</h5><p id="r-609455" data-claire-element-id="609455">Maintenant que nous avons écrit notre classe <code>Page</code>, je peux vous faire écrire une instruction dans la classe <code>BackController</code> et, plus particulièrement, la méthode <code>setView($view)</code>. En effet, lorsque l'on change de vue, il faut en informer la page concernée grâce à la méthode <code>setContentFile()</code> de notre classe <code>Page</code> :</p><pre id="r-609456" data-claire-element-id="609456"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class BackController extends ApplicationComponent
{
  // ...
  
  public function setView($view)
  {
    if (!is_string($view) || empty($view))
    {
      throw new \InvalidArgumentException('La vue doit être une chaine de caractères valide');
    }
    
    $this-&gt;view = $view;
    
    $this-&gt;page-&gt;setContentFile(__DIR__.'/../Applications/'.$this-&gt;app-&gt;name().'/Modules/'.$this-&gt;module.'/Views/'.$this-&gt;view.'.php');
  }
}</code></pre><h5 id="r-retour-sur-la-methode-httpresponse-redirect404" data-claire-element-id="609470">Retour sur la méthode <code>HTTPResponse::redirect404()</code></h5><p id="r-609458" data-claire-element-id="609458">Étant donné que vous avez compris comment fonctionne un objet <code>Page</code>, vous êtes capables d'écrire cette méthode laissée vide jusqu'à présent. Comment procéder ?</p><ul id="r-609467" data-claire-element-id="609467"><li id="r-609460" data-claire-element-id="609460"><p id="r-609459" data-claire-element-id="609459">On commence d'abord par créer une instance de la classe <code>Page</code> que l'on stocke dans l'attribut correspondant.</p></li><li id="r-609462" data-claire-element-id="609462"><p id="r-609461" data-claire-element-id="609461">On assigne ensuite le fichier qui fait office de vue à générer à la page. Ce fichier contient le message d'erreur formaté. Vous pouvez placer tous ces fichiers dans le dossier <strong>/Errors</strong> par exemple, sous le nom <em>code</em><strong>code.html</strong>. Le chemin menant au fichier contenant l'erreur 404 sera donc <strong>/Errors/404.html</strong>.</p></li><li id="r-609464" data-claire-element-id="609464"><p id="r-609463" data-claire-element-id="609463">On ajoute un header disant que le document est non trouvé (<strong>HTTP/1.0 404 Not Found</strong>).</p></li><li id="r-609466" data-claire-element-id="609466"><p id="r-609465" data-claire-element-id="609465">On envoie la réponse.</p></li></ul><p id="r-609468" data-claire-element-id="609468">Et voici ce que l'on obtient :</p><pre id="r-609469" data-claire-element-id="609469"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class HTTPResponse extends ApplicationComponent
{
  // ...
  
  public function redirect404()
  {
    $this-&gt;page = new Page($this-&gt;app);
    $this-&gt;page-&gt;setContentFile(__DIR__.'/../Errors/404.html');
    
    $this-&gt;addHeader('HTTP/1.0 404 Not Found');
    
    $this-&gt;send();
  }
  
  // ...
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
<span class="arrow"></span>
<span class="next">Le back controller</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
<span class="next">Bonus : l&#039;utilisateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Bonusl039utilisateur"></a><h2>Bonus : l&#039;utilisateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
<span class="arrow"></span>
<span class="next">La page</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
<span class="next">Bonus 2 : la configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-bonus-l-utilisateur" data-claire-element-id="609501">Bonus : l'utilisateur</h4><p id="r-609472" data-claire-element-id="609472">Cette classe est un « bonus », c'est-à-dire qu'elle n'est pas indispensable à l'application. Cependant, nous allons nous en servir plus tard donc ne sautez pas cette partie ! Mais rassurez-vous, nous aurons vite fait de la créer. ;)</p><h5 id="r-reflechissons-schematisons-3" data-claire-element-id="609493">Réfléchissons, schématisons</h5><p id="r-609473" data-claire-element-id="609473">L'utilisateur, qu'est-ce que c'est ? L'utilisateur est celui qui visite votre site. Comme tout site web qui se respecte, nous avons besoin d'enregistrer temporairement l'utilisateur dans la mémoire du serveur afin de stocker des informations le concernant. Nous créons donc une <strong>session</strong> pour l'utilisateur. Vous connaissez sans doute ce système de sessions avec le tableau <code>$_SESSION</code> et les fonctions à ce sujet que propose l'API. Notre classe, que nous nommerons <code>User</code>, devra nous permettre de gérer facilement la session de l'utilisateur. Nous pourrons donc, par le biais d'un objet <code>User</code> :</p><ul id="r-609488" data-claire-element-id="609488"><li id="r-609475" data-claire-element-id="609475"><p id="r-609474" data-claire-element-id="609474">Assigner un attribut à l'utilisateur.</p></li><li id="r-609477" data-claire-element-id="609477"><p id="r-609476" data-claire-element-id="609476">Obtenir la valeur d'un attribut.</p></li><li id="r-609479" data-claire-element-id="609479"><p id="r-609478" data-claire-element-id="609478">Authentifier l'utilisateur (cela nous sera utile lorsque nous ferons un formulaire de connexion pour l'espace d'administration).</p></li><li id="r-609481" data-claire-element-id="609481"><p id="r-609480" data-claire-element-id="609480">Savoir si l'utilisateur est authentifié.</p></li><li id="r-609483" data-claire-element-id="609483"><p id="r-609482" data-claire-element-id="609482">Assigner un message informatif à l'utilisateur que l'on affichera sur la page.</p></li><li id="r-609485" data-claire-element-id="609485"><p id="r-609484" data-claire-element-id="609484">Savoir si l'utilisateur a un tel message.</p></li><li id="r-609487" data-claire-element-id="609487"><p id="r-609486" data-claire-element-id="609486">Et enfin, récupérer ce message.</p></li></ul><p id="r-609489" data-claire-element-id="609489">Cela donne naissance à une classe de ce genre (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-user" data-claire-element-id="609492"><img id="r-609490" data-claire-element-id="609490" src="medias/uploads.siteduzero.com_files_403001_404000_403804.png" alt="Modélisation de la classe User"/><figcaption>Modélisation de la classe User</figcaption></figure><h5 id="r-codons-7" data-claire-element-id="609500">Codons</h5><p id="r-609494" data-claire-element-id="609494">Avant de commencer à coder la classe, il faut que vous ajoutiez l'instruction invoquant <code>session_start()</code> au début du fichier, en dehors de la classe. Ainsi, dès l'inclusion du fichier par l'autoload, la session démarrera et l'objet créé sera fonctionnel.</p><p id="r-609495" data-claire-element-id="609495">Ceci étant, voici le code que je vous propose :</p><pre id="r-609496" data-claire-element-id="609496"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

session_start();

class User extends ApplicationComponent
{
  public function getAttribute($attr)
  {
    return isset($_SESSION[$attr]) ? $_SESSION[$attr] : null;
  }
  
  public function getFlash()
  {
    $flash = $_SESSION['flash'];
    unset($_SESSION['flash']);
    
    return $flash;
  }
  
  public function hasFlash()
  {
    return isset($_SESSION['flash']);
  }
  
  public function isAuthenticated()
  {
    return isset($_SESSION['auth']) &amp;&amp; $_SESSION['auth'] === true;
  }
  
  public function setAttribute($attr, $value)
  {
    $_SESSION[$attr] = $value;
  }
  
  public function setAuthenticated($authenticated = true)
  {
    if (!is_bool($authenticated))
    {
      throw new \InvalidArgumentException('La valeur spécifiée à la méthode User::setAuthenticated() doit être un boolean');
    }
    
    $_SESSION['auth'] = $authenticated;
  }
  
  public function setFlash($value)
  {
    $_SESSION['flash'] = $value;
  }
}</code></pre><p id="r-609497" data-claire-element-id="609497">Comme promis, ce fut court, et tout ce qui compose cette classe est, il me semble, facilement compréhensible. ;)</p><aside id="r-609499" data-claire-element-id="609499" data-claire-semantic="information"><p id="r-609498" data-claire-element-id="609498">Pensez à modifier votre classe <code>Application</code> afin d'ajouter un attribut <code>$user</code> et à créer l'objet <code>User</code> dans le constructeur que vous stockerez dans l'attribut créé.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
<span class="arrow"></span>
<span class="next">La page</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
<span class="next">Bonus 2 : la configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Bonus2laconfiguration"></a><h2>Bonus 2 : la configuration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
<span class="arrow"></span>
<span class="next">Bonus : l&#039;utilisateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">
<span class="next">Le frontend</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-bonus-2-la-configuration" data-claire-element-id="609536">Bonus 2 : la configuration</h4><p id="r-609502" data-claire-element-id="609502">Cette classe est également un bonus dans la mesure où elle n'est pas essentielle pour que l'application fonctionne. Je vous encourage à vous entraîner à créer cette classe : tout comme la classe <code>User</code>, celle-ci n'est pas compliquée (si tant est que vous sachiez parser du XML avec une bibliothèque telle que DOMDocument).</p><h5 id="r-reflechissons-schematisons-4" data-claire-element-id="609518">Réfléchissons, schématisons</h5><p id="r-609503" data-claire-element-id="609503">Tout site web bien conçu se doit d'être configurable à souhait. Par conséquent, il faut que chaque application possède un <strong>fichier de configuration</strong> déclarant des paramètres propres à ladite application. Par exemple, si nous voulons afficher un nombre de news précis sur l'accueil, il serait préférable de spécifier un paramètre <code>nombre_de_news</code> à l'application que nous mettrons par exemple à cinq plutôt que d'insérer ce nombre en dur dans le code. De cette façon, nous aurons à modifier uniquement ce nombre dans le fichier de configuration pour faire varier le nombre de news sur la page d'accueil. ;)</p><h6 id="r-un-format-pour-le-fichier" data-claire-element-id="609508">Un format pour le fichier</h6><p id="r-609504" data-claire-element-id="609504">Le format du fichier sera le même que le fichier contenant les routes, à savoir le format XML. La base du fichier sera celle-ci :</p><pre id="r-609505" data-claire-element-id="609505"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;definitions&gt;
&lt;/definitions&gt;</code></pre><p id="r-609506" data-claire-element-id="609506">Chaque paramètre se déclarera avec une balise <code>define</code> comme ceci :</p><pre id="r-609507" data-claire-element-id="609507"><code data-claire-semantic="xml">&lt;define var=&quot;nombre_news&quot; value=&quot;5&quot; /&gt;</code></pre><h6 id="r-emplacement-du-fichier-2" data-claire-element-id="609510">Emplacement du fichier</h6><p id="r-609509" data-claire-element-id="609509">Le fichier de configuration est propre à chaque application. Par conséquent, il devra être placé aux côtés du fichier <strong>routes.xml</strong> sous le doux nom de <strong>app.xml</strong>. Son chemin complet sera donc <strong>/Applications/Nomdelapplication/Config/app.xml</strong>.</p><h6 id="r-fonctionnement-de-la-classe" data-claire-element-id="609517">Fonctionnement de la classe</h6><p id="r-609511" data-claire-element-id="609511">Nous aurons donc une classe s'occupant de gérer la configuration. Pour faire simple, nous n'allons lui implémenter qu'une seule fonctionnalité : celle de récupérer un paramètre. Il faut également garder à l'esprit qu'il s'agit d'un <strong>composant de l'application</strong>, donc il faut un lien de parenté avec... Je suis sûr que vous savez !</p><p id="r-609512" data-claire-element-id="609512">La méthode <code>get($var)</code> (qui sera chargée de récupérer la valeur d'un paramètre) ne devra pas parcourir à chaque fois le fichier de configuration, cela serait bien trop lourd. S'il s'agit du premier appel de la méthode, il faudra ouvrir le fichier XML en instanciant la classe <code>DOMDocument</code> et stocker tous les paramètres dans un attribut (admettons <code>$vars</code>). Ainsi, à chaque fois que la méthode <code>get()</code> sera invoquée, nous n'aurons qu'à retourner le paramètre précédemment enregistré.</p><p id="r-609513" data-claire-element-id="609513">Notre classe, plutôt simple, ressemble donc à ceci (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-config" data-claire-element-id="609516"><img id="r-609514" data-claire-element-id="609514" src="medias/uploads.siteduzero.com_files_403001_404000_403805.png" alt="Modélisation de la classe Config"/><figcaption>Modélisation de la classe Config</figcaption></figure><h5 id="r-codons-8" data-claire-element-id="609535">Codons</h5><p id="r-609519" data-claire-element-id="609519">Voici le résultat qui vous deviez obtenir :</p><pre id="r-609520" data-claire-element-id="609520"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Config extends ApplicationComponent
{
  protected $vars = array();
  
  public function get($var)
  {
    if (!$this-&gt;vars)
    {
      $xml = new \DOMDocument;
      $xml-&gt;load(__DIR__.'/../Applications/'.$this-&gt;app-&gt;name().'/Config/app.xml');
      
      $elements = $xml-&gt;getElementsByTagName('define');
      
      foreach ($elements as $element)
      {
        $this-&gt;vars[$element-&gt;getAttribute('var')] = $element-&gt;getAttribute('value');
      }
    }
    
    if (isset($this-&gt;vars[$var]))
    {
      return $this-&gt;vars[$var];
    }
    
    return null;
  }
}</code></pre><aside id="r-609522" data-claire-element-id="609522" data-claire-semantic="information"><p id="r-609521" data-claire-element-id="609521">Il faut, comme nous l'avons fait en créant la classe <code>User</code>, ajouter un nouvel attribut à notre classe <code>Application</code> qui stockera l'instance de <code>Config</code>. Appelez-le par exemple <code>$config</code> (pour être original :-° ).</p></aside><p id="r-609523" data-claire-element-id="609523">Notre bibliothèque est écrite, voilà une bonne chose de faite ! Il ne reste plus qu'à écrire les applications et à développer les modules.</p><p id="r-609524" data-claire-element-id="609524">Cependant, avant de continuer, je vais m'assurer que vous me suiviez toujours. Voici l'arborescence de l'architecture, avec des explications sur chaque dossier (voir la figure suivante).</p><figure id="r-609526" data-claire-element-id="609527"><img id="r-609525" data-claire-element-id="609525" src="medias/uploads.siteduzero.com_files_370001_371000_370525.png" alt="Image utilisateur"/></figure><p id="r-609528" data-claire-element-id="609528">Il est possible que des dossiers vous paraissent sortir de nulle part. Cependant, je vous assure que j'en ai parlé au moins une fois lors de la création de certaines classes. N'hésitez surtout pas à relire le chapitre en vous appuyant sur cette arborescence, vous comprendrez sans doute mieux. ;)</p><p id="r-609529" data-claire-element-id="609529">Notre bibliothèque est écrite, voilà une bonne chose de faite ! Il ne reste plus qu'à écrire les applications et développer les modules.</p><p id="r-609530" data-claire-element-id="609530">Cependant, avant de continuer, je vais m'assurer que vous me suiviez toujours. Voici l'arborescence de l'architecture, avec des explications sur chaque dossier :</p><figure id="r-609532" data-claire-element-id="609533"><img id="r-609531" data-claire-element-id="609531" src="medias/uploads.siteduzero.com_files_370001_371000_370525.png" alt="Image utilisateur"/></figure><p id="r-609534" data-claire-element-id="609534">Il est possible que des dossiers vous paraissent sortir de nulle part. Cependant, je vous assure que j'en ai parlé au moins une fois lors de la création de certaines classes. N'hésitez surtout pas à relire le chapitre en vous appuyant sur cette arborescence, vous comprendrez sans doute mieux. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
<span class="arrow"></span>
<span class="next">Bonus : l&#039;utilisateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">
<span class="next">Le frontend</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lefrontend"></a><h2>Le frontend</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
<span class="arrow"></span>
<span class="next">Bonus 2 : la configuration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
<span class="next">L&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609538" data-claire-element-id="609538">Nous allons enfin aborder quelque chose de concret en construisant notre première application : le <em>frontend</em>. Cette application est la partie visible par tout le monde. Nous allons construire un module de news avec commentaires, il y a de quoi faire, donc ne perdons pas une seconde de plus ! :)</p><p id="r-609539" data-claire-element-id="609539">Il est indispensable de connaître la classe <code>DateTime</code>. Cependant, ne vous inquiétez pas, cette classe est très simple d'utilisation, surtout que nous n'utiliserons que deux méthodes (le constructeur et la méthode <code>format()</code>).</p>
</div><a name="L039application"></a><h2>L&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">
<span class="arrow"></span>
<span class="next">Le frontend</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
<span class="next">Le module de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-application-3" data-claire-element-id="609577">L'application</h4><p id="r-609540" data-claire-element-id="609540">Nous allons commencer par créer les fichiers de base dont nous aurons besoin. Vous en connaissez quelques uns déjà : la classe représentant l'application, le layout, et les deux fichiers de configuration. Cependant, il nous en faut deux autres : un fichier qui instanciera notre classe et qui invoquera la méthode <code>run()</code>, et un .htaccess qui redirigera toutes les pages sur ce fichier. Nous verrons cela après avoir créé les quatre fichiers précédemment cités.</p><h5 id="r-la-classe-frontendapplication" data-claire-element-id="609555">La classe <code>FrontendApplication</code></h5><p id="r-609541" data-claire-element-id="609541">Commençons par créer notre classe <code>FrontendApplication</code>. Avant de commencer, assurez-vous que vous avez bien créé le dossier <strong>/Applications/Frontend</strong> qui contiendra notre application. Créez à l'intérieur le fichier contenant notre classe, à savoir <strong>FrontendApplication.class.php</strong>.</p><p id="r-609542" data-claire-element-id="609542">Bien. Commencez par écrire le minimum de la classe avec le <em>namespace</em> correspondant (je le rappelle : le <em>namespace</em> est identique au chemin venant vers le fichier contenant la classe) en implémentant les deux méthodes à écrire, à savoir <code>__construct()</code> (qui aura pour simple contenu d'appeler le constructeur parent puis de spécifier le nom de l'application), et <code>run()</code>. Cette dernière méthode écrira cette suite d'instruction :</p><ul id="r-609551" data-claire-element-id="609551"><li id="r-609544" data-claire-element-id="609544"><p id="r-609543" data-claire-element-id="609543">Obtention du contrôleur grâce à la méthode parente <code>getController()</code>.</p></li><li id="r-609546" data-claire-element-id="609546"><p id="r-609545" data-claire-element-id="609545">Exécution du contrôleur.</p></li><li id="r-609548" data-claire-element-id="609548"><p id="r-609547" data-claire-element-id="609547">Assignation de la page créée par le contrôleur à la réponse.</p></li><li id="r-609550" data-claire-element-id="609550"><p id="r-609549" data-claire-element-id="609549">Envoi de la réponse.</p></li></ul><p id="r-609552" data-claire-element-id="609552">Votre classe devrait ressembler à ceci :</p><pre id="r-609553" data-claire-element-id="609553"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend;

class FrontendApplication extends \Library\Application
{
  public function __construct()
  {
    parent::__construct();
    
    $this-&gt;name = 'Frontend';
  }
  
  public function run()
  {
    $controller = $this-&gt;getController();
    $controller-&gt;execute();
    
    $this-&gt;httpResponse-&gt;setPage($controller-&gt;page());
    $this-&gt;httpResponse-&gt;send();
  }
}</code></pre><p id="r-609554" data-claire-element-id="609554">Finalement, le déroulement est assez simple quand on y regarde de plus près.</p><h5 id="r-le-layout-1" data-claire-element-id="609566">Le layout</h5><p id="r-609556" data-claire-element-id="609556">Tout site web qui se respecte se doit d'avoir un design. Nous n'allons pas nous étaler sur ce type de création, ce n'est pas le sujet qui nous occupe. Nous allons donc nous servir d'un pack libre anciennement disponible sur un site de designs : j'ai nommé <a href="http://vyk12.alwaysdata.net/Envision.zip">envision</a>. C'est un design très simple et facilement intégrable, idéal pour ce que nous avons à faire. ;)</p><p id="r-609557" data-claire-element-id="609557">Je vous laisse télécharger le pack et découvrir les fichiers qu'il contient. Pour rappel, les fichiers sont à placer dans <strong>/Web</strong>. Vous devriez ainsi vous retrouver avec deux dossiers dans <strong>/Web</strong> : <strong>/Web/css</strong> et <strong>/Web/images</strong>.</p><p id="r-609558" data-claire-element-id="609558">Revenons-en au layout. Celui-ci est assez simple et respecte les contraintes imposées par le design.</p><pre id="r-609559" data-claire-element-id="609559"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
  &lt;head&gt;
    &lt;title&gt;
      &lt;?php if (!isset($title)) { ?&gt;
        Mon super site
      &lt;?php } else { echo $title; } ?&gt;
    &lt;/title&gt;
    
    &lt;meta http-equiv=&quot;Content-type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
    
    &lt;link rel=&quot;stylesheet&quot; href=&quot;/css/Envision.css&quot; type=&quot;text/css&quot; /&gt;
  &lt;/head&gt;
  
  &lt;body&gt;
    &lt;div id=&quot;wrap&quot;&gt;
      &lt;div id=&quot;header&quot;&gt;
        &lt;h1 id=&quot;logo-text&quot;&gt;&lt;a href=&quot;/&quot;&gt;Mon super site&lt;/a&gt;&lt;/h1&gt;
        &lt;p id=&quot;slogan&quot;&gt;Comment ça « il n'y a presque rien » ?&lt;/p&gt;
      &lt;/div&gt;
      
      &lt;div  id=&quot;menu&quot;&gt;
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;/&quot;&gt;Accueil&lt;/a&gt;&lt;/li&gt;
          &lt;?php if ($user-&gt;isAuthenticated()) { ?&gt;
          &lt;li&gt;&lt;a href=&quot;/admin/&quot;&gt;Admin&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;/admin/news-insert.html&quot;&gt;Ajouter une news&lt;/a&gt;&lt;/li&gt;
          &lt;?php } ?&gt;
        &lt;/ul&gt;
      &lt;/div&gt;
      
      &lt;div id=&quot;content-wrap&quot;&gt;
        &lt;div id=&quot;main&quot;&gt;
          &lt;?php if ($user-&gt;hasFlash()) echo '&lt;p style=&quot;text-align: center;&quot;&gt;', $user-&gt;getFlash(), '&lt;/p&gt;'; ?&gt;
          
          &lt;?php echo $content; ?&gt;
        &lt;/div&gt;
      &lt;/div&gt;
    
      &lt;div id=&quot;footer&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;
  &lt;/body&gt;
&lt;/html&gt;</code></pre><div id="r-609561" data-claire-element-id="609561" data-claire-semantic="question"><p id="r-609560" data-claire-element-id="609560">Qu'est-ce que c'est que ces variables <code>$user</code> ?</p></div><p id="r-609562" data-claire-element-id="609562">La variable <code>$user</code> fait référence à l'instance de <code>User</code>. Elle doit être initialisée dans la méthode <code>getGeneratedPage()</code> de la classe <code>Page</code> :</p><pre id="r-609563" data-claire-element-id="609563"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Page extends ApplicationComponent
{
  // ...
  
  public function getGeneratedPage()
  {
    if (!file_exists($this-&gt;contentFile))
    {
      throw new \InvalidArgumentException('La vue spécifiée n\'existe pas');
    }
    
    $user = $this-&gt;app-&gt;user();
    
    extract($this-&gt;vars);
    
    ob_start();
      require $this-&gt;contentFile;
    $content = ob_get_clean();
    
    ob_start();
      require dirname(__FILE__).'/../Applications/'.$this-&gt;app-&gt;name().'/Templates/layout.php';
    return ob_get_clean();
  }
  
  // ...
}</code></pre><aside id="r-609565" data-claire-element-id="609565" data-claire-semantic="information"><p id="r-609564" data-claire-element-id="609564">Notez que si vous utilisez la variable <code>$this</code>, elle fera référence à l'objet <code>Page</code> car le layout est inclut dans la méthode <code>Page::getGeneratedPage()</code>.</p></aside><h5 id="r-les-deux-fichiers-de-configuration" data-claire-element-id="609570">Les deux fichiers de configuration</h5><p id="r-609567" data-claire-element-id="609567">Nous allons préparer le terrain en créant les deux fichiers de configuration dont nous avons besoin : les fichiers <strong>app.xml</strong> et <strong>routes.xml</strong>, pour l'instant quasi-vierges :</p><pre id="r-609568" data-claire-element-id="609568"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;definitions&gt;
&lt;/definitions&gt;</code></pre><pre id="r-609569" data-claire-element-id="609569"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;routes&gt;
&lt;/routes&gt;</code></pre><h5 id="r-l-instanciation-de-frontendapplication" data-claire-element-id="609573">L'instanciation de <code>FrontendApplication</code></h5><p id="r-609571" data-claire-element-id="609571">Pour instancier <code>FrontendApplication</code>, il va falloir créer un fichier <strong>frontend.php</strong>. Ce fichier devra d'abord inclure l'autoload. Celui-ci aura donc pour simple contenu :</p><pre id="r-609572" data-claire-element-id="609572"><code data-claire-semantic="html+php">&lt;?php
require '../Library/autoload.php';

$app = new Applications\Frontend\FrontendApplication;
$app-&gt;run();</code></pre><h5 id="r-reecrire-toutes-les-url" data-claire-element-id="609576">Réécrire toutes les URL</h5><p id="r-609574" data-claire-element-id="609574">Il faut que toutes les URL pointent vers ce fichier. Pour cela, nous allons nous pencher vers l'URL rewriting. Voici le contenu du .htaccess :</p><pre id="r-609575" data-claire-element-id="609575"><code data-claire-semantic="apache">RewriteEngine On

# Si le fichier auquel on tente d'accéder existe (si on veut accéder à une image par exemple).
# Alors on ne réécrit pas l'URL.
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^(.*)$ frontend.php [QSA,L]</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">
<span class="arrow"></span>
<span class="next">Le frontend</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
<span class="next">Le module de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemoduledenews"></a><h2>Le module de news</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
<span class="next">Ajoutons des commentaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-module-de-news" data-claire-element-id="609642">Le module de news</h4><p id="r-609578" data-claire-element-id="609578">Nous allons commencer en douceur par un système de news. Pourquoi en douceur ? Car vous avez déjà fait cet exercice lors du précédent TP ! Ainsi, nous allons voir comment <strong>l'intégrer</strong> au sein de l'application, et vous verrez ainsi plus clair sur la manière dont elle fonctionne. Pour ne perdre personne, nous allons refaire le TP petit à petit pour mieux l'intégrer dans l'application. Ainsi, je vais commencer par vous rappeler ce que j'attends du système de news.</p><h5 id="r-fonctionnalites-2" data-claire-element-id="609599">Fonctionnalités</h5><p id="r-609579" data-claire-element-id="609579">Il doit être possible d'exécuter deux actions différentes sur le module de news :</p><ul id="r-609584" data-claire-element-id="609584"><li id="r-609581" data-claire-element-id="609581"><p id="r-609580" data-claire-element-id="609580">Afficher l'index du module. Cela aura pour effet de dévoiler les cinq dernières news avec le titre et l'extrait du contenu (seuls les 200 premiers caractères seront affichés).</p></li><li id="r-609583" data-claire-element-id="609583"><p id="r-609582" data-claire-element-id="609582">Afficher une news spécifique en cliquant sur son titre. L'auteur apparaîtra, ainsi que la date de modification si la news a été modifiée.</p></li></ul><p id="r-609585" data-claire-element-id="609585">Comme pour tout module, commencez par créer les dossiers et fichiers de base, à savoir :</p><ul id="r-609598" data-claire-element-id="609598"><li id="r-609587" data-claire-element-id="609587"><p id="r-609586" data-claire-element-id="609586">Le dossier <strong>/Applications/Frontend/Modules/News</strong> qui contiendra notre module.</p></li><li id="r-609589" data-claire-element-id="609589"><p id="r-609588" data-claire-element-id="609588">Le fichier <strong>/Applications/Frontend/Modules/News/NewsController.class.php</strong> qui contiendra notre contrôleur.</p></li><li id="r-609591" data-claire-element-id="609591"><p id="r-609590" data-claire-element-id="609590">Le dossier <strong>/Applications/Frontend/Modules/News/Views</strong> qui contiendra les vues.</p></li><li id="r-609593" data-claire-element-id="609593"><p id="r-609592" data-claire-element-id="609592">Le fichier <strong>/Library/Models/NewsManager.class.php</strong> qui contiendra notre manager de base;</p></li><li id="r-609595" data-claire-element-id="609595"><p id="r-609594" data-claire-element-id="609594">Le fichier <strong>/Library/Models/NewsManager_PDO.class.php</strong> qui contiendra notre manager utilisant PDO.</p></li><li id="r-609597" data-claire-element-id="609597"><p id="r-609596" data-claire-element-id="609596">Le fichier <strong>/Library/Entities/News.class.php</strong> qui contiendra la classe représentant un enregistrement.</p></li></ul><h5 id="r-structure-de-la-table-news-1" data-claire-element-id="609604">Structure de la table <em>news</em></h5><p id="r-609600" data-claire-element-id="609600">Une news est constituée d'un titre, d'un auteur et d'un contenu. Aussi, il faut stocker la date d'ajout de la news ainsi que sa date de modification. Cela nous donne une table <strong>news</strong> ressemblant à ceci :</p><pre id="r-609601" data-claire-element-id="609601"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `news` (
  `id` smallint(5) unsigned NOT NULL AUTO_INCREMENT,
  `auteur` varchar(30) COLLATE latin1_general_ci NOT NULL,
  `titre` varchar(100) COLLATE latin1_general_ci NOT NULL,
  `contenu` text COLLATE latin1_general_ci NOT NULL,
  `dateAjout` datetime NOT NULL,
  `dateModif` datetime NOT NULL,
  PRIMARY KEY (`id`)
) DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci ;</code></pre><p id="r-609602" data-claire-element-id="609602">Nous pouvons désormais écrire la classe représentant cette entité : <code>News</code>.</p><pre id="r-609603" data-claire-element-id="609603"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Entities;

class News extends \Library\Entity
{
  protected $auteur,
            $titre,
            $contenu,
            $dateAjout,
            $dateModif;
  
  const AUTEUR_INVALIDE = 1;
  const TITRE_INVALIDE = 2;
  const CONTENU_INVALIDE = 3;
  
  public function isValid()
  {
    return !(empty($this-&gt;auteur) || empty($this-&gt;titre) || empty($this-&gt;contenu));
  }
  
  
  // SETTERS //
  
  public function setAuteur($auteur)
  {
    if (!is_string($auteur) || empty($auteur))
    {
      $this-&gt;erreurs[] = self::AUTEUR_INVALIDE;
    }
    else
    {
      $this-&gt;auteur = $auteur;
    }
  }
  
  public function setTitre($titre)
  {
    if (!is_string($titre) || empty($titre))
    {
      $this-&gt;erreurs[] = self::TITRE_INVALIDE;
    }
    else
    {
      $this-&gt;titre = $titre;
    }
  }
  
  public function setContenu($contenu)
  {
    if (!is_string($contenu) || empty($contenu))
    {
      $this-&gt;erreurs[] = self::CONTENU_INVALIDE;
    }
    else
    {
      $this-&gt;contenu = $contenu;
    }
  }
  
  public function setDateAjout(\DateTime $dateAjout)
  {
    $this-&gt;dateAjout = $dateAjout;
  }
  
  public function setDateModif(\DateTime $dateModif)
  {
    $this-&gt;dateModif = $dateModif;
  }
  
  // GETTERS //
  
  public function auteur()
  {
    return $this-&gt;auteur;
  }
  
  public function titre()
  {
    return $this-&gt;titre;
  }
  
  public function contenu()
  {
    return $this-&gt;contenu;
  }
  
  public function dateAjout()
  {
    return $this-&gt;dateAjout;
  }
  
  public function dateModif()
  {
    return $this-&gt;dateModif;
  }
}</code></pre><h5 id="r-l-action-index" data-claire-element-id="609625">L'action <em>index</em></h5><h6 id="r-la-route" data-claire-element-id="609608">La route</h6><p id="r-609605" data-claire-element-id="609605">Commençons par implémenter cette action. La première chose à faire est de créer une nouvelle route : quelle URL pointera vers cette action ? Je vous propose simplement que ce soit la racine du site web, donc ce sera l'URL <strong>/</strong>. Pour créer cette route, il va falloir modifier notre fichier de configuration et y ajouter cette ligne :</p><pre id="r-609606" data-claire-element-id="609606"><code data-claire-semantic="xml">&lt;route url=&quot;/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;</code></pre><p id="r-609607" data-claire-element-id="609607">Vient ensuite l'implémentation de l'action dans le contrôleur.</p><h6 id="r-le-controleur-4" data-claire-element-id="609613">Le contrôleur</h6><p id="r-609609" data-claire-element-id="609609">Qui dit nouvelle action dit nouvelle méthode, et cette méthode c'est <code>executeIndex()</code>. Cette méthode devra récupérer les cinq dernières news (le nombre cinq devra être stocké dans le fichier de configuration de l'application, à savoir <strong>/Applications/Frontend/Config/app.xml</strong>). Il faudra parcourir cette liste de news afin de n'assigner aux news qu'un contenu de 200 caractères au maximum. Ensuite, il faut passer la liste des news à la vue :</p><pre id="r-609610" data-claire-element-id="609610"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  public function executeIndex(\Library\HTTPRequest $request)
  {
    $nombreNews = $this-&gt;app-&gt;config()-&gt;get('nombre_news');
    $nombreCaracteres = $this-&gt;app-&gt;config()-&gt;get('nombre_caracteres');
    
    // On ajoute une définition pour le titre.
    $this-&gt;page-&gt;addVar('title', 'Liste des '.$nombreNews.' dernières news');
    
    // On récupère le manager des news.
    $manager = $this-&gt;managers-&gt;getManagerOf('News');
    
    // Cette ligne, vous ne pouviez pas la deviner sachant qu'on n'a pas encore touché au modèle.
    // Contentez-vous donc d'écrire cette instruction, nous implémenterons la méthode ensuite.
    $listeNews = $manager-&gt;getList(0, $nombreNews);
    
    foreach ($listeNews as $news)
    {
      if (strlen($news-&gt;contenu()) &gt; $nombreCaracteres)
      {
        $debut = substr($news-&gt;contenu(), 0, $nombreCaracteres);
        $debut = substr($debut, 0, strrpos($debut, ' ')) . '...';
        
        $news-&gt;setContenu($debut);
      }
    }
    
    // On ajoute la variable $listeNews à la vue.
    $this-&gt;page-&gt;addVar('listeNews', $listeNews);
  }
}</code></pre><p id="r-609611" data-claire-element-id="609611">Comme vous le voyez, j'utilise le fichier de configuration pour récupérer le nombre de news à afficher et le nombre maximum de caractères. Voici le fichier de configuration :</p><pre id="r-609612" data-claire-element-id="609612"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;definitions&gt;
  &lt;define var=&quot;nombre_news&quot; value=&quot;5&quot; /&gt;
  &lt;define var=&quot;nombre_caracteres&quot; value=&quot;200&quot; /&gt;
&lt;/definitions&gt;</code></pre><h6 id="r-la-vue-3" data-claire-element-id="609617">La vue</h6><p id="r-609614" data-claire-element-id="609614">À toute action correspond une vue du même nom. Ici, la vue à créer sera <strong>/Applications/Frontend/Modules/News/Views/index.php</strong>. Voici un exemple très simple pour cette vue :</p><pre id="r-609615" data-claire-element-id="609615"><code data-claire-semantic="html+php">&lt;?php
foreach ($listeNews as $news)
{
?&gt;
  &lt;h2&gt;&lt;a href=&quot;news-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;&lt;?php echo $news['titre']; ?&gt;&lt;/a&gt;&lt;/h2&gt;
  &lt;p&gt;&lt;?php echo nl2br($news['contenu']); ?&gt;&lt;/p&gt;
&lt;?php
}</code></pre><p id="r-609616" data-claire-element-id="609616">Notez l'utilisation des news comme des tableaux : cela est possible du fait que l'objet est une instance d'une classe qui implémente <code>ArrayAccess</code>.</p><h6 id="r-le-modele-3" data-claire-element-id="609624">Le modèle</h6><p id="r-609618" data-claire-element-id="609618">Nous allons modifier deux classes faisant partie du modèle, à savoir <code>NewsManager</code> et <code>NewsManager_PDO</code>. Nous allons implémenter à cette dernière classe une méthode : <code>getList()</code>. Sa classe parente doit donc aussi être modifiée pour déclarer cette méthode.</p><pre id="r-609619" data-claire-element-id="609619"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

abstract class NewsManager extends \Library\Manager
{
  /**
   * Méthode retournant une liste de news demandée
   * @param $debut int La première news à sélectionner
   * @param $limite int Le nombre de news à sélectionner
   * @return array La liste des news. Chaque entrée est une instance de News.
   */
  abstract public function getList($debut = -1, $limite = -1);
}</code></pre><pre id="r-609620" data-claire-element-id="609620"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\News;

class NewsManager_PDO extends NewsManager
{
  public function getList($debut = -1, $limite = -1)
  {
    $sql = 'SELECT id, auteur, titre, contenu, dateAjout, dateModif FROM news ORDER BY id DESC';
    
    if ($debut != -1 || $limite != -1)
    {
      $sql .= ' LIMIT '.(int) $limite.' OFFSET '.(int) $debut;
    }
    
    $requete = $this-&gt;dao-&gt;query($sql);
    $requete-&gt;setFetchMode(\PDO::FETCH_CLASS | \PDO::FETCH_PROPS_LATE, '\Library\Entities\News');
    
    $listeNews = $requete-&gt;fetchAll();
    
    foreach ($listeNews as $news)
    {
      $news-&gt;setDateAjout(new \DateTime($news-&gt;dateAjout()));
      $news-&gt;setDateModif(new \DateTime($news-&gt;dateModif()));
    }
    
    $requete-&gt;closeCursor();
    
    return $listeNews;
  }
}</code></pre><p id="r-609621" data-claire-element-id="609621">Vous pouvez faire le test : accédez à la racine de votre site et vous découvrirez... un gros blanc, car aucune news n'est présente en BDD :-° . Vous pouvez en ajouter manuellement <em>via</em> phpMyAdmin en attendant que nous ayons construit l'espace d'administration. ;)</p><aside id="r-609623" data-claire-element-id="609623" data-claire-semantic="information"><p id="r-609622" data-claire-element-id="609622">Si la constante <code>PDO::FETCH_CLASS</code> vous est inconnue, je vous invite à relire la première partie du TP sur la réalisation d'un système de news.</p></aside><h5 id="r-l-action-show" data-claire-element-id="609641">L'action <em>show</em></h5><h6 id="r-la-route-1" data-claire-element-id="609628">La route</h6><p id="r-609626" data-claire-element-id="609626">Je vous propose que les URL du type <strong>news-id.html</strong> pointent vers cette action. Modifiez donc le fichier de configuration des routes pour y ajouter celle-ci :</p><pre id="r-609627" data-claire-element-id="609627"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/news-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;show&quot; vars=&quot;id&quot;/&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-5" data-claire-element-id="609633">Le contrôleur</h6><p id="r-609629" data-claire-element-id="609629">Le contrôleur implémentera la méthode <code>executeShow()</code>. Son contenu est simple : le contrôleur ira demander au manager la news correspondant à l'identifiant puis, il passera cette news à la vue, en ayant pris soin de remplacer les sauts de lignes par des balises <code data-claire-semantic="html">&lt;br /&gt;</code> dans le contenu de la news.</p><aside id="r-609631" data-claire-element-id="609631" data-claire-semantic="information"><p id="r-609630" data-claire-element-id="609630">Si la news n'existe pas, il faudra rediriger l'utilisateur vers une erreur 404.</p></aside><pre id="r-609632" data-claire-element-id="609632"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  public function executeIndex(\Library\HTTPRequest $request)
  {
    $nombreNews = $this-&gt;app-&gt;config()-&gt;get('nombre_news');
    $nombreCaracteres = $this-&gt;app-&gt;config()-&gt;get('nombre_caracteres');
    
    // On ajoute une définition pour le titre.
    $this-&gt;page-&gt;addVar('title', 'Liste des '.$nombreNews.' dernières news');
    
    // On récupère le manager des news.
    $manager = $this-&gt;managers-&gt;getManagerOf('News');
    
    $listeNews = $manager-&gt;getList(0, $nombreNews);
    
    foreach ($listeNews as $news)
    {
      if (strlen($news-&gt;contenu()) &gt; $nombreCaracteres)
      {
        $debut = substr($news-&gt;contenu(), 0, $nombreCaracteres);
        $debut = substr($debut, 0, strrpos($debut, ' ')) . '...';
        
        $news-&gt;setContenu($debut);
      }
    }
    
    // On ajoute la variable $listeNews à la vue.
    $this-&gt;page-&gt;addVar('listeNews', $listeNews);
  }
  
  public function executeShow(\Library\HTTPRequest $request)
  {
    $news = $this-&gt;managers-&gt;getManagerOf('News')-&gt;getUnique($request-&gt;getData('id'));
    
    if (empty($news))
    {
      $this-&gt;app-&gt;httpResponse()-&gt;redirect404();
    }
    
    $this-&gt;page-&gt;addVar('title', $news-&gt;titre());
    $this-&gt;page-&gt;addVar('news', $news);
  }
}</code></pre><h6 id="r-la-vue-4" data-claire-element-id="609636">La vue</h6><p id="r-609634" data-claire-element-id="609634">La vue se contente de gérer l'affichage de la news. Faites comme bon vous semble, cela n'a pas trop d'importance. Voici la version que je vous propose :</p><pre id="r-609635" data-claire-element-id="609635"><code data-claire-semantic="html+php">&lt;p&gt;Par &lt;em&gt;&lt;?php echo $news['auteur']; ?&gt;&lt;/em&gt;, le &lt;?php echo $news['dateAjout']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/p&gt;
&lt;h2&gt;&lt;?php echo $news['titre']; ?&gt;&lt;/h2&gt;
&lt;p&gt;&lt;?php echo nl2br($news['contenu']); ?&gt;&lt;/p&gt;

&lt;?php if ($news['dateAjout'] != $news['dateModif']) { ?&gt;
  &lt;p style=&quot;text-align: right;&quot;&gt;&lt;small&gt;&lt;em&gt;Modifiée le &lt;?php echo $news['dateModif']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
&lt;?php } ?&gt;</code></pre><h6 id="r-le-modele-4" data-claire-element-id="609640">Le modèle</h6><p id="r-609637" data-claire-element-id="609637">Nous allons là aussi toucher à nos classes <code>NewsManager</code> et <code>NewsManager_PDO</code> en ajoutant la méthode <code>getUnique()</code>.</p><pre id="r-609638" data-claire-element-id="609638"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\News;

abstract class NewsManager extends \Library\Manager
{
  /**
   * Méthode retournant une liste de news demandée.
   * @param $debut int La première news à sélectionner
   * @param $limite int Le nombre de news à sélectionner
   * @return array La liste des news. Chaque entrée est une instance de News.
   */
  abstract public function getList($debut = -1, $limite = -1);
  
  /**
   * Méthode retournant une news précise.
   * @param $id int L'identifiant de la news à récupérer
   * @return News La news demandée
   */
  abstract public function getUnique($id);
}</code></pre><pre id="r-609639" data-claire-element-id="609639"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\News;

class NewsManager_PDO extends NewsManager
{
  public function getList($debut = -1, $limite = -1)
  {
    $sql = 'SELECT id, auteur, titre, contenu, dateAjout, dateModif FROM news ORDER BY id DESC';
    
    if ($debut != -1 || $limite != -1)
    {
      $sql .= ' LIMIT '.(int) $limite.' OFFSET '.(int) $debut;
    }
    
    $requete = $this-&gt;dao-&gt;query($sql);
    $requete-&gt;setFetchMode(\PDO::FETCH_CLASS | \PDO::FETCH_PROPS_LATE, '\Library\Entities\News');
    
    $listeNews = $requete-&gt;fetchAll();
    
    foreach ($listeNews as $news)
    {
      $news-&gt;setDateAjout(new \DateTime($news-&gt;dateAjout()));
      $news-&gt;setDateModif(new \DateTime($news-&gt;dateModif()));
    }
    
    $requete-&gt;closeCursor();
    
    return $listeNews;
  }
  
  public function getUnique($id)
  {
    $requete = $this-&gt;dao-&gt;prepare('SELECT id, auteur, titre, contenu, dateAjout, dateModif FROM news WHERE id = :id');
    $requete-&gt;bindValue(':id', (int) $id, \PDO::PARAM_INT);
    $requete-&gt;execute();
    
    $requete-&gt;setFetchMode(\PDO::FETCH_CLASS | \PDO::FETCH_PROPS_LATE, '\Library\Entities\News');
    
    if ($news = $requete-&gt;fetch())
    {
      $news-&gt;setDateAjout(new \DateTime($news-&gt;dateAjout()));
      $news-&gt;setDateModif(new \DateTime($news-&gt;dateModif()));
      
      return $news;
    }
    
    return null;
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
<span class="next">Ajoutons des commentaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajoutonsdescommentaires"></a><h2>Ajoutons des commentaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
<span class="arrow"></span>
<span class="next">Le module de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">
<span class="next">Le backend</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajoutons-des-commentaires" data-claire-element-id="609685">Ajoutons des commentaires</h4><h5 id="r-cahier-des-charges-10" data-claire-element-id="609652">Cahier des charges</h5><p id="r-609643" data-claire-element-id="609643">Nous allons ajouter une action à notre module de news : l'ajout d'un commentaire. Il ne faudra pas oublier de modifier notre module de news, et plus spécialement l'action <strong>show</strong> pour laisser apparaître la liste des commentaires ainsi qu'un lien menant au formulaire d'ajout de commentaire.</p><p id="r-609644" data-claire-element-id="609644">Avant toute chose, il va falloir créer les modèles nous permettant d'interagir avec la BDD pour accéder aux commentaires :</p><ul id="r-609651" data-claire-element-id="609651"><li id="r-609646" data-claire-element-id="609646"><p id="r-609645" data-claire-element-id="609645">Le fichier <strong>/Library/Models/CommentsManager.class.php</strong> qui contiendra notre manager de base.</p></li><li id="r-609648" data-claire-element-id="609648"><p id="r-609647" data-claire-element-id="609647">Le fichier <strong>/Library/Models/CommentsManager_PDO.class.php</strong> qui inclura notre manager utilisant PDO.</p></li><li id="r-609650" data-claire-element-id="609650"><p id="r-609649" data-claire-element-id="609649">Le fichier <strong>/Library/Entities/Comment.class.php</strong> qui comportera la classe représentant un enregistrement.</p></li></ul><h5 id="r-structure-de-la-table-comments" data-claire-element-id="609657">Structure de la table <em>comments</em></h5><p id="r-609653" data-claire-element-id="609653">Un commentaire est assigné à une news. Il est constitué d'un auteur et d'un contenu, ainsi que de sa date d'enregistrement. Notre table <strong>comments</strong> doit donc être constituée de la sorte :</p><pre id="r-609654" data-claire-element-id="609654"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `comments` (
  `id` mediumint(9) NOT NULL AUTO_INCREMENT,
  `news` smallint(6) NOT NULL,
  `auteur` varchar(50) COLLATE latin1_general_ci NOT NULL,
  `contenu` text COLLATE latin1_general_ci NOT NULL,
  `date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) DEFAULT CHARSET=latin1 COLLATE=latin1_general_ci ;</code></pre><p id="r-609655" data-claire-element-id="609655">Puisque nous connaissons la structure d'un commentaire, nous pouvons écrire une partie du modèle, à savoir la classe <code>Comment</code> :</p><pre id="r-609656" data-claire-element-id="609656"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Entities;

class Comment extends \Library\Entity
{
  protected $news,
            $auteur,
            $contenu,
            $date;
  
  const AUTEUR_INVALIDE = 1;
  const CONTENU_INVALIDE = 2;
  
  public function isValid()
  {
    return !(empty($this-&gt;auteur) || empty($this-&gt;contenu));
  }
  
  // SETTERS
  
  public function setNews($news)
  {
    $this-&gt;news = (int) $news;
  }
  
  public function setAuteur($auteur)
  {
    if (!is_string($auteur) || empty($auteur))
    {
      $this-&gt;erreurs[] = self::AUTEUR_INVALIDE;
    }
    else
    {
      $this-&gt;auteur = $auteur;
    }
  }
  
  public function setContenu($contenu)
  {
    if (!is_string($contenu) || empty($contenu))
    {
      $this-&gt;erreurs[] = self::CONTENU_INVALIDE;
    }
    else
    {
      $this-&gt;contenu = $contenu;
    }
  }
  
  public function setDate(\DateTime $date)
  {
    $this-&gt;date = $date;
  }
  
  // GETTERS
  
  public function news()
  {
    return $this-&gt;news;
  }
  
  public function auteur()
  {
    return $this-&gt;auteur;
  }
  
  public function contenu()
  {
    return $this-&gt;contenu;
  }
  
  public function date()
  {
    return $this-&gt;date;
  }
}</code></pre><h5 id="r-l-action-insertcomment" data-claire-element-id="609673">L'action <em>insertComment</em></h5><h6 id="r-la-route-2" data-claire-element-id="609660">La route</h6><p id="r-609658" data-claire-element-id="609658">Nous n'allons pas faire dans la fantaisie pour cette action, nous allons prendre une URL basique : <strong>commenter-idnews.html</strong>. Rajoutez donc cette nouvelle route dans le fichier de configuration des routes :</p><pre id="r-609659" data-claire-element-id="609659"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/news-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;show&quot; vars=&quot;id&quot;/&gt;
  &lt;route url=&quot;/commenter-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;insertComment&quot; vars=&quot;news&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-la-vue-5" data-claire-element-id="609664">La vue</h6><p id="r-609661" data-claire-element-id="609661">Dans un premier temps, nous allons nous attarder sur la vue car c'est à l'intérieur de celle-ci que nous allons construire le formulaire. Cela nous permettra donc de savoir quels champs seront à traiter par le contrôleur. Je vous propose un formulaire très simple demandant le pseudo et le contenu à l'utilisateur :</p><pre id="r-609662" data-claire-element-id="609662"><code data-claire-semantic="html+php">&lt;h2&gt;Ajouter un commentaire&lt;/h2&gt;
&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;p&gt;
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::AUTEUR_INVALIDE, $erreurs)) echo 'L\'auteur est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Pseudo&lt;/label&gt;
    &lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&lt;?php if (isset($comment)) echo htmlspecialchars($comment['auteur']); ?&gt;&quot; /&gt;&lt;br /&gt;
    
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::CONTENU_INVALIDE, $erreurs)) echo 'Le contenu est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Contenu&lt;/label&gt;
    &lt;textarea name=&quot;contenu&quot; rows=&quot;7&quot; cols=&quot;50&quot;&gt;&lt;?php if (isset($comment)) echo htmlspecialchars($comment['contenu']); ?&gt;&lt;/textarea&gt;&lt;br /&gt;
    
    &lt;input type=&quot;submit&quot; value=&quot;Commenter&quot; /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre><p id="r-609663" data-claire-element-id="609663">L'identifiant de la news est stocké dans l'URL. Puisque nous allons envoyer le formulaire sur cette même page, l'identifiant de la news sera toujours présent dans l'URL et donc accessible <em>via</em> le contrôleur.</p><h6 id="r-le-controleur-6" data-claire-element-id="609667">Le contrôleur</h6><p id="r-609665" data-claire-element-id="609665">Notre méthode <code>executeInsertComment()</code> se chargera dans un premier temps de vérifier si le formulaire a été envoyé en vérifiant si la variable POST <code>pseudo</code> existe. Ensuite, elle procédera à la vérification des données et insérera le commentaire en BDD si toutes les données sont valides.</p><pre id="r-609666" data-claire-element-id="609666"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeInsertComment(\Library\HTTPRequest $request)
  {
    $this-&gt;page-&gt;addVar('title', 'Ajout d\'un commentaire');
    
    if ($request-&gt;postExists('pseudo'))
    {
      $comment = new \Library\Entities\Comment(array(
        'news' =&gt; $request-&gt;getData('news'),
        'auteur' =&gt; $request-&gt;postData('pseudo'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      ));
      
      if ($comment-&gt;isValid())
      {
        $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;save($comment);
        
        $this-&gt;app-&gt;user()-&gt;setFlash('Le commentaire a bien été ajouté, merci !');
        
        $this-&gt;app-&gt;httpResponse()-&gt;redirect('news-'.$request-&gt;getData('news').'.html');
      }
      else
      {
        $this-&gt;page-&gt;addVar('erreurs', $comment-&gt;erreurs());
      }
      
      $this-&gt;page-&gt;addVar('comment', $comment);
    }
  }
  
  // ...
}</code></pre><h6 id="r-le-modele-5" data-claire-element-id="609672">Le modèle</h6><p id="r-609668" data-claire-element-id="609668">Nous aurons besoin d'implémenter une méthode dans notre classe <code>CommentsManager</code> : <code>save()</code>. En fait, il s'agit d'un « raccourci », cette méthode appelle elle-même une autre méthode : <code>add()</code> ou <code>modify()</code> selon si le commentaire est déjà présent en BDD. Notre manager peut savoir si l'enregistrement est déjà enregistré ou pas grâce à la méthode <code>isNew()</code>.</p><pre id="r-609669" data-claire-element-id="609669"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\Comment;

abstract class CommentsManager extends \Library\Manager
{
  /**
   * Méthode permettant d'ajouter un commentaire
   * @param $comment Le commentaire à ajouter
   * @return void
   */
  abstract protected function add(Comment $comment);
  
  /**
   * Méthode permettant d'enregistrer un commentaire.
   * @param $comment Le commentaire à enregistrer
   * @return void
   */
  public function save(Comment $comment)
  {
    if ($comment-&gt;isValid())
    {
      $comment-&gt;isNew() ? $this-&gt;add($comment) : $this-&gt;modify($comment);
    }
    else
    {
      throw new \RuntimeException('Le commentaire doit être validé pour être enregistré');
    }
  }
}</code></pre><pre id="r-609670" data-claire-element-id="609670"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\Comment;

class CommentsManager_PDO extends CommentsManager
{
  protected function add(Comment $comment)
  {
    $q = $this-&gt;dao-&gt;prepare('INSERT INTO comments SET news = :news, auteur = :auteur, contenu = :contenu, date = NOW()');
    
    $q-&gt;bindValue(':news', $comment-&gt;news(), \PDO::PARAM_INT);
    $q-&gt;bindValue(':auteur', $comment-&gt;auteur());
    $q-&gt;bindValue(':contenu', $comment-&gt;contenu());
    
    $q-&gt;execute();
    
    $comment-&gt;setId($this-&gt;dao-&gt;lastInsertId());
  }
}</code></pre><p id="r-609671" data-claire-element-id="609671">L'implémentation de la méthode <code>modify()</code> se fera lors de la construction de l'espace d'administration.</p><h5 id="r-affichage-des-commentaires-2" data-claire-element-id="609684">Affichage des commentaires</h5><h6 id="r-modification-du-controleur" data-claire-element-id="609676">Modification du contrôleur</h6><p id="r-609674" data-claire-element-id="609674">Il suffit simplement de passer la liste des commentaires à la vue. Une seule instruction suffit donc :</p><pre id="r-609675" data-claire-element-id="609675"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeShow(\Library\HTTPRequest $request)
  {
    $news = $this-&gt;managers-&gt;getManagerOf('News')-&gt;getUnique($request-&gt;getData('id'));
    
    if (empty($news))
    {
      $this-&gt;app-&gt;httpResponse()-&gt;redirect404();
    }
    
    $this-&gt;page-&gt;addVar('title', $news-&gt;titre());
    $this-&gt;page-&gt;addVar('news', $news);
    $this-&gt;page-&gt;addVar('comments', $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;getListOf($news-&gt;id()));
  }
}</code></pre><h6 id="r-modification-de-la-vue-affichant-une-news" data-claire-element-id="609679">Modification de la vue affichant une news</h6><p id="r-609677" data-claire-element-id="609677">La vue devra parcourir la liste des commentaires passés pour les afficher. Les liens pointant vers l'ajout d'un commentaire devront aussi figurer sur la page.</p><pre id="r-609678" data-claire-element-id="609678"><code data-claire-semantic="html+php">&lt;p&gt;Par &lt;em&gt;&lt;?php echo $news['auteur']; ?&gt;&lt;/em&gt;, le &lt;?php echo $news['dateAjout']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/p&gt;
&lt;h2&gt;&lt;?php echo $news['titre']; ?&gt;&lt;/h2&gt;
&lt;p&gt;&lt;?php echo nl2br($news['contenu']); ?&gt;&lt;/p&gt;

&lt;?php if ($news['dateAjout'] != $news['dateModif']) { ?&gt;
  &lt;p style=&quot;text-align: right;&quot;&gt;&lt;small&gt;&lt;em&gt;Modifiée le &lt;?php echo $news['dateModif']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
&lt;?php } ?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;

&lt;?php
if (empty($comments))
{
?&gt;
&lt;p&gt;Aucun commentaire n'a encore été posté. Soyez le premier à en laisser un !&lt;/p&gt;
&lt;?php
}

foreach ($comments as $comment)
{
?&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;
      Posté par &lt;strong&gt;&lt;?php echo htmlspecialchars($comment['auteur']); ?&gt;&lt;/strong&gt; le &lt;?php echo $comment['date']-&gt;format('d/m/Y à H\hi'); ?&gt;
    &lt;/legend&gt;
    &lt;p&gt;&lt;?php echo nl2br(htmlspecialchars($comment['contenu'])); ?&gt;&lt;/p&gt;
  &lt;/fieldset&gt;
&lt;?php
}
?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;</code></pre><h6 id="r-modification-du-manager-des-commentaires" data-claire-element-id="609683">Modification du manager des commentaires</h6><p id="r-609680" data-claire-element-id="609680">Le manager des commentaires devra implémenter la méthode <code>getListOf()</code> dont a besoin notre contrôleur pour bien fonctionner. Voici la version que je vous propose :</p><pre id="r-609681" data-claire-element-id="609681"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\Comment;

abstract class CommentsManager extends \Library\Manager
{
  /**
   * Méthode permettant d'ajouter un commentaire.
   * @param $comment Le commentaire à ajouter
   * @return void
   */
  abstract protected function add(Comment $comment);
  
  /**
   * Méthode permettant d'enregistrer un commentaire.
   * @param $comment Le commentaire à enregistrer
   * @return void
   */
  public function save(Comment $comment)
  {
    if ($comment-&gt;isValid())
    {
      $comment-&gt;isNew() ? $this-&gt;add($comment) : $this-&gt;modify($comment);
    }
    else
    {
      throw new \RuntimeException('Le commentaire doit être validé pour être enregistré');
    }
  }
  
  /**
   * Méthode permettant de récupérer une liste de commentaires.
   * @param $news La news sur laquelle on veut récupérer les commentaires
   * @return array
   */
  abstract public function getListOf($news);
}</code></pre><pre id="r-609682" data-claire-element-id="609682"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\Comment;

class CommentsManager_PDO extends CommentsManager
{
  protected function add(Comment $comment)
  {
    $q = $this-&gt;dao-&gt;prepare('INSERT INTO comments SET news = :news, auteur = :auteur, contenu = :contenu, date = NOW()');
    
    $q-&gt;bindValue(':news', $comment-&gt;news(), \PDO::PARAM_INT);
    $q-&gt;bindValue(':auteur', $comment-&gt;auteur());
    $q-&gt;bindValue(':contenu', $comment-&gt;contenu());
    
    $q-&gt;execute();
    
    $comment-&gt;setId($this-&gt;dao-&gt;lastInsertId());
  }
  
  public function getListOf($news)
  {
    if (!ctype_digit($news))
    {
      throw new \InvalidArgumentException('L\'identifiant de la news passé doit être un nombre entier valide');
    }
    
    $q = $this-&gt;dao-&gt;prepare('SELECT id, news, auteur, contenu, date FROM comments WHERE news = :news');
    $q-&gt;bindValue(':news', $news, \PDO::PARAM_INT);
    $q-&gt;execute();
    
    $q-&gt;setFetchMode(\PDO::FETCH_CLASS | \PDO::FETCH_PROPS_LATE, '\Library\Entities\Comment');
    
    $comments = $q-&gt;fetchAll();
    
    foreach ($comments as $comment)
    {
      $comment-&gt;setDate(new \DateTime($comment-&gt;date()));
    }
    
    return $comments;
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
<span class="arrow"></span>
<span class="next">Le module de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">
<span class="next">Le backend</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lebackend"></a><h2>Le backend</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
<span class="arrow"></span>
<span class="next">Ajoutons des commentaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
<span class="next">L&#039;application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609687" data-claire-element-id="609687">Notre application est composée d'un système de news avec commentaires. Or, nous ne pouvons actuellement pas ajouter de news, ni modérer les commentaires. Pour ce faire, nous allons créer un espace d'administration, qui n'est autre ici que le <strong>backend</strong>. Cet espace d'administration sera ainsi composé d'un système de gestion de news (ajout, modification et suppression) ainsi que d'un système de gestion de commentaires (modification et suppression).</p><p id="r-609688" data-claire-element-id="609688">Ayant déjà créé le <em>frontend</em>, ce chapitre devrait être plus facile pour vous. Néanmoins, une nouveauté fait son apparition : celle d'interdire le contenu de l'application aux visiteurs. Ne traînons donc pas, nous avons pas mal de travail qui nous attend !</p>
</div><a name="L039application"></a><h2>L&#039;application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">
<span class="arrow"></span>
<span class="next">Le backend</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
<span class="next">Le module de connexion</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-application-5" data-claire-element-id="609740">L'application</h4><p id="r-609689" data-claire-element-id="609689">Comme pour l'application <em>Frontend</em>, nous aurons besoin de créer les fichiers de base : la classe représentant l'application, le layout, les deux fichiers de configuration et le fichier qui instanciera notre classe. Assurez-vous également d'avoir créé le dossier <strong>/Applications/Backend</strong>.</p><h5 id="r-la-classe-backendapplication" data-claire-element-id="609723">La classe <code>BackendApplication</code></h5><p id="r-609690" data-claire-element-id="609690">Cette classe ne sera pas strictement identique à la classe <code>FrontendApplication</code>. En effet, nous devons <strong>sécuriser</strong> l'application afin que seuls les utilisateurs authentifiés y aient accès.</p><p id="r-609691" data-claire-element-id="609691">Pour rappel, voici le fonctionnement de la méthode <code>run()</code> de la classe <strong>FrontendApplication</strong> :</p><ul id="r-609700" data-claire-element-id="609700"><li id="r-609693" data-claire-element-id="609693"><p id="r-609692" data-claire-element-id="609692">Obtention du contrôleur grâce à la méthode parente <code>getController()</code>.</p></li><li id="r-609695" data-claire-element-id="609695"><p id="r-609694" data-claire-element-id="609694">Exécution du contrôleur.</p></li><li id="r-609697" data-claire-element-id="609697"><p id="r-609696" data-claire-element-id="609696">Assignation de la page créée par le contrôleur à la réponse.</p></li><li id="r-609699" data-claire-element-id="609699"><p id="r-609698" data-claire-element-id="609698">Envoi de la réponse.</p></li></ul><p id="r-609701" data-claire-element-id="609701">La classe <code>BackendApplication</code> fonctionnera de la même façon, à la différence près que la première instruction ne sera exécutée que si l'utilisateur est authentifié. Sinon, nous allons récupérer le contrôleur du module de connexion que nous allons créer dans ce chapitre. Voici donc le fonctionnement de la méthode <code>run()</code> de la classe <code>BackendApplication</code> :</p><ul id="r-609718" data-claire-element-id="609718"><li id="r-609706" data-claire-element-id="609706"><p id="r-609702" data-claire-element-id="609702">Si l'utilisateur est authentifié :</p><ul id="r-609705" data-claire-element-id="609705"><li id="r-609704" data-claire-element-id="609704"><p id="r-609703" data-claire-element-id="609703">obtention du contrôleur grâce à la méthode parente <code>getController()</code>.</p></li></ul></li><li id="r-609711" data-claire-element-id="609711"><p id="r-609707" data-claire-element-id="609707">Sinon :</p><ul id="r-609710" data-claire-element-id="609710"><li id="r-609709" data-claire-element-id="609709"><p id="r-609708" data-claire-element-id="609708">instanciation du contrôleur du module de connexion.</p></li></ul></li><li id="r-609713" data-claire-element-id="609713"><p id="r-609712" data-claire-element-id="609712">Exécution du contrôleur.</p></li><li id="r-609715" data-claire-element-id="609715"><p id="r-609714" data-claire-element-id="609714">Assignation de la page créée par le contrôleur à la réponse.</p></li><li id="r-609717" data-claire-element-id="609717"><p id="r-609716" data-claire-element-id="609716">Envoi de la réponse.</p></li></ul><aside id="r-609720" data-claire-element-id="609720" data-claire-semantic="information"><p id="r-609719" data-claire-element-id="609719"><strong>Aide</strong> : nous avons un attribut <code>$user</code> dans notre classe qui représente l'utilisateur. Regardez les méthodes que nous lui avons implémentées si vous ne savez pas comment on peut savoir s'il est authentifié ou non. ;) <br/><strong>Rappel</strong> : n'oubliez pas d'inclure l'autoload au début du fichier !</p></aside><p id="r-609721" data-claire-element-id="609721">Vous devriez avoir une classe de ce type :</p><pre id="r-609722" data-claire-element-id="609722"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend;

class BackendApplication extends \Library\Application
{
  public function __construct()
  {
    parent::__construct();
    
    $this-&gt;name = 'Backend';
  }
  
  public function run()
  {
    if ($this-&gt;user-&gt;isAuthenticated())
    {
      $controller = $this-&gt;getController();
    }
    else
    {
      $controller = new Modules\Connexion\ConnexionController($this, 'Connexion', 'index');
    }
    
    $controller-&gt;execute();
    
    $this-&gt;httpResponse-&gt;setPage($controller-&gt;page());
    $this-&gt;httpResponse-&gt;send();
  }
}</code></pre><h5 id="r-le-layout-3" data-claire-element-id="609726">Le layout</h5><p id="r-609724" data-claire-element-id="609724">Le layout est le même que celui du <em>frontend</em>. Sachez qu'en pratique, cela est rare et vous aurez généralement deux layouts différents (chaque application a ses spécificités). Cependant, ici il n'est pas nécessaire de faire deux fichiers différents. Vous pouvez donc soit copier/coller le layout du frontend dans le dossier <strong>/Applications/Backend/Templates</strong>, soit créer le layout et inclure celui du frontend :</p><pre id="r-609725" data-claire-element-id="609725"><code data-claire-semantic="html+php">&lt;?php require dirname(__FILE__).'/../../Frontend/Templates/layout.php';</code></pre><h5 id="r-les-deux-fichiers-de-configuration-1" data-claire-element-id="609730">Les deux fichiers de configuration</h5><p id="r-609727" data-claire-element-id="609727">Là aussi il faut créer les deux fichiers de configuration. Mettez-y, comme nous l'avons fait au précédent chapitre, les structures de base.</p><pre id="r-609728" data-claire-element-id="609728"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;definitions&gt;
&lt;/definitions&gt;</code></pre><pre id="r-609729" data-claire-element-id="609729"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;iso-8859-1&quot; ?&gt;
&lt;routes&gt;
&lt;/routes&gt;</code></pre><h5 id="r-l-instanciation-de-backendapplication" data-claire-element-id="609735">L'instanciation de <code>BackendApplication</code></h5><p id="r-609731" data-claire-element-id="609731">L'instanciation de <code>BackendApplication</code> se fera dans le fichier <strong>/Web/backend.php</strong>, comme nous avons procédé pour l'instanciation de <code>FrontendApplication</code>.</p><aside id="r-609733" data-claire-element-id="609733" data-claire-semantic="information"><p id="r-609732" data-claire-element-id="609732"><strong>Rappel</strong> : pensez à inclure l'autoload avant d'instancier la classe <code>BackendApplication</code> !</p></aside><pre id="r-609734" data-claire-element-id="609734"><code data-claire-semantic="html+php">&lt;?php
require '../Library/autoload.php';

$app = new Applications\Backend\BackendApplication;
$app-&gt;run();</code></pre><h5 id="r-reecrire-les-url" data-claire-element-id="609739">Réécrire les URL</h5><p id="r-609736" data-claire-element-id="609736">Nous allons maintenant modifier le fichier .htaccess. Actuellement, toutes les URL sont redirigées vers <strong>frontend.php</strong>. Nous garderons toujours cette règle, mais nous allons d'abord en ajouter une autre : nous allons rediriger toutes les URL commençant par <strong>admin/</strong> vers <strong>backend.php</strong>. Vous êtes libres de choisir un autre préfixe, mais il faut bien choisir quelque chose pour sélectionner l'application concernée par l'URL.</p><p id="r-609737" data-claire-element-id="609737">Le .htaccess ressemble donc à ceci :</p><pre id="r-609738" data-claire-element-id="609738"><code data-claire-semantic="apache">RewriteEngine On

RewriteRule ^admin/ backend.php [QSA,L]

RewriteCond %{REQUEST_FILENAME} !-f

RewriteRule ^(.*)$ frontend.php [QSA,L]</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">
<span class="arrow"></span>
<span class="next">Le backend</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
<span class="next">Le module de connexion</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemoduledeconnexion"></a><h2>Le module de connexion</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
<span class="next">Le module de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-module-de-connexion" data-claire-element-id="609752">Le module de connexion</h4><p id="r-609741" data-claire-element-id="609741">Ce module est un peu particulier. En effet, aucune route ne sera définie pour pointer vers ce module. De plus, ce module ne nécessite aucun stockage de données, nous n'aurons donc pas de modèle. La seule fonctionnalité attendue du module est d'afficher son index. Cet index aura pour rôle d'afficher le formulaire de connexion et de traiter les données de ce formulaire.</p><p id="r-609742" data-claire-element-id="609742">Avant de commencer à construire le module, nous allons préparer le terrain. Où stocker l'identifiant et le mot de passe permettant d'accéder à l'application ? Je vous propose tout simplement d'ajouter deux définitions dans le fichier de configuration de l'application :</p><pre id="r-609743" data-claire-element-id="609743"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;definitions&gt;
  &lt;define var=&quot;login&quot; value=&quot;admin&quot; /&gt;
  &lt;define var=&quot;pass&quot; value=&quot;mdp&quot; /&gt;
&lt;/definitions&gt;</code></pre><p id="r-609744" data-claire-element-id="609744">Vous pouvez maintenant, si ce n'est pas déjà fait, créer le dossier <strong>/Applications/Backend/Modules/Connexion</strong>.</p><h5 id="r-la-vue-6" data-claire-element-id="609747">La vue</h5><p id="r-609745" data-claire-element-id="609745">Nous allons débuter par créer la vue correspondant à l'index du module. Ce sera un simple formulaire demandant le nom d'utilisateur et le mot de passe à l'internaute :</p><pre id="r-609746" data-claire-element-id="609746"><code data-claire-semantic="html+php">&lt;h2&gt;Connexion&lt;/h2&gt;

&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;label&gt;Pseudo&lt;/label&gt;
  &lt;input type=&quot;text&quot; name=&quot;login&quot; /&gt;&lt;br /&gt;
  
  &lt;label&gt;Mot de passe&lt;/label&gt;
  &lt;input type=&quot;password&quot; name=&quot;password&quot; /&gt;&lt;br /&gt;&lt;br /&gt;
  
  &lt;input type=&quot;submit&quot; value=&quot;Connexion&quot; /&gt;
&lt;/form&gt;</code></pre><h5 id="r-le-controleur-7" data-claire-element-id="609751">Le contrôleur</h5><p id="r-609748" data-claire-element-id="609748">Procédons maintenant à l'élaboration du contrôleur. Ce contrôleur implémentera une seule méthode : <code>executeIndex()</code>. Cette méthode devra, si le formulaire a été envoyé, vérifier si le pseudo et le mot de passe entrés sont corrects. Si c'est le cas, l'utilisateur est authentifié, sinon un message d'erreur s'affiche.</p><pre id="r-609749" data-claire-element-id="609749"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\Connexion;

class ConnexionController extends \Library\BackController
{
  public function executeIndex(\Library\HTTPRequest $request)
  {
    $this-&gt;page-&gt;addVar('title', 'Connexion');
    
    if ($request-&gt;postExists('login'))
    {
      $login = $request-&gt;postData('login');
      $password = $request-&gt;postData('password');
      
      if ($login == $this-&gt;app-&gt;config()-&gt;get('login') &amp;&amp; $password == $this-&gt;app-&gt;config()-&gt;get('pass'))
      {
        $this-&gt;app-&gt;user()-&gt;setAuthenticated(true);
        $this-&gt;app-&gt;httpResponse()-&gt;redirect('.');
      }
      else
      {
        $this-&gt;app-&gt;user()-&gt;setFlash('Le pseudo ou le mot de passe est incorrect.');
      }
    }
  }
}</code></pre><p id="r-609750" data-claire-element-id="609750">Ce fut court, mais essentiel. Nous venons de sécuriser en un rien de temps l'application toute entière. De plus, ce module est réutilisable dans d'autres projets ! En effet, rien ne le lie à cette application. À partir du moment où l'application aura un fichier de configuration adapté (c'est-à-dire qu'il a déclaré les variables <code>login</code> et <code>pass</code>), alors elle pourra s'en servir. ;)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
<span class="arrow"></span>
<span class="next">L&#039;application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
<span class="next">Le module de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemoduledenews"></a><h2>Le module de news</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
<span class="arrow"></span>
<span class="next">Le module de connexion</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
<span class="next">N&#039;oublions pas les commentaires !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-module-de-news-1" data-claire-element-id="609824">Le module de news</h4><p id="r-609753" data-claire-element-id="609753">Nous allons maintenant attaquer le module de news sur notre application. Comme d'habitude, nous commençons par la liste des fonctionnalités attendues.</p><h5 id="r-fonctionnalites-3" data-claire-element-id="609764">Fonctionnalités</h5><p id="r-609754" data-claire-element-id="609754">Ce module doit nous permettre de gérer le contenu de la base de données. Par conséquent, nous devons avoir quatre actions :</p><ul id="r-609763" data-claire-element-id="609763"><li id="r-609756" data-claire-element-id="609756"><p id="r-609755" data-claire-element-id="609755">L'action <strong>index</strong> qui nous affiche la liste des news avec des liens pour les modifier ou supprimer.</p></li><li id="r-609758" data-claire-element-id="609758"><p id="r-609757" data-claire-element-id="609757">L'action <strong>insert</strong> pour ajouter une news.</p></li><li id="r-609760" data-claire-element-id="609760"><p id="r-609759" data-claire-element-id="609759">L'action <strong>update</strong> pour modifier une news.</p></li><li id="r-609762" data-claire-element-id="609762"><p id="r-609761" data-claire-element-id="609761">L'action <strong>delete</strong> pour supprimer une news.</p></li></ul><h5 id="r-l-action-index-1" data-claire-element-id="609779">L'action <em>index</em></h5><h6 id="r-la-route-3" data-claire-element-id="609767">La route</h6><p id="r-609765" data-claire-element-id="609765">Tout d'abord, définissons l'URL qui pointera vers cette action. Je vous propose tout simplement que ce soit l'accueil de l'espace d'administration :</p><pre id="r-609766" data-claire-element-id="609766"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-8" data-claire-element-id="609771">Le contrôleur</h6><p id="r-609768" data-claire-element-id="609768">Le contrôleur se chargera uniquement de passer la liste des news à la vue ainsi que le nombre de news présent. Le contenu de la méthode est donc assez simple :</p><pre id="r-609769" data-claire-element-id="609769"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  public function executeIndex(\Library\HTTPRequest $request)
  {
    $this-&gt;page-&gt;addVar('title', 'Gestion des news');
    
    $manager = $this-&gt;managers-&gt;getManagerOf('News');
    
    $this-&gt;page-&gt;addVar('listeNews', $manager-&gt;getList());
    $this-&gt;page-&gt;addVar('nombreNews', $manager-&gt;count());
  }
}</code></pre><p id="r-609770" data-claire-element-id="609770">Comme vous le voyez, nous nous resservons de la méthode <code>getList()</code> que nous avions implémentée au cours du précédent chapitre au cours de la construction du <em>frontend</em>. Cependant, il nous reste à implémenter une méthode dans notre manager : <code>count()</code>.</p><h6 id="r-le-modele-6" data-claire-element-id="609775">Le modèle</h6><p id="r-609772" data-claire-element-id="609772">La méthode <code>count()</code> est très simple : elle ne fait qu'exécuter une requête pour renvoyer le résultat.</p><pre id="r-609773" data-claire-element-id="609773"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

abstract class NewsManager extends \Library\Manager
{
  /**
   * Méthode renvoyant le nombre de news total.
   * @return int
   */
  abstract public function count();
  
  // ...
}</code></pre><pre id="r-609774" data-claire-element-id="609774"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

class NewsManager_PDO extends NewsManager
{
  public function count()
  {
    return $this-&gt;dao-&gt;query('SELECT COUNT(*) FROM news')-&gt;fetchColumn();
  }
  
  // ...
}</code></pre><h6 id="r-la-vue-7" data-claire-element-id="609778">La vue</h6><p id="r-609776" data-claire-element-id="609776">La vue se contente de parcourir le tableau de news pour en afficher les données. Faites dans la simplicité. ;)</p><pre id="r-609777" data-claire-element-id="609777"><code data-claire-semantic="html+php">&lt;p style=&quot;text-align: center&quot;&gt;Il y a actuellement &lt;?php echo $nombreNews; ?&gt; news. En voici la liste :&lt;/p&gt;

&lt;table&gt;
  &lt;tr&gt;&lt;th&gt;Auteur&lt;/th&gt;&lt;th&gt;Titre&lt;/th&gt;&lt;th&gt;Date d'ajout&lt;/th&gt;&lt;th&gt;Dernière modification&lt;/th&gt;&lt;th&gt;Action&lt;/th&gt;&lt;/tr&gt;
&lt;?php
foreach ($listeNews as $news)
{
  echo '&lt;tr&gt;&lt;td&gt;', $news['auteur'], '&lt;/td&gt;&lt;td&gt;', $news['titre'], '&lt;/td&gt;&lt;td&gt;le ', $news['dateAjout']-&gt;format('d/m/Y à H\hi'), '&lt;/td&gt;&lt;td&gt;', ($news['dateAjout'] == $news['dateModif'] ? '-' : 'le '.$news['dateModif']-&gt;format('d/m/Y à H\hi')), '&lt;/td&gt;&lt;td&gt;&lt;a href=&quot;news-update-', $news['id'], '.html&quot;&gt;&lt;img src=&quot;/images/update.png&quot; alt=&quot;Modifier&quot; /&gt;&lt;/a&gt; &lt;a href=&quot;news-delete-', $news['id'], '.html&quot;&gt;&lt;img src=&quot;/images/delete.png&quot; alt=&quot;Supprimer&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;', &quot;\n&quot;;
}
?&gt;
&lt;/table&gt;</code></pre><h5 id="r-l-action-insert" data-claire-element-id="609798">L'action <em>insert</em></h5><h6 id="r-la-route-4" data-claire-element-id="609782">La route</h6><p id="r-609780" data-claire-element-id="609780">Je vous propose que l'URL qui pointera vers cette action soit <strong>/admin/news-insert.html</strong>. Je pense que maintenant vous savez comment définir une route, mais je remets le fichier pour que tout le monde suive bien :</p><pre id="r-609781" data-claire-element-id="609781"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/admin/news-insert\.html&quot; module=&quot;News&quot; action=&quot;insert&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-9" data-claire-element-id="609787">Le contrôleur</h6><p id="r-609783" data-claire-element-id="609783">Le contrôleur vérifie si le formulaire a été envoyé. Si c'est le cas, alors il procédera à la vérification des données et insérera la news en BDD si tout est valide. Cependant, il y a un petit problème : lorsque nous implémenterons l'action <em>update</em>, nous allons devoir réécrire la partie « traitement du formulaire » car la validation des données suit la même logique. Nous allons donc créer une autre méthode au sein du contrôleur, nommée <code>processForm()</code>, qui se chargera de traiter le formulaire et d'enregistrer la news en BDD.</p><aside id="r-609785" data-claire-element-id="609785" data-claire-semantic="information"><p id="r-609784" data-claire-element-id="609784"><strong>Rappel</strong> : le manager contient une méthode <code>save()</code> qui se chargera soit d'ajouter la news si elle est nouvelle, soit de la mettre à jour si elle est déjà enregistrée. C'est cette méthode que vous devez invoquer.</p></aside><pre id="r-609786" data-claire-element-id="609786"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeInsert(\Library\HTTPRequest $request)
  {
    if ($request-&gt;postExists('auteur'))
    {
      $this-&gt;processForm($request);
    }
    
    $this-&gt;page-&gt;addVar('title', 'Ajout d\'une news');
  }
  
  public function processForm(\Library\HTTPRequest $request)
  {
    $news = new \Library\Entities\News(
      array(
        'auteur' =&gt; $request-&gt;postData('auteur'),
        'titre' =&gt; $request-&gt;postData('titre'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      )
    );
    
    // L'identifiant de la news est transmis si on veut la modifier.
    if ($request-&gt;postExists('id'))
    {
      $news-&gt;setId($request-&gt;postData('id'));
    }
    
    if ($news-&gt;isValid())
    {
      $this-&gt;managers-&gt;getManagerOf('News')-&gt;save($news);
      
      $this-&gt;app-&gt;user()-&gt;setFlash($news-&gt;isNew() ? 'La news a bien été ajoutée !' : 'La news a bien été modifiée !');
    }
    else
    {
      $this-&gt;page-&gt;addVar('erreurs', $news-&gt;erreurs());
    }
    
    $this-&gt;page-&gt;addVar('news', $news);
  }
}</code></pre><h6 id="r-le-modele-7" data-claire-element-id="609793">Le modèle</h6><p id="r-609788" data-claire-element-id="609788">Nous allons implémenter les méthodes <code>save()</code> et <code>add()</code> dans notre manager afin que notre contrôleur puisse être fonctionnel.</p><aside id="r-609790" data-claire-element-id="609790" data-claire-semantic="information"><p id="r-609789" data-claire-element-id="609789"><strong>Rappel</strong> : la méthode save() s'implémente directement dans <code>NewsManager</code> puisqu'elle ne dépend pas du DAO.</p></aside><pre id="r-609791" data-claire-element-id="609791"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\News;

abstract class NewsManager extends \Library\Manager
{
  /**
   * Méthode permettant d'ajouter une news.
   * @param $news News La news à ajouter
   * @return void
   */
  abstract protected function add(News $news);
  
  /**
   * Méthode permettant d'enregistrer une news.
   * @param $news News la news à enregistrer
   * @see self::add()
   * @see self::modify()
   * @return void
   */
  public function save(News $news)
  {
    if ($news-&gt;isValid())
    {
      $news-&gt;isNew() ? $this-&gt;add($news) : $this-&gt;modify($news);
    }
    else
    {
      throw new \RuntimeException('La news doit être validée pour être enregistrée');
    }
  }
  
  // ...
}</code></pre><pre id="r-609792" data-claire-element-id="609792"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\News;

class NewsManager_PDO extends NewsManager
{
  protected function add(News $news)
  {
    $requete = $this-&gt;dao-&gt;prepare('INSERT INTO news SET auteur = :auteur, titre = :titre, contenu = :contenu, dateAjout = NOW(), dateModif = NOW()');
    
    $requete-&gt;bindValue(':titre', $news-&gt;titre());
    $requete-&gt;bindValue(':auteur', $news-&gt;auteur());
    $requete-&gt;bindValue(':contenu', $news-&gt;contenu());
    
    $requete-&gt;execute();
  }
  
  // ...
}</code></pre><h6 id="r-la-vue-8" data-claire-element-id="609797">La vue</h6><p id="r-609794" data-claire-element-id="609794">Là aussi, nous utiliserons de la duplication de code pour afficher le formulaire. En effet, la vue correspondant à l'action <em>update</em> devra également afficher ce formulaire. Nous allons donc créer un fichier qui contiendra ce formulaire et qui sera inclus au sein des vues. Je vous propose de l'appeler <strong>_form.php</strong> (le <strong>_</strong> est ici utilisé pour bien indiquer qu'il ne s'agit pas d'une vue mais d'un élément à inclure).</p><pre id="r-609795" data-claire-element-id="609795"><code data-claire-semantic="html+php">&lt;h2&gt;Ajouter une news&lt;/h2&gt;
&lt;?php require '_form.php';</code></pre><pre id="r-609796" data-claire-element-id="609796"><code data-claire-semantic="html+php">&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;p&gt;
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\News::AUTEUR_INVALIDE, $erreurs)) echo 'L\'auteur est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Auteur&lt;/label&gt;
    &lt;input type=&quot;text&quot; name=&quot;auteur&quot; value=&quot;&lt;?php if (isset($news)) echo $news['auteur']; ?&gt;&quot; /&gt;&lt;br /&gt;
    
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\News::TITRE_INVALIDE, $erreurs)) echo 'Le titre est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Titre&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;titre&quot; value=&quot;&lt;?php if (isset($news)) echo $news['titre']; ?&gt;&quot; /&gt;&lt;br /&gt;
    
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\News::CONTENU_INVALIDE, $erreurs)) echo 'Le contenu est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Contenu&lt;/label&gt;&lt;textarea rows=&quot;8&quot; cols=&quot;60&quot; name=&quot;contenu&quot;&gt;&lt;?php if (isset($news)) echo $news['contenu']; ?&gt;&lt;/textarea&gt;&lt;br /&gt;
&lt;?php
if(isset($news) &amp;&amp; !$news-&gt;isNew())
{
?&gt;
    &lt;input type=&quot;hidden&quot; name=&quot;id&quot; value=&quot;&lt;?php echo $news['id']; ?&gt;&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Modifier&quot; name=&quot;modifier&quot; /&gt;
&lt;?php
}
else
{
?&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Ajouter&quot; /&gt;
&lt;?php
}
?&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre><h5 id="r-l-action-update" data-claire-element-id="609812">L'action <em>update</em></h5><h6 id="r-la-route-5" data-claire-element-id="609801">La route</h6><p id="r-609799" data-claire-element-id="609799">Pas d'originalité ici, nous allons choisir une URL basique : <strong>/admin/news-update-<em>id</em>.html</strong>.</p><pre id="r-609800" data-claire-element-id="609800"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/admin/news-insert\.html&quot; module=&quot;News&quot; action=&quot;insert&quot; /&gt;
  &lt;route url=&quot;/admin/news-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;update&quot; vars=&quot;id&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-10" data-claire-element-id="609804">Le contrôleur</h6><p id="r-609802" data-claire-element-id="609802">La méthode <code>executeUpdate()</code> est quasiment identique à <code>executeInsert()</code>. La seule différence est qu'il faut passer la news à la vue si le formulaire n'a pas été envoyé.</p><pre id="r-609803" data-claire-element-id="609803"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeUpdate(\Library\HTTPRequest $request)
  {
    if ($request-&gt;postExists('auteur'))
    {
      $this-&gt;processForm($request);
    }
    else
    {
      $this-&gt;page-&gt;addVar('news', $this-&gt;managers-&gt;getManagerOf('News')-&gt;getUnique($request-&gt;getData('id')));
    }
    
    $this-&gt;page-&gt;addVar('title', 'Modification d\'une news');
  }
  
  // ...
}</code></pre><h6 id="r-le-modele-8" data-claire-element-id="609808">Le modèle</h6><p id="r-609805" data-claire-element-id="609805">Ce code fait appel à deux méthodes : <code>getUnique()</code> et <code>modify()</code>. La première a déjà été implémentée au cours du précédent chapitre et la seconde avait volontairement été laissée de côté. Il est maintenant temps de l'implémenter.</p><pre id="r-609806" data-claire-element-id="609806"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\News;

abstract class NewsManager extends \Library\Manager
{
  // ...
  
  /**
   * Méthode permettant de modifier une news.
   * @param $news news la news à modifier
   * @return void
   */
  abstract protected function modify(News $news);
  
  // ...
}</code></pre><pre id="r-609807" data-claire-element-id="609807"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\News;

class NewsManager_PDO extends NewsManager
{
  // ...
  
  protected function modify(News $news)
  {
    $requete = $this-&gt;dao-&gt;prepare('UPDATE news SET auteur = :auteur, titre = :titre, contenu = :contenu, dateModif = NOW() WHERE id = :id');
    
    $requete-&gt;bindValue(':titre', $news-&gt;titre());
    $requete-&gt;bindValue(':auteur', $news-&gt;auteur());
    $requete-&gt;bindValue(':contenu', $news-&gt;contenu());
    $requete-&gt;bindValue(':id', $news-&gt;id(), \PDO::PARAM_INT);
    
    $requete-&gt;execute();
  }
  
  // ...
}</code></pre><h6 id="r-la-vue-9" data-claire-element-id="609811">La vue</h6><p id="r-609809" data-claire-element-id="609809">De la même façon que pour l'action <em>insert</em>, ce procédé tient en deux lignes : il s'agit seulement d'inclure le formulaire, c'est tout !</p><pre id="r-609810" data-claire-element-id="609810"><code data-claire-semantic="html+php">&lt;h2&gt;Modifier une news&lt;/h2&gt;
&lt;?php require '_form.php';</code></pre><h5 id="r-l-action-delete" data-claire-element-id="609823">L'action <em>delete</em></h5><h6 id="r-la-route-6" data-claire-element-id="609815">La route</h6><p id="r-609813" data-claire-element-id="609813">Pour continuer dans l'originalité, l'URL qui pointera vers cette action sera du type <strong>/admin/news-delete-<em>id</em>.html</strong>.</p><pre id="r-609814" data-claire-element-id="609814"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/admin/news-insert\.html&quot; module=&quot;News&quot; action=&quot;insert&quot; /&gt;
  &lt;route url=&quot;/admin/news-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;update&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/news-delete-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;delete&quot; vars=&quot;id&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-11" data-claire-element-id="609818">Le contrôleur</h6><p id="r-609816" data-claire-element-id="609816">Le contrôleur se chargera d'invoquer la méthode du manager qui supprimera la news. Ensuite, il redirigera l'utilisateur à l'accueil de l'espace d'administration en ayant pris soin de spécifier un message qui s'affichera au prochain chargement de page. Ainsi, cette action ne possèdera aucune vue.</p><pre id="r-609817" data-claire-element-id="609817"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeDelete(\Library\HTTPRequest $request)
  {
    $this-&gt;managers-&gt;getManagerOf('News')-&gt;delete($request-&gt;getData('id'));
    
    $this-&gt;app-&gt;user()-&gt;setFlash('La news a bien été supprimée !');
    
    $this-&gt;app-&gt;httpResponse()-&gt;redirect('.');
  }
  
  // ...
}</code></pre><h6 id="r-le-modele-9" data-claire-element-id="609822">Le modèle</h6><p id="r-609819" data-claire-element-id="609819">Ici, une simple requête de type <code data-claire-semantic="sql">DELETE</code> suffit.</p><pre id="r-609820" data-claire-element-id="609820"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\News;

abstract class NewsManager extends \Library\Manager
{
  // ...
  
  /**
   * Méthode permettant de supprimer une news.
   * @param $id int L'identifiant de la news à supprimer
   * @return void
   */
  abstract public function delete($id);
  
  // ...
}</code></pre><pre id="r-609821" data-claire-element-id="609821"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\News;

class NewsManager_PDO extends NewsManager
{
  // ...
  
  public function delete($id)
  {
    $this-&gt;dao-&gt;exec('DELETE FROM news WHERE id = '.(int) $id);
  }
  
  // ...
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
<span class="arrow"></span>
<span class="next">Le module de connexion</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
<span class="next">N&#039;oublions pas les commentaires !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="N039oublionspaslescommentaires"></a><h2>N&#039;oublions pas les commentaires !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
<span class="arrow"></span>
<span class="next">Le module de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">
<span class="next">Gérer les formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-n-oublions-pas-les-commentaires" data-claire-element-id="609867">N'oublions pas les commentaires !</h4><p id="r-609825" data-claire-element-id="609825">Finissons de construire notre application en implémentant les dernières fonctionnalités permettant de gérer les commentaires.</p><h5 id="r-fonctionnalites-4" data-claire-element-id="609832">Fonctionnalités</h5><p id="r-609826" data-claire-element-id="609826">Nous allons faire simple et implémenter deux fonctionnalités :</p><ul id="r-609831" data-claire-element-id="609831"><li id="r-609828" data-claire-element-id="609828"><p id="r-609827" data-claire-element-id="609827">La <strong>modification</strong> de commentaires.</p></li><li id="r-609830" data-claire-element-id="609830"><p id="r-609829" data-claire-element-id="609829">La <strong>suppression</strong> de commentaires.</p></li></ul><h5 id="r-l-action-updatecomment" data-claire-element-id="609851">L'action <em>updateComment</em></h5><h6 id="r-la-route-7" data-claire-element-id="609835">La route</h6><p id="r-609833" data-claire-element-id="609833">Commençons, comme d'habitude, par définir l'URL qui pointera vers ce module. Je vous propose quelque chose de simple comme <strong>/admin/comments-update-<em>id</em>.html</strong>.</p><pre id="r-609834" data-claire-element-id="609834"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/admin/news-insert\.html&quot; module=&quot;News&quot; action=&quot;insert&quot; /&gt;
  &lt;route url=&quot;/admin/news-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;update&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/news-delete-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;delete&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/comment-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;updateComment&quot; vars=&quot;id&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-12" data-claire-element-id="609840">Le contrôleur</h6><p id="r-609836" data-claire-element-id="609836">La méthode que l'on implémentera aura pour rôle de contrôler les valeurs du formulaire et de modifier le commentaire en BDD si tout est valide. Vous devriez avoir quelque chose de semblable à ce que nous avons dans l'application <em>Frontend</em>. Il faudra ensuite rediriger l'utilisateur sur la news qu'il lisait.</p><aside id="r-609838" data-claire-element-id="609838" data-claire-semantic="information"><p id="r-609837" data-claire-element-id="609837"><strong>Aide</strong> : pour rediriger l'utilisateur sur la news, il va falloir obtenir l'identifiant de cette dernière. Il faudra donc ajouter un champ caché dans le formulaire pour transmettre ce paramètre.</p></aside><pre id="r-609839" data-claire-element-id="609839"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeUpdateComment(\Library\HTTPRequest $request)
  {
    $this-&gt;page-&gt;addVar('title', 'Modification d\'un commentaire');
    
    if ($request-&gt;postExists('pseudo'))
    {
      $comment = new \Library\Entities\Comment(array(
        'id' =&gt; $request-&gt;getData('id'),
        'auteur' =&gt; $request-&gt;postData('pseudo'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      ));
      
      if ($comment-&gt;isValid())
      {
        $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;save($comment);
        
        $this-&gt;app-&gt;user()-&gt;setFlash('Le commentaire a bien été modifié !');
        
        $this-&gt;app-&gt;httpResponse()-&gt;redirect('/news-'.$request-&gt;postData('news').'.html');
      }
      else
      {
        $this-&gt;page-&gt;addVar('erreurs', $comment-&gt;erreurs());
      }
      
      $this-&gt;page-&gt;addVar('comment', $comment);
    }
    else
    {
      $this-&gt;page-&gt;addVar('comment', $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;get($request-&gt;getData('id')));
    }
  }
  
  // ...
}</code></pre><h6 id="r-le-modele-10" data-claire-element-id="609844">Le modèle</h6><p id="r-609841" data-claire-element-id="609841">Nous avons ici besoin d'implémenter deux méthodes : <code>modify()</code> et <code>get()</code>. La première se contente d'exécuter une requête de type <code>UPDATE</code> et la seconde une requête de type <code>SELECT</code>.</p><pre id="r-609842" data-claire-element-id="609842"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
  
use \Library\Entities\Comment;

abstract class CommentsManager extends \Library\Manager
{
  // ...
  
  /**
   * Méthode permettant de modifier un commentaire.
   * @param $comment Le commentaire à modifier
   * @return void
   */
  abstract protected function modify(Comment $comment);
  
  /**
   * Méthode permettant d'obtenir un commentaire spécifique.
   * @param $id L'identifiant du commentaire
   * @return Comment
   */
  abstract public function get($id);
}</code></pre><pre id="r-609843" data-claire-element-id="609843"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
    
use \Library\Entities\Comment;

class CommentsManager_PDO extends CommentsManager
{
  // ...
  
  protected function modify(Comment $comment)
  {
    $q = $this-&gt;dao-&gt;prepare('UPDATE comments SET auteur = :auteur, contenu = :contenu WHERE id = :id');
    
    $q-&gt;bindValue(':auteur', $comment-&gt;auteur());
    $q-&gt;bindValue(':contenu', $comment-&gt;contenu());
    $q-&gt;bindValue(':id', $comment-&gt;id(), \PDO::PARAM_INT);
    
    $q-&gt;execute();
  }
  
  public function get($id)
  {
    $q = $this-&gt;dao-&gt;prepare('SELECT id, news, auteur, contenu FROM comments WHERE id = :id');
    $q-&gt;bindValue(':id', (int) $id, \PDO::PARAM_INT);
    $q-&gt;execute();
    
    $q-&gt;setFetchMode(\PDO::FETCH_CLASS | \PDO::FETCH_PROPS_LATE, '\Library\Entities\Comment');
    
    return $q-&gt;fetch();
  }
}</code></pre><h6 id="r-la-vue-10" data-claire-element-id="609847">La vue</h6><p id="r-609845" data-claire-element-id="609845">La vue ne fera que contenir le formulaire et afficher les erreurs s'il y en a.</p><pre id="r-609846" data-claire-element-id="609846"><code data-claire-semantic="html+php">&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;p&gt;
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::AUTEUR_INVALIDE, $erreurs)) echo 'L\'auteur est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Pseudo&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&lt;?php echo htmlspecialchars($comment['auteur']); ?&gt;&quot; /&gt;&lt;br /&gt;
    
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::CONTENU_INVALIDE, $erreurs)) echo 'Le contenu est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Contenu&lt;/label&gt;&lt;textarea name=&quot;contenu&quot; rows=&quot;7&quot; cols=&quot;50&quot;&gt;&lt;?php echo htmlspecialchars($comment['contenu']); ?&gt;&lt;/textarea&gt;&lt;br /&gt;
    
    &lt;input type=&quot;hidden&quot; name=&quot;news&quot; value=&quot;&lt;?php echo $comment['news']; ?&gt;&quot; /&gt;
    &lt;input type=&quot;submit&quot; value=&quot;Modifier&quot; /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre><h6 id="r-modification-de-la-vue-de-l-affichage-des-commentaires" data-claire-element-id="609850">Modification de la vue de l'affichage des commentaires</h6><p id="r-609848" data-claire-element-id="609848">Pour des raisons pratiques, il serait préférable de modifier l'affichage des commentaires afin d'ajouter un lien à chacun menant vers la modification du commentaire. Pour cela, il faudra modifier la vue correspondant à l'action <strong>show</strong> du module <strong>news</strong> de l'application <strong>Frontend</strong>.</p><pre id="r-609849" data-claire-element-id="609849"><code data-claire-semantic="html+php">&lt;p&gt;Par &lt;em&gt;&lt;?php echo $news['auteur']; ?&gt;&lt;/em&gt;, le &lt;?php echo $news['dateAjout']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/p&gt;
&lt;h2&gt;&lt;?php echo $news['titre']; ?&gt;&lt;/h2&gt;
&lt;p&gt;&lt;?php echo nl2br($news['contenu']); ?&gt;&lt;/p&gt;

&lt;?php if ($news['dateAjout'] != $news['dateModif']) { ?&gt;
  &lt;p style=&quot;text-align: right;&quot;&gt;&lt;small&gt;&lt;em&gt;Modifiée le &lt;?php echo $news['dateModif']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
&lt;?php } ?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;

&lt;?php
if (empty($comments))
{
?&gt;
  &lt;p&gt;Aucun commentaire n'a encore été posté. Soyez le premier à en laisser un !&lt;/p&gt;
&lt;?php
}

foreach ($comments as $comment)
{
?&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;
      Posté par &lt;strong&gt;&lt;?php echo htmlspecialchars($comment['auteur']); ?&gt;&lt;/strong&gt; le &lt;?php echo $comment['date']-&gt;format('d/m/Y à H\hi'); ?&gt;
      &lt;?php if ($user-&gt;isAuthenticated()) { ?&gt; -
        &lt;a href=&quot;admin/comment-update-&lt;?php echo $comment['id']; ?&gt;.html&quot;&gt;Modifier&lt;/a&gt;
      &lt;?php } ?&gt;
    &lt;/legend&gt;
    &lt;p&gt;&lt;?php echo nl2br(htmlspecialchars($comment['contenu'])); ?&gt;&lt;/p&gt;
  &lt;/fieldset&gt;
&lt;?php
}
?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;</code></pre><h5 id="r-l-action-deletecomment" data-claire-element-id="609866">L'action <em>deleteComment</em></h5><h6 id="r-la-route-8" data-claire-element-id="609854">La route</h6><p id="r-609852" data-claire-element-id="609852">Faisons là aussi très simple : nous n'avons qu'à prendre une URL du type <strong>/admin/comments-delete-<em>id</em>.html</strong>.</p><pre id="r-609853" data-claire-element-id="609853"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;routes&gt;
  &lt;route url=&quot;/admin/&quot; module=&quot;News&quot; action=&quot;index&quot; /&gt;
  &lt;route url=&quot;/admin/news-insert\.html&quot; module=&quot;News&quot; action=&quot;insert&quot; /&gt;
  &lt;route url=&quot;/admin/news-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;update&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/news-delete-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;delete&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/comment-update-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;updateComment&quot; vars=&quot;id&quot; /&gt;
  &lt;route url=&quot;/admin/comment-delete-([0-9]+)\.html&quot; module=&quot;News&quot; action=&quot;deleteComment&quot; vars=&quot;id&quot; /&gt;
&lt;/routes&gt;</code></pre><h6 id="r-le-controleur-13" data-claire-element-id="609858">Le contrôleur</h6><p id="r-609855" data-claire-element-id="609855">Il faut dans un premier temps invoquer la méthode du manager permettant de supprimer un commentaire. Redirigez ensuite l'utilisateur sur l'accueil de l'espace d'administration.</p><pre id="r-609856" data-claire-element-id="609856"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeDeleteComment(\Library\HTTPRequest $request)
  {
    $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;delete($request-&gt;getData('id'));
    
    $this-&gt;app-&gt;user()-&gt;setFlash('Le commentaire a bien été supprimé !');
    
    $this-&gt;app-&gt;httpResponse()-&gt;redirect('.');
  }
}</code></pre><p id="r-609857" data-claire-element-id="609857">Aucune vue n'est donc nécessaire ici.</p><h6 id="r-le-modele-11" data-claire-element-id="609862">Le modèle</h6><p id="r-609859" data-claire-element-id="609859">Il suffit ici d'implémenter la méthode <code>delete()</code> exécutant une simple requête <code>DELETE</code>.</p><pre id="r-609860" data-claire-element-id="609860"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;
    
use \Library\Entities\Comment;

abstract class CommentsManager extends \Library\Manager
{
  // ...
  
  /**
   * Méthode permettant de supprimer un commentaire.
   * @param $id L'identifiant du commentaire à supprimer
   * @return void
   */
  abstract public function delete($id);
  
  // ...
}</code></pre><pre id="r-609861" data-claire-element-id="609861"><code data-claire-semantic="html+php">&lt;?php
namespace Library\Models;

use \Library\Entities\Comment;

class CommentsManager_PDO extends CommentsManager
{
  // ...
  
  public function delete($id)
  {
    $this-&gt;dao-&gt;exec('DELETE FROM comments WHERE id = '.(int) $id);
  }
  
  // ...
}</code></pre><h6 id="r-modification-de-l-affichage-des-commentaires" data-claire-element-id="609865">Modification de l'affichage des commentaires</h6><p id="r-609863" data-claire-element-id="609863">Nous allons là aussi insérer le lien de suppression de chaque commentaire afin de nous faciliter la tâche. Modifiez donc la vue de l'action <strong>show</strong> du module <strong>news</strong> de l'application <strong>frontend</strong> :</p><pre id="r-609864" data-claire-element-id="609864"><code data-claire-semantic="html+php">&lt;p&gt;Par &lt;em&gt;&lt;?php echo $news['auteur']; ?&gt;&lt;/em&gt;, le &lt;?php echo $news['dateAjout']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/p&gt;
&lt;h2&gt;&lt;?php echo $news['titre']; ?&gt;&lt;/h2&gt;
&lt;p&gt;&lt;?php echo nl2br($news['contenu']); ?&gt;&lt;/p&gt;

&lt;?php if ($news['dateAjout'] != $news['dateModif']) { ?&gt;
  &lt;p style=&quot;text-align: right;&quot;&gt;&lt;small&gt;&lt;em&gt;Modifiée le &lt;?php echo $news['dateModif']-&gt;format('d/m/Y à H\hi'); ?&gt;&lt;/em&gt;&lt;/small&gt;&lt;/p&gt;
&lt;?php } ?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;

&lt;?php
if (empty($comments))
{
?&gt;
  &lt;p&gt;Aucun commentaire n'a encore été posté. Soyez le premier à en laisser un !&lt;/p&gt;
&lt;?php
}

foreach ($comments as $comment)
{
?&gt;
  &lt;fieldset&gt;
    &lt;legend&gt;
      Posté par &lt;strong&gt;&lt;?php echo htmlspecialchars($comment['auteur']); ?&gt;&lt;/strong&gt; le &lt;?php echo $comment['date']-&gt;format('d/m/Y à H\hi'); ?&gt;
      &lt;?php if ($user-&gt;isAuthenticated()) { ?&gt; -
        &lt;a href=&quot;admin/comment-update-&lt;?php echo $comment['id']; ?&gt;.html&quot;&gt;Modifier&lt;/a&gt; |
        &lt;a href=&quot;admin/comment-delete-&lt;?php echo $comment['id']; ?&gt;.html&quot;&gt;Supprimer&lt;/a&gt;
      &lt;?php } ?&gt;
    &lt;/legend&gt;
    &lt;p&gt;&lt;?php echo nl2br(htmlspecialchars($comment['contenu'])); ?&gt;&lt;/p&gt;
  &lt;/fieldset&gt;
&lt;?php
}
?&gt;

&lt;p&gt;&lt;a href=&quot;commenter-&lt;?php echo $news['id']; ?&gt;.html&quot;&gt;Ajouter un commentaire&lt;/a&gt;&lt;/p&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
<span class="arrow"></span>
<span class="next">Le module de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">
<span class="next">Gérer les formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Grerlesformulaires"></a><h2>Gérer les formulaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
<span class="arrow"></span>
<span class="next">N&#039;oublions pas les commentaires !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
<span class="next">Le formulaire</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-609869" data-claire-element-id="609869">Il est possible que quelque chose vous chiffonne un petit peu. En effet, dans le <em>frontend</em>, nous avons créé un formulaire pour ajouter un commentaire. Dans le <em>backend</em>, nous avons recréé quasiment le même : nous avons fait de la <strong>duplication de code</strong>. Or, puisque vous êtes un excellent programmeur, cela devrait vous piquer les yeux !</p><p id="r-609870" data-claire-element-id="609870">Pour pallier ce problème courant de duplication de formulaires, nous allons <strong>externaliser</strong> nos formulaires à l'aide d'une API, c'est-à-dire que le code créant le formulaire sera accessible, à un autre endroit, par n'importe quel module de n'importe quelle application. Cette technique fera d'une pierre deux coups : non seulement nos formulaires seront décentralisés (donc réutilisables une infinité de fois), mais la création se fera de manière beaucoup plus aisée ! Bien sûr, comme pour la conception de l'application, cela deviendra rapide une fois l'API développée. ;)</p>
</div><a name="Leformulaire"></a><h2>Le formulaire</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">
<span class="arrow"></span>
<span class="next">Gérer les formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
<span class="next">Les validateurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-formulaire-2" data-claire-element-id="609952">Le formulaire</h4><h5 id="r-conception-du-formulaire" data-claire-element-id="609906">Conception du formulaire</h5><p id="r-609871" data-claire-element-id="609871">Commençons dans ce chapitre par créer un premier formulaire. Un formulaire, vous le savez, n'est autre qu'un ensemble de champs permettant d'interagir avec le contenu du site. Par exemple, voici notre formulaire d'ajout de commentaire :</p><pre id="r-609872" data-claire-element-id="609872"><code data-claire-semantic="html+php">&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;p&gt;
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::AUTEUR_INVALIDE, $erreurs)) echo 'L\'auteur est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Pseudo&lt;/label&gt;
    &lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&lt;?php if (isset($comment)) echo htmlspecialchars($comment['auteur']); ?&gt;&quot; /&gt;&lt;br /&gt;
    
    &lt;?php if (isset($erreurs) &amp;&amp; in_array(\Library\Entities\Comment::CONTENU_INVALIDE, $erreurs)) echo 'Le contenu est invalide.&lt;br /&gt;'; ?&gt;
    &lt;label&gt;Contenu&lt;/label&gt;
    &lt;textarea name=&quot;contenu&quot; rows=&quot;7&quot; cols=&quot;50&quot;&gt;&lt;?php if (isset($comment)) echo htmlspecialchars($comment['contenu']); ?&gt;&lt;/textarea&gt;&lt;br /&gt;
    
    &lt;input type=&quot;submit&quot; value=&quot;Commenter&quot; /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre><p id="r-609873" data-claire-element-id="609873">Cependant, vous conviendrez qu'il est long et fastidieux de créer ce formulaire. De plus, si nous voulons éditer un commentaire, il va falloir le dupliquer dans l'application <em>backend</em>. Dans un premier temps, nous allons nous occuper de l'aspect long et fastidieux : laissons un objet générer tous ces champs à notre place !</p><h6 id="r-l-objet-form-2" data-claire-element-id="609892">L'objet Form</h6><p id="r-609874" data-claire-element-id="609874">Comme nous venons de le voir, <strong>un formulaire n'est autre qu'une liste de champs</strong>. Vous connaissez donc déjà le rôle de cet objet : il sera chargé de représenter le formulaire en possédant une liste de champs.</p><p id="r-609875" data-claire-element-id="609875">Commençons alors la liste des fonctionnalités de notre formulaire. Notre formulaire contient divers champs. Nous devons donc pouvoir <strong>ajouter des champs</strong> à notre formulaire. Ensuite, que serait un formulaire si on ne pouvait pas l'afficher ? Dans notre cas, le formulaire ne doit pas être capable de s'afficher mais de <strong>générer</strong> tous les champs qui lui sont attachés afin que le contrôleur puisse récupérer le corps du formulaire pour le passer à la vue. Enfin, notre formulaire doit posséder une dernière fonctionnalité : le capacité de déclarer si le formulaire est valide ou non en vérifiant que chaque champ l'est.</p><p id="r-609876" data-claire-element-id="609876">Pour résumer, nous avons donc trois fonctionnalités. Un objet <code>Form</code> doit être capable :</p><ul id="r-609883" data-claire-element-id="609883"><li id="r-609878" data-claire-element-id="609878"><p id="r-609877" data-claire-element-id="609877">D'ajouter des champs à sa liste de champs.</p></li><li id="r-609880" data-claire-element-id="609880"><p id="r-609879" data-claire-element-id="609879">De générer le corps du formulaire.</p></li><li id="r-609882" data-claire-element-id="609882"><p id="r-609881" data-claire-element-id="609881">De vérifier si tous les champs sont valides.</p></li></ul><p id="r-609884" data-claire-element-id="609884">Ainsi, au niveau des caractéristiques de l'objet, nous en avons qui saute aux yeux : la <strong>liste des champs</strong> !</p><p id="r-609885" data-claire-element-id="609885">Cependant, un formulaire est également caractérisé par autre chose. En effet, si je vous demande de me dire comment vous allez vérifier si tous les champs sont valides, vous sauriez comment faire ? À aucun moment nous n'avons passé des valeurs à notre formulaire, donc aucune vérification n'est à effectuer. Il faudrait donc, dans le constructeur de notre objet <code>Form</code>, passer un objet contenant toutes ces valeurs. Ainsi, lors de l'ajout d'un champ, la méthode irait chercher la valeur correspondante dans cet objet et l'assignerait au champ (nous verrons plus tard comment la méthode sait à quel attribut de l'entité correspond le champ). À votre avis, à quoi vont ressembler ces objets ? En fait, vous les avez déjà créés ces objets : ce sont toutes les classes filles de <code>Entity</code> ! Par exemple, si vous voulez modifier un commentaire, vous allez créer un objet <code>Comment</code> que vous allez hydrater, puis vous créerez un objet <code>Form</code> en passant l'objet <code>Comment</code> au constructeur.</p><p id="r-609886" data-claire-element-id="609886">Ainsi, voici notre classe <code>Form</code> schématisée (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-form" data-claire-element-id="609889"><img id="r-609887" data-claire-element-id="609887" src="medias/uploads.siteduzero.com_files_403001_404000_403806.png" alt="Modélisation de la classe Form"/><figcaption>Modélisation de la classe Form</figcaption></figure><aside id="r-609891" data-claire-element-id="609891" data-claire-semantic="information"><p id="r-609890" data-claire-element-id="609890">Vous pouvez remarquer que la méthode <code>add()</code> renvoie un objet <code>Form</code>. En fait, il s'agit du formulaire auquel on a ajouté le champ : cela permet d’enchaîner facilement les appels à la méthode <code>add()</code> comme nous le verrons juste après.</p></aside><h6 id="r-l-objet-field" data-claire-element-id="609905">L'objet Field</h6><p id="r-609893" data-claire-element-id="609893">Puisque l'objet <code>Form</code> est intimement lié à ses champs, intéressons-nous à la conception de ces champs (ou <em>fields</em> en anglais). Vous l'aurez peut-être deviné : tous nos champs seront des objets, chacun représentant un champ différent (une classe représentera un champ texte, une autre classe représentera une zone de texte, etc.). À ce stade, un <em>tilt</em> devrait s'être produit dans votre tête : ce sont tous des champs, ils doivent donc hériter d'une même classe représentant leur nature en commun, à savoir une classe <code>Field</code> !</p><p id="r-609894" data-claire-element-id="609894">Commençons par cette classe <code>Field</code>. Quelles fonctionnalités attendons-nous de cette classe ? Un objet <code>Field</code> doit être capable :</p><ul id="r-609899" data-claire-element-id="609899"><li id="r-609896" data-claire-element-id="609896"><p id="r-609895" data-claire-element-id="609895">De renvoyer le code HTML représentant le champ.</p></li><li id="r-609898" data-claire-element-id="609898"><p id="r-609897" data-claire-element-id="609897">De vérifier si la valeur du champ est valide.</p></li></ul><p id="r-609900" data-claire-element-id="609900">Je pense que vous aviez ces fonctionnalités plus ou moins en tête. Cependant, il y a encore une autre fonctionnalité que nous devons implémenter. En effet, pensez aux classes qui hériteront de <code>Field</code> et qui représenteront chacune un type de champ. Chaque champ a des attributs spécifiques. Par exemple, un champ texte (sur une ligne) possède un attribut <code>maxlength</code>, tandis qu'une zone de texte (un <em>textarea</em>) possède des attributs <code>rows</code> et <code>cols</code>. Chaque classe fille aura donc des attributs à elles seules. Il serait pratique, dès la construction de l'objet, de passer ces valeurs à notre champ (par exemple, assigner <strong>50</strong> à l'attribut <code>maxlength</code>). Pour résoudre ce genre de cas, nous allons procéder d'une façon qui ne vous est pas inconnue : nous allons créer une méthode permettant à l'objet de s'hydrater ! Ainsi, notre classe <code>Field</code> possédera une méthode <code>hydrate()</code>, comme les entités.</p><p id="r-609901" data-claire-element-id="609901">Voici à la figure suivante le schéma représentant notre classe <code>Field</code> liée à la classe <code>Form</code>, avec deux classes filles en exemple (<code>StringField</code> représentant un champ texte sur une ligne et la classe <code>TextField</code> représentant un <em>textarea</em>).</p><figure id="r-modelisation-de-la-classe-field" data-claire-element-id="609904"><img id="r-609902" data-claire-element-id="609902" src="medias/uploads.siteduzero.com_files_403001_404000_403807.png" alt="Modélisation de la classe Field"/><figcaption>Modélisation de la classe Field</figcaption></figure><h5 id="r-developpement-de-l-api" data-claire-element-id="609946">Développement de l'API</h5><h6 id="r-la-classe-form" data-claire-element-id="609923">La classe <code>Form</code></h6><p id="r-609907" data-claire-element-id="609907">Pour rappel, voici de quoi la classe <code>Form</code> est composée :</p><ul id="r-609920" data-claire-element-id="609920"><li id="r-609909" data-claire-element-id="609909"><p id="r-609908" data-claire-element-id="609908">D'un attribut stockant la <strong>liste des champs</strong>.</p></li><li id="r-609911" data-claire-element-id="609911"><p id="r-609910" data-claire-element-id="609910">D'un attribut stockant l'<strong>entité</strong> correspondant au formulaire.</p></li><li id="r-609913" data-claire-element-id="609913"><p id="r-609912" data-claire-element-id="609912">D'un constructeur récupérant l'entité et invoquant le <em>setter</em> correspondant.</p></li><li id="r-609915" data-claire-element-id="609915"><p id="r-609914" data-claire-element-id="609914">D'une méthode permettant d'ajouter un champ à la liste des champs.</p></li><li id="r-609917" data-claire-element-id="609917"><p id="r-609916" data-claire-element-id="609916">D'une méthode permettant de générer le formulaire.</p></li><li id="r-609919" data-claire-element-id="609919"><p id="r-609918" data-claire-element-id="609918">D'une méthode permettant de vérifier si le formulaire est valide.</p></li></ul><p id="r-609921" data-claire-element-id="609921">Voici la classe <code>Form</code> que vous auriez du obtenir :</p><pre id="r-609922" data-claire-element-id="609922"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class Form
{
  protected $entity;
  protected $fields;
  
  public function __construct(Entity $entity)
  {
    $this-&gt;setEntity($entity);
  }
  
  public function add(Field $field)
  {
    $attr = $field-&gt;name(); // On récupère le nom du champ.
    $field-&gt;setValue($this-&gt;entity-&gt;$attr()); // On assigne la valeur correspondante au champ.
    
    $this-&gt;fields[] = $field; // On ajoute le champ passé en argument à la liste des champs.
    return $this;
  }
  
  public function createView()
  {
    $view = '';
    
    // On génère un par un les champs du formulaire.
    foreach ($this-&gt;fields as $field)
    {
      $view .= $field-&gt;buildWidget().'&lt;br /&gt;';
    }
    
    return $view;
  }
  
  public function isValid()
  {
    $valid = true;
    
    // On vérifie que tous les champs sont valides.
    foreach ($this-&gt;fields as $field)
    {
      if (!$field-&gt;isValid())
      {
        $valid = false;
      }
    }
    
    return $valid;
  }
  
  public function entity()
  {
    return $this-&gt;entity;
  }
  
  public function setEntity(Entity $entity)
  {
    $this-&gt;entity = $entity;
  }
}</code></pre><h6 id="r-la-classe-field-et-ses-filles" data-claire-element-id="609945">La classe Field et ses filles</h6><p id="r-609924" data-claire-element-id="609924">Voici un petit rappel sur la composition de la classe <code>Field</code>. Cette classe doit être composée :</p><ul id="r-609939" data-claire-element-id="609939"><li id="r-609926" data-claire-element-id="609926"><p id="r-609925" data-claire-element-id="609925">D'un attribut stockant le <strong>message d'erreur</strong> associé au champ.</p></li><li id="r-609928" data-claire-element-id="609928"><p id="r-609927" data-claire-element-id="609927">D'un attribut stockant le <em>label</em> du champ.</p></li><li id="r-609930" data-claire-element-id="609930"><p id="r-609929" data-claire-element-id="609929">D'un attribut stockant le <strong>nom</strong> du champ.</p></li><li id="r-609932" data-claire-element-id="609932"><p id="r-609931" data-claire-element-id="609931">D'un attribut stockant la <strong>valeur</strong> du champ.</p></li><li id="r-609934" data-claire-element-id="609934"><p id="r-609933" data-claire-element-id="609933">D'un constructeur demandant la liste des attributs avec leur valeur afin d'hydrater l'objet.</p></li><li id="r-609936" data-claire-element-id="609936"><p id="r-609935" data-claire-element-id="609935">D'une méthode (abstraite) chargée de renvoyer le code HTML du champ.</p></li><li id="r-609938" data-claire-element-id="609938"><p id="r-609937" data-claire-element-id="609937">D'une méthode permettant de savoir si le champ est valide ou non.</p></li></ul><p id="r-609940" data-claire-element-id="609940">Les classes filles, quant à elles, n'implémenteront que la méthode abstraite. Si elles possèdent des attributs spécifiques (comme l'attribut <code>maxlength</code> pour la classe <code>StringField</code>), alors elles devront implémenter les mutateurs correspondant (comme vous le verrez plus tard, ce n'est pas nécessaire d'implémenter les accesseurs).</p><p id="r-609941" data-claire-element-id="609941">Voici les trois classes que vous auriez du obtenir (la classe <code>Field</code> avec deux classes filles en exemple, <code>StringField</code> et <code>TextField</code>) :</p><pre id="r-609942" data-claire-element-id="609942"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Field
{
  protected $errorMessage;
  protected $label;
  protected $name;
  protected $value;
  
  public function __construct(array $options = array())
  {
    if (!empty($options))
    {
      $this-&gt;hydrate($options);
    }
  }
  
  abstract public function buildWidget();
  
  public function hydrate($options)
  {
    foreach ($options as $type =&gt; $value)
    {
      $method = 'set'.ucfirst($type);
      
      if (is_callable(array($this, $method)))
      {
        $this-&gt;$method($value);
      }
    }
  }
  
  public function isValid()
  {
    // On écrira cette méthode plus tard.
  }
  
  public function label()
  {
    return $this-&gt;label;
  }
  
  public function name()
  {
    return $this-&gt;name;
  }
  
  public function value()
  {
    return $this-&gt;value;
  }
  
  public function setLabel($label)
  {
    if (is_string($label))
    {
      $this-&gt;label = $label;
    }
  }
  
  public function setName($name)
  {
    if (is_string($name))
    {
      $this-&gt;name = $name;
    }
  }
  
  public function setValue($value)
  {
    if (is_string($value))
    {
      $this-&gt;value = $value;
    }
  }
}</code></pre><pre id="r-609943" data-claire-element-id="609943"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class StringField extends Field
{
  protected $maxLength;
  
  public function buildWidget()
  {
    $widget = '';
    
    if (!empty($this-&gt;errorMessage))
    {
      $widget .= $this-&gt;errorMessage.'&lt;br /&gt;';
    }
    
    $widget .= '&lt;label&gt;'.$this-&gt;label.'&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;'.$this-&gt;name.'&quot;';
    
    if (!empty($this-&gt;value))
    {
      $widget .= ' value=&quot;'.htmlspecialchars($this-&gt;value).'&quot;';
    }
    
    if (!empty($this-&gt;maxLength))
    {
      $widget .= ' maxlength=&quot;'.$this-&gt;maxLength.'&quot;';
    }
    
    return $widget .= ' /&gt;';
  }
  
  public function setMaxLength($maxLength)
  {
    $maxLength = (int) $maxLength;
    
    if ($maxLength &gt; 0)
    {
      $this-&gt;maxLength = $maxLength;
    }
    else
    {
      throw new \RuntimeException('La longueur maximale doit être un nombre supérieur à 0');
    }
  }
}</code></pre><pre id="r-609944" data-claire-element-id="609944"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class TextField extends Field
{
  protected $cols;
  protected $rows;
  
  public function buildWidget()
  {
    $widget = '';
    
    if (!empty($this-&gt;errorMessage))
    {
      $widget .= $this-&gt;errorMessage.'&lt;br /&gt;';
    }
    
    $widget .= '&lt;label&gt;'.$this-&gt;label.'&lt;/label&gt;&lt;textarea name=&quot;'.$this-&gt;name.'&quot;';
    
    if (!empty($this-&gt;cols))
    {
      $widget .= ' cols=&quot;'.$this-&gt;cols.'&quot;';
    }
    
    if (!empty($this-&gt;rows))
    {
      $widget .= ' rows=&quot;'.$this-&gt;rows.'&quot;';
    }
    
    $widget .= '&gt;';
    
    if (!empty($this-&gt;value))
    {
      $widget .= htmlspecialchars($this-&gt;value);
    }
    
    return $widget.'&lt;/textarea&gt;';
  }
  
  public function setCols($cols)
  {
    $cols = (int) $cols;
    
    if ($cols &gt; 0)
    {
      $this-&gt;cols = $cols;
    }
  }
  
  public function setRows($rows)
  {
    $rows = (int) $rows;
    
    if ($rows &gt; 0)
    {
      $this-&gt;rows = $rows;
    }
  }
}</code></pre><h5 id="r-testons-nos-nouvelles-classes" data-claire-element-id="609951">Testons nos nouvelles classes</h5><p id="r-609947" data-claire-element-id="609947">Testons dès maintenant nos classes. Dans notre contrôleur de news du <em>frontend</em>, nous allons modifier l'action chargée d'ajouter un commentaire. Créons notre formulaire avec nos nouvelles classes :</p><pre id="r-609948" data-claire-element-id="609948"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeInsertComment(\Library\HTTPRequest $request)
  {
    // Si le formulaire a été envoyé, on crée le commentaire avec les valeurs du formulaire.
    if ($request-&gt;method() == 'POST')
    {
      $comment = new \Library\Entities\Comment(array(
        'news' =&gt; $request-&gt;getData('news'),
        'auteur' =&gt; $request-&gt;postData('auteur'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      ));
    }
    else
    {
      $comment = new \Library\Entities\Comment;
    }
    
    $form = new Form($comment);
    
    $form-&gt;add(new \Library\StringField(array(
        'label' =&gt; 'Auteur',
        'name' =&gt; 'auteur',
        'maxLength' =&gt; 50),
       )))
       -&gt;add(new \Library\TextField(array(
        'label' =&gt; 'Contenu',
        'name' =&gt; 'contenu',
        'rows' =&gt; 7,
        'cols' =&gt; 50,
       )));
    
    if ($form-&gt;isValid())
    {
      // On enregistre le commentaire
    }
    
    $this-&gt;page-&gt;addVar('comment', $comment);
    $this-&gt;page-&gt;addVar('form', $form-&gt;createView()); // On passe le formulaire généré à la vue.
    $this-&gt;page-&gt;addVar('title', 'Ajout d\'un commentaire');
  }
  
  // ...
}</code></pre><pre id="r-609949" data-claire-element-id="609949"><code data-claire-semantic="html+php">&lt;h2&gt;Ajouter un commentaire&lt;/h2&gt;
&lt;form action=&quot;&quot; method=&quot;post&quot;&gt;
  &lt;p&gt;
    &lt;?php echo $form; ?&gt;
    
    &lt;input type=&quot;submit&quot; value=&quot;Commenter&quot; /&gt;
  &lt;/p&gt;
&lt;/form&gt;</code></pre><p id="r-609950" data-claire-element-id="609950">Cependant, avouez que ce n'est pas pratique d'avoir ceci en plein milieu de notre contrôleur. De plus, si nous avons besoin de créer ce formulaire à un autre endroit, nous devrons copier/coller tous ces appels à la méthode <code>add()</code> et recréer tous les champs. Niveau duplication de code, nous sommes servi ! Nous résoudrons ce problème dans la suite du chapitre. Mais avant cela, intéressons-nous à la validation du formulaire. En effet, le contenu de la méthode <code>isValid()</code> est resté vide : faisons appel aux <strong>validateurs</strong> !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">
<span class="arrow"></span>
<span class="next">Gérer les formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
<span class="next">Les validateurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesvalidateurs"></a><h2>Les validateurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
<span class="arrow"></span>
<span class="next">Le formulaire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
<span class="next">Le constructeur de formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-validateurs" data-claire-element-id="609984">Les validateurs</h4><p id="r-609953" data-claire-element-id="609953">Un validateur, comme son nom l'indique, est chargé de valider une donnée. Mais attention : un validateur ne peut valider <strong>qu'une contrainte</strong>. Par exemple, si vous voulez vérifier que votre valeur n'est pas nulle <strong>et</strong> qu'elle ne dépasse pas les cinquante caractères, alors vous aurez besoin de deux validateurs : le premier vérifiera que la valeur n'est pas nulle, et le second vérifiera que la chaine de caractères ne dépassera pas les cinquante caractères.</p><p id="r-609954" data-claire-element-id="609954">Là aussi, vous devriez savoir ce qui vous attend au niveau des classes : nous aurons une classe de base (<code>Validator</code>) et une infinité de classes filles (dans le cas précédent, on peut imaginer les classes <code>NotNullValidator</code> et <code>MaxLengthValidator</code>). Attaquons-les dès maintenant !</p><h5 id="r-conception-des-classes" data-claire-element-id="609967">Conception des classes</h5><h6 id="r-la-classe-validator" data-claire-element-id="609960">La classe Validator</h6><p id="r-609955" data-claire-element-id="609955">Notre classe de base, <code>Validator</code>, sera chargée, comme nous l'avons dit, de <strong>valider</strong> une donnée. Et c'est tout : un validateur ne sert à rien d'autre que valider une donnée. Au niveau des caractéristiques, il n'y en a dans ce cas également, une seule : le message d'erreur que le validateur doit pouvoir renvoyer si la valeur passée n'est pas valide.</p><p id="r-609956" data-claire-element-id="609956">Voici donc notre classe schématisée (voir la figure suivante).</p><figure id="r-modelisation-de-notre-classe-validator" data-claire-element-id="609959"><img id="r-609957" data-claire-element-id="609957" src="medias/uploads.siteduzero.com_files_403001_404000_403894.png" alt="Modélisation de notre classe Validator"/><figcaption>Modélisation de notre classe Validator</figcaption></figure><h6 id="r-les-classes-filles" data-claire-element-id="609966">Les classes filles</h6><p id="r-609961" data-claire-element-id="609961">Les classes filles sont elles aussi très simples. Commençons par la plus facile : <code>NotNullValidator</code>. Celle-ci, comme toute classe fille, sera chargée d'implémenter la méthode <code>isValid($value)</code>. Et c'est tout ! La seconde classe, <code>MaxLengthValidator</code>, implémente elle aussi cette méthode. Cependant, il faut qu'elle connaisse le nombre de caractères maximal que la chaîne doit avoir ! Pour cela, cette classe implémentera un constructeur demandant ce nombre en paramètre, et assignera cette valeur à l'attribut correspondant.</p><p id="r-609962" data-claire-element-id="609962">Ainsi, voici nos deux classes filles héritant de <code>Validator</code> (voir la figure suivante).</p><figure id="r-modelisation-des-classes-maxlengthvalidator-et-notnullvalidator" data-claire-element-id="609965"><img id="r-609963" data-claire-element-id="609963" src="medias/uploads.siteduzero.com_files_403001_404000_403895.png" alt="Modélisation des classes MaxLengthValidator et NotNullValidator"/><figcaption>Modélisation des classes MaxLengthValidator et NotNullValidator</figcaption></figure><h5 id="r-developpement-des-classes" data-claire-element-id="609975">Développement des classes</h5><h6 id="r-la-classe-validator-1" data-claire-element-id="609970">La classe Validator</h6><p id="r-609968" data-claire-element-id="609968">Cette classe (comme les classes filles) est assez simple à développer. En effet, il n'y a que l'accesseur et le mutateur du message d'erreur à implémenter, avec un constructeur demandant ledit message d'erreur. La méthode <code>isValid()</code>, quant à elle, est abstraite, donc rien à écrire de ce côté-là !</p><pre id="r-609969" data-claire-element-id="609969"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Validator
{
  protected $errorMessage;
  
  public function __construct($errorMessage)
  {
    $this-&gt;setErrorMessage($errorMessage);
  }
  
  abstract public function isValid($value);
  
  public function setErrorMessage($errorMessage)
  {
    if (is_string($errorMessage))
    {
      $this-&gt;errorMessage = $errorMessage;
    }
  }
  
  public function errorMessage()
  {
    return $this-&gt;errorMessage;
  }
}</code></pre><h6 id="r-les-classes-filles-1" data-claire-element-id="609974">Les classes filles</h6><p id="r-609971" data-claire-element-id="609971">Comme la précédente, les classes filles sont très simples à concevoir. J'espère que vous y êtes parvenus !</p><pre id="r-609972" data-claire-element-id="609972"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class NotNullValidator extends Validator
{
  public function isValid($value)
  {
    return $value != '';
  }
}</code></pre><pre id="r-609973" data-claire-element-id="609973"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class MaxLengthValidator extends Validator
{
  protected $maxLength;
  
  public function __construct($errorMessage, $maxLength)
  {
    parent::__construct($errorMessage);
    
    $this-&gt;setMaxLength($maxLength);
  }
  
  public function isValid($value)
  {
    return strlen($value) &lt;= $this-&gt;maxLength;
  }
  
  public function setMaxLength($maxLength)
  {
    $maxLength = (int) $maxLength;
    
    if ($maxLength &gt; 0)
    {
      $this-&gt;maxLength = $maxLength;
    }
    else
    {
      throw new \RuntimeException('La longueur maximale doit être un nombre supérieur à 0');
    }
  }
}</code></pre><h5 id="r-modification-de-la-classe-field" data-claire-element-id="609983">Modification de la classe Field</h5><p id="r-609976" data-claire-element-id="609976">Comme nous l'avions vu, pour savoir si un champ est valide, il lui faut des <strong>validateurs</strong>. Il va donc falloir passer, dans le constructeur de l'objet <code>Field</code> créé, la liste des validateurs que l'on veut imposer au champ. Dans le cas du champ <strong>auteur</strong> par exemple, nous lui passerons les deux validateurs : nous voulons à la fois que le champ ne soit pas vide et que la valeur ne dépasse pas les cinquante caractères. La création du formulaire ressemblerait donc à ceci :</p><pre id="r-609977" data-claire-element-id="609977"><code data-claire-semantic="html+php">&lt;?php
// $form représente le formulaire que l'on souhaite créer.
// Ici, on souhaite lui ajouter le champ « auteur ».
$form-&gt;add(new \Library\StringField(array(
  'label' =&gt; 'Auteur',
  'name' =&gt; 'auteur',
  'maxLength' =&gt; 50,
  'validators' =&gt; array(
    new \Library\MaxLengthValidator('L\'auteur spécifié est trop long (50 caractères maximum)', 50),
    new \Library\NotNullValidator('Merci de spécifier l\'auteur du commentaire'),
  )
)));</code></pre><p id="r-609978" data-claire-element-id="609978">De cette façon, quelques modifications au niveau de notre classe <code>Field</code> s'imposent. En effet, il va falloir créer un attribut <code>$validators</code>, ainsi que l'accesseur et le mutateur correspondant. De la sorte, notre méthode <code>hydrate()</code> assignera automatiquement les validateurs passés au constructeur à l'attribut <code>$validators</code>. Je vous laisse faire cela.</p><p id="r-609979" data-claire-element-id="609979">Vient maintenant l'implémentation de la méthode <code>isValid()</code>. Cette méthode doit parcourir tous les validateurs et invoquer la méthode <code>isValid($value)</code> sur ces validateurs afin de voir si la valeur passe au travers du filet de <strong>tous</strong> les validateurs. De cette façon, nous sommes sûrs que toutes les contraintes ont été respectées ! Si un validateur renvoie une réponse négative lorsqu'on lui demande si la valeur est valide, alors on devra lui demander le message d'erreur qui lui a été assigné et l'assigner à notre tour à l'attribut correspondant. Ainsi, voici la nouvelle classe <code>Field</code> :</p><pre id="r-609980" data-claire-element-id="609980"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class Field
{
  protected $errorMessage;
  protected $label;
  protected $name;
  protected $validators = array();
  protected $value;
  
  public function __construct(array $options = array())
  {
    if (!empty($options))
    {
      $this-&gt;hydrate($options);
    }
  }
  
  abstract public function buildWidget();
  
  public function hydrate($options)
  {
    foreach ($options as $type =&gt; $value)
    {
      $method = 'set'.ucfirst($type);
      
      if (is_callable(array($this, $method)))
      {
        $this-&gt;$method($value);
      }
    }
  }
  
  public function isValid()
  {
    foreach ($this-&gt;validators as $validator)
    {
      if (!$validator-&gt;isValid($this-&gt;value))
      {
        $this-&gt;errorMessage = $validator-&gt;errorMessage();
        return false;
      }
    }
    
    return true;
  }
  
  public function label()
  {
    return $this-&gt;label;
  }
  
  public function length()
  {
    return $this-&gt;length;
  }
  
  public function name()
  {
    return $this-&gt;name;
  }
  
  public function validators()
  {
    return $this-&gt;validators;
  }
  
  public function value()
  {
    return $this-&gt;value;
  }
  
  public function setLabel($label)
  {
    if (is_string($label))
    {
      $this-&gt;label = $label;
    }
  }
  
  public function setLength($length)
  {
    $length = (int) $length;
    
    if ($length &gt; 0)
    {
      $this-&gt;length = $length;
    }
  }
  
  public function setName($name)
  {
    if (is_string($name))
    {
      $this-&gt;name = $name;
    }
  }
  
  public function setValidators(array $validators)
  {
    foreach ($validators as $validator)
    {
      if ($validator instanceof Validator &amp;&amp; !in_array($validator, $this-&gt;validators))
      {
        $this-&gt;validators[] = $validator;
      }
    }
  }
  
  public function setValue($value)
  {
    if (is_string($value))
    {
      $this-&gt;value = $value;
    }
  }
}</code></pre><aside id="r-609982" data-claire-element-id="609982" data-claire-semantic="information"><p id="r-609981" data-claire-element-id="609981">Vous pouvez apercevoir l'utilisation de l'opérateur <code>instanceof</code> dans le code. Pour en savoir plus à ce sujet, je vous invite à aller lire le chapitre dédié à cet opérateur.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
<span class="arrow"></span>
<span class="next">Le formulaire</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
<span class="next">Le constructeur de formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leconstructeurdeformulaires"></a><h2>Le constructeur de formulaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
<span class="arrow"></span>
<span class="next">Les validateurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
<span class="next">Le gestionnaire de formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-constructeur-de-formulaires" data-claire-element-id="610033">Le constructeur de formulaires</h4><p id="r-609985" data-claire-element-id="609985">Comme nous l'avons vu, créer le formulaire au sein du contrôleur présente deux inconvénients. Premièrement, cela encombre le contrôleur. Imaginez que vous ayez une dizaine de champs, cela deviendrait énorme ! Le contrôleur doit être clair, et la création du formulaire devrait donc se faire autre part. Deuxièmement, il y a le problème de duplication de code : si vous voulez utiliser ce formulaire dans un autre contrôleur, vous devrez copier/coller tout le code responsable de la création du formulaire. Pas très flexible vous en conviendrez ! Pour cela, nous allons donc créer des <strong>constructeurs de formulaire</strong>. Il y aura par conséquent autant de constructeurs que de formulaires différents.</p><h5 id="r-conception-des-classes-1" data-claire-element-id="610005">Conception des classes</h5><h6 id="r-la-classe-formbuilder" data-claire-element-id="609999">La classe FormBuilder</h6><p id="r-609986" data-claire-element-id="609986">La classe <code>FormBuilder</code> a un rôle bien précis : elle est chargée de <strong>construire un formulaire</strong>. Ainsi, il n'y a qu'une seule fonctionnalité à implémenter... celle de construire le formulaire ! Mais, pour ce faire, encore faudrait-il avoir un objet <code>Form</code>. Nous le créerons donc dans le constructeur et nous l'assignerons à l'attribut correspondant.</p><p id="r-609987" data-claire-element-id="609987">Nous avons donc :</p><ul id="r-609994" data-claire-element-id="609994"><li id="r-609989" data-claire-element-id="609989"><p id="r-609988" data-claire-element-id="609988">Une méthode abstraite chargée de construire le formulaire.</p></li><li id="r-609991" data-claire-element-id="609991"><p id="r-609990" data-claire-element-id="609990">Un attribut stockant le formulaire.</p></li><li id="r-609993" data-claire-element-id="609993"><p id="r-609992" data-claire-element-id="609992">L'accesseur et le mutateur correspondant.</p></li></ul><p id="r-609995" data-claire-element-id="609995">Voici notre classe schématisée (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-formbuilder" data-claire-element-id="609998"><img id="r-609996" data-claire-element-id="609996" src="medias/uploads.siteduzero.com_files_405001_406000_405063.png" alt="Modélisation de la classe FormBuilder"/><figcaption>Modélisation de la classe FormBuilder</figcaption></figure><h6 id="r-les-classes-filles-2" data-claire-element-id="610004">Les classes filles</h6><p id="r-610000" data-claire-element-id="610000">Un constructeur de base c'est bien beau, mais sans classe fille, difficile de construire grand-chose. Je vous propose donc de créer deux constructeurs de formulaire : un constructeur de formulaire de commentaires, et un constructeur de formulaire de news. Nous aurons donc notre classe <code>FormBuilder</code> dont hériteront deux classes, <code>CommentFormBuilder</code> et <code>NewsFormBuilder</code> (voir la figure suivante).</p><figure id="r-modelisation-des-classes-commentformbuilder-et-newsformbuilder" data-claire-element-id="610003"><img id="r-610001" data-claire-element-id="610001" src="medias/uploads.siteduzero.com_files_405001_406000_405064.png" alt="Modélisation des classes CommentFormBuilder et NewsFormBuilder"/><figcaption>Modélisation des classes CommentFormBuilder et NewsFormBuilder</figcaption></figure><h5 id="r-developpement-des-classes-1" data-claire-element-id="610013">Développement des classes</h5><h6 id="r-la-classe-formbuilder-1" data-claire-element-id="610008">La classe FormBuilder</h6><p id="r-610006" data-claire-element-id="610006">Cette classe est assez simple à créer, j'espère que vous y êtes parvenus !</p><pre id="r-610007" data-claire-element-id="610007"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

abstract class FormBuilder
{
  protected $form;
  
  public function __construct(Entity $entity)
  {
    $this-&gt;setForm(new Form($entity));
  }
  
  abstract public function build();
  
  public function setForm(Form $form)
  {
    $this-&gt;form = $form;
  }
  
  public function form()
  {
    return $this-&gt;form;
  }
}</code></pre><h6 id="r-les-classes-filles-3" data-claire-element-id="610012">Les classes filles</h6><p id="r-610009" data-claire-element-id="610009">Les classes filles sont simples à créer. En effet, il n'y a que la méthode <code>build()</code> à implémenter, en ayant pour simple contenu d'appeler successivement les méthodes <code>add()</code> sur notre formulaire. Pour l'emplacement des fichiers stockant les classes, je vous propose de les placer dans le dossier <strong>/Library/FormBuilder</strong>.</p><pre id="r-610010" data-claire-element-id="610010"><code data-claire-semantic="html+php">&lt;?php
namespace Library\FormBuilder;

class CommentFormBuilder extends \Library\FormBuilder
{
  public function build()
  {
    $this-&gt;form-&gt;add(new \Library\StringField(array(
        'label' =&gt; 'Auteur',
        'name' =&gt; 'auteur',
        'maxLength' =&gt; 50,
        'validators' =&gt; array(
          new \Library\MaxLengthValidator('L\'auteur spécifié est trop long (50 caractères maximum)', 50),
          new \Library\NotNullValidator('Merci de spécifier l\'auteur du commentaire'),
        ),
       )))
       -&gt;add(new \Library\TextField(array(
        'label' =&gt; 'Contenu',
        'name' =&gt; 'contenu',
        'rows' =&gt; 7,
        'cols' =&gt; 50,
        'validators' =&gt; array(
          new \Library\NotNullValidator('Merci de spécifier votre commentaire'),
        ),
       )));
  }
}</code></pre><pre id="r-610011" data-claire-element-id="610011"><code data-claire-semantic="html+php">&lt;?php
namespace Library\FormBuilder;

class NewsFormBuilder extends \Library\FormBuilder
{
  public function build()
  {
    $this-&gt;form-&gt;add(new \Library\StringField(array(
        'label' =&gt; 'Auteur',
        'name' =&gt; 'auteur',
        'maxLength' =&gt; 20,
        'validators' =&gt; array(
          new \Library\MaxLengthValidator('L\'auteur spécifié est trop long (20 caractères maximum)', 20),
          new \Library\NotNullValidator('Merci de spécifier l\'auteur de la news'),
        ),
       )))
       -&gt;add(new \Library\StringField(array(
        'label' =&gt; 'Titre',
        'name' =&gt; 'titre',
        'maxLength' =&gt; 100,
        'validators' =&gt; array(
          new \Library\MaxLengthValidator('Le titre spécifié est trop long (100 caractères maximum)', 100),
          new \Library\NotNullValidator('Merci de spécifier le titre de la news'),
        ),
       )))
       -&gt;add(new \Library\TextField(array(
        'label' =&gt; 'Contenu',
        'name' =&gt; 'contenu',
        'rows' =&gt; 8,
        'cols' =&gt; 60,
        'validators' =&gt; array(
          new \Library\NotNullValidator('Merci de spécifier le contenu de la news'),
        ),
       )));
  }
}</code></pre><h5 id="r-modification-des-controleurs" data-claire-element-id="610032">Modification des contrôleurs</h5><h6 id="r-l-ajout-de-commentaire-frontend" data-claire-element-id="610028">L'ajout de commentaire (frontend)</h6><p id="r-610014" data-claire-element-id="610014">Effectuons des premières modifications, en commençant par le formulaire d'ajout de commentaire dans le <em>frontend</em>. En utilisant nos classes, voici les instructions que nous devons exécuter :</p><ul id="r-610025" data-claire-element-id="610025"><li id="r-610016" data-claire-element-id="610016"><p id="r-610015" data-claire-element-id="610015">Si la requête est de type POST (formulaire soumis), il faut créer un nouveau commentaire en le remplissant avec les données envoyées, sinon on crée un nouveau commentaire.</p></li><li id="r-610018" data-claire-element-id="610018"><p id="r-610017" data-claire-element-id="610017">On instancie notre constructeur de formulaire en lui passant le commentaire en argument.</p></li><li id="r-610020" data-claire-element-id="610020"><p id="r-610019" data-claire-element-id="610019">On invoque la méthode de construction du formulaire.</p></li><li id="r-610022" data-claire-element-id="610022"><p id="r-610021" data-claire-element-id="610021">Si le formulaire est valide, on enregistre le commentaire en BDD.</p></li><li id="r-610024" data-claire-element-id="610024"><p id="r-610023" data-claire-element-id="610023">On passe le formulaire généré à la vue.</p></li></ul><p id="r-610026" data-claire-element-id="610026">Voilà ce que ça donne :</p><pre id="r-610027" data-claire-element-id="610027"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Frontend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeInsertComment(\Library\HTTPRequest $request)
  {
    // Si le formulaire a été envoyé.
    if ($request-&gt;method() == 'POST')
    {
      $comment = new \Library\Entities\Comment(array(
        'news' =&gt; $request-&gt;getData('news'),
        'auteur' =&gt; $request-&gt;postData('auteur'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      ));
    }
    else
    {
      $comment = new \Library\Entities\Comment;
    }
    
    $formBuilder = new \Library\FormBuilder\CommentFormBuilder($comment);
    $formBuilder-&gt;build();
    
    $form = $formBuilder-&gt;form();
    
    if($request-&gt;method() == 'POST' &amp;&amp; $form-&gt;isValid())
    {
      $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;save($comment);
      $this-&gt;app-&gt;user()-&gt;setFlash('Le commentaire a bien été ajouté, merci !');
      $this-&gt;app-&gt;httpResponse()-&gt;redirect('news-'.$request-&gt;getData('news').'.html');
    }
    
    $this-&gt;page-&gt;addVar('comment', $comment);
    $this-&gt;page-&gt;addVar('form', $form-&gt;createView());
    $this-&gt;page-&gt;addVar('title', 'Ajout d\'un commentaire');
  }
  
  // ...
}</code></pre><h6 id="r-la-modification-de-commentaire-l-ajout-et-la-modification-de-news-backend" data-claire-element-id="610031">La modification de commentaire, l'ajout et la modification de news (backend)</h6><p id="r-610029" data-claire-element-id="610029">Normalement, vous devriez être capables, grâce à l'exemple précédent, de parvenir à créer ces trois autres formulaires. Voici le nouveau contrôleur :</p><pre id="r-610030" data-claire-element-id="610030"><code data-claire-semantic="html+php">&lt;?php
namespace Applications\Backend\Modules\News;

class NewsController extends \Library\BackController
{
  // ...
  
  public function executeInsert(\Library\HTTPRequest $request)
  {
    $this-&gt;processForm($request);
    
    $this-&gt;page-&gt;addVar('title', 'Ajout d\'une news');
  }
  
  public function executeUpdate(\Library\HTTPRequest $request)
  {
    $this-&gt;processForm($request);
    
    $this-&gt;page-&gt;addVar('title', 'Modification d\'une news');
  }
  
  public function executeUpdateComment(\Library\HTTPRequest $request)
  {
    $this-&gt;page-&gt;addVar('title', 'Modification d\'un commentaire');
    
    if ($request-&gt;method() == 'POST')
    {
      $comment = new \Library\Entities\Comment(array(
        'id' =&gt; $request-&gt;getData('id'),
        'auteur' =&gt; $request-&gt;postData('auteur'),
        'contenu' =&gt; $request-&gt;postData('contenu')
      ));
    }
    else
    {
      $comment = $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;get($request-&gt;getData('id'));
    }
    
    $formBuilder = new \Library\FormBuilder\CommentFormBuilder($comment);
    $formBuilder-&gt;build();
    
    $form = $formBuilder-&gt;form();
    
    if ($request-&gt;method() == 'POST' &amp;&amp; $form-&gt;isValid())
    {
      $this-&gt;managers-&gt;getManagerOf('Comments')-&gt;save($comment);
      $this-&gt;app-&gt;user()-&gt;setFlash('Le commentaire a bien été modifié');
      $this-&gt;app-&gt;httpResponse()-&gt;redirect('/admin/');
    }
    
    $this-&gt;page-&gt;addVar('form', $form-&gt;createView());
  }
  
  public function processForm(\Library\HTTPRequest $request)
  {
    if ($request-&gt;method() == 'POST')
    {
      $news = new \Library\Entities\News(
        array(
          'auteur' =&gt; $request-&gt;postData('auteur'),
          'titre' =&gt; $request-&gt;postData('titre'),
          'contenu' =&gt; $request-&gt;postData('contenu')
        )
      );
      
      if ($request-&gt;getExists('id'))
      {
        $news-&gt;setId($request-&gt;getData('id'));
      }
    }
    else
    {
      // L'identifiant de la news est transmis si on veut la modifier.
      if ($request-&gt;getExists('id'))
      {
        $news = $this-&gt;managers-&gt;getManagerOf('News')-&gt;getUnique($request-&gt;getData('id'));
      }
      else
      {
        $news = new \Library\Entities\News;
      }
    }
    
    $formBuilder = new \Library\FormBuilder\NewsFormBuilder($news);
    $formBuilder-&gt;build();
    
    $form = $formBuilder-&gt;form();
    
    if ($request-&gt;method() == 'POST' &amp;&amp; $form-&gt;isValid())
    {
      $this-&gt;managers-&gt;getManagerOf('News')-&gt;save($news);
      $this-&gt;app-&gt;user()-&gt;setFlash($news-&gt;isNew() ? 'La news a bien été ajoutée !' : 'La news a bien été modifiée !');
      $this-&gt;app-&gt;httpResponse()-&gt;redirect('/admin/');
    }
    
    $this-&gt;page-&gt;addVar('form', $form-&gt;createView());
  }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
<span class="arrow"></span>
<span class="next">Les validateurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
<span class="next">Le gestionnaire de formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Legestionnairedeformulaires"></a><h2>Le gestionnaire de formulaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
<span class="arrow"></span>
<span class="next">Le constructeur de formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">
<span class="next">L&#039;opérateur instanceof</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-gestionnaire-de-formulaires" data-claire-element-id="610052">Le gestionnaire de formulaires</h4><p id="r-610034" data-claire-element-id="610034">Terminons ce chapitre en améliorant encore notre API permettant la création de formulaire. Je voudrais attirer votre attention sur ce petit passage, que l'on retrouve à chaque fois (que ce soit pour ajouter ou modifier une news ou un commentaire) :</p><pre id="r-610035" data-claire-element-id="610035"><code data-claire-semantic="html+php">&lt;?php
// Nous sommes ici au sein d'un contrôleur
if($request-&gt;method() == 'POST' &amp;&amp; $form-&gt;isValid())
{
  $this-&gt;managers-&gt;getManagerOf('Manager')-&gt;save($comment);
  // ...
}</code></pre><p id="r-610036" data-claire-element-id="610036">Bien que réduit, ce bout de code est lui aussi dupliqué. De plus, si l'on veut vraiment externaliser la gestion du formulaire, alors il va falloir le sortir du contrôleur. Ainsi, il ne restera plus d'opération de traitement dans le contrôleur. On séparera donc bien les rôles : le contrôleur n'aura plus à réfléchir sur le formulaire qu'il traite. En effet, il ne fera que demander au constructeur de formulaire de construire le formulaire qu'il veut, puis demandera au gestionnaire de formulaire de s'occuper de lui s'il a été envoyé. On ne se souciera donc plus de l'aspect interne du formulaire !</p><h5 id="r-conception-du-gestionnaire-de-formulaire" data-claire-element-id="610042">Conception du gestionnaire de formulaire</h5><p id="r-610037" data-claire-element-id="610037">Comme nous venons de le voir, le gestionnaire de formulaire est chargé de traiter le formulaire une fois qu'il a été envoyé. Nous avons donc d'ores et déjà une fonctionnalité de notre classe : celle de traiter le formulaire. Du côté des caractéristiques, penchons-nous du côté des éléments dont notre gestionnaire a besoin pour fonctionner. Le premier élément me paraît évident : comment s'occuper d'un formulaire si on n'y a pas accès ? Ce premier élément est donc bien entendu le formulaire dont il est question. Le deuxième élément, lui, est aussi évident : comment enregistrer l'entité correspondant au formulaire si on n'a pas le <em>manager</em> correspondant ? Le deuxième élément est donc le <em>manager</em> correspondant à l'entité. Enfin, le troisième élément est un peu plus subtil, et il faut réfléchir au contenu de la méthode qui va traiter le formulaire. Cette méthode devra savoir si le formulaire a été envoyé pour pouvoir le traiter (si rien n'a été envoyé, il n'y a aucune raison de traiter quoi que ce soit). Ainsi, pour savoir si le formulaire a été envoyé, il faut que notre gestionnaire de formulaire ait accès à la requête du client afin de connaitre le type de la requête (GET ou POST). Ces trois éléments devront être passés au constructeur de notre objet.</p><p id="r-610038" data-claire-element-id="610038">Schématiquement, voici notre gestionnaire de formulaire (voir la figure suivante).</p><figure id="r-modelisation-de-la-classe-formhandler" data-claire-element-id="610041"><img id="r-610039" data-claire-element-id="610039" src="medias/uploads.siteduzero.com_files_403001_404000_403814.png" alt="Modélisation de la classe FormHandler"/><figcaption>Modélisation de la classe FormHandler</figcaption></figure><h5 id="r-developpement-du-gestionnaire-de-formulaire" data-claire-element-id="610045">Développement du gestionnaire de formulaire</h5><p id="r-610043" data-claire-element-id="610043">Voici le résultat que vous auriez du obtenir :</p><pre id="r-610044" data-claire-element-id="610044"><code data-claire-semantic="html+php">&lt;?php
namespace Library;

class FormHandler
{
  protected $form;
  protected $manager;
  protected $request;

  public function __construct(\Library\Form $form, \Library\Manager $manager, \Library\HTTPRequest $request)
  {
    $this-&gt;setForm($form);
    $this-&gt;setManager($manager);
    $this-&gt;setRequest($request);
  }
  
  public function process()
  {
    if($this-&gt;request-&gt;method() == 'POST' &amp;&amp; $this-&gt;form-&gt;isValid())
    {
      $this-&gt;manager-&gt;save($this-&gt;form-&gt;entity());
      
      return true;
    }

    return false;
  }
  
  public function setForm(\Library\Form $form)
  {
    $this-&gt;form = $form;
  }
  
  public function setManager(\Library\Manager $manager)
  {
    $this-&gt;manager = $manager;
  }
  
  public function setRequest(\Library\HTTPRequest $request)
  {
    $this-&gt;request = $request;
  }
}</code></pre><h5 id="r-modification-des-controleurs-1" data-claire-element-id="610051">Modification des contrôleurs</h5><p id="r-610046" data-claire-element-id="610046">Ici, la modification est très simple. En effet, nous avons juste décentralisé ce bout de code :</p><pre id="r-610047" data-claire-element-id="610047"><code data-claire-semantic="html+php">&lt;?php
if($request-&gt;method() == 'POST' &amp;&amp; $form-&gt;isValid())
{
  $this-&gt;managers-&gt;getManagerOf('Manager')-&gt;save($comment);
  // Autres opérations (affichage d'un message informatif, redirection, etc.).
}</code></pre><p id="r-610048" data-claire-element-id="610048">Il suffit donc de remplacer ce code par la simple invocation de la méthode <code>process()</code> sur notre objet <code>FormHandler</code> :</p><pre id="r-610049" data-claire-element-id="610049"><code data-claire-semantic="html+php">&lt;?php
// On récupère le gestionnaire de formulaire (le paramètre de getManagerOf() est bien entendu à remplacer).
$formHandler = new \Library\FormHandler($form, $this-&gt;managers-&gt;getManagerOf('Comments'), $request);

if ($formHandler-&gt;process())
{
  // Ici ne résident plus que les opérations à effectuer une fois l'entité du formulaire enregistrée
  // (affichage d'un message informatif, redirection, etc.).
}</code></pre><p id="r-610050" data-claire-element-id="610050">Je vous fais confiance pour mettre à jour vos contrôleurs comme il se doit !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
<span class="arrow"></span>
<span class="next">Le constructeur de formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">
<span class="next">L&#039;opérateur instanceof</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039oprateurinstanceof"></a><h2>L&#039;opérateur instanceof</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
<span class="arrow"></span>
<span class="next">Le gestionnaire de formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
<span class="next">Présentation de l&#039;opérateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-610056" data-claire-element-id="610056">Vous êtes-vous déjà demandé s'il était possible de savoir si un objet était une instance de telle classe ? Si vous vous êtes déjà posé cette question, vous n'avez normalement pas trouvé de réponse vraiment claire. Un moyen simple de vérifier une telle chose est d'utiliser l'opérateur <code>instanceof</code>. Ce sera un court chapitre car cette notion n'est pas bien difficile. Il faut juste posséder quelques pré-réquis.</p><p id="r-610057" data-claire-element-id="610057">En voici la liste :</p><ul id="r-610064" data-claire-element-id="610064"><li id="r-610059" data-claire-element-id="610059"><p id="r-610058" data-claire-element-id="610058">Bien maîtriser les notions de <strong>classe</strong>, d'<strong>objet </strong>et d'<strong>instance </strong>.</p></li><li id="r-610061" data-claire-element-id="610061"><p id="r-610060" data-claire-element-id="610060">Bien maîtriser le concept de l'<strong>héritage</strong> (si vous ne maîtrisez pas bien la résolution statique à la volée ce n'est pas bien important).</p></li><li id="r-610063" data-claire-element-id="610063"><p id="r-610062" data-claire-element-id="610062">Savoir ce qu'est une <strong>interface</strong> et savoir s'en servir.</p></li></ul>
</div><a name="Prsentationdel039oprateur"></a><h2>Présentation de l&#039;opérateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">
<span class="arrow"></span>
<span class="next">L&#039;opérateur instanceof</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
<span class="next">instanceof et l&#039;héritage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-presentation-de-l-operateur" data-claire-element-id="610080">Présentation de l'opérateur</h4><p id="r-610065" data-claire-element-id="610065">L'opérateur <code>instanceof</code> permet de vérifier si tel objet est une <em>instance de</em> telle classe. C'est un opérateur qui s'utilise dans une condition. Ainsi, on pourra créer des conditions comme <em>« si</em><code>$monObjet</code><em>est une instance de</em><code>MaClasse</code><em>, alors... »</em>.</p><p id="r-610066" data-claire-element-id="610066">Maintenant voyons comment construire notre condition. À gauche de notre opérateur,nous allons y placer notre objet. À droite de notre opérateur, nous allons placer, comme vous vous en doutez sûrement, le nom de la classe.</p><p id="r-610067" data-claire-element-id="610067">Exemple :</p><pre id="r-610068" data-claire-element-id="610068"><code data-claire-semantic="html+php">&lt;?php
class A { }
class B { }

$monObjet = new A;

if ($monObjet instanceof A) // Si $monObjet est une instance de A.
{
  echo '$monObjet est une instance de A';
}
else
{
  echo '$monObjet n\'est pas une instance de A';
}

if ($monObjet instanceof B) // Si $monObjet est une instance de B.
{
  echo '$monObjet est une instance de B';
}
else
{
  echo '$monObjet n\'est pas une instance de B';
}
?&gt;</code></pre><p id="r-610069" data-claire-element-id="610069">Bref, je pense que vous avez compris le principe. :)</p><aside id="r-610071" data-claire-element-id="610071" data-claire-semantic="information"><p id="r-610070" data-claire-element-id="610070">Si votre version de PHP est ultérieure à la version 5.1, alors aucune erreur fatale ne sera générée si vous utilisez l'opérateur <code>instanceof</code> en spécifiant une classe qui n'a pas été déclarée. La condition renverra tout simplement <code>false</code>. ;)</p></aside><p id="r-610072" data-claire-element-id="610072">Il y a cependant plusieurs façons de procéder et quelques astuces (c'est d'ailleurs pour toutes les présenter que j'ai créé ce chapitre).</p><p id="r-610073" data-claire-element-id="610073">Parmi ces méthodes, il y en a une qui consiste à placer le nom de la classe pour laquelle on veut vérifier que tel objet est une instance dans une variable sous forme de chaîne de caractères. Exemple :</p><pre id="r-610074" data-claire-element-id="610074"><code data-claire-semantic="html+php">&lt;?php
class A { }
class B { }

$monObjet = new A;

$classeA = 'A';
$classeB = 'B';

if ($monObjet instanceof $classeA)
{
  echo '$monObjet est une instance de ', $classeA;
}
else
{
  echo '$monObjet n\'est pas une instance de ', $classeA;
}

if ($monObjet instanceof $classeB)
{
  echo '$monObjet est une instance de ', $classeB;
}
else
{
  echo '$monObjet n\'est pas une instance de ', $classeB;
}
?&gt;</code></pre><aside id="r-610076" data-claire-element-id="610076" data-claire-semantic="error"><p id="r-610075" data-claire-element-id="610075">Attention ! Vous ne pouvez spécifier le nom de la classe entre apostrophes ou guillemets directement dans la condition ! Vous devez obligatoirement passer par une variable. Si vous le faites directement, vous obtiendrez une belle erreur d'analyse.</p></aside><p id="r-610077" data-claire-element-id="610077">Une autre façon d'utiliser cet opérateur est de spécifier un autre objet à la place du nom de la classe. La condition renverra <code>true</code> si les deux objets sont des instances de la même classe. Exemple :</p><pre id="r-610078" data-claire-element-id="610078"><code data-claire-semantic="html+php">&lt;?php
class A { }
class B { }

$a = new A;
$b = new A;
$c = new B;

if ($a instanceof $b)
{
  echo '$a et $b sont des instances de la même classe';
}
else
{
  echo '$a et $b ne sont pas des instances de la même classe';
}

if ($a instanceof $c)
{
  echo '$a et $c sont des instances de la même classe';
}
else
{
  echo '$a et $c ne sont pas des instances de la même classe';
}
?&gt;</code></pre><p id="r-610079" data-claire-element-id="610079">Et voilà. Vous connaissez les trois méthodes possibles pour utiliser cet opérateur. Pourtant, il existe encore quelques effets que peut produire <code>instanceof</code>. Poursuivons donc ce chapitre tranquillement. :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">
<span class="arrow"></span>
<span class="next">L&#039;opérateur instanceof</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
<span class="next">instanceof et l&#039;héritage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="instanceofetl039hritage"></a><h2>instanceof et l&#039;héritage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;opérateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
<span class="next">instanceof et les interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-instanceof-et-l-heritage" data-claire-element-id="610086">instanceof et l'héritage</h4><p id="r-610081" data-claire-element-id="610081">L'héritage est de retour ! En effet, <code>instanceof</code> a un comportement bien particulier avec les classes qui héritent entre elles. Voici ces effets.</p><p id="r-610082" data-claire-element-id="610082">Vous vous souvenez sans doute (enfin j'espère :-° ) de la première façon d'utiliser l'opérateur. Voici une révélation : la condition renvoie <code>true</code> si la classe spécifiée est une classe <strong>parente</strong> de la classe instanciée par l'objet spécifié. Exemple :</p><pre id="r-610083" data-claire-element-id="610083"><code data-claire-semantic="html+php">&lt;?php
class A { }
class B extends A { }
class C extends B { }

$b = new B;

if ($b instanceof A)
{
  echo '$b est une instance de A ou $b instancie une classe qui est une fille de A';
}
else
{
  echo '$b n\'est pas une instance de A et $b instancie une classe qui n\'est pas une fille de A';
}

if ($b instanceof C)
{
  echo '$b est une instance de C ou $b instancie une classe qui est une fille de C';
}
else
{
  echo '$b n\'est pas une instance de C et $b instancie une classe qui n\'est pas une fille de C';
}
?&gt;</code></pre><p id="r-610084" data-claire-element-id="610084">Voilà, j'espère que vous avez compris le principe car celui-ci est le même avec les deuxième et troisième méthodes.</p><p id="r-610085" data-claire-element-id="610085">Nous allons donc maintenant terminer ce chapitre avec une dernière partie concernant les réactions de l'opérateur avec les interfaces. Ce sera un mélange des deux premières parties, donc si vous êtes perdus, relisez bien tout (eh oui, j'espère que vous n'avez pas oublié l'héritage entre interfaces :-° ).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;opérateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
<span class="next">instanceof et les interfaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="instanceofetlesinterfaces"></a><h2>instanceof et les interfaces</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
<span class="arrow"></span>
<span class="next">instanceof et l&#039;héritage</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-instanceof-et-les-interfaces" data-claire-element-id="610119">instanceof et les interfaces</h4><p id="r-610087" data-claire-element-id="610087">Voyons maintenant les effets produits par l'opérateur avec les interfaces.</p><div id="r-610089" data-claire-element-id="610089" data-claire-semantic="question"><p id="r-610088" data-claire-element-id="610088">Hein ? Comment ça ? Je comprends pas... Comment peut-on vérifier qu'un objet soit une instance d'une interface sachant que c'est impossible ? o_O</p></div><p id="r-610090" data-claire-element-id="610090">Comme vous le dites si bien, il est impossible de créer une instance d'une interface (au même titre que de créer une instance d'une classe abstraite, ce qu'est à peu près une interface). L'opérateur va donc renvoyer <code>true</code> si tel objet instancie une classe implémentant telle interface.</p><p id="r-610091" data-claire-element-id="610091">Voici un exemple :</p><pre id="r-610092" data-claire-element-id="610092"><code data-claire-semantic="html+php">&lt;?php
interface iA { }
class A implements iA { }
class B { }

$a = new A;
$b = new B;

if ($a instanceof iA)
{
  echo 'Si iA est une classe, alors $a est une instance de iA ou $a instancie une classe qui est une fille de iA. Sinon, $a instancie une classe qui implémente iA.';
}
else
{
  echo 'Si iA est une classe, alors $a n\'est pas une instance de iA et $a n\'instancie aucune classe qui est une fille de iA. Sinon, $a instancie une classe qui n\'implémente pas iA.';
}

if ($b instanceof iA)
{
  echo 'Si iA est une classe, alors $b est une instance de iA ou $b instancie une classe qui est une fille de iA. Sinon, $b instancie une classe qui implémente iA.';
}
else
{
  echo 'Si iA est une classe, alors $b n\'est pas une instance de iA et $b n\'instancie aucune classe qui est une fille de iA. Sinon, $b instancie une classe qui n\'implémente pas iA.';
}
?&gt;</code></pre><p id="r-610093" data-claire-element-id="610093">Ce code se passe de commentaires, les valeurs affichées détaillant assez bien je pense. :p</p><p id="r-610094" data-claire-element-id="610094">Après avoir vu l'utilisation de l'opérateur avec les interfaces, nous allons voir comment il réagit lorsqu'on lui passe en paramètre une interface qui est héritée par une autre interface qui est implémentée par une classe qui est instanciée. Vous voyez à peu près à quoi je fais sréférence ? Je vais procéder en PHP au cas où vous n'ayez pas tout suivi. :p</p><pre id="r-610095" data-claire-element-id="610095"><code data-claire-semantic="html+php">&lt;?php
interface iParent { }
interface iFille extends iParent { }
class A implements iFille { }

$a = new A;

if ($a instanceof iParent)
{
  echo 'Si iParent est une classe, alors $a est une instance de iParent ou $a instancie une classe qui est une fille de iParent. Sinon, $a instancie une classe qui implémente iParent ou une fille de iParent.';
}
else
{
  echo 'Si iParent est une classe, alors $a n\'est pas une instance de iParent et $a n\'instancie aucune classe qui est une fille de iParent. Sinon, $a instancie une classe qui n\'implémente ni iParent, ni une de ses filles.';
}
?&gt;</code></pre><p id="r-610096" data-claire-element-id="610096">Vous savez maintenant tous les comportements que peut adopter cet opérateur et tous les effets qu'il peut produire (tout est écrit dans le précédent code).</p><h5 id="r-en-resume-205" data-claire-element-id="610118">En résumé</h5><ul id="r-610103" data-claire-element-id="610103"><li id="r-610098" data-claire-element-id="610098"><p id="r-610097" data-claire-element-id="610097">L'opérateur <code>instanceof</code> permet de vérifier la nature de la classe dont l'objet testé est une instance.</p></li><li id="r-610100" data-claire-element-id="610100"><p id="r-610099" data-claire-element-id="610099">Cet opérateur permet de vérifier qu'un certain objet est bien une instance d'une classe fille de telle classe.</p></li><li id="r-610102" data-claire-element-id="610102"><p id="r-610101" data-claire-element-id="610101">Cet opérateur permet de vérifier qu'un certain objet est une instance d'une classe implémentant telle interface, ou que l'une de ses classes mère l'implémente.</p></li></ul><p id="r-610104" data-claire-element-id="610104">Ce tutoriel est maintenant terminé. J'espère qu'il vous aura plu et apporté beaucoup de connaissances. :)</p><h6 id="r-pour-aller-plus-loin-1" data-claire-element-id="610117">Pour aller plus loin</h6><p id="r-610105" data-claire-element-id="610105">Dès à présent, vous êtes prêts à être lâchés dans la nature. Cependant, il est possible d'aller encore plus loin dans le monde de l'orienté objet. En effet, la meilleure technique pour progresser est de <strong>pratiquer</strong> afin d'être le plus à l'aise possible avec ce paradigme. Cette pratique s'acquiert en utilisant des <strong>frameworks</strong> orientés objets. Il en existe un bon nombre, dont voici les principaux.</p><ul id="r-610114" data-claire-element-id="610114"><li id="r-610107" data-claire-element-id="610107"><p id="r-610106" data-claire-element-id="610106"><a href="http://symfony.com/">Symfony</a>. Framework assez complet et puissant, il est beaucoup utilisé dans le monde professionnel (le Site du Zéro l'utilise par exemple). Si ce framework vous intéresse, je vous conseille de lire le <a href="http://www.siteduzero.com/tutoriel-3-517569-symfony2-un-tutoriel-pour-debuter-avec-le-framework-symfony2.html">tutoriel sur Symfony</a> disponible sur ce site. Si vous avez lu et compris la partie <em>« Réalisation d'un site web »</em>, l'apprentissage des bases de ce <em>framework</em> sera quasi instantanée (cette partie du tutoriel s'inspire beaucoup de Symfony).</p></li><li id="r-610109" data-claire-element-id="610109"><p id="r-610108" data-claire-element-id="610108"><a href="http://framework.zend.com/">Zend Framework</a>. Framework encore plus complet, souvent comparé à une usine à gaz. Certains diront que c'est une qualité (car le framework est par conséquent très souple et s'adapte à votre façon de coder), d'autres un défaut. Ce framework est aussi très utilisé dans le milieu professionnel.</p></li><li id="r-610111" data-claire-element-id="610111"><p id="r-610110" data-claire-element-id="610110"><a href="http://codeigniter.com/">CodeIgniter</a>. Framework bien plus léger mais moins complet. C'est à vous de compléter sa bibliothèque, soit en téléchargeant des scripts que la communauté a développés, soit en les créant vous-mêmes. <a href="http://www.siteduzero.com/tutoriel-3-370694-codeigniter-le-framework-aux-services-des-zeros.html">Lire le tutoriel sur CodeIgniter</a> disponible sur ce site.</p></li><li id="r-610113" data-claire-element-id="610113"><p id="r-610112" data-claire-element-id="610112"><a href="http://cakephp.org/">CakePHP</a>. Ce framework a cherché du même côté que Symfony pour trouver son inspiration. Par conséquent, là aussi, l'apprentissage des bases de ce framework sera très rapide. Si vous voulez vous pencher sur CakePHP, je vous conseille le <a href="http://book.cakephp.org/2.0/en/index.html"><em>CakePHP Cookbook</em></a>.</p></li></ul><div id="r-610116" data-claire-element-id="610116"><p id="r-610115" data-claire-element-id="610115"><em>Merci à <a href="http://www.siteduzero.com/membres-294-1256.html">Talus</a> et <a href="http://www.siteduzero.com/membres-294-3082.html">Lpu8er</a> concernant l'UML, à <a href="http://www.siteduzero.com/membres-294-121384.html">christophetd</a> pour la correction orthographique de quelques chapitres,<br/> à <a href="http://www.siteduzero.com/membres-294-72901.html">prs513rosewood</a> pour l'installation de Dia sous Mac OS, et à tous les autres qui commentent pour m'aider ou m'encourager !</em></p></div>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php">Programmez en orienté objet en PHP</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
[Théorie] Les bases de la POO
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/introduction-a-la-poo">Introduction à la POO</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/qu-est-ce-que-la-poo">
Qu&#039;est-ce que la POO ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-une-classe-2">
Créer une classe
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-la-classe">Utiliser la classe</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/creer-et-manipuler-un-objet">
Créer et manipuler un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-accesseurs-et-mutateurs">
Les accesseurs et mutateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-7">
Le constructeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-auto-chargement-de-classes">
L&#039;auto-chargement de classes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-de-resolution-de-portee">L&#039;opérateur de résolution de portée</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-constantes-de-classe">
Les constantes de classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-attributs-et-methodes-statiques">
Les attributs et méthodes statiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/manipulation-de-donnees-stockees">Manipulation de données stockées</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-entite-un-objet">
Une entité, un objet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-hydratation">
L&#039;hydratation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-sa-bdd-correctement">
Gérer sa BDD correctement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-mini-jeu-de-combat">TP : Mini-jeu de combat</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-qu-on-va-faire">
Ce qu&#039;on va faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/premiere-etape-le-personnage">
Première étape : le personnage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/seconde-etape-stockage-en-base-de-donnees">
Seconde étape : stockage en base de données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/troisieme-etape-utilisation-des-classes">
Troisième étape : utilisation des classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-2">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-heritage-3">L&#039;héritage</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/notion-d-heritage-1">
Notion d&#039;héritage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-nouveau-type-de-visibilite-protected">
Un nouveau type de visibilité : protected
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/imposer-des-contraintes">
Imposer des contraintes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resolution-statique-a-la-volee">
Résolution statique à la volée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-des-personnages-specialises">TP : Des personnages spécialisés</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-1">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-27">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ameliorations-possibles-3">
Améliorations possibles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-methodes-magiques-3">Les méthodes magiques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-1">
Le principe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/surcharger-les-attributs-et-methodes">
Surcharger les attributs et méthodes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/lineariser-ses-objets">
Linéariser ses objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/autres-methodes-magiques">
Autres méthodes magiques
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
[Théorie] Techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-objets-en-profondeur">Les objets en profondeur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/un-objet-un-identifiant">
Un objet, un identifiant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/comparons-nos-objets">
Comparons nos objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/parcourons-nos-objets">
Parcourons nos objets
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-interfaces-1">Les interfaces</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-et-creation-d-interfaces">
Présentation et création d&#039;interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/heriter-ses-interfaces">
Hériter ses interfaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/interfaces-predefinies">
Interfaces prédéfinies
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-exceptions-10">Les exceptions</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-differente-gestion-des-erreurs">
Une différente gestion des erreurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/des-exceptions-specialisees">
Des exceptions spécialisées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-erreurs-facilement">
Gérer les erreurs facilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-traits-2">Les traits</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-principe-des-traits">
Le principe des traits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/plus-loin-avec-les-traits">
Plus loin avec les traits
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-api-de-reflexivite">L&#039;API de réflexivité</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-ses-classes">
Obtenir des informations sur ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-attributs-de-ses-classes">
Obtenir des informations sur les attributs de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/obtenir-des-informations-sur-les-methodes-de-ses-classes">
Obtenir des informations sur les méthodes de ses classes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/utiliser-des-annotations">
Utiliser des annotations
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-presentation-1-2">UML : présentation (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-kezako">
UML, kézako ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions">
Modéliser les interactions
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/uml-modelisons-nos-classes-2-2">UML : modélisons nos classes (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ayons-les-bons-outils">
Ayons les bons outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-une-classe-2">
Modéliser une classe
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/modeliser-les-interactions-1">
Modéliser les interactions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/exploiter-son-diagramme">
Exploiter son diagramme
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-design-patterns">Les design patterns</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/laisser-une-classe-creant-les-objets-le-pattern-factory">
Laisser une classe créant les objets : le pattern Factory
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ecouter-ses-objets-le-pattern-observer">
Écouter ses objets : le pattern Observer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/separer-ses-algorithmes-le-pattern-strategy">
Séparer ses algorithmes : le pattern Strategy
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-classe-une-instance-le-pattern-singleton">
Une classe, une instance : le pattern Singleton
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-injection-de-dependances">
L&#039;injection de dépendances
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/tp-un-systeme-de-news">TP : un système de news</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ce-que-nous-allons-faire-3">
Ce que nous allons faire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/correction-28">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
[Pratique] Réalisation d&#039;un site web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/description-de-l-application">Description de l&#039;application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/une-application-qu-est-ce-que-c-est">
Une application, qu&#039;est ce que c&#039;est ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-entrailles-de-l-application">
Les entrailles de l&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/resume-du-deroulement-de-l-application">
Résumé du déroulement de l&#039;application
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/developpement-de-la-bibliotheque">Développement de la bibliothèque</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-2">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-routeur-2">
Le routeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-back-controller">
Le back controller
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/la-page-2">
La page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-l-utilisateur">
Bonus : l&#039;utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/bonus-2-la-configuration">
Bonus 2 : la configuration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-frontend">Le frontend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-3">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/ajoutons-des-commentaires">
Ajoutons des commentaires
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-backend">Le backend</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-application-5">
L&#039;application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-connexion">
Le module de connexion
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-module-de-news-1">
Le module de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/n-oublions-pas-les-commentaires">
N&#039;oublions pas les commentaires !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/gerer-les-formulaires">Gérer les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-formulaire-2">
Le formulaire
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/les-validateurs">
Les validateurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-constructeur-de-formulaires">
Le constructeur de formulaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/le-gestionnaire-de-formulaires">
Le gestionnaire de formulaires
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 4</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/l-operateur-instanceof">L&#039;opérateur instanceof</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/presentation-de-l-operateur">
Présentation de l&#039;opérateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
instanceof et l&#039;héritage
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-les-interfaces">
instanceof et les interfaces
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<div class="allItemsSmall" title="À venir">
Fatigué(e) de lire sur un écran ? Découvrez ce cours <a href="http://62.4.17.167/informatique/book/programmez-en-oriente-objet-en-php">en livre</a>.
</div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-en-oriente-objet-en-php/instanceof-et-l-heritage">
<span class="arrow"></span>
<span class="next">instanceof et l&#039;héritage</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/rogrammez-en-oriente-objet-en-php.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:16:14 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/rogrammez-en-oriente-objet-en-php.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:48:53 GMT -->
</html>
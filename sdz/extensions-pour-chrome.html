<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/extensions-pour-chrome.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:42:38 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/extensions-pour-chrome.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:12:23 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Extensions pour chrome</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/extensions-pour-chrome.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Extensions pour chrome</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Extensionspourchrome">Extensions pour chrome</a><br/><a href="#Introduction">Introduction</a><br/><a href="#Lesextensionsdegoogle">Les extensions de google</a><br/><a href="#Dujavascript">Du javascript</a><br/><a href="#Decetutoriel">De ce tutoriel</a><br/><a href="#Unepremireextension">Une première extension ?</a><br/><a href="#Prparation">Préparation</a><br/><a href="#Crerl039extension">Créer l&#039;extension</a><br/><a href="#Dansgooglechrome">Dans google chrome</a><br/><a href="#Bugs">Bugs</a><br/><a href="#Stockerdesdonnes">Stocker des données</a><br/><a href="#Latechniquedebase">La technique de base</a><br/><a href="#Lespagesd039options">Les pages d&#039;options</a><br/><a href="#Latourdecontrle">La tour de contrôle</a><br/><a href="#Informationsgnrales">Informations générales</a><br/><a href="#Cration">Création</a><br/><a href="#UnminiTPcompterebours">Un mini TP : compte à rebours</a><br/><a href="#Allerbeaucoupplusloin">Aller (beaucoup) plus loin</a><br/><a href="#Naviguerentrefentresetonglets">Naviguer entre fenêtres et onglets</a><br/><a href="#Gnralits">Généralités</a><br/><a href="#Utilisationsimple">Utilisation simple</a><br/><a href="#Plusdepossibilits">Plus de possibilités</a><br/><a href="#Prendreunephoto">Prendre une photo</a><br/><a href="#TPZ-Blocnote">TP : Z-Bloc note</a><br/><a href="#Cahierdescharges">Cahier des charges</a><br/><a href="#Paspas">Pas à pas</a><br/><a href="#Solution">Solution</a><br/></div>
<a name="Extensionspourchrome"></a><h2>Extensions pour chrome</h2><div class="content" role="article">
<p id="r-382579" data-claire-element-id="382579">Salut à tous.<br/> Dans ce tutoriel, vous allez apprendre à faire une extension google chrome !</p><p id="r-382580" data-claire-element-id="382580">A quoi ça sert ? Il y a des milliers d'utilisations différentes. Vous pouvez gagner du temps quand vous surfez, modifier automatiquement des sites web en éliminant ce qui ne vous plaît pas, faire des blagues à vos amis, espionner votre famille, tricher aux questionnaires, afficher le nombre de messages que vous avez, chronométrer votre temps de surf, faire cuire vos pâtes...</p><p id="r-382581" data-claire-element-id="382581">En 2 heures 59, vous serez devenu le maître de la navigation web.</p><p id="r-382582" data-claire-element-id="382582">Bonne lecture !</p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Introduction"></a><h2>Introduction</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
<span class="next">Les extensions de google</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-382584" data-claire-element-id="382584">Je vous fais grâce d'une petite introduction à ce tutoriel.<br/> N'ayez pas peur, je vais être rapide. :ninja:</p>
</div><a name="Lesextensionsdegoogle"></a><h2>Les extensions de google</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">
<span class="arrow"></span>
<span class="next">Introduction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
<span class="next">Du javascript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-extensions-de-google" data-claire-element-id="382606">Les extensions de google</h4><h5 id="r-qu-est-ce-3" data-claire-element-id="382597">Qu'est-ce ?</h5><p id="r-382585" data-claire-element-id="382585">Hem, vous avez déjà entendu parler de google chrome ?</p><p id="r-382586" data-claire-element-id="382586">Pour information, google chrome est le navigateur fait par... google. Sa première version a été conçue en 2007 par des anciens développeurs de firefox, puis son code source a été donné à des développeurs libres, fondant ainsi la communauté Chromium.</p><p id="r-382587" data-claire-element-id="382587">Chrome n'est pas lui-même open-source, mais Chromium l'est totalement. Chrome n'a que quelques fonctionnalités supplémentaires, comme le logo.</p><p id="r-382588" data-claire-element-id="382588">Je dirai &quot;extensions chrome&quot; par abus de langage, car en fait, ces extensions sont également compatible avec chromium et tous ses dérivés (d'ailleurs, c'est le logo de Chromium qui est repris pour ce tutoriel).<br/> En fait, si j'utilise cette expression, c'est pour ces deux raisons :</p><ul id="r-382593" data-claire-element-id="382593"><li id="r-382590" data-claire-element-id="382590"><p id="r-382589" data-claire-element-id="382589">Google gère la galerie d'extensions,</p></li><li id="r-382592" data-claire-element-id="382592"><p id="r-382591" data-claire-element-id="382591">On trouve la documentation de la création des extensions sur <a href="http://code.google.com/">code.google</a>.</p></li></ul><p id="r-382594" data-claire-element-id="382594">Les extensions chrome sont des mini programmes qu'on ajoute aux dérivés de chromium, qui permettent de leur rajouter de fonctionnalités.</p><p id="r-382595" data-claire-element-id="382595">Si vous n'en avez jamais vu, je vous invite à vous rendre sur cette page pour comprendre ce que c'est : <a href="http://www.google.com/support/chrome/bin/answer.py?answer=154007">http://www.google.com/support/chrome/b [...] answer=154007</a> et sur celle-ci pour en télécharger : <a href="https://chrome.google.com/extensions/?hl=fr">https://chrome.google.com/extensions/?hl=fr</a>.</p><p id="r-382596" data-claire-element-id="382596">Je vous mets ici la documentation de google sur ses extensions (en anglais) : <a href="http://code.google.com/chrome/extensions/getstarted.html">http://code.google.com/chrome/extensions/getstarted.html</a>.</p><h5 id="r-pourquoi-en-faire" data-claire-element-id="382605">Pourquoi en faire ?</h5><p id="r-382598" data-claire-element-id="382598">Plusieurs raisons peuvent vous pousser à en faire vous-même :<br/> - Vous avez envie de vous rendre utile aux autres, en leur proposant une extension dont ils ont besoin.<br/> - Vous avez besoin de faire des manipulations qui ne concernent que vous sur certains sites, ou d'automatiser des taches longues ou fastidieuses.<br/> - Vous avez envie de vous amuser avec des extensions parfois inutiles, parfois étonnamment pratiques.</p><p id="r-382599" data-claire-element-id="382599">Tenez, à la moitié du tutoriel, j'ai réalisé que j'oubliais l'espace avant les caractères ?:! de façon systématique (merci pour le rappel de Thunderseb).<br/> Alors je me suis bricolé une extension qui me les rajoute automatiquement dans la zone de rédaction, et qui me rajoute en prime sous &quot;[-] hauteur [+]&quot; (sous les smilies) une option &quot;[-] largeur [+]&quot;.</p><p id="r-382600" data-claire-element-id="382600">Vous apprendrez aussi à faire cuire vos pâtes, à enregistrer l'historique dans l'extension de sorte qu'on ne puisse pas le supprimer, à faire des mauvaises blagues à vos amis, ou même à tricher aux jeux en lignes codés en javascript.</p><p id="r-382601" data-claire-element-id="382601">Mais si vous créez quelque chose de vraiment utile, vous pouvez également le faire partager à tous via google... et croyez-moi, c'est remarquablement facile !</p><p id="r-382602" data-claire-element-id="382602">On peut également citer d'autres projets sur le site du Zero, comme celui de pepetiti : <a href="http://forum.beezik.com/forum/viewtopic.php?f=48&amp;p=28370&amp;sid=0fd201b2f78139fb0ef441c958683060">BeeZik Multi</a>, qui permet de gagner un temps considérable pour télécharger des musiques.</p><p id="r-382603" data-claire-element-id="382603">Vous pouvez même créer une extension uniquement dédiée à votre site, pour ajouter des fonctionnalités à celui-ci, et séduire les utilisateurs (imaginez une bannière sur votre site : &quot;téléchargez notre extension chrome !&quot; ).</p><p id="r-382604" data-claire-element-id="382604">Autant de raisons de s'y mettre !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">
<span class="arrow"></span>
<span class="next">Introduction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
<span class="next">Du javascript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dujavascript"></a><h2>Du javascript</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
<span class="arrow"></span>
<span class="next">Les extensions de google</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
<span class="next">De ce tutoriel</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-du-javascript" data-claire-element-id="382610">Du javascript</h4><p id="r-382607" data-claire-element-id="382607">Il faut savoir que les extensions de chrome utilisent comme langage le javascript.<br/> Il vous faut donc connaitre au moins les bases de ce langage, et là, je vous renvoie au <a href="http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html">tutoriel de Nesquik69 et Thunderseb</a>.</p><p id="r-382608" data-claire-element-id="382608">C'est mieux d'avoir une bonne connaissance du javascript, mais si vous ne voulez apprendre que les bases, j'indiquerai de temps à autre les connaissances requises. ;)</p><p id="r-382609" data-claire-element-id="382609">Si le tutoriel de Nesquik69 et Thunderseb n'est toujours pas fini quand vous lisez le mien, sachez que j'ai appris moi-même le javascript par un tutoriel plus vieux, <a href="http://www.siteduzero.com/tutoriel-3-8158-tout-sur-le-javascript.html">celui de JoSé2 </a> (il commence à devenir obsolète). J'ai également utilisé <a href="http://www.siteduzero.com/tutoriel-3-4564-dhtml-et-javascript.html">le tutoriel de Fedaykin</a>, et un <a href="http://www.siteduzero.com/tutoriel-3-4745-ajax-et-l-echange-de-donnees-en-javascript.html">autre tutoriel de Nesquik69 et Thunderseb</a>.<br/> J'indiquerai quand vous devrez aller piocher dans ces tutoriels, et je mettrai à jour en fonction de l'avancement du nouveau tutoriel, de 20% quand j'écris ces lignes.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
<span class="arrow"></span>
<span class="next">Les extensions de google</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
<span class="next">De ce tutoriel</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Decetutoriel"></a><h2>De ce tutoriel</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
<span class="arrow"></span>
<span class="next">Du javascript</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">
<span class="next">Une première extension ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-de-ce-tutoriel" data-claire-element-id="382623">De ce tutoriel</h4><p id="r-382611" data-claire-element-id="382611">Ce tutoriel a pour but de vous apprendre à créer des extensions (vous l'aviez deviné ? :p ).</p><p id="r-382612" data-claire-element-id="382612">Il existe une documentation très fournie de google sur le développement de chrome. Mais déjà qu'une documentation n'est pas toujours simple à comprendre, il faut également considérer que beaucoup de programmeurs sont arrêtés par cette phrase :</p><p id="r-382613" data-claire-element-id="382613"><cite>Citation : google</cite></p><blockquote id="r-382615" data-claire-element-id="382615"><p id="r-382614" data-claire-element-id="382614">Vous voudriez créer et mettre en ligne votre propre extension ? Voici comment faire <strong>(en anglais uniquement).</strong></p></blockquote><p id="r-382616" data-claire-element-id="382616">:lol:</p><p id="r-382617" data-claire-element-id="382617">J'aimerai préciser que ce tutoriel n'est <strong>pas</strong> une infâme et mauvaise traduction de la documentation de google (en plus je parle bien anglais, donc elle ne saurait être mauvaise :D ).</p><p id="r-382618" data-claire-element-id="382618">Il a pour vocation de vous simplifier considérablement la tâche :<br/> - en proposant un certain nombre de TPs et d'exemples.<br/> - en décortiquant la documentation pour en faire quelque chose de plus facilement compréhensible (j'ai bien lu 10 fois chaque page avant d'y arriver).</p><p id="r-382619" data-claire-element-id="382619">Cependant, comme le tutoriel javascript de thunderseb et nesquik69 n'est pas terminé quand je rédige mon tutoriel, il est possible que certaines de mes précisions soient inutiles dans le futur, mais je mettrai à jour le tutoriel en supprimant celles-ci.</p><p id="r-382620" data-claire-element-id="382620">Eh bien, l'introduction n'était pas si dure à suivre, non ? Quoi, vraiment trop court et simple ? Presque inutile ?</p><p id="r-382621" data-claire-element-id="382621">Tant mieux, parce que ce n'était pas censé être le chapitre le plus difficile. Rassurez-vous, vous aurez à réfléchir un peu plus pendant les TPs ! :D</p><p id="r-382622" data-claire-element-id="382622">Sur ce, je vous laisse continuer...</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
<span class="arrow"></span>
<span class="next">Du javascript</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">
<span class="next">Une première extension ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unepremireextension"></a><h2>Une première extension ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
<span class="arrow"></span>
<span class="next">De ce tutoriel</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
<span class="next">Préparation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-382625" data-claire-element-id="382625">Bon, je sais que tout le monde veut des résultats, et vite. :pirate: <br/> Je vous donc vous faire une fleur.<br/> Vous allez faire votre première extension : &quot;Hello world&quot; &quot;Hello Zozor&quot; (juste pour casser les bonnes vieilles habitudes).</p>
</div><a name="Prparation"></a><h2>Préparation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">
<span class="arrow"></span>
<span class="next">Une première extension ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
<span class="next">Créer l&#039;extension</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-preparation-14" data-claire-element-id="382634">Préparation</h4><p id="r-382626" data-claire-element-id="382626">Pour comprendre ce chapitre, vous aurez besoin d'avoir lu <a href="http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html">le tutoriel de Nesquik69 et Thunderseb</a>.</p><p id="r-382627" data-claire-element-id="382627">Vous avez donc besoin d'un éditeur de texte comme notepad++ (de préférence avec coloration syntaxique).<br/> Vous aurez également certainement besoin de google chrome (ou un de ses frères).</p><p id="r-382628" data-claire-element-id="382628">Attention, voici l'objectif de ce chapitre :<br/> Afficher notre propre extension dans la barre d'extensions de google chrome.</p><figure id="r-382630" data-claire-element-id="382631"><img id="r-382629" data-claire-element-id="382629" src="medias/uploads.siteduzero.com_files_266001_267000_266806.jpg" alt="Image utilisateur"/></figure><p id="r-382632" data-claire-element-id="382632">L'extension sera toujours visible à l'endroit entouré sur l'image, c'est ce que google appelle une action de navigateur (browser action).</p><p id="r-382633" data-claire-element-id="382633">Allez, à vos souris !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">
<span class="arrow"></span>
<span class="next">Une première extension ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
<span class="next">Créer l&#039;extension</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crerl039extension"></a><h2>Créer l&#039;extension</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
<span class="arrow"></span>
<span class="next">Préparation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
<span class="next">Dans google chrome</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-l-extension" data-claire-element-id="382653">Créer l'extension</h4><p id="r-382635" data-claire-element-id="382635">Vous avez besoin de créer une nouveau dossier pour chaque extension.<br/> Créez un dossier où vous voulez sur votre ordinateur appelé tutoriel Chrome (ce n'est qu'un exemple, vous pouvez l'appeler autrement, c'est juste le nom que je vais utiliser pour qu'on s'y retrouve ;) ).</p><h5 id="r-creation-du-manifeste" data-claire-element-id="382643">Création du manifeste</h5><p id="r-382636" data-claire-element-id="382636">Créez un premier fichier dans ce dossier, le manifeste : &quot;manifest.json&quot; (sans &quot;e&quot; à manifeste, car c'est l'écriture anglaise).</p><p id="r-382637" data-claire-element-id="382637">C'est le fichier le plus important de votre extension.</p><aside id="r-382639" data-claire-element-id="382639" data-claire-semantic="warning"><p id="r-382638" data-claire-element-id="382638">Vous ne pouvez pas changer le nom de ce fichier (résistez à la tentation de l'appeler principal.json ou un truc du genre).</p></aside><p id="r-382640" data-claire-element-id="382640">Je vous expliquerai plus tard ce qu'est le format JSON, si vous ne savez pas.</p><p id="r-382641" data-claire-element-id="382641">Vous allez ouvrir votre manifeste, et copier-coller sans forcément chercher le comprendre le code suivant.</p><pre id="r-382642" data-claire-element-id="382642"><code data-claire-semantic="javascript">{
&quot;name&quot; :&quot;extension chrome&quot;,
&quot;version&quot; :&quot;1.0&quot;,
&quot;description&quot; :&quot;Le truc du tutoriel&quot;,
&quot;browser_action&quot; :
	{
		&quot;popup&quot; :&quot;dire_bonjour.html&quot;
	}
}</code></pre><h5 id="r-creation-de-la-popup" data-claire-element-id="382652">Création de la &quot;popup&quot;</h5><p id="r-382644" data-claire-element-id="382644">Vous allez créer la &quot;popup&quot;, c'est-à-dire la fenêtre qui se lance quand on clique sur votre extension.</p><p id="r-382645" data-claire-element-id="382645">Elle s'appellera ... bah cherchez vous-même, il faut un peu d'intuition en programmation !</p><div id="r-382647" data-claire-element-id="382647"><p id="r-382646" data-claire-element-id="382646">La réponse est à la ligne 7 du manifeste.</p></div><p id="r-382648" data-claire-element-id="382648">Vous créez donc un fichier vide appelé &quot;dire_bonjour.html&quot;. Là vous allez devoir utiliser vos connaissances en javascript. Vous allez mettre dans cette page le code qui affichera &quot;Hello Zozor&quot;.</p><p id="r-382649" data-claire-element-id="382649">Pour ma part, ça donne :</p><pre id="r-382650" data-claire-element-id="382650"><code data-claire-semantic="html">&lt;script&gt;
alert(&quot;Hello Zozor !&quot;) ;
&lt;/script&gt;</code></pre><p id="r-382651" data-claire-element-id="382651">Pas bien difficile ! :p</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
<span class="arrow"></span>
<span class="next">Préparation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
<span class="next">Dans google chrome</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dansgooglechrome"></a><h2>Dans google chrome</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
<span class="arrow"></span>
<span class="next">Créer l&#039;extension</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
<span class="next">Bugs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-dans-google-chrome" data-claire-element-id="382697">Dans google chrome</h4><h5 id="r-importation-1" data-claire-element-id="382673">Importation</h5><p id="r-382654" data-claire-element-id="382654">Il reste tout de même une dernière étape : l'importation de l'extension sur google chrome.<br/> Elle est très simple, comme vous allez le voir.</p><ul id="r-382669" data-claire-element-id="382669"><li id="r-382656" data-claire-element-id="382656"><p id="r-382655" data-claire-element-id="382655">Ouvrez google chrome.</p></li><li id="r-382658" data-claire-element-id="382658"><p id="r-382657" data-claire-element-id="382657">Ouvrez le menu de google chrome, à droite de la barre d'extension.</p></li><li id="r-382660" data-claire-element-id="382660"><p id="r-382659" data-claire-element-id="382659">Allez dans le menu &quot;outils&quot;.</p></li><li id="r-382662" data-claire-element-id="382662"><p id="r-382661" data-claire-element-id="382661">Cliquez sur &quot;extensions&quot;.</p></li><li id="r-382664" data-claire-element-id="382664"><p id="r-382663" data-claire-element-id="382663">Si vous avez un + devant &quot;Mode développeur&quot;, cliquez dessus.</p></li><li id="r-382666" data-claire-element-id="382666"><p id="r-382665" data-claire-element-id="382665">Choisissez &quot;charger l'extension non empaquetée&quot;(ou &quot;load unpacked extension&quot;).</p></li><li id="r-382668" data-claire-element-id="382668"><p id="r-382667" data-claire-element-id="382667">Sélectionnez le dossier de votre extension : &quot;tutoriel Chrome&quot;.</p></li></ul><p id="r-382670" data-claire-element-id="382670">Si vous avez une erreur, regardez la dernière partie du tutoriel.</p><p id="r-382671" data-claire-element-id="382671">Vous avez à présent dans votre barre d'extension une case blanche, vide.<br/> Maintenant, cliquez dessus...<br/> :magicien: &quot;Hello Zozor&quot;</p><p id="r-382672" data-claire-element-id="382672">:'( Mais... L'icône est blanche, on voit rien...<br/> N'ayez crainte, on va s'en occuper !</p><h5 id="r-quelques-ajouts-graphiques" data-claire-element-id="382696">Quelques ajouts graphiques</h5><h6 id="r-dans-la-popup" data-claire-element-id="382678">Dans la popup</h6><p id="r-382674" data-claire-element-id="382674">Vous devez voir une bulle vide apparaître, pointant sur votre extension.<br/> Ceci est votre popup.<br/> Pour rajouter un peu de déco, vous pouvez ajouter du code dans &quot;dire_bonjour.html&quot;.<br/> Personnellement, j'ajoute juste la balise suivante :</p><pre id="r-382675" data-claire-element-id="382675"><code data-claire-semantic="html">&lt;img src=&quot;http://www.siteduzero.com/Templates/images/designs/2/zozor3.png&quot; alt=&quot;texte alternatif&quot;/&gt;</code></pre><aside id="r-382677" data-claire-element-id="382677" data-claire-semantic="information"><p id="r-382676" data-claire-element-id="382676">Vous pouvez mettre quasiment n'importe quel code html/css/javascript dans votre popup.</p></aside><h6 id="r-l-icone-1" data-claire-element-id="382695">L'icone</h6><p id="r-382679" data-claire-element-id="382679">Ajoutez la ligne de code suivante dans le manifeste, à &quot;browser_action&quot;, juste au-dessus de &quot;popup&quot; :</p><pre id="r-382680" data-claire-element-id="382680"><code data-claire-semantic="javascript">&quot;default_icon&quot; : &quot;icone.png&quot;,</code></pre><p id="r-382681" data-claire-element-id="382681">Vous obtenez donc le code suivant dans le manifeste :</p><pre id="r-382682" data-claire-element-id="382682"><code data-claire-semantic="javascript">{
&quot;name&quot; :&quot;extension chrome&quot;,
&quot;version&quot; :&quot;1.0&quot;,
&quot;description&quot; :&quot;Le truc du tutoriel&quot;,
&quot;browser_action&quot; :
	{
		&quot;default_icon&quot; : &quot;icone.png&quot;,
		&quot;popup&quot; :&quot;dire_bonjour.html&quot;
	}
}</code></pre><p id="r-382683" data-claire-element-id="382684">Dans le dossier de votre extension (&quot;tutoriel Chrome&quot;), enregistrez l'image suivante :<br/><a href="medias/uploads.siteduzero.com_files_266001_267000_266904.png"><img id="r-382684" data-claire-element-id="382683" src="medias/uploads.siteduzero.com_thb_266001_267000_266904.png" alt="Image utilisateur"/></a><br/> Renommez la &quot;icone.png&quot;.</p><p id="r-382685" data-claire-element-id="382685">Vous obtenez donc un dossier avec à l'intérieur :</p><ul id="r-382692" data-claire-element-id="382692"><li id="r-382687" data-claire-element-id="382687"><p id="r-382686" data-claire-element-id="382686">Le manifeste : &quot;manifest.json&quot;,</p></li><li id="r-382689" data-claire-element-id="382689"><p id="r-382688" data-claire-element-id="382688">La popup : &quot;dire_bonjour.html&quot;,</p></li><li id="r-382691" data-claire-element-id="382691"><p id="r-382690" data-claire-element-id="382690">L'icône : &quot;icone.png&quot;.</p></li></ul><p id="r-382693" data-claire-element-id="382693">Dans google chrome, faites à nouveau la manipulation vue précédemment, mais au lieu de cliquer sur &quot;load unpacked extension&quot;, cherchez votre extension dans la liste en-dessous du bouton, et cliquez sur &quot;Rafraîchir&quot; (ou &quot;reload&quot;). Cela réactualisera votre extension, avec l'image et les nouvelles lignes de code.</p><p id="r-382694" data-claire-element-id="382694">Miracle : dans la barre d'extensions apparaît l'image enregistrée ! Et quand vous cliquez dessus, vous devriez voir une fenêtre de dialogue &quot;Hello Zozor&quot;, suivie de la bulle avec son image. :magicien:</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
<span class="arrow"></span>
<span class="next">Créer l&#039;extension</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
<span class="next">Bugs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Bugs"></a><h2>Bugs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
<span class="arrow"></span>
<span class="next">Dans google chrome</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">
<span class="next">Stocker des données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-bugs" data-claire-element-id="382754">Bugs</h4><p id="r-382698" data-claire-element-id="382698">Cette sous partie n'est absolument pas nécessaire si vous n'avez pas eu de problème, mais je vous recommande vraiment de la lire (personne n'est parfait, vous allez certainement faire des fautes).</p><p id="r-382699" data-claire-element-id="382699">N'hésitez pas à copier-coller mon code si vous avez des bugs, pour vous assurer que c'est dû à un problème de code.</p><h5 id="r-erreur-1-manifest-is-not-valid-json" data-claire-element-id="382717">Erreur 1 : Manifest is not valid JSON</h5><p id="r-382700" data-claire-element-id="382700"><cite>Citation : google chrome</cite></p><blockquote id="r-382702" data-claire-element-id="382702"><p id="r-382701" data-claire-element-id="382701">Could not load extension from '/home/dkey/Documents/programmation/gc extensions/tutorielChrome'. Manifest is not valid JSON. Line : 8, column : 3, Syntax error.</p></blockquote><p id="r-382703" data-claire-element-id="382703">Indique une erreur de syntaxe du manifeste.<br/> Vérifiez que vous n'avez pas oublié ou rajouté de :</p><ul id="r-382712" data-claire-element-id="382712"><li id="r-382705" data-claire-element-id="382705"><p id="r-382704" data-claire-element-id="382704">Virgule</p></li><li id="r-382707" data-claire-element-id="382707"><p id="r-382706" data-claire-element-id="382706">Guillement</p></li><li id="r-382709" data-claire-element-id="382709"><p id="r-382708" data-claire-element-id="382708">Accolade</p></li><li id="r-382711" data-claire-element-id="382711"><p id="r-382710" data-claire-element-id="382710">Deux points</p></li></ul><p id="r-382713" data-claire-element-id="382713">Dans mon cas, le problème vient de l'omission de la virgule, fin de la ligne 7.</p><pre id="r-382714" data-claire-element-id="382714"><code data-claire-semantic="javascript">{
&quot;name&quot; :&quot;extension chrome&quot;,
&quot;version&quot; :&quot;1.0&quot;,
&quot;description&quot; :&quot;Le truc du tutoriel&quot;,
&quot;browser_action&quot; :
	{
		&quot;default_icon&quot; : &quot;icone.png&quot;
		&quot;popup&quot; :&quot;dire_bonjour.html&quot;
	}
}</code></pre><aside id="r-382716" data-claire-element-id="382716" data-claire-semantic="warning"><p id="r-382715" data-claire-element-id="382715">Ce code est donc MAUVAIS.</p></aside><h5 id="r-erreur-2-fichier-manifeste-absent-ou-illisible" data-claire-element-id="382727">Erreur 2 : Fichier manifeste absent ou illisible</h5><p id="r-382718" data-claire-element-id="382718"><cite>Citation : google chrome</cite></p><blockquote id="r-382720" data-claire-element-id="382720"><p id="r-382719" data-claire-element-id="382719">Could not load extension from '/home/dkey/Documents/programmation/gc extensions/tutorielChrome'. Fichier manifeste absent ou illisible.</p></blockquote><p id="r-382721" data-claire-element-id="382721">Indique l'absence de fichier manifeste.<br/> Je vous l'avais bien dit d'appeler ce fichier très exactement &quot;manifest.json&quot; ! :colere: .<br/> Faites attention à avoir :</p><ul id="r-382726" data-claire-element-id="382726"><li id="r-382723" data-claire-element-id="382723"><p id="r-382722" data-claire-element-id="382722">Choisi le bon dossier.</p></li><li id="r-382725" data-claire-element-id="382725"><p id="r-382724" data-claire-element-id="382724">Bien nommé le manifeste &quot;manifest.json&quot; sans &quot;e&quot;.</p></li></ul><h5 id="r-debugger-les-erreurs-de-syntaxe" data-claire-element-id="382753">Débugger les erreurs de syntaxe</h5><p id="r-382728" data-claire-element-id="382728">Pour éviter toute erreur de syntaxe comme l'erreur 1, il y a certains sites qui proposent des outils très pratiques.<br/> Sur <a href="http://www.jslint.com/">ce site</a>, vous pouvez copier votre code et le tester. C'est plus pratique que de tenter d'ouvrir l'extension avec chrome à chaque fois, et ça fournit plus d'informations et d'options.</p><p id="r-382729" data-claire-element-id="382729">Par exemple, le site me fournit comme code d'erreur pour l'erreur 1 :</p><p id="r-382730" data-claire-element-id="382730"><cite>Citation : http://www.jslint.com/</cite></p><blockquote id="r-382738" data-claire-element-id="382738"><p id="r-382731" data-claire-element-id="382731">Error:<br/> Problem at line 8 character 9: Expected '}' and instead saw 'popup'.</p><p id="r-382732" data-claire-element-id="382732">&quot;popup&quot; :&quot;dire_bonjour.html&quot;</p><p id="r-382733" data-claire-element-id="382733">Problem at line 8 character 17: Expected '}' and instead saw ':'.</p><p id="r-382734" data-claire-element-id="382734">&quot;popup&quot; :&quot;dire_bonjour.html&quot;</p><p id="r-382735" data-claire-element-id="382735">Problem at line 8 character 18: Expected '(end)' and instead saw 'dire_bonjour.html'.</p><p id="r-382736" data-claire-element-id="382736">&quot;popup&quot; :&quot;dire_bonjour.html&quot;</p><p id="r-382737" data-claire-element-id="382737">JSON: bad.</p></blockquote><p id="r-382739" data-claire-element-id="382739">Ainsi, on sait qu'il était attendu qu'on ferme l'accolade au lieu de rajouter une ligne. On devine alors l'oubli de la virgule.</p><p id="r-382740" data-claire-element-id="382740">Voilà, vous avez créé votre première extension.<br/> La classe, non ? :soleil:</p><p id="r-382741" data-claire-element-id="382741">Vous pouvez améliorer un peu votre extension. Je ne vous ferai pas l'injure de vous expliquer comment fonctionne le html/css et le javascript, je considère que vous connaissez au moins les bases ! Certes, on ne peut encore rien faire de transcendant, mais quand même...</p><p id="r-382742" data-claire-element-id="382742">Je vous mets intégralement mon code &quot;amélioré&quot; de l'extension que j'ai rebaptisé &quot;Zozor, donne la patte&quot;.</p><aside id="r-382744" data-claire-element-id="382744" data-claire-semantic="warning"><p id="r-382743" data-claire-element-id="382743">Notez que j'ai transformé mon code de popup pour en faire une page en bon html.</p></aside><p id="r-382745" data-claire-element-id="382745">Ce n'est pas forcément nécessaire pour l'instant, mais bien plus propre.</p><div id="r-382750" data-claire-element-id="382750"><p id="r-382746" data-claire-element-id="382746"><strong>manifest.json :</strong></p><pre id="r-382747" data-claire-element-id="382747"><code data-claire-semantic="javascript">{
&quot;name&quot;:&quot;Zozor, donne la patte !&quot;,
&quot;version&quot;:&quot;1.0&quot;,
&quot;description&quot;:&quot;Zozor vous souhaite bien le bonjour&quot;,
&quot;browser_action&quot;:
	{
		&quot;default_icon&quot;: &quot;icone.png&quot;,
		&quot;popup&quot;:&quot;dire_bonjour.html&quot;
	}
}</code></pre><p id="r-382748" data-claire-element-id="382748"><strong>dire_bonjour.html :</strong></p><pre id="r-382749" data-claire-element-id="382749"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;script&gt;
	function saluer()//gestion de la boite de dialogue
		{
			alert(&quot;zozor te salue&quot;);
		}
	&lt;/script&gt;

	&lt;style&gt;
	body
	{
		background-color:green;
	}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body onload=&quot;saluer()&quot;&gt;
	&lt;img onclick=&quot;saluer&quot; id=&quot;zozor&quot; src=&quot;http://www.siteduzero.com/Templates/images/designs/2/zozor3.png&quot; alt=&quot;texte alternatif&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre></div><p id="r-382751" data-claire-element-id="382751">Si vous voulez plus d'exemples, je vous suggère d'aller voir l'extension de Rizoom <a href="http://chrome.google.com/extensions/detail/kfidbcahbdjmnbhnaodmcadigeaocnhp">ici</a> (c'est un copain, je lui fais un peu de pub ;) ). Il l'a fait uniquement avec les connaissances de ce chapitre, et un tutoriel javascript du site du zero. C'est largement à votre portée, ça se fait en 10 minutes (ah, ça, c'est moins sympa pour lui) !</p><p id="r-382752" data-claire-element-id="382752">Et quand vous avez fait ça, si vous êtes toujours insatisfaits, c'est très bien : chapitre suivant ! ^^</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
<span class="arrow"></span>
<span class="next">Dans google chrome</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">
<span class="next">Stocker des données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Stockerdesdonnes"></a><h2>Stocker des données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
<span class="arrow"></span>
<span class="next">Bugs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
<span class="next">La technique de base</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-382756" data-claire-element-id="382756">Pour l'instant, vos extensions sont figées. Elles sont comme neuves à chaque fois que vous les lancez.<br/> Dans ce chapitre, nous verrons comment stocker des données, de telle manière qu'on puisse les réutiliser à chaque instant.</p><p id="r-382757" data-claire-element-id="382757">Dans la foulée, nous verrons les pages d'options.</p><p id="r-382758" data-claire-element-id="382758">A table ! :pirate:</p>
</div><a name="Latechniquedebase"></a><h2>La technique de base</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">
<span class="arrow"></span>
<span class="next">Stocker des données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
<span class="next">Les pages d&#039;options</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-technique-de-base" data-claire-element-id="382797">La technique de base</h4><h5 id="r-mais-pourquoi" data-claire-element-id="382761">Mais pourquoi ?</h5><p id="r-382759" data-claire-element-id="382759">Eh bien, pour retenir les préférences de l'utilisateur, bien sûr.<br/> Par exemple, vous ne trouvez pas un peu fade l'extension du chapitre précédent ?</p><p id="r-382760" data-claire-element-id="382760">Moi, j'aimerai bien qu'elle connaisse mon nom, qu'elle sache combien de fois elle m'a parlé, ma couleur préférée... Et les utilisateurs de votre extension aussi !<br/> On aime croire qu'on est le centre du monde.</p><h5 id="r-comment-faire-6" data-claire-element-id="382774">Comment faire</h5><p id="r-382762" data-claire-element-id="382762">Il existe deux méthodes pour sauvegarder les données de l'utilisateur de façon durable :</p><ul id="r-382767" data-claire-element-id="382767"><li id="r-382764" data-claire-element-id="382764"><p id="r-382763" data-claire-element-id="382763">Sur son site.</p></li><li id="r-382766" data-claire-element-id="382766"><p id="r-382765" data-claire-element-id="382765">Sur l'ordinateur du client.</p></li></ul><p id="r-382768" data-claire-element-id="382768">Vous n'utiliserez la première que dans certains cas particuliers. Vous vous rendez compte, si vous avez 100 000 utilisateurs, vous allez devoir stocker 100 000 fois l'information sur votre site !<br/> Cela peut cependant être utile pour avoir le top 100 des résultats, si l'extension est un jeu, par exemple, mais nous en parlerons après.</p><p id="r-382769" data-claire-element-id="382769">Au lieu de ça, on va plutôt utiliser une nouveauté du html5 : localStorage. On va donc stocker les données sur l'ordinateur du client.<br/> C'est déjà mieux pour la protection de ses données, et ça vous fait économiser un hébergement, beaucoup de temps de transmission, et énormément de place.</p><p id="r-382770" data-claire-element-id="382770">Ce n'est pas le sujet de mon tutoriel, alors je vous renvoie vers un autre tutoriel à ce propos (3 minutes pour lire la partie qui nous intéresse).<br/><a href="http://www.siteduzero.com/tutoriel-3-4740-dom-storage-et-persistence.html#ss_part_2">DOM Storage et Persistence</a><br/> Comme on utilise uniquement chrome et ses dérivés, vous n'avez pas besoin de la partie sur <em>Persistence</em>.</p><p id="r-382771" data-claire-element-id="382771">Voici une autre méthode que vous allez peut-être rencontrer, dont Thunderseb n'a pas (encore) parlé.</p><pre id="r-382772" data-claire-element-id="382772"><code data-claire-semantic="javascript">var valeur=localStorage.getItem(clef);  //récupérer la valeur
localStorage.setItem(clef,valeur);  //donner une nouvelle valeur
localStorage.removeItem(clef);  //supprimer l'item
var clef=localStorage.key(n);  //récupérer la clef du n item.
localStorage.clear();  //vider localStorage
localStorage.length();  //le nombre de clef de localStorage</code></pre><p id="r-382773" data-claire-element-id="382773">On utilise un peu moins cette méthode, mais elle est quand même très pratique pour des actions particulières, comme la suppression de la totalité des éléments du localStorage, ou pour récupérer la clef associée à un index.</p><h5 id="r-dans-notre-extension" data-claire-element-id="382796">Dans notre extension</h5><p id="r-382775" data-claire-element-id="382775">Vous vous souvenez de notre extension, au chapitre précédent ?<br/> Eh bien, je veux qu'elle donne également le nombre d'activations de l'extension.</p><p id="r-382776" data-claire-element-id="382776">Allez, c'est parti, débrouillez-vous !</p><p id="r-382777" data-claire-element-id="382777">Astuces :</p><div id="r-382785" data-claire-element-id="382785"><ul id="r-382784" data-claire-element-id="382784"><li id="r-382779" data-claire-element-id="382779"><p id="r-382778" data-claire-element-id="382778">Seule la popup est à modifier.</p></li><li id="r-382781" data-claire-element-id="382781"><p id="r-382780" data-claire-element-id="382780">Testez tout d'abord l'existence de l'élément.</p></li><li id="r-382783" data-claire-element-id="382783"><p id="r-382782" data-claire-element-id="382782">Convertissez votre valeur en nombre, car localStorage renvoie une chaîne de caractères.</p></li></ul></div><p id="r-382786" data-claire-element-id="382786">Ce qui suit est ma réponse, essayez tout seuls avant de regarder la correction ! Et enlevez vous un point par astuce utilisée.</p><p id="r-382787" data-claire-element-id="382787">Voici mon nouveau code de popup :</p><pre id="r-382788" data-claire-element-id="382788"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;script&gt;
	function saluer()//gestion de la boite de dialogue
		{
		if (!localStorage['compte'])//le compte n'existe pas (première utilisation ou réinstallation)
			{
			localStorage['compte']=1;
			alert('Zozor te salue pour la première fois !');
			}
		else //le compte existe
			{
			localStorage['compte']=parseInt(localStorage['compte'])+1;//on transforme la chaine de caractère en int, on incrémente, puis on stocke le nouveau nombre
			alert('Zozor te salue une '+localStorage['compte']+'eme fois !');
			}
		}
	&lt;/script&gt;

	&lt;style&gt;
	body
	{
		background-color:green;
	}
	&lt;/style&gt;
&lt;/head&gt;

&lt;body onload=&quot;saluer()&quot;&gt;
	&lt;img id=&quot;zozor&quot; src=&quot;http://www.siteduzero.com/Templates/images/designs/2/zozor3.png&quot; alt=&quot;texte alternatif&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-382789" data-claire-element-id="382789">Vous pouvez tout à fait avoir fait différemment, du moment que ça marche, c'est bien !</p><aside id="r-382791" data-claire-element-id="382791" data-claire-semantic="warning"><p id="r-382790" data-claire-element-id="382790">Vous ne disposez pas d'une place infinie : au cas où vous ne seriez pas au courant, localStorage peut prendre 5 mégaoctets de place maximum.</p></aside><p id="r-382792" data-claire-element-id="382792">Généralement, vous n'en aurez pas besoin de plus, mais ça peut arriver.<br/> Heureusement, google a envisagé le cas où une extension aurait besoin de plus de place. Il vous suffit d'ajouter dans le manifeste ce code :</p><pre id="r-382793" data-claire-element-id="382793"><code data-claire-semantic="javascript">&quot;permissions&quot;: [&quot;unlimitedStorage&quot;],</code></pre><p id="r-382794" data-claire-element-id="382794"><em>Enlevez la virgule si vous insérez cette ligne à la fin de votre code.</em></p><p id="r-382795" data-claire-element-id="382795">Alors, parés pour les pages d'option ?</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">
<span class="arrow"></span>
<span class="next">Stocker des données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
<span class="next">Les pages d&#039;options</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lespagesd039options"></a><h2>Les pages d&#039;options</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
<span class="arrow"></span>
<span class="next">La technique de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">
<span class="next">La tour de contrôle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-pages-d-options" data-claire-element-id="382848">Les pages d'options</h4><p id="r-382798" data-claire-element-id="382798">On pourrait monter tout un dispositif pour enregistrer les options, avec un lien dans la popup, qui, par fenêtres de dialogue permettrait d'enregistrer les préférences de l'utilisateur...mais j'ai dit que ce serait un chapitre simple et rapide, donc je vous montre quelque chose de bien plus simple, rapide, et vraiment plus classe !</p><h5 id="r-une-page-d-option" data-claire-element-id="382802">Une page d'option ?</h5><p id="r-382799" data-claire-element-id="382799">Une page d'option est une page dans laquelle l'utilisateur choisit ses préférences.<br/> C'est exactement ce qu'il nous faut : une page dédiée à la saisie des préférences dans laquelle on peut utiliser localStorage autant qu'on veut !</p><p id="r-382800" data-claire-element-id="382800">Dans certaines extensions, il y a un lien dans la popup. Sinon, on accède à cette fameuse page d'options en faisant un clic droit puis &quot;options&quot; sur l'icône dans la barre d'extensions.<br/> On peut également y accéder, dans la page de gestion des extensions par le lien &quot;options&quot;, après le lien &quot;désinstaller&quot;.</p><p id="r-382801" data-claire-element-id="382801">La méthode pour mettre un lien dans sa popup est un peu étrange et fait appel à des notions qui vous sont encore inconnues, ce ne sera donc pas pour aujourd'hui ! Je vous la donnerai une autre fois, promis.<br/> Bien sûr, on peut utiliser la méthode javascript <code data-claire-semantic="javascript">window.open('sous_dossier/page_options','page d\'option') </code>, mais elle ouvre dans une nouvelle fenêtre (on préférera ouvrir un nouvel onglet), et puisqu'on est dans une extension chrome, autant utiliser la méthode définie pour lui.</p><h5 id="r-creer-une-page-d-options" data-claire-element-id="382832">Créer une page d'options</h5><h6 id="r-ajouter-la-page" data-claire-element-id="382811">Ajouter la page</h6><p id="r-382803" data-claire-element-id="382803">Certains se posent certainement la question :</p><div id="r-382805" data-claire-element-id="382805" data-claire-semantic="question"><p id="r-382804" data-claire-element-id="382804">Euh... sur mon extension, quand je fais un clic droit, je ne peux pas cliquer sur &quot;options&quot;, c'est normal ?</p></div><p id="r-382806" data-claire-element-id="382806">Oui. Parce que, comme google chrome est malin, il ne nous laisse pas aller sur des pages inexistantes. Il faut donc lui indiquer qu'on se met à l'écriture d'une page d'options.<br/> Et pour cela, il faut rajouter dans le manifeste, juste au-dessus de &quot;browser_action&quot; :</p><pre id="r-382807" data-claire-element-id="382807"><code data-claire-semantic="javascript">&quot;options_page&quot;:&quot;page_options.html&quot;,</code></pre><p id="r-382808" data-claire-element-id="382808">Ce qui me donne donc ce manifeste :</p><pre id="r-382809" data-claire-element-id="382809"><code data-claire-semantic="javascript">{
&quot;name&quot;:&quot;Zozor, donne la patte!&quot;,
&quot;version&quot;:&quot;1.0&quot;,
&quot;description&quot;:&quot;Zozor vous souhaite bien le bonjour&quot;,
&quot;options_page&quot;:&quot;page_options.html&quot;,
&quot;browser_action&quot;:
	{
		&quot;default_icon&quot;: &quot;icone.png&quot;,
		&quot;popup&quot;:&quot;dire_bonjour.html&quot;
	}
}</code></pre><p id="r-382810" data-claire-element-id="382810">Voilà, vous n'avez plus qu'à créer un fichier appelé &quot;page_options.html&quot;, dans lequel vous mettrez tout ce que vous voudrez pour vos options, par exemple la couleur préférée de l'utilisateur en fond d'écran, et son nom dans la boite de dialogue.</p><h6 id="r-que-mettre-dans-cette-page" data-claire-element-id="382831">Que mettre dans cette page</h6><p id="r-382812" data-claire-element-id="382812">Je devrais vous laisser vous débrouiller tout seul, avec tout ce qu'on a fait dans la deuxième sous partie ! Les flèches sont sans doute déjà en train de faire leurs pages d'options. <br/> Bon, comme je n'ai jamais été moi-même une flèche, je vous donne quelques indices pour vous éviter de vous perdre ! ;)</p><p id="r-382813" data-claire-element-id="382813">Vous accédez au localStorage de votre page d'options sans problème. Il ne diffère pas de la popup à la page d'options. C'est d'ailleurs tout l'intérêt de la chose !</p><p id="r-382814" data-claire-element-id="382814">La page se code exactement comme une page web. Si vous voulez rajouter une feuille de style, vous la mettez dans le dossier et vous indiquez comme adresse (dans votre balise meta) &quot;feuilleStyle.css&quot; ou &quot;sousDossier/feuilleStyle.css&quot; si vous avez un sous dossier (là encore, vous pouvez changer les noms).</p><p id="r-382815" data-claire-element-id="382815">Une feuille de style commune à toutes les extensions sera conseillée dans le futur, mais pour l'instant elle n'est pas achevée, donc faites comme bon vous semble. Si vous voulez savoir comment tout ça évolue, c'est ici : <a href="crbug.com/25317.html">crbug.com/25317</a> (en anglais, of course).</p><p id="r-382816" data-claire-element-id="382816">Vous n'avez peut-être pas encore rencontré la fonction getElementById, si vous n'avez pas lu la <a href="http://www.siteduzero.com/tutoriel-3-309961-dynamisez-vos-sites-web-avec-javascript.html#part_379725">deuxième partie</a> du tutoriel de Nesquik69 et Thunderseb (au moins le premier chapitre).<br/> Cette fonction est nécessaire pour récupérer les valeurs choisies par l'utilisateur.</p><p id="r-382817" data-claire-element-id="382817">Il serait idéal que les options soient sélectionnées automatiquement si elles ont déjà été données.</p><p id="r-382818" data-claire-element-id="382818">Assez parlé, voici ma solution.<br/><strong>La page d'options</strong></p><pre id="r-382819" data-claire-element-id="382819"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;Zozor options&lt;/title&gt;
	&lt;style&gt;
	&lt;/style&gt;
	&lt;script&gt;
	function restaurerLesOptions()//resélectionner les options déja choisies
		{
		document.getElementById('nom').value=localStorage['nom'];//remplissage du champs de nom
		var couleur = localStorage['couleur'];//sélection de la liste déroulante de couleur (un peu plus dur)
		if (!couleur){
			return;
			}
		var choix = document.getElementById('couleur').getElementsByTagName('option');
		for (var i = 0; i &lt; choix.length; i++)
			{
			if (choix[i].value == couleur)
				{
				choix[i].selected = &quot;true&quot;;
				break;
				}
			}
		}

	function enregistrer()//enregistrer les options, fonction appelée par le click sur le bouton
		{
		localStorage['nom']=document.getElementById('nom').value;
		localStorage['couleur']=document.getElementById('couleur').value;
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;h1&gt;Options de l'extension&lt;/h1&gt;
		&lt;label for=&quot;nom&quot;&gt;Nom&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;nom&quot; id=&quot;nom&quot;/&gt;
		&lt;label for=&quot;nom&quot;&gt;Couleur préférée&lt;/label&gt;
		&lt;select name=&quot;couleur&quot; id=&quot;couleur&quot;&gt;
		&lt;option value=&quot;green&quot;&gt;vert&lt;/option&gt;
		&lt;option value=&quot;red&quot;&gt;rouge&lt;/option&gt;
		&lt;option value=&quot;blue&quot;&gt;bleu&lt;/option&gt;
		&lt;option value=&quot;white&quot;&gt;blanc&lt;/option&gt;
		&lt;option value=&quot;white&quot;&gt;gris&lt;/option&gt;
		&lt;/select&gt;
		&lt;input type=&quot;button&quot; onclick=&quot;enregistrer()&quot; value=&quot;enregistrer&quot;/&gt;


	&lt;script&gt;
	restaurerLesOptions();//au chargement de la page, on restaure les options
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-382820" data-claire-element-id="382820"><strong>La popup</strong></p><pre id="r-382821" data-claire-element-id="382821"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;script&gt;
	function saluer()//gestion de la boite de dialogue 
		{
		var ajouterNom= (localStorage['nom'])? ', ' + localStorage['nom'] : '';
		if (!localStorage['compte'])//le compte n'existe pas (première utilisation ou réinstallation)
			{
			localStorage['compte']=1;
			alert('Zozor te salue pour la première fois'+ajouterNom);
			}
		else //le compte existe
			{
			localStorage['compte']=parseInt(localStorage['compte'])+1;//on transforme la chaine de caractère en int, on incrémente, puis on stocke le nouveau nombre
			alert('Zozor te salue une '+localStorage['compte']+'eme fois'+ajouterNom);
			}
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;img id=&quot;zozor&quot; src=&quot;http://www.siteduzero.com/Templates/images/designs/2/zozor3.png&quot; alt=&quot;texte alternatif&quot;/&gt;
	&lt;script&gt;
	document.getElementsByTagName('body')[0].style.backgroundColor=localStorage['couleur'];
	saluer();
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-382822" data-claire-element-id="382822">Je précise l'astuce du ajouterNom.</p><ul id="r-382827" data-claire-element-id="382827"><li id="r-382824" data-claire-element-id="382824"><p id="r-382823" data-claire-element-id="382823">Si <code data-claire-semantic="javascript">localStorage['nom'] </code> vaut '', alors ajouterNom vaut '' et on n'ajoutera rien à la fin du alert().</p></li><li id="r-382826" data-claire-element-id="382826"><p id="r-382825" data-claire-element-id="382825">Si <code data-claire-semantic="javascript">localStorage['nom'] </code> contient un nom, par exemple Clément, on concaténera <code data-claire-semantic="javascript">', Clément' </code> à la fin du alert().</p></li></ul><p id="r-382828" data-claire-element-id="382828"><strong>Le manifeste</strong></p><pre id="r-382829" data-claire-element-id="382829"><code data-claire-semantic="javascript">{
&quot;name&quot;:&quot;Zozor, donne la patte!&quot;,
&quot;version&quot;:&quot;1.0&quot;,
&quot;description&quot;:&quot;Zozor vous souhaite bien le bonjour&quot;,
&quot;options_page&quot;:&quot;page_options.html&quot;,
&quot;browser_action&quot;:
	{
		&quot;default_icon&quot;: &quot;icone.png&quot;,
		&quot;popup&quot;:&quot;dire_bonjour.html&quot;
	}
}</code></pre><p id="r-382830" data-claire-element-id="382830">Rien de nouveau ici, je résume juste, au cas où certains auraient des problèmes de virgules dans leur manifeste.</p><h5 id="r-toujours-plus-loin-1" data-claire-element-id="382847">Toujours plus loin</h5><p id="r-382833" data-claire-element-id="382833">Vous pouvez dès maintenant imaginer des idées d'extensions et d'améliorations.</p><p id="r-382834" data-claire-element-id="382834">Par exemple, quand on clique sur zozor, une phrase aléatoire à propos de l'utilisateur pourrait apparaître. L'utilisateur rentrerait dans un textarea une phrase par ligne. On stockerait alors la totalité du textearea dans localStorage, et dans la popup, on utiliserait <code data-claire-semantic="javascript">split(&quot; &quot;) </code> avec un nombre aléatoire...</p><p id="r-382835" data-claire-element-id="382835">Je vous transmets également la consigne de google :</p><aside id="r-382837" data-claire-element-id="382837" data-claire-semantic="warning"><p id="r-382836" data-claire-element-id="382836">Si des données peuvent montrer ce que l'utilisateur a fait ou l'endroit où il est allé, et qu'il est en &quot;navigation privée&quot; ne les stockez pas.</p></aside><p id="r-382838" data-claire-element-id="382838">Ou en version originale :</p><p id="r-382839" data-claire-element-id="382839"><cite>Citation : Google (Rule of thumb)</cite></p><blockquote id="r-382841" data-claire-element-id="382841"><p id="r-382840" data-claire-element-id="382840">If a piece of data might show where a user has been on the web or what the user has done, don't store it if it's from an incognito window.</p></blockquote><p id="r-382842" data-claire-element-id="382842">Pour l'instant, vous ne savez pas faire le test du mode privé, et d'ailleurs, vous ne savez pas non plus récupérer des données sur ce que l'utilisateur a fait ou sur l'endroit où il est allé. Mais retenez dès maintenant cette règle.</p><p id="r-382843" data-claire-element-id="382843">Deux petites questions pour le principe ?</p><p id="r-382844" data-claire-element-id="382844">Voilà, vous avez donc encore fait un pas : vous savez retenir les préférences de l'utilisateur.<br/> Ce n'est pas un détail insignifiant, croyez-moi !</p><p id="r-382845" data-claire-element-id="382845">N'hésitez pas à améliorer ce que vous avez fait, mais n'y passez pas trop de temps non plus, vous aurez l'occasion de faire encore mieux dans le chapitre d'après.</p><p id="r-382846" data-claire-element-id="382846">Bref, je vous laisse voir, il faut que je rédige la suite, moi ! :D</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
<span class="arrow"></span>
<span class="next">La technique de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">
<span class="next">La tour de contrôle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Latourdecontrle"></a><h2>La tour de contrôle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
<span class="arrow"></span>
<span class="next">Les pages d&#039;options</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
<span class="next">Informations générales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-382850" data-claire-element-id="382850">Pour l'instant,à moins que l'utilisateur ne clique sur votre icône, il n'y a rien qui fonctionne.</p><p id="r-382851" data-claire-element-id="382851">Ce serait bien qu'on puisse avoir une page qui soit tout le temps en marche, depuis laquelle on puisse non seulement afficher des boites de dialogue, mais également orchestrer le fonctionnement du navigateur, de l'extension, changer les icônes...<br/> En quelque sorte une tour de contrôle. ;)</p><p id="r-382852" data-claire-element-id="382852">On appelle cela une <strong>page d'arrière plan</strong>.</p>
</div><a name="Informationsgnrales"></a><h2>Informations générales</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">
<span class="arrow"></span>
<span class="next">La tour de contrôle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
<span class="next">Création</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-informations-generales-1" data-claire-element-id="382876">Informations générales</h4><h5 id="r-a-quoi-me-servira-cette-page" data-claire-element-id="382871">A quoi me servira cette page ?</h5><p id="r-382853" data-claire-element-id="382853">La page d'arrière plan a de très nombreuses utilités. C'est elle qui contrôle l'extension, qui orchestre les actions des éléments.<br/> Elle peut, entre autres :</p><ul id="r-382870" data-claire-element-id="382870"><li id="r-382855" data-claire-element-id="382855"><p id="r-382854" data-claire-element-id="382854">Changer l'icône ou la popup.</p></li><li id="r-382857" data-claire-element-id="382857"><p id="r-382856" data-claire-element-id="382856">Exécuter des actions automatiquement à certains moments.</p></li><li id="r-382859" data-claire-element-id="382859"><p id="r-382858" data-claire-element-id="382858">Injecter des scripts, modifier le css d'une page.</p></li><li id="r-382861" data-claire-element-id="382861"><p id="r-382860" data-claire-element-id="382860">Analyser et réagir en fonction des pages ouvertes par l'utilisateur.</p></li><li id="r-382863" data-claire-element-id="382863"><p id="r-382862" data-claire-element-id="382862">Ouvrir d'autre pages.</p></li><li id="r-382865" data-claire-element-id="382865"><p id="r-382864" data-claire-element-id="382864">Analyser et réagir en fonction de pages ouvertes par l'extension &quot;en cachette&quot;.</p></li><li id="r-382867" data-claire-element-id="382867"><p id="r-382866" data-claire-element-id="382866">Servir d'intermédiaire entre les différents éléments de l'extension.</p></li><li id="r-382869" data-claire-element-id="382869"><p id="r-382868" data-claire-element-id="382868">Et bien d'autres choses encore !</p></li></ul><h5 id="r-ai-je-toujours-besoin-d-une-page-d-arriere-plan" data-claire-element-id="382875">Ai-je toujours besoin d'une page d'arrière plan ?</h5><p id="r-382872" data-claire-element-id="382872">Sachez que certaines extensions n'ont pas de page d'arrière plan.</p><p id="r-382873" data-claire-element-id="382873">Certaines, comme &quot;Zozor donne la patte&quot; parce que leurs créateurs n'en connaissent pas le fonctionnement.<br/> Mais certaines extensions, comme celles qui injectent un script ou du css systématiquement dans une page ou un site, ou celles qui ne consistent qu'en une seule popup (et parfois une page d'option) se sont délibérément privées de page d'arrière plan, pour ne pas ralentir le navigateur.</p><p id="r-382874" data-claire-element-id="382874">Mais ce n'est pas pour cela qu'il faut que vous vous en priviez : même si la page est toujours exécutée en arrière plan, le ralentissement est peu souvent visible.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">
<span class="arrow"></span>
<span class="next">La tour de contrôle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
<span class="next">Création</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Cration"></a><h2>Création</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
<span class="arrow"></span>
<span class="next">Informations générales</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
<span class="next">Un mini TP : compte à rebours</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-12" data-claire-element-id="382903">Création</h4><h5 id="r-le-manifeste" data-claire-element-id="382883">Le manifeste</h5><p id="r-382877" data-claire-element-id="382877">Comment dit-on &quot;arrière plan&quot; déjà (in english please) ? &gt;_<br/> Bon, je vous aide, c'est &quot;background&quot;.</p><p id="r-382878" data-claire-element-id="382878">Vous allez donc rajouter dans le manifeste cette ligne :</p><pre id="r-382879" data-claire-element-id="382879"><code data-claire-semantic="javascript">&quot;background_page&quot;:&quot;background.html&quot;,</code></pre><aside id="r-382881" data-claire-element-id="382881" data-claire-semantic="warning"><p id="r-382880" data-claire-element-id="382880">Ne mettez la virgule finale que si vous ajoutez cette ligne au milieu du code, par exemple au dessus de &quot;browser_action&quot; ou &quot;options_page&quot;.</p></aside><p id="r-382882" data-claire-element-id="382882">Si vous la mettez juste avant la dernière accolade, il vous faut rajouter une virgule à la ligne précédente, et enlever celle-ci.</p><h5 id="r-la-page-d-arriere-plan" data-claire-element-id="382902">La page d'arrière plan</h5><p id="r-382884" data-claire-element-id="382884">Votre page d'arrière plan s'appelle donc &quot;background.html&quot;. Une fois que vous avez créé le fichier, on va faire un code très minimal à mettre à l'intérieur.</p><pre id="r-382885" data-claire-element-id="382885"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;script&gt;
	alert(&quot;Page d'arrière plan chargée&quot;);
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-382886" data-claire-element-id="382886">Maintenant, si vous rechargez l'extension (en cliquant sur rafraîchir), vous devriez voir la boite de dialogue apparaître.</p><p id="r-382887" data-claire-element-id="382887">Observations<br/> La boite de dialogue apparaît :</p><ul id="r-382892" data-claire-element-id="382892"><li id="r-382889" data-claire-element-id="382889"><p id="r-382888" data-claire-element-id="382888">au rechargement de l'extension.</p></li><li id="r-382891" data-claire-element-id="382891"><p id="r-382890" data-claire-element-id="382890">à l'ouverture du navigateur.</p></li></ul><p id="r-382893" data-claire-element-id="382893">Conclusions :<br/> La page d'arrière plan est mise en route :</p><ul id="r-382898" data-claire-element-id="382898"><li id="r-382895" data-claire-element-id="382895"><p id="r-382894" data-claire-element-id="382894">à l'installation/rechargement de l'extension.</p></li><li id="r-382897" data-claire-element-id="382897"><p id="r-382896" data-claire-element-id="382896">au démarrage du navigateur.</p></li></ul><p id="r-382899" data-claire-element-id="382899">C'est exactement ce qu'on veut :<br/> Pendant que google chrome est ouvert, cette page marche en arrière plan, sans s'arrêter.<br/> Si vous remplaciez cette ligne par un <br/><code data-claire-semantic="javascript">setInterval(function () {alert('Page d\'arrière plan en marche');},10000); </code><br/> alors la boite de dialogue apparaîtrait toutes les 10 secondes.</p><aside id="r-382901" data-claire-element-id="382901" data-claire-semantic="information"><p id="r-382900" data-claire-element-id="382900">Retenez bien ce fonctionnement, il est très important.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
<span class="arrow"></span>
<span class="next">Informations générales</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
<span class="next">Un mini TP : compte à rebours</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UnminiTPcompterebours"></a><h2>Un mini TP : compte à rebours</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
<span class="arrow"></span>
<span class="next">Création</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
<span class="next">Aller (beaucoup) plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-mini-tp-compte-a-rebours" data-claire-element-id="382937">Un mini TP : compte à rebours</h4><p id="r-382904" data-claire-element-id="382904">Pour être sûr que vous avez bien compris, on va s’entraîner avec ce mini TP !</p><h5 id="r-demarrer" data-claire-element-id="382915">Démarrer</h5><h6 id="r-consignes-6" data-claire-element-id="382910">Consignes</h6><p id="r-382905" data-claire-element-id="382905">L'objectif est d'avoir un compte à rebours qui tourne en arrière plan, de 15 minutes.<br/> Quand celui-ci est fini, un message s'affiche invitant l'utilisateur à décrocher de son ordinateur.<br/>Je le baptise &quot;Maman&quot;.</p><p id="r-382906" data-claire-element-id="382906">A chaque instant, l'utilisateur doit pouvoir vérifier le temps qui lui reste en cliquant sur l'icône de l'extension.</p><p id="r-382907" data-claire-element-id="382907">Il lui faut en revanche fermer puis rouvrir la popup pour que le temps affiché se mette à jour (histoire de simplifier).</p><p id="r-382908" data-claire-element-id="382908">J'aimerais également préciser que le compte à rebours ne se lancera qu'au chargement de la page d'arrière plan, c'est à dire au rafraîchissement de l'extension et au lancement du navigateur !</p><p id="r-382909" data-claire-element-id="382909">Vous pourrez rémédier à ces deux problèmes une fois que vous aurez fini le TP, je vous donnerai des pistes pour cela (mais pas toute la réponse, bien entendu).</p><h6 id="r-aide-3" data-claire-element-id="382914">Aide</h6><p id="r-382911" data-claire-element-id="382911">Pour ma part, j'ai pris l'habitude de faire des <code data-claire-semantic="javascript">alert() </code> pour vérifier que mon code n'a pas planté avant telle ou telle ligne, ou pour vérifier la valeur de telle ou telle variable.<br/> Vous pouvez également utiliser <code data-claire-semantic="javascript">console.log(maVariable) </code> pour afficher quelque chose dans la console javascript.</p><p id="r-382912" data-claire-element-id="382912">Popup :<br/> Il existe une méthode javascript qui permet d'écrire quelque chose à l'endroit exacte où elle est exécutée :<br/><code data-claire-semantic="javascript">write('texte à écrire') </code><br/> Vous pouvez l'utiliser au début pour vous simplifier la tache, mais vous devriez plutôt utiliser innerHTML sur un div une fois que vous maîtriserez le TP.</p><p id="r-382913" data-claire-element-id="382913">Page d'arrière plan :<br/> J'utiliserai personnellement la fonction <code data-claire-semantic="javascript">setInterval() </code> pour mon compte à rebours.<br/> On aurait pu utiliser <code data-claire-semantic="javascript">setTimeout(), </code>mais <code data-claire-semantic="javascript">setInterval() </code> est vraiment plus pratique dans notre cas (car on doit pouvoir afficher régulièrement le compteur).</p><h5 id="r-indices-1" data-claire-element-id="382928">Indices</h5><div id="r-382927" data-claire-element-id="382927"><ul id="r-382926" data-claire-element-id="382926"><li id="r-382917" data-claire-element-id="382917"><p id="r-382916" data-claire-element-id="382916">Utilisez localStorage pour transmettre l'information !</p></li><li id="r-382919" data-claire-element-id="382919"><p id="r-382918" data-claire-element-id="382918">N'oubliez pas le <code data-claire-semantic="javascript">parseInt().</code></p></li><li id="r-382921" data-claire-element-id="382921"><p id="r-382920" data-claire-element-id="382920">Pour ne pas surcharger le navigateur, je saute de 2 secondes en 2 secondes.</p></li><li id="r-382923" data-claire-element-id="382923"><p id="r-382922" data-claire-element-id="382922">Pour arrêter la répétition, vous avez besoin de stocker le retour du <code data-claire-semantic="javascript">setInterval(2000) </code> dans une variable.</p></li><li id="r-382925" data-claire-element-id="382925"><p id="r-382924" data-claire-element-id="382924">Ah, ça suffit, hein ! Vous ne voulez pas le code, tant qu'on y est ?</p></li></ul></div><h5 id="r-resolution-1" data-claire-element-id="382936">Résolution</h5><p id="r-382929" data-claire-element-id="382929">Ce qui est super, avec le javascript, c'est qu'il y a des tonnes de moyens d'obtenir un résultat ! Ma réponse est donc une réponse possible. Vous pouvez avoir fait autrement.</p><p id="r-382930" data-claire-element-id="382930">Cependant, assurez vous que votre méthode est propre, qu'elle ne ralentit pas (trop) le navigateur. Une page d'arrière plan doit être discrète !<br/> Trève de bavardages, voici les résultats, commentés dans mon code :</p><p id="r-382931" data-claire-element-id="382931">background.html</p><pre id="r-382932" data-claire-element-id="382932"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=utf-8 /&gt;
	&lt;script&gt;
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;script&gt;
	localStorage['decompte']=15*60; //15*60 secondes &lt;=&gt; 15 minutes
	function decompter()//appellée toute les 2 secondes
		{
			localStorage['decompte']=parseInt(localStorage['decompte'])-2;// -2 car c'est toutes les 2 secondes
			if (parseInt(localStorage['decompte'])&lt;=0)
				{
				alert(&quot;driiiiiiiiing : 15 minutes écoulées ! Fini l'ordinateur&quot;);//le pauvre
				clearInterval(repetition);//on arrète le compte à rebours
				}
		}
	var repetition = setInterval(decompter,2000);//toutes les 2 secondes -&gt; ne pas surcharger le navigateur
	&lt;/script&gt;
&lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-382933" data-claire-element-id="382933">popup.html</p><pre id="r-382934" data-claire-element-id="382934"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;script&gt;
	function saluer()//gestion de la boite de dialogue 
		{
		var ajouterNom= (localStorage['nom'])? ', ' + localStorage['nom'] : '';
		if (!localStorage['compte'])//le compte n'existe pas (première utilisation ou réinstallation)
			{
			localStorage['compte']=1;
			alert('Zozor te salue pour la première fois'+ajouterNom);
			}
		else //le compte existe
			{
			localStorage['compte']=parseInt(localStorage['compte'])+1;//on transforme la chaine de caractère en int, on incrémente, puis on stocke le nouveau nombre
			alert('Zozor te salue une '+localStorage['compte']+'eme fois'+ajouterNom);
			}
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;script&gt;
	if (localStorage['decompte'])//si le compte à rebours existe
		document.write('Il te reste '+localStorage['decompte']+' secondes'); //on affiche à l'emplacement exacte du script
	&lt;/script&gt;
	&lt;img id=&quot;zozor&quot; src=&quot;http://www.siteduzero.com/Templates/images/designs/2/zozor3.png&quot; alt=&quot;texte alternatif&quot;/&gt;
	&lt;script&gt;
	document.getElementsByTagName('body')[0].style.backgroundColor=localStorage['couleur'];
	saluer();
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-382935" data-claire-element-id="382935">J'espère que vous avez mieux compris l'utilité de cette page, maintenant !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
<span class="arrow"></span>
<span class="next">Création</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
<span class="next">Aller (beaucoup) plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Allerbeaucoupplusloin"></a><h2>Aller (beaucoup) plus loin</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
<span class="arrow"></span>
<span class="next">Un mini TP : compte à rebours</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">
<span class="next">Naviguer entre fenêtres et onglets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-aller-beaucoup-plus-loin" data-claire-element-id="382979">Aller (beaucoup) plus loin</h4><p id="r-382938" data-claire-element-id="382938">Bien sûr qu'on peut aller plus loin ! Vous n'avez rien retenu de ces premiers chapitres ?</p><aside id="r-382940" data-claire-element-id="382940" data-claire-semantic="information"><p id="r-382939" data-claire-element-id="382939">Finissez la lecture du chapitre avant de commencer à améliorer votre extension : au lieu de tout de suite vous décourager sur l'optimisation du compte à rebours, regardez déjà les améliorations possibles au niveau du design...</p></aside><h5 id="r-ameliorations-18" data-claire-element-id="382969">Améliorations</h5><h6 id="r-optimisation-du-compte-a-rebours" data-claire-element-id="382950">Optimisation du compte à rebours</h6><p id="r-382941" data-claire-element-id="382941">Tout d'abord, vous pouvez faire un système pour que le compte de la popup s'actualise toutes les 2 secondes sans que l'utilisateur ne doive la fermer et puis la rouvrir. Pour cela, utilisez la deuxième partie du tutoriel de Nesquik69 et Thunderseb.</p><p id="r-382942" data-claire-element-id="382942">Vous pouvez également créer un dispositif pour mettre en route le compteur à n'importe quel moment depuis la popup. Si si, vous le pouvez ! :p</p><p id="r-382943" data-claire-element-id="382943">J'utilise pour cela une nouvelle variable, <code data-claire-semantic="javascript">localStorage['lancerDecompte'] </code>. Je la teste toutes les cinq secondes (pour ne pas trop ralentir) dans la page d'arrière plan, quand le compte à rebours n'est pas en route.<br/> Si elle vaut <code data-claire-semantic="javascript">'true' </code>, alors je lance le compte à rebours, et je la mets à <code data-claire-semantic="javascript">'false' </code>.</p><p id="r-382944" data-claire-element-id="382944">J'ai un bouton <em>lancer le décompte</em> dans la popup, qui, quand on clique dessus, met <code data-claire-semantic="javascript">localStorage['lancerDecompte'] </code> à <code data-claire-semantic="javascript">'true' </code>. Le test de la page d'arrière plan est alors vérifié, et le compte à rebours se lance (paragraphe du dessus).<br/> Il est alors remplacé pendant cinq secondes par <em>lancement en cours</em> (pour s'assurer que le test dans la page d'arrière plan est bien rempli, et que le compte à rebours se lance), puis le compte à rebours s'affiche.</p><aside id="r-382946" data-claire-element-id="382946" data-claire-semantic="warning"><p id="r-382945" data-claire-element-id="382945">Il est très important de répartir le code en fonctions. Cela permet de donner un &quot;titre&quot;, en quelque sorte, à ses morceaux de code, et cela simplifie la lecture, et la correction des bugs.</p></aside><p id="r-382947" data-claire-element-id="382947">Vous pouvez en plus mettre certaines de ces fonctions dans un fichier externe js, pour faire encore plus propre et réutilisable.</p><p id="r-382948" data-claire-element-id="382948">On a ainsi remédié à nos deux problèmes évoqués plus haut.<br/> Indice pas forcément utile : les fonctions que j'utilise.</p><pre id="r-382949" data-claire-element-id="382949"><code data-claire-semantic="javascript">//background.html
function decompter()
function lancerDecompte()
function testPopup()

//popup.html
function saluer()
function lancerDecompte(origine)
function afficherTemps()//ou le bouton de lancement</code></pre><h6 id="r-ajout-d-options" data-claire-element-id="382959">Ajout d'options</h6><p id="r-382951" data-claire-element-id="382951">Vous pouvez aussi implémenter une page d'option :</p><ul id="r-382958" data-claire-element-id="382958"><li id="r-382953" data-claire-element-id="382953"><p id="r-382952" data-claire-element-id="382952">activer / désactiver le compte à rebours</p></li><li id="r-382955" data-claire-element-id="382955"><p id="r-382954" data-claire-element-id="382954">temps de départ</p></li><li id="r-382957" data-claire-element-id="382957"><p id="r-382956" data-claire-element-id="382956">message à afficher</p></li></ul><h6 id="r-cote-design-et-ergonomie" data-claire-element-id="382968">Coté design et ergonomie :</h6><p id="r-382960" data-claire-element-id="382960">Vous pouvez déjà changer le nom de l'extension, qui n'a plus grand rapport avec ce qu'on fait.</p><p id="r-382961" data-claire-element-id="382961">Cachez cette boîte de dialogue que je ne saurais voir. A la place écrivez discrètement dans la popup !</p><p id="r-382962" data-claire-element-id="382962">La couleur de fond n'est pas très adaptée, pourquoi ne pas faire un cadre à <em>body</em> à la place ?</p><p id="r-382963" data-claire-element-id="382963">Et que pensez vous d'une petite boite de dialogue optionnelle qui délivre un message paramétrable au lancement de la page d'arrière plan (au risque de me répéter, c'est au lancement du navigateur, ou à l'installation/mise à jour de l'extension) ?</p><p id="r-382964" data-claire-element-id="382964">Enfin, vous pouvez rajouter dans le manifeste cette ligne:</p><pre id="r-382965" data-claire-element-id="382965"><code data-claire-semantic="javascript">&quot;icons&quot;: { &quot;16&quot;: &quot;icon16.png&quot;,
           &quot;48&quot;: &quot;icon48.png&quot;,
          &quot;128&quot;: &quot;icon128.png&quot; },</code></pre><p id="r-382966" data-claire-element-id="382966">Et ajoutez trois images appelées icon16.png, icon48.png, et icon128.png. Ces images seront affichées un peu partout dans votre extension, même en favicon de la page d'option !<br/> Je vous mets celle que j'utilise :<br/><a href="medias/uploads.siteduzero.com_files_272001_273000_272515.png">icon16</a><br/><a href="medias/uploads.siteduzero.com_files_272001_273000_272516.png">icon48</a><br/><a href="medias/uploads.siteduzero.com_files_272001_273000_272517.png">icon128</a></p><p id="r-382967" data-claire-element-id="382967">Allez, au boulot !</p><h5 id="r-exemple-93" data-claire-element-id="382978">Exemple</h5><p id="r-382970" data-claire-element-id="382970">Comme je sais qu'on a toujours besoin de voir ce qu'on veut avant d'agir, je vous invite à installer via la galerie google (en approximativement 12 secondes) mon propre résultat :</p><p id="r-382971" data-claire-element-id="382971"><a href="https://chrome.google.com/extensions/detail/dneampboieppkeaibmegnnoagfcnldmp">Galerie google : INSTALLER</a></p><p id="r-382972" data-claire-element-id="382972">C'est pas trop mal réussi (je trouve). Je l'utilise même pour la cuisson des pâtes. D'ailleurs, vous pouvez faire une extension dédiée à la cuisson des pâtes (temps de cuisson, rappel pour les remuer et éviter que ça colle...) !<br/> Personnellement, je la mets en route pour la 214ième fois, et je vois une petite fenêtre &quot;Tu as fait tous tes devoirs ?&quot; au démarrage.</p><p id="r-382973" data-claire-element-id="382973">En tout cas, sachez qu'au stade où vous en êtes, vous pouvez faire bien mieux que ça : si vous y passez du temps, vous pouvez vraiment trouver des choses intéressantes.</p><p id="r-382974" data-claire-element-id="382974">D'ailleurs, si il y en a qui ont fait des extensions réussies, mettez ça dans les commentaires, pour donner des idées aux autres (et indiquez les connaissances que vous avez utilisé pour). Je rajouterai peut-être des liens dans ce chapitre.</p><p id="r-382975" data-claire-element-id="382975">Vous avez donc tous un niveau largement suffisant pour vous éclater. Si vous avez du mal à comprendre ce que j'ai fait, vous pouvez demander de l'aide sur le forum (section javascript).</p><p id="r-382976" data-claire-element-id="382976">Allez, bon <em>extensionage</em>, mais n'y passez pas votre vie non plus, pensez quand même à la suite du tutoriel ! ;)</p><p id="r-382977" data-claire-element-id="382977">Vous savez donc faire un truc qui ressemble à une extension.<br/> Mais on ne va pas s’arrêter là, quand même, ça serait dommage ! :D</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
<span class="arrow"></span>
<span class="next">Un mini TP : compte à rebours</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">
<span class="next">Naviguer entre fenêtres et onglets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Naviguerentrefentresetonglets"></a><h2>Naviguer entre fenêtres et onglets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
<span class="arrow"></span>
<span class="next">Aller (beaucoup) plus loin</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
<span class="next">Généralités</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-382983" data-claire-element-id="382983">Pour l'instant, vous n'avez utilisé que les possibilités de javascript. Mais l'avantage d'une extension par rapport à une simple page web, c'est qu'elle est autorisée à faire beaucoup plus de choses.<br/> Par exemple, déplacer des onglets, créer des fenêtres...</p><p id="r-382984" data-claire-element-id="382984">Alors, on commence ?</p>
</div><a name="Gnralits"></a><h2>Généralités</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">
<span class="arrow"></span>
<span class="next">Naviguer entre fenêtres et onglets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
<span class="next">Utilisation simple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-generalites-15" data-claire-element-id="383007">Généralités</h4><h5 id="r-qu-est-ce-que-c-est-19" data-claire-element-id="382996">Qu'est-ce que c'est ?</h5><p id="r-382985" data-claire-element-id="382985">J'apporte quelques précisions sur ce qu'on va utiliser, ça vous sera certainement utile.</p><h6 id="r-comment-ca-se-presente" data-claire-element-id="382993">Comment ça se présente ?</h6><p id="r-382986" data-claire-element-id="382986">On utilise en fait deux modules :</p><ul id="r-382991" data-claire-element-id="382991"><li id="r-382988" data-claire-element-id="382988"><p id="r-382987" data-claire-element-id="382987"><em>windows</em></p></li><li id="r-382990" data-claire-element-id="382990"><p id="r-382989" data-claire-element-id="382989"><em>tabs</em></p></li></ul><p id="r-382992" data-claire-element-id="382992">Le premier sert à manipuler les fenêtres (window en anglais) et le deuxième les onglets (tab en anglais).<br/> Leurs documentations respectives sont <a href="http://code.google.com/chrome/extensions/windows.html">ici</a> et <a href="http://code.google.com/chrome/extensions/tabs.html">ici</a>.</p><h6 id="r-a-quoi-ca-sert-12" data-claire-element-id="382995">A quoi ça sert ?</h6><p id="r-382994" data-claire-element-id="382994">Ça sert tout le temps.<br/> On utilise très souvent ces modules pour la création de nouvelles fenêtres ou onglets, tester l'adresse des sites que l'utilisateur visite.<br/> Certaines extensions les utilisent même pour prendre des photos de pages web.<br/> Enfin bref, vous vous en rendrez compte vous-mêmes : c'est incontournable.</p><h5 id="r-comment-les-utiliser-1" data-claire-element-id="383006">Comment les utiliser ?</h5><p id="r-382997" data-claire-element-id="382997">Dans le chapitre 3 de la première partie, vous avez déjà vu la ligne qu'on va utiliser dans le manifeste.<br/> Ne cherchez pas, je vous la redonne.</p><pre id="r-382998" data-claire-element-id="382998"><code data-claire-semantic="javascript">&quot;permissions&quot;: [&quot;unlimitedStorage&quot;],</code></pre><p id="r-382999" data-claire-element-id="382999">Cette ligne demandait la permission d'utiliser une place illimitée de <em>localStorage</em>.<br/> Hé bien, on utilise le même principe pour les modules <em>tabs</em> et <em>windows</em>. On ajoute cette ligne de code (faites comme d'habitude pour la virgule, c'est la dernière fois que je préviens).</p><pre id="r-383000" data-claire-element-id="383000"><code data-claire-semantic="javascript">&quot;permissions&quot;: [&quot;tabs&quot;],</code></pre><aside id="r-383002" data-claire-element-id="383002" data-claire-semantic="warning"><p id="r-383001" data-claire-element-id="383001">Cette permission doit être utilisée dans chaque extension où vous utilisez <em>tabs</em> ou <em>windows</em>.</p></aside><p id="r-383003" data-claire-element-id="383003">Enfin sauf si vous voulez avoir des bugs. :D</p><p id="r-383004" data-claire-element-id="383004">Elle affiche un avertissement sur l'historique : en effet, on peut facilement accéder à l'historique grâce à ces modules (en enregistrant la nouvelle adresse à chaque changement, en fait).</p><p id="r-383005" data-claire-element-id="383005">Maintenant, vous avez tous les outils pour commencer à travailler !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">
<span class="arrow"></span>
<span class="next">Naviguer entre fenêtres et onglets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
<span class="next">Utilisation simple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisationsimple"></a><h2>Utilisation simple</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
<span class="arrow"></span>
<span class="next">Généralités</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
<span class="next">Plus de possibilités</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utilisation-simple" data-claire-element-id="383062">Utilisation simple</h4><p id="r-383008" data-claire-element-id="383008">Étudions d'abord les utilisations les plus simples de <em>tabs</em> et <em>windows</em>.</p><h5 id="r-nouvel-onglet-nouvelle-fenetre" data-claire-element-id="383016">Nouvel onglet / Nouvelle fenêtre</h5><p id="r-383009" data-claire-element-id="383009">L'usage le plus simple qu'on puisse faire de ces modules est d'ouvrir un nouvel onglet.<br/> C'est une des deux seules méthode de <em>tabs</em> qui puisse être invoquée sans inclure la permission du manifeste.<br/> On cherchais quoi, déjà ? Le moyen d'ouvrir la page d'option, c'est ça ?<br/> Le voici :</p><pre id="r-383010" data-claire-element-id="383010"><code data-claire-semantic="javascript">tabs.create({url:&quot;options.html&quot;});</code></pre><p id="r-383011" data-claire-element-id="383011">On passe en paramètre de cette fonction un objet. Remarquez que cela ressemble au format JSON du manifeste. Ce qu'on fait le plus souvent, c'est spécifier l'url. Mais on peut donner d'autres propriétés à cet objet, j'en parlerai plus tard.</p><p id="r-383012" data-claire-element-id="383012">On peut également spécifier une fonction de <em>callback</em>, c'est à dire une fonction qui sera appelée quand l'onglet sera créé, mais cela ne présente pas un grand intérêt pour nous pour l'instant.</p><p id="r-383013" data-claire-element-id="383013">On utilise exactement la même méthode pour ouvrir une nouvelle fenêtre :</p><pre id="r-383014" data-claire-element-id="383014"><code data-claire-semantic="javascript">chrome.windows.create({url:&quot;http://www.siteduzero.com&quot;})</code></pre><p id="r-383015" data-claire-element-id="383015">Il y a des propriétés supplémentaires pour positionner la nouvelle fenêtre. On peut également spécifier une fonction de callback.</p><h5 id="r-savoir-ce-que-l-utilisateur-regarde" data-claire-element-id="383049">Savoir ce que l'utilisateur regarde</h5><h6 id="r-nuance-importante" data-claire-element-id="383024">Nuance importante</h6><p id="r-383017" data-claire-element-id="383017">Il y a une différence importante entre l'onglet courant et l'onglet sélectionné.</p><ul id="r-383022" data-claire-element-id="383022"><li id="r-383019" data-claire-element-id="383019"><p id="r-383018" data-claire-element-id="383018">L'onglet courant est celui dans lequel le script actuel s'exécute.</p></li><li id="r-383021" data-claire-element-id="383021"><p id="r-383020" data-claire-element-id="383020">L'onglet sélectionné est celui qui est vu par l'utilisateur dans une fenêtre particulière.</p></li></ul><p id="r-383023" data-claire-element-id="383023">On a la même distinction entre la fenêtre courante et la dernière fenêtre de focus. On utilisera donc le plus souvent la dernière fenêtre de focus et l'onglet sélectionné.</p><h6 id="r-recuperer-la-fenetre-actuelle" data-claire-element-id="383035">Récupérer la fenêtre actuelle</h6><p id="r-383025" data-claire-element-id="383025">La fonction qui permet de récupérer la fenêtre actuelle est :</p><pre id="r-383026" data-claire-element-id="383026"><code data-claire-semantic="javascript">chrome.windows.getLastFocused(callback);</code></pre><p id="r-383027" data-claire-element-id="383027">Il aurait été très simple de faire :</p><pre id="r-383028" data-claire-element-id="383028"><code data-claire-semantic="javascript">var fenetreActuelle = chrome.windows.getLastFocused ()</code></pre><p id="r-383029" data-claire-element-id="383029">Mais c'est impossible, car <em>chrome.windows.getLastFocused</em> ne renvoie absolument rien. Il faut en revanche spécifier en paramètre une fonction de callback (fonction qui sera appelée quand une tache sera finie).</p><p id="r-383030" data-claire-element-id="383030">Ainsi, l'instruction correcte est :</p><pre id="r-383031" data-claire-element-id="383031"><code data-claire-semantic="javascript">chrome.windows.getLastFocused(function(fenetre){/*on fait joujou */})</code></pre><p id="r-383032" data-claire-element-id="383032">Et si on veut faire appel à une fonction :</p><pre id="r-383033" data-claire-element-id="383033"><code data-claire-semantic="javascript">function faireJoujou(fenetre)
	{
	//on fait joujou
	}
chrome.windows.getLastFocused(function(fenetre){faireJoujou(fenetre);})</code></pre><p id="r-383034" data-claire-element-id="383034">On exploite ensuite l'objet <em>fenetre</em>.</p><h6 id="r-recuperer-l-onglet-actuel" data-claire-element-id="383045">Récupérer l'onglet actuel</h6><p id="r-383036" data-claire-element-id="383036">La fonction utilisée est la suivante :</p><pre id="r-383037" data-claire-element-id="383037"><code data-claire-semantic="javascript">function faireJoujou(fenetre)
	{
	//on fait joujou
	}
chrome.tabs.getSelected(fenetreId,function(onglet){faireJoujou(onglet);});</code></pre><p id="r-383038" data-claire-element-id="383038">Elle permet de récupérer l'onglet sélectionné dans la fenêtre donnée. C'est pour cela que le premier paramètre est l'id de la fenêtre dont on veut l'onglet sélectionné. Il est optionnel, donc vous pouvez appeler la fonction comme cela :</p><pre id="r-383039" data-claire-element-id="383039"><code data-claire-semantic="javascript">function faireJoujou(fenetre)
	{
	//on fait joujou
	}
chrome.tabs.getSelected(null,function(onglet){faireJoujou(onglet);});</code></pre><aside id="r-383041" data-claire-element-id="383041" data-claire-semantic="warning"><p id="r-383040" data-claire-element-id="383040">Avec cette méthode, chrome utilisera alors la fenêtre courante, c'est à dire celle où s'exécute le script, pas la fenêtre visible.</p></aside><p id="r-383042" data-claire-element-id="383042">Si vous mettez ce code dans la popup, aucun problème, la fenêtre courante est la même que la fenêtre actuelle.</p><p id="r-383043" data-claire-element-id="383043">Dans les autres cas, il faut utiliser la première méthode pour récupérer l'objet <em>fenetre</em>, et on utilise son attribut <em>id</em>.</p><p id="r-383044" data-claire-element-id="383044">Notez que votre fonction ne s'appelle pas obligatoirement faireJoujou !</p><h6 id="r-exploiter-les-objets" data-claire-element-id="383048">Exploiter les objets</h6><p id="r-383046" data-claire-element-id="383046">Vous avez la référence complète de code.google <a href="http://code.google.com/chrome/extensions/windows.html#type-Window">ici</a> pour <em>windows</em> et <a href="http://code.google.com/chrome/extensions/tabs.html#type-Tab">là</a> pour <em>tabs</em>.</p><p id="r-383047" data-claire-element-id="383047">Le type <em>Tab</em> correspond à un objet &quot;onglet&quot; et le type <em>Window</em> à un objet &quot;fenêtre&quot;<br/> Les principales propriétés qu'on utilise pour <em>Tab</em> sont <em>id</em> (l'identifiant de l'onglet), <em>url</em> (l'adresse de l'onglet), <em>status</em>, et <em>incognito</em>.<br/> Pour <em>windows</em>, on utilise surtout <em>id</em> (identifiant de la fenêtre), notamment pour récupérer l'onglet actuel.</p><h5 id="r-recapitulons-2" data-claire-element-id="383061">Récapitulons</h5><p id="r-383050" data-claire-element-id="383050">Pour vous aider, on va faire un micro-TP. Il s'agit, en cliquant sur un bouton de la popup, d'ouvrir un nouvel onglet, avec la même adresse que celle de l'onglet actuel.</p><p id="r-383051" data-claire-element-id="383051">Allez, je vous attends. J'ai déjà fini, moi ! :D</p><h6 id="r-solution-1-1" data-claire-element-id="383055">Solution 1</h6><p id="r-383052" data-claire-element-id="383052">Pour cela, j'utilise une seule fonction. Celle-ci me permet à la fois de demander la fenêtre visible, l'onglet visible, et enfin la création d'une nouvelle page.<br/> Voici mon code.</p><pre id="r-383053" data-claire-element-id="383053"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;script&gt;
	function newTab(fenetre,tab)
		{
		if (!fenetre) // premier appel : aucun paramètre existant
			{
			chrome.windows.getLastFocused(function(fenetre){newTab(fenetre);});//on demande la fenêtre visible
			}
		else
			{
			if (!tab) // deuxième appel : 1 paramètre existant (fenetre)
				{
				chrome.tabs.getSelected(fenetre.id,function(tab){newTab(fenetre,tab);});//on demande la fenêtre visible, et on appelle la fonction une deuxième fois
				}
			else // troisième appel : 2 paramètres existants (fenetre et tab)
				{
				chrome.tabs.create({url:tab.url});
				}
			}
		}
	&lt;/script&gt;
&lt;/head&gt;
&lt;body&gt;
	&lt;input type=&quot;button&quot; onclick=&quot;newTab()&quot; value=&quot;Créer un nouvel onglet&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-383054" data-claire-element-id="383054">Cela évite d'avoir 3 fonctions : <em>newTab1()</em>, <em>newTab2(fenetre)</em>, et <em>newTab3(fenetre,tab)</em>.<br/> On a une seule fonction, et on exécute des codes différents en fonction du nombre de paramètres.</p><h6 id="r-solution-2-1" data-claire-element-id="383060">Solution 2</h6><p id="r-383056" data-claire-element-id="383056">Il serait encore mieux d'avoir une fonction qui appelle newTab avec directement les bon paramètres. En effet, la fonction qu'on utilise ressemblera beaucoup à d'autres fonctions qu'on va faire, et ce serait fastidieux de tout réécrire à chaque fois.</p><p id="r-383057" data-claire-element-id="383057">Voici donc la deuxième possibilité de code, qui nous simplifiera le travail plus tard.</p><pre id="r-383058" data-claire-element-id="383058"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=utf-8 /&gt;
	&lt;script&gt;
	function lancerFonction(callback,fenetre,tab) // son rôle est de lancer la fonction callback avec tab en paramètre
		{
		if (!fenetre)// premier appel : 1 seul paramètre
			{
			chrome.windows.getLastFocused(function(fenetre){lancerFonction(callback,fenetre);}); /* on récupère la fenêtre en prenant soin de conserver callback */
			}
		else
			{
			if (!tab) // deuxième appel : 2 paramètres
				{
				chrome.tabs.getSelected(fenetre.id,function(tab){lancerFonction(callback,fenetre,tab);});
				}
			else // troisième appel : tous les paramètres
				{
				callback(tab);
				}
			}
		}
	
	function newTab(tab)
		{
		chrome.tabs.create({url:tab.url});
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;input type=&quot;button&quot; onclick=&quot;lancerFonction(newTab)&quot; value=&quot;Créer un nouvel onglet&quot;/&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-383059" data-claire-element-id="383059">Voila, vous savez maintenant tout de l'utilisation de base des deux modules. Prenez votre temps pour comprendre, la suite sera beaucoup plus simple si vous avez fait cet effort.<br/> De plus, quasiment toutes les fonctions de chrome utilisent des systèmes de callback, il faut bien vous y habituer !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
<span class="arrow"></span>
<span class="next">Généralités</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
<span class="next">Plus de possibilités</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Plusdepossibilits"></a><h2>Plus de possibilités</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
<span class="arrow"></span>
<span class="next">Utilisation simple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
<span class="next">Prendre une photo</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-plus-de-possibilites" data-claire-element-id="383095">Plus de possibilités</h4><p id="r-383063" data-claire-element-id="383063">Maintenant qu'on a compris le fonctionnement de ces modules, on va pouvoir apprendre des quantités de fonctions plus ou moins amusantes !</p><h5 id="r-fermer-un-onglet" data-claire-element-id="383071">Fermer un onglet</h5><p id="r-383064" data-claire-element-id="383064">Très simple après avoir fait la première partie :</p><pre id="r-383065" data-claire-element-id="383065"><code data-claire-semantic="javascript">chrome.tabs.remove(tab.id)</code></pre><p id="r-383066" data-claire-element-id="383066">Si on réutilise la fonction de la partie précédente (et il faudrait être fou pour ne pas le faire), ça donne ce code :</p><pre id="r-383067" data-claire-element-id="383067"><code data-claire-semantic="javascript">function fermer(tab)
	{
	chrome.tabs.remove(tab.id)
	}</code></pre><p id="r-383068" data-claire-element-id="383068">et plus loin...</p><pre id="r-383069" data-claire-element-id="383069"><code data-claire-semantic="html">&lt;input type=&quot;button&quot; value=&quot;fermer&quot; onclick=&quot;lancerFonction(fermer)&quot;/&gt;</code></pre><p id="r-383070" data-claire-element-id="383070">Cela valait le coup de se tuer à faire la fonction précédente, non ? :D</p><h5 id="r-changer-d-adresse" data-claire-element-id="383080">Changer d'adresse</h5><p id="r-383072" data-claire-element-id="383072">La fonction update est souvent utilisée pour changer l'adresse d'une page.<br/> Elle s'utilise ainsi :</p><pre id="r-383073" data-claire-element-id="383073"><code data-claire-semantic="javascript">chrome.tabs.update(tab.id,{url:&quot;http://www.siteduzero.com&quot;},callback);</code></pre><p id="r-383074" data-claire-element-id="383074">Le premier paramètre est l'id du tab qu'on veut modifier, le deuxième est l'objet, et le troisième est la fonction optionnelle de callback.</p><p id="r-383075" data-claire-element-id="383075">On peut également indiquer l'attribut <em>selected</em> qui indique si c'est l'onglet sélectionné de la fenêtre.<br/> Puisqu'on en est à l'utilisation des objets, je vous montre les formes de celui-ci.</p><pre id="r-383076" data-claire-element-id="383076"><code data-claire-semantic="javascript">{url:&quot;http://www.siteduzero.com&quot;}
{selected:true}
{url:&quot;http://www.siteduzero.com&quot;,selected:true}</code></pre><p id="r-383077" data-claire-element-id="383077">Tous les objets fonctionnent pareil : si vous voulez rajouter un attribut, vous séparez par une virgule, mais vous n'en mettez pas à la fin. Si vous voulez indiquer des tableaux, vous pouvez les indiquer entre crochet.</p><p id="r-383078" data-claire-element-id="383078">Si vous ouvrez le manifeste, vous comprenez mieux ? ;)</p><p id="r-383079" data-claire-element-id="383079">Si vous voulez seulement actualiser la page, alors je vous laisse utiliser la fonction précédente pour remettre la même url (utilisez la propriété <em>url</em> de l'onglet).</p><h5 id="r-et-plein-d-autres-fonctions" data-claire-element-id="383084">Et plein d'autres fonctions</h5><p id="r-383081" data-claire-element-id="383081">Il y a pas mal de fonctions amusantes. Ce serait parfaitement inutile de vous les expliquer, puisqu'elles sont décrites <a href="http://code.google.com/chrome/extensions/windows.html">ici</a> et <a href="http://code.google.com/chrome/extensions/tabs.html">ici</a>.<br/> Vous avez tout d'abord, sur fond bleu, le prototype de la fonction, puis une petite description, et enfin la liste détaillée des paramètres.<br/> Maintenant que vous connaissez le fonctionnement des principales fonctions, vous ne devriez avoir aucun problème.</p><p id="r-383082" data-claire-element-id="383082">Par exemple, amusez vous à comprendre comment récupérer tous les onglets d'une fenêtre, ou toutes les fenêtres et leurs onglets. Regardez aussi le fonctionnement de <em>chrome.tabs.getTab</em> qui permet de récupérer un objet de type Tab à partir de son id.</p><p id="r-383083" data-claire-element-id="383083">En revanche, je vous préviens tout de suite qu'on voit la fonction executeScript au chapitre suivant, donc ne vous alarmez pas, je vous aiderai pour ça !</p><h5 id="r-des-evenements" data-claire-element-id="383094">Des évènements</h5><h6 id="r-changement-de-page" data-claire-element-id="383089">Changement de page</h6><p id="r-383085" data-claire-element-id="383085">Un évènement est déclenché à chaque changement de page et à chaque actualisation.<br/> Cela s'utilise ainsi :</p><pre id="r-383086" data-claire-element-id="383086"><code data-claire-semantic="javascript">function changementAdresse(tabId,changeInfo,tab)
	{
	// Le code, les tests ...
	}
chrome.tabs.onSelectionUpdated.addListener(changementAdresse);</code></pre><p id="r-383087" data-claire-element-id="383087">Vous pouvez bien entendu utiliser une fonction anonyme.</p><p id="r-383088" data-claire-element-id="383088">Ce que l'on fait généralement, c'est qu'on récupère la nouvelle url grâce à la propriété de tab. Les deux premiers paramètres sont en fait peu utiles, puisqu'on a l'id de l'onglet grâce au dernier paramètre, et que changeInfo est peu utilisé.</p><h6 id="r-changement-d-onglet" data-claire-element-id="383093">Changement d'onglet</h6><p id="r-383090" data-claire-element-id="383090">Un évènement est déclenché à chaque changement d'onglet.<br/> Il s'utilise ainsi :</p><pre id="r-383091" data-claire-element-id="383091"><code data-claire-semantic="javascript">function changementTab(tabId,info)
	{
	// Le code, les tests ...
	}
chrome.tabs.onSelectionChanged.addListener(changementTab);</code></pre><p id="r-383092" data-claire-element-id="383092">D'autres évènements peuvent êtres utilisés, mais ils sont moins courant. Là encore, puisque vous avez compris le principe, je vous renvoie à la documentation.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
<span class="arrow"></span>
<span class="next">Utilisation simple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
<span class="next">Prendre une photo</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Prendreunephoto"></a><h2>Prendre une photo</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
<span class="arrow"></span>
<span class="next">Plus de possibilités</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">
<span class="next">TP : Z-Bloc note</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-prendre-une-photo" data-claire-element-id="383111">Prendre une photo</h4><p id="r-383096" data-claire-element-id="383096">On va profiter d'une méthode très particulière de <em>tabs</em> pour apprendre une technique amusante.<br/> Vous pouvez prendre en photo la partie visible de l'onglet sélectionné dans une fenêtre.</p><h5 id="r-mise-en-place-16" data-claire-element-id="383100">Mise en place</h5><p id="r-383097" data-claire-element-id="383097">On utilise pour cela la méthode <a href="http://code.google.com/chrome/extensions/tabs.html#method-captureVisibleTab">captureVisibleTab</a>.<br/> Je passe les détails, et je vous donne directement la fonction que j'utilise.</p><pre id="r-383098" data-claire-element-id="383098"><code data-claire-semantic="javascript">function takePhoto(tab,adresse)
	{
	if (!adresse)
		{
		chrome.tabs.captureVisibleTab(tab.windowId,null,function(adresse){takePhoto(tab,adresse);});
		}
	else
		{
		document.getElementById(&quot;conteneur&quot;).innerHTML='&lt;img src=&quot;'+adresse+'&quot; alt=&quot;riendutout&quot;/&gt;';
		}
	}</code></pre><p id="r-383099" data-claire-element-id="383099">Je l'utilise encore avec la fameuse fonction qu'on a créé ensemble. Il faut rajouter plus loin dans la popup une balise ayant pour id &quot;conteneur&quot; (span, p, ou div).<br/> Mais vous avez vu à quel point c'était laid : on affiche l'image dans la popup, ça prend tout la place, c'est gros...</p><h5 id="r-un-nouvel-onglet" data-claire-element-id="383110">Un nouvel onglet</h5><p id="r-383101" data-claire-element-id="383101">On sait créer un nouvel onglet, oui !<br/> Mais savez vous <em>afficher</em> un code variable dans un nouvel onglet ? En php, aucun problème, en javascript, c'est un peu moins courant. Cela nous servira plus tard pour les notifications, et vous l'utiliserez surement pour de nombreuses choses.</p><p id="r-383102" data-claire-element-id="383102">On va pour cela utiliser une fonction javascript <em>encodeURIComponent</em>. Celle-ci permet d'éviter les bugs quand on met une chaîne de caractère dans une url. On utilisera aussi <em>decodeURIComponent</em>, qui est la fonction exactement inverse. <br/> Je vous livre directement mon code commenté :</p><pre id="r-383103" data-claire-element-id="383103"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
	&lt;title&gt;S'amuser avec windows/tabs&lt;/title&gt;
	&lt;style&gt;
	&lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;script&gt;
		var ecrire=location.search.substring(1);//on récupère les paramètres dans l'url, et on retire le &quot;?&quot;
		document.write(decodeURIComponent(ecrire));//on écrit ce qu'on lit
	&lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-383104" data-claire-element-id="383104">Vous pouvez donc envoyer n'importe quel texte à la page &quot;afficher&quot;, et celle-ci vous l'affichera.<br/> Vous pouvez même envoyer du html.<br/> Je vous donne ma nouvelle fonction de capture d'écran :</p><pre id="r-383105" data-claire-element-id="383105"><code data-claire-semantic="javascript">function takePhoto(tab,adresse)
	{
	if (!adresse)
		{
		chrome.tabs.captureVisibleTab(tab.windowId,null,function(adresse){takePhoto(tab,adresse);});
		}
	else
		{
		chrome.tabs.create({url:'afficher.html?'+encodeURIComponent('&lt;img src=&quot;'+adresse+'&quot; alt=&quot;rien&quot;/&gt;')});
		}
	}</code></pre><p id="r-383106" data-claire-element-id="383106">Ainsi, un nouvel onglet est ouvert, avec du contenu variable, et on affiche ce qu'on veut, ici l'image.</p><p id="r-383107" data-claire-element-id="383107">Bon, avec tout cela, j'espère avoir encore élargi votre horizon de programmeur d'extensions.</p><p id="r-383108" data-claire-element-id="383108">Sérieusement, vous ne trouvez pas que vous commencez à devenir vraiment bon ? Je vous invite à vous amuser avec tout ce que vous savez faire, vous en avez largement les moyens !</p><p id="r-383109" data-claire-element-id="383109">Je vous ai concocté une petite extension récapitulative de tout ce qu'on a fait : <a href="https://chrome.google.com/extensions/detail/opcajhfllcolhmkkjfcihoemmajoleig">testez-la</a>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
<span class="arrow"></span>
<span class="next">Plus de possibilités</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">
<span class="next">TP : Z-Bloc note</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPZ-Blocnote"></a><h2>TP : Z-Bloc note</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
<span class="arrow"></span>
<span class="next">Prendre une photo</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
<span class="next">Cahier des charges</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-383113" data-claire-element-id="383113">Qui n'a jamais rêvé de faire un bloc note ? :D <br/> Cela peut paraître très banal, mais ça va nous permettre d'utiliser un peu ce qu'on a appris, et cela tout en s'amusant.<br/> Si vous ne voulez pas faire le TP, vous pouvez directement passer à la suite.</p>
</div><a name="Cahierdescharges"></a><h2>Cahier des charges</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">
<span class="arrow"></span>
<span class="next">TP : Z-Bloc note</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
<span class="next">Pas à pas</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-cahier-des-charges-20" data-claire-element-id="383124">Cahier des charges</h4><p id="r-383114" data-claire-element-id="383114">L'objectif est d'obtenir un moyen de gestion de notes classées par site.<br/> Il y aura trois grands éléments dans l'extension.</p><aside id="r-383116" data-claire-element-id="383116" data-claire-semantic="information"><p id="r-383115" data-claire-element-id="383115">Pas de page d'arrière plan cette fois.</p></aside><h5 id="r-prise-de-notes" data-claire-element-id="383118">Prise de notes</h5><p id="r-383117" data-claire-element-id="383117">La prise de notes doit se faire dans la popup.<br/> Quand on visite un site, on clique sur la popup, et on peut remplir une zone de texte avec des notes sur la page actuelle.<br/> On enregistre ensuite à l'aide d'un bouton.<br/> Quand on ouvre le <em>Z-Bloc Note</em> sur un site sur lequel on a déjà pris des notes, la zone de texte est automatiquement remplie avec ces notes.</p><h5 id="r-page-de-gestion" data-claire-element-id="383120">Page de gestion</h5><p id="r-383119" data-claire-element-id="383119">C'est cette page qu'on utilisera en page d'option.<br/> Sur celle-là, on parcourt les données enregistrées sur les différents sites.<br/> Pour chaque note, on a une ligne avec le nom du site, un bouton &quot;modifier&quot;, et un bouton &quot;supprimer&quot;.<br/> Idéalement, une petite phrase d'explication indiquerait comment prendre des notes si aucune n'est enregistrée.</p><h5 id="r-page-de-visualisation-edition" data-claire-element-id="383123">Page de visualisation / édition</h5><p id="r-383121" data-claire-element-id="383121">C'est sur cette page qu'on arrive quand on clique sur &quot;modifier&quot; dans la page de gestion.<br/> Elle propose globalement les mêmes fonctionnalités que la popup, à savoir édition et enregistrement des notes.</p><p id="r-383122" data-claire-element-id="383122">A présent, deux solutions s'offrent à vous : <br/> -Sauter directement à la solution si vous avez déjà fini.<br/> -Lire la partie suivante pour suivre le développement de l'extension pas à pas, si vous n'y arrivez pas, ou que vous ne comprenez pas la solution.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">
<span class="arrow"></span>
<span class="next">TP : Z-Bloc note</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
<span class="next">Pas à pas</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Paspas"></a><h2>Pas à pas</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
<span class="arrow"></span>
<span class="next">Cahier des charges</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
<span class="next">Solution</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-pas-a-pas-1" data-claire-element-id="383166">Pas à pas</h4><p id="r-383125" data-claire-element-id="383125">Examinons donc ensemble les points importants de l'extension, puisque vous avez pris la sage décision de lire cette partie.</p><h5 id="r-organisation-du-dossier" data-claire-element-id="383150">Organisation du dossier</h5><p id="r-383126" data-claire-element-id="383126">J'ai choisi d'organiser mon dossier ainsi, pour avoir quelque chose de clair.</p><ul id="r-383149" data-claire-element-id="383149"><li id="r-383128" data-claire-element-id="383128"><p id="r-383127" data-claire-element-id="383127">manifest.json</p></li><li id="r-383137" data-claire-element-id="383137"><p id="r-383129" data-claire-element-id="383129">pages/</p><ul id="r-383136" data-claire-element-id="383136"><li id="r-383131" data-claire-element-id="383131"><p id="r-383130" data-claire-element-id="383130">popup.html</p></li><li id="r-383133" data-claire-element-id="383133"><p id="r-383132" data-claire-element-id="383132">afficher.html</p></li><li id="r-383135" data-claire-element-id="383135"><p id="r-383134" data-claire-element-id="383134">gestion.html</p></li></ul></li><li id="r-383148" data-claire-element-id="383148"><p id="r-383138" data-claire-element-id="383138">icônes/</p><ul id="r-383147" data-claire-element-id="383147"><li id="r-383140" data-claire-element-id="383140"><p id="r-383139" data-claire-element-id="383139">icone16.png</p></li><li id="r-383142" data-claire-element-id="383142"><p id="r-383141" data-claire-element-id="383141">icone19.png (l’icône de l'action de navigateur)</p></li><li id="r-383144" data-claire-element-id="383144"><p id="r-383143" data-claire-element-id="383143">icone48.png</p></li><li id="r-383146" data-claire-element-id="383146"><p id="r-383145" data-claire-element-id="383145">icone128.png</p></li></ul></li></ul><h5 id="r-recuperer-l-adresse" data-claire-element-id="383154">Récupérer l'adresse</h5><p id="r-383151" data-claire-element-id="383151">C'est une partie cruciale de notre extension : il faut qu'elle récupère l'url de l'onglet vu pour pouvoir afficher la bonne note (ou un textarea vide).</p><p id="r-383152" data-claire-element-id="383152">Il faut bien entendu réutiliser ce qu'on a vu au chapitre précédent (c'est d'ailleurs l'intérêt du TP).</p><p id="r-383153" data-claire-element-id="383153">Avoir l'id de la fenêtre n'est pas absolument nécessaire, mais c'est toujours mieux de le faire, pour les tests. En effet, si vous utilisez votre extension normalement, l'id par défaut sera le bon. Mais si vous faites clic-droit puis &quot;inspecter la popup&quot;, vous voyez le script de la popup, mais la popup est détachée de la fenêtre. Il y aura donc des bugs, et vous ne pourrez pas la tester.</p><h5 id="r-stocker-les-notes" data-claire-element-id="383157">Stocker les notes</h5><p id="r-383155" data-claire-element-id="383155">Rien de très complexe ici. Vous devez simplement utiliser comme clef l'adresse que vous venez de récupérer.<br/> Sachez seulement qu'il est préférable de rajouter un préfixe à l'adresse du site, comme &quot;<strong>note_</strong>http://site.com&quot;. Cela sera utilisé dans la page de gestion.</p><p id="r-383156" data-claire-element-id="383156">N'oubliez pas de demander une place illimitée de localStorage dans le manifeste.</p><h5 id="r-liste-des-notes" data-claire-element-id="383160">Liste des notes</h5><p id="r-383158" data-claire-element-id="383158">Vous devrez pour cela utiliser les fonctions de <em>localStorage</em> que j'ai indiqué dans le chapitre sur le stockage de données.<br/> Par étape, voila comment la page de gestion fonctionne.<br/> -On récupère le nombre d'éléments du localStorage<br/> -On les parcours tous, en testant la présence du préfixe &quot;note_&quot;<br/> -Si il y a le préfixe, on affiche le site, le bouton &quot;modifier&quot;, et le bouton &quot;supprimer&quot; (on peut le faire avec <em>document.write</em>).</p><p id="r-383159" data-claire-element-id="383159">Le préfixe permet donc de différencier les notes des autres utilisations du localStorage de l'extension. Par exemple, si vous voulez enregistrer le nom de l'utilisateur, vous le pouvez facilement avec ce système, sans que le nom soit interprété comme une note.</p><h5 id="r-les-boutons-liens" data-claire-element-id="383165">Les boutons-liens</h5><p id="r-383161" data-claire-element-id="383161">Si vous rajoutez un bouton qui sert de lien dans la page de gestion ou d'édition (mais pas dans la popup), vous pouvez utiliser la méthode <em>chrome.tabs.getCurrent</em>, qui indique l'onglet de votre script.<br/> Il vaut mieux utiliser la méthode update que create, cela évitera à l'utilisateur de se perdre.</p><aside id="r-383163" data-claire-element-id="383163" data-claire-semantic="information"><p id="r-383162" data-claire-element-id="383162">Vous pouvez bien entendu utiliser les balises a, mais c'est plus joli d'utiliser des boutons. Sur un site web, il vaut mieux utiliser des vrais liens, pour les moteurs de recherche et le cas ou l'utilisateur a désactivé le javascript, mais aucun de ces cas ne nous concernent.</p></aside><p id="r-383164" data-claire-element-id="383164">Maintenant, vous avez vraiment TOUS les éléments pour faire l'extension.<br/> Je vous attends trois lignes plus bas et trois quarts d'heure plus tard.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
<span class="arrow"></span>
<span class="next">Cahier des charges</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
<span class="next">Solution</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Solution"></a><h2>Solution</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
<span class="arrow"></span>
<span class="next">Pas à pas</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-solution-55" data-claire-element-id="383211">Solution</h4><p id="r-383167" data-claire-element-id="383167">Hé bien, déjà fini ?<br/> Comme d'habitude, vous pouvez tester directement le résultat par la galerie google en ligne.<br/><a href="https://chrome.google.com/extensions/detail/kbekicmibgigndnoijdifikienigbpln">Tester le résultat.</a></p><h5 id="r-correction-130" data-claire-element-id="383202">Correction</h5><p id="r-383168" data-claire-element-id="383168">Je vous livre toutes mes réponses, plus ou moins commentées.<br/> Si vous avez du mal, n'hésitez pas à revoir le début de la partie sur le stockage de données.</p><p id="r-383169" data-claire-element-id="383169">L'architecture est la suivante :</p><ul id="r-383176" data-claire-element-id="383176"><li id="r-383171" data-claire-element-id="383171"><p id="r-383170" data-claire-element-id="383170">manifeste.json</p></li><li id="r-383173" data-claire-element-id="383173"><p id="r-383172" data-claire-element-id="383172">pages/<br/> -popup.html<br/> -afficher.html<br/> -gestion.html</p></li><li id="r-383175" data-claire-element-id="383175"><p id="r-383174" data-claire-element-id="383174">icônes/<br/> -icone16.png<br/> -icone19.png (l'icone de l'action de navigateur)<br/> -icone48.png<br/> -icone128.png</p></li></ul><h6 id="r-les-icones-1" data-claire-element-id="383190">Les icônes</h6><figure id="r-383178" data-claire-element-id="383179"><img id="r-383177" data-claire-element-id="383177" src="medias/uploads.siteduzero.com_files_282001_283000_282259.png" alt="Image utilisateur"/></figure><figure id="r-383181" data-claire-element-id="383182"><img id="r-383180" data-claire-element-id="383180" src="medias/uploads.siteduzero.com_files_282001_283000_282258.png" alt="Image utilisateur"/></figure><figure id="r-383184" data-claire-element-id="383185"><img id="r-383183" data-claire-element-id="383183" src="medias/uploads.siteduzero.com_files_282001_283000_282257.png" alt="Image utilisateur"/></figure><figure id="r-383187" data-claire-element-id="383188"><img id="r-383186" data-claire-element-id="383186" src="medias/uploads.siteduzero.com_files_282001_283000_282256.png" alt="Image utilisateur"/></figure><p id="r-383189" data-claire-element-id="383189">Entièrement faites maison ! Ça se sent, non ?</p><h6 id="r-manifest-json" data-claire-element-id="383192">manifest.json</h6><pre id="r-383191" data-claire-element-id="383191"><code data-claire-semantic="javascript">{
&quot;name&quot;:&quot;Z-Bloc Note&quot;,
&quot;version&quot;:&quot;0.2&quot;,
&quot;description&quot;:&quot;Prendre des notes partout où vous allez&quot;,
&quot;default_title&quot;:&quot;Bloc Note&quot;,
&quot;icons&quot;:
	{ &quot;16&quot;: &quot;icones/icone16.png&quot;,
           &quot;48&quot;: &quot;icones/icone48.png&quot;,
          &quot;128&quot;: &quot;icones/icone128.png&quot;
	},
&quot;browser_action&quot;:
	{
		&quot;default_icon&quot;: &quot;icones/icone19.png&quot;,
		&quot;popup&quot;:&quot;pages/popup.html&quot;
	},
&quot;permissions&quot;:[&quot;tabs&quot;,&quot;unlimitedStorage&quot;],
&quot;options_page&quot;:&quot;pages/gestion.html&quot;
}</code></pre><h6 id="r-popup-html" data-claire-element-id="383195">popup.html</h6><p id="r-383193" data-claire-element-id="383193">La popup. Elle n'affiche les notes que pour le site de l'onglet ouvert. Pour éditer des notes d'un autre site déjà créé, on passe par la page de gestion pour utiliser la page d'affichage/édition.</p><pre id="r-383194" data-claire-element-id="383194"><code data-claire-semantic="javascript">&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=utf-8 /&gt;
	&lt;title&gt;Z-Bloc Note&lt;/title&gt;
	&lt;style&gt;
	html
	{
	height:20px;
	}
	body
	{
	height:20px;
	padding:2px;
	}
	h1
	{
	margin:3px;
	font-weight:normal;
	text-decoration:underline;
	font-variant:small-caps;
	padding-left:30px;
	}
	#adresse
	{
	margin-left:20px;
	color:gray;
	}
	&lt;/style&gt;
	&lt;script&gt;
	function launchFunction(callback,fenetre,onglet)//vous devriez reconnaitre sans aucun mal ma fonction du chap 1 de la partie 2
		{
		if (!fenetre)
			{
			chrome.windows.getLastFocused(function(fenetre){launchFunction(callback,fenetre);});
			}
		else
			{
			if (!onglet)
				{
				chrome.tabs.getSelected(fenetre.id,function(onglet){launchFunction(callback,fenetre,onglet);});
				}
			else
				{
				callback(onglet);
				}
			}
		}
	function checkStorage(onglet)//affichage du storage si prérempli
		{
		var affichage=document.getElementById('affichage');
		document.getElementById('adresse').innerHTML='Notes enregistrées sur '+onglet.url;
		if (localStorage['note_'+onglet.url])
			{
			affichage.value=localStorage['note_'+onglet.url];
			}
		else
			{
			affichage.value='';
			affichage.setAttribute('placeholder','Aucune donnée enregistrée pour ce site');
			}
		}
	function save(onglet)
		{
		localStorage['note_'+onglet.url]=document.getElementById('affichage').value;
		}
	function openOptions()
		{
		chrome.tabs.create({url:&quot;pages/options.html&quot;});
		}
	function manageNotes()
		{
		chrome.tabs.create({url:&quot;pages/gestion.html&quot;});
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body onload=&quot;launchFunction(checkStorage)&quot;&gt;
	&lt;h1&gt;Z-Bloc Note !&lt;/h1&gt;
	&lt;span id=&quot;adresse&quot;&gt;Chargement...&lt;/span&gt;&lt;br/&gt;
	&lt;textarea id=&quot;affichage&quot; cols=&quot;80&quot; rows=&quot;10&quot;&gt;Patientez, chargement en cours...&lt;/textarea&gt;
	&lt;input type=&quot;button&quot; onclick=&quot;launchFunction(save)&quot; value=&quot;sauvegarder&quot; id=&quot;sauvegarder&quot;/&gt;
	&lt;input type=&quot;button&quot; onclick=&quot;manageNotes()&quot; value=&quot;Gérer les notes&quot;/&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><h6 id="r-gestion-html" data-claire-element-id="383198">gestion.html</h6><p id="r-383196" data-claire-element-id="383196">La page de gestion de toutes les notes. Elle s'occupe de l'édition ou de la suppression de celles-ci.</p><pre id="r-383197" data-claire-element-id="383197"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=utf-8 /&gt;
	&lt;title&gt;Z-Bloc Note : gérer les notes&lt;/title&gt;
	&lt;style&gt;
	h1
		{
		margin:3px;
		font-weight:normal;
		text-decoration:underline;
		font-variant:small-caps;
		padding-left:30px;
		}
	#adresse
		{
		margin-left:20px;
		color:gray;
		}
	&lt;/style&gt;

	&lt;script&gt;
	function deleteNote(clef)
		{
		var bool=confirm('Voulez-vous vraiment supprimer cet élément ?');
		if (bool)
			{
			localStorage.removeItem(localStorage.key(clef))
			location.reload();
			}
		}
	function readNote(clef,onglet)
		{
		if (!onglet)
			{
			chrome.tabs.getCurrent(function(onglet){readNote(clef,onglet);});
			}
		else
			{
			chrome.tabs.update(onglet.id,{url:'pages/afficher.html?'+clef});
			}
		}
	function safeString(chaine)
		{
		chaine=chaine.replace('&quot;','&amp;quot;');
		chaine=chaine.replace('&amp;','&amp;amp;');
		chaine=chaine.replace('&lt;','&amp;lt;');
		chaine=chaine.replace('&gt;','&amp;gt;');
		return chaine;
		}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
	&lt;br/&gt;
	&lt;h1&gt;Z-Bloc Note : Gestion des notes&lt;/h1&gt;
	&lt;br/&gt;&lt;br/&gt;
	&lt;table&gt;
	&lt;script&gt;
		var lire='';
		var adresse='';
		var supprimer='';
		var compteur=0;
		for (var i=0; i&lt;localStorage.length;i++)//on parcourt donc localStorage à l'aide des indices, et non des clefs, pour une fois
			{
			if (localStorage.key(i).indexOf('note_')==0)//si ça commence par note_, alors c'est une note, donc on affiche
				{
				adresse=safeString(localStorage.key(i).substring(5));//l'adresse sans le préfixe &quot;note_&quot;
				lire='&lt;input type=&quot;button&quot; value=&quot;lire&quot; onclick=&quot;readNote(\''+i+'\')&quot;/&gt;';
				supprimer='&lt;input type=&quot;button&quot; value=&quot;supprimer&quot; onclick=&quot;deleteNote(\''+i+'\')&quot;/&gt;';
				document.write('&lt;tr&gt;'
					+'&lt;td&gt;'+lire+'&lt;/td&gt;'
					+'&lt;td&gt;'+supprimer+'&lt;/td&gt;'
					+'&lt;td id=&quot;adresse&quot;&gt;'+adresse+'&lt;/td&gt;'
						+'&lt;/tr&gt;');
				compteur++;
				}
			}
		if (compteur==0)//aucune note du tout, on affiche un mini-tuto
			{
			document.write('&lt;em&gt;Aucune donnée enregistrée.&lt;br/&gt;'
			+'Pour enregistrer une donnée, cliquez sur l\'icone de l\'extension sur n\'importe quelle page.'
			+'&lt;br/&gt;Remplissez la zone de texte avec vos notes, enregistrez.'
			+'&lt;br/&gt;Si vous cliquez à nouveau sur l\icone sur la même page, vous verrez votre texte apparaître'
			+'&lt;br/&gt;Vous pourrez ensuite gérer vos notes depuis cette page.&lt;/em&gt;')
			}
	&lt;/script&gt;
	&lt;/table&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><h6 id="r-afficher-html" data-claire-element-id="383201">afficher.html</h6><p id="r-383199" data-claire-element-id="383199">La page qui sert à afficher individuellement les notes d'une page particulière.</p><pre id="r-383200" data-claire-element-id="383200"><code data-claire-semantic="javascript">&lt;html&gt;
&lt;head&gt;
	&lt;meta charset=utf-8 /&gt;
	&lt;title&gt;Z-Bloc Note&lt;/title&gt;
	&lt;style&gt;
		h1
			{
			margin:3px;
			font-weight:normal;
			text-decoration:underline;
			font-variant:small-caps;
			padding-left:30px;
			}
		#adresse
			{
			margin-left:20px;
			color:gray;
			}
	&lt;/style&gt;
	&lt;script&gt;
		var clef=null;
		function init()//affichage du storage en fonction de la clef reçue
			{
			clef=location.search.substring(1);
			clef=parseInt(clef)
			if (clef!='NaN')
				{
				var adresse=localStorage.key(clef).substring(5);
				var note=localStorage.getItem(localStorage.key(clef));
				document.getElementById('note').value=note;
				document.getElementById('adresse').appendChild(document.createTextNode('Notes enregistrées sur '+adresse));
				}
			}
			
		function goBack(onglet)//retour à la page de gestion
			{
			if (!onglet)
				{
				chrome.tabs.getCurrent(function(onglet){goBack(onglet);});
				}
			else
				{
				chrome.tabs.update(onglet.id,{url:'pages/gestion.html'});
				}
			}
		function saveNote()
			{
			localStorage[localStorage.key(clef)]=document.getElementById('note').value;
			}
	&lt;/script&gt;
&lt;/head&gt;

&lt;body onload=&quot;init()&quot;&gt;
	&lt;h1&gt;Z-Bloc Note&lt;/h1&gt;
	&lt;span id=&quot;adresse&quot;&gt;&lt;/span&gt;&lt;br/&gt;
	&lt;textarea id=&quot;note&quot; style=&quot;width:90%;height:60%;&quot;&gt;&lt;/textarea&gt;&lt;br/&gt;
	&lt;input type=&quot;button&quot; value=&quot;sauvegarder&quot; onclick=&quot;saveNote();&quot;/&gt;&lt;br/&gt;&lt;br/&gt;
	&lt;input type=&quot;button&quot; onclick=&quot;goBack();&quot; value=&quot;Retour aux paramètres&quot;&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><h5 id="r-aller-plus-loin-30" data-claire-element-id="383210">Aller plus loin</h5><p id="r-383203" data-claire-element-id="383203">Malheureusement, on ne peut pas aller tellement plus loin à notre niveau.<br/> On peut quand même rajouter des options et des boutons de navigation.<br/> On pourrait aussi implémenter un système de sélection multiple.</p><p id="r-383204" data-claire-element-id="383204">Enfin, si on voulait vraiment bien faire, il faudrait utiliser un système de BBcode ou de Zcode, et ajouter une barre d'outils <a href="http://www.siteduzero.com/tutoriel-3-34703-insertion-de-balises-dans-une-zone-de-texte.html">comme le propose Thunderseb</a>.<br/> Voila, ce sont toutes les idées d'amélioration que j'ai en tête.<br/> Cela représente quand même pas mal de travail, et je ne vous en voudrais pas de continuer directement le tutoriel.</p><p id="r-383205" data-claire-element-id="383205">Vous avez donc fait un premier vrai TP. Vous avez vu que c'est rapide à faire !<br/> Il suffit d'avoir des idées, et vous pouvez faire des milliers d'extensions différentes.</p><p id="r-383206" data-claire-element-id="383206">Et vous allez voir, on va encore multiplier nos possibilités par 10 dans le chapitre suivant.</p><p id="r-383207" data-claire-element-id="383207">Hem... partie pas terminée. :D</p><p id="r-383208" data-claire-element-id="383208">Le tutoriel n'est pas fini (l'avancement doit être marqué quelque part...).<br/> En attendant, vous pouvez consulter le site de google, très bien fait.<br/> Revenez me voir de temps en temps ! ;)</p><p id="r-383209" data-claire-element-id="383209">P.S:<br/> Toutes les images utilisées dans ce tutoriel sont de moi, sauf si je préviens du contraire.<br/> Merci à Rizoom, qui m'a fait découvrir ces extensions sans savoir ce que c'était.<br/> Merci à XeCaCanE, mon correcteur attribué.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome">Extensions pour chrome</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/introduction-54">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-extensions-de-google">
Les extensions de google
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/du-javascript">
Du javascript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/de-ce-tutoriel">
De ce tutoriel
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/une-premiere-extension">Une première extension ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/preparation-14">
Préparation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creer-l-extension">
Créer l&#039;extension
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/dans-google-chrome">
Dans google chrome
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/bugs">
Bugs
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/stocker-des-donnees">Stocker des données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-technique-de-base">
La technique de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/les-pages-d-options">
Les pages d&#039;options
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/la-tour-de-controle">La tour de contrôle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/informations-generales-1">
Informations générales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/creation-12">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/un-mini-tp-compte-a-rebours">
Un mini TP : compte à rebours
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/aller-beaucoup-plus-loin">
Aller (beaucoup) plus loin
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Plus de contrôles : Chrome et les pages web
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/naviguer-entre-fenetres-et-onglets">Naviguer entre fenêtres et onglets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/generalites-15">
Généralités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/utilisation-simple">
Utilisation simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/plus-de-possibilites">
Plus de possibilités
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/prendre-une-photo">
Prendre une photo
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/tp-z-bloc-note">TP : Z-Bloc note</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/cahier-des-charges-20">
Cahier des charges
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
Pas à pas
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/solution-55">
Solution
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/extensions-pour-chrome/pas-a-pas-1">
<span class="arrow"></span>
<span class="next">Pas à pas</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/extensions-pour-chrome.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:42:44 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/extensions-pour-chrome.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:12:25 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/codeigniter-le-framework-au-service-des-zeros.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:20:04 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/codeigniter-le-framework-au-service-des-zeros.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:17:51 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : CodeIgniter, le framework au service des Zéros</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : CodeIgniter, le framework au service des Zéros</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#CodeIgniterleframeworkauservicedesZros">CodeIgniter, le framework au service des Zéros</a><br/><a href="#Lanotiondeframework">La notion de framework</a><br/><a href="#Vousavezditframework">Vous avez dit framework ?</a><br/><a href="#LeframeworkCodeIgniter">Le framework CodeIgniter</a><br/><a href="#Prsentationdel039architectureMVC">Présentation de l&#039;architecture MVC</a><br/><a href="#Dcouvertedel039architectureMVC">Découverte de l&#039;architecture MVC</a><br/><a href="#Lecontrleur">Le contrôleur</a><br/><a href="#Lesvues">Les vues</a><br/><a href="#Lesmodles">Les modèles</a><br/><a href="#Rsum">Résumé</a><br/><a href="#Installationetconfiguration">Installation et configuration</a><br/><a href="#Tlchargementetinstallation">Téléchargement et installation</a><br/><a href="#Miseenplacedel039arborescence">Mise en place de l&#039;arborescence</a><br/><a href="#ConfiguronsCodeIgniter">Configurons CodeIgniter</a><br/><a href="#Lecontrleur">Le contrôleur</a><br/><a href="#Votrepremirepage">Votre première page</a><br/><a href="#Fonctionnalitsducontrleur">Fonctionnalités du contrôleur</a><br/><a href="#Mthodesspciales">Méthodes spéciales</a><br/><a href="#Lavue">La vue</a><br/><a href="#Votrepremirevue">Votre première vue</a><br/><a href="#Transfrervosvariables">Transférer vos variables</a><br/><a href="#Quelquesfonctionnalitssurlesvues">Quelques fonctionnalités sur les vues</a><br/><a href="#Leshelpers">Les helpers</a><br/><a href="#Chargeretutiliserleshelpers">Charger et utiliser les helpers</a><br/><a href="#Crationduhelperassets">Création du helper « assets »</a><br/><a href="#Modifierunhelper">Modifier un helper</a><br/><a href="#Lesbibliothques">Les bibliothèques</a><br/><a href="#Utiliserunebibliothque">Utiliser une bibliothèque</a><br/><a href="#LabibliothqueSession">La bibliothèque Session</a><br/><a href="#LabibliothqueFormValidation">La bibliothèque Form Validation</a><br/><a href="#LabibliothqueDatabase">La bibliothèque Database</a><br/><a href="#Retoursurlafonctionsite_url">Retour sur la fonction site_url</a><br/><a href="#Lemodle">Le modèle</a><br/><a href="#Anatomied039unmodle">Anatomie d&#039;un modèle</a><br/><a href="#Lemodledegestiondesnews">Le modèle de gestion des news</a><br/><a href="#TPUnlivred039or">[TP] Un livre d&#039;or</a><br/><a href="#Descriptiondulivred039or">Description du livre d&#039;or</a><br/><a href="#Coupdepouce">Coup de pouce</a><br/><a href="#Correction">Correction</a><br/><a href="#L039outilProfiler">L&#039;outil Profiler</a><br/><a href="#Activerleprofiler">Activer le profiler</a><br/><a href="#Modifierl039ordredesdiffrentescatgories">Modifier l&#039;ordre des différentes catégories</a><br/><a href="#Ajouterlessessions">Ajouter les sessions</a><br/><a href="#Modifierledesignduprofiler">Modifier le design du profiler</a><br/><a href="#ModificationdelaclasseModelleCRUD">Modification de la classe Model : le CRUD</a><br/><a href="#Lathorie">La théorie</a><br/><a href="#Crationduprototype">Création du prototype</a><br/><a href="#Implmentationdesmthodes">Implémentation des méthodes</a><br/><a href="#Miseenplacedesthmes">Mise en place des thèmes</a><br/><a href="#Prsentationdel039ide">Présentation de l&#039;idée</a><br/><a href="#Implmentationdesmthodesviewetviews">Implémentation des méthodes view et views</a><br/><a href="#Lesvariablesdulayout">Les variables du layout</a><br/><a href="#AjouterleCSSetleJavaScript">Ajouter le CSS et le JavaScript</a><br/><a href="#Modifiersonthme">Modifier son thème</a><br/></div>
<a name="CodeIgniterleframeworkauservicedesZros"></a><h2>CodeIgniter, le framework au service des Zéros</h2><div class="content" role="article">
<p id="r-80700" data-claire-element-id="80700">Vous en avez assez de repartir de zéro à chaque nouveau projet ? Vous voulez développer rapidement et sans contrainte ? Vous souhaitez utiliser un <em>framework</em> réputé pour ses performances sans avoir à le configurer pendant une semaine, ni devoir respecter sans arrêt des conventions ?</p><p id="r-80701" data-claire-element-id="80701">Eh bien, ami Zéro, je vous accueille à bras ouverts dans ce tutoriel sur CodeIgniter. Nous y découvrirons comment employer ce framework pour réaliser vos sites. Au programme : architecture MVC, programmation orientée objet, bibliothèques, <em>helpers</em> et bien d'autres choses !</p><aside id="r-80710" data-claire-element-id="80710" data-claire-semantic="warning"><p id="r-80702" data-claire-element-id="80702">Pour suivre ce tutoriel, vous devez :</p><ul id="r-80709" data-claire-element-id="80709"><li id="r-80704" data-claire-element-id="80704"><p id="r-80703" data-claire-element-id="80703">avoir lu le <a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html">tutoriel</a> de <a href="http://www.siteduzero.com/membres-294-3.html">M@teo21</a> ;</p></li><li id="r-80706" data-claire-element-id="80706"><p id="r-80705" data-claire-element-id="80705">avoir lu le <a href="http://www.siteduzero.com/tutoriel-3-147180-la-programmation-orientee-objet-en-php.html">tutoriel</a> de <a href="http://www.siteduzero.com/membres-294-85974.html">vyk12</a> sur la programmation orientée objet ;</p></li><li id="r-80708" data-claire-element-id="80708"><p id="r-80707" data-claire-element-id="80707">éventuellement, connaître l'<a href="http://fr.wikipedia.org/wiki/Modèle-Vue-Contrôleur">architecture MVC</a> (ce sera un plus).</p></li></ul></aside><p id="r-80711" data-claire-element-id="80711">C'est parti !</p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Lanotiondeframework"></a><h2>La notion de framework</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
<span class="next">Vous avez dit framework ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-80714" data-claire-element-id="80714">Dans ce chapitre, nous allons définir ce qu'est un framework. Ensuite, nous nous attarderons sur les possibilités de CodeIgniter et ce qui fait de lui un framework très réputé.</p><p id="r-80715" data-claire-element-id="80715">Vous allez pouvoir découvrir plus précisément CodeIgniter, mais aussi déterminer si celui-ci est fait pour vous. Chaque framework possède des avantages et des inconvénients. À vous de faire votre choix parmi la multitude de frameworks PHP déjà présents sur le net.</p>
</div><a name="Vousavezditframework"></a><h2>Vous avez dit framework ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">
<span class="arrow"></span>
<span class="next">La notion de framework</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
<span class="next">Le framework CodeIgniter</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-vous-avez-dit-framework" data-claire-element-id="80755">Vous avez dit framework ?</h4><h5 id="r-introduction-1" data-claire-element-id="80723">Introduction</h5><div id="r-80717" data-claire-element-id="80717" data-claire-semantic="question"><p id="r-80716" data-claire-element-id="80716">C'est bien joli, tout ça, mais tu ne nous as toujours pas dit ce qu'était un framework !</p></div><p id="r-80718" data-claire-element-id="80718">En effet, mais je vais le faire tout de suite.</p><p id="r-80719" data-claire-element-id="80719"><cite>Citation : Wikipédia</cite></p><blockquote id="r-80721" data-claire-element-id="80721"><p id="r-80720" data-claire-element-id="80720">En programmation informatique, un framework est un kit de composants logiciels structurels, qui définissent les fondations et les grandes lignes de l'organisation de tout ou partie d'un logiciel (architecture).</p></blockquote><p id="r-80722" data-claire-element-id="80722">Autrement dit, un framework PHP est <strong>un ensemble de codes</strong> qui fournit <strong>une organisation</strong> ainsi qu'un grand nombre de <strong>fonctionnalités</strong>, dont le nombre et la qualité diffèrent selon les frameworks. Ainsi, la maîtrise d'un framework vous permet de ne vous occuper que de votre site et de laisser le reste à d'autres développeurs, c'est-à-dire sa base, son socle, mais aussi tout ce qui s'articule autour : les classes, les fonctions, etc.</p><h5 id="r-choisir-son-framework" data-claire-element-id="80738">Choisir son framework</h5><p id="r-80724" data-claire-element-id="80724">Choisir un framework n'est pas une chose aisée : il en existe un nombre important, dont au moins une bonne dizaine sont de très bonne qualité.</p><div id="r-80726" data-claire-element-id="80726" data-claire-semantic="question"><p id="r-80725" data-claire-element-id="80725">Mais alors, comment choisir ?</p></div><p id="r-80727" data-claire-element-id="80727">Là, c'est une affaire de goût. Cependant plusieurs paramètres sont à prendre en compte. Il n'y a pas que ceux-ci, mais c'est déjà un bon début.</p><ul id="r-80736" data-claire-element-id="80736"><li id="r-80729" data-claire-element-id="80729"><p id="r-80728" data-claire-element-id="80728"><strong>Votre style de programmation</strong> : êtes-vous plutôt procédural ou orienté objet ? En PHP, comme dans tout langage de programmation, chacun a son style.</p></li><li id="r-80731" data-claire-element-id="80731"><p id="r-80730" data-claire-element-id="80730"><strong>Votre organisation</strong> : avis à tous les Zéros bordéliques, c'est peut-être la fin de vos ennuis. La conception de l'organisation diffère d'un codeur à l'autre. Certains préfèrent avoir une arborescence profonde et stricte, d'autres préfèrent la possibilité de placer leurs fichiers n'importe où, comme bon leur semble.</p></li><li id="r-80733" data-claire-element-id="80733"><p id="r-80732" data-claire-element-id="80732"><strong>Les fonctionnalités</strong> mises en avant par le framework : chacun propose un nombre plus ou moins important de fonctionnalités. Ne tombez pas dans le piège de l'usine à gaz ! Choisissez votre framework raisonnablement. Cela ne sert à rien de choisir un framework trop sophistiqué si vous n'utilisez pas toute sa puissance (ou du moins une partie conséquente).</p></li><li id="r-80735" data-claire-element-id="80735"><p id="r-80734" data-claire-element-id="80734"><strong>La communauté</strong> et <strong>la réputation</strong> : en effet, quoi qu'on en dise, si le framework est connu, c'est souvent un gage de qualité. Une communauté active, c'est la garantie que le framework continuera à fournir des mises à jour.</p></li></ul><p id="r-80737" data-claire-element-id="80737">Cette liste n'est pas exhaustive. Ce sont simplement des pistes de réflexions.</p><h5 id="r-frameworks-et-fonctionnalites" data-claire-element-id="80754">Frameworks et fonctionnalités</h5><p id="r-80739" data-claire-element-id="80739">Voici quelques exemples de fonctionnalités que j'ai pu rencontrer dans des frameworks PHP qui peuvent être décisifs :</p><ul id="r-80752" data-claire-element-id="80752"><li id="r-80741" data-claire-element-id="80741"><p id="r-80740" data-claire-element-id="80740">ORM pour simplifier la gestion des bases de données ;</p></li><li id="r-80743" data-claire-element-id="80743"><p id="r-80742" data-claire-element-id="80742">internationalisation ;</p></li><li id="r-80745" data-claire-element-id="80745"><p id="r-80744" data-claire-element-id="80744">aide pour l'AJAX ;</p></li><li id="r-80747" data-claire-element-id="80747"><p id="r-80746" data-claire-element-id="80746">gestion des droits (administrateur, modérateur, membre, etc.) ;</p></li><li id="r-80749" data-claire-element-id="80749"><p id="r-80748" data-claire-element-id="80748">gestion de formats variés : XHTML, XUL, RSS, ATOM, RDF, ZIP, XML, PDF, etc. ;</p></li><li id="r-80751" data-claire-element-id="80751"><p id="r-80750" data-claire-element-id="80750">et bien d'autres encore.</p></li></ul><p id="r-80753" data-claire-element-id="80753">Certaines peuvent paraître indispensables, alors que d'autres vous sembleront inutiles. Comme je l'ai dit dans l'introduction, c'est à vous de faire votre choix !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">
<span class="arrow"></span>
<span class="next">La notion de framework</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
<span class="next">Le framework CodeIgniter</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LeframeworkCodeIgniter"></a><h2>Le framework CodeIgniter</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
<span class="arrow"></span>
<span class="next">Vous avez dit framework ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">
<span class="next">Présentation de l&#039;architecture MVC</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-framework-codeigniter" data-claire-element-id="80777">Le framework CodeIgniter</h4><h5 id="r-presentation-23" data-claire-element-id="80759">Présentation</h5><p id="r-80756" data-claire-element-id="80756">Maintenant que vous savez ce qu'est un framework, nous allons pouvoir enfin parler de CodeIgniter.</p><p id="r-80757" data-claire-element-id="80757">Avant toute chose, il faut savoir que CodeIgniter n'est pas une usine à gaz. Et pour cause, il a été conçu dans le but de ne fournir que le <strong>strict minimum</strong>. Tout le reste est entièrement <strong>optionnel</strong> (même les bibliothèques gérant les bases de données et les sessions le sont).</p><p id="r-80758" data-claire-element-id="80758">Cela lui permet donc d'être doublement rapide. D'une part, sur le temps d'apprentissage du framework : vous verrez que vous vous sentirez très vite à l'aise. D'autre part, sur le temps de génération de votre page. Autant vous le dire tout de suite, CodeIgniter se retrouve souvent en très bonne position dans les <em>benchmarks</em> (je ne pourrai pas vous en dire plus sur ce point, au risque de ne plus être objectif).</p><h5 id="r-libraries-et-helpers" data-claire-element-id="80773">Libraries et Helpers</h5><p id="r-80760" data-claire-element-id="80760">Cela dit, j'espère que vous ne croyez pas que ce tutoriel se finira au bout de trois malheureux chapitres ! Le socle initial permet aux codeurs d'inclure des bibliothèques et des fonctions fournies par CodeIgniter. Et vous allez le voir, elles sont nombreuses. Vous trouverez la liste <a href="http://codeigniter.com/user_guide/toc.html">ici</a>.</p><p id="r-80761" data-claire-element-id="80761">La colonne <strong><em>Class Reference</em></strong> regroupe des classes que vous pourrez utiliser lorsque vous en aurez besoin. Vous y trouverez notamment les plus importantes :</p><ul id="r-80770" data-claire-element-id="80770"><li id="r-80763" data-claire-element-id="80763"><p id="r-80762" data-claire-element-id="80762"><a href="http://codeigniter.com/user_guide/libraries/config.html"><strong>config</strong></a> pour récupérer toute votre configuration. Vous allez pouvoir personnaliser votre framework ;</p></li><li id="r-80765" data-claire-element-id="80765"><p id="r-80764" data-claire-element-id="80764"><a href="http://codeigniter.com/user_guide/database/index.html"><strong>database</strong></a> pour les bases de données. Nous la découvrirons en douceur, car elle est assez <a href="http://codeigniter.com/user_guide/database/active_record.html">conséquente</a> ;</p></li><li id="r-80767" data-claire-element-id="80767"><p id="r-80766" data-claire-element-id="80766"><a href="http://codeigniter.com/user_guide/libraries/form_validation.html"><strong>form_validation</strong></a> pour simplifier la vérification des formulaires. Une fois que l'on y touche, on ne peut plus s'en passer ;</p></li><li id="r-80769" data-claire-element-id="80769"><p id="r-80768" data-claire-element-id="80768"><a href="http://codeigniter.com/user_guide/libraries/sessions.html"><strong>session</strong></a> pour les sessions. CodeIgniter n'utilise pas les sessions natives mais son propre système. Je vous rassure, ce n'est pas plus compliqué pour autant.</p></li></ul><p id="r-80771" data-claire-element-id="80771">Bien entendu, je ne vous montre qu'une fraction des bibliothèques. Sachez aussi qu'il est possible de créer ses propres classes et même de modifier le comportement de celles fournies par CodeIgniter. Vous verrez, c'est extrêmement utile.</p><p id="r-80772" data-claire-element-id="80772">Si vous retournez sur <a href="http://codeigniter.com/user_guide/toc.html">ce lien</a>, vous verrez une colonne <em><strong>Helper Reference</strong></em>. Les helpers sont tout simplement des ensembles de fonctions regroupées par thème. Ici encore, nous allons pouvoir créer nos propres helpers et même redéfinir les fonctions de CodeIgniter lorsqu'elles ne nous plairont pas. Nous avons donc des fonctions pour <a href="http://codeigniter.com/user_guide/helpers/url_helper.html">générer nos URL</a>, <a href="http://codeigniter.com/user_guide/helpers/form_helper.html">générer nos formulaires</a>, <a href="http://codeigniter.com/user_guide/helpers/smiley_helper.html">insérer des smileys</a> ou encore <a href="http://codeigniter.com/user_guide/helpers/captcha_helper.html">utiliser un catpcha</a>. Mais pas de panique, il ne s'agit que de simples fonctions.</p><h5 id="r-en-resume-197" data-claire-element-id="80776">En résumé</h5><p id="r-80774" data-claire-element-id="80774">Si l'on devait résumer le framework en une phrase, on dirait que CodeIgniter est une base réduite en fonctionnalités mais hautement performante, pouvant faire appel à des classes et à des fonctions très complètes lorsque le besoin s'en fait sentir.</p><p id="r-80775" data-claire-element-id="80775">Maintenant que vous en savez plus sur CodeIgniter, nous allons pouvoir nous intéresser à l'organisation de nos fichiers avec l'architecture MVC.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
<span class="arrow"></span>
<span class="next">Vous avez dit framework ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">
<span class="next">Présentation de l&#039;architecture MVC</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Prsentationdel039architectureMVC"></a><h2>Présentation de l&#039;architecture MVC</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
<span class="arrow"></span>
<span class="next">Le framework CodeIgniter</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
<span class="next">Découverte de l&#039;architecture MVC</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-80779" data-claire-element-id="80779">Si vous développez en PHP depuis un certain temps, vous avez sûrement dû entendre parler de l'architecture MVC. Non ? Eh bien, si ce n'est pas le cas, vous apprendrez très vite à vous en servir. Vous verrez, ce n'est pas spécialement compliqué, il suffit d'être méthodique.</p><aside id="r-80781" data-claire-element-id="80781" data-claire-semantic="information"><p id="r-80780" data-claire-element-id="80780">Si vous connaissez cette architecture, lisez tout de même ce chapitre. Il se peut que vous y trouviez des informations intéressantes.</p></aside>
</div><a name="Dcouvertedel039architectureMVC"></a><h2>Découverte de l&#039;architecture MVC</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;architecture MVC</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
<span class="next">Le contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-decouverte-de-l-architecture-mvc" data-claire-element-id="80790">Découverte de l'architecture MVC</h4><p id="r-80782" data-claire-element-id="80782">MVC est l'acronyme de <strong>Modèle-Vue-Contrôleur</strong> ! Autrement dit, nous allons séparer notre application en au moins trois parties.</p><figure id="r-80784" data-claire-element-id="80785"><img id="r-80783" data-claire-element-id="80783" src="medias/uploads.siteduzero.com_files_275001_276000_275908.png" alt="Image utilisateur"/></figure><div id="r-80787" data-claire-element-id="80787" data-claire-semantic="question"><p id="r-80786" data-claire-element-id="80786">Mais pourquoi ?</p></div><p id="r-80788" data-claire-element-id="80788">Eh bien parce que cela va nous permettre de mieux nous <strong>organiser</strong> !<br/> Il est vrai qu'au début, vous n'en verrez pas tout de suite l'intérêt. Mais lorsque votre site web commencera à prendre de l'ampleur, vous devrez par exemple changer de design, changer le SGBD de votre base de données ou encore ajouter un groupe VIP. Toutes ces modifications annoncent de très lourds changements si vous ne savez exactement où se situe le code à modifier.</p><p id="r-80789" data-claire-element-id="80789">Nous allons justement aborder une organisation robuste composée de trois couches d'abstraction.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;architecture MVC</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
<span class="next">Le contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lecontrleur"></a><h2>Le contrôleur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
<span class="arrow"></span>
<span class="next">Découverte de l&#039;architecture MVC</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
<span class="next">Les vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-controleur-14" data-claire-element-id="80806">Le contrôleur</h4><p id="r-80791" data-claire-element-id="80791">Le contrôleur est ce qui va être appelé en premier. Il n'y a qu'un seul contrôleur par URL. Donc, deux URL différentes appelleront deux contrôleurs différents.</p><p id="r-80792" data-claire-element-id="80792">Le contrôleur se charge d'<strong>appeler tous les composants</strong> : bibliothèques, helpers, vues, modèles, mais aussi de <strong>faire les nombreuses vérifications nécessaires</strong>.</p><p id="r-80793" data-claire-element-id="80793">Voici quelques exemples de fonctionnalités que peut fournir un contrôleur.</p><ul id="r-80802" data-claire-element-id="80802"><li id="r-80795" data-claire-element-id="80795"><p id="r-80794" data-claire-element-id="80794">Vérifier si le formulaire a bien été rempli.</p></li><li id="r-80797" data-claire-element-id="80797"><p id="r-80796" data-claire-element-id="80796">Vérifier si le visiteur a bien le niveau requis pour voir la page (administrateur par exemple).</p></li><li id="r-80799" data-claire-element-id="80799"><p id="r-80798" data-claire-element-id="80798">Changer le design selon les préférences du visiteur (via un cookie, par exemple).</p></li><li id="r-80801" data-claire-element-id="80801"><p id="r-80800" data-claire-element-id="80800">Contrôler les <em><a href="http://www.siteduzero.com/tutoriel-3-157576-securisation-des-failles-csrf.html#ss_part_2">tokens</a></em> (ou jetons) de sécurité. Si vous ne connaissez pas ces petites bêtes, ce n'est pas grave (tout du moins pour ce tutoriel).</p></li></ul><p id="r-80803" data-claire-element-id="80803">Le contrôleur sera donc la partie la plus importante pour le développeur PHP. Tout ce qui se passe dans le contrôleur sera invisible aux yeux des visiteurs. Le contrôleur n'a pas pour rôle d'envoyer au navigateur un message d'erreur, il a pour rôle de trouver cette erreur. L'affichage de cette erreur se fera via une autre couche d'abstraction.</p><p id="r-80804" data-claire-element-id="80804">Avec CodeIgniter, vous verrez que chaque contrôleur est une classe qui est appelée selon l'URL. Et comme toute classe qui se respecte, elle possède un certain nombre de méthodes qui représenteront les différentes <strong>actions</strong> que le contrôleur peut effectuer.</p><p id="r-80805" data-claire-element-id="80805">Par exemple, si on a cette URL : <a href="http://nomdedomaine.tld/">http://nomdedomaine.tld/</a>news/voir_news.html, cela signifie que CodeIgniter doit appeler dans la classe News la méthode voir_news. C'est donc l'URL qui appelle le contrôleur.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
<span class="arrow"></span>
<span class="next">Découverte de l&#039;architecture MVC</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
<span class="next">Les vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesvues"></a><h2>Les vues</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
<span class="arrow"></span>
<span class="next">Le contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
<span class="next">Les modèles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-vues-2" data-claire-element-id="80821">Les vues</h4><p id="r-80807" data-claire-element-id="80807">Les vues sont directement responsables de <strong>tout ce que l'on va envoyer aux navigateurs</strong>. Les vues seront donc composées principalement de HTML. Nous y trouverons aussi du PHP qui nous servira pour afficher des variables et faire quelques boucles.</p><p id="r-80808" data-claire-element-id="80808">Il n'y a pas de limite au nombre de vues. Alors qu'avec les contrôleurs, nous avions une URL par contrôleur, ici, nous pouvons très bien avoir cinq vues par contrôleur. Le rôle du contrôleur est aussi d'appeler la bonne vue. De plus, rien n'empêche le contrôleur de faire appel à plusieurs vues.</p><p id="r-80809" data-claire-element-id="80809">Cette relation est représentée sur le schéma par un trait plein allant du contrôleur à la vue.</p><aside id="r-80811" data-claire-element-id="80811" data-claire-semantic="information"><p id="r-80810" data-claire-element-id="80810">Sur ce même schéma, vous pouvez voir un trait en pointillé : il s'agit d'un flux indirect. Il est possible, au lieu d'afficher la vue au moment où le contrôleur l'appelle, de sauvegarder son contenu dans une variable, en vue de le stocker dans un fichier par exemple. Ce n'est utile que dans certains cas très particuliers.</p></aside><p id="r-80812" data-claire-element-id="80812">Par exemple, pour la page d'accueil de l'administration d'un site, nous pourrons trouver ce genre de vues :</p><ul id="r-80819" data-claire-element-id="80819"><li id="r-80814" data-claire-element-id="80814"><p id="r-80813" data-claire-element-id="80813">une vue contenant le formulaire de connexion à la zone administrateur ;</p></li><li id="r-80816" data-claire-element-id="80816"><p id="r-80815" data-claire-element-id="80815">une vue contenant un message d'erreur ;</p></li><li id="r-80818" data-claire-element-id="80818"><p id="r-80817" data-claire-element-id="80817">une vue contenant la page d'administration.</p></li></ul><p id="r-80820" data-claire-element-id="80820">Le rôle de la vue s'arrête là. C'est au contrôleur de savoir quelle est la vue qu'il doit charger.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
<span class="arrow"></span>
<span class="next">Le contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
<span class="next">Les modèles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesmodles"></a><h2>Les modèles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
<span class="arrow"></span>
<span class="next">Les vues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
<span class="next">Résumé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-modeles-1" data-claire-element-id="80840">Les modèles</h4><p id="r-80822" data-claire-element-id="80822">Cette dernière couche d'abstraction permet de faire <strong>le lien entre le contrôleur et la base de données</strong>. Il est toujours conseillé de séparer convenablement les requêtes que vous envoyez à la base de données et les instructions qui vont utiliser ces données.</p><p id="r-80823" data-claire-element-id="80823">Le modèle permettra donc d'envoyer des requêtes à la base de données et d'en retourner le résultat sous forme brute (sans HTML). Nous y trouverons donc des fonctionnalités typiques des bases de données (ajouter, modifier, supprimer...).<br/> Dans la plupart des cas, si les bases de données ont bien été pensées, il y aura un modèle pour chaque table.</p><p id="r-80824" data-claire-element-id="80824">Prenons l'exemple d'une table sauvegardant des news. Le modèle associé à cette table devra être composé de ces fonctionnalités :</p><ul id="r-80837" data-claire-element-id="80837"><li id="r-80826" data-claire-element-id="80826"><p id="r-80825" data-claire-element-id="80825">ajouter ;</p></li><li id="r-80828" data-claire-element-id="80828"><p id="r-80827" data-claire-element-id="80827">modifier ;</p></li><li id="r-80830" data-claire-element-id="80830"><p id="r-80829" data-claire-element-id="80829">supprimer ;</p></li><li id="r-80832" data-claire-element-id="80832"><p id="r-80831" data-claire-element-id="80831">nombre_news ;</p></li><li id="r-80834" data-claire-element-id="80834"><p id="r-80833" data-claire-element-id="80833">liste_news ;</p></li><li id="r-80836" data-claire-element-id="80836"><p id="r-80835" data-claire-element-id="80835">news.</p></li></ul><p id="r-80838" data-claire-element-id="80838">Eh bien, pour réaliser cela avec CodeIgniter, vous allez devoir créer une classe que nous appellerons News_model, et nous implémenterons toutes les méthodes dont nous aurons besoin pour manipuler les news dans la base de données. Il nous suffira alors d'exécuter les méthodes de ce modèle depuis le contrôleur.</p><p id="r-80839" data-claire-element-id="80839">Pour en finir avec les modèles, il faut que vous sachiez qu'il est facultatif. Vous avez la possibilité de n'en inclure aucun. Ce n'est pas obligatoire de charger un modèle dans le cas où vous ne souhaitez pas exécuter de requêtes avec votre base de données. Mais nous aurons l'occasion d'en parler plus en détail par la suite.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
<span class="arrow"></span>
<span class="next">Les vues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
<span class="next">Résumé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rsum"></a><h2>Résumé</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
<span class="arrow"></span>
<span class="next">Les modèles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">
<span class="next">Installation et configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-resume-6" data-claire-element-id="80943">Résumé</h4><h5 id="r-le-tableau" data-claire-element-id="80875">Le tableau</h5><p id="r-80841" data-claire-element-id="80841">Dorénavant, quand vous développerez avec CodeIgniter, vous devez avoir le tableau suivant dans la tête.</p><table id="r-80874" data-claire-element-id="80874"><thead id="r-80847" data-claire-element-id="80847"><tr id="r-80846" data-claire-element-id="80846"><th id="r-80843" data-claire-element-id="80843"><p id="r-80842" data-claire-element-id="80842">Nom de la couche</p></th><th id="r-80845" data-claire-element-id="80845"><p id="r-80844" data-claire-element-id="80844">Rôle de la couche</p></th></tr></thead><tbody id="r-80873" data-claire-element-id="80873"><tr id="r-80852" data-claire-element-id="80852"><td id="r-80849" data-claire-element-id="80849"><p id="r-80848" data-claire-element-id="80848">Contrôleurs</p></td><td id="r-80851" data-claire-element-id="80851"><p id="r-80850" data-claire-element-id="80850">C'est le cœur de votre application. Ce sont eux qui seront appelés en premier. Ils seront l'intermédiaire entre les modèles, les vues et toute autre forme de ressources.</p></td></tr><tr id="r-80857" data-claire-element-id="80857"><td id="r-80854" data-claire-element-id="80854"><p id="r-80853" data-claire-element-id="80853">Vues</p></td><td id="r-80856" data-claire-element-id="80856"><p id="r-80855" data-claire-element-id="80855">Principalement composées de code HTML, elles permettent de renvoyer le code aux visiteurs.</p></td></tr><tr id="r-80862" data-claire-element-id="80862"><td id="r-80859" data-claire-element-id="80859"><p id="r-80858" data-claire-element-id="80858">Modèles</p></td><td id="r-80861" data-claire-element-id="80861"><p id="r-80860" data-claire-element-id="80860">Facultatifs, ils permettent d'envoyer des requêtes à la base de données.</p></td></tr><tr id="r-80867" data-claire-element-id="80867"><td id="r-80864" data-claire-element-id="80864"><p id="r-80863" data-claire-element-id="80863">Bibliothèques</p></td><td id="r-80866" data-claire-element-id="80866"><p id="r-80865" data-claire-element-id="80865">La plupart sont facultatives. Ce sont des classes qui permettent de nous aider. La bibliothèque de vérification des formulaires est un très bon exemple.</p></td></tr><tr id="r-80872" data-claire-element-id="80872"><td id="r-80869" data-claire-element-id="80869"><p id="r-80868" data-claire-element-id="80868">Helpers</p></td><td id="r-80871" data-claire-element-id="80871"><p id="r-80870" data-claire-element-id="80870">Ce ne sont que des fonctions classées par thème.</p></td></tr></tbody></table><h5 id="r-le-diagramme" data-claire-element-id="80942">Le diagramme</h5><p id="r-80876" data-claire-element-id="80876">Voici un schéma très bien fait extrait de la documentation. Il illustre le fonctionnement de CodeIgniter.</p><figure id="r-80878" data-claire-element-id="80879"><img id="r-80877" data-claire-element-id="80877" src="medias/uploads.siteduzero.com_files_248001_249000_248343.gif" alt="Image utilisateur"/></figure><table id="r-80938" data-claire-element-id="80938"><thead id="r-80887" data-claire-element-id="80887"><tr id="r-80886" data-claire-element-id="80886"><th id="r-80881" data-claire-element-id="80881"><p id="r-80880" data-claire-element-id="80880">Ordre</p></th><th id="r-80883" data-claire-element-id="80883"><p id="r-80882" data-claire-element-id="80882">Nom</p></th><th id="r-80885" data-claire-element-id="80885"><p id="r-80884" data-claire-element-id="80884">Description</p></th></tr></thead><tbody id="r-80937" data-claire-element-id="80937"><tr id="r-80894" data-claire-element-id="80894"><td id="r-80889" data-claire-element-id="80889"><p id="r-80888" data-claire-element-id="80888">1</p></td><td id="r-80891" data-claire-element-id="80891"><p id="r-80890" data-claire-element-id="80890">index.php</p></td><td id="r-80893" data-claire-element-id="80893"><p id="r-80892" data-claire-element-id="80892">Ce sera toujours le fichier index.php, situé à la racine du répertoire, qui sera appelé en premier.</p></td></tr><tr id="r-80901" data-claire-element-id="80901"><td id="r-80896" data-claire-element-id="80896"><p id="r-80895" data-claire-element-id="80895">2</p></td><td id="r-80898" data-claire-element-id="80898"><p id="r-80897" data-claire-element-id="80897">Routing</p></td><td id="r-80900" data-claire-element-id="80900"><p id="r-80899" data-claire-element-id="80899">C'est le routeur. C'est lui qui récupérera l'URL et la décomposera en actions. Il a pour rôle de trouver le contrôleur à appeler. Nous verrons dans la suite de ce tutoriel que nous pouvons modifier son comportement.</p></td></tr><tr id="r-80908" data-claire-element-id="80908"><td id="r-80903" data-claire-element-id="80903"><p id="r-80902" data-claire-element-id="80902">3</p></td><td id="r-80905" data-claire-element-id="80905"><p id="r-80904" data-claire-element-id="80904">Caching</p></td><td id="r-80907" data-claire-element-id="80907"><p id="r-80906" data-claire-element-id="80906">Une fois que le routeur a fini son travail, le module de cache va regarder s'il existe des fichiers mis en cache pour cette action. Dans le cas d'une réponse positive, ces fichiers vont être renvoyés au navigateur.</p></td></tr><tr id="r-80915" data-claire-element-id="80915"><td id="r-80910" data-claire-element-id="80910"><p id="r-80909" data-claire-element-id="80909">4</p></td><td id="r-80912" data-claire-element-id="80912"><p id="r-80911" data-claire-element-id="80911">Security</p></td><td id="r-80914" data-claire-element-id="80914"><p id="r-80913" data-claire-element-id="80913">Cette partie va sécuriser toutes les données entrantes : cookies, variables get, post, etc. C'est la dernière étape avant le contrôleur.</p></td></tr><tr id="r-80922" data-claire-element-id="80922"><td id="r-80917" data-claire-element-id="80917"><p id="r-80916" data-claire-element-id="80916">5</p></td><td id="r-80919" data-claire-element-id="80919"><p id="r-80918" data-claire-element-id="80918">Application Controller</p></td><td id="r-80921" data-claire-element-id="80921"><p id="r-80920" data-claire-element-id="80920">Ce sera ici que nous commencerons à développer.</p></td></tr><tr id="r-80929" data-claire-element-id="80929"><td id="r-80924" data-claire-element-id="80924"><p id="r-80923" data-claire-element-id="80923">6</p></td><td id="r-80926" data-claire-element-id="80926"><p id="r-80925" data-claire-element-id="80925">Models Libraries Helpers</p></td><td id="r-80928" data-claire-element-id="80928"><p id="r-80927" data-claire-element-id="80927">Comme vous le voyez, le contrôleur fait appel à différents éléments qui vont leur renvoyer des données.</p></td></tr><tr id="r-80936" data-claire-element-id="80936"><td id="r-80931" data-claire-element-id="80931"><p id="r-80930" data-claire-element-id="80930">7</p></td><td id="r-80933" data-claire-element-id="80933"><p id="r-80932" data-claire-element-id="80932">View</p></td><td id="r-80935" data-claire-element-id="80935"><p id="r-80934" data-claire-element-id="80934">Les vues sont les fichiers qui contiennent le code HTML.</p></td></tr></tbody></table><aside id="r-80940" data-claire-element-id="80940" data-claire-semantic="information"><p id="r-80939" data-claire-element-id="80939">Si vous êtes attentifs, vous avez dû voir que je n'ai pas du tout parlé des <em>plugins</em>. En effet, les plugins ont été supprimés depuis CodeIgniter 2.0, mais l'image n'en reste pas moins très intéressante.</p></aside><p id="r-80941" data-claire-element-id="80941">Et voilà, maintenant que vous connaissez le framework et ses grandes lignes, nous allons enfin pouvoir le télécharger et le configurer. J'espère que ces deux chapitres ne vous ont pas trop ramollis, parce qu'à partir de maintenant, il n'y aura plus de chapitre théorique. Ce sera à vous de travailler !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
<span class="arrow"></span>
<span class="next">Les modèles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">
<span class="next">Installation et configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installationetconfiguration"></a><h2>Installation et configuration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
<span class="arrow"></span>
<span class="next">Résumé</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
<span class="next">Téléchargement et installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-80945" data-claire-element-id="80945">Voici enfin venu le moment où vous allez pouvoir télécharger CodeIgniter et ouvrir votre éditeur de texte.</p><p id="r-80946" data-claire-element-id="80946">Au menu : téléchargement, installation, découverte de l'arborescence et configuration. À table !</p><aside id="r-80948" data-claire-element-id="80948" data-claire-semantic="information"><p id="r-80947" data-claire-element-id="80947">Nous ne toucherons pas à toutes les clés de configuration. Vous comprendrez davantage d'éléments lorsque vous serez habitués au framework.</p></aside>
</div><a name="Tlchargementetinstallation"></a><h2>Téléchargement et installation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">
<span class="arrow"></span>
<span class="next">Installation et configuration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
<span class="next">Mise en place de l&#039;arborescence</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-telechargement-et-installation-1" data-claire-element-id="80972">Téléchargement et installation</h4><h5 id="r-telechargement-2" data-claire-element-id="80952">Téléchargement</h5><p id="r-80949" data-claire-element-id="80949">Rendez-vous sur le <a href="http://codeigniter.com/">site officiel</a> de CodeIgniter pour pouvoir télécharger le framework, et plus exactement dans la rubrique <a href="http://codeigniter.com/downloads/">downloads</a>. Vous devriez normalement voir un gros bouton <em>Download CodeIgniter</em>. À l'heure où j'écris ces lignes, la version actuelle est la 2.0.2. Bien entendu, prenez la dernière version.</p><p id="r-80950" data-claire-element-id="80950">Pendant que j'y suis, j'en profite aussi pour vous donner le lien de la <a href="http://codeigniter.com/user_guide/toc.html">documentation</a>. S'il y a bien un lien qu'il faut mettre dans vos favoris, c'est celui-ci.</p><p id="r-80951" data-claire-element-id="80951">Une fois qu'elle sera téléchargée, il faudra décompresser l'archive et placer le dossier portant le même nom que la version dans votre répertoire web. Vous pouvez le placer où vous voulez. Pour les besoins du tutoriel, j'ai renommé le dossier en codeIgniter et je l'ai placé dans mon répertoire www.</p><h5 id="r-installation-9" data-claire-element-id="80971">Installation</h5><p id="r-80953" data-claire-element-id="80953">Vous allez voir, l'installation va être très rapide.</p><h6 id="r-quelques-modifications" data-claire-element-id="80958">Quelques modifications</h6><p id="r-80954" data-claire-element-id="80954">Dans votre dossier (que j'ai appelé codeIgniter), vous avez normalement deux fichiers : index.php et licence.txt. Vous pouvez faire ce que bon vous semble de la licence.<br/> Ensuite, vous avez la documentation dans le dossier user_guid. Vous pouvez aussi en faire ce que bon vous semble.</p><figure id="r-80956" data-claire-element-id="80957"><img id="r-80955" data-claire-element-id="80955" src="medias/uploads.siteduzero.com_files_248001_249000_248381.png" alt="Image utilisateur"/></figure><h6 id="r-index-php" data-claire-element-id="80970">index.php</h6><p id="r-80959" data-claire-element-id="80959">Maintenant, vous allez ouvrir le fichier index.php. La première chose à configurer est de définir si le framework est actuellement en période de développement, de test ou de production. La conséquence immédiate est l'affichage ou non des erreurs. Normalement, la constante est déjà sur development.</p><pre id="r-80960" data-claire-element-id="80960"><code data-claire-semantic="html+php">&lt;?php

define('ENVIRONMENT', 'development');			//  (development | testing | production)</code></pre><p id="r-80961" data-claire-element-id="80961">Une fois cela fait, vous pouvez modifier les deux variables suivantes : system_path et application_folder. Le premier est le chemin vers le dossier system et le second est celui vers le dossier application.<br/> La configuration par défaut est fonctionnelle. On pourra par la suite les changer sans problème.</p><pre id="r-80962" data-claire-element-id="80962"><code data-claire-semantic="html+php">&lt;?php

/*
|---------------------------------------------------------------
| SYSTEM FOLDER NAME
|---------------------------------------------------------------
*/
	$system_path = &quot;system&quot;;

/*
|---------------------------------------------------------------
| APPLICATION FOLDER NAME
|---------------------------------------------------------------
*/
	$application_folder = &quot;application&quot;;</code></pre><aside id="r-80964" data-claire-element-id="80964" data-claire-semantic="information"><p id="r-80963" data-claire-element-id="80963">La documentation de CodeIgniter recommande de renommer ces dossiers pour éviter à un visiteur mal intentionné de connaître leur emplacement. Je pense que vous pouvez vous en passer dans un premier temps.</p></aside><p id="r-80965" data-claire-element-id="80965">Vous avez fini d'installer CodeIgniter. Vous avez normalement accès à la page d'accueil du framework (chez moi, c'est <a href="http://localhost/codeIgniter/">http://localhost/codeIgniter/</a>) et celui-ci vous souhaite la bienvenue.</p><figure id="r-80967" data-claire-element-id="80968"><img id="r-80966" data-claire-element-id="80966" src="medias/uploads.siteduzero.com_files_248001_249000_248390.png" alt="Image utilisateur"/></figure><p id="r-80969" data-claire-element-id="80969">Si vous ne voyez pas ce message, reprenez bien les étapes dans l'ordre et assurez-vous de bien avoir les prérequis de votre version téléchargée (version minimale de PHP, droits de lecture...).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">
<span class="arrow"></span>
<span class="next">Installation et configuration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
<span class="next">Mise en place de l&#039;arborescence</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Miseenplacedel039arborescence"></a><h2>Mise en place de l&#039;arborescence</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
<span class="arrow"></span>
<span class="next">Téléchargement et installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
<span class="next">Configurons CodeIgniter</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-mise-en-place-de-l-arborescence" data-claire-element-id="81020">Mise en place de l'arborescence</h4><p id="r-80973" data-claire-element-id="80973">Maintenant que le framework est installé, attardons-nous sur l'arborescence de CodeIgniter.</p><h5 id="r-les-dossiers-application-et-system" data-claire-element-id="80984">Les dossiers application et system</h5><p id="r-80974" data-claire-element-id="80974">À côté de votre index.php, vous avez deux dossiers : application et system. Le dossier system contient <strong>tous les codes natifs de CodeIgniter</strong> alors que le dossier application va contenir <strong>tous vos codes</strong>. Vous ne devrez donc jamais modifier les fichiers présents dans le dossier system, et je vais vous en expliquer la raison tout de suite.</p><p id="r-80975" data-claire-element-id="80975">Imaginons que vous n'aimez pas le nom d'une méthode. Vous allez donc lancer une petite recherche et modifier le nom de cette méthode. Sauf que vous allez avoir de gros problèmes maintenant. En voici trois qui méritent d'être cités.</p><ul id="r-80982" data-claire-element-id="80982"><li id="r-80977" data-claire-element-id="80977"><p id="r-80976" data-claire-element-id="80976">Si une nouvelle version de CodeIgniter sort, vous allez devoir refaire vos manipulations. Et ne dites pas que vous ne ferez pas la mise à jour, car vous risquez des problèmes de sécurité.</p></li><li id="r-80979" data-claire-element-id="80979"><p id="r-80978" data-claire-element-id="80978">En modifiant les sources, vous êtes susceptibles de laisser passer des failles, car il y a de fortes chances que vous ne connaissiez que l'aspect « utilisateur » du framework.</p></li><li id="r-80981" data-claire-element-id="80981"><p id="r-80980" data-claire-element-id="80980">Un des avantages de l'utilisation d'un framework est la facilité de travailler à plusieurs, car chacun sait comment le système fonctionne. Mais si vous modifiez les sources de CodeIgniter, son comportement ne sera plus le même.</p></li></ul><p id="r-80983" data-claire-element-id="80983">Nous verrons par la suite comment effectuer ces changements sans toucher à ce dossier.</p><h5 id="r-le-dossier-assets" data-claire-element-id="80994">Le dossier assets</h5><p id="r-80985" data-claire-element-id="80985">Avant de décrire précisément le contenu du dossier application, vous allez créer un dossier assets, toujours dans le même dossier que le fichier index.php. Et à l'intérieur de celui-ci, créez aussi les dossiers css, javascript et images.</p><p id="r-80986" data-claire-element-id="80986">Vous disposez maintenant d'une arborescence très claire.</p><ul id="r-80993" data-claire-element-id="80993"><li id="r-80988" data-claire-element-id="80988"><p id="r-80987" data-claire-element-id="80987"><strong>assets</strong> contiendra toutes les ressources qui vont être téléchargées par les visiteurs. Par exemple, les feuilles de style externes (CSS), les fichiers JavaScript et les images. Cependant, vous pouvez aussi ajouter des dossiers tels que musiques, videos, xml (pour les flux RSS, les animations flash). C'est comme si vous alliez faire un copier-coller de ce dossier dans l'ordinateur de vos visiteurs. Rien ne doit être confidentiel.</p></li><li id="r-80990" data-claire-element-id="80990"><p id="r-80989" data-claire-element-id="80989"><strong>system</strong> contient les sources de CodeIgniter, vous ne devez pas y toucher.</p></li><li id="r-80992" data-claire-element-id="80992"><p id="r-80991" data-claire-element-id="80991"><strong>application</strong> contiendra tous vos scripts, qu'il faudra placer dans les bons dossiers. C'est ce que nous allons voir tout de suite.</p></li></ul><h5 id="r-le-dossier-application" data-claire-element-id="81019">Le dossier application</h5><p id="r-80995" data-claire-element-id="80995">Voici l'arborescence du dossier application avec les explications des dossiers dont nous nous servirons dans la prochaine partie.</p><figure id="r-80997" data-claire-element-id="80998"><img id="r-80996" data-claire-element-id="80996" src="medias/uploads.siteduzero.com_files_307001_308000_307628.png" alt="Image utilisateur"/></figure><ul id="r-81017" data-claire-element-id="81017"><li id="r-81000" data-claire-element-id="81000"><p id="r-80999" data-claire-element-id="80999"><strong>config</strong> : ce sont des fichiers permettant de configurer CodeIgniter ou une bibliothèque. Certains sont inclus automatiquement, d'autres seulement lorsque vous les demandez.</p></li><li id="r-81002" data-claire-element-id="81002"><p id="r-81001" data-claire-element-id="81001"><strong>controllers</strong> : ce dossier contiendra tous nos contrôleurs.</p></li><li id="r-81004" data-claire-element-id="81004"><p id="r-81003" data-claire-element-id="81003"><strong>errors</strong> : ce sont les pages d'erreurs. Libre à vous de les personnaliser selon votre design.</p></li><li id="r-81006" data-claire-element-id="81006"><p id="r-81005" data-claire-element-id="81005"><strong>helpers</strong> : c'est le répertoire pour vos helpers. Les helpers fournis avec CodeIgniter sont situés dans le dossier system.</p></li><li id="r-81008" data-claire-element-id="81008"><p id="r-81007" data-claire-element-id="81007"><strong>hooks</strong> : c'est un dossier qui contient des fichiers assez complexes. Ils permettent d'exécuter des scripts à différents moments du processus d'exécution de CodeIgniter.</p></li><li id="r-81010" data-claire-element-id="81010"><p id="r-81009" data-claire-element-id="81009"><strong>language</strong> : ce répertoire contiendra tous vos fichiers de langue dans le cas où vous souhaitez un site internationalisé.</p></li><li id="r-81012" data-claire-element-id="81012"><p id="r-81011" data-claire-element-id="81011"><strong>libraries</strong> : nous placerons nos bibliothèques dans ce dossier. Comme les helpers, les bibliothèques fournies par CodeIgniter sont situées dans un autre dossier.</p></li><li id="r-81014" data-claire-element-id="81014"><p id="r-81013" data-claire-element-id="81013"><strong>models</strong> : le répertoire des modèles.</p></li><li id="r-81016" data-claire-element-id="81016"><p id="r-81015" data-claire-element-id="81015"><strong>views</strong> : le répertoire des vues.</p></li></ul><p id="r-81018" data-claire-element-id="81018">En respectant les emplacements des différents fichiers, vous gagnerez en clarté.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
<span class="arrow"></span>
<span class="next">Téléchargement et installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
<span class="next">Configurons CodeIgniter</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfiguronsCodeIgniter"></a><h2>Configurons CodeIgniter</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
<span class="arrow"></span>
<span class="next">Mise en place de l&#039;arborescence</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">
<span class="next">Le contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-configurons-codeigniter" data-claire-element-id="81082">Configurons CodeIgniter</h4><p id="r-81021" data-claire-element-id="81021">Certes, l'installation est terminée, mais il reste encore certains points à définir.</p><h5 id="r-le-fichier-config-php" data-claire-element-id="81062">Le fichier config.php</h5><p id="r-81022" data-claire-element-id="81022">Ce fichier de configuration est le cœur de la configuration du framework. Il se trouve dans le dossier ./application/config/. Je ne vais pas décrire tous les points mais sachez que nous allons aborder les plus importants.</p><h6 id="r-base-url" data-claire-element-id="81025">base_url</h6><p id="r-81023" data-claire-element-id="81023">C'est l'URL que vous devez taper pour accéder au fichier index.php. Dans mon cas, ce sera :</p><pre id="r-81024" data-claire-element-id="81024"><code data-claire-semantic="html+php">&lt;?php

/*
|--------------------------------------------------------------------------
| Base Site URL
|--------------------------------------------------------------------------
*/
$config['base_url'] = &quot;http://localhost/codeIgniter/&quot;;</code></pre><h6 id="r-index-page" data-claire-element-id="81032">index_page</h6><p id="r-81026" data-claire-element-id="81026">Par défaut, la valeur est index.php. Nous allons voir que CodeIgniter génère par défaut des URL de cette forme-là :<br/><a href="http://localhost/codeIgniter/index.php/classe_controleur/methode_controleur">http://localhost/codeIgniter/index.php/classe_controleur/methode_controleur/</a>.</p><p id="r-81027" data-claire-element-id="81027">Problème, ce « index.php » n'est pas des plus jolis. Pour le masquer, il y a une solution : l'<em>URL rewriting</em>. Si vous avez activé ce module, alors vous pouvez créer un fichier .htaccess à côté du index.php contenant ce code :</p><pre id="r-81028" data-claire-element-id="81028"><code data-claire-semantic="apache">#   Empêche la visualisation de l'arborescence, n'a rien à voir avec le masquage du « index.php ».
Options -Indexes

#   Active le module de réécriture d'URL.
RewriteEngine on

#
#   Fixe les règles de réécriture d'URL. Ici, nous utilisons une liste blanche.
#

#   Toutes les URL qui ne correspondent pas à ces masques sont réécrites.
RewriteCond $1 !^(index\.php|assets/|robots\.txt)

#   Toutes les autres URL vont être redirigées vers le fichier index.php.
RewriteRule ^(.*)$ index.php/$1 [L]</code></pre><p id="r-81029" data-claire-element-id="81029">Une fois cela fait, vous pouvez vider la variable index_page puisque les URL seront redirigées vers ce fameux fichier index.php.</p><pre id="r-81030" data-claire-element-id="81030"><code data-claire-semantic="html+php">&lt;?php

/*
|--------------------------------------------------------------------------
| Index File
|--------------------------------------------------------------------------
*/
//    Dans le cas où mod_rewrite est activé
$config['index_page'] = &quot;&quot;;

//    Dans le cas contraire
$config['index_page'] = &quot;index.php&quot;;</code></pre><p id="r-81031" data-claire-element-id="81031">Maintenant, vos URL ne contiendront plus le « index.php ».</p><h6 id="r-url-suffix" data-claire-element-id="81035">url_suffix</h6><p id="r-81033" data-claire-element-id="81033">C'est <strong>le suffixe</strong> que vous voulez donner à vos URL. Vous pouvez donner n'importe quoi. CodeIgniter l'ignorera...<br/> Dans mon cas, je vais choisir l'extension html. Vous pourrez tout aussi bien ne rien mettre. C'est facultatif.</p><pre id="r-81034" data-claire-element-id="81034"><code data-claire-semantic="html+php">&lt;?php

/*
|--------------------------------------------------------------------------
| URL suffix
|--------------------------------------------------------------------------
*/

$config['url_suffix'] = &quot;.html&quot;;</code></pre><h6 id="r-language" data-claire-element-id="81045">language</h6><p id="r-81036" data-claire-element-id="81036">Cette option permet de configurer <strong>la langue par défaut</strong>. C'est très utile si vous voulez afficher les erreurs en français et non en anglais.</p><aside id="r-81038" data-claire-element-id="81038" data-claire-semantic="information"><p id="r-81037" data-claire-element-id="81037">Cette langue sera aussi utilisée pour les messages d'erreurs lorsque vos formulaires ne seront pas bien remplis. Si vous voulez faire un site en français, prenez le temps de faire cette manipulation.</p></aside><p id="r-81039" data-claire-element-id="81039">Si c'est le cas, alors il va falloir modifier certaines choses. Dans un premier temps, passez cette variable à « <em>french</em> ».</p><pre id="r-81040" data-claire-element-id="81040"><code data-claire-semantic="html+php">&lt;?php

/*
|--------------------------------------------------------------------------
| Default Language
|--------------------------------------------------------------------------
*/
$config['language'] = &quot;french&quot;;</code></pre><p id="r-81041" data-claire-element-id="81041">Désormais, lorsqu'il y aura une erreur, CodeIgniter voudra l'afficher en français. Sauf que CodeIgniter ne propose qu'un jeu de langue anglais... Jetez un petit coup d'œil aux fichiers situés dans le répertoire ./system/language/. Il n'y a que le dossier english.</p><p id="r-81042" data-claire-element-id="81042">Vous avez donc deux solutions : traduire l'ensemble des fichiers de langue ou récupérer un fichier de langue sur le web.</p><p id="r-81043" data-claire-element-id="81043">Si vous voulez récupérer un fichier de langue, vous pourrez en trouver sur <a href="http://codeigniter.com/wiki/French/">le wiki officiel</a> ou bien dans les sources de <a href="http://pyrocms.com/">PyroCMS</a>. C'est un CMS qui a été développé avec CodeIgniter. Il vous suffit de télécharger ce CMS, de le décompresser et d'aller dans le répertoire ./codeigniter/language/. Dans ce dossier, vous avez accès à une panoplie de langages, dont le français (<em>french</em>). Il vous suffit donc de déplacer le dossier french de PyroCMS jusque dans votre répertoire ./system/language/.</p><p id="r-81044" data-claire-element-id="81044">Maintenant, CodeIgniter est en mesure d'afficher les erreurs en français.</p><h6 id="r-session-1" data-claire-element-id="81056">session</h6><p id="r-81046" data-claire-element-id="81046">Vous pouvez aussi configurer l'utilisation des <strong>sessions</strong>.</p><p id="r-81047" data-claire-element-id="81047">Voici ce que vous pouvez paramétrer :</p><pre id="r-81048" data-claire-element-id="81048"><code data-claire-semantic="html+php">&lt;?php

//    Le nom du cookie...
$config['sess_cookie_name'] = 'ci_session';

//    La date de péremption du cookie, en secondes...
$config['sess_expiration'] = 7200;</code></pre><p id="r-81049" data-claire-element-id="81049">En plus de cela, CodeIgniter propose de stocker les sessions dans votre base de données au lieu de les stocker dans les cookies.</p><aside id="r-81051" data-claire-element-id="81051" data-claire-semantic="information"><p id="r-81050" data-claire-element-id="81050">Si vous stockez souvent beaucoup de données dans les sessions, choisissez évidemment la base de données. Dans la plupart des cas, je vous conseille de prendre cette option car elle offre en plus une sécurité identique aux sessions natives de PHP.</p></aside><p id="r-81052" data-claire-element-id="81052">Si vous êtes intéressés par cette fonctionnalité, alors vous devez dans un premier temps créer une table <em>ci_sessions</em> dans votre base de données.<br/> Ce code vous permettra de générer la table. Il s'agit d'un simple code SQL.</p><pre id="r-81053" data-claire-element-id="81053"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `ci_sessions` (
	session_id      varchar(40)    DEFAULT '0' NOT NULL,
	ip_address      varchar(16)    DEFAULT '0' NOT NULL,
	user_agent      varchar(120)   NOT NULL,
	last_activity   int(10)        unsigned DEFAULT 0 NOT NULL,
	user_data       text           NOT NULL,

	PRIMARY KEY (session_id),

	KEY `last_activity_idx` (`last_activity`)
);</code></pre><p id="r-81054" data-claire-element-id="81054">Une fois ceci fait, vous devez lui dire d'utiliser la base de données.</p><pre id="r-81055" data-claire-element-id="81055"><code data-claire-semantic="html+php">&lt;?php

//    La valeur TRUE permet d'utiliser la base de données
$config['sess_use_database'] = TRUE;

//    Le nom de la table
$config['sess_table_name'] = 'ci_sessions';</code></pre><h6 id="r-compress-output" data-claire-element-id="81061">compress_output</h6><p id="r-81057" data-claire-element-id="81057">Cette clé permet d'activer la compression Gzip. Elle est désactivée par défaut car tous les hébergeurs ne supportent pas cette fonctionnalité. Pour rappel, cette compression permet de réduire la taille du contenu envoyé au navigateur. En théorie, les pages devraient se charger plus rapidement.</p><aside id="r-81059" data-claire-element-id="81059" data-claire-semantic="warning"><p id="r-81058" data-claire-element-id="81058">Lorsque que vous êtes en développement, désactivez cette fonctionnalité car si vous ne respectez pas les standards du MVC, votre page ne s'affichera pas. Il est courant d'utiliser la fonction var_dump un peu n'importe où. Cependant, si vous affichez des données à l'extérieur des vues, l'affichage de votre page plantera.</p></aside><p id="r-81060" data-claire-element-id="81060">Maintenant que cela est fait, nous allons configurer notre base de données.</p><h5 id="r-le-fichier-database-php" data-claire-element-id="81068">Le fichier database.php</h5><p id="r-81063" data-claire-element-id="81063">Dans ce fichier, vous noterez vos identifiants et le mot de passe de connexion à votre base de données.</p><pre id="r-81064" data-claire-element-id="81064"><code data-claire-semantic="html+php">&lt;?php

/*
| -------------------------------------------------------------------
| DATABASE CONNECTIVITY SETTINGS
| -------------------------------------------------------------------
*/

$db['default']['hostname'] = &quot;nom_d_hote&quot;;
$db['default']['username'] = &quot;nom_d_utilisateur&quot;;
$db['default']['password'] = &quot;mot_de_passe&quot;;
$db['default']['database'] = &quot;base_de_donnees&quot;;</code></pre><p id="r-81065" data-claire-element-id="81065">Maintenant, votre base de données est opérationnelle.</p><aside id="r-81067" data-claire-element-id="81067" data-claire-semantic="information"><p id="r-81066" data-claire-element-id="81066">Vous avez la possibilité d'inscrire plusieurs bases de données. En effet, la base de données d'exemple utilise la ligne « default ». Vous pouvez ajouter d'autres lignes dans la tableau $db pour gérer tous vos identifiants.</p></aside><h5 id="r-le-fichier-autoload-php" data-claire-element-id="81081">Le fichier autoload.php</h5><p id="r-81069" data-claire-element-id="81069">Ce fichier vous permet d'inclure dès le lancement de CodeIgniter des bibliothèques, des <em>helpers</em>, ainsi que des modèles et fichiers de langue.</p><h6 id="r-bibliotheque" data-claire-element-id="81074">Bibliothèque</h6><p id="r-81070" data-claire-element-id="81070">Je vous propose de charger au démarrage du framework deux bibliothèques : les sessions et les bases de données. Je trouve que ce sont des fonctionnalités « élémentaires » qui nécessitent d'être constamment utilisées ou presque.</p><p id="r-81071" data-claire-element-id="81071">Pour faire cela, vous devez ajouter dans le tableau les bibliothèques que vous voulez charger.</p><pre id="r-81072" data-claire-element-id="81072"><code data-claire-semantic="html+php">&lt;?php

/*
| -------------------------------------------------------------------
|  Auto-load Libraries
| -------------------------------------------------------------------
*/
$autoload['libraries'] = array('database', 'session');</code></pre><p id="r-81073" data-claire-element-id="81073">Lorsque vous connaîtrez plus de bibliothèques, ou que vous aurez besoin d'inclure les vôtres, vous pourrez les ajouter à la suite.</p><h6 id="r-helpers" data-claire-element-id="81080">Helpers</h6><p id="r-81075" data-claire-element-id="81075">Nous allons aussi charger un helper : url. Il nous permettra d'écrire des URL en fonction des paramètres que vous aurez définis dans le fichier ./application/config/config.php. En utilisant ces fonctions, toutes vos URL seront instantanément modifiées si la valeur de $config['base_url'] est modifiée.</p><pre id="r-81076" data-claire-element-id="81076"><code data-claire-semantic="html+php">&lt;?php

/*
| -------------------------------------------------------------------
|  Auto-load Helper Files
| -------------------------------------------------------------------
*/

$autoload['helper'] = array('url');</code></pre><p id="r-81077" data-claire-element-id="81077">Nous en avons fini avec la configuration de CodeIgniter.</p><p id="r-81078" data-claire-element-id="81078">Cette partie est terminée. Nous allons maintenant attaquer la deuxième partie.</p><p id="r-81079" data-claire-element-id="81079">Comme je vous l'ai dit dans la partie précédente, c'est le contrôleur qui est appelé en premier. Nous allons donc aborder celui-ci dès maintenant.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
<span class="arrow"></span>
<span class="next">Mise en place de l&#039;arborescence</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">
<span class="next">Le contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lecontrleur"></a><h2>Le contrôleur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
<span class="arrow"></span>
<span class="next">Configurons CodeIgniter</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
<span class="next">Votre première page</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81088" data-claire-element-id="81088">Dans cette partie, nous allons créer notre première page avec CodeIgniter.</p><aside id="r-81090" data-claire-element-id="81090" data-claire-semantic="information"><p id="r-81089" data-claire-element-id="81089">Pour rappel, le contrôleur est ce qui sera chargé en premier dans votre application. C'est lui qui fera les vérifications. Il aura accès aux sessions et à toutes les données transitant entre le navigateur et le serveur : get, post, cookie, etc.</p></aside>
</div><a name="Votrepremirepage"></a><h2>Votre première page</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">
<span class="arrow"></span>
<span class="next">Le contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
<span class="next">Fonctionnalités du contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-votre-premiere-page" data-claire-element-id="81112">Votre première page</h4><h5 id="r-premier-controleur" data-claire-element-id="81097">Premier contrôleur</h5><p id="r-81091" data-claire-element-id="81091">Je vois que vous bouillez d'impatience de créer votre premier contrôleur, alors le voici :</p><pre id="r-81092" data-claire-element-id="81092"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	public function accueil()
	{
		echo 'Hello World!';
	}
}</code></pre><p id="r-81093" data-claire-element-id="81093">Dans CodeIgniter, un contrôleur est un fichier contenant uniquement une classe. Tout se passera donc dans cette classe.</p><p id="r-81094" data-claire-element-id="81094">Écrivez cette classe dans un fichier forum.php et placez celui-ci dans le dossier ./application/controllers/. Si vous vous rendez à l'adresse <a href="http://localhost/codeIgniter/index.php/forum/accueil/">http://localhost/codeIgniter/index.php/forum/accueil/</a>, vous verrez la page « Hello World! » <br/> Veillez à donner le bon chemin dans l'URL dans le cas où vous avez placé le framework dans un autre dossier que le mien.</p><aside id="r-81096" data-claire-element-id="81096" data-claire-semantic="warning"><p id="r-81095" data-claire-element-id="81095">Normalement, vous ne devez jamais afficher du texte depuis le contrôleur. Cela marche souvent très bien, sauf que vous ne respectez pas l'architecture MVC. Nous verrons dans le chapitre suivant comment créer des vues.</p></aside><h5 id="r-explication-des-url" data-claire-element-id="81107">Explication des URL</h5><h6 id="r-l-url-par-defaut" data-claire-element-id="81100">L'URL par défaut</h6><p id="r-81098" data-claire-element-id="81098">Les URL sont formées à partir des contrôleurs en suivant ce modèle :<br/><a href="http://localhost/codeIgniter/index.php/classe_controleur/methode_controleur">http://www.nomdedomaine.tld/index.php/classe_controleur/methode_controleur/</a>.</p><p id="r-81099" data-claire-element-id="81099">C'est le cas dans l'exemple ci-dessus. Notre classe s'appelle Forum et elle comporte une méthode accueil. Cela se traduit donc par une URL contenant ces segments : <a href="http://www.nomdedomaine.tld/index.php/">http://www.nomdedomaine.tld/index.php/</a>forum/accueil.</p><h6 id="r-l-url-avec-une-extension" data-claire-element-id="81103">L'URL avec une extension</h6><p id="r-81101" data-claire-element-id="81101">Si vous avez bien suivi le chapitre précédent, vous aviez la possibilité de donner une extension aux URL. Il s'agit de la clé de configuration url_suffix du fichier ./application/config/config.php. Pour ma part, je l'avais initialisée avec l'extension html.</p><p id="r-81102" data-claire-element-id="81102">Dans ce cas, mon URL deviendra : <a href="http://www.nomdedomaine.tld/index.php/">http://www.nomdedomaine.tld/index.php/</a>forum/accueil.html.</p><h6 id="r-l-url-sans-le-index-php" data-claire-element-id="81106">L'URL sans le index.php</h6><p id="r-81104" data-claire-element-id="81104">Dans le chapitre précédent, je vous ai dit que vous pouviez activer l'<em>URL rewriting</em> pour masquer l'appel au fichier index.php. Si vous avez fait cela, votre URL sera alors : <a href="http://www.nomdedomaine.tld/">http://www.nomdedomaine.tld/</a>forum/accueil.html.</p><p id="r-81105" data-claire-element-id="81105">Rassurez-vous, il existe des fonctions toutes prêtes pour construire nos URL !</p><h5 id="r-en-resume-198" data-claire-element-id="81111">En résumé</h5><p id="r-81108" data-claire-element-id="81108">Un contrôleur est donc un fichier qui contient une unique classe et ce sera son nom qui s'affichera dans l'URL.</p><aside id="r-81110" data-claire-element-id="81110" data-claire-semantic="warning"><p id="r-81109" data-claire-element-id="81109">Pour que CodeIgniter puisse savoir où est situé le contrôleur à appeler, vous devez nommer votre fichier du même nom que votre classe mais sans la majuscule. De plus, le nom de la classe doit toujours commencer par une majuscule.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">
<span class="arrow"></span>
<span class="next">Le contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
<span class="next">Fonctionnalités du contrôleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Fonctionnalitsducontrleur"></a><h2>Fonctionnalités du contrôleur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
<span class="arrow"></span>
<span class="next">Votre première page</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
<span class="next">Méthodes spéciales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-fonctionnalites-du-controleur" data-claire-element-id="81184">Fonctionnalités du contrôleur</h4><h5 id="r-creez-d-autres-pages" data-claire-element-id="81122">Créez d'autres pages</h5><p id="r-81113" data-claire-element-id="81113">Vous avez la possibilité de créer d'autres méthodes qu'accueil.<br/> Exemple avec ce contrôleur :</p><pre id="r-81114" data-claire-element-id="81114"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	public function accueil()
	{
		echo 'Hello World!';
	}

	public function bonjour()
	{
		echo 'Salut à tous !';
	}

	public function manger()
	{
		echo 'Bon appétit !';
	}
}</code></pre><p id="r-81115" data-claire-element-id="81115">Désormais, votre contrôleur possède plusieurs pages qui seront accessibles de la même manière :</p><ul id="r-81120" data-claire-element-id="81120"><li id="r-81117" data-claire-element-id="81117"><p id="r-81116" data-claire-element-id="81116">forum/bonjour.html</p></li><li id="r-81119" data-claire-element-id="81119"><p id="r-81118" data-claire-element-id="81118">forum/manger.html</p></li></ul><p id="r-81121" data-claire-element-id="81121">Chaque méthode permet donc de faire apparaître une page. Si avant cela, vous n'aviez jamais utilisé de framework, ce doit déjà être une petite révolution.</p><h5 id="r-les-variables-get" data-claire-element-id="81178">Les variables $_GET</h5><p id="r-81123" data-claire-element-id="81123">Maintenant que vous avez créé vos pages et que vous connaissez les URL pour y accéder, vous voulez peut-être utiliser les variables $_GET. Eh bien, pas de souci. On n'aurait pas pu faire plus simple !</p><pre id="r-81124" data-claire-element-id="81124"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	public function accueil()
	{
		echo 'Hello World!';
	}

	//	Cette page accepte une variable $_GET facultative
	public function bonjour($pseudo = '')
	{
		echo 'Salut à toi : ' . $pseudo;
	}

	//	Cette page accepte deux variables $_GET facultatives
	public function manger($plat = '', $boisson = '')
	{
		echo 'Voici votre menu : &lt;br /&gt;';
		echo $plat . '&lt;br /&gt;';
		echo $boisson . '&lt;br /&gt;';
		echo 'Bon appétit !';
	}
}</code></pre><p id="r-81125" data-claire-element-id="81125">Ces URL seront tout à fait correctes : <br/><a href="forum/accueil/index.html">forum/accueil/</a><br/><a href="forum/bonjour/Arthur.html">forum/bonjour/Arthur.html</a><br/><a href="forum/manger/Hamburger-frites/coca.html">forum/manger/Hamburger-frites/coca.html</a></p><p id="r-81126" data-claire-element-id="81126">Alors, ce n'est pas joli, la POO ?</p><p id="r-81127" data-claire-element-id="81127">Ainsi, votre site web se découpera en contrôleurs, qui auront chacun des méthodes. L'ensemble formera votre site. Voici un exemple :</p><table id="r-81176" data-claire-element-id="81176"><thead id="r-81135" data-claire-element-id="81135"><tr id="r-81134" data-claire-element-id="81134"><th id="r-81129" data-claire-element-id="81129"><p id="r-81128" data-claire-element-id="81128">User</p></th><th id="r-81131" data-claire-element-id="81131"><p id="r-81130" data-claire-element-id="81130">Accueil</p></th><th id="r-81133" data-claire-element-id="81133"><p id="r-81132" data-claire-element-id="81132">Forum</p></th></tr></thead><tbody id="r-81175" data-claire-element-id="81175"><tr id="r-81142" data-claire-element-id="81142"><td id="r-81137" data-claire-element-id="81137"><p id="r-81136" data-claire-element-id="81136">accueil</p></td><td id="r-81139" data-claire-element-id="81139"><p id="r-81138" data-claire-element-id="81138">accueil</p></td><td id="r-81141" data-claire-element-id="81141"><p id="r-81140" data-claire-element-id="81140">accueil</p></td></tr><tr id="r-81149" data-claire-element-id="81149"><td id="r-81144" data-claire-element-id="81144"><p id="r-81143" data-claire-element-id="81143">inscription</p></td><td id="r-81146" data-claire-element-id="81146"><p id="r-81145" data-claire-element-id="81145">faq</p></td><td id="r-81148" data-claire-element-id="81148"><p id="r-81147" data-claire-element-id="81147">categorie</p></td></tr><tr id="r-81156" data-claire-element-id="81156"><td id="r-81151" data-claire-element-id="81151"><p id="r-81150" data-claire-element-id="81150">desinscription</p></td><td id="r-81153" data-claire-element-id="81153"><p id="r-81152" data-claire-element-id="81152">reglement</p></td><td id="r-81155" data-claire-element-id="81155"><p id="r-81154" data-claire-element-id="81154">voir_post</p></td></tr><tr id="r-81163" data-claire-element-id="81163"><td id="r-81158" data-claire-element-id="81158"><p id="r-81157" data-claire-element-id="81157">connexion</p></td><td id="r-81160" data-claire-element-id="81160"><p id="r-81159" data-claire-element-id="81159">plan</p></td><td id="r-81162" data-claire-element-id="81162"><p id="r-81161" data-claire-element-id="81161">voir_message</p></td></tr><tr id="r-81169" data-claire-element-id="81169"><td id="r-81165" data-claire-element-id="81165"><p id="r-81164" data-claire-element-id="81164">deconnexion</p></td><td id="r-81167" data-claire-element-id="81167"><p id="r-81166" data-claire-element-id="81166">contact</p></td><td id="r-81168" data-claire-element-id="81168"></td></tr><tr id="r-81174" data-claire-element-id="81174"><td id="r-81171" data-claire-element-id="81171"><p id="r-81170" data-claire-element-id="81170">profil</p></td><td id="r-81172" data-claire-element-id="81172"></td><td id="r-81173" data-claire-element-id="81173"></td></tr></tbody></table><p id="r-81177" data-claire-element-id="81177">Si vous aviez déjà pris l'habitude de « découper » votre site en modules (news, forum, livre d'or...), alors la migration vers CodeIgniter sera rapide. En revanche, si vous aviez opté pour quelque chose d'un peu plus exotique, dites-vous qu'au moins votre site sera dorénavant plus organisé. :-°</p><h5 id="r-organisez-vos-controleurs-dans-des-dossiers" data-claire-element-id="81180">Organisez vos contrôleurs dans des dossiers</h5><p id="r-81179" data-claire-element-id="81179">Dans le cas où vous créez un gros projet qui nécessite de nombreux contrôleurs, CodeIgniter vous autorise <strong>à les placer dans des dossiers</strong>. Cependant, vous vous doutez bien que ce n'est pas aussi simple que cela.<br/> Si, par exemple, vous voulez placer 3 contrôleurs dans un dossier « forum », alors votre URL devra afficher le paramètre « forum » en premier, avant le nom du contrôleur : <br/><a href="forum/controleur/methode/index.html">forum/contrôleur/méthode/</a></p><h5 id="r-un-controleur-oriente-objet" data-claire-element-id="81183">Un contrôleur orienté objet</h5><p id="r-81181" data-claire-element-id="81181">N'oubliez pas que le contrôleur n'est pas uniquement un moyen de classer ses pages ! Il s'agit avant tout d'une classe.</p><p id="r-81182" data-claire-element-id="81182">Autrement dit, vous pouvez lui donner <strong>des attributs</strong> et même <strong>des méthodes privées</strong>. Si, dans votre contrôleur, vous devez exécuter régulièrement les mêmes instructions, créez une méthode privée pour éviter la redondance de votre code. Si votre méthode est privée, elle ne sera pas accessible par l'URL (tout comme les méthodes commençant par un <em>underscore</em> _).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
<span class="arrow"></span>
<span class="next">Votre première page</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
<span class="next">Méthodes spéciales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Mthodesspciales"></a><h2>Méthodes spéciales</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
<span class="arrow"></span>
<span class="next">Fonctionnalités du contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">
<span class="next">La vue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-methodes-speciales" data-claire-element-id="81232">Méthodes spéciales</h4><p id="r-81185" data-claire-element-id="81185">CodeIgniter a prévu pour vous certaines particularités dans les contrôleurs. Nous allons les voir tout de suite.</p><h5 id="r-la-methode-index" data-claire-element-id="81204">La méthode index</h5><p id="r-81186" data-claire-element-id="81186">Cette méthode a la particularité d'être appelée dans le cas où votre URL ne spécifie pas de nom de méthode.</p><p id="r-81187" data-claire-element-id="81187">Un exemple est toujours plus parlant :</p><pre id="r-81188" data-claire-element-id="81188"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	public function index()
	{
		echo 'Index';
	}
	
	public function accueil()
	{
		echo 'Hello World!';
	}
}</code></pre><p id="r-81189" data-claire-element-id="81189">Lorsque vous irez sur ces trois URL, vous appellerez donc la méthode index.</p><ul id="r-81196" data-claire-element-id="81196"><li id="r-81191" data-claire-element-id="81191"><p id="r-81190" data-claire-element-id="81190"><a href="forum/index.html">forum/</a></p></li><li id="r-81193" data-claire-element-id="81193"><p id="r-81192" data-claire-element-id="81192"><a href="forum.html">forum.html</a> avec l'extension.</p></li><li id="r-81195" data-claire-element-id="81195"><p id="r-81194" data-claire-element-id="81194"><a href="forum/index-2.html">forum/index.html</a></p></li></ul><p id="r-81197" data-claire-element-id="81197">Vous verrez donc s'afficher le message « Index ».</p><h6 id="r-astuce-1" data-claire-element-id="81203">Astuce</h6><p id="r-81198" data-claire-element-id="81198">N'oubliez pas que vous êtes dans une classe. Rien ne vous empêche de faire ceci :</p><pre id="r-81199" data-claire-element-id="81199"><code data-claire-semantic="html+php">&lt;?php


class Forum extends CI_Controller
{
	public function index()
	{
		$this-&gt;accueil();
	}
	
	public function accueil()
	{
		echo 'Hello World!';
	}
}</code></pre><p id="r-81200" data-claire-element-id="81200">Mon exemple est trop simple, car vous remplacez une ligne par une autre. Mais dans le cas d'une méthode accueil assez importante, cela peut être intéressant.</p><aside id="r-81202" data-claire-element-id="81202" data-claire-semantic="information"><p id="r-81201" data-claire-element-id="81201">J'ai appelé cette technique « redirection interne », car elle est invisible depuis un navigateur.</p></aside><h5 id="r-le-constructeur-8" data-claire-element-id="81213">Le constructeur</h5><p id="r-81205" data-claire-element-id="81205">Encore une méthode intéressante, le constructeur. Dans les contrôleurs, vous utiliserez cette méthode pour effectuer des tâches d'initialisation. Autrement dit, vous allez placer tout le code qui devra être exécuté à chaque fois que vous allez sur l'une des pages de ce contrôleur. C'est particulièrement utile si vous devez initialiser des attributs ou charger des bibliothèques et des helpers (que nous verrons plus loin).</p><p id="r-81206" data-claire-element-id="81206">Une petite remarque : si vous implémentez le constructeur, vous devez <strong>absolument</strong> exécuter le constructeur de la classe mère avant de commencer votre code.</p><p id="r-81207" data-claire-element-id="81207">Exemple :</p><pre id="r-81208" data-claire-element-id="81208"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	private $titre_defaut;
	
	public function __construct()
	{
		//	Obligatoire
		parent::__construct();
		
		//	Maintenant, ce code sera exécuté chaque fois que ce contrôleur sera appelé.
		$this-&gt;titre_defaut = 'Mon super site';
		echo 'Bonjour !';
	}
	
	public function index()
	{
		$this-&gt;accueil();
	}

	public function accueil()
	{
		var_dump($this-&gt;titre_defaut);
	}
}</code></pre><p id="r-81209" data-claire-element-id="81209">Si vous retournez sur une page de ce contrôleur, vous verrez donc le message « Bonjour ! » et la variable sera initialisée.</p><p id="r-81210" data-claire-element-id="81210">Mon exemple est complètement nul, je le sais. Mais j'en ai un autre. L'authentification est prévue pour un autre chapitre, mais vous savez que les contrôleurs doivent faire attention aux différents niveaux d'authentification. Il pourrait exister par exemple un module entièrement réservé aux administrateurs. Pour cela, il suffira de placer une condition dans le constructeur pour que toutes les pages de celui-ci soient protégées.</p><pre id="r-81211" data-claire-element-id="81211"><code data-claire-semantic="html+php">&lt;?php

class Admin extends CI_Controller
{
	public function __construct()
	{
		//	Obligatoire
		parent::__construct();
 
		if( ! isAdmin())
			exit(&quot;Vous n'avez pas le droit de voir cette page.&quot;);
	}
	
	public function activer_maintenance()
	{
		/* ---- */
	}

	public function ajouter_rang()
	{
		/* ---- */
	}
}</code></pre><p id="r-81212" data-claire-element-id="81212">Cela permettra de faire rapidement le tri entre les administrateurs et les autres. À vous d'utiliser cette méthode comme bon vous semble.</p><h5 id="r-la-methode-output" data-claire-element-id="81221">La méthode _output</h5><p id="r-81214" data-claire-element-id="81214">La méthode _output vous permet de manipuler une dernière fois les données que vous allez envoyer au navigateur.</p><p id="r-81215" data-claire-element-id="81215">Cette fonction n'est pas accessible depuis le navigateur, car elle est précédée d'un « _ » (underscore).</p><aside id="r-81217" data-claire-element-id="81217" data-claire-semantic="information"><p id="r-81216" data-claire-element-id="81216"><em>Output</em> en anglais signifie « sortie ».</p></aside><pre id="r-81218" data-claire-element-id="81218"><code data-claire-semantic="html+php">&lt;?php

class Forum extends CI_Controller
{
	public function __construct()
	{
		//	Obligatoire
		parent::__construct();
	}
	
	public function index()
	{
		$this-&gt;accueil();
	}

	public function accueil()
	{
		echo 'Bonjour';
	}

	//	L'affichage de la variable $output est le comportement par défaut.
	public function _output($output)
	{
		var_dump($output);
	}
}</code></pre><aside id="r-81220" data-claire-element-id="81220" data-claire-semantic="warning"><p id="r-81219" data-claire-element-id="81219">Si vous effectuez quelques tests, vous verrez que cette méthode n'a aucun effet parce que <strong>le contrôleur ne doit pas afficher de texte</strong>. Nous verrons bientôt l'utilisation des vues. Vous pourrez l'utiliser ensuite.</p></aside><h5 id="r-la-methode-remap" data-claire-element-id="81231">La méthode _remap</h5><p id="r-81222" data-claire-element-id="81222">_remap est une méthode très puissante. Elle vous permet de modifier la méthode que vous allez utiliser. Autrement dit, faire une redirection interne un peu plus dans le style de CodeIgniter. Nous allons voir un exemple d'utilisation de cette fonctionnalité mais nous l'étudierons plus en détail dans le chapitre portant sur le routeur.</p><p id="r-81223" data-claire-element-id="81223">Voici un exemple d'utilisation. Nous allons rediriger toutes les URL du contrôleur vers la page de maintenance.</p><pre id="r-81224" data-claire-element-id="81224"><code data-claire-semantic="html+php">&lt;?php

class Home extends CI_Controller
{
	public function accueil()
	{
		echo 'Bonjour';
	}
	
	public function maintenance()
	{
		echo &quot;Désolé, c'est la maintenance.&quot;;
	}
	
	public function _remap($method)
	{
		$this-&gt;maintenance();
	}
}</code></pre><p id="r-81225" data-claire-element-id="81225">Quelle que soit l'URL, ce sera toujours la méthode maintenance qui sera appelée. Il s'agira donc d'une redirection interne en continu...</p><aside id="r-81227" data-claire-element-id="81227" data-claire-semantic="warning"><p id="r-81226" data-claire-element-id="81226">À partir du moment où vous allez implémenter cette méthode, vous devrez le faire jusqu'au bout. Si vous n'y mettez rien, alors aucune méthode ne sera appelée. Vous devrez donc faire la vérification de l'existence de la page. Si vous souhaitez afficher la page d'erreur 404, vous pouvez utiliser la méthode <em>show_404()</em> pour l'afficher.</p></aside><p id="r-81228" data-claire-element-id="81228">C'est tout !</p><p id="r-81229" data-claire-element-id="81229">Vous connaissez désormais tout ce qu'il faut savoir sur les contrôleurs. Le contrôleur n'est pas un élément très complexe, mais il ne vous permet pas de faire de vraies pages web à la sauce CodeIgniter.</p><p id="r-81230" data-claire-element-id="81230">Voyons donc tout de suite comment créer et afficher les vues !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
<span class="arrow"></span>
<span class="next">Fonctionnalités du contrôleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">
<span class="next">La vue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lavue"></a><h2>La vue</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
<span class="arrow"></span>
<span class="next">Méthodes spéciales</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
<span class="next">Votre première vue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81234" data-claire-element-id="81234">Vous savez maintenant comment créer des contrôleurs avec CodeIgniter. Maintenant, nous allons aborder les vues.</p><aside id="r-81236" data-claire-element-id="81236" data-claire-semantic="information"><p id="r-81235" data-claire-element-id="81235">Les vues sont composées de code HTML et d'un peu de PHP. Ce sont les données qui sont envoyées au navigateur.</p></aside>
</div><a name="Votrepremirevue"></a><h2>Votre première vue</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">
<span class="arrow"></span>
<span class="next">La vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
<span class="next">Transférer vos variables</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-votre-premiere-vue" data-claire-element-id="81246">Votre première vue</h4><h5 id="r-creation-de-la-vue-2" data-claire-element-id="81241">Création de la vue</h5><p id="r-81237" data-claire-element-id="81237">Pour créer une vue, vous devez tout d'abord créer un fichier dans le dossier ./application/views/. Placez-y tout ce que vous voulez.</p><p id="r-81238" data-claire-element-id="81238">Dans mon cas, je vais écrire ce contenu dans un fichier vue.php :</p><pre id="r-81239" data-claire-element-id="81239"><code data-claire-semantic="html+php">&lt;h1&gt;Bonjour&lt;/h1&gt;

&lt;p&gt;
    Ceci est mon paragraphe !
&lt;/p&gt;</code></pre><p id="r-81240" data-claire-element-id="81240">Rien de particulier. Un titre et un paragraphe.</p><h5 id="r-chargement-de-la-vue" data-claire-element-id="81245">Chargement de la vue</h5><p id="r-81242" data-claire-element-id="81242">Lorsque vous avez fini de créer votre vue, vous devez l'afficher <em>via</em> le contrôleur. Voici comment il faut faire.</p><pre id="r-81243" data-claire-element-id="81243"><code data-claire-semantic="html+php">&lt;?php
class News extends CI_Controller
{	
	public function __construct()
	{
		parent::__construct();
	}
	
	public function index()
	{
		$this-&gt;accueil();
	}

	public function accueil()
	{
		$this-&gt;load-&gt;view('vue');
	}
}</code></pre><p id="r-81244" data-claire-element-id="81244">Cette ligne vous permet d'afficher le contenu de la vue. Le premier paramètre attend donc le nom du fichier sans l'extension.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">
<span class="arrow"></span>
<span class="next">La vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
<span class="next">Transférer vos variables</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Transfrervosvariables"></a><h2>Transférer vos variables</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
<span class="arrow"></span>
<span class="next">Votre première vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
<span class="next">Quelques fonctionnalités sur les vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-transferer-vos-variables" data-claire-element-id="81256">Transférer vos variables</h4><p id="r-81247" data-claire-element-id="81247">Pour transférer des variables du contrôleur à la vue, nous allons dans un premier temps créer un tableau qui contiendra toutes les données à transmettre à la vue.</p><pre id="r-81248" data-claire-element-id="81248"><code data-claire-semantic="html+php">&lt;?php

class News extends CI_Controller
{
	public function index()
	{
		$this-&gt;accueil();
	}

	public function accueil()
	{
		$data = array();
		$data['pseudo'] = 'Arthur';
		$data['email'] = '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="92f7fff3fbfed2fcf6f6bcf4e0">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>';
		$data['en_ligne'] = true;

		$this-&gt;load-&gt;view('vue');
	}
}</code></pre><p id="r-81249" data-claire-element-id="81249">Maintenant que nous avons notre tableau de variables, nous allons pouvoir le donner à la vue. Pour cela, il faut utiliser le 2e argument de la méthode <em>view</em>.</p><pre id="r-81250" data-claire-element-id="81250"><code data-claire-semantic="html+php">&lt;?php

class News extends CI_Controller
{
	public function index()
	{
		$this-&gt;accueil();
	}

	public function accueil()
	{
		$data = array();
		$data['pseudo'] = 'Arthur';
		$data['email'] = '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="b6d3dbd7dfdaf6d8d2d298d0c4">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>';
		$data['en_ligne'] = true;
		
		//	Maintenant, les variables sont disponibles dans la vue
		$this-&gt;load-&gt;view('vue', $data);
	}
}</code></pre><p id="r-81251" data-claire-element-id="81251">Je vais donc modifier ma vue pour y faire apparaître les variables.</p><aside id="r-81253" data-claire-element-id="81253" data-claire-semantic="warning"><p id="r-81252" data-claire-element-id="81252">Les variables sont retirées de leur tableau. Depuis la vue, la variable $data n'existera pas. En revanche, les variables $pseudo, $email et $en_ligne seront bien présentes.</p></aside><pre id="r-81254" data-claire-element-id="81254"><code data-claire-semantic="html+php">&lt;h1&gt;Bonjour&lt;/h1&gt;

&lt;p&gt;
    Ceci est mon paragraphe !
&lt;/p&gt;

&lt;p&gt;
    Votre pseudo est &lt;?php echo $pseudo; ?&gt;.
&lt;/p&gt;

&lt;p&gt;
    Votre email est &lt;?php echo $email; ?&gt;.
&lt;/p&gt;

&lt;p&gt;
&lt;?php if($en_ligne): ?&gt;
    Vous êtes en ligne.
&lt;?php else: ?&gt;
    Vous n'êtes pas en ligne.
&lt;?php endif; ?&gt;
&lt;/p&gt;</code></pre><p id="r-81255" data-claire-element-id="81255">Maintenant, vous savez comment transférer des variables du contrôleur à la vue.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
<span class="arrow"></span>
<span class="next">Votre première vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
<span class="next">Quelques fonctionnalités sur les vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Quelquesfonctionnalitssurlesvues"></a><h2>Quelques fonctionnalités sur les vues</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
<span class="arrow"></span>
<span class="next">Transférer vos variables</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">
<span class="next">Les helpers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-quelques-fonctionnalites-sur-les-vues" data-claire-element-id="81273">Quelques fonctionnalités sur les vues</h4><h5 id="r-gestion-des-dossiers" data-claire-element-id="81261">Gestion des dossiers</h5><p id="r-81257" data-claire-element-id="81257">Vous avez la possibilité de créer des dossiers dans le répertoire views. Une bonne habitude consiste à classer ses vues en fonction du contrôleur. Autrement dit, vous allez placer toutes les vues du contrôleur News dans le dossier ./application/views/news/.</p><p id="r-81258" data-claire-element-id="81258">Pour appeler ces vues, vous devrez donner le chemin relatif avant le nom de la vue à afficher.</p><pre id="r-81259" data-claire-element-id="81259"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;load-&gt;view('news/vue');</code></pre><p id="r-81260" data-claire-element-id="81260">Je vous fais confiance pour organiser convenablement vos vues. N'hésitez pas à créer des dossiers.</p><h5 id="r-charger-plusieurs-vues" data-claire-element-id="81265">Charger plusieurs vues</h5><p id="r-81262" data-claire-element-id="81262">Certaines personnes n'y pensent pas toujours, j'ajoute donc une petite partie uniquement pour elles. Vous pouvez charger autant de vues que vous voulez.</p><pre id="r-81263" data-claire-element-id="81263"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;view('theme/en_tete');
	$this-&gt;load-&gt;view('theme/menu_gauche');
	$this-&gt;load-&gt;view('theme/menu_droit');

	$this-&gt;load-&gt;view('news/accueil');

	$this-&gt;load-&gt;view('theme/footer');
}</code></pre><p id="r-81264" data-claire-element-id="81264">Si vous devez constamment charger des vues, vous avez la possibilité de les placer dans le constructeur du contrôleur. Toutes les instructions seront exécutées et cela compte aussi pour les vues. Nous verrons dans une autre partie comment inclure automatiquement l'en-tête et le pied-de-page. Donc ne vous ennuyez pas trop avec vos thèmes et vos layouts.</p><h5 id="r-sauvegarder-le-contenu-de-vos-vues" data-claire-element-id="81272">Sauvegarder le contenu de vos vues</h5><p id="r-81266" data-claire-element-id="81266">Le problème avec la méthode view, c'est qu'elle affiche tout le temps le contenu de la vue. Alors si vous voulez sauvegarder dans un fichier le contenu de ce qui va s'afficher (faire un système de cache), vous serez bloqués.</p><p id="r-81267" data-claire-element-id="81267">Pour résoudre cela, vous pouvez utiliser le 3e argument de la méthode view. C'est un booléen. Si sa valeur est false (défaut), alors la vue sera affichée. Par contre, si la valeur est true, alors cette méthode retournera le contenu de la vue mais ne l'affichera pas.</p><pre id="r-81268" data-claire-element-id="81268"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$data = array;
	$data['pseudo'] = 'Arthur';
	$data['email'] = '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="492c2428202509272d2d672f3b">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>';
	$data['en_ligne'] = true;
	
	$vue = $this-&gt;load-&gt;view('vue', $data, true);
}</code></pre><p id="r-81269" data-claire-element-id="81269">Vous savez maintenant créer des contrôleurs et des vues. N'hésitez pas à construire un petit site web pour effectuer vos tests. Avec les contrôleurs et les vues, il y a déjà pas mal à faire.</p><aside id="r-81271" data-claire-element-id="81271" data-claire-semantic="information"><p id="r-81270" data-claire-element-id="81270">Nous n'aborderons pas les modèles dès le prochain chapitre, car nous n'avons pas encore appris à lancer des requêtes à la base de données. Nous allons donc d'abord nous préparer en découvrant les helpers et les bibliothèques, puis nous finirons par les modèles.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
<span class="arrow"></span>
<span class="next">Transférer vos variables</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">
<span class="next">Les helpers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leshelpers"></a><h2>Les helpers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
<span class="arrow"></span>
<span class="next">Quelques fonctionnalités sur les vues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
<span class="next">Charger et utiliser les helpers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81275" data-claire-element-id="81275">Comme je vous l'ai dit dans la partie I, les helpers constituent un ensemble de fonctions réunies par thème. Vous n'allez donc pas charger une fonction à la fois mais un ensemble de fonctions.</p><p id="r-81276" data-claire-element-id="81276">Nous allons donc voir comment charger un helper. Ensuite, nous apprendrons à créer les nôtres et même à modifier les helpers natifs.</p>
</div><a name="Chargeretutiliserleshelpers"></a><h2>Charger et utiliser les helpers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">
<span class="arrow"></span>
<span class="next">Les helpers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
<span class="next">Création du helper « assets »</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-charger-et-utiliser-les-helpers" data-claire-element-id="81321">Charger et utiliser les helpers</h4><p id="r-81277" data-claire-element-id="81277">Pour charger un helper, vous allez voir, c'est très simple. Et pour les utiliser, c'est encore plus simple, car il ne s'agit que de simples fonctions. J'espère que vous êtes au point avec les fonctions...</p><h5 id="r-charger-un-helper" data-claire-element-id="81283">Charger un helper</h5><p id="r-81278" data-claire-element-id="81278">Pour charger un helper depuis un contrôleur, nous allons utiliser cette instruction :</p><pre id="r-81279" data-claire-element-id="81279"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;load-&gt;helper('nom');</code></pre><aside id="r-81281" data-claire-element-id="81281" data-claire-semantic="information"><p id="r-81280" data-claire-element-id="81280">Si vous voulez charger plusieurs helpers en même temps, il est possible de passer en paramètre un tableau au lieu d'une chaîne de caractères.</p></aside><p id="r-81282" data-claire-element-id="81282">La liste des helpers est disponible <a href="http://codeigniter.com/user_guide/toc.html">ici</a>, dans la colonne de droite.</p><h5 id="r-utilisation-du-helper-url" data-claire-element-id="81294">Utilisation du helper url</h5><p id="r-81284" data-claire-element-id="81284">Nous allons apprendre à nous servir du helper url.</p><p id="r-81285" data-claire-element-id="81285">Commençons par le charger :</p><pre id="r-81286" data-claire-element-id="81286"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;load-&gt;helper('url');</code></pre><p id="r-81287" data-claire-element-id="81287">À partir de maintenant, vous pourrez utiliser les fonctions de ce helper dans votre contrôleur, mais aussi dans votre vue.</p><p id="r-81288" data-claire-element-id="81288">Voici <a href="http://codeigniter.com/user_guide/helpers/url_helper.html">la documentation de ce helper</a>.</p><aside id="r-81290" data-claire-element-id="81290" data-claire-semantic="information"><p id="r-81289" data-claire-element-id="81289">Si vous aviez entré dans votre autoloader (./application/config/autoload.php) le nom de ce helper, alors vous n'avez pas besoin de le charger avant de l'utiliser.</p></aside><p id="r-81291" data-claire-element-id="81291">Voici un contrôleur et une vue classique pour pouvoir tester ces fonctions :</p><pre id="r-81292" data-claire-element-id="81292"><code data-claire-semantic="html+php">&lt;?php

class Test extends CI_Controller
{
	public function __construct()
	{
		parent::__construct();
		
		//	« Décommenter » cette ligne pour charger le helper url
		//$this-&gt;load-&gt;helper('url');
	}
	
	public function accueil()
	{
		//	On inclut la vue ./application/views/test/accueil.php
		$this-&gt;load-&gt;view('test/accueil');
	}</code></pre><pre id="r-81293" data-claire-element-id="81293"><code data-claire-semantic="html+php">&lt;h1&gt;
    Test
&lt;/h1&gt;</code></pre><h5 id="r-fonction-site-url" data-claire-element-id="81302">Fonction site_url</h5><p id="r-81295" data-claire-element-id="81295">Nous allons commencer par la fonction la plus importante : site_url.<br/> Cette fonction permet de retourner une URL. C'est donc avec cette fonction que nous allons créer toutes les URL à partir de maintenant.</p><div id="r-81297" data-claire-element-id="81297" data-claire-semantic="question"><p id="r-81296" data-claire-element-id="81296">Pourquoi ?</p></div><p id="r-81298" data-claire-element-id="81298">Car cela va rendre vos URL beaucoup moins dépendantes de votre environnement, et donc beaucoup plus flexibles !</p><p id="r-81299" data-claire-element-id="81299">En utilisant cette fonction, vous ne devrez plus donner votre nom de domaine, ni le fichier index.php (imaginez que vous changez d'hébergeur et qu'il n'y ait plus l'URL rewriting), ni l'extension. Vous êtes libres de modifier toutes vos URL en même temps grâce à cette fonction.<br/> Désormais, je l'utiliserai constamment pour poursuivre ce tutoriel.</p><p id="r-81300" data-claire-element-id="81300">Il y a deux façons de construire son URL : avec une chaîne de caractères et avec un tableau.</p><pre id="r-81301" data-claire-element-id="81301"><code data-claire-semantic="html+php">&lt;h1&gt;
	Test
&lt;/h1&gt;

&lt;p&gt;
	&lt;a href=&quot;&lt;?php echo site_url(); ?&gt;&quot;&gt;accueil&lt;/a&gt;
	&lt;br /&gt;
	
	&lt;a href=&quot;&lt;?php echo site_url('test'); ?&gt;&quot;&gt;accueil&lt;/a&gt; du test
	&lt;br /&gt;
	
	&lt;a href=&quot;&lt;?php echo site_url('test/secret'); ?&gt;&quot;&gt;page secrète&lt;/a&gt;
	&lt;br /&gt;
	
	&lt;a href=&quot;&lt;?php echo site_url(array('test', 'secret')); ?&gt;&quot;&gt;page secrète&lt;/a&gt;
&lt;/p&gt;</code></pre><h5 id="r-fonction-redirect" data-claire-element-id="81305">Fonction redirect</h5><p id="r-81303" data-claire-element-id="81303">La fonction redirect fonctionne de la même manière que site_url. Elle permet d'effectuer une redirection de type « location ». Elle accepte en paramètre une chaîne de caractères ou un tableau.</p><pre id="r-81304" data-claire-element-id="81304"><code data-claire-semantic="html+php">&lt;?php
class Test extends CI_Controller
{	
	public function __construct()
	{
		parent::__construct();
		
		//	Décommenter cette ligne pour charger le helper url
		//$this-&gt;load-&gt;helper('url');
	}

	public function index()
	{
		redirect(array('error', 'probleme'));
	}
	
	public function accueil()
	{
		$this-&gt;load-&gt;view('test/accueil');
	}</code></pre><h5 id="r-d-autres-fonctions" data-claire-element-id="81320">D'autres fonctions</h5><table id="r-81317" data-claire-element-id="81317"><tbody id="r-81316" data-claire-element-id="81316"><tr id="r-81310" data-claire-element-id="81310"><td id="r-81307" data-claire-element-id="81307"><p id="r-81306" data-claire-element-id="81306">current_url</p></td><td id="r-81309" data-claire-element-id="81309"><p id="r-81308" data-claire-element-id="81308">Cette fonction renvoie l'URL de la page actuelle.</p></td></tr><tr id="r-81315" data-claire-element-id="81315"><td id="r-81312" data-claire-element-id="81312"><p id="r-81311" data-claire-element-id="81311">base_url</p></td><td id="r-81314" data-claire-element-id="81314"><p id="r-81313" data-claire-element-id="81313">Cette fonction renvoie votre URL, mais sans les segments (variables GET, nom du contrôleur, nom de la méthode...). Dans la plupart des cas, ce sera votre nom de domaine. Par exemple, sur le SdZ, cette fonction retournera <a href="http://www.siteduzero.com/">http://www.siteduzero.com/</a></p></td></tr></tbody></table><p id="r-81318" data-claire-element-id="81318">Je ne vous ai présenté que les fonctions les plus importantes de ce helper. Je vous laisse découvrir les autres dans la documentation.</p><p id="r-81319" data-claire-element-id="81319">L'utilisation d'un helper est relativement simple. Vous le chargez et vous utilisez ses fonctions. Sauf que durant votre développement, vous pourrez avoir besoin d'ajouter des fonctions aux helpers, voire d'en créer d'autres. C'est ce que nous allons faire dès maintenant.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">
<span class="arrow"></span>
<span class="next">Les helpers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
<span class="next">Création du helper « assets »</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crationduhelperassets"></a><h2>Création du helper « assets »</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
<span class="arrow"></span>
<span class="next">Charger et utiliser les helpers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
<span class="next">Modifier un helper</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-du-helper-assets" data-claire-element-id="81375">Création du helper « assets »</h4><p id="r-81322" data-claire-element-id="81322">Nous allons maintenant réaliser un helper <strong>assets</strong>. Celui-ci permettra de récupérer plus rapidement les URL des fichiers contenus dans le dossier assets. Il comportera quatre fonctions.</p><table id="r-81350" data-claire-element-id="81350"><thead id="r-81328" data-claire-element-id="81328"><tr id="r-81327" data-claire-element-id="81327"><th id="r-81324" data-claire-element-id="81324"><p id="r-81323" data-claire-element-id="81323">Prototype</p></th><th id="r-81326" data-claire-element-id="81326"><p id="r-81325" data-claire-element-id="81325">Description</p></th></tr></thead><tbody id="r-81349" data-claire-element-id="81349"><tr id="r-81333" data-claire-element-id="81333"><td id="r-81330" data-claire-element-id="81330"><p id="r-81329" data-claire-element-id="81329">string <strong>css_url</strong> ( string $nom )</p></td><td id="r-81332" data-claire-element-id="81332"><p id="r-81331" data-claire-element-id="81331">Permettra de retourner l'URL d'un fichier CSS.</p></td></tr><tr id="r-81338" data-claire-element-id="81338"><td id="r-81335" data-claire-element-id="81335"><p id="r-81334" data-claire-element-id="81334">string <strong>js_url</strong> ( string $nom )</p></td><td id="r-81337" data-claire-element-id="81337"><p id="r-81336" data-claire-element-id="81336">Permettra de retourner l'URL d'un fichier JavaScript.</p></td></tr><tr id="r-81343" data-claire-element-id="81343"><td id="r-81340" data-claire-element-id="81340"><p id="r-81339" data-claire-element-id="81339">string <strong>img_url</strong> ( string $nom )</p></td><td id="r-81342" data-claire-element-id="81342"><p id="r-81341" data-claire-element-id="81341">Permettra de retourner l'URL d'une image.</p></td></tr><tr id="r-81348" data-claire-element-id="81348"><td id="r-81345" data-claire-element-id="81345"><p id="r-81344" data-claire-element-id="81344">void <strong>img</strong> ( string $nom , string $alt = '')</p></td><td id="r-81347" data-claire-element-id="81347"><p id="r-81346" data-claire-element-id="81346">Permettra de créer rapidement le code HTML des images.</p></td></tr></tbody></table><p id="r-81351" data-claire-element-id="81351">Pour créer un nouveau helper, il faut créer un fichier dans le dossier ./application/helpers/ . Nous l'appellerons assets_helper (oui, le suffixe est obligatoire). Ensuite, il faut l'inclure <em>via</em> l'autoloader ou manuellement : <br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;load-&gt;helper('assets');</code></p><aside id="r-81353" data-claire-element-id="81353" data-claire-semantic="warning"><p id="r-81352" data-claire-element-id="81352">Afin de ne pas compliquer inutilement le tutoriel, ce helper utilisera des fonctions du helper URL. Vous devrez donc veiller à l'inclure soit <em>via</em> l'<em>autoloader</em>, soit depuis votre contrôleur avant de l'utiliser.</p></aside><h5 id="r-fonction-css-url" data-claire-element-id="81358">Fonction css_url</h5><p id="r-81354" data-claire-element-id="81354">Cette fonction attend un paramètre qui devra être une chaîne de caractères. Il nous suffit donc simplement d'ajouter le nom de domaine avant, puis le chemin, ensuite le paramètre et enfin l'extension.<br/> Le nom de domaine sera récupéré via la fonction base_url.</p><p id="r-81355" data-claire-element-id="81355">Eh bien allons-y !</p><pre id="r-81356" data-claire-element-id="81356"><code data-claire-semantic="html+php">&lt;?php

function css_url($nom)
{
	return base_url() . 'assets/css/' . $nom . '.css';
}</code></pre><p id="r-81357" data-claire-element-id="81357">Cette petite fonction nous permettra de déplacer très facilement le dossier assets sans réécrire toutes les URL pour inclure les fichiers CSS.</p><h5 id="r-fonction-js-url" data-claire-element-id="81361">Fonction js_url</h5><p id="r-81359" data-claire-element-id="81359">Rien de nouveau dans cette fonction. C'est quasiment la même que css_url.</p><pre id="r-81360" data-claire-element-id="81360"><code data-claire-semantic="html+php">&lt;?php

function js_url($nom)
{
	return base_url() . 'assets/javascript/' . $nom . '.js';
}</code></pre><h5 id="r-fonction-img-url" data-claire-element-id="81365">Fonction img_url</h5><p id="r-81362" data-claire-element-id="81362">Il y a un petit piège dans cette fonction, mais je suis sûr que vous ne tomberez pas dedans !</p><pre id="r-81363" data-claire-element-id="81363"><code data-claire-semantic="html+php">&lt;?php

function img_url($nom)
{
	return base_url() . 'assets/images/' . $nom;
}</code></pre><p id="r-81364" data-claire-element-id="81364">En effet, cette fonction ne peut pas connaître à l'avance l'extension de l'image, contrairement aux fichiers CSS et JavaScript.</p><h5 id="r-fonction-img" data-claire-element-id="81368">Fonction img</h5><p id="r-81366" data-claire-element-id="81366">Cette fonction attend deux paramètres. Le premier est le nom de l'image. Nous allons donner cette variable directement à la fonction img_url. Le deuxième paramètre sera pour l'attribut alt de l'image. Il est donc facultatif.</p><pre id="r-81367" data-claire-element-id="81367"><code data-claire-semantic="html+php">&lt;?php

function img($nom, $alt = '')
{
	return '&lt;img src=&quot;' . img_url($nom) . '&quot; alt=&quot;' . $alt . '&quot; /&gt;';
}</code></pre><h5 id="r-notre-helper-assets" data-claire-element-id="81374">Notre helper assets</h5><p id="r-81369" data-claire-element-id="81369">Voici donc notre helper assets. J'ai encadré toutes les fonctions avec une condition pour éviter de redéfinir des fonctions. Nous allons voir tout de suite après qu'il y a aussi une autre raison à cela.</p><pre id="r-81370" data-claire-element-id="81370"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

if ( ! function_exists('css_url'))
{
	function css_url($nom)
	{
		return base_url() . 'assets/css/' . $nom . '.css';
	}
}

if ( ! function_exists('js_url'))
{
	function js_url($nom)
	{
		return base_url() . 'assets/javacript/' . $nom . '.js';
	}
}

if ( ! function_exists('img_url'))
{
	function img_url($nom)
	{
		return base_url() . 'assets/images/' . $nom;
	}
}

if ( ! function_exists('img'))
{
	function img($nom, $alt = '')
	{
		return '&lt;img src=&quot;' . img_url($nom) . '&quot; alt=&quot;' . $alt . '&quot; /&gt;';
	}
}</code></pre><aside id="r-81372" data-claire-element-id="81372" data-claire-semantic="information"><p id="r-81371" data-claire-element-id="81371">La première ligne du fichier permet d'exécuter le script seulement si la constante BASEPATH est définie. En fait, elle est créée au tout début du fichier index.php. En faisant cela, vous serez assurés que le script ne sera pas exécuté depuis l'URL, mais bien en suivant l'ordre normal des choses.</p></aside><p id="r-81373" data-claire-element-id="81373">Désormais, vous savez comment créer entièrement un helper. Cela permettra de diminuer grandement la redondance de votre application. Maintenant, nous allons voir comment redéfinir et même ajouter quelques fonctions à un helper natif.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
<span class="arrow"></span>
<span class="next">Charger et utiliser les helpers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
<span class="next">Modifier un helper</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifierunhelper"></a><h2>Modifier un helper</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
<span class="arrow"></span>
<span class="next">Création du helper « assets »</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">
<span class="next">Les bibliothèques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modifier-un-helper" data-claire-element-id="81417">Modifier un helper</h4><h5 id="r-creer-le-fichier" data-claire-element-id="81386">Créer le fichier</h5><p id="r-81376" data-claire-element-id="81376">Une fonction ne vous convient pas dans un helper ? Vous avez envie de rajouter une fonction dans un helper ? Voyons tout de suite comment nous allons faire.</p><p id="r-81377" data-claire-element-id="81377">Retournez dans votre fichier de configuration (config.php) et cherchez cette ligne :</p><pre id="r-81378" data-claire-element-id="81378"><code data-claire-semantic="html+php">&lt;?php

$config['subclass_prefix'] = 'MY_';</code></pre><p id="r-81379" data-claire-element-id="81379">Elle vous indique le préfixe du nom que doit avoir votre fichier pour modifier le comportement d'un script natif de CodeIgniter. Si vous appelez votre fichier MY_url_helper.php, vous allez pouvoir réécrire les fonctions du helper url. En fait, notre fichier va être lancé avant le helper natif. Nous y définissons des fonctions telles que site_url, ou current_url. Puis une fois arrivé au bout du fichier, CodeIgniter appellera le helper natif.</p><div id="r-81381" data-claire-element-id="81381" data-claire-semantic="question"><p id="r-81380" data-claire-element-id="81380">Mais nous allons définir deux fonctions avec le même nom, alors ?</p></div><p id="r-81382" data-claire-element-id="81382">Non ! Car si vous vous souvenez de la partie précédente, chaque fonction est entourée d'une condition :</p><pre id="r-81383" data-claire-element-id="81383"><code data-claire-semantic="html+php">&lt;?php

if ( ! function_exists('site_url'))
{
	function site_url($uri = '')
	{
		/* ****** */
	}
}</code></pre><p id="r-81384" data-claire-element-id="81384">Donc nous définissons les fonctions que nous voulons changer dans notre fichier MY_url_helper.php, puis CodeIgniter se chargera d'inclure toutes les autres fonctions que nous n'avons pas réécrites.</p><p id="r-81385" data-claire-element-id="81385">Créons donc notre fichier MY_url_helper.php dans le dossier ./application/helpers/.</p><h5 id="r-modification-de-la-fonction-site-url" data-claire-element-id="81398">Modification de la fonction site_url</h5><p id="r-81387" data-claire-element-id="81387">Nous allons modifier la fonction site_url. Pourquoi ? Parce que j'ai envie de lui offrir la possibilité de lui passer autant de paramètres que l'on souhaite.</p><pre id="r-81388" data-claire-element-id="81388"><code data-claire-semantic="html+php">&lt;?php

$url_secret = site_url('forum', 'secret', '2452', 'codeigniter');
/*
   $url_secret va donc valoir quelque chose comme cela : 
   http://nom_de_domaine.tld/forum/secret/2452/codeigniter.html
*/</code></pre><p id="r-81389" data-claire-element-id="81389">L'implémentation est assez simple, car nous allons seulement modifier l'en-tête de la fonction. Nous ne toucherons pas au reste. Voici la fonction d'origine :</p><pre id="r-81390" data-claire-element-id="81390"><code data-claire-semantic="html+php">&lt;?php

if ( ! function_exists('site_url'))
{
	function site_url($uri = '')
	{
		$CI =&amp; get_instance();
		return $CI-&gt;config-&gt;site_url($uri);
	}
}</code></pre><p id="r-81391" data-claire-element-id="81391">Vous ne comprendrez sûrement pas le code de cette fonction, car elle fait appel à des notions que nous allons voir immédiatement après ce chapitre. En fait, cette fonction est délocalisée. Les instructions ne sont pas dans la fonction mais dans une autre partie de CodeIgniter.<br/> Dans notre cas, nous ne modifierons pas cette partie.</p><p id="r-81392" data-claire-element-id="81392">Voici ce que nous allons faire : si le premier paramètre est un tableau, nous ne modifions rien. Mais si le premier paramètre est une chaîne de caractères, alors nous allons créer un tableau avec tous les paramètres envoyés à la fonction. Cela s'implémente très facilement avec la fonction <a href="http://fr.php.net/func_get_args">func_get_args</a> qui permet de retourner sous forme de tableau tous les paramètres envoyés à notre fonction.</p><pre id="r-81393" data-claire-element-id="81393"><code data-claire-semantic="html+php">&lt;?php

function site_url($uri = '')
{		
	if( ! is_array($uri))
	{
		//	Tous les paramètres sont insérés dans un tableau
		$uri = func_get_args();
	}
	
	//	On ne modifie rien ici
	$CI =&amp; get_instance();	
	return $CI-&gt;config-&gt;site_url($uri);
}</code></pre><p id="r-81394" data-claire-element-id="81394">Désormais, la fonction site_url aura un comportement différent.</p><div id="r-81396" data-claire-element-id="81396" data-claire-semantic="question"><p id="r-81395" data-claire-element-id="81395">Mais pourquoi n'a-t-on pas créé un autre helper ?</p></div><p id="r-81397" data-claire-element-id="81397">Parce que ça n'aurait pas de sens. Vous auriez dû appeler deux helpers pour gérer vos URL. Modifier les helpers natifs de cette façon est une très bonne habitude. Je vous rappelle qu'il est fortement déconseillé de modifier tout code présent dans le dossier ./system/.</p><h5 id="r-ajout-de-la-fonction-url" data-claire-element-id="81404">Ajout de la fonction url</h5><p id="r-81399" data-claire-element-id="81399">C'est un peu bête d'avoir fait tout ça pour modifier trois lignes... Je vous ai donc concocté une autre fonction : url. Elle permet de créer rapidement des liens. Elle prendra en premier paramètre le texte à insérer dans le lien. Et en second paramètre, nous créons le lien de la même façon que la fonction site_url.</p><pre id="r-81400" data-claire-element-id="81400"><code data-claire-semantic="html+php">&lt;?php

//    Affichera (selon les préférences) : &lt;a href=&quot;http://nom_de_domaine.tld/user/connexion.html&quot;&gt;Page de connexion&lt;/a&gt;
url('Page de connexion', 'user', 'connexion');</code></pre><p id="r-81401" data-claire-element-id="81401">Voici le code de cette fonction.</p><pre id="r-81402" data-claire-element-id="81402"><code data-claire-semantic="html+php">&lt;?php

function url($text, $uri = '')
{
	if( ! is_array($uri))
	{
		$uri = func_get_args();

		//	Suppression de la variable $text
		array_shift($uri);
	}
	
	echo '&lt;a href=&quot;' . site_url($uri) . '&quot;&gt;' . htmlentities($text) . '&lt;/a&gt;';
	return '';
}</code></pre><p id="r-81403" data-claire-element-id="81403">Vous noterez que nous avons utilisé la fonction <a href="http://fr.php.net/array_shift">array_shift</a> en plus. Elle permet d'envoyer à la fonction site_url tous les paramètres que nous avons reçus sauf un : le texte.</p><h5 id="r-notre-fichier-my-url-helper-php" data-claire-element-id="81416">Notre fichier MY_url_helper.php</h5><p id="r-81405" data-claire-element-id="81405">Voici donc notre ficher MY_url_helper.php :</p><pre id="r-81406" data-claire-element-id="81406"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

if ( ! function_exists('site_url'))
{
	function site_url($uri = '')
	{		
		if( ! is_array($uri))
		{
			//	Tous les paramètres sont insérés dans un tableau
			$uri = func_get_args();
		}
	
		//	On ne modifie rien ici
		$CI =&amp; get_instance();	
		return $CI-&gt;config-&gt;site_url($uri);
	}
}

// ------------------------------------------------------------------------

if ( ! function_exists('url'))
{
	function url($text, $uri = '')
	{
		if( ! is_array($uri))
		{
			//	Suppression de la variable $text
			$uri = func_get_args();
			array_shift($uri);
		}
	
		echo '&lt;a href=&quot;' . site_url($uri) . '&quot;&gt;' . htmlentities($text) . '&lt;/a&gt;';
		return '';
	}
}


/* End of file MY_url_helper.php */
/* Location: ./application/helpers/MY_url_helper.php */</code></pre><div id="r-81408" data-claire-element-id="81408" data-claire-semantic="question"><p id="r-81407" data-claire-element-id="81407">Pourquoi la surcharge du helper url possède-t-elle toujours les conditions d'existence des fonctions ?</p></div><p id="r-81409" data-claire-element-id="81409">Question tout à fait légitime. J'y répondrai par une autre question : et si quelqu'un voulait réécrire les fonctions que nous avons réécrites ?</p><p id="r-81410" data-claire-element-id="81410">C'est tordu, non ? En fait, si vous voulez réécrire encore une fois les fonctions, vous n'allez pas passer par un troisième fichier. Vous allez réécrire les fonctions de <strong>votre</strong> fichier, celui qui est dans le dossier <em>application</em>.</p><div id="r-81412" data-claire-element-id="81412" data-claire-semantic="question"><p id="r-81411" data-claire-element-id="81411">Donc ça ne sert à rien ?</p></div><p id="r-81413" data-claire-element-id="81413">Non plus ! Je vais reformuler une autre question : et si quelqu'un voulait réécrire les fonctions que nous avons réécrites mais seulement une seule fois ? Bon, je vous l'accorde, je ne l'ai encore jamais fait, mais c'est tout de même plus propre. Ça évite les risques de redéfinir une fonction qui est déjà définie dans un autre helper.</p><p id="r-81414" data-claire-element-id="81414">Cette partie vous a permis de bien comprendre la notion de helpers dans CodeIgniter. N'hésitez pas à créer les vôtres si votre code devient trop redondant.</p><p id="r-81415" data-claire-element-id="81415">Cependant, l'utilisation de helpers n'est pas l'unique moyen d'éviter la redondance. Dans le prochain chapitre, nous verrons un autre outil : les bibliothèques.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
<span class="arrow"></span>
<span class="next">Création du helper « assets »</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">
<span class="next">Les bibliothèques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbibliothques"></a><h2>Les bibliothèques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
<span class="arrow"></span>
<span class="next">Modifier un helper</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
<span class="next">Utiliser une bibliothèque</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81419" data-claire-element-id="81419">Nous allons aborder ici un gros morceau de Codelgniter : les bibliothèques.. Nous venons de voir les helpers, de petites fonctions qui la plupart du temps sont dans le style « passe-partout ».<br/> Ce n'est pas du tout le cas des bibliothèques. Celles-ci sont là pour nous faire gagner des semaines !</p><p id="r-81420" data-claire-element-id="81420">Vous allez pouvoir forger votre propre opinion, car nous allons voir trois bibliothèques : <em>session</em>, <em>form_validation</em> et <em>database</em>.</p>
</div><a name="Utiliserunebibliothque"></a><h2>Utiliser une bibliothèque</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">
<span class="arrow"></span>
<span class="next">Les bibliothèques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
<span class="next">La bibliothèque Session</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utiliser-une-bibliotheque" data-claire-element-id="81444">Utiliser une bibliothèque</h4><h5 id="r-charger-une-bibliotheque" data-claire-element-id="81443">Charger une bibliothèque</h5><p id="r-81421" data-claire-element-id="81421">C'est la même procédure que pour les helpers : avant d'utiliser, il faut charger.</p><p id="r-81422" data-claire-element-id="81422">Voici comment faire pour charger une bibliothèque :</p><pre id="r-81423" data-claire-element-id="81423"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;load-&gt;library('nom_de_la_bibliothèque');</code></pre><p id="r-81424" data-claire-element-id="81424">Voici un exemple pour que vous compreniez. C'est théorique. Ne le faites pas chez vous.</p><p id="r-81425" data-claire-element-id="81425">Voici ma bibliothèque :</p><pre id="r-81426" data-claire-element-id="81426"><code data-claire-semantic="html+php">&lt;?php

class Alphabet
{
	private $lettres = 'abcdefghijklmnopqrstuvwxyz';
	
	public function __construct()
	{
		
	}
	
	public function recuperer_alphabet()
	{
		return $this-&gt;lettres;
	}
	
	public function supprimer_alphabet()
	{
		$this-&gt;lettres = '';
	}
	
	public function changer_alphabet($lettres)
	{
		if(is_string($lettres) AND !empty($lettres))
		{
			$this-&gt;lettres = $lettres;
			return true;
		}
		else
		{
			return false;
		}
	}
}</code></pre><p id="r-81427" data-claire-element-id="81427">L'utilité de cette classe est quasi nulle, mais nous ferons avec. Voici le code dans le contrôleur qui nous permettra d'avoir accès à cette bibliothèque.</p><pre id="r-81428" data-claire-element-id="81428"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$data = array();

	//	Chargement de notre bibliothèque Alphabet
	$this-&gt;load-&gt;library('alphabet');

	$this-&gt;load-&gt;view('accueil', $data);
}</code></pre><p id="r-81429" data-claire-element-id="81429">Maintenant, je vais vous faire une <strong>révélation</strong> : voici comment nous accédons à la méthode <em>recuperer_alphabet</em> de cette bibliothèque.</p><pre id="r-81430" data-claire-element-id="81430"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$data = array();

	//	Chargement de notre bibliothèque Alphabet
	$this-&gt;load-&gt;library('alphabet');

	$data['alphabet'] = $this-&gt;alphabet-&gt;recuperer_alphabet();

	$this-&gt;load-&gt;view('accueil', $data);
}</code></pre><p id="r-81431" data-claire-element-id="81431">Comme vous le voyez, l'expression $this-&gt;alphabet nous permet d'avoir accès à toutes les méthodes et à tous les attributs de notre bibliothèque !</p><p id="r-81432" data-claire-element-id="81432">N'y a-t-il pas quelque chose qui vous choque dans ce code ?</p><p id="r-81433" data-claire-element-id="81433">À la ligne 20 : <br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;load-&gt;view('accueil', $data);</code></p><p id="r-81434" data-claire-element-id="81434">Enlevons le superflu : <br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;load-&gt;view();</code></p><p id="r-81435" data-claire-element-id="81435">C'est <strong>exactement</strong> la même chose que notre alphabet ! L'expression $this-&gt;load fait appel aux méthodes de<strong> la bibliothèque Load</strong>.</p><p id="r-81436" data-claire-element-id="81436">Lorsque nous chargeons une bibliothèque, un helper, une vue et − c'est l'objet du chapitre suivant − un modèle, nous appelons une méthode de la bibliothèque Load. Si vous ne me croyez pas, allez faire un tour dans le fichier <em>./system/core/loader.php</em>. Il s'agit de la bibliothèque Load. Vous comprenez désormais ce bout de code que vous utilisiez aveuglément depuis le début. Il ne s'agissait en fait que d'<a href="http://codeigniter.com/user_guide/libraries/loader.html">une bibliothèque</a>.</p><aside id="r-81438" data-claire-element-id="81438" data-claire-semantic="information"><p id="r-81437" data-claire-element-id="81437">Nous n'avons pas besoin d'initialiser certaines bibliothèques, car elles font partie du cœur du framework. La bibliothèque Load en fait partie. Il serait difficile d'utiliser CodeIgniter sans rien charger... C'est pour cette raison que certaines bibliothèques sont automatiquement chargées.</p></aside><p id="r-81439" data-claire-element-id="81439">Voici un code qui exploite toutes les fonctionnalités de notre bibliothèque.</p><pre id="r-81440" data-claire-element-id="81440"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$data = array();

	//	Chargement de notre bibliothèque Alphabet via la bibliothèque Load
	$this-&gt;load-&gt;library('alphabet');

	//	Appel de la méthode Alphabet::recuperer_alphabet
	$data['defaut_alphabet'] = $this-&gt;alphabet-&gt;recuperer_alphabet();

	//	Appel de la méthode Alphabet::supprimer_alphabet
	$this-&gt;alphabet-&gt;supprimer_alphabet();

	//	Appel de la méthode Alphabet::changer_alphabet
	$data['alphabet'] = 'acegikmoqsuwybdfhjlnprtvxz';
	$this-&gt;alphabet-&gt;changer_alphabet($data['alphabet']);

	//	Appel de la méthode Load::view
	$this-&gt;load-&gt;view('accueil', $data);
}</code></pre><p id="r-81441" data-claire-element-id="81441">Accéder aux méthodes de nos bibliothèques est donc extrêmement simple une fois que l'on a compris le principe !</p><p id="r-81442" data-claire-element-id="81442">Nous allons maintenant survoler trois bibliothèques.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">
<span class="arrow"></span>
<span class="next">Les bibliothèques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
<span class="next">La bibliothèque Session</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LabibliothqueSession"></a><h2>La bibliothèque Session</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
<span class="arrow"></span>
<span class="next">Utiliser une bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
<span class="next">La bibliothèque Form Validation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-bibliotheque-session" data-claire-element-id="81502">La bibliothèque Session</h4><p id="r-81445" data-claire-element-id="81445"><a href="http://codeigniter.com/user_guide/libraries/sessions.html">Session</a> est une des bibliothèques que nous avons insérées dans l'autoloader (<em>./application/config/autoload.php</em>). Nous pourrons donc utiliser directement ses méthodes :</p><p id="r-81446" data-claire-element-id="81446"><code data-claire-semantic="html+php">&lt;?php $this-&gt;session-&gt;method();</code></p><p id="r-81447" data-claire-element-id="81447">Si vous ne l'avez pas fait, il vous suffit de la charger, comme nous avons chargé la bibliothèque Alphabet.</p><h5 id="r-fonctionnement-des-sessions-de-codeigniter" data-claire-element-id="81461">Fonctionnement des sessions de CodeIgniter</h5><p id="r-81448" data-claire-element-id="81448">Je vous l'ai dit dans l'introduction : CodeIgniter possède son propre système de session <em>via</em> les cookies ou la base de données. Que vous ayez choisi l'un ou l'autre, il n'y aura aucune différence d'utilisation.</p><aside id="r-81450" data-claire-element-id="81450" data-claire-semantic="information"><p id="r-81449" data-claire-element-id="81449">Mais pourquoi n'utilise-t-on pas les sessions natives de PHP ?</p></aside><p id="r-81451" data-claire-element-id="81451">Cette bibliothèque permet d'avoir des sessions très configurables. Vous pouvez par exemple modifier très facilement la durée de vie des sessions, ce qui est impossible si vous n'avez pas accès à la configuration de PHP.<br/> Nous verrons aussi de nouvelles fonctions pour manipuler les sessions, comme les sessions temporaires.</p><aside id="r-81453" data-claire-element-id="81453" data-claire-semantic="information"><p id="r-81452" data-claire-element-id="81452">Dans votre fichier <em>./application/config/config.php</em>, vous trouverez un booléen (sess_encrypt_cookie) qui permet de crypter ou non les données. C'est utile si vous stockez vos données dans des cookies (mais vous atteindrez plus vite la limite de 4 KB). La valeur par défaut est false. Il vous faudra remplir la clé de cryptage dans le fichier de configuration <em>config.php</em>.</p></aside><p id="r-81454" data-claire-element-id="81454">Pour reconnaître les visiteurs, CodeIgniter leur assigne un identifiant unique qui est stocké dans un cookie. Si vous utilisez une base de données, c'est ce cookie qui servira de repère. De plus, il est régénéré toutes les 5 minutes. Si vous voulez le récupérer, il faudra utiliser la méthode <em>userdata</em>.</p><pre id="r-81455" data-claire-element-id="81455"><code data-claire-semantic="html+php">&lt;?php

$session_id = $this-&gt;session-&gt;userdata('session_id');</code></pre><p id="r-81456" data-claire-element-id="81456">CodeIgniter sauvegarde aussi 3 autres informations :</p><pre id="r-81457" data-claire-element-id="81457"><code data-claire-semantic="html+php">&lt;?php

$adresse_ip               = $this-&gt;session-&gt;userdata('ip_address');
$user_agent_du_navigateur = $this-&gt;session-&gt;userdata('user_agent');
$derniere_visite          = $this-&gt;session-&gt;userdata('last_activity');</code></pre><aside id="r-81459" data-claire-element-id="81459" data-claire-semantic="warning"><p id="r-81458" data-claire-element-id="81458">Les sessions ne sont renouvelées que toutes les 5 minutes si vous n'avez pas changé la clé de configuration. Cela signifie que votre variable $derniere_visite ne sera pas actualisée à chaque connexion.</p></aside><p id="r-81460" data-claire-element-id="81460">Les sessions ne se limitent pas à cela. Vous avez la possibilité d'y stocker vos propres données.</p><h5 id="r-ajouter-des-elements-1" data-claire-element-id="81468">Ajouter des éléments</h5><p id="r-81462" data-claire-element-id="81462">La méthode <em>set_userdata</em> vous permettra d'ajouter des données dans les sessions. Les sessions fonctionnent de la même manière qu'un tableau associatif. On a une clé sous forme de chaîne de caractères à laquelle on associe une donnée.</p><pre id="r-81463" data-claire-element-id="81463"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;session-&gt;set_userdata('nom_de_votre_valeur', 'valeur');</code></pre><p id="r-81464" data-claire-element-id="81464">Un exemple d'utilisation :</p><pre id="r-81465" data-claire-element-id="81465"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;session-&gt;set_userdata('pseudo', 'Arthur');

// ...............

$pseudo = $this-&gt;session-&gt;userdata('pseudo');
// $pseudo vaut 'Arthur'</code></pre><aside id="r-81467" data-claire-element-id="81467" data-claire-semantic="information"><p id="r-81466" data-claire-element-id="81466">Si vous essayez d'accéder à une valeur qui n'existe pas, la méthode <em>userdata</em> vous retournera false.</p></aside><h5 id="r-supprimer-des-elements" data-claire-element-id="81471">Supprimer des éléments</h5><p id="r-81469" data-claire-element-id="81469">La méthode <em>unset_userdata</em> permet de faire cela. Elle ne supprimera pas toutes les sessions, seulement les clés que vous précisez.</p><pre id="r-81470" data-claire-element-id="81470"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;session-&gt;unset_userdata(array('pseudo' =&gt; '', 'email' =&gt; ''));</code></pre><h5 id="r-deconnexion" data-claire-element-id="81474">Déconnexion</h5><p id="r-81472" data-claire-element-id="81472">Si vous souhaitez supprimer toute la session, alors utilisez la méthode <em>sess_destroy</em> :</p><pre id="r-81473" data-claire-element-id="81473"><code data-claire-semantic="html+php">&lt;?php

public function deconnexion()
{
	//	Détruit la session
	$this-&gt;session-&gt;sess_destroy();

	//	Redirige vers la page d'accueil
	redirect();
}</code></pre><h5 id="r-flashdata" data-claire-element-id="81501">Flashdata</h5><p id="r-81475" data-claire-element-id="81475">Voici une petite fonctionnalité supplémentaire dans les sessions : les sessions temporaires. Il s'agit de données qui ne vont être stockées que pour une seule utilisation.</p><table id="r-81498" data-claire-element-id="81498"><thead id="r-81481" data-claire-element-id="81481"><tr id="r-81480" data-claire-element-id="81480"><th id="r-81477" data-claire-element-id="81477"><p id="r-81476" data-claire-element-id="81476">Méthode</p></th><th id="r-81479" data-claire-element-id="81479"><p id="r-81478" data-claire-element-id="81478">Explication</p></th></tr></thead><tbody id="r-81497" data-claire-element-id="81497"><tr id="r-81486" data-claire-element-id="81486"><td id="r-81483" data-claire-element-id="81483"><p id="r-81482" data-claire-element-id="81482"><em>set_flashdata</em></p></td><td id="r-81485" data-claire-element-id="81485"><p id="r-81484" data-claire-element-id="81484">Permet d'ajouter une donnée. Fonctionne de la même façon que <em>set_userdata</em>.</p></td></tr><tr id="r-81491" data-claire-element-id="81491"><td id="r-81488" data-claire-element-id="81488"><p id="r-81487" data-claire-element-id="81487"><em>flashdata</em></p></td><td id="r-81490" data-claire-element-id="81490"><p id="r-81489" data-claire-element-id="81489">Permet de récupérer les données. Lorsque vous utilisez cette méthode, l'élément stocké en session sera détruit. Fonctionne de la même manière que <em>usersata</em>.</p></td></tr><tr id="r-81496" data-claire-element-id="81496"><td id="r-81493" data-claire-element-id="81493"><p id="r-81492" data-claire-element-id="81492"><em>keep_flashdata</em></p></td><td id="r-81495" data-claire-element-id="81495"><p id="r-81494" data-claire-element-id="81494">Même chose que <em>flashdata</em> sauf que l'élément ne sera pas détruit une fois récupéré. L'utilisation en continu de cette méthode vous fait perdre l'utilité des flashdatas.</p></td></tr></tbody></table><p id="r-81499" data-claire-element-id="81499">Ces méthodes fonctionnent de la même manière que les méthodes classiques. Je ne vous donne pas d'exemple.</p><p id="r-81500" data-claire-element-id="81500">Nous avons vu toute la bibliothèque <em>session</em> en détail. Ce n'est pas bien compliqué : on ajoute, on récupère et on détruit. Cela suit le même principe que les sessions natives de PHP. Faites des tests chez vous pour bien assimiler !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
<span class="arrow"></span>
<span class="next">Utiliser une bibliothèque</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
<span class="next">La bibliothèque Form Validation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LabibliothqueFormValidation"></a><h2>La bibliothèque Form Validation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
<span class="arrow"></span>
<span class="next">La bibliothèque Session</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
<span class="next">La bibliothèque Database</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-bibliotheque-form-validation" data-claire-element-id="81550">La bibliothèque Form Validation</h4><p id="r-81503" data-claire-element-id="81503">Nous allons maintenant nous intéresser à une autre bibliothèque qui vous sera très utile, car il s'agit d'un système très simple (du côté utilisateur, en tout cas :-° ) pour vérifier si un formulaire est valide ou non.</p><p id="r-81504" data-claire-element-id="81504">Le principe est le suivant : vous créez votre formulaire avec votre vue ; ensuite, vous définissez des règles pour chaque champ de votre formulaire. Par exemple, vous définissez votre champ « pseudo » comme une chaîne alphanumérique, ou bien votre champ « téléphone » comme un entier positif de 10 chiffres, puis vous demandez à la bibliothèque de vérifier si le formulaire est valide ou non. C'est extrêmement utile, car vous allez simplifier bon nombre de vérifications.</p><p id="r-81505" data-claire-element-id="81505">Nous allons tester cette bibliothèque avec un formulaire classique de connexion.</p><pre id="r-81506" data-claire-element-id="81506"><code data-claire-semantic="html+php">&lt;form method=&quot;post&quot; action=&quot;&quot;&gt;
	&lt;label for=&quot;pseudo&quot;&gt;Pseudo : &lt;/label&gt;
	&lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&quot; /&gt;

	&lt;label for=&quot;mdp&quot;&gt;Mot de passe :&lt;/label&gt;
	&lt;input type=&quot;password&quot; name=&quot;mdp&quot; value=&quot;&quot; /&gt;

	&lt;input type=&quot;submit&quot; value=&quot;Envoyer&quot; /&gt;
&lt;/form&gt;</code></pre><p id="r-81507" data-claire-element-id="81507">Cette vue fait apparaître deux champs texte et un bouton.</p><p id="r-81508" data-claire-element-id="81508">Et voici le contrôleur de test :</p><pre id="r-81509" data-claire-element-id="81509"><code data-claire-semantic="html+php">&lt;?php

public function connexion()
{
	//	Chargement de la bibliothèque
	$this-&gt;load-&gt;library('form_validation');
	
	if($this-&gt;form_validation-&gt;run())
	{
		//	Le formulaire est valide
		$this-&gt;load-&gt;view('connexion_reussi');
	}
	else
	{
		//	Le formulaire est invalide ou vide
		$this-&gt;load-&gt;view('formulaire');
	}
}</code></pre><p id="r-81510" data-claire-element-id="81510">Voici comment nous commençons à utiliser la bibliothèque de formulaire. Nous la chargeons, puis nous coupons en deux notre contrôleur. La méthode <em>run</em> retournera true <strong>uniquement</strong> si votre formulaire est valide. Étant donné que nous n'avons pas encore défini de règles pour chaque champ, cette méthode retournera constamment false. Voyons donc comment définir nos règles.</p><h5 id="r-definir-les-regles-des-champs" data-claire-element-id="81539">Définir les règles des champs</h5><p id="r-81511" data-claire-element-id="81511">Nous définissons les règles de nos champs avec la méthode <em>set_rules</em>.</p><ul id="r-81518" data-claire-element-id="81518"><li id="r-81513" data-claire-element-id="81513"><p id="r-81512" data-claire-element-id="81512">Le premier paramètre est le nom du champ, celui qui est contenu dans l'attribut <em>name</em> de la balise.</p></li><li id="r-81515" data-claire-element-id="81515"><p id="r-81514" data-claire-element-id="81514">Le deuxième attribut est le nom « humain » du champ. Par exemple, le nom « humain » du champ « pseudo » est « Nom d'utilisateur ». C'est cette valeur qui sera affichée à l'utilisateur pour lui indiquer le champ qu'il doit corriger.</p></li><li id="r-81517" data-claire-element-id="81517"><p id="r-81516" data-claire-element-id="81516">Le troisième paramètre est une chaîne de caractères où nous allons définir nos règles. Nous y plaçons des mots clés séparés par des pipes (des barres verticales : <strong>|</strong> ). On peut accéder à la liste de toutes les options disponibles sur cette <a href="http://codeigniter.com/user_guide/libraries/form_validation.html#rulereference">page</a>.</p></li></ul><p id="r-81519" data-claire-element-id="81519">Vous allez voir, c'est très intuitif.</p><pre id="r-81520" data-claire-element-id="81520"><code data-claire-semantic="html+php">&lt;?php

public function connexion()
{
	//	Chargement de la bibliothèque
	$this-&gt;load-&gt;library('form_validation');
 
	$this-&gt;form_validation-&gt;set_rules('pseudo', '&quot;Nom d\'utilisateur&quot;', 'trim|required|min_length[5]|max_length[52]|alpha_dash|encode_php_tags|xss_clean');
	$this-&gt;form_validation-&gt;set_rules('mdp',    '&quot;Mot de passe&quot;',       'trim|required|min_length[5]|max_length[52]|alpha_dash|encode_php_tags|xss_clean');

	if($this-&gt;form_validation-&gt;run())
	{
		//	Le formulaire est valide
		$this-&gt;load-&gt;view('connexion_reussie');
	}
	else
	{
		//	Le formulaire est invalide ou vide
		$this-&gt;load-&gt;view('formulaire');
	}
}</code></pre><p id="r-81521" data-claire-element-id="81521">Décomposons ensemble cette chaîne de caractères : trim|required|min_length[5]|max_length[52]|alpha_dash|encode_php_tags|xss_clean.</p><ul id="r-81536" data-claire-element-id="81536"><li id="r-81523" data-claire-element-id="81523"><p id="r-81522" data-claire-element-id="81522"><strong>trim</strong> : n'importe quelle fonction PHP native qui n'attend qu'un seul paramètre de type string peut être indiquée ici. Elle sera appliquée au contenu du champ du formulaire. Ici, on applique la fonction <a href="http://www.php.net/manual/fr/function.trim.php">trim</a> (qui permet de retirer tous les espaces au début et à la fin d'une chaîne).</p></li><li id="r-81525" data-claire-element-id="81525"><p id="r-81524" data-claire-element-id="81524"><strong>required</strong> : permet de définir le champ comme obligatoire. Si l'option <em>required</em> n'est pas définie, alors il sera possible de valider le formulaire sans que le champ ne soit rempli.</p></li><li id="r-81527" data-claire-element-id="81527"><p id="r-81526" data-claire-element-id="81526"><strong>min_length[<em>entier</em>]</strong> : permet de définir la longueur minimale du champ. Ici, j'estime que le pseudo ainsi que le mot de passe ne doivent pas avoir une longueur inférieure à 5 caractères. Vous pouvez choisir le nombre que voulez, bien entendu.</p></li><li id="r-81529" data-claire-element-id="81529"><p id="r-81528" data-claire-element-id="81528"><strong>max_length[<em>entier</em>]</strong> : permet de définir la longueur maximale du champ. Cette option fonctionne de la même manière que min_length.</p></li><li id="r-81531" data-claire-element-id="81531"><p id="r-81530" data-claire-element-id="81530"><strong>alpha_dash</strong> : cette directive permet de n'accepter le champ que si celui-ci contient uniquement des caractères alphanumériques, des underscores (« <strong>_</strong> ») et des tirets.</p></li><li id="r-81533" data-claire-element-id="81533"><p id="r-81532" data-claire-element-id="81532"><strong>encode_php_tags</strong> : convertit les balises PHP en entités HTML.</p></li><li id="r-81535" data-claire-element-id="81535"><p id="r-81534" data-claire-element-id="81534"><strong>xss_clean</strong> : supprime les risques de failles XSS.</p></li></ul><p id="r-81537" data-claire-element-id="81537">N'hésitez pas à jeter un coup d'œil aux autres directives. Certaines sont très intéressantes, comme <em>matches</em> qui permet de ne valider le formulaire que lorsque deux champs sont strictement identiques (pratique pour la confirmation du mot de passe lors d'une inscription, par exemple). Notez que vous pouvez aussi définir vos propres directives.</p><p id="r-81538" data-claire-element-id="81538">Maintenant, la validation du formulaire sera fonctionnelle. Cependant, bien que déjà très sympathique, cela ne constitue qu'une partie de cette bibliothèque. Nous allons maintenant découvrir d'autres fonctionnalités.</p><h5 id="r-recuperer-vos-valeurs" data-claire-element-id="81544">Récupérer vos valeurs</h5><p id="r-81540" data-claire-element-id="81540">Vos valeurs pourront être récupérées via la bibliothèque Input. L'utilisation de celle-ci est très simple. Elle comporte quatre méthodes majeures : <em>post</em>, <em>get</em>, <em>cookie</em>, <em>server</em>. Ces méthodes nous permettront de récupérer les données entrantes.</p><pre id="r-81541" data-claire-element-id="81541"><code data-claire-semantic="html+php">&lt;?php

$pseudo = $this-&gt;input-&gt;post('pseudo');
$mdp = $this-&gt;input-&gt;post('mdp');</code></pre><aside id="r-81543" data-claire-element-id="81543" data-claire-semantic="information"><p id="r-81542" data-claire-element-id="81542">Input est une bibliothèque native de CodeIgniter que vous n'avez pas besoin d'inclure. En effet, elle permet aussi de récupérer les variables GET de l'URL. Sans cela, l'utilisation de CodeIgniter serait réduite à une page unique. Comme je l'ai dit dans la présentation de ce tutoriel, CodeIgniter n'inclut que le strict minimum.</p></aside><h5 id="r-remettre-les-valeurs-dans-les-champs-et-afficher-les-erreurs" data-claire-element-id="81549">Remettre les valeurs dans les champs et afficher les erreurs</h5><p id="r-81545" data-claire-element-id="81545">Ce serait bête de s'arrêter là. En cas d'erreur, vous pouvez remettre dans les champs les valeurs envoyées et même afficher les erreurs.<br/> Pour cela, nous utiliserons les méthodes <em>set_value</em> et <em>form_error</em>. La première retourne la valeur et la seconde affiche l'erreur (si erreur il y a).</p><pre id="r-81546" data-claire-element-id="81546"><code data-claire-semantic="html+php">&lt;form method=&quot;post&quot; action=&quot;&quot;&gt;
	&lt;label for=&quot;pseudo&quot;&gt;Pseudo : &lt;/label&gt;
	&lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&lt;?php echo set_value('pseudo'); ?&gt;&quot; /&gt;
	&lt;?php echo form_error('pseudo'); ?&gt;

	&lt;label for=&quot;mdp&quot;&gt;Mot de passe :&lt;/label&gt;
	&lt;input type=&quot;password&quot; name=&quot;mdp&quot; value=&quot;&quot; /&gt;
	&lt;?php echo form_error('mdp'); ?&gt;

	&lt;input type=&quot;submit&quot; value=&quot;Envoyer&quot; /&gt;
&lt;/form&gt;</code></pre><p id="r-81547" data-claire-element-id="81547">Désormais, les valeurs se rempliront toutes seules et l'erreur s'affichera toute seule aussi.</p><p id="r-81548" data-claire-element-id="81548">Cette bibliothèque offre d'autres fonctionnalités comme la création d'options personnalisées (<em>callback</em>), le changement des délimiteurs pour l'affichage des erreurs, etc. N'hésitez pas à les découvrir !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
<span class="arrow"></span>
<span class="next">La bibliothèque Session</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
<span class="next">La bibliothèque Database</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LabibliothqueDatabase"></a><h2>La bibliothèque Database</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
<span class="arrow"></span>
<span class="next">La bibliothèque Form Validation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
<span class="next">Retour sur la fonction site_url</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-bibliotheque-database" data-claire-element-id="81563">La bibliothèque Database</h4><p id="r-81551" data-claire-element-id="81551">La bibliothèque <em><a href="http://codeigniter.com/user_guide/database/index.html">Database</a></em> vous offre une couche d'abstraction pour réaliser vos requêtes. Autrement dit, la plupart du temps, vous n'allez plus les effectuer avec une chaîne de caractères mais à l'aide de méthodes (celles de la bibliothèque <em>Database</em>).</p><p id="r-81552" data-claire-element-id="81552">Pour charger la bibliothèque et vous connecter à la base de données, vous devez utiliser la méthode <em>Database</em> du loader.</p><pre id="r-81553" data-claire-element-id="81553"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;load-&gt;database();</code></pre><aside id="r-81555" data-claire-element-id="81555" data-claire-semantic="information"><p id="r-81554" data-claire-element-id="81554">Petite particularité ! Pour appeler les méthodes de cette bibliothèque, il vous faut utiliser l'attribut « db » et non « database ».</p></aside><p id="r-81556" data-claire-element-id="81556">Si vous êtes au point avec le langage SQL, alors vous n'aurez aucun problème avec cette bibliothèque. Là encore, son utilisation est très intuitive. Voici un exemple de requête que nous pouvons effectuer :</p><pre id="r-81557" data-claire-element-id="81557"><code data-claire-semantic="html+php">&lt;?php

$resultat = $this-&gt;db-&gt;select('id, email')
                     -&gt;from('utilisateurs')
                     -&gt;where('pseudo', 'ChuckNorris')
                     -&gt;limit(1)
                     -&gt;get()
                     -&gt;result();</code></pre><p id="r-81558" data-claire-element-id="81558">Cette requête se lit comme ceci : <br/> « Sélectionne-moi les colonnes 'id' et 'email' de la table 'utilisateurs' où le champ 'pseudo' vaut 'ChuckNorris' et arrête-toi dès que tu auras 1 résultat. Merci beaucoup. » :p</p><p id="r-81559" data-claire-element-id="81559">Vous verrez que le fait d'utiliser des méthodes améliorera la lisibilité de votre code et vous permettra de simplifier tout le processus de construction de vos requêtes. De plus, le passage à un autre SGBD en sera simplifié.<br/> Nous aurons l'occasion d'approfondir un peu l'utilisation de la bibliothèque dans le chapitre suivant.</p><p id="r-81560" data-claire-element-id="81560">Lorsque nous aurons des requêtes beaucoup plus compliquées, il sera peut-être judicieux de revenir aux requêtes sous forme de chaînes de caractères. Voici un exemple :</p><pre id="r-81561" data-claire-element-id="81561"><code data-claire-semantic="html+php">&lt;?php

//	Mise en place de notre requête
$sql = &quot;SELECT	`id`,
		`email`
	FROM	`utilisateurs`
	WHERE	`pseudo` = ?
	LIMIT	0,1
     ;&quot;;

// Les valeurs seront automatiquement échappées
$data = array('ChuckNorris');

//	On lance la requête
$query = $this-&gt;db-&gt;query($sql, $data);

//	On récupère le nombre de résultats
$nb_resultat = $query-&gt;num_rows();

//	On parcourt l'ensemble des résultats
foreach($query-&gt;result() as $ligne)
{
	echo $ligne-&gt;id;
}

//	On libère la mémoire de la requête (fortement conseillé pour lancer une seconde requête)
$query-&gt;free_result();</code></pre><p id="r-81562" data-claire-element-id="81562">Je ne peux pas vraiment vous expliquer en détail le fonctionnement de cette bibliothèque. Elle est beaucoup trop consistante. Cependant, elle vous donne accès à énormément de fonctionnalités. Nous verrons par la suite des exemples de requêtes, notamment dans le chapitre sur les modèles (le suivant).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
<span class="arrow"></span>
<span class="next">La bibliothèque Form Validation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
<span class="next">Retour sur la fonction site_url</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Retoursurlafonctionsite_url"></a><h2>Retour sur la fonction site_url</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
<span class="arrow"></span>
<span class="next">La bibliothèque Database</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">
<span class="next">Le modèle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-retour-sur-la-fonction-site-url" data-claire-element-id="81580">Retour sur la fonction site_url</h4><p id="r-81564" data-claire-element-id="81564">Vous vous souvenez de notre fonction <em>site_url</em> ? Je vous avais dit que vous comprendriez le code plus tard. Eh bien vous êtes en mesure de le comprendre maintenant :</p><pre id="r-81565" data-claire-element-id="81565"><code data-claire-semantic="html+php">&lt;?php

function site_url($uri = '')
{
	$CI = get_instance();
	return $CI-&gt;config-&gt;site_url($uri);
}</code></pre><p id="r-81566" data-claire-element-id="81566">Décomposons les deux lignes.</p><h5 id="r-1re-ligne" data-claire-element-id="81570">1re ligne</h5><p id="r-81567" data-claire-element-id="81567">La première ligne stocke dans une variable la « valeur » de retour de la fonction <em>get_instance</em>. Cette fonction vous permet d'<strong>utiliser vos bibliothèques à l'intérieur de vos fonctions et de vos classes</strong>. En effet, nous savons que pour appeler les méthodes des bibliothèques, vous devez faire quelque chose comme cela :</p><pre id="r-81568" data-claire-element-id="81568"><code data-claire-semantic="html+php">&lt;?php

$this-&gt;alphabet-&gt;supprimer_alphabet();</code></pre><p id="r-81569" data-claire-element-id="81569">Sauf que votre $this est tout à fait adapté lorsque vous êtes dans les couches MVC ($this est aussi disponible dans les vues). Mais si nous voulons appeler nos bibliothèques depuis une fonction ou même depuis une bibliothèque, nous sommes bloqués. Cette fonction va donc nous aider à contourner le problème. Elle permet de retourner l'instance d'une classe où vous pourrez utiliser les bibliothèques.</p><h5 id="r-2e-ligne" data-claire-element-id="81572">2e ligne</h5><p id="r-81571" data-claire-element-id="81571">La deuxième ligne utilise l'instance que nous donne la fonction pour utiliser une méthode de la bibliothèque <a href="http://codeigniter.com/user_guide/libraries/config.html">Config</a> qui est <em>site_url</em>. C'est cette méthode qui fera tout le boulot. C'est pour cela que j'avais dit que cette fonction est délocalisée.</p><h5 id="r-en-resume-199" data-claire-element-id="81579">En résumé</h5><p id="r-81573" data-claire-element-id="81573">Ce qu'il faut retenir de cela, c'est que la valeur de retour de la fonction <em>get_instance</em> vous permettra d'avoir accès à vos bibliothèques depuis vos classes et vos fonctions.<br/> Par convention, cette instance est nommée $CI. Si vous ouvrez une bibliothèque native, il y a fort à parier que vous trouviez un attribut $CI qui est initialisé au constructeur par cette méthode.</p><p id="r-81574" data-claire-element-id="81574">Nous venons de voir brièvement trois bibliothèques. Mais il en existe <a href="http://codeigniter.com/user_guide/toc.html">beaucoup d'autres</a>.</p><p id="r-81575" data-claire-element-id="81575">Maintenant que vous commencez à voir la puissance des bibliothèques, vous comprendrez mieux la définition de CodeIgniter que je vous ai donnée dans la partie introductive :</p><p id="r-81576" data-claire-element-id="81576"><cite>Citation : Partie I</cite></p><blockquote id="r-81578" data-claire-element-id="81578"><p id="r-81577" data-claire-element-id="81577">Si l'on devait résumer le framework en une phrase, on dirait que CodeIgniter est une base, réduite en fonctionnalités mais hautement performante, pouvant faire appel à des classes et à des fonctions très complètes lorsque le besoin s'en fait sentir.</p></blockquote>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
<span class="arrow"></span>
<span class="next">La bibliothèque Database</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">
<span class="next">Le modèle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemodle"></a><h2>Le modèle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
<span class="arrow"></span>
<span class="next">Retour sur la fonction site_url</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
<span class="next">Anatomie d&#039;un modèle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81582" data-claire-element-id="81582">Vous avez vu les contrôleurs et les vues. Vous avez vu les helpers et les bibliothèques. Il ne vous manque plus que les modèles !</p><p id="r-81583" data-claire-element-id="81583">Dans cette partie, nous utiliserons le pattern <em>Active Record</em> de la classe database pour effectuer nos requêtes.</p><aside id="r-81585" data-claire-element-id="81585" data-claire-semantic="information"><p id="r-81584" data-claire-element-id="81584">Rappel : les modèles servent à faire les requêtes dans la base de données et à retourner le résultat sous forme brute (sans HTML).</p></aside>
</div><a name="Anatomied039unmodle"></a><h2>Anatomie d&#039;un modèle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">
<span class="arrow"></span>
<span class="next">Le modèle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
<span class="next">Le modèle de gestion des news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-anatomie-d-un-modele" data-claire-element-id="81609">Anatomie d'un modèle</h4><p id="r-81586" data-claire-element-id="81586">Tout au long de ce chapitre, nous allons créer un modèle pour la gestion d'un système de news.</p><h5 id="r-creation-du-modele-1" data-claire-element-id="81592">Création du modèle</h5><p id="r-81587" data-claire-element-id="81587">Créez un fichier news_model.php dans votre dossier ./application/models/.<br/> Voici ce que vous allez y placer. Il s'agit d'un modèle basique.</p><pre id="r-81588" data-claire-element-id="81588"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class News_model extends CI_Model
{
	public function get_info()
	{
		//	On simule l'envoi d'une requête
		return array('auteur' =&gt; 'Chuck Norris',
			     'date' =&gt; '24/07/05',
		             'email' =&gt; '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="d5b0b8b4bcb995bbb1b1fbb3a7">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>');
	}
}</code></pre><p id="r-81589" data-claire-element-id="81589">Le modèle est donc une classe qui hérite de la classe Model et qui contient des méthodes. Dans le cas où vous voulez implémenter le constructeur, il faut obligatoirement appeler le constructeur parent.<br/> La méthode get_info permet de retourner des données pour réaliser vos tests. Par la suite, nous y effectuerons une vraie requête.</p><aside id="r-81591" data-claire-element-id="81591" data-claire-semantic="information"><p id="r-81590" data-claire-element-id="81590">La classe doit avoir le même nom que votre fichier, mais avec une majuscule.</p></aside><h5 id="r-utiliser-le-modele" data-claire-element-id="81601">Utiliser le modèle</h5><p id="r-81593" data-claire-element-id="81593">Avant d'utiliser un modèle depuis un contrôleur, il faut le charger via le contrôleur. Pour cela, vous avez la méthode model de la bibliothèque Load.</p><pre id="r-81594" data-claire-element-id="81594"><code data-claire-semantic="html+php">&lt;?php

class User extends CI_Controller
{
	public function accueil()
	{
		//	Chargement du modèle de gestion des news
		$this-&gt;load-&gt;model('news_model');
	}</code></pre><p id="r-81595" data-claire-element-id="81595">Le fichier news_model.php étant dans le dossier model, CodeIgniter le trouvera tout seul.</p><aside id="r-81597" data-claire-element-id="81597" data-claire-semantic="information"><p id="r-81596" data-claire-element-id="81596">Vous pouvez charger votre modèle dans toutes vos pages avec l'autoloader (./application/config/autoload.php).<br/> Vous avez aussi la possibilité de charger le modèle dans le constructeur d'un contrôleur pour y avoir accès dans toutes ses méthodes.</p></aside><p id="r-81598" data-claire-element-id="81598">Maintenant que nous avons chargé le modèle, nous allons récupérer les données de la méthode get_info.</p><pre id="r-81599" data-claire-element-id="81599"><code data-claire-semantic="html+php">&lt;?php
class User extends CI_Controller
{
	public function accueil()
	{
		//	Chargement du modèle de gestion des news
		$this-&gt;load-&gt;model('news_model');

		$data = array();

		//	On lance une requête
		$data['user_info'] = $this-&gt;news_model-&gt;get_info();

		//	On inclut une vue
		$this-&gt;layout-&gt;view('ma_vue', $data);
	}
}</code></pre><p id="r-81600" data-claire-element-id="81600">Ainsi, le $this-&gt;news_model nous permet d'avoir accès aux méthodes du modèle. En fait, une fois inclus, le modèle agit exactement comme une bibliothèque.</p><h5 id="r-renommer-le-modele" data-claire-element-id="81608">Renommer le modèle</h5><p id="r-81602" data-claire-element-id="81602">Si vous avez donné des noms trop longs à vos modèles, vous avez la possibilité de les renommer. Pour cela, il faut utiliser le deuxième paramètre de la méthode model.<br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;load-&gt;model('nom_du_fichier', 'nom_a_donner');</code></p><p id="r-81603" data-claire-element-id="81603">Voici ce que cela donne avec l'exemple précédent :</p><pre id="r-81604" data-claire-element-id="81604"><code data-claire-semantic="html+php">&lt;?php

class User extends CI_Controller
{
	public function accueil()
	{
		//	Chargement du modèle de gestion des news
		//	Nous l'appellerons newsManager
		$this-&gt;load-&gt;model('news_model', 'newsManager');

		$data = array();

		//	On lance une requête
		$data['user_info'] = $this-&gt;newsManager-&gt;get_info();

		//	Et on inclut une vue
		$this-&gt;layout-&gt;view('ma_vue', $data);
	}
}</code></pre><p id="r-81605" data-claire-element-id="81605">Maintenant, nous ne faisons plus <br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;news_model-&gt;get_info();</code><br/> mais bien<br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;newsManager-&gt;get_info();</code></p><p id="r-81606" data-claire-element-id="81606">Vous pourrez penser que c'est un détail mais bien nommer ses modèles permet d'améliorer la lisibilité de votre code. Prenez de bonnes habitudes dès le début.</p><p id="r-81607" data-claire-element-id="81607">Nous avons fait le tour de ce qui constitue le modèle. Une fois qu'il est inclus, nous pouvons avoir accès à ses méthodes de la même façon qu'une bibliothèque. Cependant, nous n'avons pas encore eu l'occasion de réaliser de vraies requêtes. La prochaine partie vous permettra de faire vos premiers pas avec la bibliothèque database car nous construirons un modèle pour un système de news.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">
<span class="arrow"></span>
<span class="next">Le modèle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
<span class="next">Le modèle de gestion des news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemodledegestiondesnews"></a><h2>Le modèle de gestion des news</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
<span class="arrow"></span>
<span class="next">Anatomie d&#039;un modèle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">
<span class="next">[TP] Un livre d&#039;or</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-modele-de-gestion-des-news" data-claire-element-id="81690">Le modèle de gestion des news</h4><p id="r-81610" data-claire-element-id="81610">Notre précédent modèle n'en était pas vraiment un car nous ne lui avons pas fait effectuer de requêtes. Nous nous sommes contentés de lui faire retourner un tableau pour faciliter l'écriture de la méthode. Maintenant, nous allons créer le modèle pour la gestion d'un système de news.</p><p id="r-81611" data-claire-element-id="81611">Voici la table :</p><figure id="r-81613" data-claire-element-id="81614"><img id="r-81612" data-claire-element-id="81612" src="medias/uploads.siteduzero.com_files_249001_250000_249291.png" alt="Image utilisateur"/></figure><p id="r-81615" data-claire-element-id="81615">Le code SQL :</p><pre id="r-81616" data-claire-element-id="81616"><code data-claire-semantic="sql">CREATE TABLE `news` (
	`id`		SMALLINT(5)	UNSIGNED NOT NULL AUTO_INCREMENT PRIMARY KEY,
	`auteur`	VARCHAR(30)	NOT NULL,
	`titre`		VARCHAR(100)	NOT NULL,
	`contenu`	TEXT		NOT NULL,
	`date_ajout`	DATETIME	NOT NULL,
	`date_modif`	DATETIME	NOT NULL
)

ENGINE = MyISAM DEFAULT CHARSET = utf8;</code></pre><p id="r-81617" data-claire-element-id="81617">Et le prototype du modèle :</p><pre id="r-81618" data-claire-element-id="81618"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class News_model extends CI_Model
{
	protected $table = 'news';
	
	/**
	 *	Ajoute une news
	 */
	public function ajouter_news()
	{
		
	}
	
	/**
	 *	Édite une news déjà existante
	 */
	public function editer_news()
	{
		
	}
	
	/**
	 *	Supprime une news
	 */
	public function supprimer_news()
	{
		
	}
	
	/**
	 *	Retourne le nombre de news
	 */
	public function count()
	{
		
	}
	
	/**
	 *	Retourne une liste de news
	 */
	public function liste_news()
	{
		
	}
}


/* End of file news_model.php */
/* Location: ./application/models/news_model.php */</code></pre><aside id="r-81620" data-claire-element-id="81620" data-claire-semantic="information"><p id="r-81619" data-claire-element-id="81619">Le fait de stocker le nom de la table dans un attribut permet de rendre votre modèle plus flexible.</p></aside><h5 id="r-le-point-sur-active-record" data-claire-element-id="81631">Le point sur Active Record</h5><p id="r-81621" data-claire-element-id="81621">CodeIgniter vous propose deux manières de lancer des requêtes à la base de données : en l'écrivant en langage SQL ou en utilisant Active Record.</p><p id="r-81622" data-claire-element-id="81622">Active Record est un patron sur lequel on peut s'appuyer pour faire nos requêtes. Il s'utilise en trois étapes :</p><ul id="r-81629" data-claire-element-id="81629"><li id="r-81624" data-claire-element-id="81624"><p id="r-81623" data-claire-element-id="81623">création de la requête avec les méthodes de la classe Database ;</p></li><li id="r-81626" data-claire-element-id="81626"><p id="r-81625" data-claire-element-id="81625">exécution de la requête ;</p></li><li id="r-81628" data-claire-element-id="81628"><p id="r-81627" data-claire-element-id="81627">manipulation des données que la base de données a renvoyées.</p></li></ul><p id="r-81630" data-claire-element-id="81630">Dans la suite de ce tutoriel, j'utiliserai autant que possible Active Record. Maintenant, nous allons implémenter chaque méthode du modèle une par une.</p><h5 id="r-methode-ajouter-news" data-claire-element-id="81646">Méthode ajouter_news</h5><p id="r-81632" data-claire-element-id="81632">Cette méthode permet d'ajouter une news. Ainsi, les champs id, date_ajout et date_modif devront être gérés par la méthode. Celle-ci a besoin de 3 paramètres : l'auteur, le titre et le contenu.</p><pre id="r-81633" data-claire-element-id="81633"><code data-claire-semantic="html+php">&lt;?php

	/**
	 *	Ajoute une news
	 *
	 *	@param string $auteur 	L'auteur de la news
	 *	@param string $titre 	Le titre de la news
	 *	@param string $contenu 	Le contenu de la news
	 *	@return bool		Le résultat de la requête
	 */
	public function ajouter_news($auteur, $titre, $contenu)
	{
		
	}</code></pre><p id="r-81634" data-claire-element-id="81634">Pour ajouter un nouvel élément dans la base de données, nous pouvons utiliser la méthode <a href="http://codeigniter.com/user_guide/database/active_record.html#insert">insert</a>. Nous allons passer le nom de la table au premier paramètre. Ensuite, nous pouvons utiliser le deuxième paramètre pour les données (sous forme d'un tableau associatif) ou bien nous pouvons utiliser la méthode set pour remplir champ par champ les données à insérer.</p><p id="r-81635" data-claire-element-id="81635">Nous utiliserons les méthodes set + insert car elles permettent de mieux contrôler l'insertion de données.</p><p id="r-81636" data-claire-element-id="81636">Voici le prototype de la méthode set.<br/><code data-claire-semantic="html+php">&lt;?php $this-&gt;set ( $nom_du_champ, $valeur, $echappement_automatique = true )</code></p><pre id="r-81637" data-claire-element-id="81637"><code data-claire-semantic="html+php">&lt;?php

	/**
	 *	Ajoute une news
	 *
	 *	@param string $auteur 	L'auteur de la news
	 *	@param string $titre 	Le titre de la news
	 *	@param string $contenu 	Le contenu de la news
	 *	@return bool		Le résultat de la requête
	 */
	public function ajouter_news($auteur, $titre, $contenu)
	{
		//	Ces données seront automatiquement échappées
		$this-&gt;db-&gt;set('auteur',  $auteur);
		$this-&gt;db-&gt;set('titre',   $titre);
		$this-&gt;db-&gt;set('contenu', $contenu);
		
		//	Ces données ne seront pas échappées
		$this-&gt;db-&gt;set('date_ajout', 'NOW()', false);
		$this-&gt;db-&gt;set('date_modif', 'NOW()', false);
		
		//	Une fois que tous les champs ont bien été définis, on &quot;insert&quot; le tout
		return $this-&gt;db-&gt;insert($this-&gt;table);
	}</code></pre><p id="r-81638" data-claire-element-id="81638">Cette technique est particulièrement intéressante car elle nous permet de fixer les valeurs champ par champ. Une fois que nous avons fini, nous utilisons la méthode insert en fournissant le nom de la table. Vous remarquerez que le troisième paramètre de la méthode set permet d'empêcher l'échappement des données. En effet, la chaîne de caractères NOW() ne doit pas être insérée en tant que telle mais elle doit être interprétée.</p><aside id="r-81640" data-claire-element-id="81640" data-claire-semantic="warning"><p id="r-81639" data-claire-element-id="81639">Vous devrez donc faire très attention aux données que vous insérez lorsque vous fixez ce paramètre à false.</p></aside><p id="r-81641" data-claire-element-id="81641">Cette méthode pourra être appelée de cette façon depuis un contrôleur :</p><pre id="r-81642" data-claire-element-id="81642"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;model('news_model', 'newsManager');

	$resultat = $this-&gt;newsManager-&gt;ajouter_news('Arthur',
						     'Un super titre',
						     'Un super contenu !');
	var_dump($resultat);
}</code></pre><p id="r-81643" data-claire-element-id="81643">Vous pouvez aussi chaîner votre requête de cette façon :</p><pre id="r-81644" data-claire-element-id="81644"><code data-claire-semantic="html+php">&lt;?php

public function ajouter_news($auteur, $titre, $contenu)
{
	return $this-&gt;db-&gt;set('auteur',	 $auteur)
			-&gt;set('titre', 	 $titre)
			-&gt;set('contenu', $contenu)
			-&gt;set('date_ajout', 'NOW()', false)
			-&gt;set('date_modif', 'NOW()', false)
			-&gt;insert($this-&gt;table);
}</code></pre><p id="r-81645" data-claire-element-id="81645">Comme vous le voyez, nous avons réalisé une requête sans utiliser le langage SQL, uniquement avec des méthodes de la classe Database.</p><h5 id="r-methode-modifier-news" data-claire-element-id="81655">Méthode modifier_news</h5><p id="r-81647" data-claire-element-id="81647">Pour cette méthode, nous allons procéder de la même manière qu'avec la méthode ajouter_news, sauf que nous n'appellerons pas en dernier la méthode insert mais la méthode <a href="http://codeigniter.com/user_guide/database/active_record.html#update">update</a>. De plus, il nous faudra appeler une autre méthode avant update afin de renseigner la condition pour mettre à jour le champ, ce sera la méthode where.</p><p id="r-81648" data-claire-element-id="81648">Comme c'est la première fois que nous modifions des données de la sorte, je commence par le code et je vous expliquerai après.</p><pre id="r-81649" data-claire-element-id="81649"><code data-claire-semantic="html+php">&lt;?php

/**
 *	Édite une news déjà existante
 *	
 *	@param integer $id	L'id de la news à modifier
 *	@param string  $titre 	Le titre de la news
 *	@param string  $contenu Le contenu de la news
 *	@return bool		Le résultat de la requête
 */
public function editer_news($id, $titre = null, $contenu = null)
{
	//	Il n'y a rien à éditer
	if($titre == null AND $contenu == null)
	{
		return false;
	}
	
	//	Ces données seront échappées
	if($titre != null)
	{
		$this-&gt;db-&gt;set('titre', $titre);
	}
	if($contenu != null)
	{
		$this-&gt;db-&gt;set('contenu', $contenu);
	}
	
	//	Ces données ne seront pas échappées
	$this-&gt;db-&gt;set('date_modif', 'NOW()', false);
	
	//	La condition
	$this-&gt;db-&gt;where('id', (int) $id);
	
	return $this-&gt;db-&gt;update($this-&gt;table);
}</code></pre><p id="r-81650" data-claire-element-id="81650">Dans un premier temps, nous mettons à jour les deux champs que nous souhaitons modifier. Si l'un des deux a pour valeur null, alors il sera ignoré.<br/> Puis nous complétons la date et l'heure de la mise à jour.<br/> Ensuite, il faut lui dire quelles sont les entrées que nous souhaitons modifier. Ici, nous avons choisi d'autoriser la modification uniquement par le champ id. Cela se fait par la méthode where. Si nous ne lui disons pas quels sont les champs que nous souhaitons modifier, alors nous modifierons toutes les entrées que possède la table.<br/> Puis en dernier, nous lançons la méthode update pour exécuter la requête en lui donnant en paramètre le nom de la table.</p><p id="r-81651" data-claire-element-id="81651">Vous pouvez rendre cette méthode plus flexible en autorisant la modification de la news par un autre champ que id. En effet, la méthode where peut aussi recevoir un tableau associatif du type : nom_du_champ =&gt; valeur.<br/> Ainsi, vous pouvez créer une condition : « si $id est un tableau, alors ce tableau sera donné à la méthode where sans spécifier de champ ».</p><p id="r-81652" data-claire-element-id="81652">Nous l'implémenterons comme cela :</p><pre id="r-81653" data-claire-element-id="81653"><code data-claire-semantic="html+php">&lt;?php

//	Exemple de valeur pour $id.
$id = 5;
$id = array('id' =&gt; 9);
$id = array('pseudo' =&gt; 'Arthur',
            'titre' =&gt; 'monTitre');

/* ******* */

if(is_array($id))
{
	$this-&gt;db-&gt;where($id);
}
else
{
	$this-&gt;db-&gt;where('id', (int) $id);
}</code></pre><p id="r-81654" data-claire-element-id="81654">En utilisant des méthodes pour générer vos requêtes, ce genre de chose est très facile à faire.</p><h5 id="r-methode-supprimer-news" data-claire-element-id="81658">Méthode supprimer_news</h5><p id="r-81656" data-claire-element-id="81656">Cette méthode n'aura qu'un seul paramètre : l'id de la news à supprimer. Pour la suppression d'entrées, nous utiliserons la méthode <a href="http://codeigniter.com/user_guide/database/active_record.html#delete">delete</a>. Nous l'utiliserons une fois la condition where définie.</p><pre id="r-81657" data-claire-element-id="81657"><code data-claire-semantic="html+php">&lt;?php

/**
 *	Supprime une news
 *	
 *	@param integer $id	L'id de la news à modifier
 *	@return bool		Le résultat de la requête
 */
public function supprimer_news($id)
{
	return $this-&gt;db-&gt;where('id', (int) $id)
			-&gt;delete($this-&gt;table);
}</code></pre><h5 id="r-methode-count" data-claire-element-id="81665">Méthode count</h5><p id="r-81659" data-claire-element-id="81659">Pour les méthodes permettant de retourner le nombre d'entrées, la bibliothèque database nous propose une méthode toute prête : count_all_results.</p><p id="r-81660" data-claire-element-id="81660">Pour l'utiliser, il faut dans un premier temps recourir à la méthode where pour restreindre le nombre de résultats retournés, puis à la méthode count_all_results pour exécuter la requête.</p><pre id="r-81661" data-claire-element-id="81661"><code data-claire-semantic="html+php">&lt;?php

/**
 *	Retourne le nombre de news.
 *	
 *	@param array $where	Tableau associatif permettant de définir des conditions
 *	@return integer		Le nombre de news satisfaisant la condition
 */
public function count($where = array())
{
	return (int) $this-&gt;db-&gt;where($where)
			      -&gt;count_all_results($this-&gt;table);
}</code></pre><p id="r-81662" data-claire-element-id="81662">Voici un exemple d'utilisation de cette méthode :</p><pre id="r-81663" data-claire-element-id="81663"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;model('news_model', 'newsManager');

	$nb_news = $this-&gt;newsManager-&gt;count();
	$nb_news_de_bob = $this-&gt;newsManager-&gt;count(array('auteur' =&gt; 'Bob'));
}</code></pre><p id="r-81664" data-claire-element-id="81664">Dans le premier cas, comme nous n'avons pas défini de paramètre, nous avons envoyé à la méthode where un tableau vide. Cela équivaut à retourner le nombre total d'entrées.<br/> Dans le deuxième cas, le tableau que nous donnons en paramètre permet d'affiner la requête et de ne retourner que le nombre d'entrées où le champ « auteur » vaut « Bob ».</p><h5 id="r-methode-liste-news" data-claire-element-id="81684">Méthode liste_news</h5><p id="r-81666" data-claire-element-id="81666">Les requêtes permettant de sélectionner un ensemble d'entrées fonctionnent de la même manière que les requêtes sous forme de chaînes de caractères.</p><ul id="r-81677" data-claire-element-id="81677"><li id="r-81668" data-claire-element-id="81668"><p id="r-81667" data-claire-element-id="81667">Il y a une méthode select pour réduire la taille des données récupérées. Sa valeur par défaut est * qui permet de récupérer tous les champs.</p></li><li id="r-81670" data-claire-element-id="81670"><p id="r-81669" data-claire-element-id="81669">Il y a une méthode from qui permet de spécifier la table souhaitée.</p></li><li id="r-81672" data-claire-element-id="81672"><p id="r-81671" data-claire-element-id="81671">Il y a une méthode join pour faire des jointures.</p></li><li id="r-81674" data-claire-element-id="81674"><p id="r-81673" data-claire-element-id="81673">Il y a des méthodes conditionnelles. Nous avons vu where, mais il y en a d'autres (or_where, like, or_like, etc.).</p></li><li id="r-81676" data-claire-element-id="81676"><p id="r-81675" data-claire-element-id="81675">Il existe aussi d'autres méthodes telles que limit ou order_by, qui ont les mêmes utilités que dans le langage SQL.</p></li></ul><p id="r-81678" data-claire-element-id="81678">Il en existe beaucoup d'autres mais vous avez remarqué que les noms des méthodes sont les mêmes (ou presque) que les mots-clés du langage SQL.</p><p id="r-81679" data-claire-element-id="81679">Intéressons-nous à présent à l'implémentation de la méthode :</p><pre id="r-81680" data-claire-element-id="81680"><code data-claire-semantic="html+php">&lt;?php

/**
 *	Retourne une liste de $nb dernières news.
 *	
 *	@param integer $nb	Le nombre de news
 *	@param integer $debut	Nombre de news à sauter
 *	@return objet		La liste de news
 */
public function liste_news($nb = 10, $debut = 0)
{
	return $this-&gt;db-&gt;select('*')
			-&gt;from($this-&gt;table)
			-&gt;limit($nb, $debut)
			-&gt;order_by('id', 'desc')
			-&gt;get()
			-&gt;result();
}</code></pre><p id="r-81681" data-claire-element-id="81681">Cette requête se lit comme cela : « Sélectionne tous les champs de la table $this-&gt;table, donne-moi $nb news à partir de la news $debut et ordonne le tout du plus grand id au plus petit.</p><aside id="r-81683" data-claire-element-id="81683" data-claire-semantic="warning"><p id="r-81682" data-claire-element-id="81682">Attention à l'ordre des paramètres dans la méthode <em>limit</em>. Sous CodeIgniter, le premier paramètre correspond au nombre de résultats souhaités et le second est le nombre de résultats à sauter. C'est <strong>le contraire</strong> du langage SQL.</p></aside><h5 id="r-notre-modele-de-news" data-claire-element-id="81689">Notre modèle de news</h5><p id="r-81685" data-claire-element-id="81685">Voici le modèle de news que nous avons réalisé :</p><pre id="r-81686" data-claire-element-id="81686"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

/**
 *	News_model
 *
 *		ajouter_news($auteur, $titre, $contenu)
 *		editer_news($id, $titre = null, $contenu = null)
 *		supprimer_news($id)
 *		count($where = array())
 *		liste_news($nb = 10, $debut = 0)
 */

class News_model extends CI_Model
{
	protected $table = 'news';

	/**
	 *	Ajoute une news.
	 *
	 *	@param string $auteur 	L'auteur de la news
	 *	@param string $titre 	Le titre de la news
	 *	@param string $contenu 	Le contenu de la news
	 *	@return bool		Le résultat de la requête
	 */
	public function ajouter_news($auteur, $titre, $contenu)
	{
		return $this-&gt;db-&gt;set('auteur',	$auteur)
			        -&gt;set('titre', 	$titre)
				-&gt;set('contenu',	$contenu)
				-&gt;set('date_ajout', 'NOW()', false)
				-&gt;set('date_modif', 'NOW()', false)
				-&gt;insert($this-&gt;table);
	}
	
	/**
	 *	Édite une news déjà existante.
	 *	
	 *	@param integer $id	L'id de la news à modifier
	 *	@param string  $titre 	Le titre de la news
	 *	@param string  $contenu Le contenu de la news
	 *	@return bool		Le résultat de la requête
	 */
	public function editer_news($id, $titre = null, $contenu = null)
	{
		//	Il n'y a rien à éditer
		if($titre == null AND $contenu == null)
		{
			return false;
		}
		
		//	Ces données seront échappées
		if($titre != null)
		{
			$this-&gt;db-&gt;set('titre', $titre);
		}
		if($contenu != null)
		{
			$this-&gt;db-&gt;set('contenu', $contenu);
		}
		
		return $this-&gt;db-&gt;set('date_modif', 'NOW()', false)
				-&gt;where('id', (int) $id)
				-&gt;update($this-&gt;table);
	}
	
	/**
	 *	Supprime une news.
	 *	
	 *	@param integer $id	L'id de la news à modifier
	 *	@return bool		Le résultat de la requête
	 */
	public function supprimer_news($id)
	{
		return $this-&gt;db-&gt;where('id', (int) $id)
				-&gt;delete($this-&gt;table);
	}
	
	/**
	 *	Retourne le nombre de news.
	 *	
	 *	@param array $where	Tableau associatif permettant de définir des conditions
	 *	@return integer		Le nombre de news satisfaisant la condition
	 */
	public function count($where = array())
	{
		return (int) $this-&gt;db-&gt;where($where)
				      -&gt;count_all_results($this-&gt;table);
	}
	
	/**
	 *	Retourne une liste de $nb dernière news.
	 *	
	 *	@param integer $nb	Le nombre de news
	 *	@param integer $debut	Nombre de news à sauter
	 *	@return objet		La liste de news
	 */
	public function liste_news($nb = 10, $debut = 0)
	{
		return $this-&gt;db-&gt;select('*')
				-&gt;from($this-&gt;table)
				-&gt;limit($nb, $debut)
				-&gt;order_by('id', 'desc')
				-&gt;get()
				-&gt;result();
	}
}


/* End of file news_model.php */
/* Location: ./application/models/news_model.php */</code></pre><p id="r-81687" data-claire-element-id="81687">La réalisation de ce modèle vous permettra de comprendre bien plus facilement la documentation sur la bibliothèque database, et plus particulièrement le pattern Active Record.</p><p id="r-81688" data-claire-element-id="81688">Désormais, vous en savez suffisamment sur CodeIgniter pour construire un site web. Vous ne connaissez pas tout de ce framework. Je ne vais pas vous lâcher comme cela, bien entendu. Mais si vous avez bien compris tout ce que nous avons vu dans ces deux parties, vous êtes en mesure de réaliser un bon nombre de sites.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
<span class="arrow"></span>
<span class="next">Anatomie d&#039;un modèle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">
<span class="next">[TP] Un livre d&#039;or</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPUnlivred039or"></a><h2>[TP] Un livre d&#039;or</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
<span class="arrow"></span>
<span class="next">Le modèle de gestion des news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
<span class="next">Description du livre d&#039;or</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81692" data-claire-element-id="81692">Nous en avons terminé avec la découverte de Codelgniter : nous allons pouvoir passer aux choses sérieuses. Mais ne vous inquiétez pas, il n'y aura rien de vraiment compliqué, nous allons juste nous servir de tout ce que nous avons appris jusqu'ici</p><p id="r-81693" data-claire-element-id="81693">En route !</p><aside id="r-81695" data-claire-element-id="81695" data-claire-semantic="warning"><p id="r-81694" data-claire-element-id="81694">La lecture des cinq premiers chapitres de cette partie est obligatoire pour bien comprendre ce que nous allons réaliser.</p></aside>
</div><a name="Descriptiondulivred039or"></a><h2>Description du livre d&#039;or</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">
<span class="arrow"></span>
<span class="next">[TP] Un livre d&#039;or</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
<span class="next">Coup de pouce</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-description-du-livre-d-or" data-claire-element-id="81713">Description du livre d'or</h4><h5 id="r-petit-rappel-1" data-claire-element-id="81698">Petit rappel</h5><p id="r-81696" data-claire-element-id="81696">Un livre d'or est un endroit où les visiteurs inscrivent des remarques sur ce qu'ils pensent de votre site.</p><p id="r-81697" data-claire-element-id="81697">Il faudra donc une page permettant d'afficher les commentaires (avec un système de pagination), et une autre où l'on aura un formulaire qui permettra aux visiteurs d'écrire un nouveau commentaire. Un commentaire est composé d'un pseudo, d'un message et d'une date.</p><h5 id="r-descriptif-des-pages" data-claire-element-id="81709">Descriptif des pages</h5><h6 id="r-affichage-des-commentaires-1" data-claire-element-id="81703">Affichage des commentaires</h6><p id="r-81699" data-claire-element-id="81699">Comme je l'ai dit ci-dessus, cette page sert à afficher les derniers commentaires des visiteurs. J'ai fait une petite capture d'écran de ce que l'on obtient une fois ce TP terminé.</p><p id="r-81700" data-claire-element-id="81701"><a href="medias/uploads.siteduzero.com_files_260001_261000_260623.png"><img id="r-81701" data-claire-element-id="81700" src="medias/uploads.siteduzero.com_thb_260001_261000_260623.png" alt="Capture d'écran de la page d'affichage des commentaires"/></a></p><p id="r-81702" data-claire-element-id="81702">Comme vous le voyez, on a bien les commentaires avec une pagination et un lien vers la page d'ajout d'un commentaire.</p><h6 id="r-formulaire" data-claire-element-id="81708">Formulaire</h6><p id="r-81704" data-claire-element-id="81704">La page de formulaire est plutôt simple. Il s'agit de demander au visiteur son pseudo et le message qu'il veut écrire dans le livre d'or. Une fois cela fait, on enregistre le message et on affiche une page de confirmation.</p><p id="r-81705" data-claire-element-id="81707"><a href="medias/uploads.siteduzero.com_files_260001_261000_260631.png"><img id="r-81706" data-claire-element-id="81705" src="medias/uploads.siteduzero.com_thb_260001_261000_260631.png" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_260001_261000_260641.png"><img id="r-81707" data-claire-element-id="81706" src="medias/uploads.siteduzero.com_thb_260001_261000_260641.png" alt="Image utilisateur"/></a></p><h5 id="r-avant-de-commencer" data-claire-element-id="81712">Avant de commencer</h5><p id="r-81710" data-claire-element-id="81710">Comme vous le voyez, j'ai fait aussi simple que possible. Pas de <em>captcha</em>, ni rien de particulièrement difficile que vous ne savez pas faire. Normalement, vous avez tous déjà réalisé un livre d'or ou quelque chose d'équivalent.</p><p id="r-81711" data-claire-element-id="81711">Cette partie du tutoriel est uniquement faite pour que vous sachiez ce que nous allons faire. Dans la partie suivante, je vais vous donner des conseils pour vous aider. Vous n'êtes donc pas obligés de la lire. Vous pouvez vous lancer dès maintenant.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">
<span class="arrow"></span>
<span class="next">[TP] Un livre d&#039;or</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
<span class="next">Coup de pouce</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Coupdepouce"></a><h2>Coup de pouce</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
<span class="arrow"></span>
<span class="next">Description du livre d&#039;or</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-coup-de-pouce" data-claire-element-id="81737">Coup de pouce</h4><p id="r-81714" data-claire-element-id="81714">Comme convenu, cette partie est facultative.</p><h5 id="r-schema-de-la-table" data-claire-element-id="81726">Schéma de la table</h5><p id="r-81715" data-claire-element-id="81715">Pour vous faire économiser quelques précieuses minutes, je vous ai fait une copie de la requête qui m'a permis de créer ma table. La voici.</p><pre id="r-81716" data-claire-element-id="81716"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `livreor_commentaires`(

	`id`      	int(10)    	unsigned NOT NULL AUTO_INCREMENT,
	`pseudo`  	varchar(52)     NOT NULL,
	`message` 	text            NOT NULL,
	`date`		DATETIME        NOT NULL,

	PRIMARY KEY (`id`)
)

ENGINE = MyISAM DEFAULT CHARSET = utf8 AUTO_INCREMENT = 1;</code></pre><p id="r-81717" data-claire-element-id="81717">Rien d'exceptionnel ici. On trouve un champ « pseudo », un champ « contenu » et un champ « date ». En image, cela donne ceci :</p><figure id="r-81719" data-claire-element-id="81720"><img id="r-81718" data-claire-element-id="81718" src="medias/uploads.siteduzero.com_files_260001_261000_260667.png" alt="Image utilisateur"/></figure><p id="r-81721" data-claire-element-id="81721">Sauf que cette table est vide… Pour tester, il vaut mieux la remplir un petit peu. Je vous ai donc concocté un petit ensemble d'entrées à copier-coller dans PHPMyAdmin. Une fois les tests terminés, il vous suffira de vider votre table pour la remettre à zéro.</p><p id="r-81722" data-claire-element-id="81722"></p><div id="r-81724" data-claire-element-id="81724"><pre id="r-81723" data-claire-element-id="81723"><code data-claire-semantic="sql">INSERT INTO `livreor_commentaires` (`id`, `pseudo`, `message`, `date`) VALUES
(1, 'Chuck Norris', 'bienvenue !', '2010-09-13 21:04:00'),
(2, 'Patrick', 'J''aime !', '2010-09-05 21:04:12'),
(3, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(4, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(5, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(6, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(7, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(8, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(9, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(10, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:16'),
(11, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(12, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(13, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(14, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(15, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(16, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(17, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(18, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(19, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:31'),
(20, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(21, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(22, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(23, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(24, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(25, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(26, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(27, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(28, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:35'),
(29, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(30, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(31, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(32, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(33, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(34, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(35, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(36, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(37, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:36'),
(38, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(39, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(40, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(41, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(42, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(43, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(44, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(45, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(46, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:37'),
(47, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(48, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(49, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(50, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(51, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(52, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(53, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(54, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(55, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:37'),
(56, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(57, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(58, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(59, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(60, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(61, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(62, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(63, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(64, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:38'),
(65, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(66, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(67, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(68, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(69, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(70, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(71, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(72, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(73, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:38'),
(74, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(75, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(76, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(77, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(78, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(79, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(80, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(81, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(82, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:39'),
(83, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(84, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(85, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(86, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(87, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(88, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(89, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(90, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(91, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:39'),
(92, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(93, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(94, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(95, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(96, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(97, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(98, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(99, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(100, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:40'),
(101, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(102, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(103, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(104, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(105, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(106, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(107, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(108, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(109, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:40'),
(110, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(111, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(112, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(113, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(114, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(115, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(116, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(117, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(118, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:41'),
(119, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(120, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(121, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(122, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(123, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(124, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(125, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(126, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(127, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:41'),
(128, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(129, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(130, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(131, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(132, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(133, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(134, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(135, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(136, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:42'),
(137, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13'),
(138, 'Patrick', 'Encore une fois.', '2010-09-02 21:04:45'),
(139, 'Mathieu', 'Ceci est un commentaire.', '2010-09-04 21:05:01'),
(140, 'Francois', 'Il etait une fois....', '2010-09-05 21:05:23'),
(141, 'M. Deres', 'Bienvenue a vous tous !', '2010-09-01 21:05:51'),
(142, 'H. Reges', 'Salut, super ce site !', '2010-09-02 21:06:09'),
(143, 'L. Dergs', 'Il etait une fois...', '2010-09-05 21:06:33'),
(144, 'L. Broue', 'Jamais deux sans toi !', '2010-09-12 21:06:59'),
(145, 'S. Eruit', 'Salut, j''aime bien ce site !', '2010-09-21 21:08:42'),
(146, 'M. Ourit', 'Debut de site sympathique.', '2010-09-13 21:08:13');</code></pre></div><p id="r-81725" data-claire-element-id="81725">Voilà, votre table est maintenant prête.</p><h5 id="r-le-systeme-de-pagination" data-claire-element-id="81736">Le système de pagination</h5><p id="r-81727" data-claire-element-id="81727">Vous n'avez peut-être pas envie de refaire, à partir de rien, tout un système de pagination. Bien pensé (comme celui du SdZ, par exemple), l'algorithme n'est pas évident (comprendre <em>long à faire</em>). Par exemple, un système qui évite de faire autant de tours de boucle qu'il existe de pages est intéressant côté performance.</p><p id="r-81728" data-claire-element-id="81728">Pour vous faciliter la tâche, vous avez à disposition <a href="http://codeigniter.com/user_guide/libraries/pagination.html">une bibliothèque native</a> permettant de mettre en place votre pagination très rapidement. C'est celle-ci que j'utiliserai pour la correction de ce TP. Voici un exemple d'utilisation de cette bibliothèque.</p><pre id="r-81729" data-claire-element-id="81729"><code data-claire-semantic="html+php">&lt;?php

//    Chargement de la bibliothèque
$this-&gt;load-&gt;library('pagination');

//    Initialisation des paramètres d'utilisation de la pagination
define('NB_COMMENTAIRE_PAR_PAGE', 15);
define('NB_COMMENTAIRE_SAUVEGARDE_EN_BDD', 4587);

$this-&gt;pagination-&gt;initialize(array('base_url' =&gt; base_url() . 'index.php/livreor/voir/',
				    'total_rows' =&gt; NB_COMMENTAIRE_SAUVEGARDE_EN_BDD,
				    'per_page' =&gt; NB_COMMENTAIRE_PAR_PAGE)); 

//    Récupération du HTML
$html_pagination = $this-&gt;pagination-&gt;create_links();</code></pre><p id="r-81730" data-claire-element-id="81730">Votre pagination est donc très rapidement créée avec ce système.</p><aside id="r-81732" data-claire-element-id="81732" data-claire-semantic="information"><p id="r-81731" data-claire-element-id="81731">Si la forme ou le contenu de cette pagination ne vous convient pas, il est possible de personnaliser un bon nombre de choses (notamment les délimiteurs). Cependant, si vous êtes comme moi et que vous voulez quelque chose de très spécifique, il faudra réécrire ou surcharger (proprement) cette bibliothèque pour qu'elle se comporte exactement comme vous le souhaitez. Si c'est votre cas, je vous conseille tout de même de conserver le même comportement côté utilisateur, pour que les modifications soient complètement transparentes.</p></aside><aside id="r-81734" data-claire-element-id="81734" data-claire-semantic="warning"><p id="r-81733" data-claire-element-id="81733">Ce système de pagination n'envoie pas dans l'URL le numéro de la page mais le numéro du commentaire.</p></aside><p id="r-81735" data-claire-element-id="81735">Voilà, j'en ai fini pour les coups de pouce. Tout ce qu'il y a dans la correction a été vu dans les cinq précédents chapitres. À vos éditeurs !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
<span class="arrow"></span>
<span class="next">Description du livre d&#039;or</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
<span class="arrow"></span>
<span class="next">Coup de pouce</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">
<span class="next">L&#039;outil Profiler</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-33" data-claire-element-id="81822">Correction</h4><p id="r-81738" data-claire-element-id="81738">Vous avez terminé ? Ou vous êtes bloqués ? Pas de panique. C'est tout à fait normal d'avoir des difficultés quand on ne connaît pas encore très bien le framework.</p><p id="r-81739" data-claire-element-id="81739">Avant de coder, nous allons réfléchir à tout ce qu'il nous faudra pour réaliser ceci.</p><h5 id="r-analyse-et-conception" data-claire-element-id="81764">Analyse et conception</h5><h6 id="r-le-controleur-16" data-claire-element-id="81748">Le contrôleur</h6><p id="r-81740" data-claire-element-id="81740">Dans un premier temps, il va nous falloir un contrôleur. Celui-ci sera composé du constructeur, qui permettra de charger différents éléments, et de trois méthodes.</p><ul id="r-81747" data-claire-element-id="81747"><li id="r-81742" data-claire-element-id="81742"><p id="r-81741" data-claire-element-id="81741"><em>index</em> : lorsqu'aucun nom de méthode ne sera spécifié dans l'URL, alors ce sera la méthode <em>voir</em> qui sera appelée.</p></li><li id="r-81744" data-claire-element-id="81744"><p id="r-81743" data-claire-element-id="81743"><em>voir</em> : c'est la page qui affiche les commentaires. Elle prendra donc un paramètre facultatif qui sera le numéro de la page, ou du commentaire, selon votre système de pagination.</p></li><li id="r-81746" data-claire-element-id="81746"><p id="r-81745" data-claire-element-id="81745"><em>ecrire</em> : cette page sera celle qui affichera le formulaire pour ajouter un nouveau message.</p></li></ul><h6 id="r-le-modele-15" data-claire-element-id="81753">Le modèle</h6><p id="r-81749" data-claire-element-id="81749">Une fois cela fait, nous devons définir notre modèle. En effet, nous allons devoir faire des requêtes à la base de données. Pour ce système, nous n'avons besoin que de trois méthodes : une qui renvoie le nombre de messages, une autre qui ajoute un message dans la base de données et la dernière qui récupère une liste de commentaires. J'ai appelé ces méthodes respectivement <em>ajouter_commentaire</em>, <em>count</em> et <em>get_commentaires</em>.</p><p id="r-81750" data-claire-element-id="81750">Sous forme de schéma, cela nous donne quelque chose dans ce genre-là :</p><p id="r-81751" data-claire-element-id="81752"><a href="medias/uploads.siteduzero.com_files_260001_261000_260704.png"><img id="r-81752" data-claire-element-id="81751" src="medias/uploads.siteduzero.com_thb_260001_261000_260704.png" alt="Image utilisateur"/></a></p><h6 id="r-les-vues-3" data-claire-element-id="81763">Les vues</h6><p id="r-81754" data-claire-element-id="81754">Il ne reste plus qu'à définir nos vues. Nous allons avoir besoin de trois vues.</p><ul id="r-81761" data-claire-element-id="81761"><li id="r-81756" data-claire-element-id="81756"><p id="r-81755" data-claire-element-id="81755"><em>afficher_commentaires</em> : c'est la vue qui sera appelée pour afficher les commentaires issus de la base de données. Il s'agira notamment d'effectuer une boucle sur le tableau de résultats renvoyé par la requête.</p></li><li id="r-81758" data-claire-element-id="81758"><p id="r-81757" data-claire-element-id="81757"><em>ecrire_commentaire</em> : cette vue comportera le formulaire pour ajouter un commentaire.</p></li><li id="r-81760" data-claire-element-id="81760"><p id="r-81759" data-claire-element-id="81759"><em>confirmation</em> : cette vue ne sera affichée que lorsque le visiteur aura envoyé un commentaire.</p></li></ul><p id="r-81762" data-claire-element-id="81762">Bien, maintenant que nous avons fini d'analyser notre futur livre d'or, nous allons le coder.</p><h5 id="r-le-modele-16" data-claire-element-id="81791">Le modèle</h5><h6 id="r-prototype" data-claire-element-id="81767">Prototype</h6><p id="r-81765" data-claire-element-id="81765">Commençons par le plus rapide : le modèle. Voici son prototype.</p><pre id="r-81766" data-claire-element-id="81766"><code data-claire-semantic="html+php">&lt;?php

class Livreor_model extends CI_Model
{
	private $table = 'livreor_commentaires';
	
	public function ajouter_commentaire($pseudo, $message)
	{
		
	}
	
	public function count()
	{
		
	}
	
	public function get_commentaires($nb, $debut = 0)
	{
		
	}
}

/* End of file livreor_model.php */
/* Location: ./application/models/livreor_model.php */</code></pre><h6 id="r-methode-ajouter-commentaire" data-claire-element-id="81774">Méthode <em>ajouter_commentaire</em></h6><p id="r-81768" data-claire-element-id="81768">Cette méthode reçoit deux paramètres, le pseudo et le contenu du message. Avant de lancer la requête qui ajoutera une entrée dans la table, nous allons procéder à une vérification sur ces deux paramètres. Nous vérifierons s'ils sont bien des chaînes de caractères et nous nous assurerons que celles-ci ne sont pas vides.</p><pre id="r-81769" data-claire-element-id="81769"><code data-claire-semantic="html+php">&lt;?php

public function ajouter_commentaire($pseudo, $message)
{
	if(!is_string($pseudo) OR !is_string($message) OR empty($pseudo) OR empty($message))
	{
		return false;
	}
	
	// ...
}</code></pre><p id="r-81770" data-claire-element-id="81770">Maintenant, nous pouvons envoyer la requête à la base de données. Nous devons donc appeler la méthode <em>set</em> de la bibliothèque <em>database</em> puis la méthode <em>insert</em> pour lui indiquer que l'on veut ajouter une entrée.</p><p id="r-81771" data-claire-element-id="81771">Voici comment cela peut s'implémenter.</p><pre id="r-81772" data-claire-element-id="81772"><code data-claire-semantic="html+php">&lt;?php

public function ajouter_commentaire($pseudo, $message)
{
	if(!is_string($pseudo) OR !is_string($message) OR empty($pseudo) OR empty($message))
	{
		return false;
	}
	
	return $this-&gt;db-&gt;set(array('pseudo' =&gt; $pseudo,
				    'message' =&gt; $message))
			-&gt;set('date', 'NOW()', false)
			-&gt;insert($this-&gt;table);
}</code></pre><p id="r-81773" data-claire-element-id="81773">Nous appelons donc une fois la méthode <em>set</em> pour les champs « pseudo » et « message » qui seront automatiquement échappés. Puis nous l'appelons une seconde fois pour le champ « date » qui ne doit pas être échappé (ce qui explique la présence du troisième argument). Enfin, nous appelons la méthode <em>insert</em> pour lancer la requête.</p><h6 id="r-methode-count-1" data-claire-element-id="81779">Méthode <em>count</em></h6><p id="r-81775" data-claire-element-id="81775">Celle-ci va être très simple à implémenter car nous disposons de la méthode <em>count_all</em> de la bibliothèque <em>database</em> qui permet justement de retourner le nombre d'entrées d'une table.</p><aside id="r-81777" data-claire-element-id="81777" data-claire-semantic="information"><p id="r-81776" data-claire-element-id="81776">Une autre façon de faire est d'utiliser la méthode <em>count_all_results</em>. Celle-ci permet en plus de fixer des contraintes. Mais dans notre cas, nous avons juste besoin qu'elle retourne le nombre d'entrées.</p></aside><pre id="r-81778" data-claire-element-id="81778"><code data-claire-semantic="html+php">&lt;?php

public function count()
{
	return $this-&gt;db-&gt;count_all($this-&gt;table);
}</code></pre><h6 id="r-methode-get-commentaires" data-claire-element-id="81790">Méthode <em>get_commentaires</em></h6><p id="r-81780" data-claire-element-id="81780">Cette méthode attend deux paramètres : le nombre de commentaires que l'on veut récupérer et un entier à partir duquel la requête doit accepter les résultats. Autrement dit, il s'agit en fait des variables que nous allons donner à la méthode <em>limit</em>.</p><p id="r-81781" data-claire-element-id="81781">Comme la méthode <em>ajouter_commentaire</em>, nous allons d'abord vérifier la cohérence des paramètres avant de lancer la requête. Il s'agira donc de vérifier si les deux variables sont bien des entiers positifs.<br/> Une fois cela fait, nous allons pouvoir lancer la requête et retourner le résultat.</p><pre id="r-81782" data-claire-element-id="81782"><code data-claire-semantic="html+php">&lt;?php

public function get_commentaires($nb, $debut = 0)
{
	if(!is_integer($nb) OR $nb &lt; 1 OR !is_integer($debut) OR $debut &lt; 0)
	{
		return false;
	}
	
	return $this-&gt;db-&gt;select('`id`, `pseudo`, `message`, DATE_FORMAT(`date`,\'%d/%m/%Y &amp;agrave; %H:%i:%s\') AS \'date\'', false)
			-&gt;from($this-&gt;table)
			-&gt;order_by('id', 'desc')
			-&gt;limit($nb, $debut)
			-&gt;get()
			-&gt;result();
}</code></pre><aside id="r-81784" data-claire-element-id="81784" data-claire-semantic="information"><p id="r-81783" data-claire-element-id="81783">La méthode <em>from</em> est facultative car le premier paramètre de la méthode <em>get</em> accepte aussi le nom de la table.</p></aside><aside id="r-81786" data-claire-element-id="81786" data-claire-semantic="warning"><p id="r-81785" data-claire-element-id="81785">Le deuxième argument de la méthode <em>select</em> permet d'enlever l'échappement automatique car nous utilisons la fonction SQL <em>date_format</em>. Faites donc attention à ce que vous y mettez.</p></aside><p id="r-81787" data-claire-element-id="81787">Nous en avons donc fini avec notre modèle. Voici le code complet.</p><div id="r-81789" data-claire-element-id="81789"><pre id="r-81788" data-claire-element-id="81788"><code data-claire-semantic="html+php">&lt;?php

class Livreor_model extends CI_Model
{
	private $table = 'livreor_commentaires';
	
	public function ajouter_commentaire($pseudo, $message)
	{
		if(!is_string($pseudo) OR !is_string($message) OR empty($pseudo) OR empty($message))
		{
			return false;
		}
		
		return $this-&gt;db-&gt;set(array('pseudo' =&gt; $pseudo,
					    'message' =&gt; $message))
				-&gt;set('date', 'NOW()', false)
				-&gt;insert($this-&gt;table);
	}
	
	public function count()
	{
		return $this-&gt;db-&gt;count_all($this-&gt;table);
	}
	
	public function get_commentaires($nb, $debut = 0)
	{
		if(!is_integer($nb) OR $nb &lt; 1 OR !is_integer($debut) OR $debut &lt; 0)
		{
			return false;
		}
		
		return $this-&gt;db-&gt;select('`id`, `pseudo`, `message`, DATE_FORMAT(`date`,\'%d/%m/%Y &amp;agrave; %H:%i:%s\') AS \'date\'', false)
				-&gt;from($this-&gt;table)
				-&gt;order_by('id', 'desc')
				-&gt;limit($nb, $debut)
				-&gt;get()
				-&gt;result();
	}
}

/* End of file livreor_model.php */
/* Location: ./application/models/livreor_model.php */</code></pre></div><h5 id="r-le-controleur-et-les-vues" data-claire-element-id="81821">Le contrôleur et les vues</h5><h6 id="r-le-prototype-du-controleur" data-claire-element-id="81796">Le prototype du contrôleur</h6><p id="r-81792" data-claire-element-id="81792">Comme nous l'avons défini dans la partie conception, le contrôleur de notre livre d'or possède quatre méthodes. Il n'y a donc rien de nouveau par rapport au schéma UML.</p><pre id="r-81793" data-claire-element-id="81793"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

class Livreor extends CI_Controller
{
	const NB_COMMENTAIRE_PAR_PAGE = 15;
	
	public function __construct()
	{
		parent::Controller();
		
		//	Chargement des ressources pour tout le contrôleur
		$this-&gt;load-&gt;database();
		$this-&gt;load-&gt;helper(array('url', 'assets'));
		$this-&gt;load-&gt;model('livreor_model', 'livreorManager');
	}
	
// ------------------------------------------------------------------------
	
	public function index($g_nb_commentaire = 1)
	{
		$this-&gt;voir($g_nb_commentaire);
	}
	
// ------------------------------------------------------------------------
	
	public function voir($g_nb_commentaire = 1)
	{
		//    La page qui permet de voir les commentaires.
	}
	
// ------------------------------------------------------------------------
	
	public function ecrire()
	{
		//    La page qui permet d'écrire un commentaire.
	}
}


/* End of file livreor.php */
/* Location: ./application/controllers/livreor.php */</code></pre><aside id="r-81795" data-claire-element-id="81795" data-claire-semantic="information"><p id="r-81794" data-claire-element-id="81794">Il est possible que certaines ressources chargées depuis le contrôleur soient déjà chargées par défaut (via l'autoloader). Si c'est le cas, vous pouvez les enlever si vous voulez (le fait de charger plusieurs fois une même ressource ne pose pas de problème). De plus, notez que nous utiliserons le helper <em>assets</em> que nous avons créé au chapitre sur les helpers.</p></aside><h6 id="r-la-page-des-commentaires" data-claire-element-id="81805">La page des commentaires</h6><p id="r-81797" data-claire-element-id="81797">Nous allons commencer par réaliser la page qui affichera les commentaires. Nous devons donc, dans cette méthode, récupérer les commentaires dans la base de données et envoyer tout cela à la vue. Pour cela, nous devons vérifier la cohérence de la variable $_GET. <br/> Enfin, nous devons aussi récupérer le code HTML généré par la bibliothèque de pagination.</p><p id="r-81798" data-claire-element-id="81798">Voici le code qui permet de faire cela. Je l'ai abondamment documenté. Cela sera donc plus facile pour vous de le comprendre.</p><pre id="r-81799" data-claire-element-id="81799"><code data-claire-semantic="html+php">&lt;?php

public function voir($g_nb_commentaire = 1)
{
	$this-&gt;load-&gt;library('pagination');
	
	$data = array();
	
	//	Récupération du nombre total de messages sauvegardés dans la base de données
	$nb_commentaire_total = $this-&gt;livreorManager-&gt;count();
	
	//	On vérifie la cohérence de la variable $_GET
	if($g_nb_commentaire &gt; 1)
	{
		//	La variable $_GET semblent être correcte. On doit maintenant
		//	vérifier s'il y a bien assez de commentaires dans la base de données.
		if($g_nb_commentaire &lt;= $nb_commentaire_total)
		{
			//	Il y a assez de commentaires dans la base de données.
			//	La variable $_GET est donc cohérente.
			
			$nb_commentaire = intval($g_nb_commentaire);
		}
		else
		{
			//	Il n'y pas assez de messages dans la base de données.
			
			$nb_commentaire = 1;
		}
	}
	else
	{
		//	La variable $_GET &quot;nb_commentaire&quot; est erronée. On lui donne une
		//	valeur par défaut.
		
		$nb_commentaire = 1;
	}
	
	//	Mise en place de la pagination
	$this-&gt;pagination-&gt;initialize(array('base_url' =&gt; base_url() . 'index.php/livreor/voir/',
					    'total_rows' =&gt; $nb_commentaire_total,
					    'per_page' =&gt; self::NB_COMMENTAIRE_PAR_PAGE)); 
	
	$data['pagination'] = $this-&gt;pagination-&gt;create_links();
	$data['nb_commentaires'] = $nb_commentaire_total;
	
	//	Maintenant que l'on connaît le numéro du commentaire, on peut lancer
	//	la requête récupérant les commentaires dans la base de données.
	$data['messages'] = $this-&gt;livreorManager-&gt;get_commentaires(self::NB_COMMENTAIRE_PAR_PAGE, $nb_commentaire-1);
	
	//	On charge la vue
	$this-&gt;load-&gt;view('livreor/afficher_commentaires', $data);
}</code></pre><p id="r-81800" data-claire-element-id="81800">Ceci permet donc d'afficher la vue <em>afficher_commentaires</em> en lui envoyant les variables $data. Sauf que cette vue n'existe pas. Nous allons corriger cela tout de suite. Voici le contenu de la mienne. Le plus important est en fait le principe de la boucle. Le reste, c'est juste pour faire joli.</p><pre id="r-81801" data-claire-element-id="81801"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 

	&lt;head&gt;
		&lt;title&gt;Un livre d'or avec CodeIgniter&lt;/title&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&lt;?php echo $this-&gt;config-&gt;item('charset'); ?&gt;&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;?php echo css_url('livreor/style'); ?&gt;&quot; /&gt;
	&lt;/head&gt;

	&lt;body&gt;
		&lt;div id=&quot;messages&quot;&gt;

			&lt;p&gt;
				Il y a actuellement &lt;?php echo $nb_commentaires; ?&gt; commentaires. &lt;br /&gt;
				&lt;?php echo url('écrire un commentaire', 'livreor/ecrire'); ?&gt;
			&lt;/p&gt;

			&lt;div class=&quot;pagination&quot;&gt;&lt;?php echo $pagination; ?&gt;&lt;/div&gt;

			&lt;?php foreach($messages as $message): ?&gt;
				&lt;div id=&quot;num_&lt;?php echo $message-&gt;id; ?&gt;&quot; class=&quot;message&quot;&gt;
					&lt;p&gt;
						&lt;a href=&quot;#num_&lt;?php echo $message-&gt;id; ?&gt;&quot;&gt;#&lt;/a&gt;
						Par &lt;span class=&quot;pseudo_commentaire&quot;&gt;&lt;?php echo htmlentities($message-&gt;pseudo); ?&gt;&lt;/span&gt;
						le &lt;span class=&quot;date_commentaire&quot;&gt;&lt;?php echo $message-&gt;date; ?&gt;&lt;/span&gt;
					&lt;/p&gt;
					&lt;div class=&quot;contenu_commentaire&quot;&gt;&lt;?php echo nl2br(htmlentities($message-&gt;message)); ?&gt;&lt;/div&gt;
				&lt;/div&gt;
			&lt;?php endforeach; ?&gt;

			&lt;div class=&quot;pagination&quot;&gt;&lt;?php echo $pagination; ?&gt;&lt;/div&gt;

		&lt;/div&gt;
	&lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-81802" data-claire-element-id="81802">Et voici ma feuille de style CSS. Là encore, c'est juste pour le beauté de la chose.</p><pre id="r-81803" data-claire-element-id="81803"><code data-claire-semantic="css">*
{
	margin: 0;
	padding: 0;
}

.pagination
{
	text-align: center;
}

#messages
{
	margin: auto;
	width: 80%;
}

#messages .message
{
	margin: 1% auto;
	padding: 3%;
	border: 1px outset red;
}

form
{
	margin: 2% auto;
	padding: 1.5%;
	width: 85%;
	border: 1px inset green;
	text-align: center;
}

form input
{
	margin-bottom: 1.5%;
}

form textarea
{
	margin-bottom: 1.5%;
	width: 70%;
}

#confirmation
{
	margin: 1%;
	padding: 1.5%;
	border: 1px outset blue;
	color: rgb(158, 10, 10);
}

.form_erreur
{
	color: red;
}</code></pre><p id="r-81804" data-claire-element-id="81804">Maintenant que cela est fait, vous devriez voir la page des commentaires avec la pagination fonctionnelle.</p><h6 id="r-la-methode-ecrire" data-claire-element-id="81820">La méthode <em>ecrire</em></h6><p id="r-81806" data-claire-element-id="81806">Voici la fin de cette correction : la page permettant d'ajouter un commentaire.</p><p id="r-81807" data-claire-element-id="81807">Pour cela, j'ai utilisé la bibliothèque <em>form_validation</em> que j'avais décrite dans le chapitre portant sur les bibliothèques. La partie importante de cette méthode se situe surtout sur la mise en place des règles de validation du formulaire. Le reste est plutôt banal.</p><p id="r-81808" data-claire-element-id="81808">Comme la méthode précédente, celle-ci est abondamment commentée. Il vous faudra sûrement faire le ménage si vous voulez la conserver dans votre projet.</p><pre id="r-81809" data-claire-element-id="81809"><code data-claire-semantic="html+php">&lt;?php

public function ecrire()
{
	$this-&gt;load-&gt;library('form_validation');
	
	//	Cette méthode permet de changer les délimiteurs par défaut des messages d'erreur (&lt;p&gt;&lt;/p&gt;).
	$this-&gt;form_validation-&gt;set_error_delimiters('&lt;p class=&quot;form_erreur&quot;&gt;', '&lt;/p&gt;');
	
	//	Mise en place des règles de validation du formulaire
	//	Nombre de caractères : [3,25] pour le pseudo et [3,3000] pour le commentaire
	//	Uniquement des caractères alphanumériques, des tirets et des underscores pour le pseudo
	$this-&gt;form_validation-&gt;set_rules('pseudo',  '&quot;Pseudo&quot;',  'trim|required|min_length[3]|max_length[25]|alpha_dash');
	$this-&gt;form_validation-&gt;set_rules('contenu', '&quot;Contenu&quot;', 'trim|required|min_length[3]|max_length[3000]');
	
	if($this-&gt;form_validation-&gt;run())
	{
		//	Nous disposons d'un pseudo et d'un commentaire sous une bonne forme
		
		//	Sauvegarde du commentaire dans la base de données
		$this-&gt;livreorManager-&gt;ajouter_commentaire($this-&gt;input-&gt;post('pseudo'),
							   $this-&gt;input-&gt;post('contenu'));
		
		//	Affichage de la confirmation
		$this-&gt;load-&gt;view('livreor/confirmation');
	}
	else
	{
		$this-&gt;load-&gt;view('livreor/ecrire_commentaire');
	}
}</code></pre><p id="r-81810" data-claire-element-id="81810">Et avec cela, il vous faut les vues associées. Nous avons donc une vue pour l'affichage du formulaire et une autre pour l'affichage de la confirmation.</p><p id="r-81811" data-claire-element-id="81811">Notez que la vue affichant le formulaire affiche aussi les erreurs et affiche à nouveau les valeurs dans les champs en cas d'erreur.</p><pre id="r-81812" data-claire-element-id="81812"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 
	&lt;head&gt;
		&lt;title&gt;Un livre d'or avec CodeIgniter&lt;/title&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&lt;?php echo $this-&gt;config-&gt;item('charset'); ?&gt;&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;?php echo css_url('livreor/style'); ?&gt;&quot; /&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;form method=&quot;post&quot; action=&quot;&quot;&gt;
			&lt;div&gt;
				&lt;label&gt;
					Pseudo :
					&lt;input type=&quot;text&quot; name=&quot;pseudo&quot; value=&quot;&lt;?php echo set_value('pseudo'); ?&gt;&quot; /&gt;
				&lt;/label&gt;
				&lt;?php echo form_error('pseudo'); ?&gt;
			&lt;/div&gt;
			&lt;div&gt;
				&lt;label&gt;
					Message : &lt;br /&gt;
					&lt;textarea name=&quot;contenu&quot; rows=&quot;7&quot; cols=&quot;60&quot;&gt;&lt;?php echo set_value('contenu'); ?&gt;&lt;/textarea&gt;
				&lt;/label&gt;
				&lt;?php echo form_error('contenu'); ?&gt;
			&lt;/div&gt;
			&lt;p&gt;
				&lt;input type=&quot;submit&quot; value=&quot;Valider votre commentaire&quot; /&gt;
			&lt;/p&gt;
		&lt;/form&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-81813" data-claire-element-id="81813">Et la page de confirmation :</p><pre id="r-81814" data-claire-element-id="81814"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 
	&lt;head&gt;
		&lt;title&gt;Un livre d'or avec CodeIgniter&lt;/title&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&lt;?php echo $this-&gt;config-&gt;item('charset'); ?&gt;&quot; /&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;?php echo css_url('livreor/style'); ?&gt;&quot; /&gt;
	&lt;/head&gt;
	&lt;body&gt;
		&lt;div id=&quot;confirmation&quot;&gt;
			&lt;p&gt;
				Votre message a bien été ajouté à la base de données. Nous vous remercions de votre commentaire.
			&lt;/p&gt;
			&lt;p&gt;
				&lt;?php echo url('Revenir à la page des commentaires', 'livreor'); ?&gt;
			&lt;/p&gt;
		&lt;/div&gt;
	&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-81815" data-claire-element-id="81815">Cette fois-ci, c'est bon ! Nous avons terminé notre livre d'or. Le visiteur peut voir les commentaires et écrire le sien. Et tout cela avec CodeIgniter.</p><p id="r-81816" data-claire-element-id="81816">Et voilà ! Notre livre d'or est fini. Il y a de fortes chances qu'il soit insuffisant pour l'intégrer directement dans votre site, mais vous pouvez toujours l'améliorer.</p><p id="r-81817" data-claire-element-id="81817">J'espère que ce TP vous a permis de faire le point avec tout ce que nous avons vu. Je pense qu'il était très important de revoir un peu tout cela, mais en produisant quelque chose d'utile. Cela vous permettra d'aborder la troisième partie un peu plus sereinement.</p><aside id="r-81819" data-claire-element-id="81819" data-claire-semantic="warning"><p id="r-81818" data-claire-element-id="81818">Ne loupez pas l'introduction de la prochaine partie.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
<span class="arrow"></span>
<span class="next">Coup de pouce</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">
<span class="next">L&#039;outil Profiler</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039outilProfiler"></a><h2>L&#039;outil Profiler</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
<span class="next">Activer le profiler</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81829" data-claire-element-id="81829">Le <em>Profiler</em> est un outil très important pour les développeurs. Il permet d'afficher très rapidement les performances de la page, les requêtes envoyées à la base de données, les variables $_GET et $_POST ainsi que beaucoup d'autres informations. C'est un outil très précieux pour le développement.</p><p id="r-81830" data-claire-element-id="81830">Dans un premier temps, nous verrons comment activer ce module. Ensuite, nous découvrirons les outils à notre disposition pour contrôler les performances de notre application. Enfin, nous modifierons le profiler pour y faire apparaître les sessions.</p>
</div><a name="Activerleprofiler"></a><h2>Activer le profiler</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">
<span class="arrow"></span>
<span class="next">L&#039;outil Profiler</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
<span class="next">Modifier l&#039;ordre des différentes catégories</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-activer-le-profiler" data-claire-element-id="81856">Activer le profiler</h4><h5 id="r-afficher-le-profiler" data-claire-element-id="81840">Afficher le profiler</h5><p id="r-81831" data-claire-element-id="81831">Pour activer le profiler, il vous suffit d'ajouter cette ligne dans votre contrôleur : <code data-claire-semantic="html+php">&lt;?php $this-&gt;output-&gt;enable_profiler(true);</code></p><p id="r-81832" data-claire-element-id="81832">Cette ligne appelle la méthode enable_profiler de la bibliothèque Output.</p><p id="r-81833" data-claire-element-id="81833">Exemple : je crée un contrôleur que j'appelle Test et j'y affiche mon profiler.</p><pre id="r-81834" data-claire-element-id="81834"><code data-claire-semantic="html+php">&lt;?php

class Test extends CI_Controller
{
	public function index()
	{
		$this-&gt;output-&gt;enable_profiler(true);
	}
}

/* End of file test.php */
/* Location: ./application/controllers/test.php */</code></pre><p id="r-81835" data-claire-element-id="81835">Celui-ci sera accessible à cette adresse : <a href="http://localhost/codeIgniter/index.php/test/">http://localhost/codeIgniter/index.php/test/</a>. Il vous affichera quelque chose de semblable à ce que montre l'image ci-dessous.</p><figure id="r-81837" data-claire-element-id="81838"><img id="r-81836" data-claire-element-id="81836" src="medias/uploads.siteduzero.com_files_248001_249000_248578.png" alt="Image utilisateur"/></figure><p id="r-81839" data-claire-element-id="81839">Plutôt pratique, non ?</p><h5 id="r-realiser-des-tests-de-performance" data-claire-element-id="81855">Réaliser des tests de performance</h5><p id="r-81841" data-claire-element-id="81841">Vous avez écrit plusieurs requêtes et vous voulez savoir laquelle est la plus performante ? Pas de problème, CodeIgniter a tout prévu !</p><p id="r-81842" data-claire-element-id="81842">Il vous suffit d'ajouter une ligne juste avant votre requête et une autre après pour que le temps d'exécution s'affiche dans votre Profiler.</p><p id="r-81843" data-claire-element-id="81843">Voici comment faire avec mon exemple précédent :</p><pre id="r-81844" data-claire-element-id="81844"><code data-claire-semantic="html+php">&lt;?php

class Test extends CI_Controller
{
	public function index()
	{
		//	Première requête
		$this-&gt;benchmark-&gt;mark('requete1_start');
		$query = $this-&gt;db-&gt;query('SELECT `id`, `username`, `user_rank` FROM `users`')-&gt;result();
		$this-&gt;benchmark-&gt;mark('requete1_end');
		
		//	Deuxième requête
		$this-&gt;benchmark-&gt;mark('requete2_start');
		$query = $this-&gt;db-&gt;select('id, username, user_rank')-&gt;from('users')-&gt;get()-&gt;result();
		$this-&gt;benchmark-&gt;mark('requete2_end');
 
		$this-&gt;output-&gt;enable_profiler(true);
	}
}

/* End of file test.php */
/* Location: ./application/controllers/test.php */</code></pre><aside id="r-81846" data-claire-element-id="81846" data-claire-semantic="warning"><p id="r-81845" data-claire-element-id="81845">Pour que cela fonctionne, vous devez nommer votre test (ici : requete1 ou requete2) et ajouter _start ou _end respectivement avant et après l'objet du test.</p></aside><p id="r-81847" data-claire-element-id="81847">J'obtiens maintenant deux lignes supplémentaires dans la catégorie <em>Benchmarks</em>.</p><figure id="r-81849" data-claire-element-id="81850"><img id="r-81848" data-claire-element-id="81848" src="medias/uploads.siteduzero.com_files_248001_249000_248579.png" alt="Image utilisateur"/></figure><aside id="r-81852" data-claire-element-id="81852" data-claire-semantic="information"><p id="r-81851" data-claire-element-id="81851">Si vous avez besoin de récupérer les résultats du test, vous avez la possibilité d'utiliser cette méthode : <code data-claire-semantic="html+php">&lt;?php $this-&gt;benchmark-&gt;elapsed_time('requete1_start', 'requete1_end');</code></p></aside><p id="r-81853" data-claire-element-id="81853">C'est à peu près tout ce que vous apporte nativement le profiler. C'est très rapide à présenter, mais ça n'enlève rien à son utilité.</p><p id="r-81854" data-claire-element-id="81854">Par la suite, nous allons chercher à le modifier.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">
<span class="arrow"></span>
<span class="next">L&#039;outil Profiler</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
<span class="next">Modifier l&#039;ordre des différentes catégories</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifierl039ordredesdiffrentescatgories"></a><h2>Modifier l&#039;ordre des différentes catégories</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
<span class="arrow"></span>
<span class="next">Activer le profiler</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
<span class="next">Ajouter les sessions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modifier-l-ordre-des-differentes-categories" data-claire-element-id="81918">Modifier l'ordre des différentes catégories</h4><h5 id="r-introduction-3" data-claire-element-id="81861">Introduction</h5><p id="r-81857" data-claire-element-id="81857">Comme je n'allais pas écrire un chapitre dédié uniquement à l'affichage du profiler, j'ai décidé que nous allions modifier son comportement.</p><aside id="r-81859" data-claire-element-id="81859" data-claire-semantic="information"><p id="r-81858" data-claire-element-id="81858">Nous n'allons pas faire cela juste pour le plaisir de compliquer la chose ! Ce que nous allons voir maintenant est obligatoire si vous voulez ajouter le contenu des sessions dans le profiler, et d'une manière plus générale, modifier le comportement par défaut d'une bibliothèque de CodeIgniter <strong>sans</strong> toucher au contenu du dossier system.</p></aside><p id="r-81860" data-claire-element-id="81860">Dans un premier temps, nous changerons l'ordre d'affichage des différents éléments. Par exemple, nous allons montrer en premier les variables $_GET et $_POST et déplacer à la fin la catégorie « mémoire ».</p><h5 id="r-reecrire-les-methodes-de-codeigniter-la-theorie" data-claire-element-id="81888">Réécrire les méthodes de CodeIgniter : la théorie</h5><p id="r-81862" data-claire-element-id="81862">Nous allons faire un petit peu de théorie avant la pratique. Le but n'est pas seulement d'avoir le résultat : il vous faut aussi comprendre comment cela fonctionne pour que vous puissiez faire la même chose pour toutes les bibliothèques.</p><p id="r-81863" data-claire-element-id="81863">CodeIgniter a mis en place deux fonctionnalités très simples mais très puissantes pour réécrire les méthodes de ses bibliothèques sans les modifier irrémédiablement.<br/> Nous avons à disposition deux moyens de modifier le comportement de la bibliothèque Profiler.</p><ul id="r-81868" data-claire-element-id="81868"><li id="r-81865" data-claire-element-id="81865"><p id="r-81864" data-claire-element-id="81864"><strong>Réécrire entièrement la bibliothèque.</strong> Pour cela, il suffit de créer un fichier Profiler.php dans notre dossier application/libraries/. Les bibliothèques contenues dans le dossier application ont la priorité sur celles du dossier system. Cette technique est particulièrement utile si vous avez beaucoup de méthodes à modifier. Ici, ce ne sera pas le cas.</p></li><li id="r-81867" data-claire-element-id="81867"><p id="r-81866" data-claire-element-id="81866"><strong>Surcharger certaines méthodes.</strong> Si vous avez bien suivi le cours de POO sur <a href="http://www.siteduzero.com/tutoriel-3-302638-l-heritage.html">l'héritage</a>, vous devez savoir qu'une classe fille qui hérite d'une classe mère a la possibilité de redéfinir entièrement les méthodes de la classe mère. Nous avons donc besoin de créer une classe qui héritera de la classe Profiler, puis de dire à CodeIgniter d'utiliser notre classe pour appeler les méthodes du profiler. C'est cette méthode que nous allons choisir.</p></li></ul><table id="r-81887" data-claire-element-id="81887"><tbody id="r-81886" data-claire-element-id="81886"><tr id="r-81875" data-claire-element-id="81875"><td id="r-81870" data-claire-element-id="81870"><p id="r-81869" data-claire-element-id="81869">Défaut</p></td><td id="r-81872" data-claire-element-id="81872"><p id="r-81871" data-claire-element-id="81871">Méthode 1 (réécriture)</p></td><td id="r-81874" data-claire-element-id="81874"><p id="r-81873" data-claire-element-id="81873">Méthode 2</p></td></tr><tr id="r-81885" data-claire-element-id="81885"><td id="r-81877" data-claire-element-id="81878"><img id="r-81878" data-claire-element-id="81877" src="medias/uploads.siteduzero.com_files_248001_249000_248830.png" alt="Image utilisateur"/><img id="r-81876" data-claire-element-id="81876" src="medias/uploads.siteduzero.com_files_248001_249000_248830.png" alt="Image utilisateur"/></td><td id="r-81880" data-claire-element-id="81881"><img id="r-81881" data-claire-element-id="81880" src="medias/uploads.siteduzero.com_files_248001_249000_248830.png" alt="Image utilisateur"/><img id="r-81879" data-claire-element-id="81879" src="medias/uploads.siteduzero.com_files_248001_249000_248830.png" alt="Image utilisateur"/></td><td id="r-81883" data-claire-element-id="81884"><img id="r-81884" data-claire-element-id="81883" src="medias/uploads.siteduzero.com_files_248001_249000_248829.png" alt="Image utilisateur"/><img id="r-81882" data-claire-element-id="81882" src="medias/uploads.siteduzero.com_files_248001_249000_248829.png" alt="Image utilisateur"/></td></tr></tbody></table><h5 id="r-reecrire-les-methodes-de-codeigniter-la-pratique" data-claire-element-id="81917">Réécrire les méthodes de CodeIgniter : la pratique</h5><p id="r-81889" data-claire-element-id="81889">Pour faire cela, vous devez d'abord vous rendre dans votre fichier de configuration (./application/config/config.php) et trouver cette ligne :</p><pre id="r-81890" data-claire-element-id="81890"><code data-claire-semantic="html+php">&lt;?php

/*
|--------------------------------------------------------------------------
| Class Extension Prefix
|--------------------------------------------------------------------------
|
| This item allows you to set the filename/classname prefix when extending
| native libraries.  For more information please see the user guide:
|
| http://codeigniter.com/user_guide/general/core_classes.html
| http://codeigniter.com/user_guide/general/creating_libraries.html
|
*/
$config['subclass_prefix'] = 'MY_';</code></pre><p id="r-81891" data-claire-element-id="81891">Si vous lisez la description au-dessus de la déclaration de la variable, vous apprendrez que cette chaîne de caractères permet, dans le dossier libraries, de différencier vos propres bibliothèques de celles servant à surcharger les bibliothèques natives.<br/> Autrement dit, en ajoutant le préfixe <strong>MY_</strong> à vos noms de fichiers, CodeIgniter saura que vous voulez réécrire les méthodes de la classe.</p><p id="r-81892" data-claire-element-id="81892">Un petit exemple et vous allez comprendre. Créez un fichier appelé MY_Profiler.php dans le dossier ./application/libraries/ et placez-y ce petit bout de code :</p><pre id="r-81893" data-claire-element-id="81893"><code data-claire-semantic="html+php">&lt;?php if(!defined('BASEPATH')) exit('No direct script access allowed');

class MY_Profiler extends CI_Profiler
{
	
}</code></pre><p id="r-81894" data-claire-element-id="81894">Si vous rechargez votre page, vous ne devriez voir aucun changement. CodeIgniter utilise maintenant cette classe pour créer son profiler.</p><div id="r-81896" data-claire-element-id="81896" data-claire-semantic="question"><p id="r-81895" data-claire-element-id="81895">Mais pourtant, il n'y a rien dans cette classe…</p></div><p id="r-81897" data-claire-element-id="81897">Faux ! La classe MY_Profiler hérite de Profiler. Ainsi, MY_Profiler possède les mêmes méthodes que Profiler. Pour l'instant, en tout cas.</p><aside id="r-81899" data-claire-element-id="81899" data-claire-semantic="information"><p id="r-81898" data-claire-element-id="81898">Le préfixe CI_ devant le nom des classes permet de reconnaître les classes natives de CodeIgniter.</p></aside><p id="r-81900" data-claire-element-id="81900">À présent, voyons donc les méthodes que possède la classe CI_Profiler. Voici son prototype :</p><pre id="r-81901" data-claire-element-id="81901"><code data-claire-semantic="html+php">&lt;?php

class CI_Profiler {

	var $CI;
 	
 	function CI_Profiler();
 	
	// --------------------------------------------------------------------

 	function _compile_benchmarks();
	function _compile_queries();
	function _compile_get();
	function _compile_post();
	function _compile_uri_string();
	function _compile_controller_info();
	function _compile_memory_usage();

	// --------------------------------------------------------------------
	
	function run();
}</code></pre><p id="r-81902" data-claire-element-id="81902">Nous pouvons classer les méthodes en trois catégories.</p><ul id="r-81909" data-claire-element-id="81909"><li id="r-81904" data-claire-element-id="81904"><p id="r-81903" data-claire-element-id="81903">CI_Profiler est le constructeur (PHP4). Il permet d'initialiser la variable $CI. C'est la valeur de retour de la fonction get_instance. Souvenez-vous, nous l'avons déjà vue lors de la réécriture des fonctions du helper url.</p></li><li id="r-81906" data-claire-element-id="81906"><p id="r-81905" data-claire-element-id="81905">Chaque méthode qui commence par _compile_ est une catégorie de votre profiler. Chacune de ces méthodes renvoie le code HTML qui sera affiché dans le profiler.</p></li><li id="r-81908" data-claire-element-id="81908"><p id="r-81907" data-claire-element-id="81907">La méthode run renvoie le code HTML qu'elle collecte auprès de chaque méthode.</p></li></ul><p id="r-81910" data-claire-element-id="81910">Pour modifier l'ordre d'affichage des catégories, nous allons modifier l'ordre dans lequel la méthode run appelle les autres méthodes.</p><p id="r-81911" data-claire-element-id="81911">Voici la méthode run telle qu'elle est définie nativement :</p><pre id="r-81912" data-claire-element-id="81912"><code data-claire-semantic="html+php">&lt;?php

function run()
{
	$output = &quot;&lt;div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'&gt;&quot;;

	$output .= $this-&gt;_compile_uri_string();
	$output .= $this-&gt;_compile_controller_info();
	$output .= $this-&gt;_compile_memory_usage();
	$output .= $this-&gt;_compile_benchmarks();
	$output .= $this-&gt;_compile_get();
	$output .= $this-&gt;_compile_post();
	$output .= $this-&gt;_compile_queries();

	$output .= '&lt;/div&gt;';

	return $output;
}</code></pre><p id="r-81913" data-claire-element-id="81913">Pour la modifier, nous devons la réécrire. Notre classe MY_Profiler possédera donc une méthode run grâce à ce code :</p><pre id="r-81914" data-claire-element-id="81914"><code data-claire-semantic="html+php">&lt;?php if(!defined('BASEPATH')) exit('No direct script access allowed');

class MY_Profiler extends CI_Profiler
{	
	function run()
	{
		$output = &quot;&lt;div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'&gt;&quot;;

		$output .= $this-&gt;_compile_uri_string();
		$output .= $this-&gt;_compile_get();
		$output .= $this-&gt;_compile_post();
		$output .= $this-&gt;_compile_controller_info();
		$output .= $this-&gt;_compile_benchmarks();
		$output .= $this-&gt;_compile_queries();
		$output .= $this-&gt;_compile_memory_usage();

		$output .= '&lt;/div&gt;';
		
		return $output;
	}
}</code></pre><p id="r-81915" data-claire-element-id="81915">Cette méthode run est la même que celle de la classe parente, sauf que l'ordre d'appel des différentes méthodes a été modifié.</p><p id="r-81916" data-claire-element-id="81916">Nous avons donc bien modifié une bibliothèque de CodeIgniter proprement, en conservant intact le dossier system.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
<span class="arrow"></span>
<span class="next">Activer le profiler</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
<span class="next">Ajouter les sessions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajouterlessessions"></a><h2>Ajouter les sessions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
<span class="arrow"></span>
<span class="next">Modifier l&#039;ordre des différentes catégories</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
<span class="next">Modifier le design du profiler</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajouter-les-sessions" data-claire-element-id="81944">Ajouter les sessions</h4><p id="r-81919" data-claire-element-id="81919">Voici maintenant le moment d'ajouter les sessions dans le profiler. Si vous avez bien compris comment nous avons fait pour modifier l'ordre d'affichage des catégories, ajouter les sessions ne posera pas plus de problèmes !</p><h5 id="r-modification-de-la-methode-run" data-claire-element-id="81923">Modification de la méthode run</h5><p id="r-81920" data-claire-element-id="81920">Pour afficher une catégorie, nous devons l'ajouter dans la méthode run. Sinon, elle ne s'affichera pas.</p><pre id="r-81921" data-claire-element-id="81921"><code data-claire-semantic="html+php">&lt;?php

function run()
{
        $output = &quot;&lt;div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'&gt;&quot;;
	
	$output .= $this-&gt;_compile_uri_string();
	$output .= $this-&gt;_compile_get();
	$output .= $this-&gt;_compile_post();
	$output .= $this-&gt;_compile_memory_usage();
	$output .= $this-&gt;_compile_benchmarks();
	$output .= $this-&gt;_compile_controller_info();
	$output .= $this-&gt;_compile_queries();
	$output .= $this-&gt;_compile_session();

	$output .= '&lt;/div&gt;';

	return $output;
}</code></pre><p id="r-81922" data-claire-element-id="81922">La valeur de retour de la méthode _compile_session s'affichera dans le profiler.</p><h5 id="r-implementation-de-la-methode-compile-session" data-claire-element-id="81943">Implémentation de la méthode _compile_session</h5><h6 id="r-patron" data-claire-element-id="81927">Patron</h6><p id="r-81924" data-claire-element-id="81924">Créons d'abord le patron :</p><pre id="r-81925" data-claire-element-id="81925"><code data-claire-semantic="html+php">&lt;?php

function _compile_session()
{
	$output  = &quot;\n\n&quot;;
	$output .= '&lt;fieldset style=&quot;border:1px solid #009999;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee&quot;&gt;';
	$output .= &quot;\n&quot;;

	$output .= '&lt;legend style=&quot;color:#009999;&quot;&gt;&amp;nbsp;&amp;nbsp;' . 'DONNEES SESSION' . '&amp;nbsp;&amp;nbsp;&lt;/legend&gt;';
	$output .= &quot;\n&quot;;
 
        $output .= &quot;&lt;div style='color:#009999;font-weight:normal;padding:4px 0 4px 0'&gt;&quot;.'No SESSION data exists'.&quot;&lt;/div&gt;&quot;;

	return $output . &quot;&lt;/fieldset&gt;&quot;;
}</code></pre><p id="r-81926" data-claire-element-id="81926">Il s'agit en fait d'un copié-collé du design des autres catégories.</p><h6 id="r-tester-si-les-sessions-sont-activees" data-claire-element-id="81933">Tester si les sessions sont activées</h6><pre id="r-81928" data-claire-element-id="81928"><code data-claire-semantic="html+php">&lt;?php
function _compile_session()
{
	$output  = &quot;\n\n&quot;;
	$output .= '&lt;fieldset style=&quot;border:1px solid #009999;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee&quot;&gt;';
	$output .= &quot;\n&quot;;

	$output .= '&lt;legend style=&quot;color:#009999;&quot;&gt;&amp;nbsp;&amp;nbsp;' . 'DONNEES SESSION' . '&amp;nbsp;&amp;nbsp;&lt;/legend&gt;';
	$output .= &quot;\n&quot;;

	if(is_object($this-&gt;CI-&gt;session))
	{
		//	Le contenu de la session
			
	}
	else
	{
		//	La session est indéfinie
		$output .= &quot;&lt;div style='color:#009999;font-weight:normal;padding:4px 0 4px 0'&gt;&quot;.'No SESSION data exists'.&quot;&lt;/div&gt;&quot;;
	}

	return $output . &quot;&lt;/fieldset&gt;&quot;;
}</code></pre><p id="r-81929" data-claire-element-id="81929">J'ai choisi d'afficher un message dans le cas où la session n'est pas active. Vous pouvez aussi renvoyer une chaîne de caractères vide pour masquer la catégorie « sessions ». Vous faites comme vous voulez ; c'est votre profiler, après tout. :-°</p><figure id="r-81931" data-claire-element-id="81932"><img id="r-81930" data-claire-element-id="81930" src="medias/uploads.siteduzero.com_files_248001_249000_248594.png" alt="Image utilisateur"/></figure><h6 id="r-realisation-du-tableau" data-claire-element-id="81942">Réalisation du tableau</h6><p id="r-81934" data-claire-element-id="81934">Dans cette section, nous afficherons un tableau à deux colonnes : la clé et la valeur associée.</p><p id="r-81935" data-claire-element-id="81935">Pour construire ce tableau, nous reprendrons le modèle de la catégorie <em>Benchmarks</em>. Je ne m'attarde pas sur le code HTML, c'est juste une histoire de design.</p><pre id="r-81936" data-claire-element-id="81936"><code data-claire-semantic="html+php">&lt;?php

function _compile_session()
{
	$output  = &quot;\n\n&quot;;
	$output .= '&lt;fieldset style=&quot;border:1px solid #009999;padding:6px 10px 10px 10px;margin:20px 0 20px 0;background-color:#eee&quot;&gt;';
	$output .= &quot;\n&quot;;

	$output .= '&lt;legend style=&quot;color:#009999;&quot;&gt;&amp;nbsp;&amp;nbsp;' . 'DONNEES SESSION' . '&amp;nbsp;&amp;nbsp;&lt;/legend&gt;';
	$output .= &quot;\n&quot;;

	if(is_object($this-&gt;CI-&gt;session))
	{
		//	Le contenu de la session
		$output .= &quot;\n\n&lt;table cellpadding='4' cellspacing='1' border='0' width='100%'&gt;\n&quot;;
			
		//	Nous devons exécuter cette fonction pour récupérer un tableau de valeurs
		//	En effet, pour accéder aux données de la session, il faut récupérer ses attributs
		$sess = get_object_vars($this-&gt;CI-&gt;session);

		//	Nous parcourons chaque valeur du tableau de sessions
		foreach($sess['userdata'] as $key =&gt; $val)
		{
			//	On échappe (juste pour l'affichage) les données non numériques et on les affiche
			if( ! is_numeric($key))
			{
				$key = &quot;'&quot; . $key . &quot;'&quot;;
			}
			$output .= &quot;&lt;tr&gt;&lt;td width='50%' style='color:#000;
background-color:#ddd;'&gt;&amp;#36;_SESSION[&quot; . $key . &quot;]&amp;nbsp;&amp;nbsp; &lt;/td&gt;&lt;td width='50%' style='color:#009999;font-weight:normal;background-color:#ddd;'&gt;&quot;;

			//	On affiche la valeur de la variable. Si c'est un tableau, on exécute la fonction print_r
			if(is_array($val))
			{
				$output .= &quot;&lt;pre&gt;&quot; . htmlspecialchars(stripslashes(print_r($val, true))) . &quot;&lt;/pre&gt;&quot;;
			} 
			else
			{
				$output .= htmlspecialchars(stripslashes($val));
			}

			$output .= &quot;&lt;/td&gt;&lt;/tr&gt;\n&quot;;
		}

		$output .= &quot;&lt;/table&gt;\n&quot;;
	}
	else
	{
		//	La session est indéfinie
		$output .= &quot;&lt;div style='color:#009999;font-weight:normal;padding:4px 0 4px 0'&gt;&quot;.'No SESSION data exists'.&quot;&lt;/div&gt;&quot;;
	}

	return $output . &quot;&lt;/fieldset&gt;&quot;;
}</code></pre><p id="r-81937" data-claire-element-id="81937">Vous voyez maintenant vos sessions dans le profiler. Voici, en image, ce que j'obtiens :</p><figure id="r-81939" data-claire-element-id="81940"><img id="r-81938" data-claire-element-id="81938" src="medias/uploads.siteduzero.com_files_248001_249000_248595.png" alt="Image utilisateur"/></figure><p id="r-81941" data-claire-element-id="81941">Plutôt sympa, non ?</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
<span class="arrow"></span>
<span class="next">Modifier l&#039;ordre des différentes catégories</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
<span class="next">Modifier le design du profiler</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifierledesignduprofiler"></a><h2>Modifier le design du profiler</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
<span class="arrow"></span>
<span class="next">Ajouter les sessions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">
<span class="next">Modification de la classe Model : le CRUD</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modifier-le-design-du-profiler" data-claire-element-id="81959">Modifier le design du profiler</h4><p id="r-81945" data-claire-element-id="81945">Maintenant que les sessions apparaissent dans votre profiler, vous en avez peut-être ras-le-bol de vous acharner sur la molette de votre souris pour aller voir leur contenu.</p><p id="r-81946" data-claire-element-id="81946">Je vous propose donc deux designs alternatifs.</p><p id="r-81947" data-claire-element-id="81947">Celui-ci sépare le profiler en deux. Voici le rendu obtenu :</p><p id="r-81948" data-claire-element-id="81949"><a href="medias/uploads.siteduzero.com_files_248001_249000_248597.png"><img id="r-81949" data-claire-element-id="81948" src="medias/uploads.siteduzero.com_thb_248001_249000_248597.png" alt="Image utilisateur"/></a></p><p id="r-81950" data-claire-element-id="81950">Bien entendu, vous n'êtes pas obligés de faire la même chose, mais l'idée était, je trouve, suffisamment intéressante pour l'évoquer. Je vous donne ma fonction run : adaptez-la à votre résolution si le rendu est de mauvaise qualité.</p><pre id="r-81951" data-claire-element-id="81951"><code data-claire-semantic="html+php">&lt;?php

function run()
{
	$output = &quot;&lt;div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'&gt;&quot;;
	
	$output .= '&lt;div style=&quot;margin-left: 2%; margin-right: 1%; float: left; width: 47%;&quot;&gt;';
	$output .= $this-&gt;_compile_uri_string();
	$output .= $this-&gt;_compile_controller_info();
	$output .= $this-&gt;_compile_memory_usage();
	$output .= $this-&gt;_compile_benchmarks();
	$output .= '&lt;/div&gt;';
	
	$output .= '&lt;div style=&quot;margin-left: 51%; margin-right: 2%; width: auto;&quot;&gt;';
	$output .= $this-&gt;_compile_get();
	$output .= $this-&gt;_compile_post();
	$output .= $this-&gt;_compile_queries();
	$output .= $this-&gt;_compile_session();
	$output .= '&lt;/div&gt;';

	$output .= '&lt;/div&gt;';

	return $output;
}</code></pre><p id="r-81952" data-claire-element-id="81952">Celui-ci reprend la même base mais réserve plus de place aux requêtes. Voici le rendu :</p><p id="r-81953" data-claire-element-id="81954"><a href="medias/uploads.siteduzero.com_files_248001_249000_248598.png"><img id="r-81954" data-claire-element-id="81953" src="medias/uploads.siteduzero.com_thb_248001_249000_248598.png" alt="Image utilisateur"/></a></p><p id="r-81955" data-claire-element-id="81955">En voici le code :</p><pre id="r-81956" data-claire-element-id="81956"><code data-claire-semantic="html+php">&lt;?php

function run()
{
	$output = &quot;&lt;div id='codeigniter_profiler' style='clear:both;background-color:#fff;padding:10px;'&gt;&quot;;
		
	$output .= '&lt;div style=&quot;margin-left: 2%; margin-right: 1%; float: left; width: 47%;&quot;&gt;';
	$output .= $this-&gt;_compile_uri_string();
	$output .= $this-&gt;_compile_get();
	$output .= $this-&gt;_compile_memory_usage();
	$output .= '&lt;/div&gt;';
	
	$output .= '&lt;div style=&quot;margin-left: 51%; margin-right: 2%; width: auto;&quot;&gt;';
	$output .= $this-&gt;_compile_controller_info();
	$output .= $this-&gt;_compile_post();
	$output .= $this-&gt;_compile_benchmarks();
	$output .= '&lt;/div&gt;';
	
	$output .= '&lt;div style=&quot;margin-left: 2%; margin-right: 2%; width: auto;&quot;&gt;';
	$output .= $this-&gt;_compile_queries();
	$output .= $this-&gt;_compile_session();
	$output .= '&lt;/div&gt;';
	
        $output .= '&lt;/div&gt;';

        return $output;
}</code></pre><p id="r-81957" data-claire-element-id="81957">Étant donné que je n'ai absolument aucun talent pour le design, je suis très limité pour fabriquer un joli profiler. Cela dit, rien ne vous empêche de laisser libre cours à votre imagination.</p><p id="r-81958" data-claire-element-id="81958">Comme vous le voyez, en une seule instruction, vous avez pu afficher un descriptif très précis sur toutes les pages. C'est un outil qui vous fait gagner énormément de temps pendant le développement. Utilisez-le !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
<span class="arrow"></span>
<span class="next">Ajouter les sessions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">
<span class="next">Modification de la classe Model : le CRUD</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ModificationdelaclasseModelleCRUD"></a><h2>Modification de la classe Model : le CRUD</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
<span class="arrow"></span>
<span class="next">Modifier le design du profiler</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
<span class="next">La théorie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-81961" data-claire-element-id="81961">Vous savez vous servir des modèles, mais vos codes sont redondants ? Alors ce chapitre est fait pour vous ! Nous allons étendre les possibilités de la classe Model pour y intégrer les méthodes CRUD.</p><p id="r-81962" data-claire-element-id="81962">Ainsi, chaque nouveau modèle créé sera équipé de cinq méthodes par défaut.</p>
</div><a name="Lathorie"></a><h2>La théorie</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">
<span class="arrow"></span>
<span class="next">Modification de la classe Model : le CRUD</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
<span class="next">Création du prototype</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-theorie-7" data-claire-element-id="81982">La théorie</h4><p id="r-81963" data-claire-element-id="81963">Pour atteindre notre objectif, nous devrons créer une classe qui héritera de la classe Model. Nous l'appellerons MY_Model de façon à ce qu'elle soit inclue automatiquement lorsque nous chargerons la classe Model.</p><aside id="r-81965" data-claire-element-id="81965" data-claire-semantic="information"><p id="r-81964" data-claire-element-id="81964">Dans le cas où vous lisez ce tutoriel dans le désordre, le suffixe <strong>MY_</strong> permet de surcharger les fonctionnalités d'une classe. Référez-vous au chapitre concernant le profiler si vous n'avez jamais fait cela.</p></aside><p id="r-81966" data-claire-element-id="81966">Voici un schéma de ce que nous allons faire.</p><figure id="r-81968" data-claire-element-id="81969"><img id="r-81967" data-claire-element-id="81967" src="medias/uploads.siteduzero.com_files_248001_249000_248686.png" alt="Image utilisateur"/></figure><p id="r-81970" data-claire-element-id="81970">Comme vous le voyez, le principe est d'ajouter une classe entre Model et tous les autres modèles que vous allez créer. Comme cela, si vos modèles héritent de MY_Model, vous aurez accès aux méthodes de cette classe-ci sans pour autant créer autre chose qu'un modèle.</p><div id="r-81972" data-claire-element-id="81972" data-claire-semantic="question"><p id="r-81971" data-claire-element-id="81971">Mais alors, nous devrons spécifier à chaque fois le nom de la table pour toutes nos requêtes ?</p></div><p id="r-81973" data-claire-element-id="81973">Non, mes amis ! Souvenez-vous du rôle du modèle et l'environnement dans lequel vous développez. Un modèle sert à proposer un ensemble de méthodes pour <strong>une seule table</strong>. Et nous sommes en programmation orientée objet. On peut donc créer un attribut dans chaque modèle qui sauvegardera le nom de la table auquel ses méthodes se réfèrent.</p><p id="r-81974" data-claire-element-id="81974">Exemple : voici deux modèles qui diffèrent uniquement par le nom de la table.</p><pre id="r-81975" data-claire-element-id="81975"><code data-claire-semantic="html+php">&lt;?php

class User_model extends MY_Model
{
	protected $table = 'users';
}</code></pre><pre id="r-81976" data-claire-element-id="81976"><code data-claire-semantic="html+php">&lt;?php

class News_model extends MY_Model
{
	protected $table = 'news';
}</code></pre><aside id="r-81978" data-claire-element-id="81978" data-claire-semantic="warning"><p id="r-81977" data-claire-element-id="81977">Notez bien que les deux classes héritent de My_Model.</p></aside><p id="r-81979" data-claire-element-id="81979">Voici comment nous appellerons ces modèles :</p><pre id="r-81980" data-claire-element-id="81980"><code data-claire-semantic="html+php">&lt;?php

public function index()
{
	//	Nous chargeons les deux modèles
	$this-&gt;load-&gt;model('user_model', 'userManager');
	$this-&gt;load-&gt;model('news_model', 'newsManager');
	
	//	Nous utiliserons une méthode du CRUD pour chacun des deux modèles
	$nb_membre = $this-&gt;userManager-&gt;count();
	$nb_news   = $this-&gt;newsManager-&gt;count();
}</code></pre><p id="r-81981" data-claire-element-id="81981">La même méthode retournera donc des valeurs différentes car elle se basera sur l'attribut $table. Cette variable étant différente, il est normal que la requête retourne des valeurs différentes (à moins d'avoir le même nombre de membres que de news :-° ).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">
<span class="arrow"></span>
<span class="next">Modification de la classe Model : le CRUD</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
<span class="next">Création du prototype</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crationduprototype"></a><h2>Création du prototype</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
<span class="arrow"></span>
<span class="next">La théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
<span class="next">Implémentation des méthodes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-du-prototype" data-claire-element-id="81995">Création du prototype</h4><p id="r-81983" data-claire-element-id="81983">Maintenant, nous allons créer le prototype de cette fonction. J'ai volontairement séparé le prototype et l'implémentation car vous n'êtes pas obligés d'écrire les mêmes méthodes que moi. Tout dépend des besoins que vous avez et de la base de données que vous utilisez.</p><p id="r-81984" data-claire-element-id="81984">Nous allons donc créer un fichier MY_Model.php dans le dossier ./application/core/.</p><p id="r-81985" data-claire-element-id="81985">Voici le prototype :</p><pre id="r-81986" data-claire-element-id="81986"><code data-claire-semantic="html+php">&lt;?php  if ( ! defined('BASEPATH')) exit('No direct script access allowed');

// -----------------------------------------------------------------------------

class MY_Model extends CI_Model
{
	/**
	 *	Insère une nouvelle ligne dans la base de données.
	 */
	public function create()
	{
		
	}

	/**
	 *	Récupère des données dans la base de données.
	 */
	public function read()
	{
		
	}
	
	/**
	 *	Modifie une ou plusieurs lignes dans la base de données.
	 */
	public function update()
	{		
		
	}
	
	/**
	 *	Supprime une ou plusieurs lignes de la base de données.
	 */
	public function delete()
	{
		
	}

	/**
	 *	Retourne le nombre de résultats.
	 */
	public function count()
	{
		
	}
}

/* End of file MY_Model.php */
/* Location: ./system/application/core/MY_Model.php */</code></pre><p id="r-81987" data-claire-element-id="81987">Vous remarquez que j'utilise aussi une méthode count, il ne s'agit donc pas d'un CRUD strict.</p><aside id="r-81993" data-claire-element-id="81993" data-claire-semantic="information"><ul id="r-81992" data-claire-element-id="81992"><li id="r-81989" data-claire-element-id="81989"><p id="r-81988" data-claire-element-id="81988">Vous pouvez aussi écrire toutes les méthodes que vous voulez, mais elles ne doivent pas être spécifiques à une table en particulier (ou à un modèle, si vous préférez), sinon, vous perdrez tout l'intérêt.</p></li><li id="r-81991" data-claire-element-id="81991"><p id="r-81990" data-claire-element-id="81990"><a href="http://pyrocms.com/">PyroCMS</a> est un CMS développé avec CodeIgniter et surcharge lui aussi le modèle natif. Mais il va même plus loin et ajoute de nombreuses fonctions. Vous trouverez le fichier en question sur <a href="https://github.com/pyrocms/pyrocms/blob/master/system/pyrocms/core/MY_Model.php">cette page</a>. Regarder le code d'autres développeurs peut parfois être très instructif.</p></li></ul></aside><p id="r-81994" data-claire-element-id="81994">Maintenant que cela est fait, nous pouvons implémenter toutes ces méthodes.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
<span class="arrow"></span>
<span class="next">La théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
<span class="next">Implémentation des méthodes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Implmentationdesmthodes"></a><h2>Implémentation des méthodes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
<span class="arrow"></span>
<span class="next">Création du prototype</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">
<span class="next">Mise en place des thèmes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-implementation-des-methodes" data-claire-element-id="82037">Implémentation des méthodes</h4><p id="r-81996" data-claire-element-id="81996">Nous allons maintenant remplir les méthodes que nous avons vues.</p><p id="r-81997" data-claire-element-id="81997">Pour effectuer nos requêtes, nous utiliserons Active Record de la bibliothèque database. Ce sera une occasion de plus de vous y familiariser. Pour rappel, la documentation se trouve à <a href="http://codeigniter.com/user_guide/database/index.html">cette adresse</a> (plus exactement <a href="http://codeigniter.com/user_guide/database/active_record.html">ici</a>).</p><p id="r-81998" data-claire-element-id="81998">J'utiliserai le modèle suivant pour les tests :</p><pre id="r-81999" data-claire-element-id="81999"><code data-claire-semantic="html+php">&lt;?php

class User_model extends MY_Model
{
	protected $table = 'users';
}</code></pre><h5 id="r-la-methode-count" data-claire-element-id="82014">La méthode count</h5><p id="r-82000" data-claire-element-id="82000">Nous allons commencer par la méthode count car c'est la plus compliquée. :diable:</p><p id="r-82001" data-claire-element-id="82001">Voici ce que nous voulons pouvoir faire depuis notre contrôleur.</p><pre id="r-82002" data-claire-element-id="82002"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;model('user_model', 'userManager');
	
	//	Le nombre d'entrées dans la table du modèle userManager
	$nb_membres = $this-&gt;userManager-&gt;count();
	
	//	Une seule condition
	$nb_messages = $this-&gt;userManager-&gt;count('pseudo', 'Arthur');
	
	//	Multiples conditions
	$option = array();
	$option['titre']  = 'Mon Super Titre';
	$option['auteur'] = 'Arthur';
	$nb_messages_deux = $this-&gt;userManager-&gt;count($option);
}</code></pre><p id="r-82003" data-claire-element-id="82003">La méthode count fonctionnera selon les trois cas suivants.</p><ul id="r-82010" data-claire-element-id="82010"><li id="r-82005" data-claire-element-id="82005"><p id="r-82004" data-claire-element-id="82004">Absence de paramètre : la méthode renvoie le nombre total d'entrées dans la table.</p></li><li id="r-82007" data-claire-element-id="82007"><p id="r-82006" data-claire-element-id="82006">Deux chaînes de caractères : le premier est le nom du champ, le second est sa valeur.</p></li><li id="r-82009" data-claire-element-id="82009"><p id="r-82008" data-claire-element-id="82008">Un tableau associatif en premier paramètre pour indiquer plusieurs conditions.</p></li></ul><p id="r-82011" data-claire-element-id="82011">Pour faire cela, nous utiliserons la méthode count_all_results. Mais avant de l'utiliser, il faut sélectionner nos conditions ; vous allez voir, c'est très lisible, comme requête.</p><pre id="r-82012" data-claire-element-id="82012"><code data-claire-semantic="html+php">&lt;?php

public function count($champ = array(), $valeur = null) // Si $champ est un array, la variable $valeur sera ignorée par la méthode where()
{
	return (int) $this-&gt;db-&gt;where($champ, $valeur)
                              -&gt;from($this-&gt;table)
                              -&gt;count_all_results();
}</code></pre><p id="r-82013" data-claire-element-id="82013">Dans le cas où vous n'avez pas spécifié de paramètre, la méthode where sera ignorée car elle recevra un tableau vide.</p><h5 id="r-le-methode-create" data-claire-element-id="82021">Le méthode create</h5><p id="r-82015" data-claire-element-id="82015">Au tour de la méthode create. Cette méthode est plus simple. Voici comment elle fonctionne :</p><pre id="r-82016" data-claire-element-id="82016"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;model('user_model', 'userManager');

	$options_echappees = array();
	$options_echappees['pseudo'] = 'Arthur';
	$options_echappees['mot_de_passe'] = 'bonjour';

	$options_non_echappees = array();
	$options_non_echappees['date_inscription'] = 'NOW()';
		
	//	Renvoie false car les paramètres sont vides
	$resultat = $this-&gt;userManager-&gt;create();
		
	//	Renvoie true sans sauvegarder la date
	$resultat = $this-&gt;userManager-&gt;create($options_echappees);

	//	Renvoie true en sauvegardant la date comme une fonction SQL
	$resultat = $this-&gt;userManager-&gt;create($options_echappees, $options_non_echappees);
}</code></pre><p id="r-82017" data-claire-element-id="82017">Vous remarquez que nous avons deux types de données à insérer : les données échappées et celles non échappées. Pour l'expliquer simplement, j'ai pris l'exemple de la fonction SQL NOW(). Si NOW() est dans le premier tableau, elle sera considérée comme une chaîne de caractères, mais si elle se trouve dans le second tableau, alors elle sera interprétée. Il faut donc faire très attention au contenu du second tableau.</p><p id="r-82018" data-claire-element-id="82018">Je vous donne tout de suite le code de cette méthode :</p><pre id="r-82019" data-claire-element-id="82019"><code data-claire-semantic="html+php">&lt;?php

public function create($options_echappees = array(), $options_non_echappees = array())
{
	//	Vérification des données à insérer
	if(empty($options_echappees) AND empty($options_non_echappees))
	{
		return false;
	}
	
	return (bool) $this-&gt;db-&gt;set($options_echappees)
                               -&gt;set($options_non_echappees, null, false)
                               -&gt;insert($this-&gt;table);
}</code></pre><p id="r-82020" data-claire-element-id="82020">Comme vous le voyez, le troisième argument de la méthode permet de désactiver l'échappement des caractères. C'est ce que nous faisons avec le tableau $options_non_echappees.<br/> Lorsque la méthode set reçoit un tableau vide, elle ne fait rien, cela permet donc de simplifier le code au maximum.</p><h5 id="r-la-methode-update" data-claire-element-id="82026">La méthode update</h5><p id="r-82022" data-claire-element-id="82022">La méthode update possède trois paramètres. Le premier est la condition. Par exemple, ce pourrait être un tableau associatif tel que celui-ci : <code data-claire-semantic="html+php">&lt;?php $where = array('pseudo' =&gt; 'Arthur', 'mot_de_passe' =&gt; 'bonjour');</code><br/> Mais dans le cas où c'est un entier qui est donné en paramètre, alors on considérera qu'il s'agit d'un id.</p><p id="r-82023" data-claire-element-id="82023">Les deux autres paramètres sont les mêmes que pour la méthode create : deux tableaux, dont l'un sera échappé et l'autre non. Voici son code :</p><pre id="r-82024" data-claire-element-id="82024"><code data-claire-semantic="html+php">&lt;?php

public function update($where, $options_echappees = array(), $options_non_echappees = array())
{		
	//	Vérification des données à mettre à jour
	if(empty($options_echappees) AND empty($options_non_echappees))
	{
		return false;
	}
	
	//	Raccourci dans le cas où on sélectionne l'id
	if(is_integer($where))
	{
		$where = array('id' =&gt; $where);
	}

	return (bool) $this-&gt;db-&gt;set($options_echappees)
                               -&gt;set($options_non_echappees, null, false)
                               -&gt;where($where)
                               -&gt;update($this-&gt;table);

}</code></pre><p id="r-82025" data-claire-element-id="82025">Le code est très parlant. C'est le même que pour la méthode create, mais dans ce cas-ci, puisque nous faisons des modifications, il faut ajouter la méthode where, sinon la base de données subira la modification pour toutes les entrées.</p><h5 id="r-la-methode-delete" data-claire-element-id="82029">La méthode delete</h5><p id="r-82027" data-claire-element-id="82027">Celle-ci est la plus simple. Elle ne prend qu'un seul paramètre : $where. Cette variable peut être un tableau associatif ou un entier (il sera alors considéré comme la valeur du champ id).</p><pre id="r-82028" data-claire-element-id="82028"><code data-claire-semantic="html+php">&lt;?php

public function delete($where)
{
	if(is_integer($where))
	{
		$where = array('id' =&gt; $where);
	}
	
	return (bool) $this-&gt;db-&gt;where($where)
                               -&gt;delete($this-&gt;table);
}</code></pre><h5 id="r-la-methode-read" data-claire-element-id="82036">La méthode read</h5><p id="r-82030" data-claire-element-id="82030">La méthode read n'a pas beaucoup d'intérêt car elle est très complexe. Autrement dit, si vous voulez effectuer une requête un tout petit peu plus élaborée qu'une simple lecture de la base de données, vous serez bloqués. Je vous ai quand même implémenté cette méthode, mais on ne gagne pas vraiment de temps en l'utilisant.</p><pre id="r-82031" data-claire-element-id="82031"><code data-claire-semantic="html+php">&lt;?php
public function read($select = '*', $where = array(), $nb = null, $debut = null)
{
	return $this-&gt;db-&gt;select($select)
                        -&gt;from($this-&gt;table)
                        -&gt;where($where)
                        -&gt;limit($nb, $debut)
                        -&gt;get()
                        -&gt;result();
}</code></pre><p id="r-82032" data-claire-element-id="82032">Ce chapitre est l'un des plus complexes car il fait appel à des notions compliquées de POO, mais si en plus vous avez des lacunes en SQL, vous aurez beaucoup de difficultés. La classe que propose CodeIgniter pour effectuer des requêtes est très puissante.</p><p id="r-82033" data-claire-element-id="82033">Cependant, il faut aussi savoir que vous ne pourrez pas faire toutes vos requêtes avec lui. Parfois, lancer ses requêtes « à l'ancienne » peut s'avérer plus clair.</p><pre id="r-82034" data-claire-element-id="82034"><code data-claire-semantic="html+php">&lt;?php

$r = $this-&gt;db-&gt;query('la requete');</code></pre><p id="r-82035" data-claire-element-id="82035">Nous venons encore une fois de démontrer que CodeIgniter est un <em>framework</em> très extensible. Avec un peu d'inspiration, nous avons réalisé un système très robuste qui supprime toute redondance dans nos modèles.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
<span class="arrow"></span>
<span class="next">Création du prototype</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">
<span class="next">Mise en place des thèmes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Miseenplacedesthmes"></a><h2>Mise en place des thèmes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
<span class="arrow"></span>
<span class="next">Implémentation des méthodes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
<span class="next">Présentation de l&#039;idée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-82039" data-claire-element-id="82039">Dans ce chapitre, nous créerons une bibliothèque gérant les différents thèmes de votre site. Dans la plupart des sites, il y a toujours une partie qui ne change pas. Cela se traduit souvent par une inclusion de vue comme ceci :</p><pre id="r-82040" data-claire-element-id="82040"><code data-claire-semantic="html+php">&lt;?php

//    Les vues qui seront tout le temps inclues
$this-&gt;load-&gt;view('header.php');
$this-&gt;load-&gt;view('menu_gauche.php');
$this-&gt;load-&gt;view('menu_droite.php');

//    L'unique partie du site qui change
$this-&gt;load-&gt;view('ma_vue.php');

//    La fermeture des balises ouvertes dans les premières vues
$this-&gt;load-&gt;view('pied_de_page.php');</code></pre><p id="r-82041" data-claire-element-id="82041">Nous allons créer une bibliothèque qui nous permettra de gérer tout cela bien plus facilement.</p>
</div><a name="Prsentationdel039ide"></a><h2>Présentation de l&#039;idée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">
<span class="arrow"></span>
<span class="next">Mise en place des thèmes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
<span class="next">Implémentation des méthodes view et views</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-presentation-de-l-idee" data-claire-element-id="82053">Présentation de l'idée</h4><p id="r-82042" data-claire-element-id="82042">Nous allons chercher à déléguer tout ce qui concerne l'inclusion de la partie fixe du site à une bibliothèque. C'est cette partie fixe qu'il va falloir créer. Vous devrez donc réunir en un seul fichier votre en-tête, vos menus et vos pieds de page, un peu comme ceci :</p><pre id="r-82043" data-claire-element-id="82043"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 
	&lt;head&gt;

	&lt;/head&gt;

	&lt;body&gt;
		&lt;div id=&quot;contenu&quot;&gt;
			&lt;?php echo $output; ?&gt;
		&lt;/div&gt;
	&lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-82044" data-claire-element-id="82044">La variable $output est le contenu changeant de la page. Ce fichier est appelé un <em>layout</em> (en français, cela donnerait quelque chose comme « patron »).</p><p id="r-82045" data-claire-element-id="82045">Nous souhaitons donc pouvoir charger une ou plusieurs vues, les assembler et montrer le contenu là où nous affichons la variable $output.</p><p id="r-82046" data-claire-element-id="82046">Nous allons créer les fichiers nécessaires pour cela. Dans un premier temps, il nous faut la bibliothèque : je l'appellerai Layout. Il nous faudra ainsi un fichier layout.php dans le dossier ./application/libraries/.</p><p id="r-82047" data-claire-element-id="82047">Puis il nous faut nos fichiers « layout ». Je les ai placés dans un dossier themes, lui-même situé dans le dossier ./application. Je considère que les layouts sont des composants plutôt fondamentaux, au même titre que les pages d'erreur. Ce ne sont pas vraiment des vues, mais elles contiennent quand même du code HTML. Libre à vous de les placer où vous le souhaitez, bien entendu. Dans ce dossier, j'ai créé un fichier default.php contenant le code ci-dessus.</p><p id="r-82048" data-claire-element-id="82048">Avant de commencer à coder, voici le fichier de démarrage de cette bibliothèque :</p><pre id="r-82049" data-claire-element-id="82049"><code data-claire-semantic="html+php">&lt;?php if (!defined('BASEPATH')) exit('No direct script access allowed');

class Layout
{
	private $CI;
	private $output = '';
	
/*
|===============================================================================
| Constructeur
|===============================================================================
*/
	
	public function __construct()
	{
		$this-&gt;CI = get_instance();
	}
	
/*
|===============================================================================
| Méthodes pour charger les vues
|	. view
|	. views
|===============================================================================
*/
	
	public function view($name, $data = array())
	{
		
	}
	
	public function views($name, $data = array())
	{
		
	}
}

/* End of file layout.php */
/* Location: ./application/libraries/layout.php */</code></pre><p id="r-82050" data-claire-element-id="82050">Nous possédons deux attributs et trois méthodes.</p><p id="r-82051" data-claire-element-id="82051">L'attribut $CI est la valeur de retour de la fonction get_instance. L'attribut $output est le contenu HTML qui sera inséré dans le layout.</p><p id="r-82052" data-claire-element-id="82052">Le constructeur nous permettra d'initialiser les attributs. Le deux autres méthodes nous permettront d'inclure des vues, dont le contenu sera ajouté à l'attribut $output.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">
<span class="arrow"></span>
<span class="next">Mise en place des thèmes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
<span class="next">Implémentation des méthodes view et views</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Implmentationdesmthodesviewetviews"></a><h2>Implémentation des méthodes view et views</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;idée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
<span class="next">Les variables du layout</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-implementation-des-methodes-view-et-views" data-claire-element-id="82076">Implémentation des méthodes view et views</h4><h5 id="r-difference-entre-les-deux-methodes" data-claire-element-id="82060">Différence entre les deux méthodes</h5><p id="r-82054" data-claire-element-id="82054">Nous sommes obligés de créer deux méthodes pour inclure nos vues, car il doit être possible d'inclure plusieurs vues sans inclure autant de fois le layout.</p><ul id="r-82059" data-claire-element-id="82059"><li id="r-82056" data-claire-element-id="82056"><p id="r-82055" data-claire-element-id="82055">view permet d'afficher une vue dans un layout.</p></li><li id="r-82058" data-claire-element-id="82058"><p id="r-82057" data-claire-element-id="82057">views permet de sauvegarder le contenu d'une ou plusieurs vues dans une variable, sans l'afficher immédiatement. Pour l'affichage, il faudra utiliser la méthode view.</p></li></ul><h5 id="r-implementation-de-la-methode-views" data-claire-element-id="82067">Implémentation de la méthode views</h5><p id="r-82061" data-claire-element-id="82061">Cette méthode recevra le nom de la vue à inclure dans l'attribut $output.</p><aside id="r-82063" data-claire-element-id="82063" data-claire-semantic="information"><p id="r-82062" data-claire-element-id="82062">Rappel : le troisième paramètre de la méthode view de la bibliothèque Load permet de retourner le contenu de la vue sans l'afficher.</p></aside><pre id="r-82064" data-claire-element-id="82064"><code data-claire-semantic="html+php">&lt;?php

public function views($name, $data = array())
{
	$this-&gt;output .= $this-&gt;CI-&gt;load-&gt;view($name, $data, true);
	return $this;
}</code></pre><aside id="r-82066" data-claire-element-id="82066" data-claire-semantic="information"><p id="r-82065" data-claire-element-id="82065">Retourner l'instance de Layout permet l'exécution de plusieurs méthodes à la chaîne.</p></aside><h5 id="r-implementation-de-la-methode-view" data-claire-element-id="82075">Implémentation de la méthode view</h5><p id="r-82068" data-claire-element-id="82068">La méthode view est un peu plus compliquée. Il faut dans un premier temps ajouter le contenu HTML à l'attribut $output. Mais en plus, il faut inclure le layout juste après.</p><pre id="r-82069" data-claire-element-id="82069"><code data-claire-semantic="html+php">&lt;?php

public function view($name, $data = array())
{
	$this-&gt;output .= $this-&gt;CI-&gt;load-&gt;view($name, $data, true);
	
	$this-&gt;CI-&gt;load-&gt;view('../themes/default', array('output' =&gt; $this-&gt;output));
}</code></pre><p id="r-82070" data-claire-element-id="82070">Vous pouvez maintenant afficher votre vue à l'intérieur du layout.</p><pre id="r-82071" data-claire-element-id="82071"><code data-claire-semantic="html+php">&lt;?php

public function accueil()
{
	$this-&gt;load-&gt;library('layout');
	
	$this-&gt;layout-&gt;views('premiere_vue')
		     -&gt;views('deuxieme_vue')
		     -&gt;view('derniere_vue');
}</code></pre><p id="r-82072" data-claire-element-id="82072">Cela permet d'éviter la redondance du code.</p><p id="r-82073" data-claire-element-id="82073">Sauf… qu'il subsiste un problème. Maintenant, vous n'avez plus accès à tout ce qui se passe dans votre balise &lt;head&gt;. Vous ne pourrez donc plus donner de titre à votre page, ni inclure de fichier CSS, etc.</p><p id="r-82074" data-claire-element-id="82074">Nous allons remédier à cela tout de suite.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
<span class="arrow"></span>
<span class="next">Présentation de l&#039;idée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
<span class="next">Les variables du layout</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesvariablesdulayout"></a><h2>Les variables du layout</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
<span class="arrow"></span>
<span class="next">Implémentation des méthodes view et views</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
<span class="next">Ajouter le CSS et le JavaScript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-variables-du-layout" data-claire-element-id="82093">Les variables du layout</h4><p id="r-82077" data-claire-element-id="82077">Il n'y a qu'un seul moyen pour transmettre des variables au layout : ajouter des variables dans le tableau au moment où on inclut le layout.</p><p id="r-82078" data-claire-element-id="82078">Pour cela, au lieu de créer uniquement un attribut $output, nous allons créer un tableau que nous transmettrons au layout au moment de l'inclusion.</p><p id="r-82079" data-claire-element-id="82079">Voici donc la nouvelle version de notre classe Layout :</p><pre id="r-82080" data-claire-element-id="82080"><code data-claire-semantic="html+php">&lt;?php if (!defined('BASEPATH')) exit('No direct script access allowed');

class Layout
{
	private $CI;
	private $var = array();
	
/*
|===============================================================================
| Constructeur
|===============================================================================
*/
	
	public function __construct()
	{
		$this-&gt;CI = get_instance();
		
		$this-&gt;var['output'] = '';
	}
	
/*
|===============================================================================
| Méthodes pour charger les vues
|	. view
|	. views
|===============================================================================
*/
	
	public function view($name, $data = array())
	{
		$this-&gt;var['output'] .= $this-&gt;CI-&gt;load-&gt;view($name, $data, true);
		
		$this-&gt;CI-&gt;load-&gt;view('../themes/default', $this-&gt;var);
	}
	
	public function views($name, $data = array())
	{
		$this-&gt;var['output'] .= $this-&gt;CI-&gt;load-&gt;view($name, $data, true);
		return $this;
	}
}</code></pre><p id="r-82081" data-claire-element-id="82081">Maintenant que nous avons défini un tableau en attribut, nous allons pouvoir y ajouter des valeurs à l'aide de méthodes.</p><p id="r-82082" data-claire-element-id="82082">Nous allons ajouter les variables $titre et $charset. Ce n'est qu'un exemple, à vous de voir les variables que vous désirez utiliser.</p><p id="r-82083" data-claire-element-id="82083">Les deux variables seront initialisées au constructeur. Elles pourront être modifiées par deux méthodes. Le titre par défaut sera composé du nom de la méthode du contrôleur et du nom du contrôleur, séparés par un tiret. Pour cela, nous allons utiliser les attributs de la bibliothèque Router. La variable $charset permettra l'affichage des caractères dans le bon encodage. Elle sera initialisée avec la même valeur que celle définie dans le fichier ./application/config/config.php.</p><aside id="r-82085" data-claire-element-id="82085" data-claire-semantic="information"><p id="r-82084" data-claire-element-id="82084">Pour récupérer un élément de la configuration, vous devez utiliser la bibliothèque Config. Pour cela, il existe la méthode item qui prend en paramètre le nom de la clé de configuration.</p></aside><p id="r-82086" data-claire-element-id="82086">Voici notre nouveau constructeur :</p><pre id="r-82087" data-claire-element-id="82087"><code data-claire-semantic="html+php">&lt;?php

public function __construct()
{
	$this-&gt;CI =&amp; get_instance();
	
	$this-&gt;var['output'] = '';
	
	//	Le titre est composé du nom de la méthode et du nom du contrôleur
	//	La fonction ucfirst permet d'ajouter une majuscule
	$this-&gt;var['titre'] = ucfirst($this-&gt;CI-&gt;router-&gt;fetch_method()) . ' - ' . ucfirst($this-&gt;CI-&gt;router-&gt;fetch_class());
	
	//	Nous initialisons la variable $charset avec la même valeur que
	//	la clé de configuration initialisée dans le fichier config.php
	$this-&gt;var['charset'] = $this-&gt;CI-&gt;config-&gt;item('charset');
}</code></pre><p id="r-82088" data-claire-element-id="82088">Et voici mon layout modifié :</p><pre id="r-82089" data-claire-element-id="82089"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 
	&lt;head&gt;
		&lt;title&gt;&lt;?php echo $titre; ?&gt;&lt;/title&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&lt;?php echo $charset; ?&gt;&quot; /&gt;
	&lt;/head&gt;

	&lt;body&gt;
		&lt;div id=&quot;contenu&quot;&gt;
			&lt;?php echo $output; ?&gt;
		&lt;/div&gt;
	&lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-82090" data-claire-element-id="82090">Il nous faut maintenant créer deux méthodes qui nous permettront de modifier ces valeurs.</p><pre id="r-82091" data-claire-element-id="82091"><code data-claire-semantic="html+php">&lt;?php

/*
|===============================================================================
| Méthodes pour modifier les variables envoyées au layout
|	. set_titre
|	. set_charset
|===============================================================================
*/
public function set_titre($titre)
{
	if(is_string($titre) AND !empty($titre))
	{
		$this-&gt;var['titre'] = $titre;
		return true;
	}
	return false;
}

public function set_charset($charset)
{
	if(is_string($charset) AND !empty($charset))
	{
		$this-&gt;var['charset'] = $charset;
		return true;
	}
	return false;
}</code></pre><p id="r-82092" data-claire-element-id="82092">Désormais, nous pourrons modifier le titre de la page et son encodage depuis le contrôleur.<br/> Nous allons maintenant aborder l'inclusion des feuilles de style CSS et de code JavaScript.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
<span class="arrow"></span>
<span class="next">Implémentation des méthodes view et views</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
<span class="next">Ajouter le CSS et le JavaScript</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="AjouterleCSSetleJavaScript"></a><h2>Ajouter le CSS et le JavaScript</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
<span class="arrow"></span>
<span class="next">Les variables du layout</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
<span class="next">Modifier son thème</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajouter-le-css-et-le-javascript" data-claire-element-id="82105">Ajouter le CSS et le JavaScript</h4><h5 id="r-les-methodes-ajouter-css-et-ajouter-js" data-claire-element-id="82100">Les méthodes ajouter_css et ajouter_js</h5><p id="r-82094" data-claire-element-id="82094">Pour ajouter ces fichiers, nous allons les sauvegarder dans deux tableaux. Ensuite, ce sera au layout de faire une boucle qui parcourra tous les liens que nous avons sauvegardés.</p><p id="r-82095" data-claire-element-id="82095">Nous devons donc créer les tableaux dans le constructeur.</p><pre id="r-82096" data-claire-element-id="82096"><code data-claire-semantic="html+php">&lt;?php

public function __construct()
{
	$this-&gt;CI =&amp; get_instance();
	
	$this-&gt;var['output'] = '';
	
	//	Le titre est composé du nom de la méthode et du nom du contrôleur
	//	La fonction ucfirst permet d'ajouter une majuscule
	$this-&gt;var['titre'] = ucfirst($this-&gt;CI-&gt;router-&gt;fetch_method()) . ' - ' . ucfirst($this-&gt;CI-&gt;router-&gt;fetch_class());
	
	//	Nous initialisons la variable $charset avec la même valeur que
	//	la clé de configuration initialisée dans le fichier config.php
	$this-&gt;var['charset'] = $this-&gt;CI-&gt;config-&gt;item('charset');
	
	$this-&gt;var['css'] = array();
	$this-&gt;var['js'] = array();
}</code></pre><p id="r-82097" data-claire-element-id="82097">Voici les méthodes (j'ai utilisé les fonctions du helper assets) :</p><pre id="r-82098" data-claire-element-id="82098"><code data-claire-semantic="html+php">&lt;?php

/*
|===============================================================================
| Méthodes pour ajouter des feuilles de CSS et de JavaScript
|	. ajouter_css
|	. ajouter_js
|===============================================================================
*/
public function ajouter_css($nom)
{
	if(is_string($nom) AND !empty($nom) AND file_exists('./assets/css/' . $nom . '.css'))
	{
		$this-&gt;var['css'][] = css_url($nom);
		return true;
	}
	return false;
}

public function ajouter_js($nom)
{
	if(is_string($nom) AND !empty($nom) AND file_exists('./assets/javascript/' . $nom . '.js'))
	{
		$this-&gt;var['js'][] = js_url($nom);
		return true;
	}
	return false;
}</code></pre><p id="r-82099" data-claire-element-id="82099">Ces deux méthodes permettront donc d'ajouter, depuis le contrôleur, des feuilles de style ou des scripts JavaScript.</p><h5 id="r-affichage-des-liens-dans-le-layout" data-claire-element-id="82104">Affichage des liens dans le layout</h5><p id="r-82101" data-claire-element-id="82101">Nous allons effectuer deux boucles foreach pour inclure les liens du tableau CSS et les liens du tableau JavaScript.</p><pre id="r-82102" data-claire-element-id="82102"><code data-claire-semantic="html+php">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt; 
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt; 
	&lt;head&gt;
		&lt;title&gt;&lt;?php echo $titre; ?&gt;&lt;/title&gt;
		&lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=&lt;?php echo $charset; ?&gt;&quot; /&gt;
&lt;?php foreach($css as $url): ?&gt;
		&lt;link rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; href=&quot;&lt;?php echo $url; ?&gt;&quot; /&gt;
&lt;?php endforeach; ?&gt;

	&lt;/head&gt;

	&lt;body&gt;
		&lt;div id=&quot;contenu&quot;&gt;
			&lt;?php echo $output; ?&gt;
		&lt;/div&gt;
		
&lt;?php foreach($js as $url): ?&gt;
		&lt;script type=&quot;text/javascript&quot; src=&quot;&lt;?php echo $url; ?&gt;&quot;&gt;&lt;/script&gt; 
&lt;?php endforeach; ?&gt;

	&lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-82103" data-claire-element-id="82103">Notre système de layout est maintenant terminé. Cependant, il est dommage de se limiter à un unique layout : il pourrait être intéressant d'en changer… Allons-y.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
<span class="arrow"></span>
<span class="next">Les variables du layout</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
<span class="next">Modifier son thème</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifiersonthme"></a><h2>Modifier son thème</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
<span class="arrow"></span>
<span class="next">Ajouter le CSS et le JavaScript</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modifier-son-theme" data-claire-element-id="82133">Modifier son thème</h4><p id="r-82106" data-claire-element-id="82106">Vous avez peut-être envie de changer de fichier layout lorsque vous vous trouvez sur un contrôleur spécifique. Avec notre système, c'est actuellement impossible. Pourtant, c'est très simple à mettre en place. Il nous faut :</p><ul id="r-82113" data-claire-element-id="82113"><li id="r-82108" data-claire-element-id="82108"><p id="r-82107" data-claire-element-id="82107">un attribut pour stocker le nom du layout que l'on veut charger ;</p></li><li id="r-82110" data-claire-element-id="82110"><p id="r-82109" data-claire-element-id="82109">une méthode pour modifier le nom de ce layout. Nous en profiterons pour faire une vérification de l'existence du fichier ;</p></li><li id="r-82112" data-claire-element-id="82112"><p id="r-82111" data-claire-element-id="82111">une modification dans la méthode view : il faut lui dire de prendre en compte le bon layout.</p></li></ul><h5 id="r-mise-en-place-de-l-attribut" data-claire-element-id="82116">Mise en place de l'attribut</h5><pre id="r-82114" data-claire-element-id="82114"><code data-claire-semantic="html+php">&lt;?php

private $theme = 'default';</code></pre><p id="r-82115" data-claire-element-id="82115">Nous créons un simple attribut que nous initialisons avec le thème par défaut. À noter : le thème ne doit pas apparaître dans le tableau de variables car il ne doit pas être utilisé par le layout.</p><h5 id="r-modification-de-la-methode-view" data-claire-element-id="82119">Modification de la méthode view</h5><p id="r-82117" data-claire-element-id="82117">Pour cette étape, il nous faut remplacer le nom du layout que nous avons fixé par le nom que contient l'attribut $theme.</p><pre id="r-82118" data-claire-element-id="82118"><code data-claire-semantic="html+php">&lt;?php

public function view($name, $data = array())
{
	$this-&gt;var['output'] .= $this-&gt;CI-&gt;load-&gt;view($name, $data, true);
	
	$this-&gt;CI-&gt;load-&gt;view('../themes/' . $this-&gt;theme, $this-&gt;var);
}</code></pre><h5 id="r-mise-en-place-de-la-methode-set-theme" data-claire-element-id="82130">Mise en place de la méthode set_theme</h5><p id="r-82120" data-claire-element-id="82120">Cette méthode nous permettra de modifier le thème actuel. Elle ne prendra qu'un seul paramètre : le nom du layout à charger. S'il est incorrect, on ne modifie pas l'attribut.</p><pre id="r-82121" data-claire-element-id="82121"><code data-claire-semantic="html+php">&lt;?php

public function set_theme($theme)
{
	if(is_string($theme) AND !empty($theme) AND file_exists('./application/themes/' . $theme . '.php'))
	{
		$this-&gt;theme = $theme;
		return true;
	}
	return false;
}</code></pre><p id="r-82122" data-claire-element-id="82122">Nous pourrons maintenant modifier très facilement l'habit du site web. Vous pourrez stocker les préférences de l'utilisateur dans un cookie, par exemple. Vous pourrez aussi modifier très facilement le thème de toutes les pages d'un contrôleur en l'indiquant dans son constructeur.</p><p id="r-82123" data-claire-element-id="82123">Nous en avons terminé avec cette bibliothèque. N'hésitez pas à ajouter des méthodes spécifiques aux layouts !</p><p id="r-82124" data-claire-element-id="82124">Par exemple, dans mon dernier projet, j'ai créé une méthode me permettant d'ajouter rapidement un ou plusieurs <em>frameworks</em> JavaScript.<br/> J'ai aussi mis en place, <em>via</em> le constructeur, un système qui me permettait d'inclure automatiquement une feuille de style CSS. Son chemin était défini en fonction du nom du contrôleur appelé et de sa méthode.</p><p id="r-82125" data-claire-element-id="82125">Ce ne sont que des exemples ; modifiez cette bibliothèque pour qu'elle s'adapte exactement à l'utilisation que souhaitez en faire.</p><p id="r-82126" data-claire-element-id="82126">Je ne sais pas si cela peut vous rassurer, mais j'ai réuni dans cette partie un bon nombre de fonctionnalités bien tordues ! Alors si vous lisez ce texte et que vous avez tout compris, félicitations !</p><p id="r-82127" data-claire-element-id="82127">Ce tutoriel n'est pas encore terminé ! D'autres parties viendront, soyez patients.</p><p id="r-82128" data-claire-element-id="82128">J'espère que CodeIgniter semblera moins mystérieux à tous les Zéros et que l'on trouvera un peu plus de sujets à son propos sur le forum PHP.</p><p id="r-82129" data-claire-element-id="82129">N'hésitez pas à donner vos avis concernant ce tutoriel. Si vous avez besoin d'un chapitre que je n'ai pas écrit, ou que vous avez une idée qu'il pourrait être intéressant de développer, n'hésitez pas à m'envoyer un MP en préfixant votre titre d'un [CI].</p><h5 id="r-remerciements-1" data-claire-element-id="82132">Remerciements</h5><p id="r-82131" data-claire-element-id="82131">Je remercie particulièrement <a href="http://www.siteduzero.com/membres-294-6871.html">gyom</a> pour sa correction et ses idées ainsi que l'équipe des zCorrecteurs qui ont été nombreux à triturer ce tutoriel.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros">CodeIgniter, le framework au service des Zéros</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-notion-de-framework">La notion de framework</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/vous-avez-dit-framework">
Vous avez dit framework ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-framework-codeigniter">
Le framework CodeIgniter
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-architecture-mvc-1">Présentation de l&#039;architecture MVC</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/decouverte-de-l-architecture-mvc">
Découverte de l&#039;architecture MVC
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-14">
Le contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-vues-2">
Les vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-modeles-1">
Les modèles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/resume-6">
Résumé
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/installation-et-configuration">Installation et configuration</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/telechargement-et-installation-1">
Téléchargement et installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-de-l-arborescence">
Mise en place de l&#039;arborescence
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/configurons-codeigniter">
Configurons CodeIgniter
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Mise en place des cinq composants
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-controleur-15">Le contrôleur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-page">
Votre première page
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/fonctionnalites-du-controleur">
Fonctionnalités du contrôleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/methodes-speciales">
Méthodes spéciales
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-vue-12">La vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/votre-premiere-vue">
Votre première vue
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/transferer-vos-variables">
Transférer vos variables
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/quelques-fonctionnalites-sur-les-vues">
Quelques fonctionnalités sur les vues
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-helpers">Les helpers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/charger-et-utiliser-les-helpers">
Charger et utiliser les helpers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-helper-assets">
Création du helper « assets »
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-un-helper">
Modifier un helper
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-bibliotheques-1">Les bibliothèques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/utiliser-une-bibliotheque">
Utiliser une bibliothèque
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-session">
La bibliothèque Session
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-form-validation">
La bibliothèque Form Validation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-bibliotheque-database">
La bibliothèque Database
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/retour-sur-la-fonction-site-url">
Retour sur la fonction site_url
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-14">Le modèle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/anatomie-d-un-modele">
Anatomie d&#039;un modèle
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/le-modele-de-gestion-des-news">
Le modèle de gestion des news
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/tp-un-livre-d-or">[TP] Un livre d&#039;or</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/description-du-livre-d-or">
Description du livre d&#039;or
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/coup-de-pouce">
Coup de pouce
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/correction-33">
Correction
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Utilisations avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/l-outil-profiler">L&#039;outil Profiler</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/activer-le-profiler">
Activer le profiler
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-l-ordre-des-differentes-categories">
Modifier l&#039;ordre des différentes catégories
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-les-sessions">
Ajouter les sessions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-le-design-du-profiler">
Modifier le design du profiler
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modification-de-la-classe-model-le-crud">Modification de la classe Model : le CRUD</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/la-theorie-7">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/creation-du-prototype">
Création du prototype
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes">
Implémentation des méthodes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/mise-en-place-des-themes">Mise en place des thèmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/presentation-de-l-idee">
Présentation de l&#039;idée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/implementation-des-methodes-view-et-views">
Implémentation des méthodes view et views
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/les-variables-du-layout">
Les variables du layout
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
Ajouter le CSS et le JavaScript
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/modifier-son-theme">
Modifier son thème
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/codeigniter-le-framework-au-service-des-zeros/ajouter-le-css-et-le-javascript">
<span class="arrow"></span>
<span class="next">Ajouter le CSS et le JavaScript</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/codeigniter-le-framework-au-service-des-zeros.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:20:19 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/codeigniter-le-framework-au-service-des-zeros.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:17:59 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/allez-plus-loin-avec-les-variables.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:20:45 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/allez-plus-loin-avec-les-variables.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:21:34 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Allez plus loin avec les variables !</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/allez-plus-loin-avec-les-variables.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Allez plus loin avec les variables !</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Allezplusloinaveclesvariables">Allez plus loin avec les variables !</a><br/><a href="#Lesrfrences">Les références</a><br/><a href="#Variablesglobales">Variables globales</a><br/><a href="#Variablesstatiques">Variables statiques</a><br/><a href="#Lesvariablesdefonctions">Les variables de fonctions</a><br/><a href="#Lescasts">Les casts</a><br/><a href="#Oprateursdecomparaison">Opérateurs de comparaison</a><br/><a href="#Accderauxcaractresd039unstring">Accéder aux caractères d&#039;un string</a><br/><a href="#Principalesfonctionsconcernantlesvariables">Principales fonctions concernant les variables</a><br/></div>
<a name="Allezplusloinaveclesvariables"></a><h2>Allez plus loin avec les variables !</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
<span class="next">Les références</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-535417" data-claire-element-id="535417">Bonjour et bienvenue dans ce tutoriel où vous découvrirez de nouvelles notions concernant les variables en PHP. En effet, vous avez encore beaucoup à apprendre si vous venez de terminer le cours de M@teo21. ;)</p>
</div><a name="Lesrfrences"></a><h2>Les références</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
<span class="next">Variables globales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535418" data-claire-element-id="535418">Attaquons la première partie de ce mini-tutoriel. Je vais ici vous parler des <strong>références</strong>. Si vous avez des connaissances en C++ (ou peut-être d'autres langages utilisant les <strong>références</strong>), je ne vous apprendrai rien, passez à la sous-partie suivante (vous verrez en fait dans la dernière partie une des principales différences entre les références de PHP et les références du C++). ;)</p><p id="r-535419" data-claire-element-id="535419">Une référence n'est rien d'autre qu'une variable pointant sur une autre : elle devient un alias de la variable sur laquelle elle pointe. Si vous modifiez l'une de ces variables, les deux prendront la même valeur. Lors de la déclaration d'une référence, on fait précéder le nom de la variable à référencer d'un <strong>&amp;</strong> ; et ce <strong>uniquement</strong> lors de sa déclaration.</p><p id="r-535420" data-claire-element-id="535420">Un exemple :</p><pre id="r-535421" data-claire-element-id="535421"><code data-claire-semantic="html+php">&lt;?php
    $maVariable = 0;
    $monAlias = &amp;$maVariable; // $monAlias pointe sur $maVariable : si on modifie l'une de ces deux variables, l'autre sera elle aussi modifiée.

    $monAlias++;
    echo $maVariable . ' - ' . $monAlias; // Affiche « 1 - 1 ».

    $maVariable = 15;
    echo $maVariable . ' - ' . $monAlias; // Affiche « 15 - 15 ».
?&gt;</code></pre><p id="r-535422" data-claire-element-id="535422">Quand je dis que <code data-claire-semantic="html+php">$monAlias</code> pointe sur <code data-claire-semantic="html+php">$maVariable</code>, ce n'est pas tout à fait exact. C'est ce qu'on dit, mais ce n'est pas ce que fait le serveur. Voici ce qui s'est passé durant le script :</p><ul id="r-535431" data-claire-element-id="535431"><li id="r-535424" data-claire-element-id="535424"><p id="r-535423" data-claire-element-id="535423">mise en mémoire de la valeur de <code data-claire-semantic="html+php">$maVariable</code> et association de cette valeur à la variable <code data-claire-semantic="html+php">$maVariable</code> ;</p></li><li id="r-535426" data-claire-element-id="535426"><p id="r-535425" data-claire-element-id="535425">création de la variable <code data-claire-semantic="html+php">$monAlias</code> qui pointe sur la valeur précédemment créée <strong>et non sur la variable <code data-claire-semantic="html+php">$maVariable</code> ;</strong></p></li><li id="r-535428" data-claire-element-id="535428"><p id="r-535427" data-claire-element-id="535427">incrémentation de la valeur de <code data-claire-semantic="html+php">$monAlias</code> qui est la même que <code data-claire-semantic="html+php">$maVariable</code> ;</p></li><li id="r-535430" data-claire-element-id="535430"><p id="r-535429" data-claire-element-id="535429">modification de la valeur de <code data-claire-semantic="html+php">$maVariable</code> qui est la même que <code data-claire-semantic="html+php">$monAlias</code>.</p></li></ul><p id="r-535432" data-claire-element-id="535432">Schématiquement, il s'est passé ceci :</p><figure id="r-535434" data-claire-element-id="535435"><img id="r-535433" data-claire-element-id="535433" src="medias/uploads.siteduzero.com_files_163001_164000_163762.jpg" alt="Image utilisateur"/></figure><p id="r-535436" data-claire-element-id="535436">C'est bien beau tout ça, mais vous pouvez faire mieux : passer une variable à une fonction en tant que référence. Voici comment faire :</p><pre id="r-535437" data-claire-element-id="535437"><code data-claire-semantic="html+php">&lt;?php
    function additionne (&amp;$param1, $param2) // Le premier paramètre sera une référence
    {
        $param1 += $param2;
    }
    
    $var1 = 10;
    $var2 = 20;

    additionne ($var1, $var2); // c'est une référence de $var1 qui est passée, et non sa valeur
    echo $var1; // Affiche « 30 ».
?&gt;</code></pre><aside id="r-535439" data-claire-element-id="535439" data-claire-semantic="warning"><p id="r-535438" data-claire-element-id="535438">Lorsque vous appelez la fonction, ne placez pas le signe <strong>&amp;</strong> avant la variable, c'est uniquement lors de la définition de cette dernière que le signe doit apparaitre. Ainsi, si vous faites un <strong>additionne (&amp;$var1, $var2)</strong>, vous aurez une alerte <strong>Call-time pass-by-reference</strong> sur les versions récentes de PHP.</p></aside><p id="r-535440" data-claire-element-id="535440">Tant qu'on y est, j'ouvre une petite parenthèse sur le passage de références en paramètres de fonctions. Sachez que si la fonction que vous appelez attend une référence en paramètre, vous n'êtes pas obligé d'initialiser la variable que vous lui donnez. Lorsque l'on déclare une fonction avec des références en paramètres, le serveur va initialiser les symboles (variables) à <code data-claire-semantic="html+php">NULL</code> et attendre des valeurs (le nombre de symboles qu'il initialise est le nombre de références en paramètres). Si on passe une variable non déclarée à une fonction en paramètre, elle vaut <code data-claire-semantic="html+php">NULL</code>. Sans référence, le PHP n'aime pas car la variable n'est pas déclarée. Mais avec une référence, il ne s'intéresse qu'à la valeur qu'il va modifier.</p><p id="r-535441" data-claire-element-id="535441">Ainsi, un code comme celui-ci émettra une notice :</p><pre id="r-535442" data-claire-element-id="535442"><code data-claire-semantic="html+php">&lt;?php
    function initialisation (&amp;$var1, $var2)
    {
        $var1 = 'Variable 1';
        $var2 = 'Variable 2';
    }
    
    // Notez que le fait que ces variables aient le même nom que les paramètres de la fonction n'a aucune importance.
    initialisation ($var1, $var2); // Erreur E_NOTICE levée car $var2 n'existe pas.
?&gt;</code></pre><p id="r-535443" data-claire-element-id="535443">Mais celui-là, non :</p><pre id="r-535444" data-claire-element-id="535444"><code data-claire-semantic="html+php">&lt;?php
    function initialisation (&amp;$var1, &amp;$var2)
    {
        $var1 = 'Variable 1';
        $var2 = 'Variable 2';
    }
    
    initialisation ($var1, $var2); // Les deux variables sont passées en tant que référence, donc aucun problème.
?&gt;</code></pre><aside id="r-535446" data-claire-element-id="535446" data-claire-semantic="information"><p id="r-535445" data-claire-element-id="535445">Note : vous connaissez peut-être la fonction <code data-claire-semantic="html+php">sort</code> qui classe un tableau par ordre croissant. Le paramètre que vous lui passez n'est autre qu'une référence. ;) Le prototype de la fonction <code data-claire-semantic="html+php">sort</code> est : <code data-claire-semantic="html+php">bool sort ( array &amp;$array [, int $sort_flags ] )</code>.</p></aside><h2 id="r-retourner-une-reference" data-claire-element-id="535451">Retourner une référence</h2><p id="r-535447" data-claire-element-id="535447">Vous pouvez passer des références en paramètre à une fonction, mais vous pouvez aussi <strong>retourner</strong> une référence.</p><p id="r-535448" data-claire-element-id="535448">Pour retourner une référence, vous devez précéder <strong>le nom de la fonction</strong> d'un <strong>&amp;</strong> quand vous la déclarez et quand vous l'appelez.</p><p id="r-535449" data-claire-element-id="535449">Voici un exemple :</p><pre id="r-535450" data-claire-element-id="535450"><code data-claire-semantic="html+php">&lt;?php
    class MaClasse
    {
        public $attribut = 'Voici un attribut';
        
        public function &amp;recupererAttribut() // Notez le symbole &amp; juste avant le nom de la fonction : ça veut dire que cette fonction renverra une référence.
        {
            return $this-&gt;attribut; // Que je ne vous surprenne jamais en train de faire précéder votre variable de retour d'un &amp; !
        }
    }
    
    $monObjet = new MaClasse();
    $variable = &amp;$monObjet-&gt;recupererAttribut(); // Notez le symbole &amp; juste avant le nom de la fonction (et, dans ce cas, de mon objet).
    $monObjet-&gt;attribut = 'Voici un attribut modifié'; // On modifie l'attribut de l'objet.
    echo $monObjet-&gt;attribut . ' - ' . $variable; // Affiche « Voici un attribut modifié - Voici un attribut modifié ».
?&gt;</code></pre><h2 id="r-passer-une-reference-dans-un-foreach" data-claire-element-id="535471">Passer une référence dans un <code data-claire-semantic="html+php">foreach</code></h2><p id="r-535452" data-claire-element-id="535452">Voilà une possibilité très intéressante que nous propose le PHP. Vous pouvez passer une référence à la variable courante d'une boucle <code data-claire-semantic="html+php">foreach</code>.</p><p id="r-535453" data-claire-element-id="535453">Imaginons que je crée un tableau contenant plusieurs mots et que je veux rajouter, à la fin de chaque mot, un <em>pipe</em>. Comment faire ? Comme ça :</p><pre id="r-535454" data-claire-element-id="535454"><code data-claire-semantic="html+php">&lt;?php
    $texte = 'Voici du texte que l\'on va essayer de transformer.';
    $tableau = explode (' ', $texte); // Transformation de la chaîne en tableau.

    foreach ($tableau as $valeur) // Parcours du tableau.
        $valeur .= '|'; // Ajout d'un pipe à la fin de la valeur.

    echo '&lt;pre&gt;' . print_r ($tableau, true) . '&lt;/pre&gt;';

/*
    Affiche :

    Array
    (
        [0] =&gt; Voici
        [1] =&gt; du
        [2] =&gt; texte
        [3] =&gt; que
        [4] =&gt; l'on
        [5] =&gt; va
        [6] =&gt; essayer
        [7] =&gt; de
        [8] =&gt; transformer.
    )
*/
?&gt;</code></pre><p id="r-535455" data-claire-element-id="535455">Comme vous vous en doutiez, non ? ^^ Vous êtes censé comprendre ce code et pourquoi il ne fonctionne pas. Si vous ne voyez pas, je ne vais pas vous le dire, à vous d'aller relire <a href="http://www.siteduzero.com/tutoriel-3-14479-les-tableaux.html#ss_part_2">la partie concernant le parcours d'un tableau avec <code data-claire-semantic="html+php">foreach</code></a>.</p><p id="r-535456" data-claire-element-id="535456">Comment faire pour que ce code fonctionne ? En faisant appel aux références bien sûr ! (Comme c'est étrange. :-° )</p><pre id="r-535457" data-claire-element-id="535457"><code data-claire-semantic="html+php">&lt;?php
    $texte = 'Voici du texte que l\'on va essayer de transformer.';
    $tableau = explode (' ', $texte); // Transformation de la chaine en tableau.

    foreach ($tableau as &amp;$valeur) // Notez le signe &amp; : $valeur n'est pas une simple variable, c'est une référence pointant sur la valeur du champ courant !
        $valeur .= '|'; // Ajout d'un pipe à la fin de la valeur.

    echo '&lt;pre&gt;' . print_r ($tableau, true) . '&lt;/pre&gt;';

/*
    Affiche :

    Array
    (
        [0] =&gt; Voici|
        [1] =&gt; du|
        [2] =&gt; texte|
        [3] =&gt; que|
        [4] =&gt; l'on|
        [5] =&gt; va|
        [6] =&gt; essayer|
        [7] =&gt; de|
        [8] =&gt; transformer.|
    )

*/
?&gt;</code></pre><p id="r-535458" data-claire-element-id="535458">Et voilà, pas plus simple, un petit <code data-claire-semantic="html+php">&amp;</code> de plus, et le tour est joué. ^^</p><aside id="r-535460" data-claire-element-id="535460" data-claire-semantic="error"><p id="r-535459" data-claire-element-id="535459">Il est impossible de passer une référence en tant que clé ! PHP vous affichera une jolie erreur fatale (« <em>Key element cannot be a reference</em> »).</p></aside><h3 id="r-effets-secondaires" data-claire-element-id="535470">Effets secondaires</h3><p id="r-535461" data-claire-element-id="535461">Il y a quelque chose que je me dois de vous dire. Pour commencer, testez ce code :</p><pre id="r-535462" data-claire-element-id="535462"><code data-claire-semantic="html+php">&lt;?php
    $a = array (1, 2, 3);
    
    foreach ($a as &amp;$b) {} // Notez la référence.
    foreach ($a as $b) {} // Notez l'absence de référence.
    
    print_r ($a);
?&gt;</code></pre><p id="r-535463" data-claire-element-id="535463">À l'écran, s'affiche :</p><p id="r-535464" data-claire-element-id="535464"><cite>Citation : Résultat</cite></p><blockquote id="r-535466" data-claire-element-id="535466"><p id="r-535465" data-claire-element-id="535465">Array ( [0] =&gt; 1 [1] =&gt; 2 [2] =&gt; 2 )</p></blockquote><p id="r-535467" data-claire-element-id="535467">En observant le résultat qui s'affiche, vous voyez que la dernière valeur a été écrasée par la précédente. Pour remédier à ce problème, il vous suffit de changer le nom de la variable dans la deuxième boucle. Ainsi, votre tableau sera intact. Faites donc très attention quand vous utilisez les références dans un <code data-claire-semantic="html+php">foreach</code>.</p><aside id="r-535469" data-claire-element-id="535469" data-claire-semantic="warning"><p id="r-535468" data-claire-element-id="535468">Question de vocabulaire : malgré les ressemblances que ça a avec les pointeurs (en C par exemple), ce sont des <strong>références</strong>. PHP n'intègre pas les pointeurs : que je ne surprenne personne en train de dire qu'il maitrise les pointeurs en PHP ! Grave erreur ! Les références sont des « pointeurs simplifiés ».</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
<span class="next">Variables globales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Variablesglobales"></a><h2>Variables globales</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
<span class="arrow"></span>
<span class="next">Les références</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
<span class="next">Variables statiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-535474" data-claire-element-id="535474" data-claire-semantic="error"><p id="r-535473" data-claire-element-id="535473">Les variables globales sont très pratiques à première vue mais rendent rapidement le code inutilisable. Ne les utilisez qu'en cas d'extrême nécessité !</p></aside><p id="r-535475" data-claire-element-id="535475">Comme vous l'avez vu, les références, c'est cool, mais au bout d'un moment ça devient assez lourd. :-°</p><p id="r-535476" data-claire-element-id="535476">Avant d'aller plus loin, définissons ce qu'est une variable <strong>locale</strong>. Une variable <strong>locale</strong> est une variable déclarée dans une fonction. Une fois la fonction terminée, la variable est <strong>détruite</strong>. Soit ce code :</p><pre id="r-535477" data-claire-element-id="535477"><code data-claire-semantic="html+php">&lt;?php
    function modifierChaine()
    {
        $chaine = 'Salut !';
    }
    
    $chaine = 'Hello !';
    modifierChaine();
    echo $chaine; // La variable $chaine, créée dans la fonction modifierChaine(), est dite locale à cette fonction ; la variable $chaine créée 2 lignes plus haut n'est donc pas modifiée, donc à l'écran s'affichera « Hello ! ».
?&gt;</code></pre><p id="r-535478" data-claire-element-id="535478">Imaginons que vous ayez un tableau <code data-claire-semantic="html+php">$configuration </code> que vous incluez dans toutes vos pages. Ce tableau contient diverses informations concernant la configuration de votre site.</p><p id="r-535479" data-claire-element-id="535479">Un problème se pose, maintenant : vous avez une fonction <code data-claire-semantic="html+php">afficherNews() </code> qui aura pour rôle d'afficher les news (jusque là, ça va :p ). Dans votre tableau <code data-claire-semantic="html+php">$configuration </code> se trouve une entrée nommée <strong>nombre_de_liens_par_page</strong> contenant un nombre (par exemple 10). Comment accéder à ce nombre depuis votre fonction ? On a vu plus haut que l'on ne pouvait faire comme on l'aurait fait intuitivement. Il suffit d'utiliser le tableau associatif <code data-claire-semantic="html+php">$GLOBALS </code>.</p><p id="r-535480" data-claire-element-id="535480">Ce tableau contient <strong>toutes</strong> les variables de votre script. Si vous créez une variable, elle sera automatiquement disponible dans le tableau <code data-claire-semantic="html+php">$GLOBALS </code>.</p><p id="r-535481" data-claire-element-id="535481">Si l'on reprend le code du haut en le modifiant de telle sorte que ça fonctionne, il ressemblerait à ceci :</p><pre id="r-535482" data-claire-element-id="535482"><code data-claire-semantic="html+php">&lt;?php
    function modifierChaine()
    {
        $GLOBALS['chaine'] = 'Salut !';
    }

    $chaine = 'Hello !';
    modifierChaine();
    echo $chaine; // Affiche « Salut ! ».
?&gt;</code></pre><p id="r-535483" data-claire-element-id="535483">Pratique, non ? :p</p><aside id="r-535485" data-claire-element-id="535485" data-claire-semantic="information"><p id="r-535484" data-claire-element-id="535484">La variable <code data-claire-semantic="html+php">$GLOBALS </code> est comme les variables <code data-claire-semantic="html+php">$_SERVER </code>, <code data-claire-semantic="html+php">$_GET </code>, <code data-claire-semantic="html+php">$_POST </code>, <code data-claire-semantic="html+php">$_FILES </code>, <code data-claire-semantic="html+php">$_COOKIE </code>, <code data-claire-semantic="html+php">$_SESSION </code>, <code data-claire-semantic="html+php">$_REQUEST </code> et <code data-claire-semantic="html+php">$_ENV </code> : elle est <strong>superglobale</strong>. C'est la <strong>seule</strong> à ne pas contenir d'underscore dans son nom.</p></aside><p id="r-535486" data-claire-element-id="535486">Réalisons maintenant un compteur de requêtes MySQL. Logiquement, le code ressemblerait à ça :</p><pre id="r-535487" data-claire-element-id="535487"><code data-claire-semantic="html+php">&lt;?php
    $nombreDeRequetes = 0;

    function requete ($sql)
    {
        $GLOBALS['nombreDeRequetes']++;
        return mysql_query ($sql);
    }

    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');

    echo $nombreDeRequetes; // Affiche « 4 ».
?&gt;</code></pre><p id="r-535488" data-claire-element-id="535488">Au lieu d'utiliser cette technique, vous pouvez accéder à cette variable déclarée en dehors de la fonction en faisant précéder son nom du mot-clé <strong>global</strong>. Regardez ce code :</p><pre id="r-535489" data-claire-element-id="535489"><code data-claire-semantic="html+php">&lt;?php
    function requete ($sql)
    {
        global $nombreDeRequetes; // On fait précéder $nombreDeRequetes par le mot-clé global : le serveur va chercher la variable $nombreDeRequetes en dehors de la fonction.
        $nombreDeRequetes++;
        return mysql_query ($sql);
    }

    $nombreDeRequetes = 0;

    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');
    requete ('SELECT * FROM membres');

    echo $nombreDeRequetes; // Affiche « 4 ».
?&gt;</code></pre><aside id="r-535491" data-claire-element-id="535491" data-claire-semantic="information"><p id="r-535490" data-claire-element-id="535490">Note : vous pouvez déclarer plusieurs variables globales d'un coup de cette façon : <code data-claire-semantic="html+php">global $a, $b; </code>.</p></aside><p id="r-535492" data-claire-element-id="535492">Je crois que vous savez tout (ou presque :p ) sur les variables globales. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
<span class="arrow"></span>
<span class="next">Les références</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
<span class="next">Variables statiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Variablesstatiques"></a><h2>Variables statiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
<span class="arrow"></span>
<span class="next">Variables globales</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
<span class="next">Les variables de fonctions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535494" data-claire-element-id="535494">Je vais maintenant vous expliquer ce qu'est une variable <strong>statique</strong>. Lorsque vous déclarez une variable dans une fonction, cette variable n'est définie que dans celle-ci (c'est ce qu'on a vu plus haut) : c'est une variable <strong>locale</strong>. Pour pallier ce problème, vous pouvez la rendre <strong>statique</strong>. Dans ce cas, la variable sera préservée et la variable locale retrouvera sa valeur lors d'un nouvel appel à la fonction.</p><p id="r-535495" data-claire-element-id="535495">Un exemple sera plus parlant :</p><pre id="r-535496" data-claire-element-id="535496"><code data-claire-semantic="html+php">&lt;?php
    function incrementation()
    {
        static $i = 0; // Si c'est le premier appel de la fonction, initialisation de la variable.
        $i++;
        echo $i;
    }

    incrementation(); // Affiche « 1 ».
    incrementation(); // Affiche « 2 ».
    incrementation(); // Affiche « 3 ».
    incrementation(); // Affiche « 4 ».
    incrementation(); // Affiche « 5 ».
?&gt;</code></pre><aside id="r-535498" data-claire-element-id="535498" data-claire-semantic="information"><p id="r-535497" data-claire-element-id="535497">Vous remarquerez que l'on aurait pu utiliser les variables globales. C'est vrai, mais ici on n'a pas besoin d'accéder à la variable <code data-claire-semantic="html+php">$i </code> en dehors de la fonction.</p></aside><aside id="r-535500" data-claire-element-id="535500" data-claire-semantic="warning"><p id="r-535499" data-claire-element-id="535499">Vous ne pouvez pas déclarer de variable statique en lui assignant la valeur résultante d'une expression. Vous ne pouvez donc pas faire de <code data-claire-semantic="html+php">static $i = 1 + 2; </code> ni de <code data-claire-semantic="html+php">static $i = sqrt(121); </code> car c'est aussi une expression <em>(exemples méchamment tirés de la doc :-° )</em>.</p></aside><h3 id="r-retourner-une-reference-d-une-variable-statique" data-claire-element-id="535504">Retourner une référence d'une variable statique</h3><p id="r-535501" data-claire-element-id="535501">Si vous avez bien suivi, une variable statique n'est détruite qu'à la fin de votre script et non à la fin de la fonction comme le serait une variable locale (« normale »). Puisque cette variable n'est pas détruite et qu'elle conserve sa valeur, il devrait être possible d'y accéder n'importe quand. Et c'est possible, grâce aux références !</p><p id="r-535502" data-claire-element-id="535502">Je vous ai montré plus haut comment retourner la référence d'un attribut. La syntaxe est la même pour retourner une référence vers une variable statique :</p><pre id="r-535503" data-claire-element-id="535503"><code data-claire-semantic="html+php">&lt;?php
    function &amp;maFonction ($afficher = false) // N'oubliez pas le symbole &amp; avant le nom de la fonction.
    {
        static $variable = 'Voici une variable';
        
        if ($afficher)
            echo $variable;
        
        return $variable; // Ne mettez surtout pas de &amp; avant le nom de la variable !
    }
    
    function modifierChaine (&amp;$variable) // On attend une référence en argument.
    {
        $variable = 'Voici une variable modifiée';
    }
    
    $alias = &amp;maFonction(); // $alias est un alias de la variable statique $variable.
    modifierChaine ($alias);
    maFonction (true); // Affiche « Voici une variable modifiée ».
?&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
<span class="arrow"></span>
<span class="next">Variables globales</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
<span class="next">Les variables de fonctions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesvariablesdefonctions"></a><h2>Les variables de fonctions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
<span class="arrow"></span>
<span class="next">Variables statiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
<span class="next">Les casts</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-535507" data-claire-element-id="535507" data-claire-semantic="error"><p id="r-535506" data-claire-element-id="535506">Comme pour les variables globales, les variables de variables et les variables de fonctions rendent le code illisible et totalement impossible à maintenir. Ne les utilisez qu'en cas d'extrême nécessité !</p></aside><p id="r-535508" data-claire-element-id="535508">Vous connaissez peut-être les variables de variables (M@teo21 en parle dans son tutoriel). Un petit rappel :</p><pre id="r-535509" data-claire-element-id="535509"><code data-claire-semantic="html+php">&lt;?php
    $texte = 'Hello world !';
    $variable = 'texte';
    echo ${$variable}; // Affiche « Hello world ! ».
    
    // ou

    echo $$variable; // Affiche « Hello world ! ».
?&gt;</code></pre><p id="r-535510" data-claire-element-id="535510">Sachez que l'on peut faire quelque chose de semblable pour les fonctions. Regardez cet exemple, il parle de lui-même :</p><pre id="r-535511" data-claire-element-id="535511"><code data-claire-semantic="html+php">&lt;?php
    $nomFonction = 'strlen';
    $chaine = 'Voici une chaîne de caractères';

    echo $nomFonction ($chaine); // Affiche « 30 ».
?&gt;</code></pre><p id="r-535512" data-claire-element-id="535512">Ce n'est pas très compliqué, vous avouerez. :p</p><aside id="r-535514" data-claire-element-id="535514" data-claire-semantic="error"><p id="r-535513" data-claire-element-id="535513">Les structures du langage ne peuvent pas être appelées depuis des variables fonctions. Par exemple, <code data-claire-semantic="html+php">isset </code> est une structure du langage et non une fonction, on ne pourra pas l'appeler avec la méthode ci-dessus.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
<span class="arrow"></span>
<span class="next">Variables statiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
<span class="next">Les casts</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lescasts"></a><h2>Les casts</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
<span class="arrow"></span>
<span class="next">Les variables de fonctions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
<span class="next">Opérateurs de comparaison</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535516" data-claire-element-id="535516">Derrière ce nom un peu barbare qu'est le mot <strong>cast</strong>, se cache une notion assez simple et intuitive.</p><p id="r-535517" data-claire-element-id="535517">Commençons par définir ce que veut dire <strong>caster</strong>. Pour faire simple, <strong>caster</strong> signifie <strong>changer le type d'une variable</strong>. Vous pouvez ainsi changer une variable de type <strong>int</strong> (<strong>integer</strong>, soit <strong>entier</strong> en français) en une variable de type <strong>string</strong> (chaîne de caractères).</p><p id="r-535518" data-claire-element-id="535518">Pour effectuer un cast (un changement de type), il suffit de faire précéder la variable à caster du type dans lequel doit être retourné le résultat.</p><p id="r-535519" data-claire-element-id="535519">Un cast s'effectue comme suit :</p><pre id="r-535520" data-claire-element-id="535520"><code data-claire-semantic="html+php">&lt;?php
    $chaineDeCaracteres = '12'; // Variable de type string.
    $nombre = (int)$chaineDeCaracteres;
?&gt;</code></pre><p id="r-535521" data-claire-element-id="535521">Ce code est assez intuitif. Sachez que l'on peut effectuer un cast sur autre chose qu'une variable. Exemple :</p><pre id="r-535522" data-claire-element-id="535522"><code data-claire-semantic="html+php">&lt;?php
    $resultat = (int)(12.5) + (int)(15.6);
    echo $resultat; // Affiche « 27 ».
?&gt;</code></pre><p id="r-535523" data-claire-element-id="535523">Pourquoi 27 ? Pourquoi pas 28.1 comme on pourrait penser ? Tout simplement parce qu'on a changé le type des nombres 12.5 et 15.6. Après ce cast, ces deux nombres à virgule ne sont plus de type <strong>float</strong> mais de type <strong>int</strong> ce qui fait qu'ils ne valent plus 12.5 et 15.6 mais 12 et 15.</p><p id="r-535524" data-claire-element-id="535524">Les types de variables sont les suivants :</p><ul id="r-535539" data-claire-element-id="535539"><li id="r-535526" data-claire-element-id="535526"><p id="r-535525" data-claire-element-id="535525">booléen (bool) ;</p></li><li id="r-535528" data-claire-element-id="535528"><p id="r-535527" data-claire-element-id="535527">nombre entier (int) ;</p></li><li id="r-535530" data-claire-element-id="535530"><p id="r-535529" data-claire-element-id="535529">nombre à virgule (float) ;</p></li><li id="r-535532" data-claire-element-id="535532"><p id="r-535531" data-claire-element-id="535531">chaîne de caractères (string) ;</p></li><li id="r-535534" data-claire-element-id="535534"><p id="r-535533" data-claire-element-id="535533">tableau (array) ;</p></li><li id="r-535536" data-claire-element-id="535536"><p id="r-535535" data-claire-element-id="535535">objet (object) ;</p></li><li id="r-535538" data-claire-element-id="535538"><p id="r-535537" data-claire-element-id="535537">ressource (resource).</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
<span class="arrow"></span>
<span class="next">Les variables de fonctions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
<span class="next">Opérateurs de comparaison</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Oprateursdecomparaison"></a><h2>Opérateurs de comparaison</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
<span class="arrow"></span>
<span class="next">Les casts</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
<span class="next">Accéder aux caractères d&#039;un string</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535541" data-claire-element-id="535541">Si vous avez suivi le tutoriel de M@teo21, vous devriez connaître ces opérateurs de comparaison :</p><ul id="r-535554" data-claire-element-id="535554"><li id="r-535543" data-claire-element-id="535543"><p id="r-535542" data-claire-element-id="535542"><strong>==</strong> (égal) ;</p></li><li id="r-535545" data-claire-element-id="535545"><p id="r-535544" data-claire-element-id="535544"><strong>!=</strong> (différent de) ;</p></li><li id="r-535547" data-claire-element-id="535547"><p id="r-535546" data-claire-element-id="535546"><strong>&lt;</strong> (plus petit que) ;</p></li><li id="r-535549" data-claire-element-id="535549"><p id="r-535548" data-claire-element-id="535548"><strong>&gt;</strong> (plus grand que) ;</p></li><li id="r-535551" data-claire-element-id="535551"><p id="r-535550" data-claire-element-id="535550"><strong>&lt;=</strong> (inférieur ou égal à) ;</p></li><li id="r-535553" data-claire-element-id="535553"><p id="r-535552" data-claire-element-id="535552"><strong>&gt;=</strong> (supérieur ou égal à).</p></li></ul><p id="r-535555" data-claire-element-id="535555">Dans cette partie, je vais vous faire découvrir ceux-là :</p><ul id="r-535560" data-claire-element-id="535560"><li id="r-535557" data-claire-element-id="535557"><p id="r-535556" data-claire-element-id="535556"><strong>===</strong> (strictement égal, ou identique) ;</p></li><li id="r-535559" data-claire-element-id="535559"><p id="r-535558" data-claire-element-id="535558"><strong>!==</strong> (strictement différent).</p></li></ul><p id="r-535561" data-claire-element-id="535561">Ces deux symboles vérifient les valeurs qu'on leur demande de comparer, mais aussi leur type.</p><p id="r-535562" data-claire-element-id="535562">L'opérateur égal (<strong>==</strong>) compare les deux valeurs qu'on lui demande sans se soucier de leur type. Si vous décidez de comparer une chaîne de caractères et un entier, alors la chaîne de caractères sera convertie en entier.</p><p id="r-535563" data-claire-element-id="535563">Exemple :</p><pre id="r-535564" data-claire-element-id="535564"><code data-claire-semantic="html+php">&lt;?php
    if ('0' == 0)
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535565" data-claire-element-id="535565">Ce code affichera « Vrai ».</p><p id="r-535566" data-claire-element-id="535566">Avec l'opérateur égal (==), toute chaîne de caractères vaut <code data-claire-semantic="html+php">true </code>, ainsi que tous les nombres décimaux — sauf 0 qui vaut <code data-claire-semantic="html+php">false </code> (0 en tant que nombre entier mais aussi en tant que chaîne de caractères).</p><p id="r-535567" data-claire-element-id="535567">Ainsi, ce code affichera « Vrai » :</p><pre id="r-535568" data-claire-element-id="535568"><code data-claire-semantic="html+php">&lt;?php
    if (0 == false)
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535569" data-claire-element-id="535569">Et celui-là aussi :</p><pre id="r-535570" data-claire-element-id="535570"><code data-claire-semantic="html+php">&lt;?php
    if ('voici une chaine de caractères' == true)
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><h2 id="r-les-pieges-de-la-conversion" data-claire-element-id="535575">Les pièges de la conversion</h2><p id="r-535571" data-claire-element-id="535571">Vous venez de voir qu'en PHP, 1 == <code>true</code> et 0 == <code>false</code>. Vous venez aussi de voir que lorsqu'on compare une chaîne de caractères à un nombre, celle-ci est convertie en entier. Ainsi, si je compare 'azerty' à 0, la condition renverra <code>true</code>. Mais si je compare 'azerty' à <code>true</code>, la condition renverra aussi <code>true</code> car quand on compare une chaîne de caractères à un booléen, celle-ci n'est pas convertie en entier !</p><pre id="r-535572" data-claire-element-id="535572"><code data-claire-semantic="html+php">&lt;?php
    $chaine = 'azerty';
    
    if ($chaine == 0) // Affiche « Vrai » car 'azerty' en entier donne 0.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == false) // Affiche « Faux » car toute chaine de caractères vaut true.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == 1) // Affiche « Faux » car 'azerty' en entier donne 0.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == true) // Affiche « Vrai » car toute chaine de caractères vaut true.
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535573" data-claire-element-id="535573">Quand on convertit une chaîne de caractères en entier, et que cette chaîne commence par un nombre, la nouvelle valeur de la chaîne sera ce nombre sous forme d'entier.</p><pre id="r-535574" data-claire-element-id="535574"><code data-claire-semantic="html+php">&lt;?php
    $chaine = '1azerty'; // Notez bien le 1 en début de chaîne.
    
    if ($chaine == 0) // Affiche « Faux » car '1azerty' en entier donne 1.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == false) // Affiche « Faux » car toute chaîne de caractères vaut true.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == 1) // Affiche « Vrai » car '1azerty' en entier donne 1.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if ($chaine == true) // Affiche « Vrai » car toute chaîne de caractères vaut true.
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><h2 id="r-piege-les-differentes-notations" data-claire-element-id="535584">Piège : les différentes notations</h2><p id="r-535576" data-claire-element-id="535576">Voici un piège très vicieux. Il existe, dans le monde de l'informatique, différentes notations : la notation décimale (10 symboles, de 0 à 9, celle que nous utilisons tout le temps), la notation hexadécimale (16 symboles, de 0 à 9 et de A à F), la notation octale (8 symboles, de 0 à 7)... Il y a d'autres notations (comme le binaire par exemple), mais je n'en parlerai pas. ;)</p><p id="r-535577" data-claire-element-id="535577">Pour dire d'un nombre qu'il est décimal, on déclare la variable normalement. Pour dire que le nombre est hexadécimal, on précède le nombre d'un 0 et d'un x. Pour dire que le nombre utilise la notation octale, on précède le nombre d'un 0. Exemple :</p><pre id="r-535578" data-claire-element-id="535578"><code data-claire-semantic="html+php">&lt;?php
    $nombreDecimal = 159; // Nombre décimal.
    $nombreHexadecimal = 0xAE46AF; // Nombre hexadécimal.
    $nombreOctal = 0257; // Nombre octal.
?&gt;</code></pre><div id="r-535580" data-claire-element-id="535580" data-claire-semantic="question"><p id="r-535579" data-claire-element-id="535579">Euh super, et où veux-tu en venir ?</p></div><p id="r-535581" data-claire-element-id="535581">Ce que je veux vous dire, c'est que le nombre 54 en base 10 (nombre décimal à 10 symboles) n'a pas la même valeur que le nombre 54 en base 8 (nombre octal à 8 symboles). Je vous conseille vivement <a href="http://www.siteduzero.com/tutoriel-3-33029-du-decimal-au-binaire.html">ce tutoriel</a> si vous voulez en savoir plus sur les différentes notations.</p><p id="r-535582" data-claire-element-id="535582">Et un exemple qui illustre les différents effets qui peuvent surprendre :</p><pre id="r-535583" data-claire-element-id="535583"><code data-claire-semantic="html+php">&lt;?php
    if (54 == 054) // Affiche « Faux ».
        echo 'Vrai';
    else
        echo 'Faux';
    
    if (54 == 0x54) // Affiche « Faux ».
        echo 'Vrai';
    else
        echo 'Faux';
    
    if (303 == 0457) // Affiche « Vrai » car 303 (nombre décimal) donne 457 (nombre octal) !
        echo 'Vrai';
    else
        echo 'Faux';
    
    if (2786 == 0xAE2) // Affiche « Vrai » car 2786 (notation décimale) donne AE2 en hexadécimal !
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><h2 id="r-les-operateurs-stricts" data-claire-element-id="535590">Les opérateurs stricts</h2><p id="r-535585" data-claire-element-id="535585">Intéressons-nous maintenant aux opérateurs dits stricts car ils vérifient les deux valeurs mais aussi leur type.</p><p id="r-535586" data-claire-element-id="535586">Ainsi, deux valeurs de types différents ne seront jamais strictement identiques.</p><p id="r-535587" data-claire-element-id="535587">Exemple :</p><pre id="r-535588" data-claire-element-id="535588"><code data-claire-semantic="html+php">&lt;?php
    if (0 === false)
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535589" data-claire-element-id="535589">Ce code affichera donc Faux car 0 est un entier et <code>false</code> est un booléen.</p><h2 id="r-exemple-concret-utilisation-de-la-fonction-strpos" data-claire-element-id="535604">Exemple concret : utilisation de la fonction <code data-claire-semantic="html+php"><a href="http://fr2.php.net/strpos">strpos()</a></code></h2><p id="r-535591" data-claire-element-id="535591">Cette fonction retourne la position numérique de la première occurrence de la chaîne recherchée dans la chaîne de caractères donnée. Si la chaîne n'est pas trouvée, la fonction renvoie <code data-claire-semantic="html+php">false </code>.</p><p id="r-535592" data-claire-element-id="535592">Par exemple :</p><pre id="r-535593" data-claire-element-id="535593"><code data-claire-semantic="html+php">&lt;?php
    $chaine = 'Voici une chaîne de caractères.';
    $position = strpos ($chaine, 'cha');
    echo $position; // Affichera 10.
?&gt;</code></pre><p id="r-535594" data-claire-element-id="535594">Maintenant, imaginons que je voulais rechercher la chaîne 'Vo'. <code data-claire-semantic="html+php">strpos() </code> m'aurait retourné 0 en tant qu'entier. Si je veux comparer cette valeur, il faut utiliser l'opérateur strictement égal, ou identique. Sinon, si la chaîne n'est pas trouvée, ma condition peut renvoyer <code data-claire-semantic="html+php">true </code>, ce qui n'est pas l'effet désiré.</p><p id="r-535595" data-claire-element-id="535595">Exemple :</p><pre id="r-535596" data-claire-element-id="535596"><code data-claire-semantic="html+php">&lt;?php
    $chaine = 'Voici une chaîne de caractères.';
    
    if (strpos ($chaine, 'Vo') == 0) // Renvoie true.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if (strpos ($chaine, 'azerty') == 0) // Renvoie true, car 0 == false !
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535597" data-claire-element-id="535597">Le code, comme vous pouvez le constater, ne fonctionne pas correctement. Le code fonctionnel serait le suivant :</p><pre id="r-535598" data-claire-element-id="535598"><code data-claire-semantic="html+php">&lt;?php
    $chaine = 'Voici une chaîne de caractères.';
    
    if (strpos ($chaine, 'Vo') === 0) // Renvoie true.
        echo 'Vrai';
    else
        echo 'Faux';
    
    if (strpos ($chaine, 'azerty') === 0) // Renvoie false.
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre><p id="r-535599" data-claire-element-id="535599">Et voilà le travail. :)</p><p id="r-535600" data-claire-element-id="535600">Je ne vais pas m'étendre sur l'opérateur strictement différent (<strong>!==</strong>) car son fonctionnement est le même que l'opérateur identique (<strong>===</strong>).</p><p id="r-535601" data-claire-element-id="535601">Une condition avec cet opérateur renvoie <code data-claire-semantic="html+php">true </code> si l'une des deux valeurs n'est pas la même ou si les deux valeurs ne sont pas du même type.</p><p id="r-535602" data-claire-element-id="535602">Exemple :</p><pre id="r-535603" data-claire-element-id="535603"><code data-claire-semantic="html+php">&lt;?php
    if ('0' !== 0) // Renvoie true car l'une des valeurs est de type string et l'autre est de type int.
        echo 'Vrai';
    else
        echo 'Faux';
?&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
<span class="arrow"></span>
<span class="next">Les casts</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
<span class="next">Accéder aux caractères d&#039;un string</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Accderauxcaractresd039unstring"></a><h2>Accéder aux caractères d&#039;un string</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
<span class="arrow"></span>
<span class="next">Opérateurs de comparaison</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
<span class="next">Principales fonctions concernant les variables</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535606" data-claire-element-id="535606">Nous avons vu plus haut ce qu'est une variable de type <strong>string</strong> : c'est une <strong>chaîne de caractères</strong>.</p><p id="r-535607" data-claire-element-id="535607">Si votre variable est de type <strong>string</strong>, alors vous pouvez accéder à chacun de ses caractères en spécifiant entre crochets la position du caractère recherché.</p><p id="r-535608" data-claire-element-id="535608">Soit le code suivant :</p><pre id="r-535609" data-claire-element-id="535609"><code data-claire-semantic="html+php">&lt;?php
    $chaine = 'Bonjour les Zér0s !';
    echo $chaine[3];
?&gt;</code></pre><p id="r-535610" data-claire-element-id="535610">À l'écran, s'affichera <strong>j</strong> car la première lettre est à l'indice 0, comme les tableaux !</p><p id="r-535611" data-claire-element-id="535611">Pendant qu'on y est, voici une petite « astuce » :</p><pre id="r-535612" data-claire-element-id="535612"><code data-claire-semantic="html+php">&lt;?php
    if (isset ($mot[x]))
        echo 'String supérieur à x caractère(s)';
    else
        echo 'String inférieur à x caractère(s)';
?&gt;</code></pre><p id="r-535613" data-claire-element-id="535613">Si vous avez bien suivi, vous devriez comprendre ce code. Dans ce code, on regarde si la variable comporte bien un caractère à l'indice x. Si tel est le cas, alors on peut dire que la variable comporte au moins x caractère(s). À l'inverse, si la variable ne contient pas de caractère à l'indice x, on peut en déduire que son nombre de caractères est inférieur à x caractère(s).</p><p id="r-535614" data-claire-element-id="535614">Vous devriez être capable de reproduire ce code avec la fonction <code data-claire-semantic="html+php">strlen() </code>.</p><pre id="r-535615" data-claire-element-id="535615"><code data-claire-semantic="html+php">&lt;?php
    if (strlen ($mot) &gt; x)
        echo 'String supérieur à x caractère(s)';
    else
        echo 'String inférieur à x caractère(s)';
?&gt;</code></pre><p id="r-535616" data-claire-element-id="535616">Voilà, c'est tout ce que j'avais à dire sur les chaînes de caractères en complément du tutoriel de M@teo21. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
<span class="arrow"></span>
<span class="next">Opérateurs de comparaison</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
<span class="next">Principales fonctions concernant les variables</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Principalesfonctionsconcernantlesvariables"></a><h2>Principales fonctions concernant les variables</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
<span class="arrow"></span>
<span class="next">Accéder aux caractères d&#039;un string</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-535618" data-claire-element-id="535618">Voici les principales fonctions concernant les variables. Parmi elles, vous connaissez sûrement la fonction <code data-claire-semantic="html+php">isset()</code> qui permet de tester l'existence d'une variable. Dans la même famille, on peut citer <code data-claire-semantic="html+php"><a href="http://fr2.php.net/unset">unset()</a></code>. <br/> Prototype :</p><pre id="r-535619" data-claire-element-id="535619"><code data-claire-semantic="html+php">&lt;?php
    void unset  ( mixed $var  [, mixed $var  [, mixed $...  ]] )
?&gt;</code></pre><p id="r-535620" data-claire-element-id="535620">Vous pouvez appeler <code data-claire-semantic="html+php">unset()</code> en mettant la variable à détruire en premier paramètre. Comme l'annonce le prototype, vous pouvez envoyer à cette fonction autant de variables que vous le souhaitez, et de n'importe quel type (le mot-clé <code data-claire-semantic="html+php">mixed</code> suivi de la variable indique que celle-ci peut être de tout type). ;)</p><aside id="r-535622" data-claire-element-id="535622" data-claire-semantic="information"><p id="r-535621" data-claire-element-id="535621">Note : ici, je dis que <code data-claire-semantic="html+php">unset()</code> est une fonction. C'est un abus de langage, <code data-claire-semantic="html+php">unset()</code> est une structure du langage. ;)</p></aside><h3 id="r-flashback-sur-les-references" data-claire-element-id="535672">Flashback sur les références</h3><p id="r-535623" data-claire-element-id="535623">Je fais un petit retour sur les références. Pourquoi ? Car je viens de vous présenter la fonction <code data-claire-semantic="html+php">unset()</code> qui supprime une variable. Beaucoup d'entre vous pourront penser qu'un code comme celui-là ne peut fonctionner correctement :</p><pre id="r-535624" data-claire-element-id="535624"><code data-claire-semantic="html+php">&lt;?php
    $variable = 'Voici une variable';
    $alias = &amp;$variable;
    
    unset ($variable);
    
    echo $alias; // Selon vous, $alias n'affichera rien je me trompe ?
?&gt;</code></pre><p id="r-535625" data-claire-element-id="535625">Eh bien si, <code data-claire-semantic="html+php">$alias</code> affichera « <strong>Voici une variable</strong> » ! Pourquoi ? Après tout, c'est vrai, pourquoi elle affiche ça ? <code data-claire-semantic="html+php">$alias</code> pointe sur <code data-claire-semantic="html+php">$variable</code> qui est détruite… En PHP, une valeur n'est pas effacée de la mémoire tant qu'il y a au moins un symbole qui l'y associe. En gros, la valeur <strong>Voici une variable</strong> est associée par les symboles <code data-claire-semantic="html+php">$variable</code> et <code data-claire-semantic="html+php">$alias</code>. Donc si je supprime <code data-claire-semantic="html+php">$variable</code>, la variable <code data-claire-semantic="html+php">$alias</code> conserve sa valeur. ;)</p><p id="r-535626" data-claire-element-id="535626">Histoire que ce soit bien clair, je vais vous montrer un magnifique schéma fait maison :</p><figure id="r-535628" data-claire-element-id="535629"><img id="r-535627" data-claire-element-id="535627" src="medias/uploads.siteduzero.com_files_163001_164000_163500.jpg" alt="Image utilisateur"/></figure><p id="r-535630" data-claire-element-id="535630">Comme montré dans le schéma, au début, <code data-claire-semantic="html+php">$variable</code> et <code data-claire-semantic="html+php">$alias</code> pointaient sur la même valeur. On supprime l'une des deux variables, mais l'autre continue de pointer sur l'ancienne valeur que PHP n'a pas supprimée car une variable pointe toujours dessus. ;)</p><h2 id="r-verifier-le-type-d-une-variable" data-claire-element-id="535634">Vérifier le type d'une variable</h2><p id="r-535631" data-claire-element-id="535631">Pour vérifier le type d'une variable, vous pouvez appeler la fonction <code data-claire-semantic="html+php">is_*</code>. Cette fonction renvoie un booléen. Bien sûr, il n'existe pas de fonction <code data-claire-semantic="html+php">is_*</code>, mais <code data-claire-semantic="html+php">is_bool()</code>, <code data-claire-semantic="html+php">is_int()</code>, <code data-claire-semantic="html+php">is_string()</code> etc.</p><p id="r-535632" data-claire-element-id="535632">Toutes ces fonctions renvoient un booléen. <br/> Exemple :</p><pre id="r-535633" data-claire-element-id="535633"><code data-claire-semantic="html+php">&lt;?php
    $var = true;

    if (is_bool ($var))
        echo 'Boolean';
    else
        echo 'Autre';
?&gt;</code></pre><h2 id="r-la-fonction-intval" data-claire-element-id="535640">La fonction <code data-claire-semantic="html+php"><a href="http://fr2.php.net/manual/fr/function.intval.php">intval()</a></code></h2><p id="r-535635" data-claire-element-id="535635">Voici une fonction très utile. Elle permet de forcer une variable à être un nombre entier. Si la variable est une chaîne, sa nouvelle valeur sera 0, sauf si cette variable commence par un nombre, auquel cas c'est ce nombre qui sera gardé. Cette fonction est souvent utilisée dans les requêtes SQL comme celle-ci :</p><pre id="r-535636" data-claire-element-id="535636"><code data-claire-semantic="html+php">&lt;?php
    $retour = mysql_query ('SELECT * FROM membres WHERE id = ' . intval ($_GET['id']));
?&gt;</code></pre><p id="r-535637" data-claire-element-id="535637">Cela permet d'éviter les injections SQL. ;)</p><aside id="r-535639" data-claire-element-id="535639" data-claire-semantic="information"><p id="r-535638" data-claire-element-id="535638">Si vous voulez avoir un nombre à virgule, il faut utiliser la fonction <code data-claire-semantic="html+php"><a href="http://fr2.php.net/manual/fr/function.floatval.php">floatval</a></code> : elle fonctionne comme <code data-claire-semantic="html+php">intval</code>.<br/> Notez que la fonction <code data-claire-semantic="html+php">intval</code> revient au même que d'exécuter un <strong>cast</strong>.</p></aside><h2 id="r-gettype-et-settype" data-claire-element-id="535648"><code data-claire-semantic="html+php"><a href="http://fr2.php.net/manual/fr/function.gettype.php">gettype()</a></code> et <code data-claire-semantic="html+php"><a href="http://fr2.php.net/manual/fr/function.settype.php">settype()</a></code></h2><p id="r-535641" data-claire-element-id="535641">La première fonction, <code data-claire-semantic="html+php">string gettype ( mixed $var )</code>, renvoie le type de la variable spécifiée en paramètre sous forme de chaîne de caractères.</p><aside id="r-535643" data-claire-element-id="535643" data-claire-semantic="error"><p id="r-535642" data-claire-element-id="535642">Utilisez <strong>TOUJOURS</strong> les fonctions commençant par <code data-claire-semantic="html+php">is_</code> pour vérifier le type d'une variable ! D'une part, avec <code data-claire-semantic="html+php">gettype()</code>, c'est plus long (conditions) et d'autre part, si PHP connaît des modifications dans les versions ultérieures, la fonction <code data-claire-semantic="html+php">gettype()</code> pourrait très bien retourner des valeurs différentes.</p></aside><p id="r-535644" data-claire-element-id="535644">Exemple :</p><pre id="r-535645" data-claire-element-id="535645"><code data-claire-semantic="html+php">&lt;?php
    $var = 15;
    echo gettype ($var); // Affiche « integer » (entier).
?&gt;</code></pre><p id="r-535646" data-claire-element-id="535646"><code data-claire-semantic="html+php">settype()</code> affecte un type à une variable. Exemple tiré de la doc :</p><pre id="r-535647" data-claire-element-id="535647"><code data-claire-semantic="html+php">&lt;?php
    $foo = '5bar'; // chaîne
    $bar = true;   // booléen

    settype ($foo, 'integer'); // $foo vaut maintenant 5   (integer).
    settype ($bar, 'string');  // $bar vaut maintenant « 1 » (string).
?&gt;</code></pre><h2 id="r-une-derniere-pour-la-route-empty-mixed-var" data-claire-element-id="535671">Une dernière pour la route : <code data-claire-semantic="html+php"><a href="http://fr2.php.net/manual/fr/function.empty.php">empty (mixed $var)</a></code></h2><p id="r-535649" data-claire-element-id="535649">Cette fonction accepte en paramètre tout type de variable (<code data-claire-semantic="html+php">mixed</code>). Son rôle est de tester la valeur de la variable passée en paramètre. Si sa valeur est nulle, <code data-claire-semantic="html+php">empty</code> renvoie <code data-claire-semantic="html+php">true</code>, sinon elle renvoie <code data-claire-semantic="html+php">false</code>.</p><p id="r-535650" data-claire-element-id="535650">Un exemple :</p><pre id="r-535651" data-claire-element-id="535651"><code data-claire-semantic="html+php">&lt;?php
    $var1 = 'Hello world !';
    $var2 = null;

    if (empty ($var1))
        echo 'La valeur de $var1 est nulle';
    
    if (empty ($var2))
        echo 'La valeur de $var2 est nulle';
?&gt;</code></pre><p id="r-535652" data-claire-element-id="535652">Ce petit code affichera uniquement « La valeur de $var2 est nulle ».</p><aside id="r-535669" data-claire-element-id="535669" data-claire-semantic="information"><p id="r-535653" data-claire-element-id="535653">Note : empty considère ce qui suit comme vide :</p><ul id="r-535668" data-claire-element-id="535668"><li id="r-535655" data-claire-element-id="535655"><p id="r-535654" data-claire-element-id="535654"><code data-claire-semantic="html+php">&quot;&quot;</code> (une chaîne vide) ;</p></li><li id="r-535657" data-claire-element-id="535657"><p id="r-535656" data-claire-element-id="535656"><code data-claire-semantic="html+php">0</code> (0 en tant qu'entier) ;</p></li><li id="r-535659" data-claire-element-id="535659"><p id="r-535658" data-claire-element-id="535658"><code data-claire-semantic="html+php">&quot;0&quot;</code> (0 en tant que chaîne de caractères) ;</p></li><li id="r-535661" data-claire-element-id="535661"><p id="r-535660" data-claire-element-id="535660"><code data-claire-semantic="html+php">NULL</code> ;</p></li><li id="r-535663" data-claire-element-id="535663"><p id="r-535662" data-claire-element-id="535662"><code data-claire-semantic="html+php">FALSE</code> ;</p></li><li id="r-535665" data-claire-element-id="535665"><p id="r-535664" data-claire-element-id="535664"><code data-claire-semantic="html+php">array()</code> (un tableau vide) ;</p></li><li id="r-535667" data-claire-element-id="535667"><p id="r-535666" data-claire-element-id="535666"><code data-claire-semantic="html+php">var $var;</code> (une variable déclarée dans une classe, mais sans valeur).</p></li></ul></aside><p id="r-535670" data-claire-element-id="535670">Le tutoriel s'arrête ici. J'espère vous avoir fait découvrir quelques petites astuces concernant les variables en PHP. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables">Allez plus loin avec les variables !</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-references-5">
Les références
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-globales-1">
Variables globales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/variables-statiques">
Variables statiques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-variables-de-fonctions">
Les variables de fonctions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/les-casts-1">
Les casts
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/operateurs-de-comparaison-5">
Opérateurs de comparaison
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
Accéder aux caractères d&#039;un string
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/principales-fonctions-concernant-les-variables">
Principales fonctions concernant les variables
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/allez-plus-loin-avec-les-variables/acceder-aux-caracteres-d-un-string">
<span class="arrow"></span>
<span class="next">Accéder aux caractères d&#039;un string</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/allez-plus-loin-avec-les-variables.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:20:48 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/allez-plus-loin-avec-les-variables.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:21:35 GMT -->
</html>
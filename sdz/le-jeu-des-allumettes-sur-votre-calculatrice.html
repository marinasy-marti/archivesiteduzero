<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/le-jeu-des-allumettes-sur-votre-calculatrice.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 23:20:13 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/le-jeu-des-allumettes-sur-votre-calculatrice.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:04:35 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Le jeu des allumettes sur votre calculatrice.</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Le jeu des allumettes sur votre calculatrice.</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Lejeudesallumettessurvotrecalculatrice.">Le jeu des allumettes sur votre calculatrice.</a><br/><a href="#Commentqu039onfait">Comment qu&#039;on fait ?</a><br/><a href="#Al039attaque">A l&#039;attaque !</a><br/></div>
<a name="Lejeudesallumettessurvotrecalculatrice."></a><h2>Le jeu des allumettes sur votre calculatrice.</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/comment-qu-on-fait">
<span class="next">Comment qu&#039;on fait ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-369167" data-claire-element-id="369167">Salut à tous ! :) <br/> Voici donc mon premier tuto, qui ne sera peut-être pas le dernier du genre ;) .</p><p id="r-369168" data-claire-element-id="369168">Le but ? Créer le jeu des allumettes sur votre calculatrice pour vous montrer (en gros) comment on programme sur ces machines.</p><p id="r-369169" data-claire-element-id="369169">Ce qui est pratique, c'est que le langage utilisé est vraiment très simple, et il permet une approche de la programmation à la fois rapide et intéressante, car on arrive très vite à faire de beaux jeux !</p><p id="r-369170" data-claire-element-id="369170">Quel sera le matériel nécessaire ?</p><ul id="r-369179" data-claire-element-id="369179"><li id="r-369172" data-claire-element-id="369172"><p id="r-369171" data-claire-element-id="369171">Un cerveau en état de marche</p></li><li id="r-369174" data-claire-element-id="369174"><p id="r-369173" data-claire-element-id="369173">Un crayon et du papier (plus important qu'on ne le pense !)</p></li><li id="r-369176" data-claire-element-id="369176"><p id="r-369175" data-claire-element-id="369175">Bien sûr, une calculatrice. Personnellement je dispose d'une TI-83 plus, les calculatrices supérieures devraient faire l'affaire (ainsi que les TI-83 et 82 mais je ne garantis pas que toutes les fonctions que j'utiliserai soient présentes sur ces machines)</p></li><li id="r-369178" data-claire-element-id="369178"><p id="r-369177" data-claire-element-id="369177">Quelques connaissances en TI-basic (allez lire rapidement <a href="http://www.siteduzero.com/tuto-3-1524-0-le-ti-basic.html">le tuto sur le TI-basic</a>).</p></li></ul><p id="r-369180" data-claire-element-id="369180">Prêts ? En avant !</p>
</div><a name="Commentqu039onfait"></a><h2>Comment qu&#039;on fait ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/a-l-attaque-1">
<span class="next">A l&#039;attaque !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-369181" data-claire-element-id="369181">Bonne question non ? Comment qu'on fait pour savoir où commencer ? Il faut d'abord commencer par définir précisément ce que l'on veut faire, admettez que pour l'instant, &quot;le jeu des allumettes&quot; c'est pas très clair ^^ .</p><p id="r-369182" data-claire-element-id="369182">Je vais vous expliquer ma version du jeu, mais vous pourrez toujours (et je vous encourage à le faire) la modifier à votre convenance pour vous entraîner à programmer ou pour améliorer le programme (rappelons que la meilleure façon de découvrir de nouvelles choses est de bidouiller !).</p><p id="r-369183" data-claire-element-id="369183">On aura donc 36 allumettes disposées sur le tableau de jeu, et chaque joueur (si il n'y a qu'un seul joueur, l'ordinateur se chargera de jouer à la place du deuxième joueur) devra à son tour enlever entre une et six allumettes sans prendre la dernière, car le joueur qui enlèvera la dernière allumette perdra la partie.</p><p id="r-369184" data-claire-element-id="369184">Alors, maintenant qu'on connaît les règles du jeu, on peut se lancer ? Eh non ! pas encore ;) .</p><p id="r-369185" data-claire-element-id="369185">L'une des raisons récurrentes pour lesquelles certains programmeurs en herbe n'arrivent pas au bout de leurs programmes est qu'ils ne pensent pas leur programme avant de se lancer dans sa réalisation. Ils &quot;foncent tête baissée&quot;. Erreur !</p><p id="r-369186" data-claire-element-id="369186">Tout bon programmeur, avant de se lancer dans sa tache, se doit de faire un algorigramme de son programme.</p><p id="r-369187" data-claire-element-id="369187">Un algori quoi ? o_O</p><p id="r-369188" data-claire-element-id="369188">Al-go-ri-gramme. C'est une sorte de plan du programme qui détaille toutes les étapes qu'il devra suivre avant d'arriver à sa fin. Cela permet de ne pas se perdre en cours de route, on sait exactement où on en est et pourquoi on fait ce que l'on fait. Cependant, dans ce tuto, nous ne réaliserons pas un vrai algorigramme, ce serait trop long pour moi de tout détailler (bien qu'il soit relativement simple pour un programme de cette ampleur).</p><p id="r-369189" data-claire-element-id="369189">On va donc écrire notre programme simplement, étape par étape en les numérotant pour plus de clarté (vous pouvez l'écrire sur papier pour l'avoir à portée de main, c'est d'ailleurs ce qu'il faudra faire pour vos futurs programmes ;) ) :</p><ul id="r-369206" data-claire-element-id="369206"><li id="r-369191" data-claire-element-id="369191"><p id="r-369190" data-claire-element-id="369190">Afficher un écran de bienvenue avec le nom du programme, votre nom pour faire classe :p et éventuellement la version du programme s'il vous arrive de l'améliorer de temps en temps.</p></li><li id="r-369193" data-claire-element-id="369193"><p id="r-369192" data-claire-element-id="369192">Afficher un menu où le joueur pourra choisir de commencer une partie (on se rendra alors à l'étape 4) , de consulter les règles de jeu (dans ce cas, on se rendra à l'étape 3) ou de quitter le jeu (étape 9).</p></li><li id="r-369195" data-claire-element-id="369195"><p id="r-369194" data-claire-element-id="369194">Demander le nombre de joueurs (1 ou 2) en affichant un menu pour que le joueur fasse son choix.</p></li><li id="r-369197" data-claire-element-id="369197"><p id="r-369196" data-claire-element-id="369196">Tirer au sort le joueur qui commencera à jouer.</p></li><li id="r-369199" data-claire-element-id="369199"><p id="r-369198" data-claire-element-id="369198">Afficher les allumettes restantes et demander, tour à tour, à chaque joueur combien d'allumettes il veut retirer (si il n'y à qu'un joueur, faire jouer l'ordinateur) jusqu'à ce qu'il n'en reste plus.</p></li><li id="r-369201" data-claire-element-id="369201"><p id="r-369200" data-claire-element-id="369200">Afficher le résultat de la partie (lequel des joueurs l'emporte).</p></li><li id="r-369203" data-claire-element-id="369203"><p id="r-369202" data-claire-element-id="369202">Demander au joueur s'il veut recommencer une partie sans changer le nombre de joueurs (si c'est le cas, on recommence à partir de l'étape 5, sinon on retourne à l'étape 2) ou s'il veut quitter le jeu (étape 9).</p></li><li id="r-369205" data-claire-element-id="369205"><p id="r-369204" data-claire-element-id="369204">Quitter le jeu en effaçant l'écran.</p></li></ul><p id="r-369207" data-claire-element-id="369207">Le déroulement du programme est maintenant clair, net et précis, et mine de rien on vient de simplifier tout le travail. Comme on dit, y'a plus qu'à ! (j'aurais pu faire un plan beaucoup plus complet en décrivant comment procéder à chaque étape, mais ça aurait été très long et je ne veux pas vous noyer, c'est pour ça que nous le ferons ensemble dans la seconde partie ;) c'est-à-dire maintenant :D ).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice">Le jeu des allumettes sur votre calculatrice.</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/comment-qu-on-fait">
Comment qu&#039;on fait ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/a-l-attaque-1">
A l&#039;attaque !
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/a-l-attaque-1">
<span class="next">A l&#039;attaque !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Al039attaque"></a><h2>A l&#039;attaque !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/comment-qu-on-fait">
<span class="arrow"></span>
<span class="next">Comment qu&#039;on fait ?</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-369209" data-claire-element-id="369209">Avant tout, je préfère préciser deux choses : la première est que j'expliquerai ce programme de A à Z, si en regardant le plan du programme vous pensez n'avoir aucune idée de comment faire, aucun problème ! Je vous guiderai pas à pas ;) .<br/> La seconde : si jamais il y a une fonction que vous n'arrivez pas à trouver, vous pouvez la chercher dans le catalogue où toutes les fonctions sont réunies et classées par ordre alphabétique en appuyant sur les touches 2nd puis 0.<br/> Cette fois ci, on est parti !</p><aside id="r-369211" data-claire-element-id="369211" data-claire-semantic="information"><p id="r-369210" data-claire-element-id="369210">En TI-Basic, les commentaires n'existent pas en principe, je vous en ai quand même mis quelque uns qui pourront améliorer votre compréhension du code ;) les commentaires sont placés après les doubles slashs &quot;//&quot;.</p></aside><p id="r-369212" data-claire-element-id="369212">Commencez donc par créer un nouveau programme que vous appellerez comme bon vous semble (touches prgm, puis deux fois flèche droite, puis enter). Vous pouvez alors commencer à programmer.</p><p id="r-369213" data-claire-element-id="369213">On va commencer par la première étape, logique :) . On veut afficher un écran de bienvenue avec du texte mais on doit d'abord s'assurer que rien d'autre ne sera affiché, sinon ça va pas être très beau ^^ . On va donc désactiver l'affichage des axes, puis effacer l'écran (appuyez sur les touches 2nd puis zoom (tout en haut, la touche du milieu) puis amenez le curseur sur &quot;axes off&quot; et appuyez sur enter, ce qui désactivera les axes pour le moment :) ). On efface maintenant l'écran et par la même occasion, le graphique sur lequel des courbes sont peut-être encore affichées.</p><p id="r-369214" data-claire-element-id="369214">Vous devez donc normalement à ce stade avoir trois lignes dans votre programme :</p><pre id="r-369215" data-claire-element-id="369215"><code>AxesOff
ClrHome
ClrDraw</code></pre><p id="r-369216" data-claire-element-id="369216">On peut maintenant afficher notre texte d'accueil, pour centrer le texte il faut bidouiller un peu les coordonnées jusqu'à ce que le résultat soit convenable. Pour ma part je procèderai comme ceci :</p><pre id="r-369217" data-claire-element-id="369217"><code>Text(20,17,&quot;JEU DES ALLUMETTES&quot;)
Text(26,35,&quot;PAR NEPH&quot;)</code></pre><p id="r-369218" data-claire-element-id="369218">On va maintenant utiliser une fonction très pratique : la pause (vous avez dû la voir dans le tuto sur le TI-Basic), elle permet comme son nom l'indique de mettre le programme en pause jusqu'à ce que le joueur appuie sur la touche &quot;enter&quot;. Pour utiliser cette fonction, appuyez sur les touches prgm puis 8. Je vous montrerai l'utilité de cette fonction dans quelques instants ;) .</p><p id="r-369219" data-claire-element-id="369219">On passe maintenant à l'étape 2, on affiche le menu principal. Juste avant, on va insérer un label (touche prgm puis 9) pour indiquer au programme que cet endroit précis du programme est le menu principal, cela permettra par la suite de revenir au menu principal très facilement, tapez donc :</p><pre id="r-369220" data-claire-element-id="369220"><code>Lbl 02</code></pre><p id="r-369221" data-claire-element-id="369221">On affiche maintenant le menu, pour cela tapez prgm puis alpha (la touche verte) puis de nouveau prgm. Voilà comment utiliser un menu :</p><pre id="r-369222" data-claire-element-id="369222"><code>Menu(&quot;TITRE DU MENU&quot;,&quot;CHOIX 1&quot;,adresse du choix 1,&quot;CHOIX 2&quot;,adresse du choix 2)</code></pre><p id="r-369223" data-claire-element-id="369223">Les adresses correspondent aux labels, par exemple pour revenir au menu principal, il faudrait mettre :</p><pre id="r-369224" data-claire-element-id="369224"><code>Menu(&quot;QUE FAIRE ?&quot;, &quot;MENU PRINCIPAL&quot;,02,&quot;QUITTER&quot;,adresse pour quitter)</code></pre><p id="r-369225" data-claire-element-id="369225">car 02 est le numéro du label que nous avons attribué au menu principal, vous vous rappelez ? (remarque : j'ai mis 02 car c'est le numéro qui correspond à l'étape du menu principal)</p><p id="r-369226" data-claire-element-id="369226">Si nous suivons notre plan, nous devons donc taper ceci :</p><pre id="r-369227" data-claire-element-id="369227"><code>Menu(&quot;MENU PRINCIPAL&quot;,&quot;JOUER&quot;,04,&quot;REGLE&quot;,03,&quot;QUITTER&quot;,09)</code></pre><p id="r-369228" data-claire-element-id="369228">Comme nous n'avons pas encore défini les labels 04, 03 et 09, le programme renverra une erreur, mais vous pouvez vous amusez à mettre 02 à la place de 04 pour tester, le menu principal reviendra donc indéfiniment vers lui même ! Un peu bête mais c'est juste pour tester ^^ .</p><aside id="r-369230" data-claire-element-id="369230" data-claire-semantic="information"><p id="r-369229" data-claire-element-id="369229">Pour arrêter un programme, appuyez sur ON pendant qu'il s'exécute ;) très pratique !</p></aside><aside id="r-369232" data-claire-element-id="369232" data-claire-semantic="warning"><p id="r-369231" data-claire-element-id="369231">il est possible que le titre du menu et les nom des choix dépassent de l'écran ! Vérifiez bien que ça ne soit pas le cas en testant vos programmes à chaque fois ;) ).</p></aside><p id="r-369233" data-claire-element-id="369233">Au fait, maintenant qu'on a notre menu, essayez donc de supprimer la pause juste avant pour tester ;) utile non ?</p><p id="r-369234" data-claire-element-id="369234">On passe maintenant à l'étape 3, il va falloir effacer de nouveau le graphique puis afficher les règles en ayant pris soin de mettre le label 03 avant et enfin, revenir au menu principal avec une pause (au label 02 donc). C'est assez long à taper mais c'est mon jour de bonté, je vous donne le modèle :</p><pre id="r-369235" data-claire-element-id="369235"><code>Lbl 03
ClrDraw
Text(0,0,&quot;REGLE DU JEU :&quot;)
Text(6,0,&quot;ENLEVER ENTRE UNE ET SIX&quot;)
Text(12,0,&quot;ALLUMETTES SANS PRENDRE LA&quot;)
Text(18,0,&quot;DERNIERE.&quot;)
Pause
Goto 02</code></pre><p id="r-369236" data-claire-element-id="369236">Reprenons notre programme depuis le début :</p><pre id="r-369237" data-claire-element-id="369237"><code>AxesOff
ClrHome
ClrDraw
Text(20,17,&quot;JEU DES ALLUMETTES&quot;)
Text(26,35,&quot;PAR NEPH&quot;)
Pause
Lbl 02
Menu(&quot;MENU PRINCIPAL&quot;,&quot;JOUER&quot;,04,&quot;REGLE&quot;,03,&quot;QUITTER&quot;,09)
Lbl 03
ClrDraw
Text(0,0,&quot;REGLE DU JEU :&quot;)
Text(6,0,&quot;ENLEVER ENTRE UNE ET SIX&quot;)
Text(12,0,&quot;ALLUMETTES SANS PRENDRE LA&quot;)
Text(18,0,&quot;DERNIERE.&quot;)
Pause
Goto 02</code></pre><p id="r-369238" data-claire-element-id="369238">On passe maintenant à l'étape 4, on affiche un menu pour demander le nombre de joueurs, ce qui donne (on a l'habitude maintenant ;) ) :</p><pre id="r-369239" data-claire-element-id="369239"><code>Lbl 04
Menu(&quot;NOMBRE JOUEURS&quot;,&quot;UN&quot;,41,&quot;DEUX&quot;,42)</code></pre><aside id="r-369241" data-claire-element-id="369241" data-claire-semantic="information"><p id="r-369240" data-claire-element-id="369240">Notez que j'ai choisi 41 et 42 car on peut les lire &quot;étape 4 sous étape 1, étape 4 sous étape 2&quot;, vous pouvez mettre ce que vous voulez, le tout étant d'arriver à se retrouver dans son programme et surtout à ne pas mettre deux fois le même label !</p></aside><p id="r-369242" data-claire-element-id="369242">On stocke ensuite le nombre de joueurs dans la variable J, pour cela, tapez le nombre que vous voulez stocker dans votre variable, puis appuyez sur la touche STO-&gt; (juste au dessus de ON) puis tapez le nom de la variable (une seule lettre).</p><pre id="r-369243" data-claire-element-id="369243"><code>Lbl 41
1-&gt;J
Goto 05
Lbl 42
2-&gt;J
Lbl 05</code></pre><p id="r-369244" data-claire-element-id="369244">On en est maintenant à l'étape 5, il faut déterminer quel joueur jouera le premier. Pour cela, on stockera 1 ou 0 dans la variable T (comme tour, c'est bien aussi de choisir des noms de variables dont on se rappelle facilement :) ). Si T = 0, c'est le tour du joueur 1 (mon tour), sinon c'est le tour de l'autre.</p><p id="r-369245" data-claire-element-id="369245">On génère donc un chiffre aléatoire entre 0 et 1 grâce à la fonction rantInt (à trouver dans le catalogue, 2nd puis 0) qui s'utilise comme ceci :</p><pre id="r-369246" data-claire-element-id="369246"><code>randInt(0,1)-&gt;T</code></pre><p id="r-369247" data-claire-element-id="369247">Puis on stocke le nombre total d'allumettes dans la variable A, ici, 36.</p><pre id="r-369248" data-claire-element-id="369248"><code>36-&gt;A</code></pre><p id="r-369249" data-claire-element-id="369249">Enfin, j'ai décidé d'afficher les 36 allumettes (qui seront en fait des i majuscules) sur 3 lignes (on ne peut pas les afficher sur une seule ligne) avec 12 allumettes sur chaque ligne. On va donc créer une liste qui contiendra trois nombres : le premier sera le nombre d'allumettes sur la première ligne, le deuxième représentera la seconde ligne et le dernier comptera les allumettes sur la dernière ligne.<br/> Pour créer cette liste tapez ceci :</p><pre id="r-369250" data-claire-element-id="369250"><code>{12,12,12}-&gt;L1</code></pre><p id="r-369251" data-claire-element-id="369251">Pour le L1, tapez 2nd puis 1, pour l'accolade de gauche, tapez 2nd puis &quot;(&quot;, pour celle de droite, tapez 2nd puis &quot;)&quot;.</p><p id="r-369252" data-claire-element-id="369252">On passe alors à l'étape 6 : le tour de jeu ! Le plus intéressant :) .</p><p id="r-369253" data-claire-element-id="369253">Voilà comment cela va se dérouler : premièrement on affiche les allumettes, ensuite on fait jouer les joueurs (je vous montrerai comment réaliser une &quot;IA&quot; extrêmement simplifiée à la fin du tuto)</p><p id="r-369254" data-claire-element-id="369254">On va faire une boucle : jusqu'à ce que le nombre d'allumettes soit inférieur à un, on continuera à demander aux joueurs, tour à tour, combien d'allumettes ils veulent retirer. Cela se traduit par la fonction (je devrais dire boucle) Repeat (touches prgm puis 6) sans oublier de mettre un End (prgm puis 7) pour indiquer l'endroit où s'arrête cette boucle.</p><pre id="r-369255" data-claire-element-id="369255"><code>Repeat A&lt;1 //JUSQU'A ce que A soit plus petit que un (qu'il n'y ai plus d'allumettes donc), on va exécuter les instructions se trouvant dans la boucle (entre le repeat et le end donc :) )</code></pre><p id="r-369256" data-claire-element-id="369256">Voici le code qui va permettre d'afficher les allumettes : (pour utiliser For : prgm puis 4)</p><pre id="r-369257" data-claire-element-id="369257"><code>For(I,1,3)
For(K,1,L1(I))
Output(2I+2,K+2,&quot;I&quot;)
End
End</code></pre><p id="r-369258" data-claire-element-id="369258">C'est assez compliqué à expliquer pour le moment, surtout si ce n'est que votre premier programme, les personnes un peu plus expérimentées devraient pouvoir comprendre après avoir examiné ce code d'un peu plus près ;) .</p><p id="r-369259" data-claire-element-id="369259">Ensuite, voici la manière dont va se dérouler un tour de jeu : si il n'y a qu'un seul joueur (J=1) et que c'est à l'ordinateur de jouer (T=1), alors je dois prendre un chiffre au hasard entre 1 et 6 pour faire jouer l'ordinateur, sinon je dois simplement demander une valeur entre 1 et 6 au joueur, quel qu'il soit, puis changer la variable T (dans les deux cas).</p><p id="r-369260" data-claire-element-id="369260">Cela se fait très simplement (explications en dessous du code) :</p><pre id="r-369261" data-claire-element-id="369261"><code>If J=1 and T=1 //SI il n'y a qu'un seul joueur ET que c'est le tour de l'ordinateur, 
Then //ALORS exécuter les instructions suivantes jusqu'au End
 
RandInt(1,6)-&gt;E //on stocke le nombre d'allumettes à Enlever (avec un grand E) qui est un chiffre au hasard entre 1 et 6.
 
Output(1,1,&quot;LORDINATEUR EN&quot;)
Output(2,1,&quot;ENLEVE :&quot;)
Output(2,10,E) //on affiche le nombre d'allumettes que l'ordinateur enlève pour que le joueur puisse le savoir
 
Pause //ne pas oublier la pause ;) .
 
Else //SINON (si c'est mon tour de jouer OU qu'il y a deux joueurs) on va demander une valeur a un joueur.
 
Repeat E&lt;7 and E&gt;0 //JUSQU'A ce que le nombre d'allumettes à enlever soit compris entre 1 et 6 (on ne veut pas qu'un joueur puisse enlever plus de 6 allumettes, mais il ne peut pas non plus en enlever 0 ou pire, un chiffre négatif !)
 
Output(2,1,&quot;JOUEUR&quot;)
Output(2,8,T+1) //on affiche le numéro du joueur (j'ai mis T+1 pour afficher joueur 1 et 2 et non joueur 0 et 1)
 
Input  &quot;NBR A ENLEVER&quot;,E //On demande au joueur le nombre d'allumettes à enlever puis on stocke la valeur dans E.
 
Int(E)-&gt;E //ici, la fonction int supprime la partie décimale de E, au cas où le joueur ai entré 1,5 par exemple, car on ne peut pas retirer 1,5 allumettes !
 
End //fin du Repeat
End //fin du If
 
ClrHome //on efface l'écran un très court instant pour que &quot;NBR A ENLEVER&quot; s'affiche toujours sur la première ligne (faites un essai sans ce ClrHome pour voir ;) ).
 
Not(T)-&gt;T //on change le tour
 
L1(1)-E-&gt;L1(1) //On supprime les allumettes de la première ligne (le 1er terme de L1 correspondant aux allumettes sur la 1ère ligne)
 
If L1(1)&lt;0 //SI il n'y a plus assez d'allumettes sur la première ligne
Then //ALORS exécuter les instructions jusqu'au End
 
L1(2)+L1(1)-&gt;L1(2) //on supprime les allumettes manquantes sur la deuxième ligne (qui correspond à L1(2)) la ligne de code à l'air compliquée, mais analysez la bien, ce n'est qu'une petite gymnastique d'esprit ! :D 
0-&gt;L1(1) //on remet le compteur de la première ligne à zéro (il ne peut pas y avoir un nombre d'allumettes négatif sur une ligne !)
 
If L1(2)&lt;0 //SI il n'y a plus d'allumettes sur la deuxième ligne non plus
Then //ALORS
 
L1(3)+L1(2)-&gt;L1(3) //on les supprime sur la dernière ligne !
0-&gt;L1(2) //on remet le compteur de la deuxième ligne à zéro
 
End //Fin du deuxième if
End //Fin du premier if
 
L1(1)+L1(2)+L1(3)-&gt;A //On stocke le nouveau nombre d'allumettes dans A (c'est la somme du nombre d'allumettes sur chaque ligne !)
 
End //fin du repeat</code></pre><p id="r-369262" data-claire-element-id="369262">Vous noterez la présence de la fonction not, son fonctionnement est simple : elle renvoi l'inverse logique de la valeur qu'on lui donne. Je m'explique : si on lui envoie une valeur égale à zéro, elle renverra un, sinon, pour n'importe quelle autre valeur (même négative), elle renverra zéro ! Très pratique dans notre cas car elle sert à &quot;inverser&quot; le tour de jeu ;) . Une petite astuce que j'ai trouvée et que j'utilise assez souvent.</p><p id="r-369263" data-claire-element-id="369263">Et voilà :D . Tout ce code ne devrait pas vous poser de problème si vous avez lu le tuto sur le Ti-Basic et si vous réfléchissez un peu ;) . N'hésitez pas à prendre un peu de repos quand même, allez vous détendre, parce que mine de rien, c'est déjà du costaud tout ça !</p><p id="r-369264" data-claire-element-id="369264">On passe maintenant à l'étape 7 : afficher le vainqueur, mais comment faire ? Une fois de plus, ce n'est pas difficile : le dernier joueur à avoir joué est, logiquement, celui qui a pris la dernière allumette, c'est donc aussi celui qui a perdu ! Or à la fin de son tour de jeu, la variable T à été inversée, elle contient donc le tour du vainqueur, vous me suivez ?<br/> Par contre, il ne faut pas oublier que si il n'y a qu'un seul joueur, il faut afficher que le vainqueur est l'ordinateur !</p><pre id="r-369265" data-claire-element-id="369265"><code>ClrHome
Output(3,4,&quot;VAINQUEUR:&quot;)
 
If J=1 and T=1 //SI il n'y a qu'un seul joueur ET que c'est le tour de l'ordinateur (et donc, qu'il a gagné)
Then
Output(4,4,&quot;ORDINATEUR&quot;)
Else //SINON afficher le numéro du joueur qui a perdu.
Output(4,5,&quot;JOUEUR&quot;)
Output(4,12,T+1)
End
Pause
ClrHome</code></pre><p id="r-369266" data-claire-element-id="369266">Et voilà :D , simple comme bonjour n'est-ce pas ? Etape 8 : demander au joueur s'il veut recommencer ou non, ou s'il veut quitter, un fois de plus, voilà un menu :</p><pre id="r-369267" data-claire-element-id="369267"><code>Menu(&quot;RECOMMENCER?&quot;,&quot;OUI&quot;,05,&quot;NON&quot;,02,&quot;QUITTER&quot;,09)</code></pre><p id="r-369268" data-claire-element-id="369268">Et voilà, il ne reste plus qu'à mettre en place le label 09 pour quitter (étape 9 donc), on efface l'écran et le graphique pour éviter d'être encombré par la suite.</p><pre id="r-369269" data-claire-element-id="369269"><code>Lbl 09
ClrHome
ClrDraw</code></pre><p id="r-369270" data-claire-element-id="369270">Lorsque la machine ne rencontre plus d'instructions à exécuter, elle arrête automatiquement le programme !<br/> Voilà donc notre programme terminé :</p><pre id="r-369271" data-claire-element-id="369271"><code>AxesOff
ClrHome
ClrDraw
Text(20,17,&quot;JEU DES ALLUMETTES&quot;)
Text(26,35,&quot;PAR NEPH&quot;)
Pause
Lbl 02
Menu(&quot;MENU PRINCIPAL&quot;,&quot;JOUER&quot;,04,&quot;REGLE&quot;,03,&quot;QUITTER&quot;,09)
Lbl 03
ClrDraw
Text(0,0,&quot;REGLE DU JEU :&quot;)
Text(6,0,&quot;ENLEVER ENTRE UNE ET SIX&quot;)
Text(12,0,&quot;ALLUMETTES SANS PRENDRE LA&quot;)
Text(18,0,&quot;DERNIERE.&quot;)
Pause
Goto 02
Lbl 04
Menu(&quot;NOMBRE JOUEURS&quot;,&quot;UN&quot;,41,&quot;DEUX&quot;,42)
Lbl 41
1-&gt;J
Goto 05
Lbl 42
2-&gt;J
Lbl 05
randInt(0,1)-&gt;T
36-&gt;A
{12,12,12}-&gt;L1
Repeat A&lt;1
For(I,1,3)
For(K,1,L1(I))
Output(2I+2,K+2,&quot;I&quot;)
End
End
If J=1 and T=1
Then
RandInt(1,6)-&gt;E
Output(1,1,&quot;LORDINATEUR EN&quot;)
Output(2,1,&quot;ENLEVE :&quot;)
Output(2,10,E)
Pause
Else
Repeat E&lt;7 and E&gt;0
Output(2,1,&quot;JOUEUR&quot;)
Output(2,8,T+1)
Input  &quot;NBR A ENLEVER&quot;,E
End
End
ClrHome
Not(T)-&gt;T
L1(1)-E-&gt;L1(1)
If L1(1)&lt;0
Then
L1(2)+L1(1)-&gt;L1(2)
0-&gt;L1(1) 
If L1(2)&lt;0
Then
L1(3)+L1(2)-&gt;L1(3)
 0-&gt;L1(2) 
End
End
L1(1)+L1(2)+L1(3)-&gt;A
End
Output(3,4,&quot;VAINQUEUR:&quot;)
If J=1 and T=1
Then
Output(4,4,&quot;ORDINATEUR&quot;)
Else
Output(4,5,&quot;JOUEUR&quot;)
Output(4,12,T+1)
End
Pause
ClrHome
Menu(&quot;RECOMMENCER?&quot;,&quot;OUI&quot;,05,&quot;NON&quot;,02,&quot;QUITTER&quot;,09)
Lbl 09
ClrHome
ClrDraw</code></pre><aside id="r-369273" data-claire-element-id="369273" data-claire-semantic="information"><p id="r-369272" data-claire-element-id="369272">J'ai copié ce code à l'identique sur ma propre calculatrice, et ça a l'air de marcher, donc en principe, ça devrait marcher pour vous aussi ;) .</p></aside><p id="r-369274" data-claire-element-id="369274">Pour terminer, j'aimerai que nous rajoutions une &quot;IA&quot; à l'ordinateur, car, par exemple, s'il ne reste que deux allumettes, comme on tire un chiffre au hasard entre un et six, il est fort probable qu'il prenne la dernière allumette alors qu'il n'aurait pas du ! Notre programme tel quel ne présente donc pas un grand intérêt en mode un joueur, l'ordinateur étant vraiment simple à battre.</p><p id="r-369275" data-claire-element-id="369275">Pour éviter cela, nous (ou plutôt vous :D ) allons programmer quelques lignes afin que, s'il reste 7 allumettes ou moins, l'ordinateur, plutôt que de prendre un chiffre aléatoire, enlève un nombre précis d'allumettes afin qu'il n'en reste plus qu'une ;) . A vous de jouer, essayez de réfléchir à ça sans regarder la solution (qui ne tient qu'en quelques lignes !)</p><p id="r-369276" data-claire-element-id="369276"></p><div id="r-369279" data-claire-element-id="369279"><div id="r-369278" data-claire-element-id="369278"><pre id="r-369277" data-claire-element-id="369277"><code>If A&gt;1 and A&lt;8
Then
A-1-&gt;E
Else
RantInt(1,6)-&gt;E
End</code></pre></div></div><p id="r-369280" data-claire-element-id="369280">Voilà ma solution, il en existe d'autres évidemment (un même programme peut être écrit de mille façons différentes ;) ). On pourrait pousser l'IA un peu plus loin, voir même rendre l'ordinateur imbattable ce qui n'est pas si compliqué qu'il n'y paraît en réalité, il suffit de connaître le truc, mais pour ça je vous laisse vous creuser un peu la tête :p .</p><p id="r-369281" data-claire-element-id="369281">Et voilà, c'est terminé, j'avoue que ce tuto aura été beaucoup plus long que je ne le pensais à la base, et encore j'ai supprimé pas mal de morceaux (le plus possible pour ne pas trop vous encombrer ^^).</p><p id="r-369282" data-claire-element-id="369282">J'espère que vous avez compris et que cela vous donnera envie d'améliorer le programme ou mieux : de créer les vôtres ! Rappelez vous qu'aucun programme n'est parfait (même pas les miens :p ) et qu'il est toujours possible de les améliorer ;) .</p><p id="r-369283" data-claire-element-id="369283">Si vous avez des questions, réclamations ou que vous n'arrivez pas à comprendre une partie du tuto, n'hésitez pas à m'écrire, je serais enchanté de vous aider ;) .</p><p id="r-369284" data-claire-element-id="369284">A bientôt ! :D</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice">Le jeu des allumettes sur votre calculatrice.</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/comment-qu-on-fait">
Comment qu&#039;on fait ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/a-l-attaque-1">
A l&#039;attaque !
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-jeu-des-allumettes-sur-votre-calculatrice/comment-qu-on-fait">
<span class="arrow"></span>
<span class="next">Comment qu&#039;on fait ?</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/le-jeu-des-allumettes-sur-votre-calculatrice.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 23:20:13 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/le-jeu-des-allumettes-sur-votre-calculatrice.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:04:36 GMT -->
</html>
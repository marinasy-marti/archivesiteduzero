<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 08:36:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:32:37 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Compilezl039AS3gratuitementetlgalementsousWindows_Linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a><br/><a href="#Tlchargerlecompilateur">Télécharger le compilateur</a><br/><a href="#Utiliserlecompilateur">Utiliser le compilateur</a><br/><a href="#VotrepremierSWFlibre">Votre premier SWF libre !</a><br/><a href="#Correctiondesbugsetoptimisationsducode-source">Correction des bugs et optimisations du code-source</a><br/><a href="#LafonctionTrace">La fonction Trace</a><br/></div>
<a name="Compilezl039AS3gratuitementetlgalementsousWindows_Linux"></a><h2>Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
<span class="next">Télécharger le compilateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-568291" data-claire-element-id="568291">Bonjour amis Zéros !<br/> Dans ce tutoriel, nous allons parler de Flash...</p><aside id="r-568293" data-claire-element-id="568293" data-claire-semantic="error"><p id="r-568292" data-claire-element-id="568292">Ce tutoriel ne vous apprendra pas à utiliser l'ACTIONSCRIPT ! (Le langage de Flash.)<br/> Il vous permettra juste de faire du flash haut niveau de façon multi-plates-formes et gratuite.<br/> À la rigueur, si vous utilisez l'IDE, vous pouvez commencer à lire à partir de la quatrième partie, dans un souci d'optimisation de votre code. (Résultats (quasi-)garantis...)</p></aside><p id="r-568294" data-claire-element-id="568294">Dans quels cas ce logiciel me sera utile ?</p><ul id="r-568301" data-claire-element-id="568301"><li id="r-568296" data-claire-element-id="568296"><p id="r-568295" data-claire-element-id="568295">Vous avez Windows et l'IDE d'Adobe, mais la version de démonstration touche à sa fin et vous ne souhaitez pas débourser 800 euros pour continuer à programmer ?</p></li><li id="r-568298" data-claire-element-id="568298"><p id="r-568297" data-claire-element-id="568297">Vous avez Linux et vous aimeriez bien pouvoir développer en AS3 (ActionScript 3) ?</p></li><li id="r-568300" data-claire-element-id="568300"><p id="r-568299" data-claire-element-id="568299">Et surtout, vous ne <strong>voulez</strong> pas pirater un logiciel, quel qu'il soit ! J'espère bien que ce n'est pas votre genre... :colere2:</p></li></ul><p id="r-568302" data-claire-element-id="568302">Ce mini-tuto est fait pour vous...</p><p id="r-568303" data-claire-element-id="568303"><a href="http://neamar.fr/Res/Compiler_AS3">Quelques exemples de ce que vous serez capables de faire après avoir lu ce tutoriel.</a></p>
</div><a name="Tlchargerlecompilateur"></a><h2>Télécharger le compilateur</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
<span class="next">Utiliser le compilateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-568304" data-claire-element-id="568304">Même si l'IDE d'Adobe est payant (et beaucoup trop cher pour un particulier comme vous et moi), il existe un logiciel gratuit appelé <a href="http://www.adobe.com/fr/products/flex/">Flex SDK</a>, développé par Macromedia (l'ancien possesseur de Flash, racheté depuis par Adobe), qui possède un compilateur AS3 performant (en fait, c'est le compilateur standard pour l'AS3 ;) ).</p><aside id="r-568306" data-claire-element-id="568306" data-claire-semantic="information"><p id="r-568305" data-claire-element-id="568305">Depuis le début, je ne parle que de l'Action Script 3, mais vous serez ravis d'apprendre que ce compilateur peut aussi gérer l'AS2. (Et même quelques autres langages, qu'il utilise dans les compilations avancées, mais nous n'en parlerons pas !)</p></aside><p id="r-568307" data-claire-element-id="568307">Dans ce tutorial, nous n'allons pas nous intéresser aux capacités de Flex SDK, mais uniquement à son compilateur.<br/> Pour commencer, il va donc falloir télécharger ce compilateur dont je vous parle depuis dix minutes...<br/> Vous le trouverez ici :</p><p id="r-568308" data-claire-element-id="568308"><a href="http://download.macromedia.com/pub/flex/sdk/flex_sdk_3.zip">Flex_sdk_3.zip</a><br/>(vous devez accepter <a href="http://www.adobe.com/cfusion/entitlement/index.cfm?e=flex3email">les conditions d'Adobe</a>)<br/> (vous aurez besoin d'avoir <a href="http://java.sun.com/javase/downloads/index.html">Java</a> installé.)</p><p id="r-568309" data-claire-element-id="568309"><cite>Citation : Conditions du Flex SDK</cite></p><blockquote id="r-568311" data-claire-element-id="568311"><p id="r-568310" data-claire-element-id="568310">The Adobe® Flex? 3 Software Development Kit (SDK) includes the Flex framework (component class library) and Flex compiler, enabling you to freely develop and deploy Flex applications using an IDE of your choice.</p></blockquote><p id="r-568312" data-claire-element-id="568312">Une fois téléchargé, décompressez le tout dans un dossier quelconque... et voilà, vous en avez fini avec l'installation ! Vous avouerez que ce n'était pas très compliqué... la mauvaise nouvelle, c'est que ça ne va pas tarder à le devenir (compliqué, vous me suivez ?) !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
Télécharger le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
Utiliser le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
Votre premier SWF libre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
Correction des bugs et optimisations du code-source
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
La fonction Trace
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
<span class="next">Utiliser le compilateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserlecompilateur"></a><h2>Utiliser le compilateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
<span class="arrow"></span>
<span class="next">Télécharger le compilateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
<span class="next">Votre premier SWF libre !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-568314" data-claire-element-id="568314">Vous êtes maintenant en possession d'un superbe compilateur tout beau tout neuf, mais vous ne savez pas comment l'utiliser ! :lol: <br/>Pas de chance, je n'en ai aucune idée, moi non plus.<br/> Ce compilateur s'utilise en ligne de commande. Non, non ! Ne partez pas tout de suite... Les vieux de la vieille de Windows se souviennent sûrement de la console. Il va y avoir des retrouvailles émues !<br/> Quant à ceux qui utilisent Linux, les présentations ne s'imposent même pas, je crois !</p><aside id="r-568316" data-claire-element-id="568316" data-claire-semantic="information"><p id="r-568315" data-claire-element-id="568315">Euh... comment je fais pour ouvrir la console ?</p></aside><ul id="r-568330" data-claire-element-id="568330"><li id="r-568318" data-claire-element-id="568318"><p id="r-568317" data-claire-element-id="568317">Sous Win Me / XP : un clic sur démarrer, puis un clic sur Exécuter, vous écrivez <strong>cmd</strong>. Welcome back to the old world :-° !</p></li><li id="r-568320" data-claire-element-id="568320"><p id="r-568319" data-claire-element-id="568319">Sous Windows Me / 98 / 95 : lancez le fichier command.com.</p></li><li id="r-568323" data-claire-element-id="568323"><p id="r-568321" data-claire-element-id="568322">Sous Windows Vista : cliquez sur démarrer, puis entrez directement <strong>cmd</strong> dans la barre de recherche.<br/><img id="r-568322" data-claire-element-id="568321" src="medias/uploads.siteduzero.com_thb_110001_111000_110159.jpg" alt="Image utilisateur"/><em><a href="medias/uploads.siteduzero.com_files_110001_111000_110159.jpg">(cliquez pour agrandir)</a></em></p></li><li id="r-568325" data-claire-element-id="568325"><p id="r-568324" data-claire-element-id="568324"><em>Astuce :</em> sur toutes les versions de Windows, vous pouvez aussi utiliser la combinaison de touches Windows + R, et écrire <strong>cmd</strong>.</p></li><li id="r-568329" data-claire-element-id="568329"><p id="r-568326" data-claire-element-id="568326">Sous Linux : comment ça ? Vous utilisez Linux et vous ne savez pas ouvrir une console ? Allez, zou ! <a href="http://www.siteduzero.com/tuto-3-1840-0-reprenez-le-controle-avec-linux.html">c'est par ici...</a></p><aside id="r-568328" data-claire-element-id="568328" data-claire-semantic="warning"><p id="r-568327" data-claire-element-id="568327">N'utilisez pas une des vraies consoles (Ctrl - Alt - F(1~6))! Sinon l'étape de la compilation sera particulièrement fastidieuse (changements de résolution). Préférez donc un terminal, ou mieux, un éditeur de texte avec terminal intégré (Kate, par exemple !).</p></aside></li></ul><p id="r-568331" data-claire-element-id="568331">Vous avez maintenant devant vous une superbe console :-° ... il va falloir se déplacer jusqu'au dossier bin du dossier que vous venez de télécharger.<br/> Pour cela, il faut utiliser la commande <strong>cd</strong> (&quot;<em>Change Directory</em>&quot;), qui permet de se déplacer dans l'arborescence du disque dur.<br/> Dans mon cas, le dossier se situe presque à la racine...</p><aside id="r-568333" data-claire-element-id="568333" data-claire-semantic="information"><p id="r-568332" data-claire-element-id="568332">Vous pouvez aussi indiquer directement le chemin absolu : C:\Users\Neamar\Flex SDK 3\bin dans cet exemple.</p></aside><ul id="r-568344" data-claire-element-id="568344"><li id="r-568337" data-claire-element-id="568338"><img id="r-568338" data-claire-element-id="568337" src="medias/uploads.siteduzero.com_files_110001_111000_110160.jpg" alt="Image utilisateur"/><h3 id="r-windows-14" data-claire-element-id="568335">Windows</h3><img id="r-568334" data-claire-element-id="568334" src="medias/uploads.siteduzero.com_files_110001_111000_110160.jpg" alt="Image utilisateur"/><img id="r-568336" data-claire-element-id="568336" src="medias/uploads.siteduzero.com_files_110001_111000_110160.jpg" alt="Image utilisateur"/></li><li id="r-568342" data-claire-element-id="568343"><img id="r-568343" data-claire-element-id="568342" src="medias/uploads.siteduzero.com_files_157001_158000_157255.png" alt="La console sous Linux"/><h3 id="r-linux-8" data-claire-element-id="568340">Linux</h3><img id="r-568339" data-claire-element-id="568339" src="medias/uploads.siteduzero.com_files_157001_158000_157255.png" alt="La console sous Linux"/><img id="r-568341" data-claire-element-id="568341" src="medias/uploads.siteduzero.com_files_157001_158000_157255.png" alt="La console sous Linux"/></li></ul><aside id="r-568346" data-claire-element-id="568346" data-claire-semantic="error"><p id="r-568345" data-claire-element-id="568345">Attention aux caractères d'échappement ! Sous Windows, il faut mettre le nom du dossier entre ' <strong>&quot;</strong> ' ; sous Linux, il faut utiliser un \ devant les espaces.</p></aside><aside id="r-568348" data-claire-element-id="568348" data-claire-semantic="information"><p id="r-568347" data-claire-element-id="568347">ASTUCE : vous pouvez appuyer sur Tabulation lorsque vous avez commencé à écrire le nom (Flex par exemple) pour que votre OS complète automatiquement le chemin du dossier.</p></aside><p id="r-568349" data-claire-element-id="568349">En résumé, vous disposez maintenant d'un compilateur prêt à fonctionner... alors, qu'est-ce qu'on attend pour continuer ?</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
Télécharger le compilateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
Utiliser le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
Votre premier SWF libre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
Correction des bugs et optimisations du code-source
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
La fonction Trace
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
<span class="arrow"></span>
<span class="next">Télécharger le compilateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
<span class="next">Votre premier SWF libre !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="VotrepremierSWFlibre"></a><h2>Votre premier SWF libre !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
<span class="arrow"></span>
<span class="next">Utiliser le compilateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
<span class="next">Correction des bugs et optimisations du code-source</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-568352" data-claire-element-id="568352" data-claire-semantic="warning"><p id="r-568351" data-claire-element-id="568351">Afin de ne pas jongler avec les OS, les manipulations qui suivent seront effectuées sous Windows.<br/> Pas d'inquiétude : la marche à suivre est <strong>exactement</strong> la même sous Linux !</p></aside><p id="r-568353" data-claire-element-id="568353">Pour cette partie, nous allons utiliser un fichier .as de test. Il n'a qu'une seule utilité : servir de test.<br/> Afin que tout le monde soit d'accord, je vous donne ce fichier pour que vous puissiez faire des tests.<br/><strong>N'essayez pas encore de compiler un de vos anciens codes-source réalisés avec l'IDE ! Le nombre d'erreurs vous ferait pleurer, on en reparlera dans la prochaine sous-partie !</strong></p><pre id="r-568354" data-claire-element-id="568354"><code data-claire-semantic="actionscript">package
{
    //Ne vous occupez pas de cette partie, je détaillerai plus tard
    import flash.ui.Mouse;
 
    import flash.display.Sprite;
    import flash.events.MouseEvent;
    import flash.events.Event;
 
    //Le code
    public class souris extends Sprite
        {
        var curseur:Sprite = new Sprite();
        function souris():void
                {
                        var Map:Array = new Array();
                        var niveau:Sprite = new Sprite();
                        
                        niveau.graphics.beginFill(0xFF0000,0.5);
                        niveau.graphics.drawRect(0,0,640,480);
                        stage.addChild(niveau);
                        niveau.addEventListener(MouseEvent.MOUSE_MOVE,SourisBouge);
                        curseur.graphics.beginFill(0x00FF00,0.5);
                        curseur.graphics.drawRect(0,0,20,20);
                        niveau.addChild(curseur);
                        
                }
                
                function SourisBouge(evt:Event):void
                {//Quand la souris bouge, déplacer curseur
                        curseur.x=mouseX-10;
                        curseur.y=mouseY-10;
                }
        }
}</code></pre><aside id="r-568356" data-claire-element-id="568356" data-claire-semantic="warning"><p id="r-568355" data-claire-element-id="568355">N'oubliez pas que vous devrez recompiler après chaque modification d'un des fichiers composant votre application ! Au début, il vous arrivera souvent d'oublier cette étape... (et n'oubliez pas d'enregistrer avec Ctrl + S !).</p></aside><p id="r-568357" data-claire-element-id="568357">Enregistrez ce fichier (nommez-le <strong>souris.as</strong>) dans un dossier Sources du répertoire bin.<br/> Le but de ce code est très simple : créer un fond rougeâtre, et un carré vert qui suit la souris. Ne vous attardez pas sur le code, qui diffère sûrement de ce que vous connaissez dans votre IDE : on reparlera de tout ça plus tard !</p><p id="r-568358" data-claire-element-id="568358">Dans votre console, insérez la ligne suivante :</p><pre id="r-568359" data-claire-element-id="568359"><code data-claire-semantic="console">mxmlc &quot;Sources/souris.as&quot;</code></pre><p id="r-568360" data-claire-element-id="568360">Sous Linux, vous aurez besoin de rajouter <code><strong>bash</strong></code>, et d'enlever les guillemets :</p><pre id="r-568361" data-claire-element-id="568361"><code data-claire-semantic="console">bash mxmlc Sources/souris.as</code></pre><p id="r-568362" data-claire-element-id="568362">Appuyez sur Entrée... :magicien:</p><figure id="r-568364" data-claire-element-id="568365"><img id="r-568363" data-claire-element-id="568363" src="medias/uploads.siteduzero.com_files_110001_111000_110677.jpg" alt="Image utilisateur"/></figure><p id="r-568366" data-claire-element-id="568366">Regardez dans votre dossier Source : un fichier <strong>souris.swf</strong> s'est créé ! Miracle :soleil: !<br/> Vous pouvez le lancer : il réagira comme n'importe quel .swf, mis à part que vous n'avez pas déboursé 800 euros !</p><aside id="r-568370" data-claire-element-id="568370" data-claire-semantic="information"><p id="r-568367" data-claire-element-id="568367">Le SWF créé a une hauteur et une largeur infinies !<br/> Vous pouvez remédier à ce problème en envoyant des paramètres au compilateur :</p><pre id="r-568368" data-claire-element-id="568368"><code data-claire-semantic="console">bash mxmlc Sources/souris.as -default-size 640 480</code></pre><p id="r-568369" data-claire-element-id="568369">(plus d'informations sur les paramètres de compilation à la fin de ce tutorial.)</p></aside><p id="r-568371" data-claire-element-id="568371">L'étape suivante ne sera pas forcément la plus drôle : je vous expliquerai comment modifier vos anciens codes pour les rendre compatibles avec ce compilateur. Même si aucune modification de fond n'est nécessaire (mis à part quelques rares cas, comme les interpolations complexes), cette tâche ne sera pas forcément amusante, voire même particulièrement emmerdbêtante ! Mais pas de souci ! Je reste ici pour vous expliquer :lol: !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
Télécharger le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
Utiliser le compilateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
Votre premier SWF libre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
Correction des bugs et optimisations du code-source
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
La fonction Trace
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
<span class="arrow"></span>
<span class="next">Utiliser le compilateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
<span class="next">Correction des bugs et optimisations du code-source</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correctiondesbugsetoptimisationsducode-source"></a><h2>Correction des bugs et optimisations du code-source</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
<span class="arrow"></span>
<span class="next">Votre premier SWF libre !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
<span class="next">La fonction Trace</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-568374" data-claire-element-id="568374" data-claire-semantic="information"><p id="r-568373" data-claire-element-id="568373">Cette partie intéressera aussi les heureux propriétaires de l'IDE !</p></aside><h2 id="r-1-le-point-virgule" data-claire-element-id="568376">1. Le point-virgule</h2><p id="r-568375" data-claire-element-id="568375">Commençons par les choses simples : toutes vos instructions doivent se terminer par un point-virgule. Il n'est pas vraiment obligatoire (sauf si vous mettez plusieurs instructions sur la même ligne), mais il indique au compilateur où sont les fins de ligne, et il clarifie la lecture de votre code. Bref, prenez l'habitude de le mettre, ça ne coute pas grand chose !</p><h2 id="r-2-le-typage" data-claire-element-id="568394">2. Le typage</h2><p id="r-568377" data-claire-element-id="568377">Cette opération est primordiale quel que soit le langage utilisé, mais l'IDE d'Adobe est assez laxiste sur ce point.</p><h3 id="r-typage-a-quoi-ca-sert" data-claire-element-id="568382">Typage : à quoi ça sert ?</h3><p id="r-568378" data-claire-element-id="568378">Le typage, qu'est-ce que c'est ? Cela consiste tout simplement à donner un type à une variable.<br/> Par exemple, c'est dire <em>&quot;Toi, tu es une variable qui contient forcément un chiffre, je vais donc indiquer à l'ordinateur que tu n'es autorisée à ne recevoir que des chiffres&quot;.</em><br/> À première vue, ça peut paraître inutile et évident. Détrompez-vous ! Le typage évite beaucoup d'erreurs. Ainsi, si vous essayez de mettre une chaîne de caractères dans une variable numérique, le compilateur vous en avertira, alors que sans typage, la compilation s'effectuerait sans problème. Sauf que quand vous lancerez le fichier, l'ordinateur pourra être appelé à faire des calculs bizarres, comme <em>sinus(2*&quot;Bonjour&quot;+3.1415)</em>. Personnellement, je ne sais pas faire ce type de calcul... :p Le problème, c'est que l'ordinateur non plus n'en a aucune idée : il y aura donc erreur, et bugs sur tous les appels de cette variable, ou de cette fonction. Pas cool !</p><p id="r-568379" data-claire-element-id="568379">En plus, en typant vos variables, l'ordinateur sait dès le début que telle variable ne contiendra que des chiffres : il n'aura donc pas besoin de faire des changements de type complexes ! C'est tout bénéf' pour la rapidité / propreté de votre code.</p><p id="r-568380" data-claire-element-id="568380">Enfin, quand vous commencerez à manier des types plus complexes et assez abstraits, tels que Function, Class, Dictionary, ou tout simplement vos propres classes, vous serez heureux que le compilateur vous indique les appels de méthodes ou de propriétés inexistantes.</p><p id="r-568381" data-claire-element-id="568381">Je ne m'attarde pas trop sur ce sujet, <a href="http://www.siteduzero.com/tuto-3-18941-1-le-typage-presentation-thematique-et-historique.html">un superbe tutoriel est disponible sur le Site du Zéro</a> ;) .</p><h3 id="r-comment-typer-en-as" data-claire-element-id="568393">Comment typer en AS ?</h3><p id="r-568383" data-claire-element-id="568383">Vous devez typer vos variables, mais aussi vos fonctions.<br/> Pour les variables, cela implique qu'il faut aussi les déclarer !<br/> Quelques exemples de typage de variables :</p><pre id="r-568384" data-claire-element-id="568384"><code data-claire-semantic="actionscript">//Exemples corrects :


var MonString:String=&quot;Tuto&quot;; //Une chaîne de caractère
var niveau:Sprite = new Sprite();  //Un type un peu plus complexe : le sprite
var MonString2:String=&quot;126&quot;; //Le nombre est entouré de guillemets : il est donc considéré comme une chaîne de caractères

//Exemples incorrects :
var MonNombre:int=&quot;Tot&quot;; //le compilateur renverra : C:\Users\Neamar\Flex SDK 3\bin\Sources\souris.as(18): col: 25 Error: Contrainte implicite d'une valeur du type int vers un type sans rapport String.
var MonString:String=126; //Une chaîne de caractères</code></pre><p id="r-568385" data-claire-element-id="568385">Il y a une multitude de types : <code><strong>Array</strong></code>, <code><strong>MovieClip</strong></code>, <code><strong>Point</strong></code>, <code><strong>Line</strong></code>... j'en passe, regardez <a href="http://livedocs.adobe.com/flash/9.0_fr/ActionScriptLangRefV3/">la documentation AS3 </a>!</p><p id="r-568386" data-claire-element-id="568386">En plus des variables, vous devez aussi typer vos fonctions ! Dès que vous utilisez l'instruction <code><strong>return</strong></code>, votre fonction a un type : celui de la variable retournée ! Le type s'indique de la même façon que pour les variables : &quot;<strong>Nom_De_La_Fonction(parametre:type_parametre):[type]</strong>&quot;.<br/> Si une fonction ne renvoie rien (on parle alors de procédure), vous devez quand même la typer : puisque votre fonction ne renvoie rien, elle sera de type <code><strong>void</strong></code>, ce qui signifie <em>néant</em> en anglais.</p><p id="r-568387" data-claire-element-id="568387">Des exemples ?</p><pre id="r-568388" data-claire-element-id="568388"><code data-claire-semantic="actionscript">function SourisBouge(evt:MouseEvent):void //Pas de return : on marque donc void
{
        //La suite de la fonction
}

function Addition(nb1:uint,nb2:uint):uint //Les paramètres aussi doivent êtres signés
{
        return nb1+nb2; //L'addition de deux nombres donne un nombre : on peut donc utiliser uint
}</code></pre><aside id="r-568390" data-claire-element-id="568390" data-claire-semantic="information"><p id="r-568389" data-claire-element-id="568389">Bon à savoir : le type void n'est pas essentiel à la compilation, mais son oubli génèrera un Warning :<br/><em>Warning: return value for function Pas de déclaration de type pour affecterMission.</em></p></aside><aside id="r-568392" data-claire-element-id="568392" data-claire-semantic="information"><p id="r-568391" data-claire-element-id="568391">Il existe aussi le type étoile, qui type une variable n'importe comment : <code><strong>var i:*</strong></code> (<code><strong>i</strong></code> peut alors contenir un objet, un long, un string...).<br/> Essayez de le bannir au maximum ; normalement, vous n'en aurez jamais besoin, sauf si vous utilisez des classes dynamiques (elles aussi, tentez de les éviter !)</p></aside><h2 id="r-3-les-packages" data-claire-element-id="568408">3. Les packages</h2><p id="r-568395" data-claire-element-id="568395">Voilà le point qui fâche...<br/> Qu'est-ce qu'un package ? Il s'agit d'un ensemble de fichiers qui contiennent les définitions de certaines fonctions.</p><p id="r-568396" data-claire-element-id="568396">Lorsque vous compilez manuellement, vous <strong>devez</strong> inclure les packages que vous utilisez.<br/> Regardez le code de souris.as :</p><pre id="r-568397" data-claire-element-id="568397"><code data-claire-semantic="actionscript">package
{
    import flash.ui.Mouse;

    import flash.display.Sprite;
    import flash.events.MouseEvent;
    import flash.events.Event;

    public class souris extends Sprite
        {
                [...]
        }
}</code></pre><p id="r-568398" data-claire-element-id="568398">Je vais donc vous parler de ces <code><strong>import</strong></code>.<br/> En soi, rien de bien complexe : si vous utilisez des évènements de la souris (<code><strong>MouseEvent.MOUSE_MOVE</strong></code>, par exemple), vous devez inclure <code><strong>flash.events.MouseEvent</strong></code>.<br/> Si vous utilisez des <code><strong>Sprite</strong></code>, vous devrez marquer <code><strong>import</strong></code><code><strong>flash.display.Sprite</strong></code>... et ainsi de suite.</p><div id="r-568400" data-claire-element-id="568400" data-claire-semantic="question"><p id="r-568399" data-claire-element-id="568399">Mais... comment je fais pour trouver le bon package ?</p></div><p id="r-568401" data-claire-element-id="568401">A priori, ce n'est pas compliqué, le seul problème étant de trouver le package quand l'instruction n'a pas un nom en rapport.<br/> Une petite étude de cas ?</p><p id="r-568402" data-claire-element-id="568402"><cite>Citation : Vous</cite></p><blockquote id="r-568404" data-claire-element-id="568404"><p id="r-568403" data-claire-element-id="568403">Je veux cacher mon curseur de souris avec la méthode <code><strong>hide()</strong></code>. Quand je compile, j'obtiens une erreur : j'ai donc besoin d'inclure un package... mais lequel ?<br/> Après avoir farfouillé dans l'aide de Flash, je découvre une catégorie <code><strong>Mouse</strong></code> qui semble intéressante. Encore deux-trois liens, et hop ! <code><strong><a href="http://livedocs.adobe.com/flash/9.0_fr/ActionScriptLangRefV3/flash/ui/Mouse.html">flash.ui.Mouse</a></strong></code>. C'est exactement ce qu'il me fallait ! Je n'ai plus qu'à inclure le package...</p></blockquote><p id="r-568405" data-claire-element-id="568405">Comme vous le voyez, ça reste très artisanal : <a href="http://livedocs.adobe.com/flash/9.0_fr/ActionScriptLangRefV3/">l'aide de Flash</a> sera indispensable dans votre recherche de packages.</p><aside id="r-568407" data-claire-element-id="568407" data-claire-semantic="information"><p id="r-568406" data-claire-element-id="568406">Une petite astuce : inclure les packages est une tâche longue, fastidieuse et peu gratifiante. Vous pouvez vous éviter du travail avec l'opérateur * : il inclut toutes les sous-classes indiquées.<br/> Ainsi, <code><strong>import flash.events.*</strong></code> est équivalent à <code>import</code><code><strong>flash.events.MouseEvent</strong></code> ET à <code><strong>import flash.events.Event</strong></code>.<br/> Attention, en procédant ainsi, vous incluez aussi une myriade d'objets <code><strong>Event</strong></code> (<a href="http://livedocs.adobe.com/flash/9.0_fr/ActionScriptLangRefV3/flash/events/package-detail.html">la liste</a>), et vous risquez des conflits de noms avec vos classes existantes. Sachez aussi que l'utilisation de * n'indique pas les paquets imbriqués : <code><strong>flash.*</strong></code> ne chargera pas <code><strong>flash.events.*</strong></code>, <code><strong>flash.utils.*</strong></code>,<code><strong>flash.geom.*</strong></code>...<br/> En ce qui concerne la mémoire ou le poids du fichier généré, cela n'a pas d'impact, le compilateur sélectionnant intelligemment les packages voulus, n'important pas les autres.</p></aside><h2 id="r-4-les-formes" data-claire-element-id="568414">4. Les formes</h2><p id="r-568409" data-claire-element-id="568409">Quand vous utilisiez l'IDE, vous avez sûrement pris l'habitude d'utiliser en permanence l'outil de dessin vectoriel. Dans ce cas-là, j'ai deux nouvelles pour vous : une bonne et une mauvaise. Je commence par laquelle ? Allez, la mauvaise !<br/> La mauvaise nouvelle, c'est que cette option n'est pas disponible avec ce compilateur. Il vous sera donc impossible de redessiner vos superbes vaguelettes à la souris...<br/> La bonne nouvelle, c'est que tout n'est pas perdu ! Regardez le code-source de souris.as :</p><pre id="r-568410" data-claire-element-id="568410"><code data-claire-semantic="actionscript">curseur.graphics.beginFill(0x00FF00,0.5);
curseur.graphics.drawRect(0,0,20,20);
niveau.addChild(curseur);</code></pre><p id="r-568411" data-claire-element-id="568411">Comme vous voyez, ce que vous faisiez à la main est faisable en code ! Fini le WYSIWYG, bienvenue au code !<br/> Vous apprendrez à connaitres les fonctions de la classe <a href="http://livedocs.adobe.com/flash/9.0_fr/ActionScriptLangRefV3/flash/display/Graphics.html">Graphics</a>...</p><aside id="r-568413" data-claire-element-id="568413" data-claire-semantic="error"><p id="r-568412" data-claire-element-id="568412">C'est là l'inconvénient majeur de ce compilateur : alors que l'IDE de Flash est complètement orienté vers le graphisme, ce compilateur est beaucoup plus tourné vers le code. Au final, ça revient au même, puisque l'IDE se contente de transformer de façon transparente vos formes en code, mais pour vous, c'est beaucoup plus lourd. Impossible de développer une superbe application graphique en quelques minutes !<br/> Il reste cependant possible d'utiliser un IDE libre sur le net pour le dessin vectoriel... il suffit après d'exporter vos créations en .swc et de les inclure dans les options de compilation.</p></aside><h2 id="r-5-la-timeline" data-claire-element-id="568429">5. La TimeLine</h2><p id="r-568415" data-claire-element-id="568415">Je crains d'avoir encore une mauvaise nouvelle à vous annoncer !<br/> Malgré de nombreuses recherches, je n'ai pas trouvé comment créer une frame en code. Et il semble admis sur les forums que les frames n'existent pas dans Flex. Bilan : vous allez devoir faire une croix sur cette <code><strong>Timeline</strong></code>.<br/> Attendez ! Ne partez pas... réfléchissons ensemble : quel est l'intérêt de ces frames ?</p><ul id="r-568420" data-claire-element-id="568420"><li id="r-568417" data-claire-element-id="568417"><p id="r-568416" data-claire-element-id="568416">Les animations de début // de fin =&gt; Faux ! Maintenant que vous réalisez toutes vos animations en code, ces anims seront incorporées dans votre code-source. Pas d'accès aux clips, donc pas besoin de frames !</p></li><li id="r-568419" data-claire-element-id="568419"><p id="r-568418" data-claire-element-id="568418">Les preloaders =&gt; Là, vous marquez un point ! Effectivement, Flash attend normalement que la première frame soit chargée pour afficher le .swf. Si vous n'avez qu'une seule frame, il vous sera donc impossible de réaliser une petite barre de chargement.<br/> Malheureusement, il n'y a pas de solutions simples à ce problème. Vous pouvez le contourner en utilisant un <code><strong>LoaderFlash</strong></code> qui chargera votre .swf complet, ou vous pouvez utiliser <a href="http://www.bit-101.com/blog/?p=946">la méthode décrite ici</a> (en anglais, et demande un certain niveau de compétence ! Entraînez-vous un peu avant d'aller voir ça). Une troisième solution existe, avec les classes <code><strong>tween</strong></code>. Je ne m'attarde pas là-dessus, car je n'en sais pas beaucoup plus.</p></li></ul><aside id="r-568422" data-claire-element-id="568422" data-claire-semantic="information"><p id="r-568421" data-claire-element-id="568421">Cet abandon des frames aura un rebondissement inattendu sur vos codes : vous pouvez en finir avec les <code><strong>MovieClip</strong></code> ! Car après tout, la seule distinction entre un <code><strong>MovieClip</strong></code> et un <code><strong>Sprite</strong></code>, c'est cette <code><strong>Timeline</strong></code> ! Mieux vaut utiliser un <code><strong>Sprite</strong></code> dont vous modifierez l'animation quand le besoin s'en fait sentir. Ainsi, vous pouvez faire l'économie de tous ces <code><strong>MovieClip</strong></code>, au profit de <code><strong>Sprite</strong></code>. Optimisation, quand tu nous tiens...<br/> Plus d'infos : <a href="http://www.aggelos.org/index.php?2005/10/17/54--as3-movieclip-est-mort-buvez-du-sprite">MovieClip est mort. Buvez du Sprite</a>.</p></aside><p id="r-568423" data-claire-element-id="568423"><cite>Citation : L'aide de Flash</cite></p><blockquote id="r-568427" data-claire-element-id="568427"><p id="r-568424" data-claire-element-id="568424">&quot;vous obtiendrez des performances nettement supérieures en utilisant <code><strong>Shape</strong></code> plutôt que <code><strong>Sprite</strong></code> ou <code><strong>MovieClip</strong></code>&quot;</p><p id="r-568425" data-claire-element-id="568425">Si vous avez besoin d'un objet qui sera le conteneur d'autres objets d'affichage (que vous ayez ou non l'intention de dessiner en ActionScript dans cet objet), choisissez l'une des sous-classes de <code><strong>DisplayObjectContainer</strong></code> :</p><p id="r-568426" data-claire-element-id="568426">* <code><strong>Sprite</strong></code> si l'objet doit être créé en ActionScript uniquement, ou servira de classe de base à un objet d'affichage qui sera uniquement créé et manipulé en ActionScript,<br/> * <code><strong>MovieClip</strong></code> si vous créez une variable pour pointer sur un symbole de clip créé dans Flash.</p></blockquote><p id="r-568428" data-claire-element-id="568428">Ça y est, vos anciens codes-source devraient se compiler.<br/> Ah non ! Il vous manque encore une notion...</p><h2 id="r-6-enchassez-moi-tout-ca" data-claire-element-id="568442">6. Enchâssez-moi tout ça !</h2><p id="r-568430" data-claire-element-id="568430">Votre code-source <strong>doit</strong> être contenu dans une classe.<br/> Voilà donc la structure standard d'un fichier .as :</p><pre id="r-568431" data-claire-element-id="568431"><code data-claire-semantic="actionscript">package
{
    //les importations de package

    public class [NOM_DU_PROGRAMME] extends Sprite
    {
                //Variables publiques
        function [NOM_DU_PROGRAMME]():void
                {
                                //Le constructeur principal, qui est appelé au démarrage du programme. En simplifiant, on pourrait dire qu'il est l'équivalent de la fonction main en C/C++
                }

                function MaFonction1(Parametre1:Type,Parametre2:Type):Type
                {
                        //Les fonctions annexes
                }

        }
}</code></pre><p id="r-568432" data-claire-element-id="568432">Le mot clé extends indique que la classe hérite de Sprite. Par défaut, AS3 n'as pas d'héritage multiple, en revanche, vous pouvez utiliser Implements pour simuler le comportement voulu.</p><aside id="r-568434" data-claire-element-id="568434" data-claire-semantic="warning"><p id="r-568433" data-claire-element-id="568433">IMPORTANT : les noms de la classe et de la fonction de départ <strong>doivent</strong> être les mêmes que le nom du fichier. Si votre fichier s'appelle anticonstitutionnellement.as, votre classe devra comporter <code><strong>public class anticonstitutionnellement extends Sprite</strong></code> ! Et ce pour toutes vos classes.</p></aside><div id="r-568436" data-claire-element-id="568436" data-claire-semantic="question"><p id="r-568435" data-claire-element-id="568435">Mais... C'est moche ! Toutes les fonctions dans le même fichier ? Ça va être un sacré bordel !</p></div><p id="r-568437" data-claire-element-id="568437">Qui a dit que vous deviez tout mettre dans le même fichier ? Ah oui ! Moi :-° ... oubliez ça, alors !<br/> Vous pouvez parfaitement créer des fichiers annexes qui contiennent des fonctions.<br/> Ainsi, rien ne vous empêche de créer un fichier Evenements.as, un Graphisme.as , un Calculs.as...<br/> Une fois créés, vous pouvez les inclure très facilement, en utilisant la fonction <code><strong>include</strong></code> dans la fonction de départ.</p><pre id="r-568438" data-claire-element-id="568438"><code data-claire-semantic="actionscript">public class Editeur extends Sprite {
        function Editeur():void {
            include &quot;Trace.as&quot;;
            include &quot;Place.as&quot;
            Place_Cible = DeleteCursor

            include &quot;Editeur_Graphics.as&quot;;
            include &quot;HitTesteur.as&quot;;
            var i:uint,j:uint;
...</code></pre><p id="r-568439" data-claire-element-id="568439">Et n'oubliez pas non plus qu'ActionScript est un langage orienté objet, et qu'en conséquent, vos classes devraient rarement dépasser les 300 lignes. Si il y a plus de lignes, faites plus de classes !</p><p id="r-568440" data-claire-element-id="568440">Je ne m'attarde pas sur les package : ils ne sont pas très importants pour les petites applications, et embrouillent l'esprit si on les présente trop tôt. Si un jour vous ressentez le besoin de trier vos classes (parce que vous en avez quarante, par exemple), vous pourrez chercher à en savoir plus !</p><p id="r-568441" data-claire-element-id="568441">Ça y est !<br/> Vous en avez fini avec cette sous-partie assez longue, je dois l'avouer ! (Mes doigts fument encore d'avoir tapoté le clavier sans rémission.)<br/> Allez courage, plus que quelques lignes et c'est terminé !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
Télécharger le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
Utiliser le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
Votre premier SWF libre !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
Correction des bugs et optimisations du code-source
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
La fonction Trace
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
<span class="arrow"></span>
<span class="next">Votre premier SWF libre !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
<span class="next">La fonction Trace</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LafonctionTrace"></a><h2>La fonction Trace</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
<span class="arrow"></span>
<span class="next">Correction des bugs et optimisations du code-source</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-568444" data-claire-element-id="568444"><code><strong>Trace</strong></code>, vous connaissez ? Elle permet un débuggage débogage (paraît qu'en français, ça s'écrit comme ça, moi je ne suis pas compliqué :D !), bref, cette fonction permet d'enlever facilement certains bugs de votre application.</p><p id="r-568445" data-claire-element-id="568445">Malheureusement, il s'agit d'un des ajouts de l'IDE. Pas d'IDE, pas de <code><strong>Trace</strong></code> !</p><p id="r-568446" data-claire-element-id="568446">Pas de panique ! Rien ne vous empêche de recréer une fonction <code><strong>trace</strong></code><br/> Personnellement, j'utilise une classe statique. Dans les précédentes versions de ce tutoriel, je présentais une fonction <code><strong>Trace</strong></code>, mais après réflexion, il me semble plus propre de vous montrer la solution objet, même si elle est légerement plus complexe que dans l'IDE.</p><p id="r-568447" data-claire-element-id="568447">Pour l'utiliser, il vous <em>suffit</em> de placer le fichier Trace.as à côté de votre application.</p><p id="r-568448" data-claire-element-id="568448">(Je mets le code en secret pour ne pas prendre trop de place.)</p><div id="r-568450" data-claire-element-id="568450"><pre id="r-568449" data-claire-element-id="568449"><code data-claire-semantic="actionscript">/*TRACE - Neamar - 2009
La classe Trace fait partie du package Utilitaires dans mes applications.
Il s'agit d'une classe statique permettant l'affichage d'informations de façon simple, depuis n'importe quelle classe.

Comment l'utiliser ? Depuis votre classe principale, initialiser la classe à l'aide de cette instruction :
Trace.initialiser(this.stage);
qui indique à Trace sur quel stage elle doit afficher les données.

Ensuite, vous pouvez appeler Trace.append() avec un nombre illimité de paramètres de type quelconques.
Exemple :
Trace.append(monTableau.length,new BlurFilter(),&quot;Bonjour&quot;)
renverra
&quot;Bonjour&quot;
[object BlurFilter]
2

(les paramètres les plus anciens sont en bas.)
*/

package
{
        import flash.display.Sprite;
        import flash.display.Stage;
        import flash.text.TextField;//Champ de texte. Classe assez vaste, utilisée uniquement pour l'affichage de texte ici. Peut être du texte au format HTML.
        import flash.events.Event;
        import flash.events.MouseEvent;


        public class Trace extends Sprite
        {
                private static var _stage:Stage;
                private static var Container:Sprite = new Sprite();//Le conteneur principal
                        Container.addEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                        Container.scaleX=1;
                        Container.scaleY=1;
                        Container.alpha=1;

                private static var Texte:TextField=new TextField();
                        Texte.x = 5;
                        Texte.y = 5;
                        Texte.autoSize = &quot;left&quot;;
                        Container.addChild(Texte);

                private static var Reduire:Sprite = new Sprite();
                        Reduire.graphics.beginFill(0xFFFFFF,1);
                        Reduire.graphics.drawRect(0,0,10,10);
                        Reduire.addEventListener(MouseEvent.MOUSE_UP, Delete);
                        Container.addChild(Reduire);

                private static var LastTrace:String=&quot;&quot;;

                public function Trace()
                {//Constructeur non utilisé.
                }

                public static function initialiser(vstage:Stage):void
                {
                        _stage=vstage;
                        _stage.addChild(Container);
                }
                public static function append(... Parametres):void
                {//La fonction principale, qui trace le texte passé en paramètre.
                        for each(var Parametre:* in Parametres)
                        {
                                if(Parametre!=null)
                                        Texte.text = Parametre.toString() + &quot;\r&quot; + Texte.text;//\r indique un retour à la ligne.
                                else
                                        Texte.text = &quot;null\r&quot; + Texte.text;//\r indique un retour à la ligne.
                        }

                        if(_stage)//Seulement si initialisé.
                                _stage.setChildIndex(Container,_stage.numChildren-1);
                        else
                                throw new Error(&quot;La classe Trace doit être initialisée avant d'appeler la méthode append&quot;);
                }

                public static function clear():void
                {//Efface le contenu du Trace.
                        Texte.text=&quot;&quot;;
                        LastTrace=&quot;&quot;;
                }

                //Les fonctions pour déplacer
                public static function set draggable(v:Boolean):void
                {
                        if(v)
                                Container.addEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                        else
                                Container.removeEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                }
                private static function StartDrag(e:Event):void
                {
                        Container.startDrag();
                        Container.addEventListener(MouseEvent.MOUSE_UP, StopDrag);
                        Container.removeEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                        Texte.selectable=false;
                }
                private static function StopDrag(e:Event):void
                {
                        Container.stopDrag();
                        Container.removeEventListener(MouseEvent.MOUSE_UP, StopDrag);
                        Container.addEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                        Texte.selectable=true;
                }

                //Et pour supprimer la boite :
                private static function Delete(e:Event):void
                {
                        Container.visible=false;
                        Reduire.removeEventListener(MouseEvent.MOUSE_UP, Delete);
                        Container.removeEventListener(MouseEvent.MOUSE_DOWN, StartDrag);
                        Container.removeEventListener(MouseEvent.MOUSE_UP, StopDrag);
                        Container=null;
                        Texte=null;
                }
        }
}</code></pre></div><p id="r-568451" data-claire-element-id="568451">Ça y est !</p><figure id="r-568453" data-claire-element-id="568454"><img id="r-568452" data-claire-element-id="568452" src="../../user.oc-static.com/icones/29001_30000/29631.jpg" alt="Image utilisateur"/></figure><p id="r-568455" data-claire-element-id="568455">Vous savez maintenant comment compiler votre application en AS3 de façon gratuite et multi-plates-formes.<br/> Comme vous l'avez remarqué, le plus dur n'est pas la compilation, mais la rectification des problèmes qui sont normalement gérés par l'IDE.</p><aside id="r-568457" data-claire-element-id="568457" data-claire-semantic="information"><p id="r-568456" data-claire-element-id="568456">Si vous avez des questions, ou des suggestions, n'hésitez pas à m'envoyer un MP, ou à participer sur les forums du SDZ.</p></aside><p id="r-568458" data-claire-element-id="568458">Et n'hésitez pas non plus à commenter ce tutoriel !</p><p id="r-568459" data-claire-element-id="568459">Enfin, gardez en tête que les informations affichées ici servent uniquement de base : (c'est un mini-tuto, pas un big tuto !) les informations données sont donc loin d'être exhaustives et couvrent uniquement un usage de base.</p><p id="r-568460" data-claire-element-id="568460">Pour aller plus loin, quelques liens :</p><ul id="r-568473" data-claire-element-id="568473"><li id="r-568462" data-claire-element-id="568462"><p id="r-568461" data-claire-element-id="568461"><a href="http://www.adobe.com/support/documentation/fr/flash/">la documentation d'Adobe</a> ;</p></li><li id="r-568464" data-claire-element-id="568464"><p id="r-568463" data-claire-element-id="568463"><a href="http://livedocs.adobe.com/flex/3/html/compilers_14.html#157203">La liste des paramètres pour mxmlc</a> ;</p></li><li id="r-568466" data-claire-element-id="568466"><p id="r-568465" data-claire-element-id="568465"><a href="http://livedocs.adobe.com/flex/3/html/help.html?content=compilers_01.html">La documentation d'Adobe pour le compilateur ;</a></p></li><li id="r-568468" data-claire-element-id="568468"><p id="r-568467" data-claire-element-id="568467"><a href="http://www.flashdevelop.org/">FlashDevelop : un IDE (code uniquement, mais très complet) gratuit utilisant ce noyau de compilateur (Windows uniquement). Gère automatiquement l'ajout de package.</a> ;</p></li><li id="r-568470" data-claire-element-id="568470"><p id="r-568469" data-claire-element-id="568469"><a href="http://osflash.org/projects">une liste de projets Open Source Flash : IDE, code, graphismes... (pas forcément compatible AS3) (en)</a> ;</p></li><li id="r-568472" data-claire-element-id="568472"><p id="r-568471" data-claire-element-id="568471"><a href="http://filt3r.free.fr/index.php/2007/07/24/23-mon-premier-swf9-gratos-avec-flex-sdk">inclure des fichiers dans un .swf pour ne pas avoir à les charger</a>.</p></li></ul><p id="r-568474" data-claire-element-id="568474">Merci à Kisscoool pour sa relecture et ses conseils attentifs.</p><p id="r-568475" data-claire-element-id="568475">Pour terminer, voici la ligne de commande que j'utilise, qui permet de compiler les applications avec toutes les options nécessaires (pour Linux) :</p><pre id="r-568476" data-claire-element-id="568476"><code data-claire-semantic="console">clear &amp;&amp; bash mxmlc Sources/D-graphe/Dgraphe.as -default-size 640 480 -strict -debug -incremental=true</code></pre><p id="r-568477" data-claire-element-id="568477">Le résultat ? Cela nettoie la console, compile <em>Sources/D-graphe/Dgraphe.as</em> avec une taille de <em>640x480</em>, active le mode <em>-debug</em> (qui affiche les lignes sur lesquelles les erreurs se produisent avec une pile d'appel détaillé, un outil rapidement indispensable, mais qui double presque le poids des applications !). Enfin, le mode <em>-incremental</em> permet de ne compiler que les classes qui ont changées depuis la dernière compilation. Je considère approximativement que le temps de compilation est réduit par 5 sur un projet aux classes nombreuses.</p><p id="r-568478" data-claire-element-id="568478">Au moment de publier une application, n'oubliez pas de remplacer le <em>-debug</em> par <em>-optimize</em> : cela rend la compilation plus longue, mais améliore le poids et la vitesse d'exécution .</p><p id="r-568479" data-claire-element-id="568479">Bonne programmation à tous,<br/> Neamar</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux">Compilez l&#039;AS3 gratuitement et légalement sous Windows/Linux</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/telecharger-le-compilateur">
Télécharger le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/utiliser-le-compilateur">
Utiliser le compilateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/votre-premier-swf-libre">
Votre premier SWF libre !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
Correction des bugs et optimisations du code-source
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/la-fonction-trace">
La fonction Trace
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux/correction-des-bugs-et-optimisations-du-code-source">
<span class="arrow"></span>
<span class="next">Correction des bugs et optimisations du code-source</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 08:36:17 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/compilez-l-as3-gratuitement-et-legalement-sous-windows-linux.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:32:39 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-applications-pour-windows-phone.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:17:21 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creez-des-applications-pour-windows-phone.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:49:13 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Créez des applications pour Windows Phone</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/creez-des-applications-pour-windows-phone.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Créez des applications pour Windows Phone</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#CrezdesapplicationspourWindowsPhone">Créez des applications pour Windows Phone</a><br/><a href="#Installerlesoutilsdedveloppement">Installer les outils de développement</a><br/><a href="#Prrequis">Prérequis</a><br/><a href="#InstallerVisualStudio2010ExpresspourWindowsPhoneavecMango">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</a><br/><a href="#L039mulateur">L&#039;émulateur</a><br/><a href="#Xamletcodebehind">Xaml et code behind</a><br/><a href="#Blendpourledesign">Blend pour le design</a><br/><a href="#IntroductionSilverlight">Introduction à Silverlight</a><br/><a href="#HelloWorld">Hello World</a><br/><a href="#Cequ039ilyadansceHelloWorld">Ce qu&#039;il y a dans ce Hello World</a><br/><a href="#Lesconteneursetleplacement">Les conteneurs et le placement</a><br/><a href="#Ajouterdautrescontrles">Ajouter d’autres contrôles</a><br/><a href="#Ajouterdustyle">Ajouter du style</a><br/><a href="#LaListBoxetlesmodles">La ListBox et les modèles</a><br/><a href="#Uneapplicationplusieurspageslanavigation">Une application à plusieurs pages, la navigation</a><br/><a href="#Naviguerentrelespages">Naviguer entre les pages</a><br/><a href="#Grerleboutonderetourarrire">Gérer le bouton de retour arrière</a><br/><a href="#LecontrlePanoramaetlecontrlePivot">Le contrôle Panorama et le contrôle Pivot</a><br/><a href="#L039orientation">L&#039;orientation</a><br/><a href="#Accderauxdonnes">Accéder aux données</a><br/><a href="#Laliaisondedonneslebinding">La liaison de données : le binding</a><br/><a href="#Bindingetmodedesign">Binding et mode design</a><br/><a href="#Utiliserl039ObservableCollection">Utiliser l&#039;ObservableCollection</a><br/><a href="#Lesconverters">Les converters</a><br/><a href="#Appelerunserviceweb">Appeler un service web</a><br/><a href="#Lisolatedstorage">L’isolated storage</a><br/><a href="#tudedecasunagrgateurdeflux">Étude de cas : un agrégateur de flux</a><br/><a href="#Rcuprerlescontenusdesdiffrentsflux">Récupérer les contenus des différents flux</a><br/><a href="#Utiliserlabibliothquedesyndication">Utiliser la bibliothèque de syndication</a><br/><a href="#Prsenterlesdonnes">Présenter les données</a><br/><a href="#Lagolocalisation">La géolocalisation</a><br/><a href="#Dterminersaposition">Déterminer sa position</a><br/><a href="#UtiliserBingMaps">Utiliser Bing Maps</a><br/><a href="#Affichersapositionsurlacarte">Afficher sa position sur la carte</a><br/><a href="#ConsommerdesdonnesOData">Consommer des données OData</a><br/><a href="#Ajouterunerfrenceservice">Ajouter une référence service</a><br/><a href="#Chargerlesdonnes">Charger les données</a><br/><a href="#Fairedesrequtessurlesdonnes">Faire des requêtes sur les données</a><br/><a href="#AccderFacebook">Accéder à Facebook</a><br/><a href="#CreruneapplicationFacebook">Créer une application Facebook</a><br/><a href="#LeSDK">Le SDK</a><br/><a href="#Quest-cequOAuth">Qu’est-ce qu’OAuth</a><br/><a href="#Seloguer">Se loguer</a><br/><a href="#ExploiterlegraphesocialavecleSDK">Exploiter le graphe social avec le SDK</a><br/><a href="#Rcuprerdesinformations">Récupérer des informations</a><br/><a href="#Obtenirlalistedesesamis">Obtenir la liste de ses amis</a><br/><a href="#Postersursonmur">Poster sur son mur</a><br/><a href="#Utiliserlestasks">Utiliser les tasks</a><br/><a href="#Publiersonapplication">Publier son application</a><br/><a href="#Creruncomptedveloppeur">Créer un compte développeur</a><br/><a href="#Inscriptionduntlphonededveloppeur">Inscription d’un téléphone de développeur</a><br/><a href="#LeMarketplacetestkit">Le Marketplace test kit</a><br/><a href="#PubliersonapplicationsurleWindowsPhoneStore">Publier son application sur le Windows Phone Store</a><br/></div>
<a name="CrezdesapplicationspourWindowsPhone"></a><h2>Créez des applications pour Windows Phone</h2><div class="content" role="article">
<p id="r-305103" data-claire-element-id="305103">La révolution de la mobilité est en marche. Plus besoin de présenter l’iPhone qui a su conquérir un grand nombre d’utilisateurs ; suivi de près par les téléphones Android… <br/> Microsoft se devait de monter dans le TGV de la mobilité ! Sont donc apparus, après ses deux grands concurrents, les téléphones Windows. Avec un peu plus de retard sur eux, Microsoft attaque ce marché avec un peu plus de maturité qu’Apple qui a foncé en tant que pionnier et nous propose son système d’exploitation : <strong>Windows Phone</strong>.</p><p id="r-305104" data-claire-element-id="305104">C’est une bonne nouvelle pour nous ! C’est aujourd’hui un nouveau marché qui s’ouvre à nous avec plein d’applications potentielles à réaliser grâce à nos talents de développeur. Si c’est pour ça que vous vous trouvez sur cette page, alors restez-y ! Dans ce tutoriel, nous allons apprendre à réaliser des applications pour Windows Phone 7.5.<br/> Enfin… plutôt « commencer à apprendre » car dans ce tutoriel nous n’allons pas pouvoir couvrir tous les recoins dont regorge cette plateforme de développement. Mais il vous offrira je l’espère un point d’entrée intéressant afin de vous lancer dans le monde merveilleux du développement pour Windows Phone.</p><p id="r-305105" data-claire-element-id="305105">Vous pouvez vous réjouir ! Nous allons pouvoir développer des applications pour Windows Phone grâce à notre langage préféré, <strong>le C#</strong>. Bonne nouvelle non ?<br/> Il est possible de réaliser deux grands types d’application Windows Phone :</p><ul id="r-305110" data-claire-element-id="305110"><li id="r-305107" data-claire-element-id="305107"><p id="r-305106" data-claire-element-id="305106">des applications dites de gestion où on utilisera Silverlight pour Windows Phone</p></li><li id="r-305109" data-claire-element-id="305109"><p id="r-305108" data-claire-element-id="305108">des jeux avec le framework XNA</p></li></ul><aside id="r-305112" data-claire-element-id="305112" data-claire-semantic="information"><p id="r-305111" data-claire-element-id="305111">Il est également possible de développer des applications pour Windows Phone 7.5 en VB.NET et en F#, mais je ne traiterai que le C# dans ce tutoriel.</p></aside><p id="r-305113" data-claire-element-id="305113">Dans ce tutoriel, nous allons apprendre à développer des applications de gestion avec <strong>Silverlight</strong> pour Windows Phone. Vous ne connaissez pas Silverlight ? Ce n’est pas grave, nous allons l’introduire rapidement (mais sûrement) dans les prochains chapitres.</p><aside id="r-305115" data-claire-element-id="305115" data-claire-semantic="information"><p id="r-305114" data-claire-element-id="305114">Sachez que vous pouvez suivre les huit premiers chapitres de ce tutoriel sans posséder forcément de Windows Phone, ce qui est idéal lorsque l’on souhaite simplement découvrir le sujet. Le seul pré-requis sera de maîtriser un tant soit peu le <strong>C#</strong>. Pour ceux qui auraient besoin d'une piqûre de rappel, vous pouvez consulter mon <a href="http://www.siteduzero.com/tutoriel-3-523498-apprenez-a-developper-en-c.html">tutoriel C#</a> sur le Site du Zéro. ;)</p></aside><p id="r-305116" data-claire-element-id="305116">Alors, quel est le programme ?</p><p id="r-305117" data-claire-element-id="305117">Nous allons dans un premier temps découvrir quels sont <strong>les outils nécessaires</strong> pour pouvoir développer pour Windows Phone. Puis nous aurons un petit <strong>aperçu de Silverlight</strong> car c’est un élément indispensable pour développer pour Windows Phone. Si vous connaissez déjà Silverlight, alors c’est une très bonne chose ; vous allez pouvoir réutiliser beaucoup de vos connaissances. Sinon, ce petit aperçu vous sera très utile. Il ne remplace pas un cours complet sur le sujet, mais se veut être une introduction suffisante pour arriver à suivre le tutoriel. Ensuite nous étudierons, à travers des exemples plus concret, certains aspects du développement spécifique Windows Phone, comme l’utilisation de certains <strong>contrôles</strong>, la <strong>récupération d’informations</strong> sur internet, l’exploitation de la <strong>géolocalisation</strong>, la connexion avec <strong>Facebook </strong>… Enfin, le dernier chapitre expliquera ce qu’il faut savoir pour tester son application finale sur son téléphone et pour la soumettre dans le grand magasin des applications Windows Phone de Microsoft, appelée généralement <em>Windows Phone Store</em> et qui remplace l'ancien nom <em>Marketplace</em>.</p><p id="r-305118" data-claire-element-id="305118">Joli programme n’est-ce pas ? Vous êtes prêts, alors c’est parti ! ^^</p><aside id="r-305120" data-claire-element-id="305120" data-claire-semantic="warning"><p id="r-305119" data-claire-element-id="305119">Dans ce tutoriel, nous allons apprendre à développer avec la version 7.5 de Windows Phone.</p></aside><figure id="r-305122" data-claire-element-id="305123"><img id="r-305121" data-claire-element-id="305121" src="medias/uploads.siteduzero.com_files_369001_370000_369546.png" alt="Image utilisateur"/></figure><figure id="r-305125" data-claire-element-id="305126"><img id="r-305124" data-claire-element-id="305124" src="medias/uploads.siteduzero.com_files_367001_368000_367783.png" alt="Image utilisateur"/></figure>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Installerlesoutilsdedveloppement"></a><h2>Installer les outils de développement</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
<span class="next">Prérequis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-305127" data-claire-element-id="305127">Ça a l’air super ça, de pouvoir développer des applications pour les téléphones ! C’est très à la mode et ces mini-ordinateurs nous réservent plein de surprises. Voyons donc ce qu’il nous faut pour nous lancer dans le monde merveilleux du développement pour Windows Phone.</p><p id="r-305128" data-claire-element-id="305128">Dans ce tutoriel, nous allons apprendre à <strong>développer pour Windows Phone</strong> équipés de la version 7.5, c’est-à-dire la version appelée « Mango » qui est la dernière version à l’heure où j’écris ces lignes.</p><aside id="r-305130" data-claire-element-id="305130" data-claire-semantic="information"><p id="r-305129" data-claire-element-id="305129">La version 8 est en préparation mais sachez dès à présent que quasiment tout ce que vous aurez appris dans ce tutoriel restera vrai avec la version 8.</p></aside>
</div><a name="Prrequis"></a><h2>Prérequis</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">
<span class="arrow"></span>
<span class="next">Installer les outils de développement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
<span class="next">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305131" data-claire-element-id="305131">Voici les prérequis indispensables pour suivre ce tutoriel :</p><ul id="r-305140" data-claire-element-id="305140"><li id="r-305133" data-claire-element-id="305133"><p id="r-305132" data-claire-element-id="305132">La première chose est de <strong>posséder Windows 7</strong>, <strong>Windows Vista SP2</strong> ou <strong>Windows 8</strong> qui sont pour l'instant les seules configurations supportées permettant de développer pour Windows Phone.</p></li><li id="r-305135" data-claire-element-id="305135"><p id="r-305134" data-claire-element-id="305134">Il est également grandement conseillé de posséder une <strong>carte graphique compatible avec DirectX 10</strong> afin de pouvoir utiliser correctement l’émulateur. Je reviendrai plus tard sur ce qu’est l’émulateur.</p></li><li id="r-305137" data-claire-element-id="305137"><p id="r-305136" data-claire-element-id="305136">Bien sûr, vous aurez aussi intérêt à posséder <strong>un smartphone équipé de Windows Phone</strong> : il est primordial de tester son application sur un téléphone avant de songer à la rendre disponible sur le Windows Phone Store.</p></li><li id="r-305139" data-claire-element-id="305139"><p id="r-305138" data-claire-element-id="305138">Enfin le dernier prérequis est de <strong>savoir parler le C#</strong>.</p></li></ul><aside id="r-305142" data-claire-element-id="305142" data-claire-semantic="information"><p id="r-305141" data-claire-element-id="305141">Le C# est le langage de développement phare de Microsoft et permet la création d’applications informatiques de toutes sortes. Il est indispensable de connaitre un peu le langage de programmation C# afin de pouvoir développer des applications pour smartphones équipés de Windows Phone. Son étude n’est pas traitée dans ce tutoriel, mais vous pouvez retrouver <a href="http://www.siteduzero.com/tutoriel-3-523498-apprenez-a-developper-en-c.html">un tutoriel C # complet sur le Site du Zéro</a>.</p></aside><p id="r-305143" data-claire-element-id="305143">Pour résumer, il s’agit d’un langage orienté objet apparu en même temps que le framework .NET qui n’a cessé d’évoluer depuis 2001. Il permet d’utiliser les briques du framework .NET pour réaliser des applications de toutes sortes et notamment des applications pour Windows Phone. C’est le ciment et les outils qui permettent d’assembler les briques de nos applications.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">
<span class="arrow"></span>
<span class="next">Installer les outils de développement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
<span class="next">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="InstallerVisualStudio2010ExpresspourWindowsPhoneavecMango"></a><h2>Installer Visual Studio 2010 Express pour Windows Phone avec Mango</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
<span class="arrow"></span>
<span class="next">Prérequis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
<span class="next">L&#039;émulateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installer-visual-studio-2010-express-pour-windows-phone-avec-mango" data-claire-element-id="305207">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</h4><p id="r-305145" data-claire-element-id="305145">Puisqu’on est partis dans le bâtiment, il nous faut un chef de chantier qui va nous permettre d’orchestrer nos développements. C’est ce qu’on appelle l’IDE, pour <em>Integrated Development Environment</em>, ce qui signifie « Environnement de développement intégré ». La gamme de Microsoft est riche en outils professionnels de qualité pour le développement, notamment grâce à Visual Studio.</p><p id="r-305146" data-claire-element-id="305146">Pour apprendre et commencer à découvrir l'environnement de développement, Microsoft propose gratuitement Visual Studio dans sa version express. C’est une version allégée de l’environnement de développement qui permet de faire plein de choses, mais avec moins d'outils que dans les versions payantes. Rassurez-vous, ces versions gratuites sont très fournies et permettent de faire tout ce dont on a besoin pour apprendre à développer sur Windows Phone et suivre ce tutoriel !</p><p id="r-305147" data-claire-element-id="305147">Pour réaliser des applications d'envergure, il pourra cependant être judicieux d'investir dans l'outil complet et ainsi bénéficier de fonctionnalités complémentaires qui permettent d'améliorer, de faciliter et d'industrialiser les développements.</p><p id="r-305148" data-claire-element-id="305148">Pour développer pour Windows Phone gratuitement, nous allons avoir besoin de Microsoft Visual Studio Express 2010 pour Windows Phone. Pour le télécharger, rendez-vous sur <a href="http://create.msdn.com/">http://create.msdn.com</a>.</p><aside id="r-305150" data-claire-element-id="305150" data-claire-semantic="information"><p id="r-305149" data-claire-element-id="305149">Si vous possédez la version payante de Visual Studio, suivez quand même ces étapes afin de télécharger également les outils complémentaires et notamment le SDK permettant le développement sur Windows Phone.</p></aside><p id="r-305151" data-claire-element-id="305151">Donc, allons sur le site <a href="http://create.msdn.com/">http://create.msdn.com</a> ; attention tout est en anglais, mais ne vous inquiétez pas, je vais vous guider. Cliquez sur <code>Windows Phone Dev Center</code> :</p><figure id="r-305153" data-claire-element-id="305154"><img id="r-305152" data-claire-element-id="305152" src="medias/uploads.siteduzero.com_files_406001_407000_406436.png" alt="Image utilisateur"/></figure><p id="r-305155" data-claire-element-id="305155">Cliquez ensuite sur <code>GET SDK</code> qui va nous permettre de télécharger les outils gratuits :</p><figure id="r-305157" data-claire-element-id="305158"><img id="r-305156" data-claire-element-id="305156" src="medias/uploads.siteduzero.com_files_406001_407000_406437.png" alt="Image utilisateur"/></figure><p id="r-305159" data-claire-element-id="305159">On arrive sur une nouvelle page où il est indiqué que l’on doit télécharger le « Windows Phone SDK ». SDK signifie <em>Software Development Kit</em> que l’on peut traduire par : Kit de développement logiciel. Ce sont tous les outils dont on va avoir besoin pour développer dans une technologie particulière, ici en l’occurrence pour Windows Phone. Cliquez sur le bouton <code>Download</code> sous <code>Download the SDK 7.1</code> :</p><figure id="r-305161" data-claire-element-id="305162"><img id="r-305160" data-claire-element-id="305160" src="medias/uploads.siteduzero.com_files_406001_407000_406439.png" alt="Image utilisateur"/></figure><p id="r-305163" data-claire-element-id="305163">À noter qu’on nous propose de télécharger le Windows Phone SDK 7.1 ou le Windows Phone SDK 7.11. Le SDK en version 7.1 permet de développer pour la version 7.5 de Windows Phone, c’est-à-dire pour Mango. Donc Mango correspond à la version 7.5 de Windows Phone et les outils pour développer pour Mango sont en version 7.1. Les chiffres se ressemblent, donc ne vous y trompez pas. :) <br/> Il est obligatoire d'installer la version 7.1 pour pouvoir développer pour Windows Phone 7.5, mais vous pouvez si vous le souhaitez installer ensuite la version 7.11 ; c'est d'ailleurs indispensable si vous êtes sous Windows 8. La version 7.11 apporte le support pour Windows 8 mais également la possibilité d'utiliser l'émulateur permettant de simuler des téléphones avec beaucoup de mémoire (512 Mo), ou peu de mémoire (256 Mo). Dans ce cours je vais installer uniquement la version 7.1, qui représentera la majorité des configurations des lecteurs. Si vous installez en plus la version 7.11, sachez qu'il n'y aura pas beaucoup de différence.</p><p id="r-305164" data-claire-element-id="305164">Une fois cliqué, le téléchargement de l’installeur commence. Il s’agit du fichier <code>vm_web2.exe</code>. Comme son nom et sa taille le suggèrent, il ne s’agit que d’un petit exécutable qui aura besoin de se connecter à internet pour télécharger tout ce dont il a besoin. Donc, démarrez le téléchargement et enchaînez tout de suite sur l’installation, tant que vous êtes connectés à internet. L’installation est plutôt classique et commence par l’acceptation du contrat de licence :</p><figure id="r-305166" data-claire-element-id="305167"><img id="r-305165" data-claire-element-id="305165" src="medias/uploads.siteduzero.com_files_367001_368000_367056.png" alt="Image utilisateur"/></figure><p id="r-305168" data-claire-element-id="305168">Choisissez ensuite d’installer les outils maintenant :</p><figure id="r-305170" data-claire-element-id="305171"><img id="r-305169" data-claire-element-id="305169" src="medias/uploads.siteduzero.com_files_367001_368000_367057.png" alt="Image utilisateur"/></figure><p id="r-305172" data-claire-element-id="305172">L’installation est plutôt longue, surtout sur un PC fraichement installé. J’espère que vous réussirez à contenir votre impatience :) :</p><figure id="r-305174" data-claire-element-id="305175"><img id="r-305173" data-claire-element-id="305173" src="medias/uploads.siteduzero.com_files_367001_368000_367058.png" alt="Image utilisateur"/></figure><p id="r-305176" data-claire-element-id="305176">Enfin, nous arrivons à la fin de l’installation, vous pouvez cliquer sur <code>Exécuter le produit maintenant</code> pour lancer la version express de Visual Studio pour Windows Phone :</p><figure id="r-305178" data-claire-element-id="305179"><img id="r-305177" data-claire-element-id="305177" src="medias/uploads.siteduzero.com_files_367001_368000_367059.png" alt="Image utilisateur"/></figure><p id="r-305180" data-claire-element-id="305180">Vous pouvez également démarrer Visual Studio Express 2010 pour Windows Phone à partir du Menu Démarrer. Si vous possédez une version payante de Visual Studio, vous pouvez à présent le lancer.</p><aside id="r-305182" data-claire-element-id="305182" data-claire-semantic="warning"><p id="r-305181" data-claire-element-id="305181">Pour la suite du cours, je me baserai sur la version gratuite que nous venons d’installer, mais tout ceci sera valable avec Visual Studio. Les captures seront sans doute différentes, mais si vous avez la version payante, c’est que vous devez déjà avoir un peu l’habitude de Visual Studio, je suppose donc que vous vous y retrouverez ! ^^</p></aside><p id="r-305183" data-claire-element-id="305183">À son ouverture, vous pouvez constater que nous arrivons sur la page de démarrage :</p><figure id="r-305185" data-claire-element-id="305186"><img id="r-305184" data-claire-element-id="305184" src="medias/uploads.siteduzero.com_files_367001_368000_367061.png" alt="Image utilisateur"/></figure><p id="r-305187" data-claire-element-id="305187">Nous allons donc créer un nouveau projet en cliquant sur le lien (comme indiqué sur la capture d'écran), ou plus classiquement par le menu <code>Fichier</code> &gt; <code>Nouveau projet</code>.</p><p id="r-305188" data-claire-element-id="305188">À ce moment-là, Visual Studio Express 2010 pour Windows Phone (que j’appellerai désormais Visual Studio pour économiser mes doigts et les touches de mon clavier :p ) nous ouvre sa page de choix du modèle du projet :</p><figure id="r-305190" data-claire-element-id="305191"><img id="r-305189" data-claire-element-id="305189" src="medias/uploads.siteduzero.com_files_367001_368000_367062.png" alt="Image utilisateur"/></figure><p id="r-305192" data-claire-element-id="305192">Nous allons choisir de créer une Application Windows Phone, qui est la version la plus basique du projet permettant de réaliser une application pour Windows Phone avec Silverlight. Remarquons que le choix du langage est possible entre Visual Basic et Visual C#. Nous choisissons évidemment le C# car c’est le langage que nous maîtrisons. J’en profite pour nommer mon projet « HelloWorld »… (ici, personne ne se doute quel type d’application nous allons faire très bientôt ^^ ).</p><p id="r-305193" data-claire-element-id="305193">Enfin, après avoir validé la création du projet, il nous demande la version à cibler :</p><figure id="r-305195" data-claire-element-id="305196"><img id="r-305194" data-claire-element-id="305194" src="medias/uploads.siteduzero.com_files_367001_368000_367063.png" alt="Image utilisateur"/></figure><p id="r-305197" data-claire-element-id="305197">Choisissez « <code>7.1</code> ». Attention, comme on l’a déjà vu, ici nous ciblons donc les versions de Windows Phone 7.5, c’est-à-dire avec Mango. C’est bien la version du SDK qui est en 7.1.</p><p id="r-305198" data-claire-element-id="305198">Visual Studio génère son projet, les fichiers qui le composent et s’ouvre sur la page suivante :</p><figure id="r-305200" data-claire-element-id="305201"><img id="r-305199" data-claire-element-id="305199" src="medias/uploads.siteduzero.com_files_367001_368000_367064.png" alt="Image utilisateur"/></figure><p id="r-305202" data-claire-element-id="305202">Nous allons revenir sur cet écran très bientôt. Ce qu’il est important de remarquer c’est que si nous démarrons l’application telle quelle, elle va se compiler et s’exécuter dans l’émulateur Windows Phone. Vous le voyez dans le petit encadré en haut de Visual Studio, c’est la cible du déploiement. Il est possible de déployer soit sur l’émulateur, soit directement sur un téléphone relié au poste de travail. Il ne reste plus qu’à réellement exécuter notre application…</p><aside id="r-305204" data-claire-element-id="305204" data-claire-semantic="warning"><p id="r-305203" data-claire-element-id="305203">Note, il ne sera pas possible de déployer notre application sur le téléphone sans une manipulation préalable que nous découvrirons dans le dernier chapitre.</p></aside><aside id="r-305206" data-claire-element-id="305206" data-claire-semantic="information"><p id="r-305205" data-claire-element-id="305205">Si vous avez installé la version 7.11 du SDK, c'est dans cette liste déroulante que vous pourrez choisir d'utiliser l'émulateur avec 256 Mo ou 521 Mo.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
<span class="arrow"></span>
<span class="next">Prérequis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
<span class="next">L&#039;émulateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039mulateur"></a><h2>L&#039;émulateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
<span class="arrow"></span>
<span class="next">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
<span class="next">Xaml et code behind</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-emulateur" data-claire-element-id="305233">L'émulateur</h4><p id="r-305208" data-claire-element-id="305208">Exécutons donc notre application en appuyant sur <kbd>F5</kbd>, ce qui nous permet de démarrer l’application en utilisant le débogueur. Nous constatons que l’émulateur se lance, il ressemble à un téléphone Windows Phone… On le reconnait d’un coup d’œil avec les trois boutons en bas du téléphone, la flèche (ou retour arrière), le bouton d’accès au menu et la loupe pour faire des recherches :</p><figure id="r-305210" data-claire-element-id="305211"><img id="r-305209" data-claire-element-id="305209" src="medias/uploads.siteduzero.com_files_367001_368000_367065.png" alt="Image utilisateur"/></figure><p id="r-305212" data-claire-element-id="305212">L’émulateur possède également des boutons en haut à droite qui permettent (de haut en bas) de :</p><ul id="r-305227" data-claire-element-id="305227"><li id="r-305214" data-claire-element-id="305214"><p id="r-305213" data-claire-element-id="305213">Fermer l’émulateur</p></li><li id="r-305216" data-claire-element-id="305216"><p id="r-305215" data-claire-element-id="305215">Minimiser l’émulateur</p></li><li id="r-305218" data-claire-element-id="305218"><p id="r-305217" data-claire-element-id="305217">Faire pivoter de 90° vers la gauche l’émulateur</p></li><li id="r-305220" data-claire-element-id="305220"><p id="r-305219" data-claire-element-id="305219">Faire pivoter de 90° vers la droite l’émulateur</p></li><li id="r-305222" data-claire-element-id="305222"><p id="r-305221" data-claire-element-id="305221">Adapter à la résolution</p></li><li id="r-305224" data-claire-element-id="305224"><p id="r-305223" data-claire-element-id="305223">Zoomer/dézoomer sur l’émulateur</p></li><li id="r-305226" data-claire-element-id="305226"><p id="r-305225" data-claire-element-id="305225">Ouvrir les outils supplémentaires</p></li></ul><figure id="r-305229" data-claire-element-id="305230"><img id="r-305228" data-claire-element-id="305228" src="medias/uploads.siteduzero.com_files_367001_368000_367066.png" alt="Image utilisateur"/></figure><p id="r-305231" data-claire-element-id="305231">Remarquons également que des chiffres s’affichent sur le côté droit de l’émulateur. Ce sont des informations sur les performances de l’application, nous n’en parlerons pas ici.</p><p id="r-305232" data-claire-element-id="305232">Enfin, vous pouvez fermer l’application en cliquant sur le bouton retour de l’émulateur (la flèche en bas à gauche). L’application se ferme et le débogueur s’arrête.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
<span class="arrow"></span>
<span class="next">Installer Visual Studio 2010 Express pour Windows Phone avec Mango</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
<span class="next">Xaml et code behind</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Xamletcodebehind"></a><h2>Xaml et code behind</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
<span class="arrow"></span>
<span class="next">L&#039;émulateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
<span class="next">Blend pour le design</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-xaml-et-code-behind" data-claire-element-id="305255">Xaml et code behind</h4><p id="r-305234" data-claire-element-id="305234">Revenons un peu sur cette page que nous a affiché Visual Studio. Nous pouvons voir que le côté gauche ressemble à l’émulateur et que le côté droit ressemble à un fichier XML.<br/> Vous ne connaissez pas les fichiers XML ? Si vous voulez en savoir plus, n’hésitez pas à faire un petit tour sur internet, c’est un format très utilisé dans l’informatique !<br/> Pour faire court, le fichier XML est un langage de balise, un peu comme le HTML, où l’on décrit de l’information. Les balises sont des valeurs entourées de &lt; et &gt; qui décrivent la sémantique de la donnée. Par exemple :</p><pre id="r-305235" data-claire-element-id="305235"><code data-claire-semantic="xml">&lt;prenom&gt;Nicolas&lt;/prenom&gt;</code></pre><p id="r-305236" data-claire-element-id="305236">La balise <code data-claire-semantic="xml">&lt;prenom&gt;</code> est ce qu’on appelle une balise ouvrante, cela signifie que ce qui se trouve après (en l’occurrence la chaine « Nicolas ») fait partie de cette balise jusqu’à ce que l’on rencontre la balise fermante <code data-claire-semantic="xml">&lt;/prenom&gt;</code> qui est comme la balise ouvrante à l’exception du / précédant le nom de la balise.</p><p id="r-305237" data-claire-element-id="305237">Le XML est un fichier facile à lire par nous autres humains. On en déduit assez facilement que le fichier contient la chaine « Nicolas » et qu’il s’agit sémantiquement d’un prénom. Une balise peut contenir des attributs permettant de donner des informations sur la donnée. Les attributs sont entourés de guillemets &quot; et &quot; et font partie de la balise. Par exemple :</p><pre id="r-305238" data-claire-element-id="305238"><code data-claire-semantic="xml">&lt;client nom=&quot;Nicolas&quot; age=&quot;30&quot;&gt;&lt;/client&gt;</code></pre><p id="r-305239" data-claire-element-id="305239">Ici, la balise client possède un attribut « nom » ayant la valeur « Nicolas » et un attribut « age » ayant la valeur « 30 ». Encore une fois, c’est très facile à lire pour un humain.<br/> Il est possible que la balise n’ait pas de valeur, comme c’est le cas dans l’exemple ci-dessus. On peut dans ce cas-là remplacer la balise ouvrante et la balise fermante par cet équivalent :</p><pre id="r-305240" data-claire-element-id="305240"><code data-claire-semantic="xml">&lt;client nom=&quot;Nicolas&quot; age=&quot;30&quot;/&gt;</code></pre><p id="r-305241" data-claire-element-id="305241">Enfin, et nous allons terminer notre aperçu rapide du XML avec ce dernier point : il est important de noter que le XML peut imbriquer ses balises et qu’il ne peut posséder qu’un seul élément racine, ce qui nous permet d’avoir une hiérarchie de données. Par exemple nous pourrons avoir :</p><pre id="r-305242" data-claire-element-id="305242"><code data-claire-semantic="xml">&lt;listesDesClient&gt;
  &lt;client type=&quot;Particulier&quot;&gt;
    &lt;nom&gt;Nicolas&lt;/nom&gt;
    &lt;age&gt;30&lt;/age&gt;
  &lt;/client&gt;
  &lt;client type=&quot;Professionel&quot;&gt;
    &lt;nom&gt;Jérémie&lt;/nom&gt;
    &lt;age&gt;40&lt;/age&gt;
  &lt;/client&gt;
&lt;/listesDesClient&gt;</code></pre><p id="r-305243" data-claire-element-id="305243">On voit tout de suite que le fichier décrit une liste de deux clients. Nous en avons un qui est un particulier, qui s’appelle Nicolas et qui a 30 ans alors que l’autre est un professionnel, prénommé Jérémie et qui a 40 ans.</p><p id="r-305244" data-claire-element-id="305244">À quoi cela nous sert-il ? À comprendre ce fameux fichier de droite. C’est le <strong>fichier XAML</strong> (prononcez « Zammel »). Le XAML est un langage qui permet de décrire des interfaces et en l’occurrence ici le code XAML (à droite dans Visual Studio) décrit l’interface que nous retrouvons à gauche. La partie gauche est la prévisualisation du rendu du code écrit dans la partie droite. On appelle la partie gauche <strong>le designer</strong>. <br/> En fait, le fichier XAML contient des balises qui décrivent ce qui doit s’afficher sur l’écran du téléphone. Nous allons y revenir.</p><p id="r-305245" data-claire-element-id="305245">Nous allons donc devoir apprendre un nouveau langage pour pouvoir créer des applications sur Windows Phone : le XAML. Ne vous inquiétez pas, il est assez facile à apprendre et des outils vont nous permettre de simplifier notre apprentissage. :)</p><div id="r-305247" data-claire-element-id="305247" data-claire-semantic="question"><p id="r-305246" data-claire-element-id="305246">Ok pour le XAML si tu dis que ce n’est pas trop compliqué, mais le C# dans tout ça ?</p></div><p id="r-305248" data-claire-element-id="305248">Eh bien il arrive dans le fichier du même nom que le fichier XAML et il est suffixé par <code>.cs</code>. Nous le retrouvons si nous cliquons sur le petit triangle à côté du fichier XAML qui permet de déplier les fichiers :</p><figure id="r-305250" data-claire-element-id="305251"><img id="r-305249" data-claire-element-id="305249" src="medias/uploads.siteduzero.com_files_367001_368000_367067.png" alt="Image utilisateur"/></figure><p id="r-305252" data-claire-element-id="305252">Il est juste en dessous, on l’appelle le <em>code behind</em>. Le code behind est le code C# qui est associé à l’écran qui va s’afficher à partir du code XAML. Il permet de gérer toute la logique associée au XAML. <br/> Si vous ouvrez ce fichier C#, vous pouvez voir quelques instructions déjà créées en même temps que le XAML. Nous allons également y revenir.</p><aside id="r-305254" data-claire-element-id="305254" data-claire-semantic="warning"><p id="r-305253" data-claire-element-id="305253">Dans la suite de ce cours, les extraits de code XAML seront indiqués par le Site du Zéro comme du XML. C'est seulement pour les besoins de la coloration syntaxique, mais rassurez-vous, il s'agira bien de XAML !</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
<span class="arrow"></span>
<span class="next">L&#039;émulateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
<span class="next">Blend pour le design</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Blendpourledesign"></a><h2>Blend pour le design</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
<span class="arrow"></span>
<span class="next">Xaml et code behind</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">
<span class="next">Introduction à Silverlight</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305256" data-claire-element-id="305256">Afin de faciliter la réalisation de jolis écrans à destination du téléphone, nous pouvons modifier le XAML. C'est un point que nous verrons plus en détail un peu plus loin. Il est possible de le modifier directement à la main lorsqu’on connait la syntaxe, mais nous avons aussi à notre disposition un outil dédié au design qui le fait tout seul : Blend.</p><p id="r-305257" data-claire-element-id="305257"><strong>Microsoft Expression Blend</strong> est un outil professionnel de conception d'interfaces utilisateur de Microsoft. Une version gratuite pour Windows Phone a été installée en même temps que Visual Studio Express 2010 pour Windows Phone et permet de travailler sur le design de nos écrans XAML.<br/> Nous verrons comment il fonctionne mais nous ne nous attarderons pas trop sur son fonctionnement car il mériterait un tutoriel entier.</p><p id="r-305258" data-claire-element-id="305258">Ce qui est intéressant c’est qu’il est possible de travailler en même temps sur le même projet dans Visual Studio et dans Blend, les modifications se répercutant de l’un à l’autre. Faisons un clic droit sur le fichier XAML et choisissons de l’ouvrir dans Expression Blend :</p><figure id="r-305260" data-claire-element-id="305261"><img id="r-305259" data-claire-element-id="305259" src="medias/uploads.siteduzero.com_files_367001_368000_367140.png" alt="Image utilisateur"/></figure><p id="r-305262" data-claire-element-id="305262">Blend s’ouvre alors et affiche à nouveau le rendu de notre écran :</p><figure id="r-305264" data-claire-element-id="305265"><img id="r-305263" data-claire-element-id="305263" src="medias/uploads.siteduzero.com_files_367001_368000_367141.png" alt="Image utilisateur"/></figure><p id="r-305266" data-claire-element-id="305266">On peut voir également une grosse boîte à outils qui va nous permettre de styler notre application. Nous y reviendrons.</p><h3 id="r-en-resume-409" data-claire-element-id="305276">En résumé</h3><ul id="r-305275" data-claire-element-id="305275"><li id="r-305268" data-claire-element-id="305268"><p id="r-305267" data-claire-element-id="305267">Pour développer pour Windows Phone, nous avons besoin de Visual Studio et du kit de développement pour Windows Phone.</p></li><li id="r-305270" data-claire-element-id="305270"><p id="r-305269" data-claire-element-id="305269">Il existe une version totalement gratuite de Visual Studio permettant de réaliser des applications sous Windows Phone.</p></li><li id="r-305272" data-claire-element-id="305272"><p id="r-305271" data-claire-element-id="305271">Un émulateur accompagne Visual Studio pour tester ses applications en mode développement.</p></li><li id="r-305274" data-claire-element-id="305274"><p id="r-305273" data-claire-element-id="305273">Blend est l’outil de design permettant de styler son application, dont une version gratuite est fournie avec le kit de développement pour Windows Phone.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
<span class="arrow"></span>
<span class="next">Xaml et code behind</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">
<span class="next">Introduction à Silverlight</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="IntroductionSilverlight"></a><h2>Introduction à Silverlight</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
<span class="arrow"></span>
<span class="next">Blend pour le design</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
<span class="next">Hello World</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-305279" data-claire-element-id="305279">Nous avons désormais tous les outils qu’il faut pour commencer à apprendre à réaliser des applications pour Windows Phone. <br/> Nous avons pu voir que ces outils fonctionnent et nous avons pu constater un début de résultat grâce à l’émulateur. Mais pour bien comprendre et assimiler toutes les notions, nous avons besoin de plus de concret, de manipuler des éléments et de voir qu’est-ce qui exactement agit sur quoi. Aussi, il est temps de voir comment réaliser une première application avec le classique « Hello World » ! ^^ <br/> Cette première application va nous servir de base pour commencer à découvrir ce qu’il faut pour réaliser des applications pour Windows Phone.</p>
</div><a name="HelloWorld"></a><h2>Hello World</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">
<span class="arrow"></span>
<span class="next">Introduction à Silverlight</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
<span class="next">Ce qu&#039;il y a dans ce Hello World</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-hello-world-6" data-claire-element-id="305317">Hello World</h4><p id="r-305280" data-claire-element-id="305280">Revenons donc sur notre écran où nous avons le designer et le XAML. Positionnons-nous sur le code XAML et ajoutons des éléments sans trop comprendre ce que nous allons faire afin de réaliser notre « Hello World ». Nous reviendrons ensuite sur ce que nous avons fait pour expliquer le tout en détail.</p><p id="r-305281" data-claire-element-id="305281">Pour commencer, on va modifier la ligne suivante :</p><pre id="r-305282" data-claire-element-id="305282"><code data-claire-semantic="xml">&lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;nom de la page&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;</code></pre><p id="r-305283" data-claire-element-id="305283">et écrire ceci :</p><pre id="r-305284" data-claire-element-id="305284"><code data-claire-semantic="xml">&lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Hello World&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;</code></pre><p id="r-305285" data-claire-element-id="305285">Nous changeons donc la valeur de l’attribut <code data-claire-semantic="xml">Text</code> de la balise <code data-claire-semantic="xml">&lt;TextBlock&gt;</code>.</p><aside id="r-305287" data-claire-element-id="305287" data-claire-semantic="error"><p id="r-305286" data-claire-element-id="305286">J’emploie ici du vocabulaire XML, mais ne le retenez pas car ce n’est pas exactement de ça qu’il s’agit. Nous y reviendrons.</p></aside><p id="r-305288" data-claire-element-id="305288">Ensuite, juste après :</p><pre id="r-305289" data-claire-element-id="305289"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;</code></pre><p id="r-305290" data-claire-element-id="305290">Donc, à l’intérieur de cette balise <code data-claire-semantic="xml">&lt;Grid&gt;</code>, rajoutez :</p><pre id="r-305291" data-claire-element-id="305291"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;TextBlock Text=&quot;Saisir votre nom&quot; HorizontalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBox x:Name=&quot;nom&quot;  /&gt;
    &lt;Button Content=&quot;Valider&quot; Click=&quot;Button_Click&quot; /&gt;
    &lt;TextBlock x:Name=&quot;resultat&quot; Foreground=&quot;Red&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305292" data-claire-element-id="305292">Remarquez que lorsque vous avez saisi la ligne :</p><pre id="r-305293" data-claire-element-id="305293"><code data-claire-semantic="xml">&lt;Button Content=&quot;Valider&quot; Click=&quot;Button_Click&quot; /&gt;</code></pre><p id="r-305294" data-claire-element-id="305294">au moment de taper : <code data-claire-semantic="xml">Click=&quot;&quot;</code>, Visual Studio Express vous a proposé de générer un nouveau gestionnaire d’événement :</p><figure id="r-305296" data-claire-element-id="305297"><img id="r-305295" data-claire-element-id="305295" src="medias/uploads.siteduzero.com_files_367001_368000_367187.png" alt="Image utilisateur"/></figure><p id="r-305298" data-claire-element-id="305298">Vous pouvez le générer en appuyant sur <kbd>Entrée</kbd>, cela nous fera gagner du temps plus tard. Sinon, ce n’est pas grave.<br/> Vous pouvez constater que le designer s’est mis à jour pour faire apparaitre nos modifications :</p><figure id="r-305300" data-claire-element-id="305301"><img id="r-305299" data-claire-element-id="305299" src="medias/uploads.siteduzero.com_files_367001_368000_367191.png" alt="Image utilisateur"/></figure><p id="r-305302" data-claire-element-id="305302">Ouvrez maintenant le fichier de code behind et modifiez la méthode <code>Button_Click</code> pour avoir :</p><pre id="r-305303" data-claire-element-id="305303"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    resultat.Text = &quot;Bonjour &quot; + nom.Text;
}</code></pre><p id="r-305304" data-claire-element-id="305304">Nous pouvons dès à présent démarrer notre application en appuyant sur <kbd>F5</kbd>. L’émulateur se lance et nous voyons apparaître les nouvelles informations sur l’écran :</p><figure id="r-305306" data-claire-element-id="305307"><img id="r-305305" data-claire-element-id="305305" src="medias/uploads.siteduzero.com_files_367001_368000_367192.png" alt="Image utilisateur"/></figure><p id="r-305308" data-claire-element-id="305308">La souris va ici permettre de simuler le « toucher » avec le doigt lorsque nous cliquons. Cliquons donc dans la zone de texte et nous voyons apparaître un clavier virtuel à l’intérieur de notre application :</p><figure id="r-305310" data-claire-element-id="305311"><img id="r-305309" data-claire-element-id="305309" src="medias/uploads.siteduzero.com_files_367001_368000_367193.png" alt="Image utilisateur"/></figure><p id="r-305312" data-claire-element-id="305312">Ce clavier virtuel s’appelle le SIP (pour <em>Soft Input Panel</em>) et apparait automatiquement quand on en a besoin, notamment dans les zones de saisie. Saisissons une valeur dans la zone de texte et cliquons sur le bouton <code>Valider</code>.<br/> Nous voyons apparaître le résultat en rouge avec un magnifique message construit :</p><figure id="r-305314" data-claire-element-id="305315"><img id="r-305313" data-claire-element-id="305313" src="medias/uploads.siteduzero.com_files_367001_368000_367194.png" alt="Image utilisateur"/></figure><p id="r-305316" data-claire-element-id="305316">Et voilà, notre Hello World est terminé ! Chouette non ? :D <br/> Pour quitter l’application, le plus simple est de cliquer sur le bouton retour, l’application se termine et le débogueur de Visual Studio s’arrête.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">
<span class="arrow"></span>
<span class="next">Introduction à Silverlight</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
<span class="next">Ce qu&#039;il y a dans ce Hello World</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Cequ039ilyadansceHelloWorld"></a><h2>Ce qu&#039;il y a dans ce Hello World</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
<span class="arrow"></span>
<span class="next">Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
<span class="next">Les conteneurs et le placement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ce-qu-il-y-a-dans-ce-hello-world" data-claire-element-id="305340">Ce qu'il y a dans ce Hello World</h4><p id="r-305318" data-claire-element-id="305318">Alors, taper des choses sans rien comprendre, ça va un moment… mais là, il est temps de savoir ce que nous avons fait ! :-°</p><p id="r-305319" data-claire-element-id="305319">Nous avons dans un premier temps fait des choses dans le XAML. Pour rappel, le XAML sert à décrire le contenu de ce que nous allons voir à l’écran. En fait, un fichier XAML correspond à une page. Une application peut être découpée en plusieurs pages, nous y reviendrons plus tard. Ce que nous avons vu sur l’émulateur est l’affichage de la page <code>MainPage</code>.</p><p id="r-305320" data-claire-element-id="305320">Donc, nous avons utilisé le XAML pour décrire le contenu de la page. Il est globalement assez explicite mais ce qu’il faut comprendre c’est que nous avons ajouté des contrôles du framework .NET dans la page. Un contrôle est une classe C# complète qui sait s’afficher, se positionner, traiter des événements de l’utilisateur (comme le clic sur le bouton), etc. Ces contrôles ont des propriétés et peuvent être ajoutés dans le XAML.<br/> Par exemple, prenons la ligne suivante :</p><pre id="r-305321" data-claire-element-id="305321"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Saisir votre nom&quot; HorizontalAlignment=&quot;Center&quot; /&gt;</code></pre><p id="r-305322" data-claire-element-id="305322">Nous demandons d’ajouter dans la page le contrôle <a href="http://msdn.microsoft.com/fr-fr/library/system.windows.controls.textblock(v=vs.95).aspx">TextBlock</a> et de positionner sa propriété <code>Text</code> à la chaine de caractères &quot;Saisir votre nom&quot;. Ce contrôle sera aligné au centre. En fait, j’ai dit que nous l’ajoutions dans la page, mais pour être plus précis, nous l’ajoutons dans le contrôle <code>StackPanel</code> qui est lui-même contenu dans le contrôle <code>Grid</code>, qui est contenu dans la page. Nous verrons plus loin ce que sont ces contrôles.</p><aside id="r-305324" data-claire-element-id="305324" data-claire-semantic="information"><p id="r-305323" data-claire-element-id="305323">Ce que nous avons appelé « balise » plus tôt est en fait un contrôle, et ce que nous avons appelé « attribut » correspond à une propriété de ce contrôle.</p></aside><p id="r-305325" data-claire-element-id="305325">Derrière, automatiquement, cette ligne de XAML entraîne la déclaration et l’instanciation d’un objet de type <code>TextBlock</code> avec les affectations de propriétés adéquates. Puis ce contrôle est ajouté dans le contrôle <code>StackPanel</code>. Tout ceci nous est masqué. Grâce au XAML nous avons simplement décrit l’interface de la page et c’est Visual Studio qui s’est occupé de le transformer en C#.<br/> Parfait ! :) Moins on en fait et mieux on se porte… et surtout il y a moins de risque d’erreurs.</p><p id="r-305326" data-claire-element-id="305326">Et c’est pareil pour tous les autres contrôles de la page, le <code>TextBlock</code> qui est une zone de texte non modifiable, le <code>TextBox</code> qui est une zone de texte modifiable déclenchant l’affichage du clavier virtuel, le bouton, etc.</p><p id="r-305327" data-claire-element-id="305327">Pour le bouton, nous avons une propriété <code>Click</code>. Il s’agit en fait d’un événement. Lorsque nous avons ajouté plus tôt un nouveau gestionnaire d’événement, en fait Visual Studio a associé la méthode <code>Button_Click</code> à l’événement de clic sur le bouton. Ce qui fait qu’à chaque fois que l’on clique sur ce bouton cette méthode est appelée.</p><p id="r-305328" data-claire-element-id="305328">Que fait cette méthode ?</p><pre id="r-305329" data-claire-element-id="305329"><code data-claire-semantic="csharp">resultat.Text = &quot;Bonjour &quot; + nom.Text;</code></pre><p id="r-305330" data-claire-element-id="305330">Elle modifie la propriété <code>Text</code> de la variable <code>resultat</code> en concaténant la chaine &quot;Bonjour &quot; et la propriété <code>Text</code> de la variable <code>nom</code>.<br/> Mais … d’où sortent ces variables ? Nous n’avons jamais déclaré de variable <code>resultat</code> ou de variable <code>nom</code> !<br/> C’est la conséquence de ce que j’ai commencé à vous expliquer. C’est Visual Studio qui dans notre dos crée des variables en C# du type des contrôles. En l’occurrence, ici il a créé une variable <code>resultat</code> du type <code>TextBlock</code> et une variable <code>nom</code> du type <code>TextBox</code>. Si vous avez été attentif, le nom de la variable correspond à la valeur de la propriété <code>x:Name</code> des contrôles :</p><pre id="r-305331" data-claire-element-id="305331"><code data-claire-semantic="xml">&lt;TextBox x:Name=&quot;nom&quot;  /&gt;
&lt;TextBlock x:Name=&quot;resultat&quot; Foreground=&quot;Red&quot; /&gt;</code></pre><p id="r-305332" data-claire-element-id="305332">À chaque fois que nous donnerons un nom à un contrôle, Visual Studio va générer une variable portant ce nom. Voilà pourquoi nous avons une variable <code>nom</code> et une variable <code>resultat</code>.</p><div id="r-305334" data-claire-element-id="305334" data-claire-semantic="question"><p id="r-305333" data-claire-element-id="305333">Et pour les contrôles qui n’ont pas de propriété <code>x:Name</code> ?</p></div><p id="r-305335" data-claire-element-id="305335">Il crée quand même les objets correspondant, mais ils n’ont pas de variables associées.</p><p id="r-305336" data-claire-element-id="305336">Vous l’aurez peut-être deviné, mais c’est pareil pour la page. <a href="http://msdn.microsoft.com/fr-fr/library/microsoft.phone.controls.phoneapplicationpage.aspx">La page</a> est aussi un objet du framework .NET. Plus précisément, notre page est une classe générée qui dérive de l’objet <code>PhoneApplicationPage</code>. On peut s’en rendre compte dans le code behind de la page où Visual Studio a généré une classe partielle du même nom que le fichier XAML et qui dérive de <code>PhoneApplicationPage</code> :</p><pre id="r-305337" data-claire-element-id="305337"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage
{
    // Constructeur
    public MainPage()
    {
        InitializeComponent();
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        resultat.Text = &quot;Bonjour &quot; + nom.Text;
    }
}</code></pre><p id="r-305338" data-claire-element-id="305338">Pourquoi partielle ? Parce que la partie concernant l’interface graphique définie dans le XAML sera auto générée à la compilation et fusionnée avec le reste de la classe définie dans le code-behind. Nous avons donc une seule et même classe définie dans deux fichiers différents (le second étant caché de l’utilisateur et se nommant <em>MainPage.xaml.g.i.cs</em>).</p><p id="r-305339" data-claire-element-id="305339">Restons-en là sur ce mécanisme. Ce qu’il est important de retenir c’est qu’un contrôle déclaré en XAML est facilement accessible par une variable dans le code behind. Visual Studio nous masque toute la complexité de création de l’interface.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
<span class="arrow"></span>
<span class="next">Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
<span class="next">Les conteneurs et le placement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesconteneursetleplacement"></a><h2>Les conteneurs et le placement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
<span class="arrow"></span>
<span class="next">Ce qu&#039;il y a dans ce Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
<span class="next">Ajouter d’autres contrôles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-conteneurs-et-le-placement" data-claire-element-id="305429">Les conteneurs et le placement</h4><p id="r-305341" data-claire-element-id="305341">Lorsque nous avons parlé du contrôle <code>TextBlock</code>, nous avons dit qu’il faisait partie du contrôle <code>StackPanel</code> qui lui-même faisait partie du contrôle <code>Grid</code>.<br/> Ces deux contrôles sont en fait des conteneurs dont l’objectif est de regrouper des contrôles de différentes façons. <br/> Le <code>StackPanel</code> par exemple, comme son nom peut le suggérer, permet d’empiler les contrôles les uns à la suite des autres. Dans l’exemple suivant, les contrôles sont ajoutés les uns en-dessous des autres :</p><pre id="r-305342" data-claire-element-id="305342"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;TextBlock Text=&quot;Bonjour à tous&quot; /&gt;
    &lt;Button Content=&quot;Cliquez-moi&quot; /&gt;
    &lt;Image Source=&quot;http://www.siteduzero.com/images/designs/2/logo_sdz_fr.png?normal&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305343" data-claire-element-id="305343">Ce qui donne dans le designer :</p><figure id="r-305345" data-claire-element-id="305346"><img id="r-305344" data-claire-element-id="305344" src="medias/uploads.siteduzero.com_files_367001_368000_367201.png" alt="Image utilisateur"/></figure><p id="r-305347" data-claire-element-id="305347">Où nous affichons un texte, un bouton et une image.</p><p id="r-305348" data-claire-element-id="305348">Notons au passage que Visual Studio et l’émulateur peuvent très facilement récupérer des contenus sur internet, sauf si vous utilisez un proxy.<br/> Le contrôle <code>StackPanel</code> peut aussi empiler les contrôles horizontalement. Pour cela, il suffit de changer la valeur d’une de ses propriétés :</p><pre id="r-305349" data-claire-element-id="305349"><code data-claire-semantic="xml">&lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
    &lt;TextBlock Text=&quot;Bonjour à tous&quot; /&gt;
    &lt;Button Content=&quot;Cliquez-moi&quot; /&gt;
    &lt;Image Source=&quot;http://www.siteduzero.com/images/designs/2/logo_sdz_fr.png?normal&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305350" data-claire-element-id="305350">Ici, nous avons changé l’orientation de l’empilement pour la mettre en horizontal. Ce qui donne :</p><figure id="r-305352" data-claire-element-id="305353"><img id="r-305351" data-claire-element-id="305351" src="medias/uploads.siteduzero.com_files_367001_368000_367202.png" alt="Image utilisateur"/></figure><p id="r-305354" data-claire-element-id="305354">Ce qui ne rend pas très bien ici… :lol: Pour l’améliorer, nous pouvons ajouter d’autres propriétés à nos contrôles, notamment les réduire en hauteur ou en largeur. Par exemple :</p><pre id="r-305355" data-claire-element-id="305355"><code data-claire-semantic="xml">&lt;StackPanel Orientation=&quot;Horizontal&quot; Height=&quot;40&quot;&gt;
    &lt;TextBlock Text=&quot;Bonjour à tous&quot; /&gt;
    &lt;Button Content=&quot;Cliquez-moi&quot; /&gt;
    &lt;Image Source=&quot;http://www.siteduzero.com/images/designs/2/logo_sdz_fr.png?normal&quot;  /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305356" data-claire-element-id="305356">Ici, j’ai rajouté une hauteur pour le contrôle <code>StackPanel</code> ce qui fait que tous les sous-contrôles se sont adaptés à cette hauteur. Nous aurons donc :</p><figure id="r-305358" data-claire-element-id="305359"><img id="r-305357" data-claire-element-id="305357" src="medias/uploads.siteduzero.com_files_367001_368000_367205.png" alt="Image utilisateur"/></figure><p id="r-305360" data-claire-element-id="305360">Par défaut, le contrôle <code>StackPanel</code> essaie d’occuper le maximum de place disponible dans la grille dont il fait partie. Comme nous avons forcé la hauteur, le <code>StackPanel</code> va alors se centrer. Il est possible d’aligner le <code>StackPanel</code> en haut grâce à la propriété <code>VerticalAlignment</code> :</p><pre id="r-305361" data-claire-element-id="305361"><code data-claire-semantic="xml">&lt;StackPanel Orientation=&quot;Horizontal&quot; Height=&quot;40&quot; VerticalAlignment=&quot;Top&quot;&gt;
    &lt;TextBlock Text=&quot;Bonjour à tous&quot; /&gt;
    &lt;Button Content=&quot;Cliquez-moi&quot; /&gt;
    &lt;Image Source=&quot;http://www.siteduzero.com/images/designs/2/logo_sdz_fr.png?normal&quot;  /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305362" data-claire-element-id="305362">Ce qui donne :</p><figure id="r-305364" data-claire-element-id="305365"><img id="r-305363" data-claire-element-id="305363" src="medias/uploads.siteduzero.com_files_367001_368000_367209.png" alt="Image utilisateur"/></figure><p id="r-305366" data-claire-element-id="305366">Voilà pour ce petit tour du <code>StackPanel</code>. Il existe d’autres conteneurs, voyons par exemple le <code>ScrollViewer</code>. <br/> Il nous sert à rendre accessible des contrôles qui pourraient être masqués par un écran trop petit. Prenons par exemple ce code XAML :</p><pre id="r-305367" data-claire-element-id="305367"><code data-claire-semantic="xml">&lt;ScrollViewer&gt;
    &lt;StackPanel&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 1&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 2&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 3&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 4&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 5&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 6&quot; Margin=&quot;40&quot; /&gt;
        &lt;TextBlock Text=&quot;Bonjour à tous 7&quot; Margin=&quot;40&quot; /&gt;
    &lt;/StackPanel&gt;
&lt;/ScrollViewer&gt;</code></pre><p id="r-305368" data-claire-element-id="305368">Nous créons 7 contrôles <code>TextBlock</code>, contenant une petite phrase, qui doivent se mettre les uns en-dessous des autres. Vous aurez deviné que la propriété <code>Margin</code> permet de définir une marge autour du contrôle, j’y reviendrai. <br/> Si nous regardons le designer, nous pouvons constater qu’il nous manque un <code>TextBlock</code> :</p><figure id="r-305370" data-claire-element-id="305371"><img id="r-305369" data-claire-element-id="305369" src="medias/uploads.siteduzero.com_files_367001_368000_367210.png" alt="Image utilisateur"/></figure><p id="r-305372" data-claire-element-id="305372">Vous vous en doutez, il s’affiche trop bas et nous ne pouvons pas le voir sur l’écran car il y a trop de choses.<br/> Le <code>ScrollViewer</code> va nous permettre de résoudre ce problème. Ce contrôle gère une espèce de défilement, comme lorsque nous avons un ascenseur dans nos pages web. Ce qui fait qu’il sera possible de naviguer de haut en bas sur notre émulateur en cliquant sur l’écran et en maintenant le clic tout en bougeant la souris de haut en bas :</p><figure id="r-305374" data-claire-element-id="305375"><img id="r-305373" data-claire-element-id="305373" src="medias/uploads.siteduzero.com_files_367001_368000_367211.png" alt="Image utilisateur"/></figure><p id="r-305376" data-claire-element-id="305376">Vous pouvez également vous amuser à faire défiler le <code>ScrollViewer</code> horizontalement, mais il vous faudra changer une propriété :</p><pre id="r-305377" data-claire-element-id="305377"><code data-claire-semantic="xml">&lt;ScrollViewer HorizontalScrollBarVisibility=&quot;Auto&quot;&gt;
    &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;</code></pre><p id="r-305378" data-claire-element-id="305378">Parlons à présent du contrôle <code>Grid</code>. C’est un contrôle très utilisé qui va permettre de positionner d’autres contrôles dans une grille. Une grille peut être définie par des colonnes et des lignes. Il sera alors possible d’indiquer dans quelle colonne ou à quelle ligne se positionne un contrôle. Par exemple, avec le code suivant :</p><pre id="r-305379" data-claire-element-id="305379"><code data-claire-semantic="xml">&lt;Grid&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;Grid.ColumnDefinitions&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;/Grid.ColumnDefinitions&gt;
    &lt;TextBlock Text=&quot;O&quot; FontSize=&quot;50&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;0&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;O&quot; FontSize=&quot;50&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;O&quot; FontSize=&quot;50&quot; Grid.Row=&quot;0&quot; Grid.Column=&quot;2&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;X&quot; FontSize=&quot;50&quot; Grid.Row=&quot;1&quot; Grid.Column=&quot;0&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;O&quot; FontSize=&quot;50&quot; Grid.Row=&quot;1&quot; Grid.Column=&quot;1&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;X&quot; FontSize=&quot;50&quot; Grid.Row=&quot;1&quot; Grid.Column=&quot;2&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;O&quot; FontSize=&quot;50&quot; Grid.Row=&quot;2&quot; Grid.Column=&quot;0&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;X&quot; FontSize=&quot;50&quot; Grid.Row=&quot;2&quot; Grid.Column=&quot;1&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
    &lt;TextBlock Text=&quot;X&quot; FontSize=&quot;50&quot; Grid.Row=&quot;2&quot; Grid.Column=&quot;2&quot; HorizontalAlignment=&quot;Center&quot; VerticalAlignment=&quot;Center&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305380" data-claire-element-id="305380">Je définis une grille composée de 3 lignes sur 3 colonnes. Dans chaque case je pose un <code>TextBlock</code> avec une valeur qui me simule un jeu de morpion. Ce qu’il est important de remarquer ici c’est que je définis le nombre de colonnes grâce à <code>ColumnDefinition</code> :</p><pre id="r-305381" data-claire-element-id="305381"><code data-claire-semantic="xml">&lt;Grid.ColumnDefinitions&gt;
    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
&lt;/Grid.ColumnDefinitions&gt;</code></pre><p id="r-305382" data-claire-element-id="305382">De la même façon, je définis le nombre de lignes grâce à <code>RowDefinition</code> :</p><pre id="r-305383" data-claire-element-id="305383"><code data-claire-semantic="xml">&lt;Grid.RowDefinitions&gt;
    &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;RowDefinition Height=&quot;*&quot; /&gt;
&lt;/Grid.RowDefinitions&gt;</code></pre><p id="r-305384" data-claire-element-id="305384">Il y a donc 3 colonnes et 3 lignes. Chaque colonne a une largeur d’un tiers de l’écran. Chaque ligne a une hauteur d’un tiers de l’écran. Je vais y revenir juste après.<br/> Pour indiquer qu’un contrôle est à la ligne 1 de la colonne 2, j’utiliserai les propriétés <code>Grid.Row</code> et <code>Grid.Column</code> avec les valeurs 1 et 2 (à noter qu’on commence à numéroter à partir de 0, classiquement).<br/> Ce qui donnera :</p><figure id="r-305386" data-claire-element-id="305387"><img id="r-305385" data-claire-element-id="305385" src="medias/uploads.siteduzero.com_files_367001_368000_367212.png" alt="Image utilisateur"/></figure><p id="r-305388" data-claire-element-id="305388">Pratique non ? ^^ <br/> Nous pouvons voir aussi que dans la définition d’une ligne, nous positionnons la propriété <code>Height</code>. C’est ici que nous indiquerons la hauteur de chaque ligne. C’est la même chose pour la largeur des colonnes, cela se fait avec la propriété <code>Width</code> sur chaque <code>ColomnDefinition</code>.</p><p id="r-305389" data-claire-element-id="305389">Ainsi, en utilisant l’étoile, nous avons dit que nous voulions que le XAML s’occupe de répartir toute la place disponible. Il y a trois étoiles, chaque ligne et colonne a donc un tiers de la place pour s’afficher.<br/> D’autres valeurs sont possibles. Il est par exemple possible de forcer la taille à une valeur précise. Par exemple, si je modifie l’exemple précédent pour avoir :</p><pre id="r-305390" data-claire-element-id="305390"><code data-claire-semantic="xml">&lt;Grid.RowDefinitions&gt;
    &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;RowDefinition Height=&quot;200&quot; /&gt;
    &lt;RowDefinition Height=&quot;*&quot; /&gt;
&lt;/Grid.RowDefinitions&gt;
&lt;Grid.ColumnDefinitions&gt;
    &lt;ColumnDefinition Width=&quot;100&quot; /&gt;
    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;ColumnDefinition Width=&quot;50&quot; /&gt;
&lt;/Grid.ColumnDefinitions&gt;</code></pre><p id="r-305391" data-claire-element-id="305391">J’indiquerai ici que la première colonne aura une taille fixe de 100, la troisième une taille fixe de 50 et la deuxième prendra la taille restante.<br/> De la même façon, pour les lignes, la deuxième est forcée à 200 et les deux autres se répartiront la taille restante, à savoir la moitié chacune.</p><p id="r-305392" data-claire-element-id="305392">J’en profite pour vous rappeler qu’un téléphone a une résolution de 480 en largeur et de 800 en hauteur. Ainsi, la deuxième colonne aura une taille de 480 – 100 – 50 = 330. Ce qui donne une grille plutôt disgracieuse, mais étant donné que chaque contrôle est aligné au centre, cela ne se verra pas trop. Pour bien le mettre en valeur, il est possible de rajouter une propriété à la grille lui indiquant que nous souhaitons voir les lignes. Bien souvent, cette propriété ne servira qu’à des fins de débogages. Il suffit d’indiquer :</p><pre id="r-305393" data-claire-element-id="305393"><code data-claire-semantic="xml">&lt;Grid ShowGridLines=&quot;True&quot;&gt;</code></pre><p id="r-305394" data-claire-element-id="305394">Par contre, les lignes s’affichent uniquement dans l’émulateur car le designer montre déjà ce que ça donne. Nous aurons :</p><figure id="r-305396" data-claire-element-id="305397"><img id="r-305395" data-claire-element-id="305395" src="medias/uploads.siteduzero.com_files_367001_368000_367215.png" alt="Image utilisateur"/></figure><p id="r-305398" data-claire-element-id="305398">Il est bien sûr possible de faire en sorte qu’un contrôle s’étende sur plusieurs colonnes ou sur plusieurs lignes, à ce moment-là, on utilisera la propriété <code>Grid.ColumnSpan</code> ou <code>Grid.RowSpan</code> pour indiquer le nombre de colonnes ou lignes que l’on doit fusionner. Par exemple :</p><pre id="r-305399" data-claire-element-id="305399"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;X&quot; FontSize=&quot;50&quot; Grid.RowSpan=&quot;2&quot; /&gt;</code></pre><p id="r-305400" data-claire-element-id="305400">Avant de terminer sur les lignes et les colonnes, il est important de savoir qu’il existe une autre valeur pour définir la largeur ou la hauteur, à savoir la valeur <code>Auto</code>. Elle permet de dire que c’est la largeur ou la hauteur des contrôles qui vont définir la hauteur d’une ligne ou d’une colonne.<br/> Voilà pour ce petit tour de ce contrôle si pratique qu’est la grille.</p><p id="r-305401" data-claire-element-id="305401">Nous finirons notre aperçu des conteneurs avec le <code>Canvas</code>. Au contraire des autres conteneurs qui calculent eux même la position des contrôles, ici c’est le développeur qui indique l’emplacement d’un contrôle, de manière relative à la position du <code>Canvas</code>. De plus le <code>Canvas</code> ne calculera pas automatiquement sa hauteur et sa largeur en analysant ses enfants, contrairement aux autres conteneurs. Ainsi si on met dans un <code>StackPanel</code> un <code>Canvas</code> suivi d’un bouton, le bouton sera affiché par-dessus le <code>Canvas</code>, car ce dernier aura une hauteur de 0 bien qu’il possède des enfants.<br/> Ainsi, l’exemple suivant :</p><pre id="r-305402" data-claire-element-id="305402"><code data-claire-semantic="xml">&lt;Canvas&gt;
    &lt;TextBlock Text=&quot;Je suis en bas à gauche&quot; Canvas.Top=&quot;500&quot; /&gt;
    &lt;TextBlock Text=&quot;Je suis en haut à droite&quot; Canvas.Left=&quot;250&quot; Canvas.Top=&quot;10&quot;/&gt;
&lt;/Canvas&gt;</code></pre><p id="r-305403" data-claire-element-id="305403">affichera :</p><figure id="r-305405" data-claire-element-id="305406"><img id="r-305404" data-claire-element-id="305404" src="medias/uploads.siteduzero.com_files_367001_368000_367216.png" alt="Image utilisateur"/></figure><p id="r-305407" data-claire-element-id="305407">Nous nous servons des propriétés Canvas.Top et Canvas.Left pour indiquer la position du contrôle relativement au Canvas.</p><p id="r-305408" data-claire-element-id="305408">C’est sans doute le conteneur qui permet le placement le plus simple à comprendre, par contre ce n’est pas forcément le plus efficace, surtout lorsque nous retournerons l’écran. J’en parlerai un peu plus loin.<br/> Remarquons qu’une page doit absolument commencer par avoir un conteneur comme contrôle racine de tous les autres contrôles. C’est ce que génère par défaut Visual Studio lorsqu’on crée une nouvelle page. Il y met en l’occurrence un contrôle <code>Grid</code>.<br/> Avant de terminer, je vais revenir rapidement sur les marges. Je les ai rapidement évoquées tout à l’heure. Pour mieux les comprendre, regardons cet exemple :</p><pre id="r-305409" data-claire-element-id="305409"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;Rectangle Height=&quot;40&quot; Fill=&quot;Yellow&quot; /&gt;
    &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
        &lt;TextBlock Text=&quot;Mon texte&quot; /&gt;
        &lt;Rectangle Width=&quot;100&quot; Fill=&quot;Yellow&quot; /&gt;
    &lt;/StackPanel&gt;
    &lt;Rectangle Height=&quot;40&quot; Fill=&quot;Yellow&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305410" data-claire-element-id="305410">Il donne :</p><figure id="r-305412" data-claire-element-id="305413"><img id="r-305411" data-claire-element-id="305411" src="medias/uploads.siteduzero.com_files_367001_368000_367217.png" alt="Image utilisateur"/></figure><p id="r-305414" data-claire-element-id="305414">En rajoutant une marge, nous pouvons voir concrètement se décaler le texte :</p><pre id="r-305415" data-claire-element-id="305415"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Mon texte&quot; Margin=&quot;50&quot;/&gt;</code></pre><p id="r-305416" data-claire-element-id="305416">Qui donne :</p><figure id="r-305418" data-claire-element-id="305419"><img id="r-305417" data-claire-element-id="305417" src="medias/uploads.siteduzero.com_files_367001_368000_367218.png" alt="Image utilisateur"/></figure><p id="r-305420" data-claire-element-id="305420">En fait, la marge précédente rajoute une marge de 50 à gauche, en haut, à droite et en bas. Ce qui est l’équivalent de :</p><pre id="r-305421" data-claire-element-id="305421"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Mon texte&quot; Margin=&quot;50 50 50 50&quot;/&gt;</code></pre><p id="r-305422" data-claire-element-id="305422">Il est tout à fait possible de choisir de mettre des marges différentes pour, respectivement, la marge à gauche, en haut, à droite et en bas :</p><pre id="r-305423" data-claire-element-id="305423"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Mon texte&quot; Margin=&quot;0 10 270 100&quot;/&gt;</code></pre><p id="r-305424" data-claire-element-id="305424">Qui donne :</p><figure id="r-305426" data-claire-element-id="305427"><img id="r-305425" data-claire-element-id="305425" src="medias/uploads.siteduzero.com_files_367001_368000_367219.png" alt="Image utilisateur"/></figure><p id="r-305428" data-claire-element-id="305428">Bref, les marges aident à positionner le contrôle à l’emplacement voulu, très utile pour avoir un peu d’espace dans un <code>StackPanel</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
<span class="arrow"></span>
<span class="next">Ce qu&#039;il y a dans ce Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
<span class="next">Ajouter d’autres contrôles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajouterdautrescontrles"></a><h2>Ajouter d’autres contrôles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
<span class="arrow"></span>
<span class="next">Les conteneurs et le placement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
<span class="next">Ajouter du style</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajouter-d-autres-controles" data-claire-element-id="305473">Ajouter d’autres contrôles</h4><p id="r-305430" data-claire-element-id="305430">Jusqu’à présent nous avons vu peu de contrôles, la zone de texte non modifiable, la zone de saisie modifiable, le bouton… Il existe beaucoup de contrôles disponibles dans les bibliothèques de contrôles Silverlight pour Windows Phone. Ceux-ci sont facilement visibles grâce à la boite à outils que l’on retrouve à gauche de l’écran :</p><figure id="r-305432" data-claire-element-id="305433"><img id="r-305431" data-claire-element-id="305431" src="medias/uploads.siteduzero.com_files_367001_368000_367221.png" alt="Image utilisateur"/></figure><p id="r-305434" data-claire-element-id="305434">Grâce au designer, vous pouvez faire glisser un contrôle de la boîte à outils dans le rendu de la page. Celui-ci se positionnera automatiquement. Prenons par exemple le contrôle de case à cocher, <code>CheckBox</code>. Sélectionnez-le et faites le glisser sur le rendu de la page :</p><figure id="r-305436" data-claire-element-id="305437"><img id="r-305435" data-claire-element-id="305435" src="medias/uploads.siteduzero.com_files_367001_368000_367222.png" alt="Image utilisateur"/></figure><p id="r-305438" data-claire-element-id="305438">Le designer m’a automatiquement généré le code XAML correspondant :</p><pre id="r-305439" data-claire-element-id="305439"><code data-claire-semantic="xml">&lt;CheckBox Content=&quot;CheckBox&quot; Height=&quot;72&quot; HorizontalAlignment=&quot;Left&quot; Margin=&quot;114,153,0,0&quot; Name=&quot;checkBox1&quot; VerticalAlignment=&quot;Top&quot; /&gt;</code></pre><p id="r-305440" data-claire-element-id="305440">Vous aurez sûrement des valeurs légèrement différentes, notamment au niveau de la propriété <code>Margin</code>. C’est d’ailleurs en utilisant ces valeurs que le designer a pu me positionner le contrôle dans la grille.<br/> Remarquons que si j’avais fait glisser un <code>Canvas</code> et ensuite la case à cocher dans ce <code>Canvas</code>, j’aurais plutôt eu du code comme le suivant :</p><pre id="r-305441" data-claire-element-id="305441"><code data-claire-semantic="xml">&lt;Canvas Height=&quot;282&quot; HorizontalAlignment=&quot;Left&quot; Margin=&quot;81,112,0,0&quot; Name=&quot;canvas1&quot; VerticalAlignment=&quot;Top&quot; Width=&quot;308&quot;&gt;
    &lt;CheckBox Canvas.Left=&quot;118&quot; Canvas.Top=&quot;125&quot; Content=&quot;CheckBox&quot; Height=&quot;72&quot; Name=&quot;checkBox1&quot; /&gt;
&lt;/Canvas&gt;</code></pre><p id="r-305442" data-claire-element-id="305442">Ici, il a utilisé la propriété <code>Canvas.Top</code> et <code>Canvas.Left</code> pour positionner la case à cocher.</p><p id="r-305443" data-claire-element-id="305443">Il est possible de modifier les propriétés de la case à cocher, par exemple son contenu, en allant dans la fenêtre de propriétés :</p><figure id="r-305445" data-claire-element-id="305446"><img id="r-305444" data-claire-element-id="305444" src="medias/uploads.siteduzero.com_files_367001_368000_367225.png" alt="Image utilisateur"/></figure><p id="r-305447" data-claire-element-id="305447">Ici, je change la valeur de la propriété <code>Content</code>. Je peux observer les modifications dans sur le rendu et dans le XAML.<br/> Remarquons que le designer est un outil utile pour créer son rendu, par contre il ne remplace pas une bonne connaissance du XAML afin de gérer correctement le positionnement.<br/> J’aurais aussi pu faire la même chose dans Expression Blend qui est l’outil de design professionnel. J’ai également accès à la boîte à outils :</p><figure id="r-305449" data-claire-element-id="305450"><img id="r-305448" data-claire-element-id="305448" src="medias/uploads.siteduzero.com_files_367001_368000_367226.png" alt="Image utilisateur"/></figure><p id="r-305451" data-claire-element-id="305451">Et de la même façon, je peux faire glisser un contrôle, disons le <code>Slider</code>, sur ma page. J’ai également accès à ses propriétés afin de les modifier. Ici, par exemple, je modifie la couleur du <code>Slider</code> :</p><figure id="r-305453" data-claire-element-id="305454"><img id="r-305452" data-claire-element-id="305452" src="medias/uploads.siteduzero.com_files_367001_368000_367227.png" alt="Image utilisateur"/></figure><p id="r-305455" data-claire-element-id="305455">Nous reviendrons sur Blend un peu plus tard.</p><p id="r-305456" data-claire-element-id="305456">Avant de terminer, nous allons reparler du contrôle <code>Image</code>. Nous l’avons rapidement utilisé en montrant qu’il était très simple d’afficher une image présente sur internet simplement en indiquant l’url de celle-ci. <br/> Il est également très facile d’afficher des images à nous, embarquées dans l’application. Pour cela, j’utilise une petite image toute bête, représentant un cercle rouge :</p><figure id="r-305458" data-claire-element-id="305459"><img id="r-305457" data-claire-element-id="305457" src="medias/uploads.siteduzero.com_files_367001_368000_367228.png" alt="Image utilisateur"/></figure><p id="r-305460" data-claire-element-id="305460">Ajoutons donc cette image à la solution. Pour cela, je vais commencer par créer un nouveau répertoire <code>Images</code>, puis ajouter un élément existant en faisant un clic droit sur le projet. Je sélectionne l’image qui s’ajoute automatiquement à la solution.<br/> Ici, il faut faire attention à ce que dans les propriétés de l’image, l’action de génération soit à <code>Contenu</code>, et non pas à <code>Ressource</code>, qui est le paramètre par défaut :</p><figure id="r-305462" data-claire-element-id="305463"><img id="r-305461" data-claire-element-id="305461" src="medias/uploads.siteduzero.com_files_367001_368000_367229.png" alt="Image utilisateur"/></figure><p id="r-305464" data-claire-element-id="305464">Nous pourrons alors très simplement afficher l’image en se basant sur l’url relative de l’image dans la solution :</p><pre id="r-305465" data-claire-element-id="305465"><code data-claire-semantic="xml">&lt;Image x:Name=&quot;monImage&quot; Source=&quot;/Images/rond.png&quot; Width=&quot;60&quot; Height=&quot;60&quot; /&gt;</code></pre><p id="r-305466" data-claire-element-id="305466">À noter que cela peut aussi se faire grâce au code behind. Pour cela, supprimons la propriété <code>Source</code> du XAML :</p><pre id="r-305467" data-claire-element-id="305467"><code data-claire-semantic="xml">&lt;Image x:Name=&quot;monImage&quot; Width=&quot;60&quot; Height=&quot;60&quot; /&gt;</code></pre><p id="r-305468" data-claire-element-id="305468">Et chargeons l’image dans le code de cette façon :</p><pre id="r-305469" data-claire-element-id="305469"><code data-claire-semantic="csharp">monImage.Source = new BitmapImage(new Uri(&quot;/Images/rond.png&quot;, UriKind.Relative));</code></pre><p id="r-305470" data-claire-element-id="305470">Cela semble moins pratique, mais je vous l’ai présenté car nous utiliserons cette méthode un petit peu plus loin.<br/> D’une manière générale, il sera toujours plus pertinent de passer par le XAML que par le code !</p><aside id="r-305472" data-claire-element-id="305472" data-claire-semantic="warning"><p id="r-305471" data-claire-element-id="305471">Il n'est pas possible d'afficher des images GIF dans ce contrôle, seuls les formats JPG et PNG sont supportés.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
<span class="arrow"></span>
<span class="next">Les conteneurs et le placement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
<span class="next">Ajouter du style</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajouterdustyle"></a><h2>Ajouter du style</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
<span class="arrow"></span>
<span class="next">Ajouter d’autres contrôles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
<span class="next">La ListBox et les modèles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajouter-du-style" data-claire-element-id="305511">Ajouter du style</h4><p id="r-305474" data-claire-element-id="305474">Nous avons vu qu’on pouvait modifier les couleurs, la taille de l’écriture… grâce à la fenêtre des propriétés d’un contrôle. Cela modifie les propriétés des contrôles et affecte leur rendu. C’est très bien. Mais imaginons que nous voulions changer les couleurs et l'écriture de plusieurs contrôles, il va falloir reproduire ceci sur tous les contrôles, ce qui d’un coup est plutôt moins bien ! :( <br/> C’est là qu’intervient <strong>le style</strong>. Il correspond à l’identification de plusieurs propriétés par un nom, que l’on peut appliquer facilement à plusieurs contrôles.</p><p id="r-305475" data-claire-element-id="305475">Prenons par exemple le code XAML suivant :</p><pre id="r-305476" data-claire-element-id="305476"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
    &lt;Grid.ColumnDefinitions&gt;
        &lt;ColumnDefinition Width=&quot;*&quot;/&gt;
        &lt;ColumnDefinition Width=&quot;*&quot;/&gt;
    &lt;/Grid.ColumnDefinitions&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;auto&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;TextBlock Text=&quot;Nom&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;0&quot; /&gt;
    &lt;TextBlock Grid.Row=&quot;0&quot; Grid.Column=&quot;1&quot; /&gt;
    &lt;TextBlock Text=&quot;Prénom&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;1&quot; /&gt;
    &lt;TextBlock Grid.Row=&quot;1&quot; Grid.Column=&quot;1&quot; /&gt;
    &lt;TextBlock Text=&quot;Age&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;2&quot; /&gt;
    &lt;TextBlock Grid.Row=&quot;2&quot; Grid.Column=&quot;1&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305477" data-claire-element-id="305477">Qui donne :</p><figure id="r-305479" data-claire-element-id="305480"><img id="r-305478" data-claire-element-id="305478" src="medias/uploads.siteduzero.com_files_367001_368000_367231.png" alt="Image utilisateur"/></figure><p id="r-305481" data-claire-element-id="305481">Si nous passons dans Blend, nous pouvons facilement créer un style en faisant un clic droit sur un <code>TextBlock</code> et en choisissant de modifier le style, puis de créer un nouveau style en choisissant de créer un élément vide :</p><figure id="r-305483" data-claire-element-id="305484"><img id="r-305482" data-claire-element-id="305482" src="medias/uploads.siteduzero.com_files_367001_368000_367233.png" alt="Image utilisateur"/></figure><p id="r-305485" data-claire-element-id="305485">Blend nous ouvre une nouvelle fenêtre où nous pouvons créer un nouveau style :</p><figure id="r-305487" data-claire-element-id="305488"><img id="r-305486" data-claire-element-id="305486" src="medias/uploads.siteduzero.com_files_367001_368000_367234.png" alt="Image utilisateur"/></figure><p id="r-305489" data-claire-element-id="305489">Nous devons fournir un nom au style puis nous pouvons indiquer quelle est la portée du style, soit toute l’application (ce que j’ai choisi), soit la page courante, soit un dictionnaire de ressources.</p><p id="r-305490" data-claire-element-id="305490">Le style est créé dans le fichier <code>App.xaml</code> qui est le fichier de lancement de l’application. Je peux aller modifier les propriétés du style :</p><figure id="r-305492" data-claire-element-id="305493"><img id="r-305491" data-claire-element-id="305491" src="medias/uploads.siteduzero.com_files_367001_368000_367235.png" alt="Image utilisateur"/></figure><p id="r-305494" data-claire-element-id="305494">Une fois le style terminé, je peux retourner dans ma page pour appliquer ce style aux autres contrôles. Pour cela, j’utilise le bouton droit sur le contrôle, <code>Modifier le style</code> &gt; <code>Appliquer la ressource</code>, et je peux retrouver mon style tout en haut :</p><figure id="r-305496" data-claire-element-id="305497"><img id="r-305495" data-claire-element-id="305495" src="medias/uploads.siteduzero.com_files_367001_368000_367237.png" alt="Image utilisateur"/></figure><p id="r-305498" data-claire-element-id="305498">On remarque au passage qu’il existe plein de styles déjà tout prêts dont nous pouvons allégrement nous servir ! :D</p><p id="r-305499" data-claire-element-id="305499">De retour dans le XAML, je peux constater qu’une propriété a été rajoutée à mes <code>TextBlock</code> :</p><pre id="r-305500" data-claire-element-id="305500"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Nom&quot; Grid.Column=&quot;0&quot; Grid.Row=&quot;0&quot; Style=&quot;{StaticResource TexteStyle}&quot; /&gt;</code></pre><p id="r-305501" data-claire-element-id="305501">C’est la propriété <code>Style</code> qui va permettre d’indiquer que l’on applique le style <code>TexteStyle</code>. Celui-ci est défini dans le XAML du fichier <code>App.xaml</code> :</p><pre id="r-305502" data-claire-element-id="305502"><code data-claire-semantic="xml">&lt;Style x:Key=&quot;TexteStyle&quot; TargetType=&quot;TextBlock&quot;&gt;
    &lt;Setter Property=&quot;FontSize&quot; Value=&quot;29.333&quot;/&gt;
    &lt;Setter Property=&quot;Foreground&quot; Value=&quot;#FF1F43D2&quot;/&gt;
    &lt;Setter Property=&quot;FontFamily&quot; Value=&quot;Comic Sans MS&quot;/&gt;
&lt;/Style&gt;</code></pre><p id="r-305503" data-claire-element-id="305503">Ce qui correspond aux valeurs que j’ai modifiées. Et voilà, plutôt simple non ?</p><p id="r-305504" data-claire-element-id="305504">Alors, qu’y-a-t ’il derrière ces styles ?<br/> La première chose que l’on peut voir c’est la syntaxe particulière à l’intérieur de la propriété <code>Style</code> :</p><pre id="r-305505" data-claire-element-id="305505"><code data-claire-semantic="csharp">Style=&quot;{StaticResource TexteStyle}&quot;</code></pre><p id="r-305506" data-claire-element-id="305506">Des accolades avec le mot-clé <code>StaticResource</code>… Cela signifie qu’à l’exécution de l’application, le moteur va aller chercher le style associé au nom <code>TexteStyle</code>. Il commence par le chercher dans les ressources de la page, comme il n’en trouve pas ici vu que nous avons mis les ressources au niveau de l’application, il va aller les chercher dans le dictionnaire de ressources de l’application.</p><p id="r-305507" data-claire-element-id="305507">En fait, le dictionnaire de ressources, c’est simplement une collection d’objets associés à un nom, utilisables partout dans l’application.</p><aside id="r-305509" data-claire-element-id="305509" data-claire-semantic="information"><p id="r-305508" data-claire-element-id="305508">On appelle la syntaxe entre accolades une « extension de balisage XAML », en anglais : <em>extension markup</em>.</p></aside><p id="r-305510" data-claire-element-id="305510">On voit également que le style est défini pour s’appliquer au <code>TextBlock</code>, grâce à la propriété <code>TargetType=&quot;TextBlock&quot;</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
<span class="arrow"></span>
<span class="next">Ajouter d’autres contrôles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
<span class="next">La ListBox et les modèles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LaListBoxetlesmodles"></a><h2>La ListBox et les modèles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
<span class="arrow"></span>
<span class="next">Ajouter du style</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">
<span class="next">Une application à plusieurs pages, la navigation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-listbox-et-les-modeles" data-claire-element-id="305571">La ListBox et les modèles</h4><p id="r-305512" data-claire-element-id="305512">La <code>ListBox</code> est un élément incontournable dans la création d’applications pour Windows Phone. Elle permet un puissant affichage d’une liste d’élément. Voyons tout de suite de quoi il s’agit.</p><p id="r-305513" data-claire-element-id="305513">Utilisons notre designer préféré pour rajouter une <code>ListBox</code> dans notre page et nommons-là <code>listeDesTaches</code>, ce qui donne le XAML suivant :</p><pre id="r-305514" data-claire-element-id="305514"><code data-claire-semantic="xml">&lt;ListBox x:Name=&quot;listeDesTaches&quot;&gt;
&lt;/ListBox&gt;</code></pre><p id="r-305515" data-claire-element-id="305515">Pour affecter une liste d’éléments à une <code>ListBox</code>, on peut passer par le code behind. Il suffit d’alimenter la propriété <code>ItemSource</code> avec un objet implémentant <code>IEnumerable</code>, par exemple une liste :</p><pre id="r-305516" data-claire-element-id="305516"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();

    List&lt;string&gt; chosesAFaire = new List&lt;string&gt;
    {
        &quot;Arroser les plantes&quot;,
        &quot;Tondre le gazon&quot;,
        &quot;Planter les tomates&quot;
    };
    listeDesTaches.ItemsSource = chosesAFaire;
}</code></pre><p id="r-305517" data-claire-element-id="305517">Il ne reste plus qu’à démarrer l’application. Nous pouvons voir que la <code>ListBox</code> s’est automatiquement remplie avec nos valeurs :</p><figure id="r-305519" data-claire-element-id="305520"><img id="r-305518" data-claire-element-id="305518" src="medias/uploads.siteduzero.com_files_367001_368000_367239.png" alt="Image utilisateur"/></figure><p id="r-305521" data-claire-element-id="305521">Et ceci sans rien faire de plus. Ce qu’il est important de remarquer, c’est que si nous ajoutons beaucoup d’éléments à notre liste, alors celle-ci gère automatiquement un ascenseur pour pouvoir faire défiler la liste. La <code>ListBox</code> est donc une espèce de <code>ScrollViewer</code> qui contient une liste d’éléments dans un <code>StackPanel</code>. Tout ceci est géré nativement par la <code>ListBox</code>. Elle gère également un autre point intéressant, à savoir la sélection d’un élément, grâce à un événement. Modifions le XAML pour avoir :</p><pre id="r-305522" data-claire-element-id="305522"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;RowDefinition Height=&quot;100&quot; /&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;ListBox x:Name=&quot;listeDesTaches&quot; SelectionChanged=&quot;listeDesTaches_SelectionChanged&quot;&gt;
    &lt;/ListBox&gt;
    &lt;TextBlock x:Name=&quot;selection&quot; Grid.Row=&quot;1&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305523" data-claire-element-id="305523">Remarquons au passage que si l’emplacement dans la grille n’est pas précisé, alors il prend la valeur 0, c’est pour cela que j’ai précisé que le <code data-claire-semantic="xml">Grid.Row=&quot;1&quot;</code> sur la ligne pour le <code>TextBlock</code>.<br/> Notre grille a donc deux lignes, la première contenant la <code>ListBox</code> et la seconde un <code>TextBlock</code>. Remarquons l’événement <code>SelectionChanged</code> qui est associé à la méthode <code>listeDesTaches_SelectionChanged</code>. Dans le code behind, nous aurons :</p><pre id="r-305524" data-claire-element-id="305524"><code data-claire-semantic="csharp">private void listeDesTaches_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    if (e.AddedItems.Count &gt; 0)
        selection.Text = e.AddedItems[0].ToString();
}</code></pre><p id="r-305525" data-claire-element-id="305525">Ce qui va nous permettre d’afficher dans le <code>TextBlock</code> la valeur de ce que nous avons choisi :</p><figure id="r-305527" data-claire-element-id="305528"><img id="r-305526" data-claire-element-id="305526" src="medias/uploads.siteduzero.com_files_367001_368000_367240.png" alt="Image utilisateur"/></figure><p id="r-305529" data-claire-element-id="305529">Nous voyons au passage que la sélection est mise en valeur automatiquement dans la <code>ListBox</code>.<br/> Très bien tout ça. :) <br/> Nous avons quand même rencontré un petit problème. Dans le XAML, nous avons mis la <code>ListBox</code>, mais la liste est vide, rien ne s’affiche dans le designer. Ce qui n’est pas très pratique pour créer notre page. C’est logique car l’alimentation de la <code>ListBox</code> est faite dans le constructeur, c’est-à-dire lorsque nous démarrons notre application. Nous verrons plus loin comment y remédier.<br/> L’autre souci, c’est que si vous essayez de mettre des choses un peu plus complexes qu’une chaine de caractère dans la <code>ListBox</code>, par exemple un objet :</p><pre id="r-305530" data-claire-element-id="305530"><code data-claire-semantic="csharp">public class ElementAFaire
{
    public int Priorite { get; set; }
    public string Description { get; set; }
}

[…]

public MainPage()
{
    InitializeComponent();

    List&lt;ElementAFaire&gt; chosesAFaire = new List&lt;ElementAFaire&gt;
    {
        new ElementAFaire { Priorite = 1, Description = &quot;Arroser les plantes&quot;},
        new ElementAFaire { Priorite = 2, Description = &quot;Tondre le gazon&quot;},
        new ElementAFaire { Priorite = 1, Description = &quot;Planter les tomates&quot;},
        new ElementAFaire { Priorite = 3, Description = &quot;Laver la voiture&quot;},
    };
    listeDesTaches.ItemsSource = chosesAFaire.OrderBy(e =&gt; e.Priorite);
}</code></pre><p id="r-305531" data-claire-element-id="305531">vous aurez l’affichage suivant :</p><figure id="r-305533" data-claire-element-id="305534"><img id="r-305532" data-claire-element-id="305532" src="medias/uploads.siteduzero.com_files_367001_368000_367241.png" alt="Image utilisateur"/></figure><p id="r-305535" data-claire-element-id="305535">La <code>ListBox</code> affiche la représentation de l’objet, c’est-à-dire le résultat de sa méthode <code>ToString()</code>. Vous me direz, il suffit de surcharger la méthode <code>ToString()</code> avec quelque chose comme ça :</p><pre id="r-305536" data-claire-element-id="305536"><code data-claire-semantic="csharp">public class ElementAFaire
{
    public int Priorite { get; set; }
    public string Description { get; set; }

    public override string ToString()
    {
        return Priorite + &quot; - &quot; + Description;
    }
}</code></pre><p id="r-305537" data-claire-element-id="305537">Et l’affaire est réglée ! Et je vous répondrai oui, parfait. Sauf que cela ne fonctionne que parce que nous affichons du texte ! Et si nous devions afficher du texte et une image ? Ou du texte et un bouton ?<br/> C’est là qu’interviennent les modèles, plus couramment appelés en anglais : <em>template</em>. <br/> Ils permettent de personnaliser le rendu de son contrôle. Le contrôle garde toute sa logique mais peut nous confier le soin de gérer l’affichage, si nous le souhaitons. C’est justement ce que nous voulons faire. Nous allons donc redéfinir l’affichage de chaque élément de la liste. Pour cela, plutôt que d’afficher un simple texte, nous allons en profiter pour afficher une image pour la priorité et le texte de la description. Si la priorité est égale à 1, alors nous afficherons un rond rouge, sinon un rond vert :</p><figure id="r-305539" data-claire-element-id="305540"><img id="r-305538" data-claire-element-id="305538" src="medias/uploads.siteduzero.com_files_367001_368000_367242.png" alt="Image utilisateur"/></figure><figure id="r-305542" data-claire-element-id="305543"><img id="r-305541" data-claire-element-id="305541" src="medias/uploads.siteduzero.com_files_367001_368000_367243.png" alt="Image utilisateur"/></figure><p id="r-305544" data-claire-element-id="305544">La première chose à faire est de définir le modèle des éléments de la <code>ListBox</code>. Cela se fait avec le code suivant :</p><pre id="r-305545" data-claire-element-id="305545"><code data-claire-semantic="xml">&lt;ListBox x:Name=&quot;listeDesTaches&quot;&gt;
    &lt;ListBox.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
                &lt;Image Source=&quot;{Binding Image}&quot; Width=&quot;30&quot; Height=&quot;30&quot; /&gt;
                &lt;TextBlock Text=&quot;{Binding Description}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
            &lt;/StackPanel&gt;
        &lt;/DataTemplate&gt;
    &lt;/ListBox.ItemTemplate&gt;
&lt;/ListBox&gt;</code></pre><p id="r-305546" data-claire-element-id="305546">On redéfinit la propriété <code>ItemTemplate</code>, c’est-à-dire le modèle d’un élément de la liste. Puis à l’intérieur de la balise <code>DataTemplate</code>, on peut rajouter nos propres contrôles. Ici, il y a un conteneur, le <code>StackPanel</code>, qui contient une image et une zone de texte en lecture seule. Le <code>DataTemplate</code> doit toujours contenir un seul contrôle.<br/> Vu que vous avez l’œil, vous avez remarqué des extensions de balisage XAML à l’intérieur du contrôle <code>Image</code> et du contrôle <code>TextBlock</code>. Je vais y revenir.</p><p id="r-305547" data-claire-element-id="305547">En attendant, nous allons modifier légèrement le code behind de cette façon :</p><pre id="r-305548" data-claire-element-id="305548"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();

    List&lt;ElementAFaire&gt; chosesAFaire = new List&lt;ElementAFaire&gt;
    {
        new ElementAFaire { Priorite = 1, Description = &quot;Arroser les plantes&quot;},
        new ElementAFaire { Priorite = 2, Description = &quot;Tondre le gazon&quot;},
        new ElementAFaire { Priorite = 1, Description = &quot;Planter les tomates&quot;},
        new ElementAFaire { Priorite = 3, Description = &quot;Laver la voiture&quot;},
    };

    listeDesTaches.ItemsSource = chosesAFaire.OrderBy(e =&gt; e.Priorite).Select(e =&gt; new ElementAFaireBinding { Description = e.Description, Image = ObtientImage(e.Priorite) });
}

private BitmapImage ObtientImage(int priorite)
{
    if (priorite &lt;= 1)
        return new BitmapImage(new Uri(&quot;/Images/vert.png&quot;, UriKind.Relative));
    return new BitmapImage(new Uri(&quot;/Images/rouge.png&quot;, UriKind.Relative));
}</code></pre><p id="r-305549" data-claire-element-id="305549">Nous aurons besoin de la nouvelle classe suivante :</p><pre id="r-305550" data-claire-element-id="305550"><code data-claire-semantic="csharp">public class ElementAFaireBinding
{
    public BitmapImage Image { get; set; }
    public string Description { get; set; }
}</code></pre><p id="r-305551" data-claire-element-id="305551">Le principe est de construire des éléments énumérables à partir de notre liste. Il s’agit d’y mettre un nouvel objet qui possède une propriété <code>Description</code> et une propriété <code>Image</code> qui contient un objet <code>BitmapImage</code> construit à partir de la valeur de la priorité de la tâche.<br/> Il est important de constater que la classe contient des propriétés qui ont les mêmes noms que ce qu'on a écrit dans l’extension de balisage vue plus haut.</p><pre id="r-305552" data-claire-element-id="305552"><code data-claire-semantic="xml">&lt;Image Source=&quot;{Binding Image}&quot; Width=&quot;30&quot; Height=&quot;30&quot; /&gt;
&lt;TextBlock Text=&quot;{Binding Description}&quot; Margin=&quot;20 0 0 0&quot; /&gt;</code></pre><p id="r-305553" data-claire-element-id="305553">J’y reviendrai plus tard, mais nous avons ici fait ce qu’on appelle un <em>binding</em>, que l’on peut traduire par une liaison de données. Nous indiquons que nous souhaitons mettre la valeur de la propriété <code>Image</code> de l’élément courant dans la propriété <code>Source</code> de l’image et la valeur de la propriété <code>Description</code> de l’élément courant dans la propriété <code>Text</code> du <code>TextBlock</code>. Rappelez-vous, l’élément courant est justement un objet spécial qui contient ces propriétés.</p><p id="r-305554" data-claire-element-id="305554">Si nous exécutons le code, nous obtenons :</p><figure id="r-305556" data-claire-element-id="305557"><img id="r-305555" data-claire-element-id="305555" src="medias/uploads.siteduzero.com_files_367001_368000_367244.png" alt="Image utilisateur"/></figure><p id="r-305558" data-claire-element-id="305558">Magique. :) Le seul défaut viendrait de mes images qui ne sont pas transparentes…<br/> Remarquons qu’il est obligatoire de créer une nouvelle classe contenant les propriétés <code>Description</code> et <code>Image</code>. Il n’aurait pas été possible d’utiliser un type anonyme car le type anonyme n’est pas <code data-claire-semantic="csharp">public</code> mais <code data-claire-semantic="csharp">internal</code>. Dans ce cas, il aurait fallu rajouter une instruction particulière permettant de dire que les classes qui font la liaison de données ont le droit de voir les classes internes. Ce qui est beaucoup plus compliqué que ce que nous avons fait ! :p</p><p id="r-305559" data-claire-element-id="305559">Voilà pour ce petit tour rapide de la <code>ListBox</code>. Sachez qu’il existe beaucoup de contrôles qui utilisent ce même modèle, nous aurons l’occasion d’en voir d’autres. C’est une fonctionnalité très puissante qui nous laisse beaucoup de contrôle sur le rendu de nos données.</p><p id="r-305560" data-claire-element-id="305560">C’est terminé pour cette petite introduction à Silverlight. Je ne suis pas rentré beaucoup dans les détails, j’espère que vous me pardonnerez. Mais vous aviez besoin au moins d’un petit support pour commencer si jamais vous ne connaissiez pas le XAML. C’est désormais chose faite et vous devriez être capables de suivre la suite du tutoriel et de commencer à réaliser des applications pour Windows Phone.</p><h6 id="r-en-resume-410" data-claire-element-id="305570">En résumé</h6><ul id="r-305569" data-claire-element-id="305569"><li id="r-305562" data-claire-element-id="305562"><p id="r-305561" data-claire-element-id="305561">Le XAML est le langage qui permet de décrire l’apparence des pages de notre application.</p></li><li id="r-305564" data-claire-element-id="305564"><p id="r-305563" data-claire-element-id="305563">Une page est composée de contrôles, comme une zone de texte, un bouton, etc.</p></li><li id="r-305566" data-claire-element-id="305566"><p id="r-305565" data-claire-element-id="305565">Il est possible de modifier l’apparence de ces contrôles grâce au style.</p></li><li id="r-305568" data-claire-element-id="305568"><p id="r-305567" data-claire-element-id="305567">La <code>ListBox</code> est un contrôle très puissant qui offre un grand contrôle sur le rendu de ses éléments grâce au système de modèle.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
<span class="arrow"></span>
<span class="next">Ajouter du style</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">
<span class="next">Une application à plusieurs pages, la navigation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Uneapplicationplusieurspageslanavigation"></a><h2>Une application à plusieurs pages, la navigation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
<span class="arrow"></span>
<span class="next">La ListBox et les modèles</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
<span class="next">Naviguer entre les pages</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-305573" data-claire-element-id="305573">Pour l’instant, notre application est simple, avec une unique page. Il est bien rare qu’une application n’ait qu’une seule page… C’est comme pour un site internet, imaginons que nous réalisions une application mobile pour commander des produits, nous aurons une page contenant la liste des produits par rayon, une page pour afficher la description d’un produit, une page pour commander…</p><p id="r-305574" data-claire-element-id="305574">Nous allons donc voir qu’il est possible de naviguer facilement entre les pages de notre application grâce au service de navigation de Silverlight pour Windows Phone.</p>
</div><a name="Naviguerentrelespages"></a><h2>Naviguer entre les pages</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">
<span class="arrow"></span>
<span class="next">Une application à plusieurs pages, la navigation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
<span class="next">Gérer le bouton de retour arrière</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305575" data-claire-element-id="305575">Avant de pouvoir naviguer entre des multiples pages, il faut effectivement avoir plusieurs pages ! Nous allons illustrer cette navigation en prenant pour exemple le Site du Zéro … enfin, en moins bien. ^^ <br/> Sur la première page, nous aurons un menu qui nous permet d’aller voir la liste des tutoriels ou la liste des MP.<br/> La page qui contient la liste des tutoriels permettra de naviguer sur un tutoriel précis et d’en voir le contenu. La page des MP indiquera qu’elle est en chantier.</p><p id="r-305576" data-claire-element-id="305576">Commençons par le menu et vu qu’elle existe, utilisons la page <code>MainPage.xaml</code> :</p><pre id="r-305577" data-claire-element-id="305577"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;L'appli du Site du zéro&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Menu principal&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;Grid.RowDefinitions&gt;
            &lt;RowDefinition Height=&quot;*&quot; /&gt;
            &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;/Grid.RowDefinitions&gt;
        &lt;HyperlinkButton NavigateUri=&quot;/ListeTutoriels.xaml&quot; Content=&quot;Voir les tutoriels&quot; /&gt;
        &lt;HyperlinkButton NavigateUri=&quot;/ListeMPs.xaml&quot; Content=&quot;Voir mes MP&quot; Grid.Row=&quot;1&quot; /&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-305578" data-claire-element-id="305578">J’ai juste modifié la page en changeant le titre, et rajouté deux contrôles <code>HyperLinkButton</code> qui vont nous permettre de naviguer sur d’autres pages. Si nous affichons la page dans l’émulateur, nous avons :</p><figure id="r-305580" data-claire-element-id="305581"><img id="r-305579" data-claire-element-id="305579" src="medias/uploads.siteduzero.com_files_367001_368000_367717.png" alt="Image utilisateur"/></figure><p id="r-305582" data-claire-element-id="305582">Dans le XAML, on peut voir ici qu'il est très simple de faire un lien vers d'autres pages en utilisant l'attribut <code>NavigateUri</code> de l'<code>HyperlinkButton</code>. Il suffit d'indiquer l'emplacement d'une page XAML. Nous allons devoir créer deux pages, <code>ListeTutoriels.xaml</code> et <code>ListeMps.xaml</code>. Pour cela, nous faisons un clic droit sur le projet et choisissons d’ajouter un nouvel élément. Il suffit de choisir le modèle de fichier « Page en mode portrait Windows Phone » et de lui donner le bon nom :</p><figure id="r-305584" data-claire-element-id="305585"><img id="r-305583" data-claire-element-id="305583" src="medias/uploads.siteduzero.com_files_367001_368000_367718.png" alt="Image utilisateur"/></figure><p id="r-305586" data-claire-element-id="305586">Reste à modifier les pages pour qu’on les reconnaisse, <code>ListeTutoriels.xaml</code> ressemblera à :</p><pre id="r-305587" data-claire-element-id="305587"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;L'appli du Site du zéro&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Les tutoriels&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;ListBox x:Name=&quot;listeTutoriels&quot; SelectionChanged=&quot;listeTutoriels_SelectionChanged&quot;&gt;
            &lt;ListBox.ItemTemplate&gt;
                &lt;DataTemplate&gt;
                    &lt;Border Margin=&quot;50 30 30 30&quot; Padding=&quot;10&quot; Background=&quot;Gray&quot; Width=&quot;300&quot; Height=&quot;100&quot;&gt;
                        &lt;TextBlock Text=&quot;{Binding Nom}&quot; VerticalAlignment=&quot;Center&quot; HorizontalAlignment=&quot;Center&quot; TextWrapping=&quot;Wrap&quot; /&gt;
                    &lt;/Border&gt;
                &lt;/DataTemplate&gt;
            &lt;/ListBox.ItemTemplate&gt;
        &lt;/ListBox&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-305588" data-claire-element-id="305588">Remarquons qu’on utilise une <code>ListBox</code> avec un modèle contenant un contrôle <code>Border</code> qui sert à encadrer le <code>TextBlock</code>. Notons également une propriété du <code>TextBlock</code> qui permet de revenir à la ligne, avec <code>TextWrapping</code> à <code>Wrap</code>.</p><p id="r-305589" data-claire-element-id="305589">Quant à la page <code>ListeMps.xaml</code>, elle aura le code suivant :</p><pre id="r-305590" data-claire-element-id="305590"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;L'appli du Site du zéro&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Les MP&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;TextBlock Text=&quot;Page en construction ...&quot; /&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-305591" data-claire-element-id="305591">où on affiche simplement que la page est en construction.</p><p id="r-305592" data-claire-element-id="305592">Il nous manque encore une page de visualisation du tutoriel, appelons-là <code>Tuto.xaml</code>. Elle contiendra le XAML suivant :</p><pre id="r-305593" data-claire-element-id="305593"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;L'appli du Site du zéro&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Voir un tuto&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;Grid.RowDefinitions&gt;
            &lt;RowDefinition Height=&quot;*&quot; /&gt;
            &lt;RowDefinition Height=&quot;auto&quot; /&gt;
        &lt;/Grid.RowDefinitions&gt;
        &lt;TextBlock x:Name=&quot;contenu&quot; TextWrapping=&quot;Wrap&quot;/&gt;
        &lt;Button Grid.Row=&quot;1&quot; Content=&quot;Revenir en arrière&quot; Click=&quot;Button_Click&quot; /&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-305594" data-claire-element-id="305594">Il s’agit d’une grille contenant un <code>TextBlock</code> où nous mettrons le contenu du tutoriel et un bouton pour revenir en arrière.<br/> Évidemment, ici nous n’allons pas afficher un tutoriel dans un simple <code>TextBlock</code>, aussi nous mettrons juste une petite phrase pour illustrer le propos.</p><p id="r-305595" data-claire-element-id="305595">Si on démarre l’application et qu’on clique sur « <code>Voir les tutoriels</code> », on peut constater qu’on change de page. Tout à fait naturellement, lorsque l'on souhaite revenir à la page précédente, on peut cliquer sur le bouton de retour arrière du téléphone, nous y reviendrons. De la même façon, si on clique sur « <code>Voir mes MP</code> », on remarque à nouveau un changement de page avec retour arrière possible en cliquant sur le bouton de retour arrière de l’émulateur.</p><p id="r-305596" data-claire-element-id="305596">Et voilà, nous naviguons entre les pages de notre application en n'ayant presque rien fait, à part ajouter un contrôle <code>HyperlinkButton</code>. Il sait gérer facilement une navigation avec des liens entre des pages. C’est la forme de navigation la plus simple.</p><p id="r-305597" data-claire-element-id="305597">Continuons l’application pour découvrir les autres formes de navigation. Il faut remplir la liste des tutoriels, pour cela nous alors créer une liste d’articles :</p><pre id="r-305598" data-claire-element-id="305598"><code data-claire-semantic="csharp">public class Article
{
    public string Nom { get; set; }
    public DateTime DatePublication { get; set; }
    public string Contenu { get; set; }
}</code></pre><pre id="r-305599" data-claire-element-id="305599"><code data-claire-semantic="csharp">public static class Articles
{
    public static List&lt;Article&gt; GetArticles()
    {
        List&lt;Article&gt; articles = new List&lt;Article&gt;();
        articles.Add(new Article
        {
            Nom = &quot;Concevez votre site web avec PHP et MySQL&quot;,
            DatePublication = new DateTime(2010, 11, 15),
            Contenu = &quot;Blogs, réseaux sociaux, pages d'accueil personnalisables... Depuis quelques années, les sites web ont gagné en fonctionnalités et sont devenus dans le même temps de plus en plus complexes.\nQue le temps de la \&quot;page web perso\&quot; est loin ! Il y a une époque où l'on pouvait se contenter de créer un site basique. Un peu de texte, quelques images : hop là, notre site perso était prêt ...&quot;
        });
        articles.Add(new Article
        {
            Nom = &quot;Apprenez à développer en C#&quot;,
            DatePublication = new DateTime(2010, 11, 20),
            Contenu = &quot;Vous avez entendu parler du langage C, du C++, et voilà qu'on vous présente maintenant le C# ! Encore un langage me direz-vous ? Oui, mais pas n'importe lequel !\nIl existe beaucoup de langages de programmation, comme le C, le C++, Python, Java... Chacun a ses avantages, ses inconvénients et ses domaines d'applications...&quot;
        });
        articles.Add(new Article
        {
            Nom = &quot;Apprendre à développer pour Windows Phone&quot;,
            DatePublication = new DateTime(2012, 12, 5),
            Contenu = &quot;En cours de rédaction ...&quot;
        });

        return articles;
    }
}</code></pre><pre id="r-305600" data-claire-element-id="305600"><code data-claire-semantic="csharp">public ListeTutoriels()
{
    InitializeComponent();

    listeTutoriels.ItemsSource = Articles.GetArticles();
}</code></pre><p id="r-305601" data-claire-element-id="305601">Nous obtenons :</p><figure id="r-305603" data-claire-element-id="305604"><img id="r-305602" data-claire-element-id="305602" src="medias/uploads.siteduzero.com_files_370001_371000_370678.png" alt="Image utilisateur"/></figure><p id="r-305605" data-claire-element-id="305605">Nous avons désormais notre <code>ListBox</code> remplie avec des tutoriels. Il faut désormais écrire l’événement de sélection d’un élément afin de pouvoir naviguer sur la page de prévisualisation d’un tutoriel :</p><pre id="r-305606" data-claire-element-id="305606"><code data-claire-semantic="csharp">private void listeTutoriels_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    if (listeTutoriels.SelectedItem == null)
	return;
    Article currentArticle = (Article)listeTutoriels.SelectedItem;
    PhoneApplicationService.Current.State[&quot;Article&quot;] = currentArticle;
    listeTutoriels.SelectedItem = null;
    NavigationService.Navigate(new Uri(&quot;/Tuto.xaml&quot;, UriKind.Relative));
}</code></pre><p id="r-305607" data-claire-element-id="305607">Nous récupérons dans un premier temps l’élément sélectionné grâce à la propriété <code>SelectedItem</code> de la <code>ListBox</code> (il aurait également été disponible dans le deuxième paramètre de la méthode). Juste après, nous stockons l’article dans le dictionnaire d’état de l’application. Il s’agit d’un endroit où on va pouvoir stocker plein de choses qui vont nous servir tout au long de l’application. Ici, j’associe une chaine de caractère à l’objet représentant l’article courant. Je pourrai m’en servir plus tard.</p><aside id="r-305609" data-claire-element-id="305609" data-claire-semantic="warning"><p id="r-305608" data-claire-element-id="305608">Attention, il est important de mettre la valeur <code data-claire-semantic="csharp">null</code> dans la propriété <code data-claire-semantic="csharp">SelectedItem</code> si vous voulez que cet élément de la <code data-claire-semantic="csharp">ListBox</code> soit toujours sélectionnable après un retour en arrière.</p></aside><p id="r-305610" data-claire-element-id="305610">Nous découvrons également la classe <code>NavigationService</code>. De la même façon que le contrôle <code>HyperlinkButton</code>, elle permet de naviguer entre les pages par code, avec notamment sa méthode <code>Navigate()</code>. Il suffit de lui indiquer l’url de la page XAML à afficher.</p><p id="r-305611" data-claire-element-id="305611">Comme vous l'aurez compris, nous utilisons le dictionnaire d'état de l'application pour communiquer un contexte à la page vers laquelle nous allons naviguer. C'est une solution, sachant qu'il y en a d'autres dont une que nous allons explorer plus loin.</p><p id="r-305612" data-claire-element-id="305612">Désormais, après le clic sur un tutoriel, nous pouvons constater que nous naviguons correctement sur la page de visualisation du tutoriel. C’est le moment de récupérer les informations de contexte et de les afficher. Cela pourrait être fait dans le constructeur de la page, mais en fait il y a un meilleur moment pour le faire. Il s'agit de la méthode qui est appelée lorsqu’on navigue sur une page, à savoir la méthode <code>OnNavigatedTo</code>. Il suffit de la substituer pour pouvoir récupérer nos informations sur l’article en cours, cette méthode faisant partie de la classe <code>PhoneApplicationPage</code>, nous la substituons directement dans notre code behind de la page <code>Tuto.xaml.cs</code> :</p><pre id="r-305613" data-claire-element-id="305613"><code data-claire-semantic="csharp">protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    Article currentArticle = (Article)PhoneApplicationService.Current.State[&quot;Article&quot;];
    PageTitle.Text = currentArticle.Nom;
    contenu.Text = currentArticle.Contenu;
    base.OnNavigatedTo(e);
}</code></pre><p id="r-305614" data-claire-element-id="305614">Et voilà, maintenant, lorsque nous cliquons sur un élément de la <code>ListBox</code>, nous pouvons voir son contenu dans la nouvelle page :</p><figure id="r-305616" data-claire-element-id="305617"><img id="r-305615" data-claire-element-id="305615" src="medias/uploads.siteduzero.com_files_367001_368000_367721.png" alt="Image utilisateur"/></figure><p id="r-305618" data-claire-element-id="305618">Nous avons donc utilisé le dictionnaire d’état pour faire transiter de l’information entre les pages. Il y a d’autres solutions pour le faire. Une autre est d’utiliser la query string. Il s’agit d’informations complémentaires passées à la page.<br/> Pour illustrer ce fonctionnement, nous allons simplement modifier la méthode associée à l’événement de sélection d’un élément dans la <code>ListBox</code> :</p><pre id="r-305619" data-claire-element-id="305619"><code data-claire-semantic="csharp">private void listeTutoriels_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    NavigationService.Navigate(new Uri(&quot;/Tuto.xaml?index=&quot; + listeTutoriels.SelectedIndex, UriKind.Relative));
}</code></pre><p id="r-305620" data-claire-element-id="305620">Ici, on utilise la query string pour passer la valeur de l'index de l'élément sélectionné. C’est comme pour une page web, on utilise le point d’interrogation suivi d’une clé et de sa valeur.</p><p id="r-305621" data-claire-element-id="305621">Il faut maintenant modifier la page <code>Tuto.xaml</code> pour récupérer cet index :</p><pre id="r-305622" data-claire-element-id="305622"><code data-claire-semantic="csharp">protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    string indexStr;
    if (NavigationContext.QueryString.TryGetValue(&quot;index&quot;, out indexStr))
    {
        int index = int.Parse(indexStr);
        Article currentArticle = Articles.GetArticles()[index];
        PageTitle.Text = currentArticle.Nom;
        contenu.Text = currentArticle.Contenu;
    }
    base.OnNavigatedTo(e);
}</code></pre><p id="r-305623" data-claire-element-id="305623">Ici on utilise le contexte de navigation (<code>NavigationContext</code>) pour récupérer la valeur que nous avons transmise dans la query string.<br/> Une fois cette valeur récupérée, il ne reste plus qu'à accéder à l'élément de la liste à l'index adéquat et nous pouvons afficher notre contenu.</p><p id="r-305624" data-claire-element-id="305624">Nous avons pu voir ainsi deux façons différentes de naviguer entre les pages, via le contrôle <code>HyperlinkButton</code> et via le <code>NavigationService</code>. Puis nous avons vu deux façons différentes de passer des informations entre les pages, via la query string et via le dictionnaire d'état de l'application.</p><aside id="r-305626" data-claire-element-id="305626" data-claire-semantic="information"><p id="r-305625" data-claire-element-id="305625">On remarque que la première page à s’afficher lorsqu’on démarre une application est la page <code>MainPage.xaml</code>. Ceci est configurable en allant modifier le fichier <code>WMAppManifest.xml</code> qui se trouve dans l’explorateur de solutions, sous <code>properties</code> :</p></aside><figure id="r-305628" data-claire-element-id="305629"><img id="r-305627" data-claire-element-id="305627" src="medias/uploads.siteduzero.com_files_367001_368000_367722.png" alt="Image utilisateur"/></figure><p id="r-305630" data-claire-element-id="305630">Si on veut démarrer sur une autre page, il faut modifier la valeur de :</p><pre id="r-305631" data-claire-element-id="305631"><code data-claire-semantic="xml">&lt;DefaultTask  Name =&quot;_default&quot; NavigationPage=&quot;MainPage.xaml&quot;/&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">
<span class="arrow"></span>
<span class="next">Une application à plusieurs pages, la navigation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
<span class="next">Gérer le bouton de retour arrière</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Grerleboutonderetourarrire"></a><h2>Gérer le bouton de retour arrière</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
<span class="arrow"></span>
<span class="next">Naviguer entre les pages</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
<span class="next">Le contrôle Panorama et le contrôle Pivot</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305633" data-claire-element-id="305633">Et pour revenir en arrière ? Nous l’avons vu, il faut cliquer sur le bouton de retour arrière qui fait nécessairement partie d’un téléphone Windows Phone. Mais il est également possible de déclencher ce retour arrière grâce au service de navigation. <br/> C’est à cela que va servir le bouton que j’ai rajouté en bas de la page <code>Tuto.xaml</code>. Observons l’événement associé au clic :</p><pre id="r-305634" data-claire-element-id="305634"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    NavigationService.GoBack();
}</code></pre><p id="r-305635" data-claire-element-id="305635">Très simple, il suffit de déclencher le retour arrière avec la méthode <code>GoBack()</code> du service de navigation. Notez qu’il peut être utile dans certaines situations de tester si un retour arrière est effectivement possible. Cela se fait avec la propriété <code>CanGoBack</code> :</p><pre id="r-305636" data-claire-element-id="305636"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    if (NavigationService.CanGoBack)
        NavigationService.GoBack();
}</code></pre><p id="r-305637" data-claire-element-id="305637">Il est également possible de savoir si l’utilisateur a appuyé sur le fameux bouton de retour arrière. À ce moment-là, on passera dans la méthode <code>OnBackKeyPress</code>. Pour pouvoir faire quelque chose lors de ce clic, on pourra substituer cette méthode dans notre classe :</p><pre id="r-305638" data-claire-element-id="305638"><code data-claire-semantic="csharp">protected override void OnBackKeyPress(System.ComponentModel.CancelEventArgs e)
{
    base.OnBackKeyPress(e);
}</code></pre><p id="r-305639" data-claire-element-id="305639">Il est possible ici de faire ce que l’on veut, comme afficher un message de confirmation demandant si on veut réellement quitter cette page, ou sauvegarder des infos, etc. On pourra annuler l’action de retour arrière en modifiant la propriété <code>Cancel</code> de l’objet <code>CancelEventArgs</code> à <code data-claire-semantic="csharp">true</code>. On peut également choisir de rediriger vers une autre page si c’est pertinent.<br/> Et voilà pour les bases de la navigation. D’une manière générale, il est de bon ton de garder une mécanique de navigation fluide et cohérente. Il faut privilégier la navigation intuitive pour que l’utilisateur ne soit pas perdu dans un labyrinthe d’écran…</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
<span class="arrow"></span>
<span class="next">Naviguer entre les pages</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
<span class="next">Le contrôle Panorama et le contrôle Pivot</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LecontrlePanoramaetlecontrlePivot"></a><h2>Le contrôle Panorama et le contrôle Pivot</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
<span class="arrow"></span>
<span class="next">Gérer le bouton de retour arrière</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
<span class="next">L&#039;orientation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-controle-panorama-et-le-controle-pivot" data-claire-element-id="305669">Le contrôle Panorama et le contrôle Pivot</h4><p id="r-305641" data-claire-element-id="305641">Naviguer entre les pages, c’est bien mais nous pouvons également naviguer entre les données. C’est là qu’interviennent deux contrôles très utiles qui permettent de naviguer naturellement entre des données : le contrôle <code>Panorama</code> et le contrôle <code>Pivot</code>.<br/> Le contrôle <code>Panorama</code> sert en général à voir un petit bout d’un plus gros écran, qui ne rentre pas dans l’écran du téléphone. On met beaucoup d’infos sur une grosse page et la mécanique du contrôle <code>Panorama</code> incite à se déplacer avec le doigt sur le reste du plus gros écran. On l’illustre souvent avec une image de ce genre :</p><figure id="r-305643" data-claire-element-id="305644"><img id="r-305642" data-claire-element-id="305642" src="medias/uploads.siteduzero.com_files_406001_407000_406882.png" alt="Image utilisateur"/></figure><p id="r-305645" data-claire-element-id="305645">Le contrôle panorama affiche donc plusieurs données sur une seule grosse page.</p><p id="r-305646" data-claire-element-id="305646">Le contrôle <code>Pivot</code> quant à lui permet plutôt de voir plusieurs éléments d'une même source de données sur plusieurs pages. La navigation entre les pages se fait en faisant glisser le doigt, comme si l’on tournait une page. Par exemple pour une application météo, la première page permet d’afficher la météo du jour, la page suivante permet d’afficher la météo de demain, etc.</p><p id="r-305647" data-claire-element-id="305647">Découvrons à présent rapidement ces deux contrôles. Le plus simple pour commencer est de créer un nouveau projet. Vous avez sûrement constaté que Visual Studio nous proposait de créer différents modèles de projet, dont un projet s’appelant « <code>Application Panorama Windows Phone</code> » et un autre s’appelant « <code>Application Pivot Windows Phone</code> ». Choisissons le projet « <code>Application Panorama Windows Phone</code> » :</p><figure id="r-305649" data-claire-element-id="305650"><img id="r-305648" data-claire-element-id="305648" src="medias/uploads.siteduzero.com_files_367001_368000_367771.png" alt="Image utilisateur"/></figure><p id="r-305651" data-claire-element-id="305651">Si nous démarrons immédiatement l’application, nous pouvons voir qu’elle contient un panorama existant. Chouette. Le souci c’est que la traduction en français du modèle n’est pas terrible, mais bon, on fera avec.</p><p id="r-305652" data-claire-element-id="305652">Ce qu’il faut remarquer ici, c’est qu’il est possible de faire glisser l’écran en cours de gauche à droite, affichant deux éléments en boucle :</p><figure id="r-305654" data-claire-element-id="305655"><img id="r-305653" data-claire-element-id="305653" src="medias/uploads.siteduzero.com_files_367001_368000_367773.png" alt="Image utilisateur"/></figure><p id="r-305656" data-claire-element-id="305656">Il faut également remarquer que l’affichage du premier écran incite l’utilisateur à aller voir ce qu’il y a à droite. En effet, on peut voir que le titre n’est pas complet, qu’il y a un « s » qui traine à droite indiquant le début d’un titre suivant. Pareil pour le carré rouge, on se doute qu’il doit y avoir quelque chose à côté... Bref, tout est fait pour donner envie d’aller voir ce qu’il y a plus loin. C’est le principe du panorama.</p><p id="r-305657" data-claire-element-id="305657">Voyons à présent le XAML qui a été généré pour obtenir cet écran :</p><pre id="r-305658" data-claire-element-id="305658"><code data-claire-semantic="xml">&lt;controls:Panorama Title=&quot;mon application&quot;&gt;
    &lt;controls:Panorama.Background&gt;
        &lt;ImageBrush ImageSource=&quot;PanoramaBackground.png&quot;/&gt;
    &lt;/controls:Panorama.Background&gt;
 
    &lt;!--Élément un de panorama--&gt;
    &lt;controls:PanoramaItem Header=&quot;premier élément&quot;&gt;
        &lt;!--Liste double trait avec habillage du texte--&gt;
        &lt;ListBox Margin=&quot;0,0,-12,0&quot; ItemsSource=&quot;{Binding Items}&quot;&gt;
            [code supprimé pour plus de lisibilité]
        &lt;/ListBox&gt;
    &lt;/controls:PanoramaItem&gt;
 
    &lt;!--Élément deux de panorama--&gt;
    &lt;!--Utilisez 'Orientation=&quot;Horizontal&quot;' pour activer un panneau qui s'affiche horizontalement--&gt;
    &lt;controls:PanoramaItem Header=&quot;second élément&quot;&gt;
        &lt;!--Liste double trait avec espace réservé pour une image et habillage du texte--&gt;
        &lt;ListBox Margin=&quot;0,0,-12,0&quot; ItemsSource=&quot;{Binding Items}&quot;&gt;
            [code supprimé pour plus de lisibilité]
        &lt;/ListBox&gt;
    &lt;/controls:PanoramaItem&gt;
&lt;/controls:Panorama&gt;</code></pre><p id="r-305659" data-claire-element-id="305659">Ce qu’on peut constater déjà, c’est qu’il est composé de deux parties qui sont toutes les deux des <code>PanoramaItem</code>. Un <code>PanoramaItem</code> correspond donc à une « vue » de la totalité du <code>Panorama</code>. La navigation se passe entre ces deux éléments.<br/> Chaque élément du panorama a un titre, représenté par la propriété <code>Header</code>. Dans le deuxième, on peut remarquer que le titre commence par le fameux « s » qui dépasse du premier élément. Tout ceci est fait automatiquement sans que l’on ait à faire quoi que ce soit de supplémentaire. :)</p><p id="r-305660" data-claire-element-id="305660">Nous pouvons créer autant de <code>PanoramaItem</code> que nous le souhaitons, et mettre ce que nous voulons dedans. Ici, il a été mis des listes, mais cela pourrait être n’importe quoi d’autre vu que le <code>Panorama</code> fait office de conteneur. Je vais m’arrêter là pour cette présentation, mais vous vous doutez bien qu’on peut faire beaucoup de choses avec ce panorama, comme s’abonner à l’événement de changement de <code>PanoramaItem</code>, ou se positionner directement sur un élément précis du panorama, etc.</p><p id="r-305661" data-claire-element-id="305661">Voyons à présent le contrôle <code>Pivot</code> qui est un autre contrôle bien utile. Pour cela, créez le deuxième type de projet que nous avons vu, à savoir « <code>Application Pivot Windows Phone</code> » et démarrons l’application exemple. On constate qu’on peut également naviguer en faisant glisser la page sur la droite ou sur la gauche avec le doigt (ou la souris :p ):</p><figure id="r-305663" data-claire-element-id="305664"><img id="r-305662" data-claire-element-id="305662" src="medias/uploads.siteduzero.com_files_367001_368000_367774.png" alt="Image utilisateur"/></figure><p id="r-305665" data-claire-element-id="305665">Ici, il y a seulement le titre des pages qui nous renseigne sur la présence d’un autre élément. Voyons à présent le code XAML :</p><pre id="r-305666" data-claire-element-id="305666"><code data-claire-semantic="xml">&lt;controls:Pivot Title=&quot;MON APPLICATION&quot;&gt;
    &lt;!--Élément un de tableau croisé dynamique--&gt;
    &lt;controls:PivotItem Header=&quot;premier&quot;&gt;
        &lt;!--Liste double trait avec habillage du texte--&gt;
        &lt;ListBox x:Name=&quot;FirstListBox&quot; Margin=&quot;0,0,-12,0&quot; ItemsSource=&quot;{Binding Items}&quot;&gt;
            [code supprimé pour plus de lisibilité]
        &lt;/ListBox&gt;
    &lt;/controls:PivotItem&gt;
 
    &lt;!--Élément deux de tableau croisé dynamique--&gt;
    &lt;controls:PivotItem Header=&quot;second&quot;&gt; 
        &lt;!--Liste triple trait, aucun habillage du texte--&gt;
            &lt;ListBox x:Name=&quot;SecondListBox&quot; Margin=&quot;0,0,-12,0&quot; ItemsSource=&quot;{Binding Items}&quot;&gt;
                [code supprimé pour plus de lisibilité]
            &lt;/ListBox&gt;
    &lt;/controls:PivotItem&gt;
&lt;/controls:Pivot&gt;</code></pre><p id="r-305667" data-claire-element-id="305667">Ici, le principe est le même. Le contrôle <code>Pivot</code> est décomposé en deux <code>PivotItem</code>, chacun faisant office de container. Dedans il y a une <code>ListBox</code> mais tout autre contrôle y trouve sa place. Encore une fois, c’est la propriété <code>Header</code> qui va permettre de donner un titre à la page.</p><p id="r-305668" data-claire-element-id="305668">Vous pourriez trouver que les deux contrôles se ressemblent, et ce n’est pas complètement faux. Je vous rappelle juste que le contrôle <code>Panorama</code> permet d’afficher plusieurs données sur une seule grosse page alors que le contrôle Pivot est utilisé pour présenter la même donnée sur plusieurs pages. Vous appréhenderez au fur et à mesure la subtile différence entre ces deux contrôles. ^^ <br/> Remarquons avant de terminer que ces deux contrôles fonctionnent parfaitement avec le <em>binding</em> que nous découvrirons plus loin.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
<span class="arrow"></span>
<span class="next">Gérer le bouton de retour arrière</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
<span class="next">L&#039;orientation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039orientation"></a><h2>L&#039;orientation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
<span class="arrow"></span>
<span class="next">Le contrôle Panorama et le contrôle Pivot</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">
<span class="next">Accéder aux données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305670" data-claire-element-id="305670">Je n’en ai pas encore parlé, mais un téléphone ne se tient pas toujours droit devant nous, les boutons en bas (ce qu’on appelle le mode portrait). Il peut se tenir horizontalement, en mode paysage. Suivant les cas, les applications sont figées et ne peuvent se tenir que dans un sens. Dans d’autres cas, elles offrent la possibilité de tenir son téléphone dans plusieurs modes, révélant au passage une interface légèrement différente. Si on tient le téléphone en mode paysage, il y a plus de place en largeur, il peut être pertinent d’afficher plus d’informations…</p><p id="r-305671" data-claire-element-id="305671">Un téléphone Windows Phone sait détecter quand il change d’orientation. Il est capable de lever un événement nous permettant de réagir à ce changement d’orientation… mais n’anticipons pas et revenons à la base, la page. Si nous regardons en haut dans les propriétés de la page, nous pouvons voir que nous avons régulièrement créé des pages qui possèdent ces propriétés :</p><pre id="r-305672" data-claire-element-id="305672"><code data-claire-semantic="csharp">SupportedOrientations=&quot;Portrait&quot; Orientation=&quot;Portrait&quot;</code></pre><p id="r-305673" data-claire-element-id="305673">Cela indique que l’application supporte le mode portrait et que la page démarre en mode portrait. Il est possible de changer les valeurs de ces propriétés. On peut par exemple affecter les valeurs suivantes à la propriété <code>SupportedOrientation</code> :</p><ul id="r-305680" data-claire-element-id="305680"><li id="r-305675" data-claire-element-id="305675"><p id="r-305674" data-claire-element-id="305674"><code>Portrait</code></p></li><li id="r-305677" data-claire-element-id="305677"><p id="r-305676" data-claire-element-id="305676"><code>Landscape</code></p></li><li id="r-305679" data-claire-element-id="305679"><p id="r-305678" data-claire-element-id="305678"><code>PortraitOrLandscape</code></p></li></ul><p id="r-305681" data-claire-element-id="305681">qui signifient respectivement portrait, paysage et portrait-ou-paysage. Ainsi, si l’on positionne cette dernière valeur, l’application va automatiquement réagir au changement d’orientation. Prenons par exemple le code XAML suivant :</p><pre id="r-305682" data-claire-element-id="305682"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;MON APPLICATION&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Hello World&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;StackPanel&gt;
            &lt;TextBlock Text=&quot;Bonjour à tous&quot; /&gt;
            &lt;Button Content=&quot;Cliquez-moi&quot; /&gt;
        &lt;/StackPanel&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-305683" data-claire-element-id="305683">Si nous démarrons l’application nous obtenons :</p><figure id="r-305685" data-claire-element-id="305686"><img id="r-305684" data-claire-element-id="305684" src="medias/uploads.siteduzero.com_files_367001_368000_367778.png" alt="Image utilisateur"/></figure><p id="r-305687" data-claire-element-id="305687">Il est possible de simuler un changement d’orientation avec l’émulateur, il suffit de cliquer sur les boutons disponibles dans la barre en haut à droite de l’émulateur, comme indiqué sur l’image du dessus. L’écran est retourné et l’interface est automatiquement adaptée à la nouvelle orientation :</p><figure id="r-305689" data-claire-element-id="305690"><img id="r-305688" data-claire-element-id="305688" src="medias/uploads.siteduzero.com_files_367001_368000_367783.png" alt="Image utilisateur"/></figure><p id="r-305691" data-claire-element-id="305691">Ceci est possible grâce à la propriété que nous avons rajoutée. Les contrôles se redessinent automatiquement lors du changement d’orientation. <br/> Attention, si vous aviez placé un contrôle en positionnement absolu grâce à un <code>Canvas</code> par exemple, il est fort possible qu’il se retrouve à un emplacement non voulu lors du changement d’orientation. C’est la même chose avec un <code>StackPanel</code>, peut être que tous les éléments tiennent dans la hauteur en mode portrait, mais il faudra surement rajouter un <code>ScrollViewer</code> en mode paysage…</p><p id="r-305692" data-claire-element-id="305692">Pensez-bien au design de vos écrans et n’oubliez pas de tester dans toutes les orientations possibles. Il existe des stratégies de gestion d’orientation que nous ne découvrirons pas ici, mais la première chose à faire est de toujours utiliser des conteneurs qui peuvent se redimensionner automatiquement, d’éviter de fixer des largeurs ou des hauteurs et de penser à des contrôles pouvant faire défiler leur contenu (<code>ListBox</code>, <code>ScrollViewer</code>, etc.).</p><p id="r-305693" data-claire-element-id="305693">Des ajustements peuvent aussi se faire lorsque le téléphone détecte le changement d’orientation. Pour être prévenu, il suffit de substituer la méthode <code>OnOrientationChanged</code> :</p><pre id="r-305694" data-claire-element-id="305694"><code data-claire-semantic="csharp">protected override void OnOrientationChanged(OrientationChangedEventArgs e)
{
    switch (e.Orientation)
    {
        case PageOrientation.Landscape:
        case PageOrientation.LandscapeLeft:
        case PageOrientation.LandscapeRight:
            // faire des choses pour le mode paysage
            break;
        case PageOrientation.Portrait:
        case PageOrientation.PortraitDown:
        case PageOrientation.PortraitUp:
            // faire des choses pour le mode portrait 
            break;
    }
    base.OnOrientationChanged(e);
}</code></pre><p id="r-305695" data-claire-element-id="305695">que l'on peut simplifier en :</p><pre id="r-305696" data-claire-element-id="305696"><code data-claire-semantic="csharp">protected override void OnOrientationChanged(OrientationChangedEventArgs e)
{
    if ((e.Orientation &amp; PageOrientation.Landscape) == PageOrientation.Landscape)
    {
        // faire des choses pour le mode paysage
    }
    else
    {
        //faire des choses pour le mode portrait
    }
    base.OnOrientationChanged(e);
}</code></pre><p id="r-305697" data-claire-element-id="305697">On pourra si on le souhaite faire des ajustements. Il peut s’agir de modifications de propriétés de hauteur, largeur… ou tout simplement redessiner les contrôles par code ou rediriger vers une page dédiée à cette orientation.</p><h3 id="r-en-resume-411" data-claire-element-id="305709">En résumé</h3><ul id="r-305708" data-claire-element-id="305708"><li id="r-305699" data-claire-element-id="305699"><p id="r-305698" data-claire-element-id="305698">Une application est en général composée de plusieurs pages.</p></li><li id="r-305701" data-claire-element-id="305701"><p id="r-305700" data-claire-element-id="305700">Il est possible de naviguer entre les pages grâce au service de navigation.</p></li><li id="r-305703" data-claire-element-id="305703"><p id="r-305702" data-claire-element-id="305702">Le contrôle <code>Panorama</code> permet d’afficher plusieurs données sur une seule grosse page.</p></li><li id="r-305705" data-claire-element-id="305705"><p id="r-305704" data-claire-element-id="305704">Le contrôle <code>Pivot</code> est utilisé pour présenter différents éléments d'une même source de données sur plusieurs pages.</p></li><li id="r-305707" data-claire-element-id="305707"><p id="r-305706" data-claire-element-id="305706">Il est important de gérer les différentes orientations possibles d’un téléphone afin d’offrir l’expérience utilisateur la plus adaptée possible.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
<span class="arrow"></span>
<span class="next">Le contrôle Panorama et le contrôle Pivot</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">
<span class="next">Accéder aux données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Accderauxdonnes"></a><h2>Accéder aux données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
<span class="arrow"></span>
<span class="next">L&#039;orientation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
<span class="next">La liaison de données : le binding</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-305712" data-claire-element-id="305712">Lorsque nous avons étudié la <code data-claire-semantic="csharp">ListBox</code>, nous avons commencé à voir ce qu’était la liaison de données, appelée aussi le <em>binding</em> en anglais. C’est la possibilité de lier un contrôle à des données. Nous indiquons au contrôle où il peut trouver sa valeur et il se débrouille pour l’afficher. Cela permet de positionner automatiquement des valeurs aux propriétés des contrôles en fonction du contenu de la source de données. En effet, il est très fréquent de mettre des valeurs dans des <code data-claire-semantic="csharp">TextBox</code> ou dans des <code data-claire-semantic="csharp">TextBlock</code> comme nous l’avons fait. Le <em>binding</em> est là pour faciliter tout ce qui peut être automatisable et risque d’erreurs. De plus, si la source de données change, il est possible de faire en sorte que le contrôle soit automatiquement mis à jour. Inversement, si des modifications sont faites depuis l’interface, alors on peut être notifié automatiquement des changements.</p>
</div><a name="Laliaisondedonneslebinding"></a><h2>La liaison de données : le binding</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">
<span class="arrow"></span>
<span class="next">Accéder aux données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
<span class="next">Binding et mode design</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305713" data-claire-element-id="305713">Pour illustrer le fonctionnement le plus simple du binding, nous allons lier une zone de texte modifiable (<code data-claire-semantic="csharp">TextBox</code>) à une propriété d’une classe. Puisqu’il s’agit de texte, il faut créer une propriété de type <code data-claire-semantic="csharp">string</code> sur une classe. Cette classe sera le contexte de données du contrôle. Créons donc la nouvelle classe suivante :</p><pre id="r-305714" data-claire-element-id="305714"><code data-claire-semantic="csharp">public class Contexte
{
    public string Valeur { get; set; }
}</code></pre><p id="r-305715" data-claire-element-id="305715">Et une instance de cette classe dans notre code behind :</p><pre id="r-305716" data-claire-element-id="305716"><code data-claire-semantic="csharp">private Contexte contexte;

public MainPage()
{
    InitializeComponent();

    contexte = new Contexte { Valeur = &quot;Nicolas&quot; };
    DataContext = contexte;
}</code></pre><p id="r-305717" data-claire-element-id="305717">Nous remarquons à la fin que la propriété <code data-claire-semantic="csharp">DataContext</code> de la page est initialisée avec notre contexte de données, étape obligatoire permettant de lier la page au contexte de données.<br/> Il ne reste plus qu’à ajouter un contrôle <code data-claire-semantic="csharp">TextBox</code> qui sera lié à cette propriété :</p><pre id="r-305718" data-claire-element-id="305718"><code data-claire-semantic="xml">&lt;TextBox Text=&quot;{Binding Valeur}&quot; Height=&quot;80&quot;/&gt;</code></pre><p id="r-305719" data-claire-element-id="305719">Cela se fait grâce à l’expression de balisage <code data-claire-semantic="xml">{Binding}</code>. Lorsque nous exécutons notre application, nous pouvons voir que la <code data-claire-semantic="xml">TextBox</code> s’est correctement remplie avec la chaine de caractères Nicolas. Qu’est-ce qu’a fait le moteur de binding ? Il est allé voir dans son contexte (propriété <code data-claire-semantic="csharp">DataContext</code>) puis il est allé prendre le contenu de la propriété <code data-claire-semantic="csharp">Valeur</code> de ce contexte pour le mettre dans la propriété <code data-claire-semantic="csharp">Text</code> du <code data-claire-semantic="xml">TextBox</code>, c’est-à-dire la chaine « Nicolas ». <br/> Il faut faire attention car dans le XAML nous écrivons du texte, si nous orthographions mal <code data-claire-semantic="xml">Valeur</code>, par exemple :</p><pre id="r-305720" data-claire-element-id="305720"><code data-claire-semantic="xml">&lt;TextBox Text=&quot;{Binding Valer}&quot; Height=&quot;80&quot;/&gt;</code></pre><p id="r-305721" data-claire-element-id="305721">Alors la liaison de données n'aura pas lieu car la propriété est introuvable sur l’objet <code data-claire-semantic="xml">Contexte</code>. Ce qui est vrai ! « Valer » n’existe pas. Il n’y a pas de vérification à la compilation, c’est donc au moment de l’exécution que nous remarquerons l’absence du binding.<br/> La seule information que nous aurons, c’est dans la fenêtre de sortie du débogueur, où nous aurons :</p><pre id="r-305722" data-claire-element-id="305722"><code data-claire-semantic="console">System.Windows.Data Error: BindingExpression path error: 'Valer' property not found on 'DemoBinding.Contexte' 'DemoBinding.Contexte' (HashCode=123194764). 
BindingExpression: Path='Valer' DataItem='DemoBinding.Contexte' (HashCode=123194764); target element is 'System.Windows.Controls.TextBox' 
(Name=''); target property is 'Text' (type 'System.String')..</code></pre><p id="r-305723" data-claire-element-id="305723">indiquant que la propriété n’a pas été trouvée.</p><aside id="r-305725" data-claire-element-id="305725" data-claire-semantic="warning"><p id="r-305724" data-claire-element-id="305724">Attention, le binding ne fonctionne qu'avec une propriété avec la visibilité <code data-claire-semantic="csharp">public</code>.</p></aside><p id="r-305726" data-claire-element-id="305726">Il est possible de modifier la valeur affichée dans la zone de texte très facilement en modifiant la valeur du contexte depuis le code. Pour cela, changeons le XAML pour ajouter un bouton qui va nous permettre de déclencher ce changement de valeur :</p><pre id="r-305727" data-claire-element-id="305727"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;TextBox Text=&quot;{Binding Valeur}&quot; Height=&quot;80&quot;/&gt;
    &lt;Button Content=&quot;Changer valeur&quot; Click=&quot;Button_Click&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305728" data-claire-element-id="305728">Et dans l’événement de <code data-claire-semantic="csharp">click</code>, faisons :</p><pre id="r-305729" data-claire-element-id="305729"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    if (contexte.Valeur == &quot;Nicolas&quot;)
        contexte.Valeur = &quot;Jérémie&quot;;
    else
        contexte.Valeur = &quot;Nicolas&quot;;
}</code></pre><p id="r-305730" data-claire-element-id="305730">Par contre, il va manquer quelque chose. Un moyen de dire à la page « hé, j’ai modifié un truc, il faut que tu regardes si tu es impacté ». Ça, c’est le rôle de l’interface <a href="http://msdn.microsoft.com/fr-fr/library/system.componentmodel.inotifypropertychanged.aspx">INotifyPropertyChanged</a>. Notre classe de contexte doit implémenter cette interface et faire en sorte que quand on modifie la propriété, elle lève l’événement qui va permettre à l’interface de se mettre à jour. Notre classe de contexte va donc devenir :</p><pre id="r-305731" data-claire-element-id="305731"><code data-claire-semantic="csharp">public class Contexte : INotifyPropertyChanged
{
    private string valeur;
    public string Valeur 
    {
        get
        {
            return valeur;
        }
        set
        {
            if (value == valeur)
                return;
            valeur = value;
            NotifyPropertyChanged(&quot;Valeur&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }
}</code></pre><aside id="r-305733" data-claire-element-id="305733" data-claire-semantic="information"><p id="r-305732" data-claire-element-id="305732">L’implémentation de l’interface <code data-claire-semantic="csharp">INotifyPropertyChanged</code> est très classique dans les applications Silverlight, aussi cette façon de faire est souvent factorisée dans des classes mères.</p></aside><p id="r-305734" data-claire-element-id="305734">Ici, lorsque nous affectons une valeur à la propriété, la méthode <code data-claire-semantic="csharp">NotifyPropertyChanged</code> est appelée en passant en paramètre le nom de la propriété de la classe qu’il faut rafraichir sur la page. Attention, c’est une erreur classique de ne pas avoir le bon nom de propriété en paramètres, faites-y attention.<br/> Relançons l’application, nous pouvons voir que le clic sur le bouton entraine bien le changement de valeur dans la <code data-claire-semantic="xml">TextBox</code>.</p><div id="r-305736" data-claire-element-id="305736" data-claire-semantic="question"><p id="r-305735" data-claire-element-id="305735">Ok, c’est bien beau tout ça, mais n’est-ce pas un peu compliqué par rapport à ce qu’on a déjà fait, à savoir modifier directement la valeur de la propriété <code data-claire-semantic="csharp">Text</code> ?</p></div><p id="r-305737" data-claire-element-id="305737">Effectivement, dans ce cas-là, on pourrait juger que c’est sortir l’artillerie lourde pour pas grand-chose. Cependant c’est une bonne pratique dans la mesure où on automatise le processus de mise à jour de la propriété. Vous aurez remarqué que l’on ne manipule plus directement le contrôle mais une classe qui n’a rien à voir avec le <code data-claire-semantic="csharp">TextBox</code>. Et quand il y a plusieurs valeurs à mettre à jour d’un coup, c’est d’autant plus facile. De plus, nous pouvons faire encore mieux avec ce binding grâce à la bidirectionnalité de la liaison de données. Par exemple, modifions le XAML pour rajouter encore un bouton :</p><pre id="r-305738" data-claire-element-id="305738"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;TextBox Text=&quot;{Binding Valeur, Mode=TwoWay}&quot; Height=&quot;80&quot;/&gt;
    &lt;Button Content=&quot;Changer valeur&quot; Click=&quot;Button_Click&quot; /&gt;
    &lt;Button Content=&quot;Afficher valeur&quot; Click=&quot;Button_Click_1&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305739" data-claire-element-id="305739">La méthode associée à ce nouveau clic affichera la valeur du contexte :</p><pre id="r-305740" data-claire-element-id="305740"><code data-claire-semantic="csharp">private void Button_Click_1(object sender, RoutedEventArgs e)
{
    MessageBox.Show(contexte.Valeur);
}</code></pre><p id="r-305741" data-claire-element-id="305741">On utilise pour cela la méthode <code data-claire-semantic="csharp">MessageBox.Show</code> qui affiche une petite boîte de dialogue minimaliste.<br/> Les lecteurs attentifs auront remarqué que j’ai enrichi le binding sur la <code data-claire-semantic="csharp">Valeur</code> en rajoutant un <code data-claire-semantic="csharp">Mode=TwoWay</code>. Ceci permet d’indiquer que le binding s’effectue dans les deux sens. C’est-à-dire que si je modifie la propriété de la classe de contexte, alors l’interface est mise à jour. Inversement, si je modifie la valeur de la <code data-claire-semantic="csharp">TextBox</code> avec le clavier virtuel, alors la propriété de la classe est également mise à jour.<br/> C’est à cela que va servir notre deuxième bouton. Démarrez l’application, modifiez la valeur du champ avec le clavier virtuel et cliquez sur le bouton permettant d’afficher la valeur :</p><figure id="r-305743" data-claire-element-id="305744"><img id="r-305742" data-claire-element-id="305742" src="medias/uploads.siteduzero.com_files_369001_370000_369507.png" alt="Image utilisateur"/></figure><p id="r-305745" data-claire-element-id="305745">La valeur est bien récupérée. Vous pouvez faire le test en enlevant le mode <code data-claire-semantic="csharp">TwoWay</code>, vous verrez que vous ne récupérerez pas la bonne valeur.<br/> Plutôt pas mal non ?</p><p id="r-305746" data-claire-element-id="305746">Maintenant que nous avons un peu mieux compris le principe du binding, il est temps de préciser un point important. Pour illustrer le fonctionnement du binding, j’ai créé une classe puis j’ai créé une variable à l’intérieur de cette classe contenant une instance de cette classe. Puis j’ai relié cette classe au contexte de données de la page. En général, on utilise ce découpage dans une application utilisant le patron de conception MVVM (<em>Model-View-ViewModel</em>). Je ne parlerai pas dans ce tutoriel de MVVM mais si le sujet vous intéresse, il existe plein de ressources sur le sujet sur internet.</p><p id="r-305747" data-claire-element-id="305747">Ce qu’il se fait souvent, c’est de faire en sorte que ce soit la classe de la page qui soit le contexte de données de la page. <br/> Cela veut dire qu’on peut modifier l’exemple précédent pour que ça soit la classe <code data-claire-semantic="csharp">MainPage</code> qui implémente l’interface <code data-claire-semantic="csharp">INotifyPropertyChanged</code>, ce qui donne :</p><pre id="r-305748" data-claire-element-id="305748"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    private string valeur;
    public string Valeur
    {
        get
        {
            return valeur;
        }
        set
        {
            if (value == valeur)
                return;
            valeur = value;
            NotifyPropertyChanged(&quot;Valeur&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();

        Valeur = &quot;Nicolas&quot;;
        DataContext = this;
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        if (Valeur == &quot;Nicolas&quot;)
            Valeur = &quot;Jérémie&quot;;
        else
            Valeur = &quot;Nicolas&quot;;
    }

    private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        MessageBox.Show(Valeur);
    }
}</code></pre><p id="r-305749" data-claire-element-id="305749">La classe <code data-claire-semantic="csharp">Contexte</code> n’a plus de raison d’être. Tout est porté par la classe représentant la page. On affecte donc l’objet <code data-claire-semantic="csharp">this</code> à la propriété <code data-claire-semantic="csharp">DataContext</code> de la page. Cette construction est peut-être un peu plus perturbante d’un point de vue architecture où on a tendance à mélanger les responsabilités dans la classe mais elle a l’avantage de simplifier pas mal le travail. Personnellement j’emploie très rarement ce genre de construction (j’utilise plutôt un dérivé de la première solution), mais je l’utiliserai de temps en temps dans ce tutoriel.</p><p id="r-305750" data-claire-element-id="305750">Le binding est encore plus puissant que ça, voyons encore un point intéressant. Il s’agit de la capacité de lier une propriété d’un contrôle à la propriété d’un autre contrôle.<br/> Par exemple, mettons une <code data-claire-semantic="csharp">ListBox</code> sur la page et un <code data-claire-semantic="csharp">TextBlock</code> :</p><pre id="r-305751" data-claire-element-id="305751"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
    &lt;Grid.ColumnDefinitions&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
        &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
    &lt;/Grid.ColumnDefinitions&gt;
    &lt;ListBox x:Name=&quot;listBoxPrenoms&quot; ItemsSource=&quot;{Binding Prenoms}&quot; /&gt;
    &lt;TextBlock Grid.Column=&quot;1&quot; Text=&quot;{Binding ElementName=listBoxPrenoms, Path=SelectedItem}&quot; Foreground=&quot;Red&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305752" data-claire-element-id="305752">Regardons l’expression de binding du <code data-claire-semantic="csharp">TextBlock</code>, nous indiquons que nous voulons lier la valeur du <code data-claire-semantic="csharp">TextBlock</code> à la propriété <code data-claire-semantic="csharp">SelectedItem</code> du contrôle nommé <code data-claire-semantic="csharp">listBoxPrenoms</code>. Ici cela voudra dire que lorsque nous sélectionnerons un élément dans la <code data-claire-semantic="csharp">ListBox</code>, alors celui-ci sera automatiquement affiché dans le <code data-claire-semantic="csharp">TextBlock</code>, sans avoir rien d’autre à faire :</p><figure id="r-305754" data-claire-element-id="305755"><img id="r-305753" data-claire-element-id="305753" src="medias/uploads.siteduzero.com_files_369001_370000_369508.png" alt="Image utilisateur"/></figure><p id="r-305756" data-claire-element-id="305756">Remarquez que nous avons directement lié la <code data-claire-semantic="csharp">ListBox</code> à une propriété de la classe, comme nous l’avons vu précédemment. Ce qui fait que le code behind sera :</p><pre id="r-305757" data-claire-element-id="305757"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    DataServiceCollection&lt;User&gt; collection;
    private List&lt;string&gt; prenoms;
    public List&lt;string&gt; Prenoms
    {
        get
        {
            return prenoms;
        }
        set
        {
            if (value == prenoms)
                return;
            prenoms = value;
            NotifyPropertyChanged(&quot;Prenoms&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();

        Prenoms = new List&lt;string&gt; { &quot;Nicolas&quot;, &quot;Jérémie&quot;, &quot;Delphine&quot; };
        DataContext = this;
    }
}</code></pre><p id="r-305758" data-claire-element-id="305758">Tout simplement. :D</p><p id="r-305759" data-claire-element-id="305759">Voilà pour cet aperçu du binding. Nous n’en avons pas vu toutes les subtilités mais ce que nous avons étudié ici vous sera grandement utile et bien souvent suffisant dans vos futures applications Silverlight pour Windows Phone !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">
<span class="arrow"></span>
<span class="next">Accéder aux données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
<span class="next">Binding et mode design</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Bindingetmodedesign"></a><h2>Binding et mode design</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
<span class="arrow"></span>
<span class="next">La liaison de données : le binding</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
<span class="next">Utiliser l&#039;ObservableCollection</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-binding-et-mode-design" data-claire-element-id="305819">Binding et mode design</h4><p id="r-305761" data-claire-element-id="305761">Vous vous rappelez notre <code data-claire-semantic="csharp">ListBox</code> quelques chapitres avant ? Nous avions créé une <code data-claire-semantic="csharp">ListBox</code> avec une liste de choses à faire. Cette liste de choses à faire était alimentée par la propriété <code data-claire-semantic="csharp">ItemsSource</code> dans le constructeur de la page. Le problème c’est que notre <code data-claire-semantic="csharp">ListBox</code> était vide en mode design. Du coup, pas facile pour faire du style, pour mette d’autres contrôles, etc. :( <br/> Le binding va nous permettre de résoudre ce problème. Prenons le code XAML suivant :</p><pre id="r-305762" data-claire-element-id="305762"><code data-claire-semantic="xml">&lt;ListBox ItemsSource=&quot;{Binding ListeDesTaches}&quot; &gt;
    &lt;ListBox.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
                &lt;Image Source=&quot;{Binding Image}&quot; Width=&quot;30&quot; Height=&quot;30&quot; /&gt;
                &lt;TextBlock Text=&quot;{Binding Description}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
            &lt;/StackPanel&gt;
        &lt;/DataTemplate&gt;
    &lt;/ListBox.ItemTemplate&gt;
&lt;/ListBox&gt;</code></pre><p id="r-305763" data-claire-element-id="305763">Avec dans le code behind :</p><pre id="r-305764" data-claire-element-id="305764"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    private IEnumerable&lt;ElementAFaireBinding&gt; listeDesTaches;
    public IEnumerable&lt;ElementAFaireBinding&gt; ListeDesTaches
    {
        get
        {
            return listeDesTaches;
        }
        set
        {
            if (value == listeDesTaches)
                return;
            listeDesTaches = value;
            NotifyPropertyChanged(&quot;ListeDesTaches&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();

        List&lt;ElementAFaire&gt; chosesAFaire = new List&lt;ElementAFaire&gt;
            {
                new ElementAFaire { Priorite = 1, Description = &quot;Arroser les plantes&quot;},
                new ElementAFaire { Priorite = 2, Description = &quot;Tondre le gazon&quot;},
                new ElementAFaire { Priorite = 1, Description = &quot;Planter les tomates&quot;},
                new ElementAFaire { Priorite = 3, Description = &quot;Laver la voiture&quot;},
            };

        ListeDesTaches = chosesAFaire.OrderBy(e =&gt; e.Priorite).Select(e =&gt; new ElementAFaireBinding { Description = e.Description, Image = ObtientImage(e.Priorite) });

        DataContext = this;
    }

    private BitmapImage ObtientImage(int priorite)
    {
        if (priorite &lt;= 1)
            return new BitmapImage(new Uri(&quot;/Images/vert.png&quot;, UriKind.Relative));
        return new BitmapImage(new Uri(&quot;/Images/rouge.png&quot;, UriKind.Relative));
    }
}

public class ElementAFaire
{
    public int Priorite { get; set; }
    public string Description { get; set; }
}
public class ElementAFaireBinding
{
    public BitmapImage Image { get; set; }
    public string Description { get; set; }
}</code></pre><p id="r-305765" data-claire-element-id="305765">Pour l’instant, rien n’a changé, la <code data-claire-semantic="csharp">ListBox</code> est toujours vide en mode design. Sauf que nous avons également la possibilité de lier le mode design à un contexte de design. Créons donc une nouvelle classe :</p><pre id="r-305766" data-claire-element-id="305766"><code data-claire-semantic="csharp">public class MainPageDesign
{
    public IEnumerable&lt;ElementAFaireBinding&gt; ListeDesTaches
    {
        get
        {
            return new List&lt;ElementAFaireBinding&gt;
            {
                new ElementAFaireBinding { Image = new BitmapImage(new Uri(&quot;/Images/vert.png&quot;, UriKind.Relative)), Description = &quot;Arroser les plantes&quot;},
                new ElementAFaireBinding { Image = new BitmapImage(new Uri(&quot;/Images/rouge.png&quot;, UriKind.Relative)), Description = &quot;Tondre le gazon&quot;},
                new ElementAFaireBinding { Image = new BitmapImage(new Uri(&quot;/Images/rouge.png&quot;, UriKind.Relative)), Description = &quot;Planter les tomates&quot;},
                new ElementAFaireBinding { Image = new BitmapImage(new Uri(&quot;/Images/vert.png&quot;, UriKind.Relative)), Description = &quot;Laver la voiture&quot;},
            }; ;
        }
    }
}</code></pre><p id="r-305767" data-claire-element-id="305767">Cette classe ne fait que renvoyer une propriété <code data-claire-semantic="csharp">ListeDesTaches</code> avec des valeurs de design. Compilez et rajoutez maintenant dans le XAML l’instruction suivante avant le conteneur de plus haut niveau :</p><pre id="r-305768" data-claire-element-id="305768"><code data-claire-semantic="xml">&lt;d:DesignProperties.DataContext&gt;
    &lt;design:MainPageDesign /&gt;
&lt;/d:DesignProperties.DataContext&gt;</code></pre><p id="r-305769" data-claire-element-id="305769">Ceci permet de dire que le contexte de design est à aller chercher dans la page <code data-claire-semantic="csharp">MainPageDesign</code>. <br/> Attention, la classe <code data-claire-semantic="csharp">MainPageDesign</code> n’est pas connue de la page ! Il faut lui indiquer où elle se trouve, en indiquant son espace de nom, un peu comme un <code data-claire-semantic="csharp">using</code> C#. Cette propriété se rajoute dans les propriétés de la page, <code data-claire-semantic="xml">&lt;phone:PhoneApplicationPage&gt;</code> :</p><pre id="r-305770" data-claire-element-id="305770"><code data-claire-semantic="xml">xmlns:design=&quot;clr-namespace:HelloWorld&quot;</code></pre><p id="r-305771" data-claire-element-id="305771">Avec cette écriture, je lui dis que le raccourci « design » correspond à l’espace de nom <code data-claire-semantic="csharp">HelloWorld</code>.</p><p id="r-305772" data-claire-element-id="305772">Nous commençons à voir apparaître des choses dans le designer de Visual Studio :</p><figure id="r-305774" data-claire-element-id="305775"><img id="r-305773" data-claire-element-id="305773" src="medias/uploads.siteduzero.com_files_369001_370000_369510.png" alt="Image utilisateur"/></figure><p id="r-305776" data-claire-element-id="305776">Sauf qu’il manque les images ! C’est un bug gênant de l’éditeur avec ce genre d’image. Par contre, cela fonctionne très bien dans Blend :</p><figure id="r-305778" data-claire-element-id="305779"><img id="r-305777" data-claire-element-id="305777" src="medias/uploads.siteduzero.com_files_369001_370000_369512.png" alt="Image utilisateur"/></figure><p id="r-305780" data-claire-element-id="305780">Avouez que c’est du coup beaucoup de plus pratique pour réaliser le design de sa page. :)</p><aside id="r-305782" data-claire-element-id="305782" data-claire-semantic="information"><p id="r-305781" data-claire-element-id="305781">Dans la mesure où le contexte de la page et le contexte de design doivent contenir des propriétés communes, c’est une bonne idée de faire en sorte qu’ils implémentent tous les deux une interface qui contienne les propriétés à implémenter des deux côtés…</p></aside><p id="r-305783" data-claire-element-id="305783">Avant de terminer, il faut savoir que Blend est également capable de nous générer des données de design sans que l'on ait forcément besoin de créer une classe spécifique. Pour illustrer ceci, repartez d’une nouvelle page vide. Puis ouvrez la page dans Expression Blend.<br/> Cliquez sur l’onglet « données », puis sur l’icône tout à droite « créer des exemples de données » :</p><figure id="r-305785" data-claire-element-id="305786"><img id="r-305784" data-claire-element-id="305784" src="medias/uploads.siteduzero.com_files_370001_371000_370796.png" alt="Image utilisateur"/></figure><p id="r-305787" data-claire-element-id="305787">Cliquez sur « nouvel exemple de données » dans le menu proposé.<br/> Indiquez un nom pour la source de données et choisissez de la définir dans ce document uniquement :</p><figure id="r-305789" data-claire-element-id="305790"><img id="r-305788" data-claire-element-id="305788" src="medias/uploads.siteduzero.com_files_370001_371000_370797.png" alt="Image utilisateur"/></figure><p id="r-305791" data-claire-element-id="305791">Nous obtenons notre source de données :</p><figure id="r-305793" data-claire-element-id="305794"><img id="r-305792" data-claire-element-id="305792" src="medias/uploads.siteduzero.com_files_370001_371000_370798.png" alt="Image utilisateur"/></figure><p id="r-305795" data-claire-element-id="305795">composée d’une collection d’objets contenant 2 propriétés. Property1 est de type chaine de caractères et Property2 est de type booléen (on peut le voir en cliquant sur les petits boutons à droite).<br/> Renommez la première en Description et la seconde en Image, puis cliquez sur l’icône à droite pour changer le type de la propriété :</p><figure id="r-305797" data-claire-element-id="305798"><img id="r-305796" data-claire-element-id="305796" src="medias/uploads.siteduzero.com_files_370001_371000_370799.png" alt="Image utilisateur"/></figure><p id="r-305799" data-claire-element-id="305799">Et choisissez le type Image :</p><figure id="r-305801" data-claire-element-id="305802"><img id="r-305800" data-claire-element-id="305800" src="medias/uploads.siteduzero.com_files_370001_371000_370800.png" alt="Image utilisateur"/></figure><p id="r-305803" data-claire-element-id="305803">Nous avons créé ici un jeu de données, stockées sous la forme d’un fichier XAML.<br/> Il est possible de modifier les données en cliquant sur le bouton « modifier les exemples de valeurs » :</p><figure id="r-305805" data-claire-element-id="305806"><img id="r-305804" data-claire-element-id="305804" src="medias/uploads.siteduzero.com_files_370001_371000_370801.png" alt="Image utilisateur"/></figure><p id="r-305807" data-claire-element-id="305807">Nous obtenons une fenêtre de ce style :</p><figure id="r-305809" data-claire-element-id="305810"><img id="r-305808" data-claire-element-id="305808" src="medias/uploads.siteduzero.com_files_370001_371000_370802.png" alt="Image utilisateur"/></figure><p id="r-305811" data-claire-element-id="305811">où on peut mettre nos propres valeurs. Ici, j’ai mis des images à la main, mais il est également possible d’indiquer un répertoire pour sélectionner les images.<br/> Maintenant, il est temps d’utiliser nos données. Sélectionnez la collection et faites-la glisser dans la fenêtre de design :</p><figure id="r-305813" data-claire-element-id="305814"><img id="r-305812" data-claire-element-id="305812" src="medias/uploads.siteduzero.com_files_370001_371000_370803.png" alt="Image utilisateur"/></figure><p id="r-305815" data-claire-element-id="305815">Il vous crée automatiquement une ListBox avec les nouvelles données de la source de données :</p><figure id="r-305817" data-claire-element-id="305818"><img id="r-305816" data-claire-element-id="305816" src="medias/uploads.siteduzero.com_files_370001_371000_370804.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
<span class="arrow"></span>
<span class="next">La liaison de données : le binding</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
<span class="next">Utiliser l&#039;ObservableCollection</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserl039ObservableCollection"></a><h2>Utiliser l&#039;ObservableCollection</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
<span class="arrow"></span>
<span class="next">Binding et mode design</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
<span class="next">Les converters</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305820" data-claire-element-id="305820">Avant de terminer sur la liaison de données, reprenons un exemple simplifié de notre liste de taches. Avec le XAML suivant :</p><pre id="r-305821" data-claire-element-id="305821"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
        &lt;RowDefinition Height=&quot;100&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;ListBox ItemsSource=&quot;{Binding ListeDesTaches}&quot; &gt;
        &lt;ListBox.ItemTemplate&gt;
            &lt;DataTemplate&gt;
                &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
                    &lt;TextBlock Text=&quot;{Binding Priorite}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
                    &lt;TextBlock Text=&quot;{Binding Description}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
                &lt;/StackPanel&gt;
            &lt;/DataTemplate&gt;
        &lt;/ListBox.ItemTemplate&gt;
    &lt;/ListBox&gt;
    &lt;Button Content=&quot;Ajouter un élément&quot; Click=&quot;Button_Click&quot; Grid.Row=&quot;1&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305822" data-claire-element-id="305822">Où nous affichons notre liste des tâches avec la valeur de la priorité et la description. Nous disposons également d’un bouton en bas pour rajouter un nouvel élément.<br/> Le code behind sera :</p><pre id="r-305823" data-claire-element-id="305823"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    private List&lt;ElementAFaire&gt; listeDesTaches;
    public List&lt;ElementAFaire&gt; ListeDesTaches
    {
        get
        {
            return listeDesTaches;
        }
        set
        {
            if (value == listeDesTaches)
                return;
            listeDesTaches = value;
            NotifyPropertyChanged(&quot;ListeDesTaches&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();

        List&lt;ElementAFaire&gt; chosesAFaire = new List&lt;ElementAFaire&gt;
        {
            new ElementAFaire { Priorite = 1, Description = &quot;Arroser les plantes&quot;},
            new ElementAFaire { Priorite = 2, Description = &quot;Tondre le gazon&quot;},
            new ElementAFaire { Priorite = 1, Description = &quot;Planter les tomates&quot;},
            new ElementAFaire { Priorite = 3, Description = &quot;Laver la voiture&quot;},
        };

        ListeDesTaches = chosesAFaire.OrderBy(e =&gt; e.Priorite).ToList();

        DataContext = this;
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        ListeDesTaches.Add(new ElementAFaire { Priorite = 1, Description = &quot;Faire marcher ce binding !&quot; });
    }
}

public class ElementAFaire
{
    public int Priorite { get; set; }
    public string Description { get; set; }
}</code></pre><p id="r-305824" data-claire-element-id="305824">La différence avant la version précédente est que nous utilisons une <code data-claire-semantic="csharp">List&lt;ElementAFaire&gt;</code> comme type d’objet lié à la source de données de la <code data-claire-semantic="csharp">ListBox</code>. Nous pouvons également voir que dans l’événement de clic sur le bouton, nous ajoutons un nouvel élément à la liste des taches, en utilisant la méthode <code data-claire-semantic="csharp">Add()</code> de la classe <code data-claire-semantic="csharp">List&lt;&gt;</code>.<br/> Si nous exécutons notre application et que nous cliquons sur le bouton, un élément est rajouté à la liste, sauf que rien n’est visible dans notre <code data-claire-semantic="csharp">ListBox</code>. Problème !</p><p id="r-305825" data-claire-element-id="305825">Ah oui, c’est vrai, nous n’avons pas informé la page que la <code data-claire-semantic="csharp">ListBox</code> devait se mettre à jour. Pour ce faire, il faudrait modifier l’événement de clic sur le bouton de cette façon :</p><pre id="r-305826" data-claire-element-id="305826"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    List&lt;ElementAFaire&gt; nouvelleListe = new List&lt;ElementAFaire&gt;(ListeDesTaches);
    nouvelleListe.Add(new ElementAFaire { Priorite = 1, Description = &quot;Faire marcher ce binding !&quot; });
    ListeDesTaches = nouvelleListe;
}</code></pre><p id="r-305827" data-claire-element-id="305827">C’est-à-dire créer une copie de la liste, ajouter un nouvel élément et affecter cette nouvelle liste à la propriété <code data-claire-semantic="csharp">ListDesTaches</code>. Ce qui devient peu naturel …</p><p id="r-305828" data-claire-element-id="305828">C’est parce que la liste n’implémente pas <a href="http://msdn.microsoft.com/fr-fr/library/system.collections.specialized.inotifycollectionchanged.aspx">INotifyCollectionChanged</a> qui permet d’envoyer des évènements sur l’ajout ou la suppression d’un élément dans une liste. Heureusement il existe une autre classe dans le framework .NET qui implémente déjà ce comportement, il s’agit <a href="http://msdn.microsoft.com/fr-fr/library/ms668604.aspx">de la classe ObservableCollection</a>. Il s’agit d’une liste évoluée prenant en charge les mécanismes de notification automatiquement lorsque nous faisons un ajout à la collection, lorsque nous supprimons un élément, etc … Changeons donc le type de notre propriété de liaison :</p><pre id="r-305829" data-claire-element-id="305829"><code data-claire-semantic="csharp">private ObservableCollection&lt;ElementAFaire&gt; listeDesTaches;
public ObservableCollection&lt;ElementAFaire&gt; ListeDesTaches
{
    get
    {
        return listeDesTaches;
    }
    set
    {
        if (value == listeDesTaches)
            return;
        listeDesTaches = value;
        NotifyPropertyChanged(&quot;ListeDesTaches&quot;);
    }
}</code></pre><p id="r-305830" data-claire-element-id="305830">Dans le constructeur, il faudra changer l’initialisation de la liste :</p><pre id="r-305831" data-claire-element-id="305831"><code data-claire-semantic="csharp">ListeDesTaches = new ObservableCollection&lt;ElementAFaire&gt;(chosesAFaire.OrderBy(e =&gt; e.Priorite));</code></pre><p id="r-305832" data-claire-element-id="305832">Et désormais, lors du click, il suffira de faire :</p><pre id="r-305833" data-claire-element-id="305833"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    ListeDesTaches.Add(new ElementAFaire { Priorite = 1, Description = &quot;Faire marcher ce binding !&quot; });
}</code></pre><p id="r-305834" data-claire-element-id="305834">Ce qui est quand même beaucoup plus simple.<br/> Plutôt pratique cette <code data-claire-semantic="csharp">ObservableCollection</code>. Elle nous simplifie énormément la tâche lorsqu’il s’agit de faire des opérations sur une collection et qu’un contrôle doit être notifié de ce changement. C’est le complément idéal pour toute ListBox qui se respecte. De plus, avec l'<code data-claire-semantic="csharp">ObservableCollection</code>, notre <code data-claire-semantic="csharp">ListBox</code> ne s'est pas complètement rafraîchit, elle a simplement ajouté un élément. Avec la méthode précédente, c'est toute la liste qui se met à jour d'un coup, ce qui pénalise un peu les performances.</p><p id="r-305835" data-claire-element-id="305835">Alors pourquoi je ne l’ai pas utilisé avant ? Parce que je considère qu’il est important de comprendre ce que l’on a fait. Le binding fonctionne avec tout ce qui est énumérable, comme la <code data-claire-semantic="csharp">List&lt;&gt;</code> ou n’importe quoi implémentant <code data-claire-semantic="csharp">IEnumerable&lt;&gt;</code>. C’est ce que j’ai illustré au début du chapitre. Lorsqu’on a besoin uniquement de remplir un contrôle et qu’il ne va pas se mettre à jour, ou pas directement, utiliser une liste ou un <code data-claire-semantic="csharp">IEnumerable</code> est le plus simple et le plus performant. Cela permet également de ne pas avoir besoin d’instancier une <code data-claire-semantic="csharp">ObservableCollection</code>.<br/> Si bien sûr, il y a beaucoup d’opération sur la liste, suppression, mise à jour, ajout, … il sera beaucoup plus pertinent d’utiliser une <code data-claire-semantic="csharp">ObservableCollection</code>. Mais il faut faire attention à l’utiliser correctement…<br/> Imaginons par exemple que je veuille mettre à jour toutes mes priorités, comme je suis en avance, je rajoute un bouton me permettant d’augmenter la priorité de 1 pour chaque élément :</p><pre id="r-305836" data-claire-element-id="305836"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
        &lt;RowDefinition Height=&quot;150&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;ListBox ItemsSource=&quot;{Binding ListeDesTaches}&quot; &gt;
        &lt;ListBox.ItemTemplate&gt;
            &lt;DataTemplate&gt;
                &lt;StackPanel Orientation=&quot;Horizontal&quot;&gt;
                    &lt;TextBlock Text=&quot;{Binding Priorite}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
                    &lt;TextBlock Text=&quot;{Binding Description}&quot; Margin=&quot;20 0 0 0&quot; /&gt;
                &lt;/StackPanel&gt;
            &lt;/DataTemplate&gt;
        &lt;/ListBox.ItemTemplate&gt;
    &lt;/ListBox&gt;
    &lt;StackPanel Grid.Row=&quot;1&quot;&gt;
        &lt;Button Content=&quot;Ajouter un élément&quot; Click=&quot;Button_Click&quot; /&gt;
        &lt;Button Content=&quot;Augmenter les priorités&quot; Click=&quot;Button_Click_1&quot; /&gt;
    &lt;/StackPanel&gt;
&lt;/Grid&gt;</code></pre><p id="r-305837" data-claire-element-id="305837">Et dans la méthode du clic, je peux faire :</p><pre id="r-305838" data-claire-element-id="305838"><code data-claire-semantic="csharp">private void Button_Click_1(object sender, RoutedEventArgs e)
{
    foreach (ElementAFaire element in ListeDesTaches)
    {
        element.Priorite++;
    }
}</code></pre><p id="r-305839" data-claire-element-id="305839">Sauf qu’après un clic sur notre bouton, on se rend compte que l’<code data-claire-semantic="csharp">ObservableCollection</code> est mise à jour mais pas la <code data-claire-semantic="csharp">ListBox</code> … Aarrrgghhhh ! Alors que notre <code data-claire-semantic="csharp">ObservableCollection</code> était censée résoudre tous nos problèmes de notification …</p><p id="r-305840" data-claire-element-id="305840">C’est là où il est important d’avoir compris ce qu’on faisait réellement … <br/> Ici, ce n’est pas la collection que l’on a modifiée (pas d’ajout, pas de suppression, …), mais bien l’objet contenu dans la collection. Il doit donc implémenter <code data-claire-semantic="csharp">INotifyPropertyChanged</code>, ce qui donne :</p><pre id="r-305841" data-claire-element-id="305841"><code data-claire-semantic="csharp">public class ElementAFaire : INotifyPropertyChanged
{
    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    private int priorite;
    public int Priorite 
    {
        get
        {
            return priorite;
        }
        set
        {
            if (priorite == value)
                return;
            priorite = value;
            NotifyPropertyChanged(&quot;Priorite&quot;);
        }
    }
    public string Description { get; set; }
}</code></pre><p id="r-305842" data-claire-element-id="305842">Il faut également notifier du changement lors de l’accès à la propriété <code data-claire-semantic="csharp">Priorite</code>. En toute logique, il faudrait également le faire sur la propriété <code data-claire-semantic="csharp">Description</code>, mais vu que nous ne nous en servons pas ici, je vous fais grâce de ce changement.</p><figure id="r-305844" data-claire-element-id="305845"><img id="r-305843" data-claire-element-id="305843" src="medias/uploads.siteduzero.com_files_371001_372000_371266.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
<span class="arrow"></span>
<span class="next">Binding et mode design</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
<span class="next">Les converters</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesconverters"></a><h2>Les converters</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
<span class="arrow"></span>
<span class="next">Utiliser l&#039;ObservableCollection</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
<span class="next">Appeler un service web</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-305847" data-claire-element-id="305847">Parfois, lorsque nous faisons des liaisons de données, la source de données ne correspond pas exactement à ce que nous souhaitons afficher ; la preuve juste au-dessus. Nous voulions afficher une image dans une <code data-claire-semantic="csharp">ListBox</code> mais nous n’avions à notre disposition qu’un chiffre représentant une priorité. Pour y remédier, nous avions construit un objet spécial avec directement les bonnes valeurs via la classe <code data-claire-semantic="csharp">ElementAFaireBinding</code> :</p><pre id="r-305848" data-claire-element-id="305848"><code data-claire-semantic="csharp">List&lt;ElementAFaire&gt; chosesAFaire = new List&lt;ElementAFaire&gt;
{
    new ElementAFaire { Priorite = 1, Description = &quot;Arroser les plantes&quot;},
    new ElementAFaire { Priorite = 2, Description = &quot;Tondre le gazon&quot;},
    new ElementAFaire { Priorite = 1, Description = &quot;Planter les tomates&quot;},
    new ElementAFaire { Priorite = 3, Description = &quot;Laver la voiture&quot;},
};

listeDesTaches.ItemsSource = chosesAFaire.OrderBy(e =&gt; e.Priorite).Select(e =&gt; new ElementAFaireBinding { Description = e.Description, Image = ObtientImage(e.Priorite) });</code></pre><p id="r-305849" data-claire-element-id="305849">C’est une bonne façon de faire mais il existe une autre solution qui consiste à appliquer un convertisseur lors de la liaison de données. Appelés « converters » en anglais, ils font en sorte de transformer une donnée en une autre, adaptée à ce que l’on souhaite lier.</p><p id="r-305850" data-claire-element-id="305850">Un exemple sera plus clair qu’un long discours. Prenons par exemple le cas où l’on souhaite masquer une zone de l’écran en fonction d’une valeur. L’affichage / masquage d’un contrôle, c’est le rôle de la propriété <code data-claire-semantic="csharp">Visibility</code> qui a la valeur <code data-claire-semantic="csharp">Visible</code> par défaut ; pour être invisible, il faut que la valeur soit à <code data-claire-semantic="csharp">Collapsed</code> :</p><pre id="r-305851" data-claire-element-id="305851"><code data-claire-semantic="xml">&lt;StackPanel&gt;
    &lt;TextBlock Text=&quot;Je suis visible&quot; Visibility=&quot;Collapsed&quot; /&gt;
    &lt;Button Content=&quot;Masquer/Afficher&quot; Click=&quot;Button_Click&quot; /&gt;
&lt;/StackPanel&gt;</code></pre><p id="r-305852" data-claire-element-id="305852">Ces deux valeurs font partie d’une énumération <a href="http://msdn.microsoft.com/fr-fr/library/system.windows.uielement.visibility(v=vs.95).aspx"><code data-claire-semantic="xml">Visibility</code></a>.<br/> Sauf que pour nous, il est beaucoup plus logique de travailler avec un booléen : s’il est vrai, le contrôle est visible, sinon il est invisible.</p><p id="r-305853" data-claire-element-id="305853">C’est là que va servir le <code data-claire-semantic="csharp">converter</code>, il va permettre de transformer <code data-claire-semantic="csharp">true</code> en <code data-claire-semantic="csharp">Visible</code> et <code data-claire-semantic="csharp">false</code> en <code data-claire-semantic="csharp">Collapsed</code>. Pour créer un tel converter, nous allons ajouter une nouvelle classe : <code data-claire-semantic="csharp">VisibilityConverter</code>. Cette classe doit implémenter l’interface <code data-claire-semantic="csharp">IValueConverter</code> qui force à implémenter une méthode de conversion de <code data-claire-semantic="csharp">bool</code> vers <code data-claire-semantic="csharp">Visibility</code> et inversement une méthode qui transforme <code data-claire-semantic="csharp">Visibility</code> en <code data-claire-semantic="csharp">bool</code>. Voici donc une telle classe :</p><pre id="r-305854" data-claire-element-id="305854"><code data-claire-semantic="csharp">public class VisibilityConverter : IValueConverter
{
    public object Convert(object value, Type targetType, object parameter, CultureInfo culture)
    {
        return (bool)value ? Visibility.Visible : Visibility.Collapsed;
    }

    public object ConvertBack(object value, Type targetType, object parameter, CultureInfo culture)
    {
        Visibility visibility = (Visibility)value;
        return (visibility == Visibility.Visible);
    }
}</code></pre><p id="r-305855" data-claire-element-id="305855">Le code n’est pas très compliqué. La seule chose peut-être nouvelle pour certains est l’utilisation de l’opérateur ternaire ?. L’écriture suivante :</p><pre id="r-305856" data-claire-element-id="305856"><code data-claire-semantic="csharp">Visibility v = visibility ? Visibility.Visible : Visibility.Collapsed;</code></pre><p id="r-305857" data-claire-element-id="305857">Permet de remplacer :</p><pre id="r-305858" data-claire-element-id="305858"><code data-claire-semantic="csharp">Visibility v;
if (visibility)
    v = Visibility.Visible;
else 
    v = Visibility.Collapsed;</code></pre><p id="r-305859" data-claire-element-id="305859">Il évalue le booléen (ou la condition) à gauche du point d’interrogation. Si le résultat est vrai, alors il prend le premier opérande, sinon il prend le second, situé après les deux points.</p><p id="r-305860" data-claire-element-id="305860">Bref, une fois ceci fait, il va falloir déclarer le converter dans notre page XAML. Cela se fait dans les ressources et ici, je le mets dans les ressources de la page :</p><pre id="r-305861" data-claire-element-id="305861"><code data-claire-semantic="xml">&lt;phone:PhoneApplicationPage.Resources&gt;
    &lt;converter:VisibilityConverter x:Key=&quot;VisibilityConverter&quot; /&gt;
&lt;/phone:PhoneApplicationPage.Resources&gt;</code></pre><p id="r-305862" data-claire-element-id="305862">Ce code doit être présent au même niveau que le conteneur de base de la page, c’est-à-dire à l’intérieur de la balise <code data-claire-semantic="xml">&lt;phone:PhoneApplicationPage&gt;</code>.</p><p id="r-305863" data-claire-element-id="305863">Attention, la classe <code data-claire-semantic="csharp">converter</code> n’est pas connue de la page, il faut ajouter un espace de nom dans les propriétés de la page. : <code data-claire-semantic="csharp">xmlns:converter=&quot;clr-namespace:HelloWorld&quot;</code></p><p id="r-305864" data-claire-element-id="305864">Il ne reste plus qu’à créer une propriété pour le binding dans notre classe :</p><pre id="r-305865" data-claire-element-id="305865"><code data-claire-semantic="csharp">private bool textBlockVisible;
public bool TextBlockVisible
{
    get
    {
        return textBlockVisible;
    }
    set
    {
        if (value == textBlockVisible)
            return;
        textBlockVisible = value;
        NotifyPropertyChanged(&quot;TextBlockVisible&quot;);
    }
}</code></pre><p id="r-305866" data-claire-element-id="305866">Et à modifier sa valeur dans l’événement de clic sur le bouton :</p><pre id="r-305867" data-claire-element-id="305867"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    TextBlockVisible = !TextBlockVisible;
}</code></pre><p id="r-305868" data-claire-element-id="305868">Maintenant, nous devons indiquer le binding dans le XAML et que nous souhaitons utiliser un converter, cela se fait avec :</p><pre id="r-305869" data-claire-element-id="305869"><code data-claire-semantic="xml">&lt;TextBlock Text=&quot;Je suis visible&quot; Visibility=&quot;{Binding TextBlockVisible,Converter={StaticResource VisibilityConverter}}&quot; /&gt;</code></pre><p id="r-305870" data-claire-element-id="305870">Nous lui indiquons ici que le converter est accessible en ressources par son nom : <code data-claire-semantic="csharp">VisibilityConverter</code>.</p><p id="r-305871" data-claire-element-id="305871">N’oublions pas de donner la valeur initiale du booléen, par exemple dans le constructeur :</p><pre id="r-305872" data-claire-element-id="305872"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();
    TextBlockVisible = false;
    DataContext = this;
}</code></pre><p id="r-305873" data-claire-element-id="305873">Et voilà, le fait de changer la valeur du booléen influe bien sur la visibilité du contrôle :</p><figure id="r-305875" data-claire-element-id="305876"><img id="r-305874" data-claire-element-id="305874" src="medias/uploads.siteduzero.com_files_369001_370000_369513.png" alt="Image utilisateur"/></figure><p id="r-305877" data-claire-element-id="305877">Il est assez courant d’écrire des converters pour se simplifier la tâche, par contre cela rajoute un temps de traitement qui en fonction des cas peut être important. Si c’est possible, préférez les cas où la donnée est correctement préparée dès le début, pensez que les smartphones n’ont pas autant de puissance que votre machine de développement…</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
<span class="arrow"></span>
<span class="next">Utiliser l&#039;ObservableCollection</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
<span class="next">Appeler un service web</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Appelerunserviceweb"></a><h2>Appeler un service web</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
<span class="arrow"></span>
<span class="next">Les converters</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
<span class="next">L’isolated storage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-appeler-un-service-web" data-claire-element-id="305958">Appeler un service web</h4><p id="r-305879" data-claire-element-id="305879">Dans une application pour mobile, il y a souvent beaucoup d’occasions pour récupérer des informations disponibles sur internet, notamment avec la présence de plus en plus importante du cloud.<br/> Récupérer des données sur internet consiste généralement en trois choses :</p><ul id="r-305886" data-claire-element-id="305886"><li id="r-305881" data-claire-element-id="305881"><p id="r-305880" data-claire-element-id="305880">Demander la récupération de données.</p></li><li id="r-305883" data-claire-element-id="305883"><p id="r-305882" data-claire-element-id="305882">Attendre la fin du téléchargement.</p></li><li id="r-305885" data-claire-element-id="305885"><p id="r-305884" data-claire-element-id="305884">Interpréter ces données.</p></li></ul><p id="r-305887" data-claire-element-id="305887">La récupération de données est obligatoirement asynchrone pour éviter de bloquer l’application et garder une interface fonctionnelle. Cela veut dire qu’on va lancer le téléchargement et être notifié de la fin par un événement. C’est à ce moment-là que l’on pourra interpréter les données. Il y a plusieurs façons de faire des appels, la première est d’utiliser les classes <a href="http://msdn.microsoft.com/fr-fr/library/system.net.webclient.aspx">WebClient</a> et <a href="http://msdn.microsoft.com/fr-fr/library/system.net.httpwebrequest.aspx">HttpWebRequest</a>.</p><p id="r-305888" data-claire-element-id="305888">Si vous avez simplement besoin de récupérer une chaine (ou du XML brut) le plus simple est d’utiliser la classe <code data-claire-semantic="csharp">WebClient</code>. Par exemple, le site internet <a href="http://www.whatismyip.fr/raw/">http://www.whatismyip.fr/raw/</a> renvoie l’adresse ip sous forme de chaine. Pour y accéder, nous pouvons écrire le code suivant :</p><pre id="r-305889" data-claire-element-id="305889"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();

    WebClient client = new WebClient();
    client.DownloadStringCompleted += client_DownloadStringCompleted;
    client.DownloadStringAsync(new Uri(&quot;http://www.whatismyip.fr/raw/&quot;));
}

private void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
{
    if (e.Error == null)
    {
        string ip = e.Result;
        MessageBox.Show(ip);
    }
}</code></pre><p id="r-305890" data-claire-element-id="305890">Ce qui donne :</p><figure id="r-305892" data-claire-element-id="305893"><img id="r-305891" data-claire-element-id="305891" src="medias/uploads.siteduzero.com_files_369001_370000_369515.png" alt="Image utilisateur"/></figure><p id="r-305894" data-claire-element-id="305894">Le principe est de s’abonner à l’événement de fin de téléchargement, de déclencher le téléchargement asynchrone et de récupérer le résultat. Ici, il n’y a pas de traitement à faire pour interpréter les données, vu que nous souhaitons afficher directement la chaine récupérée.</p><p id="r-305895" data-claire-element-id="305895">La méthode <code data-claire-semantic="csharp">DownloadStringAsync</code> fonctionne très bien pour tout ce qui est texte brut. Si vous voulez télécharger des données binaires, vous pourrez utiliser la méthode <code data-claire-semantic="csharp">OpenReadAsync</code>.<br/> La classe <code data-claire-semantic="csharp">WebClient</code> est parfaite pour faire des téléchargements simples mais elle devient vite limitée lorsque nous devons faire des opérations plus pointues sur les requêtes, comme modifier les entêtes HTTP ou envoyer des données en POST, etc.<br/> C’est là que nous allons utiliser la classe <code data-claire-semantic="csharp">HttpWebRequest</code>. Elle offre un contrôle plus fin sur la requête web. Nous allons illustrer ceci en faisant une requête sur le formulaire PHP du cours PHP du Site du Zéro, disponible à cet emplacement : <a href="http://uploads.siteduzero.com/ftp/mateo21/php/form_text/formulaire.php">http://www.siteduzero.com/uploads/fr/ftp/mateo21/php/form_text/formulaire.php</a></p><p id="r-305896" data-claire-element-id="305896">Le principe est d’envoyer des données en POST, notamment la donnée : <code data-claire-semantic="xml">&quot;prenom=Nicolas&quot;</code></p><p id="r-305897" data-claire-element-id="305897">Le code est le suivant :</p><pre id="r-305898" data-claire-element-id="305898"><code data-claire-semantic="xml">&lt;TextBlock x:Name=&quot;resultat&quot; TextWrapping=&quot;Wrap&quot;/&gt;</code></pre><p id="r-305899" data-claire-element-id="305899">Avec le code behind qui suit :</p><pre id="r-305900" data-claire-element-id="305900"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();

    HttpWebRequest requete = (HttpWebRequest)HttpWebRequest.Create(&quot;http://www.siteduzero.com/uploads/fr/ftp/mateo21/php/form_text/cible.php&quot;);
    requete.Method = &quot;POST&quot;;
    requete.ContentType = &quot;application/x-www-form-urlencoded&quot;;

    requete.BeginGetRequestStream(DebutReponse, requete);
}

private void DebutReponse(IAsyncResult resultatAsynchrone)
{
    HttpWebRequest requete = (HttpWebRequest)resultatAsynchrone.AsyncState;
    Stream postStream = requete.EndGetRequestStream(resultatAsynchrone);
    string donneesAEnvoyer = &quot;prenom=Nicolas&quot;;

    byte[] tableau = Encoding.UTF8.GetBytes(donneesAEnvoyer);
    postStream.Write(tableau, 0, donneesAEnvoyer.Length);
    postStream.Close();
    requete.BeginGetResponse(FinReponse, requete);
}

private void FinReponse(IAsyncResult resultatAsynchrone)
{
    HttpWebRequest requete = (HttpWebRequest)resultatAsynchrone.AsyncState;
    WebResponse webResponse = requete.EndGetResponse(resultatAsynchrone);
    Stream stream = webResponse.GetResponseStream();

    StreamReader streamReader = new StreamReader(stream);
    string reponse = streamReader.ReadToEnd();
    stream.Close();
    streamReader.Close();
    webResponse.Close();

    Dispatcher.BeginInvoke(() =&gt; resultat.Text = reponse);
}</code></pre><p id="r-305901" data-claire-element-id="305901">Il peut paraitre un peu compliqué, mais c’est toujours le même pour faire ce genre de requête. On commence par créer la requête en lui indiquant la méthode POST. Ensuite dans la première méthode on écrit les données à envoyer dans le flux et on invoque la requête asynchrone. Dans la deuxième méthode, on récupère le retour.</p><figure id="r-305903" data-claire-element-id="305904"><img id="r-305902" data-claire-element-id="305902" src="medias/uploads.siteduzero.com_files_406001_407000_406394.png" alt="Image utilisateur"/></figure><p id="r-305905" data-claire-element-id="305905">Ici, le retour est du HTML, ce qui est normal vu que ce formulaire a été prévu pour une page web. Il aurait pu être judicieux d’interpréter le résultat, en retirant les balises HTML par exemple…</p><aside id="r-305907" data-claire-element-id="305907" data-claire-semantic="warning"><p id="r-305906" data-claire-element-id="305906">Attention, un téléchargement fait avec <code data-claire-semantic="csharp">HttpWebRequest</code> s’exécute sur un thread en arrière-plan, cela veut dire que si nous voulons mettre à jour l’interface, nous aurons besoin d’utiliser le dispatcher pour re-basculer sur le thread de l’interface.</p></aside><p id="r-305908" data-claire-element-id="305908">C’est ce que nous avons fait ici avec : <code data-claire-semantic="csharp">Dispatcher.BeginInvoke(() =&gt; resultat.Text = reponse);</code></p><p id="r-305909" data-claire-element-id="305909">Ce qui permet de mettre à jour la propriété <code data-claire-semantic="csharp">Text</code> du <code data-claire-semantic="csharp">TextBlock</code>.</p><aside id="r-305911" data-claire-element-id="305911" data-claire-semantic="information"><p id="r-305910" data-claire-element-id="305910">Remarquons que si nous utilisons la classe WebClient dans un thread différent de celui permettant de mettre à jour l'interface, le résultat sera aussi dans un thread différent, il faudra donc utiliser un dispatcher dans ce cas aussi.</p></aside><p id="r-305912" data-claire-element-id="305912">Nous pouvons également consommer facilement des services web avec Silverlight pour Windows Phone. <br/> Un service web est une espèce d’application web qui répond à des requêtes permettant d’appeler une méthode avec des paramètres et de recevoir en réponse le retour de la méthode.</p><div id="r-305914" data-claire-element-id="305914" data-claire-semantic="question"><p id="r-305913" data-claire-element-id="305913">Mais comment appeler un service web ? Quelle adresse ? Comment connait-on le nom des méthodes à appeler ? Comment indiquer les paramètres et les valeurs que l’on souhaite passer ?</p></div><p id="r-305915" data-claire-element-id="305915">Eh oui, il faut une syntaxe définie, sinon on peut faire ce que l’on veut. C’est là qu’interviennent les organismes de standardisation. Ils ont défini plusieurs normes permettant de décrire le format des échanges. C’est le cas par exemple du <a href="http://fr.wikipedia.org/wiki/SOAP">protocole SOAP</a> qui est basé sur du XML. Il est associé au <a href="http://fr.wikipedia.org/wiki/Web_Services_Description_Language">WSDL </a> qui permet de décrire le service web. Nous avons à notre disposition également les services web de type <a href="http://fr.wikipedia.org/wiki/Representational_State_Transfer">REST</a> qui exposent les fonctionnalités comme des URL.</p><p id="r-305916" data-claire-element-id="305916">Prenons par exemple les services web SOAP de Bing. Pour illustrer ce point, nous allons dans un premier temps avoir besoin de créer un compte développeur Bing, rendez-vous sur <a href="http://www.bing.com/toolbox/bingdeveloper/">http://www.bing.com/toolbox/bingdeveloper/</a>. Nous aurons besoin d’un compte Windows Live et de nous inscrire pour obtenir une clé appId :</p><figure id="r-305918" data-claire-element-id="305919"><img id="r-305917" data-claire-element-id="305917" src="medias/uploads.siteduzero.com_files_369001_370000_369517.png" alt="Image utilisateur"/></figure><p id="r-305920" data-claire-element-id="305920">Il faudra ensuite ajouter une nouvelle clé :</p><figure id="r-305922" data-claire-element-id="305923"><img id="r-305921" data-claire-element-id="305921" src="medias/uploads.siteduzero.com_files_369001_370000_369518.png" alt="Image utilisateur"/></figure><p id="r-305924" data-claire-element-id="305924">Remplissez ensuite le formulaire. Après avoir accepté, vous vous retrouverez avec un id d’application, que j’ai masqué ici :</p><figure id="r-305926" data-claire-element-id="305927"><img id="r-305925" data-claire-element-id="305925" src="medias/uploads.siteduzero.com_files_369001_370000_369519.png" alt="Image utilisateur"/></figure><p id="r-305928" data-claire-element-id="305928">Réalisons désormais une petite application qui fera office de traducteur, en nous servant de l’API de traduction de Bing.</p><p id="r-305929" data-claire-element-id="305929">Pour commencer, un XAML plutôt simple :</p><pre id="r-305930" data-claire-element-id="305930"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;RowDefinition Height=&quot;auto&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;TextBox x:Name=&quot;atraduire&quot; /&gt;
    &lt;Button Content=&quot;Traduire&quot; Click=&quot;Button_Click&quot; Grid.Row=&quot;1&quot; /&gt;
    &lt;TextBlock x:Name=&quot;resultat&quot; TextWrapping=&quot;Wrap&quot; Grid.Row=&quot;2&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-305931" data-claire-element-id="305931">Nous devons ensuite ajouter la référence web, pour cela faites un clic droit sur les références et ajoutez une référence de service :</p><figure id="r-305933" data-claire-element-id="305934"><img id="r-305932" data-claire-element-id="305932" src="medias/uploads.siteduzero.com_files_369001_370000_369521.png" alt="Image utilisateur"/></figure><p id="r-305935" data-claire-element-id="305935">Ensuite, comme indiqué ici <a href="http://msdn.microsoft.com/en-us/library/dd250965.aspx">http://msdn.microsoft.com/en-us/library/dd250965.aspx</a>, il faut saisir l’adresse <a href="http://api.bing.net/search.wsdl?AppID=MonAppId&amp;Version=2.2">http://api.bing.net/search.wsdl?AppID=MonAppId&amp;Version=2.2</a> :</p><figure id="r-305937" data-claire-element-id="305938"><img id="r-305936" data-claire-element-id="305936" src="medias/uploads.siteduzero.com_files_369001_370000_369522.png" alt="Image utilisateur"/></figure><p id="r-305939" data-claire-element-id="305939">Encore une fois, j’ai un peu masqué mon application ID. <br/> Une fois validé, Visual Studio nous génère un proxy en se basant sur le WSDL du service web. Ce proxy va s’occuper d’encapsuler tout la logique d’appel du web service pour nous simplifier la tâche. Nous pourrons alors simplement l’utiliser comme ceci :</p><pre id="r-305940" data-claire-element-id="305940"><code data-claire-semantic="csharp">private void Button_Click(object sender, RoutedEventArgs e)
{
    BingPortTypeClient client = new BingPortTypeClient();
    SearchRequest requete = new SearchRequest 
    { 
        AppId = &quot;votre app id&quot;, 
        Sources = new SourceType[] { SourceType.Translation },
        Translation = new TranslationRequest { SourceLanguage = &quot;fr&quot;, TargetLanguage = &quot;en&quot;},
        Query = atraduire.Text
    };
    client.SearchCompleted += client_SearchCompleted;
    client.SearchAsync(requete);
}

private void client_SearchCompleted(object sender, SearchCompletedEventArgs e)
{
    if (e.Error == null)
    {
        TranslationResult result = e.Result.Translation.Results.FirstOrDefault();
        resultat.Text = result.TranslatedTerm;
    }
}</code></pre><p id="r-305941" data-claire-element-id="305941">Remarquons que je passe le contenu de notre <code data-claire-semantic="csharp">TextBox</code> au service web. Ce qui donnera :</p><figure id="r-305943" data-claire-element-id="305944"><img id="r-305942" data-claire-element-id="305942" src="medias/uploads.siteduzero.com_files_369001_370000_369523.png" alt="Image utilisateur"/></figure><p id="r-305945" data-claire-element-id="305945">Parlons à présent un peu des services REST. Je ne présenterai pas comment faire un appel REST parce que vous savez déjà le faire :) , dans la mesure où il s’agit d’une simple requête HTTP. Par contre, ce qu’il est intéressant d’étudier ce sont les solutions pour interpréter le résultat d’un appel REST. De plus en plus, les services REST renvoient du <a href="http://fr.wikipedia.org/wiki/JavaScript_Object_Notation">JSON</a> car c’est un format de description de données beaucoup moins verbeux que le XML. <br/> .NET sait interpréter le JSON et le transformer en objet grâce à son <code data-claire-semantic="csharp"><a href="http://msdn.microsoft.com/fr-fr/library/system.runtime.serialization.json.datacontractjsonserializer.aspx">DataContractJsonSerializer</a></code>. Celui-ci souffre cependant de quelques limitations. On pourra le remplacer avec la bibliothèque open-source JSON.NET que l’on peut télécharger sur <a href="http://json.codeplex.com/releases/view/82120">codeplex</a>. Téléchargez la dernière version et référencez la dll dans votre projet, la version Windows Phone bien sûr.</p><p id="r-305946" data-claire-element-id="305946">Nous allons illustrer son fonctionnement à travers un appel REST à la recherche du moteur de recherche Google. Par exemple, si je veux chercher la chaine « siteduzero » sur Google, je pourrai utiliser le web service REST suivant : <a href="http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=siteduzero">http://ajax.googleapis.com/ajax/servic [...] &amp;q=siteduzero</a></p><p id="r-305947" data-claire-element-id="305947">Qui me renverra quelque chose comme :</p><pre id="r-305948" data-claire-element-id="305948"><code>{&quot;responseData&quot;: {&quot;results&quot;:[{&quot;GsearchResultClass&quot;:&quot;GwebSearch&quot;,&quot;unescapedUrl&quot;:&quot;http://www.siteduzero.com/&quot;,&quot;url&quot;:&quot;http://www.siteduzero.com/&quot;,&quot;visibleUrl&quot;:&quot;www.siteduzero.com&quot;,
&quot;cacheUrl&quot;:&quot;http://www.google.com/search?q\u003dcache:HgT-72rpSJYJ:www.siteduzero.com&quot;,&quot;title&quot;:&quot;Le \u003cb\u003eSite du Zéro\u003c/b\u003e, 
site communautaire de tutoriels gratuits pour \u003cb\u003e...\u003c/b\u003e&quot;,&quot;titleNoFormatting&quot;:&quot;Le Site du Zéro, site communautaire de tutoriels gratuits pour ...&quot;,
&quot;content&quot;:&quot;Tutoriels pour débutants en programmation et développement web.&quot;},{&quot;GsearchResultClass&quot;:&quot;GwebSearch&quot;,&quot;unescapedUrl&quot;:&quot;http://www.siteduzero.com/tutoriel-3-13666-apprenez-a-creer-votre-site-web-avec-html5-et-css3.html&quot;,
&quot;[… ABREGE…] }, &quot;responseDetails&quot;: null, &quot;responseStatus&quot;: 200}</code></pre><p id="r-305949" data-claire-element-id="305949">La première chose à faire est de regarder la réponse renvoyée car nous allons avoir besoin de construire un ou plusieurs objets mappant ce résultat. Nous pouvons les construire à la main ou bien profiter du fait que certaines personnes ont réalisé des outils pour nous simplifier la vie. :p Allons par exemple sur le site <a href="http://json2csharp.com/">http://json2csharp.com/</a> où nous pouvons copier le résultat de la requête. Ce site nous génère les classes suivantes :</p><pre id="r-305950" data-claire-element-id="305950"><code data-claire-semantic="csharp">public class Result
{
    public string GsearchResultClass { get; set; }
    public string unescapedUrl { get; set; }
    public string url { get; set; }
    public string visibleUrl { get; set; }
    public string cacheUrl { get; set; }
    public string title { get; set; }
    public string titleNoFormatting { get; set; }
    public string content { get; set; }
}

public class Page
{
    public string start { get; set; }
    public int label { get; set; }
}

public class Cursor
{
    public string resultCount { get; set; }
    public List&lt;Page&gt; pages { get; set; }
    public string estimatedResultCount { get; set; }
    public int currentPageIndex { get; set; }
    public string moreResultsUrl { get; set; }
    public string searchResultTime { get; set; }
}

public class ResponseData
{
    public List&lt;Result&gt; results { get; set; }
    public Cursor cursor { get; set; }
}

public class RootObject
{
    public ResponseData responseData { get; set; }
    public object responseDetails { get; set; }
    public int responseStatus { get; set; }
}</code></pre><p id="r-305951" data-claire-element-id="305951">que nous pouvons inclure dans notre projet.<br/> Il ne reste plus qu’à faire un appel web comme on l’a vu :</p><pre id="r-305952" data-claire-element-id="305952"><code data-claire-semantic="csharp">public MainPage()
{
    InitializeComponent();

    WebClient client = new WebClient();
    client.DownloadStringCompleted += client_DownloadStringCompleted;
    client.DownloadStringAsync(new Uri(&quot;http://ajax.googleapis.com/ajax/services/search/web?v=1.0&amp;q=siteduzero&quot;));
}

private void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
{
    if (e.Error == null)
    {
        RootObject resultat = JsonConvert.DeserializeObject&lt;RootObject&gt;(e.Result);
        listeRecherches.ItemsSource = resultat.responseData.results.Select(r =&gt; r.titleNoFormatting);
    }
}</code></pre><p id="r-305953" data-claire-element-id="305953">On utilise la classe <code data-claire-semantic="csharp">JsonConvert</code> pour désérialiser le JSON récupéré et le mettre dans les classes qui ont été générées.</p><aside id="r-305955" data-claire-element-id="305955" data-claire-semantic="information"><p id="r-305954" data-claire-element-id="305954">« Sérialisé » signifie que l’instance d’un objet subit une transformation afin de pouvoir être stocké au format texte, ou binaire. Inversement, la désérialisation permet de reconstruire une instance d’un objet à partir de ce texte ou de binaire.</p></aside><p id="r-305956" data-claire-element-id="305956">Ensuite, j’extraie uniquement le titre pour l’afficher dans une <code data-claire-semantic="csharp">ListBox</code>. Et le tour est joué !<br/> Grâce à la bibliothèque JSON.NET, nous pouvons facilement interpréter des données JSON venant d’internet afin d’être efficace dans nos applications.</p><p id="r-305957" data-claire-element-id="305957">Il existe d’autres formats de données dont le très à la mode Open Data que nous verrons un peu plus loin.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
<span class="arrow"></span>
<span class="next">Les converters</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
<span class="next">L’isolated storage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lisolatedstorage"></a><h2>L’isolated storage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
<span class="arrow"></span>
<span class="next">Appeler un service web</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">
<span class="next">Étude de cas : un agrégateur de flux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-isolated-storage" data-claire-element-id="305999">L’isolated storage</h4><p id="r-305959" data-claire-element-id="305959">Il n’est pas toujours possible d’accéder à internet pour récupérer des infos ou les mettre à jour. Nous avons encore à notre disposition un emplacement pour faire persister de l’information : à l’intérieur du téléphone.</p><p id="r-305960" data-claire-element-id="305960">On appelle cet emplacement l’<em>isolated storage</em> dans la mesure où nous n’avons pas accès directement au système de fichiers, mais plutôt à un emplacement mémoire isolé dont nous pouvons ignorer le fonctionnement. Tout ce qu’il faut savoir c’est qu’il est possible d’y stocker des informations, comme du texte mais aussi des objets sérialisés.</p><p id="r-305961" data-claire-element-id="305961">Il y a deux grandes façons d’utiliser l’isolated storage. La plus simple est d’utiliser le dictionnaire <code data-claire-semantic="csharp">ApplicationSettings</code>. On peut y ranger des objets qui seront associés à une chaine de caractères. Par exemple, en imaginant que l’on crée une application où l’on demande le nom de notre utilisateur, il pourra être judicieux d’éviter de le redemander à chaque ouverture de l’application… Pour cela, nous pouvons le faire persister dans l’isolated storage. On utilisera alors :</p><pre id="r-305962" data-claire-element-id="305962"><code data-claire-semantic="csharp">IsolatedStorageSettings.ApplicationSettings[&quot;prenom&quot;] = &quot;Nicolas&quot;;</code></pre><p id="r-305963" data-claire-element-id="305963">J’associe ici la chaine de caractères &quot;prenom&quot; à la chaine de caractères &quot;Nicolas&quot;.<br/> Au prochain démarrage de l’application, on pourra vérifier si le prénom existe déjà en tentant d’accéder à sa clé <code data-claire-semantic="csharp">&quot;prenom&quot;</code>. S’il y a quelque chose d’associé à cette clé, on pourra le récupérer pour éviter de demander à re-saisir le prénom de l’utilisateur :</p><pre id="r-305964" data-claire-element-id="305964"><code data-claire-semantic="csharp">if (IsolatedStorageSettings.ApplicationSettings.Contains(&quot;prenom&quot;))
    prenom = (string)IsolatedStorageSettings.ApplicationSettings[&quot;prenom&quot;];</code></pre><p id="r-305965" data-claire-element-id="305965">Nous pouvons mettre des objets complexes dans l’isolated storage, pas seulement des chaines de caractères :</p><pre id="r-305966" data-claire-element-id="305966"><code data-claire-semantic="csharp">public class Utilisateur
{
    public int Age { get; set; }
    public string Prenom { get; set; }
}

Utilisateur nicolas = new Utilisateur { Age = 30, Prenom = &quot;Nicolas&quot; };
IsolatedStorageSettings.ApplicationSettings[&quot;utilisateur&quot;] = nicolas;</code></pre><p id="r-305967" data-claire-element-id="305967">Et de la même façon, on pourra récupérer cette valeur très facilement :</p><pre id="r-305968" data-claire-element-id="305968"><code data-claire-semantic="csharp">if (IsolatedStorageSettings.ApplicationSettings.Contains(&quot;utilisateur&quot;))
    nicolas = (Utilisateur)IsolatedStorageSettings.ApplicationSettings[&quot;utilisateur&quot;];</code></pre><aside id="r-305970" data-claire-element-id="305970" data-claire-semantic="warning"><p id="r-305969" data-claire-element-id="305969">Attention, l’isolated storage fonctionne très bien avec l’émulateur à la seule condition de ne pas fermer brutalement votre application, en arrêtant le débogueur par exemple, en fermant l’émulateur ou en ayant une exception. Pour que l’isolated storage persiste d’une utilisation à l’autre, il faut que vous conserviez l’émulateur ouvert et que vous terminiez l’application en cliquant sur le bouton retour, jusqu’à ce qu’il n’y ait plus rien dans la pile des pages et que l’application se termine. Sinon, vous devrez appeler la méthode de sauvegarde explicite suivante :</p></aside><pre id="r-305971" data-claire-element-id="305971"><code data-claire-semantic="csharp">IsolatedStorageSettings.ApplicationSettings.Save();</code></pre><p id="r-305972" data-claire-element-id="305972">Le stockage d’objets dans l’isolated storage est quand même très pratique. Vous vous servirez très souvent de ce fonctionnement simple et efficace. Parfois vous aurez peut-être besoin d’un peu plus de contrôle sur ce que vous voulez stocker. À ce moment-là, on peut se servir de l’isolated storage comme d’un flux classique, comme lorsque l’on souhaite enregistrer des données dans un fichier.</p><p id="r-305973" data-claire-element-id="305973">Regardons l’enregistrement :</p><pre id="r-305974" data-claire-element-id="305974"><code data-claire-semantic="csharp">using (IsolatedStorageFileStream stream = new IsolatedStorageFileStream(&quot;sauvegarde.txt&quot;, FileMode.Create, IsolatedStorageFile.GetUserStoreForApplication()))
{
    using (StreamWriter writer = new StreamWriter(stream))
    {
        writer.WriteLine(30);
        writer.WriteLine(&quot;Nicolas&quot;);
    }
}</code></pre><p id="r-305975" data-claire-element-id="305975">Puis la lecture :</p><pre id="r-305976" data-claire-element-id="305976"><code data-claire-semantic="csharp">using (IsolatedStorageFileStream stream = new IsolatedStorageFileStream(&quot;sauvegarde.txt&quot;, FileMode.Open, IsolatedStorageFile.GetUserStoreForApplication()))
{
    using (StreamReader reader = new StreamReader(stream))
    {
        int age = Convert.ToInt32(reader.ReadLine());
        string prenom = reader.ReadLine();
    }
}</code></pre><p id="r-305977" data-claire-element-id="305977">Cela ressemble beaucoup à des opérations d’écriture et de lecture dans un fichier classique…<br/> Enfin, si besoin, on pourra supprimer le fichier :</p><pre id="r-305978" data-claire-element-id="305978"><code data-claire-semantic="csharp">IsolatedStorageFile racine = IsolatedStorageFile.GetUserStoreForApplication();
if (racine.FileExists(&quot;sauvegarde.txt&quot;))
    racine.DeleteFile(&quot;sauvegarde.txt&quot;);</code></pre><p id="r-305979" data-claire-element-id="305979">L’objet <code data-claire-semantic="csharp">IsolatedStorageFile</code> que l’on récupère avec la méthode <code data-claire-semantic="csharp">GetUserStoreForApplication</code> permet de créer un fichier, un répertoire, de le supprimer, etc. Bref, quasiment tout ce que permet un système de fichier classique. :)</p><p id="r-305980" data-claire-element-id="305980">À noter que cette technique est tout à fait appropriée pour stocker des images par exemple, pour éviter d’avoir à les re-télécharger à chaque fois.</p><aside id="r-305982" data-claire-element-id="305982" data-claire-semantic="information"><p id="r-305981" data-claire-element-id="305981">Remarquez qu’au contraire d’une application Silverlight s’exécutant dans un navigateur, l’isolated storage dans une application Windows Phone n’a pas de limite de taille. Tant que le téléphone dispose encore de mémoire, celle-ci est toute à vous.</p></aside><h6 id="r-en-resume-412" data-claire-element-id="305998">En résumé</h6><ul id="r-305997" data-claire-element-id="305997"><li id="r-305984" data-claire-element-id="305984"><p id="r-305983" data-claire-element-id="305983">La liaison de données, ou <em>binding</em>, est la capacité d’associer des données à des contrôles afin d’automatiser au maximum la récupération et l’affichage de données.</p></li><li id="r-305986" data-claire-element-id="305986"><p id="r-305985" data-claire-element-id="305985">Il est possible de fournir des données de <em>binding</em> en mode design pour son application.</p></li><li id="r-305988" data-claire-element-id="305988"><p id="r-305987" data-claire-element-id="305987">Les converters permettent d’appliquer une transformation juste avant la liaison de données.</p></li><li id="r-305990" data-claire-element-id="305990"><p id="r-305989" data-claire-element-id="305989">Il est très facile de récupérer des ressources sur internet grâce aux classes du framework .NET.</p></li><li id="r-305992" data-claire-element-id="305992"><p id="r-305991" data-claire-element-id="305991">Les services web SOAP peuvent être très facilement utilisés grâce à l’ajout de référence de service qui génère un proxy permettant d’abstraire la mécanique de récupération des données.</p></li><li id="r-305994" data-claire-element-id="305994"><p id="r-305993" data-claire-element-id="305993">Il existe des bibliothèques permettant d’interpréter les données reçues, comme la bibliothèque JSON.NET.</p></li><li id="r-305996" data-claire-element-id="305996"><p id="r-305995" data-claire-element-id="305995">On utilise l’isolated storage pour faire persister des informations dans le téléphone.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
<span class="arrow"></span>
<span class="next">Appeler un service web</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">
<span class="next">Étude de cas : un agrégateur de flux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="tudedecasunagrgateurdeflux"></a><h2>Étude de cas : un agrégateur de flux</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
<span class="arrow"></span>
<span class="next">L’isolated storage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
<span class="next">Récupérer les contenus des différents flux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-306001" data-claire-element-id="306001">Maintenant que nous savons récupérer des données depuis internet, pourquoi ne pas essayer d’en faire quelque chose d’un peu intéressant ? Comme un lecteur de flux RSS par exemple…<br/> Vous connaissez sans doute tous le <a href="http://fr.wikipedia.org/wiki/RSS">RSS</a>, c’est ce format qui nous permet de nous abonner à nos blogs favoris afin d’être avertis des nouveaux articles publiés.<br/> Le flux RSS est produit sous forme de XML standardisé, contenant des informations sur le nom du site, les billets qui le composent, le titre du billet, la description, etc.</p>
</div><a name="Rcuprerlescontenusdesdiffrentsflux"></a><h2>Récupérer les contenus des différents flux</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">
<span class="arrow"></span>
<span class="next">Étude de cas : un agrégateur de flux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
<span class="next">Utiliser la bibliothèque de syndication</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306002" data-claire-element-id="306002">Le Site du Zéro possède bien évidemment des flux RSS, comme le flux d’actualité disponible à cet emplacement : <a href="http://www.siteduzero.com/Templates/xml/news_fr.xml">http://www.siteduzero.com/Templates/xml/news_fr.xml</a>. <br/> Si vous naviguez sur ce lien, vous pouvez facilement voir le titre du site, la description, ainsi que les différentes actualités ; et tout ça au format XML. :) <br/> Prenons un autre site pour l’exemple, le blog de l’équipe Windows Phone. Le flux RSS est accessible via cette page : <a href="http://windowsteamblog.com/windows_phone/b/windowsphone/rss.aspx">http://windowsteamblog.com/windows_pho [...] hone/rss.aspx</a>.</p><p id="r-306003" data-claire-element-id="306003">Vous savez déjà récupérer du XML grâce à la classe <code data-claire-semantic="xml">WebClient</code>. J’en profite pour vous communiquer une petite astuce dont je n’ai pas parlé dans le chapitre précédent. Il est possible de fournir un objet de contexte à la requête de téléchargement. Il suffit de lui passer en paramètre de l’appel à la méthode <code data-claire-semantic="csharp">DownloadStringAsync</code>. Cet objet de contexte sera récupéré dans l’événement de fin de téléchargement, dans la propriété <code data-claire-semantic="csharp">UserState</code> de l’objet résultat :</p><pre id="r-306004" data-claire-element-id="306004"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage
{
    private WebClient client;

    public MainPage()
    {
        InitializeComponent();

        client = new WebClient();
        client.DownloadStringCompleted += client_DownloadStringCompleted;
        client.DownloadStringAsync(new Uri(&quot;http://www.siteduzero.com/Templates/xml/news_fr.xml&quot;), &quot;SDZ&quot;);
    }

    private void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
    {
        if (e.Error == null)
        {
            if ((string)e.UserState == &quot;SDZ&quot;)
            {
                // ce sont les données venant du flux du site du zéro

                // lancer le téléchargement suivant
                client.DownloadStringAsync(new Uri(&quot;http://windowsteamblog.com/windows_phone/b/windowsphone/rss.aspx&quot;), &quot;WP7&quot;);
            }
            if ((string)e.UserState == &quot;WP7&quot;)
            {
                // ce sont les données venant du flux blog de l'équipe windows phone
            }
        }
    }
}</code></pre><p id="r-306005" data-claire-element-id="306005">Ceci nous permettra d’utiliser la même méthode pour l’événement de fin de téléchargement.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">
<span class="arrow"></span>
<span class="next">Étude de cas : un agrégateur de flux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
<span class="next">Utiliser la bibliothèque de syndication</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserlabibliothquedesyndication"></a><h2>Utiliser la bibliothèque de syndication</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
<span class="arrow"></span>
<span class="next">Récupérer les contenus des différents flux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
<span class="next">Présenter les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306007" data-claire-element-id="306007">Nous avons maintenant besoin d’interpréter les données du flux XML retourné. Étant donné que les flux RSS sont standards, il existe une bibliothèque qui permet de travailler avec ce genre de flux. C’est la bibliothèque <code data-claire-semantic="csharp">System.ServiceModel.Syndication.dll</code>.<br/> Pour l’utiliser, nous devons ajouter une référence à celle-ci. Elle se trouve dans le répertoire suivant : <code>C:\Program Files\Microsoft SDKs\Silverlight\v4.0\Libraries\Client</code></p><p id="r-306008" data-claire-element-id="306008">Vous aurez une boite de dialogue d’avertissement où vous pouvez cliquer sur <code>Oui</code> :</p><figure id="r-306010" data-claire-element-id="306011"><img id="r-306009" data-claire-element-id="306009" src="medias/uploads.siteduzero.com_files_369001_370000_369525.png" alt="Image utilisateur"/></figure><p id="r-306012" data-claire-element-id="306012">Nous allons donc pouvoir charger l’objet de Syndication à partir du résultat. Pour commencer, je me rajoute une variable privée :</p><pre id="r-306013" data-claire-element-id="306013"><code data-claire-semantic="csharp">private List&lt;SyndicationFeed&gt; listeFlux;</code></pre><p id="r-306014" data-claire-element-id="306014">que j’initialise dans le constructeur :</p><pre id="r-306015" data-claire-element-id="306015"><code data-claire-semantic="csharp">listeFlux = new List&lt;SyndicationFeed&gt;();</code></pre><p id="r-306016" data-claire-element-id="306016">puis je consolide ma liste :</p><pre id="r-306017" data-claire-element-id="306017"><code data-claire-semantic="csharp">private void client_DownloadStringCompleted(object sender, DownloadStringCompletedEventArgs e)
{
    if (e.Error == null)
    {
        if ((string)e.UserState == &quot;SDZ&quot;)
        {
            // ce sont les données venant du flux du site du zéro
            AjouteFlux(e.Result);

            // lancer le téléchargement suivant
            client.DownloadStringAsync(new Uri(&quot;http://windowsteamblog.com/windows_phone/b/windowsphone/rss.aspx&quot;), &quot;WP7&quot;);
        }
        if ((string)e.UserState == &quot;WP7&quot;)
        {
            // ce sont les données venant du flux blog de l'équipe windows phone
            AjouteFlux(e.Result);
        }
    }
}

private void AjouteFlux(string flux)
{
    StringReader stringReader = new StringReader(flux);
    XmlReader xmlReader = XmlReader.Create(stringReader);
    SyndicationFeed feed = SyndicationFeed.Load(xmlReader);
    listeFlux.Add(feed);
}</code></pre><p id="r-306018" data-claire-element-id="306018">Pour charger un flux de syndication, il suffit d’utiliser la méthode <code data-claire-semantic="csharp">Load</code> de la classe <code data-claire-semantic="csharp">SyndicationFeed</code> en lui passant un <code data-claire-semantic="csharp">XmlReader</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
<span class="arrow"></span>
<span class="next">Récupérer les contenus des différents flux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
<span class="next">Présenter les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Prsenterlesdonnes"></a><h2>Présenter les données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
<span class="arrow"></span>
<span class="next">Utiliser la bibliothèque de syndication</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">
<span class="next">La géolocalisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-presenter-les-donnees" data-claire-element-id="306072">Présenter les données</h4><p id="r-306020" data-claire-element-id="306020">Nous avons maintenant les données de nos deux flux, il faut désormais les présenter. Quoi de mieux qu’un contrôle <code data-claire-semantic="csharp">Pivot</code> pour ce faire…<br/> Je vous avais indiqué que le contrôle <code data-claire-semantic="csharp">Pivot</code> était tout à fait adapté au binding, c’est le moment de le vérifier !</p><aside id="r-306022" data-claire-element-id="306022" data-claire-semantic="information"><p id="r-306021" data-claire-element-id="306021">Il n’est pas obligatoire d’avoir créé une application de type <code data-claire-semantic="csharp">Pivot</code> pour pouvoir utiliser ce contrôle. Il est en fait situé dans l’assembly M<code data-claire-semantic="csharp">icrosoft.Phone.Controls</code>. Il suffit de rajouter une référence à cette assembly pour pouvoir l’utiliser.</p></aside><p id="r-306023" data-claire-element-id="306023">De même, vous aurez besoin d’inclure l’espace de nom dans le XAML :</p><pre id="r-306024" data-claire-element-id="306024"><code data-claire-semantic="xml">xmlns:controles=&quot;clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls&quot;</code></pre><p id="r-306025" data-claire-element-id="306025">La première chose à faire est de construire notre objet de source de données. Comme je vous l’ai déjà indiqué, il est plus pratique de créer une source de données qui soit la plus proche de ce qu’on veut lier.<br/> Nous allons lier une liste de flux. Chaque flux contiendra un titre (le titre du blog), et une liste d’éléments. Chaque élément contiendra son titre ainsi que l’url pour aller consulter le billet. Ce qui nous donne les classes suivantes :</p><pre id="r-306026" data-claire-element-id="306026"><code data-claire-semantic="csharp">public class Flux
{
    public string Titre { get; set; }
    public IEnumerable&lt;Elements&gt; Elements { get; set; }
}

public class Elements
{
    public string Titre { get; set; }
    public Uri Url { get; set; }
}</code></pre><p id="r-306027" data-claire-element-id="306027">Nous allons ajouter à notre classe une propriété contenant une liste de flux, prête pour le binding, comme nous l’avons déjà vu :</p><pre id="r-306028" data-claire-element-id="306028"><code data-claire-semantic="csharp">private IEnumerable&lt;Flux&gt; listeDeFlux;
public IEnumerable&lt;Flux&gt; ListeDeFlux
{
    get
    {
        return listeDeFlux;
    }
    set
    {
        if (value == listeDeFlux)
            return;
        listeDeFlux = value;
        NotifyPropertyChanged(&quot;ListeDeFlux&quot;);
    }
}</code></pre><p id="r-306029" data-claire-element-id="306029">Vous n’aurez donc pas oublié d’implémenter <code data-claire-semantic="csharp">INotifyPropertyChanged</code> et d’affecter la propriété <code data-claire-semantic="csharp">DataContext</code> de la page.<br/> Si vous le souhaitez, n’hésitez pas à créer un contexte de design. Cela sera toujours plus pratique pour créer votre <code data-claire-semantic="csharp">Pivot</code>. Je ne vais pas le faire ici par souci de concision, mais c’est une bonne habitude à prendre, et c’est tellement plus pratique pour construire son interface !</p><p id="r-306030" data-claire-element-id="306030">Bon, c’est bien tout ça, mais j’ai une liste de <code data-claire-semantic="csharp">SyndicationFeed</code> et j’ai besoin d’une liste de <code data-claire-semantic="csharp">Flux</code>. Nous aurons donc besoin d’une méthode qui assemble notre nouvelle liste. Elle pourrait ressembler à :</p><pre id="r-306031" data-claire-element-id="306031"><code data-claire-semantic="csharp">private IEnumerable&lt;Flux&gt; CreerLeFlux(List&lt;SyndicationFeed&gt; liste)
{
    foreach (SyndicationFeed flux in liste)
    {
        Flux f = new Flux
        {
            Titre = flux.Title.Text,
            Elements = CreerElements(flux.Items)
        };
        yield return f;
    }
}

private IEnumerable&lt;Elements&gt; CreerElements(IEnumerable&lt;SyndicationItem&gt; elements)
{
    foreach (SyndicationItem element in elements)
    {
        SyndicationLink lien = element.Links.FirstOrDefault();

        Elements e = new Elements
        {
            Titre = element.Title.Text,
            Url = lien == null ? null : lien.Uri
        };
        yield return e;
    }
}</code></pre><p id="r-306032" data-claire-element-id="306032">On pourra l’appeler après avoir chargé notre dernier flux :</p><pre id="r-306033" data-claire-element-id="306033"><code data-claire-semantic="csharp">if ((string)e.UserState == &quot;WP7&quot;)
{
    // ce sont les données venant du flux blog de l'équipe windows phone
    AjouteFlux(e.Result);
    ListeDeFlux = CreerLeFlux(listeFlux);
}</code></pre><p id="r-306034" data-claire-element-id="306034">Il ne reste plus que le XAML :</p><pre id="r-306035" data-claire-element-id="306035"><code data-claire-semantic="xml">&lt;phone:PhoneApplicationPage 
    x:Class=&quot;DemoRSS.MainPage&quot;
    [… code supprimé pour plus de clarté…]
    xmlns:controles=&quot;clr-namespace:Microsoft.Phone.Controls;assembly=Microsoft.Phone.Controls&quot;
    shell:SystemTray.IsVisible=&quot;True&quot;&gt;

    &lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
            &lt;controles:Pivot ItemsSource=&quot;{Binding ListeDeFlux}&quot; Title=&quot;Mon lecteur de flux&quot;&gt;
            &lt;controles:Pivot.HeaderTemplate&gt;
                &lt;DataTemplate&gt;
                    &lt;TextBlock Text=&quot;{Binding Titre}&quot; /&gt;
                &lt;/DataTemplate&gt;
            &lt;/controles:Pivot.HeaderTemplate&gt;
            &lt;controles:Pivot.ItemTemplate&gt;
                &lt;DataTemplate&gt;
                    &lt;ListBox ItemsSource=&quot;{Binding Elements}&quot;&gt;
                        &lt;ListBox.ItemTemplate&gt;
                            &lt;DataTemplate&gt;
                                &lt;TextBlock Text=&quot;{Binding Titre}&quot; TextWrapping=&quot;Wrap&quot; Margin=&quot;0 20 0 0&quot;/&gt;
                            &lt;/DataTemplate&gt;
                        &lt;/ListBox.ItemTemplate&gt;
                    &lt;/ListBox&gt;
                &lt;/DataTemplate&gt;
            &lt;/controles:Pivot.ItemTemplate&gt;
        &lt;/controles:Pivot&gt;
    &lt;/Grid&gt;
&lt;/phone:PhoneApplicationPage&gt;</code></pre><p id="r-306036" data-claire-element-id="306036">Pour faire du binding avec le <code data-claire-semantic="csharp">Pivot</code>, c’est le même principe que pour la <code data-claire-semantic="csharp">ListBox</code>. La première chose à faire est de lier la propriété <code data-claire-semantic="csharp">ItemsSource</code> du <code data-claire-semantic="csharp">Pivot</code> avec :</p><pre id="r-306037" data-claire-element-id="306037"><code data-claire-semantic="xml">&lt;controles:Pivot ItemsSource=&quot;{Binding ListeDeFlux}&quot;</code></pre><p id="r-306038" data-claire-element-id="306038">Ensuite, chaque élément du <code data-claire-semantic="csharp">Pivot</code> doit avoir un titre. Il se met dans la propriété <code data-claire-semantic="csharp">HeaderTemplate</code> :</p><pre id="r-306039" data-claire-element-id="306039"><code data-claire-semantic="xml">&lt;controles:Pivot.HeaderTemplate&gt;
    &lt;DataTemplate&gt;
        &lt;TextBlock Text=&quot;{Binding Titre}&quot; /&gt;
    &lt;/DataTemplate&gt;
&lt;/controles:Pivot.HeaderTemplate&gt;</code></pre><p id="r-306040" data-claire-element-id="306040">Remarquez que la liaison se fait sur la propriété <code data-claire-semantic="xml">Titre</code> de l’objet <code data-claire-semantic="xml">Flux</code>.<br/> Ensuite, chaque élément du Pivot sera composé d’une <code data-claire-semantic="xml">ListBox</code> contenant la liste des éléments. On utilisera la propriété <code data-claire-semantic="xml">ItemTemplate</code> du <code data-claire-semantic="xml">Pivot</code> pour y mettre la <code data-claire-semantic="xml">ListBox</code> :</p><pre id="r-306041" data-claire-element-id="306041"><code data-claire-semantic="xml">&lt;controles:Pivot.ItemTemplate&gt;
    &lt;DataTemplate&gt;
        &lt;ListBox ItemsSource=&quot;{Binding Elements}&quot;&gt;
            &lt;ListBox.ItemTemplate&gt;
                &lt;DataTemplate&gt;
                    &lt;TextBlock Text=&quot;{Binding Titre}&quot; TextWrapping=&quot;Wrap&quot; Margin=&quot;0 20 0 0&quot;/&gt;
                &lt;/DataTemplate&gt;
            &lt;/ListBox.ItemTemplate&gt;
        &lt;/ListBox&gt;
    &lt;/DataTemplate&gt;
&lt;/controles:Pivot.ItemTemplate&gt;</code></pre><p id="r-306042" data-claire-element-id="306042">Remarquons que la <code data-claire-semantic="xml">ListBox</code> est liée à la propriété <code data-claire-semantic="xml">Elements</code> de l’objet <code data-claire-semantic="xml">Flux</code>. Et juste après, ce qu’il est important de remarquer, c’est que dans la propriété <code data-claire-semantic="xml">ItemTemplate</code> de la <code data-claire-semantic="xml">ListBox</code>, le <code data-claire-semantic="xml">TextBlock</code> est lié cette fois-ci à la propriété <code data-claire-semantic="xml">Titre</code> de l’objet <code data-claire-semantic="xml">Elements</code>. En effet, la <code data-claire-semantic="xml">ListBox</code> a un nouveau contexte, la liste d’éléments. C’est donc en toute logique qu’avec la propriété <code data-claire-semantic="xml">Titre</code>, nous accédions à la propriété d’un élément.</p><p id="r-306043" data-claire-element-id="306043">Si nous démarrons l’application, nous aurons un superbe début d’application :</p><figure id="r-306045" data-claire-element-id="306046"><img id="r-306044" data-claire-element-id="306044" src="medias/uploads.siteduzero.com_files_369001_370000_369527.png" alt="Image utilisateur"/></figure><aside id="r-306048" data-claire-element-id="306048" data-claire-semantic="error"><p id="r-306047" data-claire-element-id="306047">Attention, il arrive que les chaines que l’on récupère soient du HTML. Il pourra être judicieux de supprimer les balises inopportunes pour une vraie application, avec des expressions régulières par exemple.</p></aside><p id="r-306049" data-claire-element-id="306049">Il ne reste plus qu’à terminer l’application et à découvrir au passage que l’on peut appeler le navigateur web de Windows Phone pour lui faire afficher les pages de notre choix. Cela se fait grâce à la classe <code data-claire-semantic="csharp">WebBrowserTask</code>.</p><p id="r-306050" data-claire-element-id="306050">La classe WebBrowserTask permet d'invoquer une « tâche Windows Phone ». Un tâche (Task) permet d'appeler des fonctionnalités interne du téléphone depuis nos applications. Nous avons deux types de tâches à notre disposition. Le premier type de tâche est le « launcher », que l'on peut traduire en « lanceur ». Il permet de lancer une fonctionnalité interne du téléphone, comme envoyer un SMS, envoyer un mail ... ou démarrer le navigateur web, ce que nous avons fait ici. Les launchers n'attendent pas de retour. L'autre type de tâche est le « chooser », que l'on peut traduire en « sélecteur ». Ces tâches permettent par exemple de sélectionner un contact dans la mémoire du téléphone ou d'aller chercher une image dans la bibliothèque d'image, etc. On récupère en général une information en retour, comme l'image sélectionnée.</p><p id="r-306051" data-claire-element-id="306051">Ici nous aurons juste besoin de démarrer le navigateur web lorsque nous recevons l’événement de sélection d’un élément dans la <code data-claire-semantic="csharp">ListBox</code> et de naviguer sur l’url de la page. Modifions juste le XAML pour s’abonner à l’événement :</p><pre id="r-306052" data-claire-element-id="306052"><code data-claire-semantic="xml">&lt;ListBox ItemsSource=&quot;{Binding Elements}&quot; SelectionChanged=&quot;ListBox_SelectionChanged&quot;&gt;</code></pre><p id="r-306053" data-claire-element-id="306053">Puis dans la méthode, nous pourrons faire :</p><pre id="r-306054" data-claire-element-id="306054"><code data-claire-semantic="csharp">private void ListBox_SelectionChanged(object sender, SelectionChangedEventArgs e)
{
    ListBox listBox = sender as ListBox;

    if (listBox != null &amp;&amp; listBox.SelectedItem != null)
    {
        Elements elementChoisi = (Elements)listBox.SelectedItem;
        if (elementChoisi.Url != null)
        {
            WebBrowserTask webBrowserTask = new WebBrowserTask();
            webBrowserTask.Uri = elementChoisi.Url;
            listBox.SelectedItem = null;
            webBrowserTask.Show();
        }
    }
}</code></pre><p id="r-306055" data-claire-element-id="306055">Et nous aurons :</p><figure id="r-306057" data-claire-element-id="306058"><img id="r-306056" data-claire-element-id="306056" src="medias/uploads.siteduzero.com_files_369001_370000_369528.png" alt="Image utilisateur"/></figure><p id="r-306059" data-claire-element-id="306059">Pour revenir à notre application, il faudra bien sûr cliquer sur le bouton de retour. ^^</p><aside id="r-306061" data-claire-element-id="306061" data-claire-semantic="information"><p id="r-306060" data-claire-element-id="306060">Vous pouvez télécharger les codes de cette application en cliquant sur ce lien : <a href="medias/uploads.siteduzero.com_ftp_windows_phone_lecteur_rss.zip">template flux RSS</a>.</p></aside><h6 id="r-en-resume-413" data-claire-element-id="306071">En résumé</h6><ul id="r-306070" data-claire-element-id="306070"><li id="r-306063" data-claire-element-id="306063"><p id="r-306062" data-claire-element-id="306062">On récupère un flux RSS simplement grâce à la classe <code data-claire-semantic="csharp">WebClient</code>.</p></li><li id="r-306065" data-claire-element-id="306065"><p id="r-306064" data-claire-element-id="306064">La bibliothèque de Syndication, <code data-claire-semantic="csharp">System.ServiceModel.Syndication.dll</code>, encapsule toute la logique d’analyse du flux récupéré et fournit un objet facile à exploiter.</p></li><li id="r-306067" data-claire-element-id="306067"><p id="r-306066" data-claire-element-id="306066">Le contrôle <code data-claire-semantic="csharp">Pivot</code> est très puissant avec la liaison de données.</p></li><li id="r-306069" data-claire-element-id="306069"><p id="r-306068" data-claire-element-id="306068">Nous pouvons démarrer une navigation avec le navigateur du téléphone grâce à la classe <code data-claire-semantic="csharp">WebBrowserTask</code>.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
<span class="arrow"></span>
<span class="next">Utiliser la bibliothèque de syndication</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">
<span class="next">La géolocalisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lagolocalisation"></a><h2>La géolocalisation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
<span class="arrow"></span>
<span class="next">Présenter les données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
<span class="next">Déterminer sa position</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-306074" data-claire-element-id="306074">De plus en plus de matériels technologiques sont équipés de système de localisation, notamment grâce aux GPS. C’est également le cas des téléphones équipés de Windows Phone dont les spécifications imposent la présence d’un GPS. Mais le système de localisation est un peu plus poussé que le simple GPS qui a ses limites. En effet, on se trouve souvent à l’intérieur d’un immeuble ou entourés par des gros murs qui peuvent bloquer le signal du GPS… heureusement, la triangulation à base des réseaux WIFI peut prendre la relève pour indiquer la position d’un téléphone.</p>
</div><a name="Dterminersaposition"></a><h2>Déterminer sa position</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">
<span class="arrow"></span>
<span class="next">La géolocalisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
<span class="next">Utiliser Bing Maps</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306075" data-claire-element-id="306075">Il est très facile de récupérer sa position, on parle de <strong>géolocalisation</strong>. Pour ce faire, on pourra utiliser la classe <a href="http://msdn.microsoft.com/fr-fr/library/system.device.location.geocoordinatewatcher.aspx">GeoCoordinateWatcher</a> qui est le point d’accès au service de localisation. Nous aurons besoin dans un premier temps de faire une référence à l’assembly <code data-claire-semantic="csharp">System.Device.dll</code>.<br/> La première chose à faire est d’avoir une instance de la classe <code data-claire-semantic="csharp">GeoCoordinateWatcher</code> et de vérifier que le GPS est bien activé. Il faut pour cela démarrer l’analyse et s’abonner à la réception du changement de statut du matériel :</p><pre id="r-306076" data-claire-element-id="306076"><code data-claire-semantic="csharp">private GeoCoordinateWatcher geoWatcher;

public MainPage()
{
    InitializeComponent();

    geoWatcher = new GeoCoordinateWatcher();
    geoWatcher.StatusChanged += geoWatcher_StatusChanged;
    geoWatcher.Start();
}

private void geoWatcher_StatusChanged(object sender, GeoPositionStatusChangedEventArgs e)
{
    switch (e.Status)
    {
        case GeoPositionStatus.Disabled:
            // le gps n'est pas activé
            break;
        case GeoPositionStatus.Initializing:
            // le gps est en cours d'initialisation
            break;
        case GeoPositionStatus.NoData:
            // il n'y a pas d'informations
            break;
        case GeoPositionStatus.Ready:
            // le GPS est activé et disponible
            break;
    }
}</code></pre><p id="r-306077" data-claire-element-id="306077">Pour le démarrer, on appelle la méthode <code data-claire-semantic="csharp">Start()</code>. Quand on n’en aura plus besoin, il sera possible d’appeler la méthode <code data-claire-semantic="csharp">Stop()</code> afin d’arrêter l’utilisation du service de localisation. Cela permet d’économiser la batterie. Il faut toujours vérifier la bonne disponibilité du GPS, car il peut arriver que l’utilisateur veuille explicitement le désactiver.</p><p id="r-306078" data-claire-element-id="306078">À ce moment-là, la propriété <code data-claire-semantic="csharp">Position</code> de l’instance du <code data-claire-semantic="csharp">GeoCoordinateWatcher</code> contient la dernière position trouvée. Il s’agit d’un objet qui contient un objet de type Location contenant plein de petites choses, comme la longitude, la latitude, l’altitude (en mètres au-dessus du niveau de la mer), l’orientation (en degrés par rapport au nord), la vitesse (en mètres par secondes),…</p><p id="r-306079" data-claire-element-id="306079">Sauf qu’une position, ça change au fur et à mesure ! Eh oui, en voiture, dans le train, etc. On peut avoir besoin d’être notifié d’un changement de position. À ce moment-là, on peut s’abonner à l’événement <code data-claire-semantic="csharp">PositionChanged</code> et dès qu’une nouvelle position est reçue, on obtient un nouvel objet <code data-claire-semantic="csharp">Position</code> :</p><pre id="r-306080" data-claire-element-id="306080"><code data-claire-semantic="csharp">geoWatcher.PositionChanged += geoWatcher_PositionChanged;

private void geoWatcher_PositionChanged(object sender, GeoPositionChangedEventArgs&lt;GeoCoordinate&gt; e)
{
    double latitude = e.Position.Location.Latitude;
    double longitude = e.Position.Location.Longitude;
    double altitude = e.Position.Location.Altitude;
}</code></pre><p id="r-306081" data-claire-element-id="306081">Remarquons qu’il est possible de définir l'effort que doit faire le service de localisation pour déterminer notre position. Il suffit de passer un paramètre au constructeur du <code data-claire-semantic="csharp">GetCoordinateWatcher</code>. Il existe deux modes : précision forte ou précision par défaut. On peut passer en précision forte avec :</p><pre id="r-306082" data-claire-element-id="306082"><code data-claire-semantic="csharp">watcher = new GeoCoordinateWatcher(GeoPositionAccuracy.High);</code></pre><p id="r-306083" data-claire-element-id="306083">En mode par défaut, le téléphone utilise essentiellement les bornes wifi et les antennes radios pour faire une triangularisation, ce qui est relativement peu consommateur de batterie. En mode de précision forte, le téléphone va utiliser l'ensemble des moyens dont il dispose pour nous géolocaliser en négligeant la consommation de batterie. Il utilisera notamment la puce GPS pour un repérage par satellite.</p><p id="r-306084" data-claire-element-id="306084">A noter que l'on peut indiquer à partir de quelle distance (en mètres par rapport à la dernière position trouvée) le service de localisation envoi un événement pour nous indiquer un changement de position. Cela se fait via la propriété MovementThreshold qui est à 0 mètre par défaut, ce qui implique qu'un événement de changement de position est envoyé à chaque changement de position.</p><div id="r-306086" data-claire-element-id="306086" data-claire-semantic="question"><p id="r-306085" data-claire-element-id="306085">Oui mais un GPS, c’est très bien sur un téléphone… mais sur un émulateur ? Comment on fait ? Il peut quand même nous fournir une position ?</p></div><p id="r-306087" data-claire-element-id="306087">Pour le vérifier, démarrons l’émulateur et récupérons la position comme nous l’avons vu. Nous obtenons une latitude de 47,64483 et une longitude de -122,141197, qui correspond à la position… des bâtiments de Microsoft. Hasard ? ^^</p><p id="r-306088" data-claire-element-id="306088">En fait, ceci se passe dans les outils supplémentaires de l’émulateur, le dernier bouton en bas de la barre située à droite de l’émulateur. Il est possible de changer les valeurs et même de définir des itinéraires pour simuler des déplacements, cela se passe dans l’onglet <code>Emplacement</code> :</p><figure id="r-306090" data-claire-element-id="306091"><img id="r-306089" data-claire-element-id="306089" src="medias/uploads.siteduzero.com_files_369001_370000_369549.png" alt="Image utilisateur"/></figure><p id="r-306092" data-claire-element-id="306092">En quelques clics, je définis ma position et mon tour de France. Il sera alors très facile de faire changer l’émulateur de position pendant son exécution, soit manuellement, soit en jouant un itinéraire préalablement enregistré… Pratique pour simuler des positions ou des changements de position tout en restant confortablement installé sur son PC avec son débogueur.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">
<span class="arrow"></span>
<span class="next">La géolocalisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
<span class="next">Utiliser Bing Maps</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UtiliserBingMaps"></a><h2>Utiliser Bing Maps</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
<span class="arrow"></span>
<span class="next">Déterminer sa position</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
<span class="next">Afficher sa position sur la carte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utiliser-bing-maps" data-claire-element-id="306118">Utiliser Bing Maps</h4><p id="r-306094" data-claire-element-id="306094">Une longitude, une latitude, c’est très bien comme infos… Mais ça manque un peu de visuel, vous ne trouvez pas ? Ça serait pas mal de pouvoir mettre des points sur une carte comme juste au-dessus !<br/> C’est là qu’intervient le contrôle <code data-claire-semantic="csharp">Map</code>, qui est l’accès aux cartes de Bing. Pour pouvoir l’utiliser dans nos applications, nous allons avoir besoin d’un compte développeur que l’on peut créer gratuitement en allant sur <a href="http://www.bingmapsportal.com/">http://www.bingmapsportal.com</a>. Encore une fois c’est en anglais, mais vous allez voir, c’est facile à faire. Comme nous avons déjà un compte Windows Live, cliquons sur <code>sign in</code> dans <code>existing user</code> :</p><figure id="r-306096" data-claire-element-id="306097"><img id="r-306095" data-claire-element-id="306095" src="medias/uploads.siteduzero.com_files_369001_370000_369550.png" alt="Image utilisateur"/></figure><p id="r-306098" data-claire-element-id="306098">Si vous n’êtes pas déjà logué, il faudra vous connecter.<br/> Nous allons ensuite avoir besoin de créer un compte Bing Maps développeur. Il faut au moins un nom, un email et accepter les conditions, puis cliquer sur <code>Save</code> :</p><figure id="r-306100" data-claire-element-id="306101"><img id="r-306099" data-claire-element-id="306099" src="medias/uploads.siteduzero.com_files_369001_370000_369551.png" alt="Image utilisateur"/></figure><p id="r-306102" data-claire-element-id="306102">Vous obtenez un identifiant de compte. Cliquez maintenant sur <code>Create or view keys</code> pour créer une nouvelle clé de développeur :</p><figure id="r-306104" data-claire-element-id="306105"><img id="r-306103" data-claire-element-id="306103" src="medias/uploads.siteduzero.com_files_369001_370000_369552.png" alt="Image utilisateur"/></figure><p id="r-306106" data-claire-element-id="306106">Il faudra remplir un dernier petit formulaire :</p><figure id="r-306108" data-claire-element-id="306109"><img id="r-306107" data-claire-element-id="306107" src="medias/uploads.siteduzero.com_files_369001_370000_369553.png" alt="Image utilisateur"/></figure><p id="r-306110" data-claire-element-id="306110">Et vous obtiendrez une clé de 64 caractères qui vous sera utile pour utiliser la carte Bing.<br/> Il ne reste plus qu’à insérer le contrôle <code data-claire-semantic="csharp">Map</code> dans notre page. Dans le XAML, rajoutez l’espace de nom du contrôle si celui-ci n’existe pas déjà :</p><pre id="r-306111" data-claire-element-id="306111"><code data-claire-semantic="xml">xmlns:carte=&quot;clr-namespace:Microsoft.Phone.Controls.Maps;assembly=Microsoft.Phone.Controls.Maps&quot;</code></pre><p id="r-306112" data-claire-element-id="306112">Ce contrôle se trouve dans l’assembly <code data-claire-semantic="csharp">Microsoft.Phone.Controls.Maps.dll</code>. Puis nous pourrons positionner la carte où bon nous semble, par exemple dans une grille :</p><pre id="r-306113" data-claire-element-id="306113"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.Resources&gt;
        &lt;carte:ApplicationIdCredentialsProvider ApplicationId=&quot;votre clé de 64 caractères ici&quot; x:Key=&quot;pwd&quot; /&gt;
    &lt;/Grid.Resources&gt;
    &lt;carte:Map Name=&quot;map1&quot; CredentialsProvider=&quot;{StaticResource pwd}&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-306114" data-claire-element-id="306114">Vous aurez remarqué que j’ai rajouté en ressources de la grille un autre contrôle, qui est le <code data-claire-semantic="csharp">ApplicationIdCredentialsProvider</code>. Il permet de renseigner la clé associée à notre compte Bing Maps. Il faudra utiliser ce contrôle dans la propriété <code data-claire-semantic="csharp">CredentialsProvider</code> du contrôle de carte comme indiqué. Vous aurez même le droit à une superbe prévisualisation en mode design :</p><figure id="r-306116" data-claire-element-id="306117"><img id="r-306115" data-claire-element-id="306115" src="medias/uploads.siteduzero.com_files_369001_370000_369555.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
<span class="arrow"></span>
<span class="next">Déterminer sa position</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
<span class="next">Afficher sa position sur la carte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Affichersapositionsurlacarte"></a><h2>Afficher sa position sur la carte</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
<span class="arrow"></span>
<span class="next">Utiliser Bing Maps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">
<span class="next">Consommer des données OData</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306119" data-claire-element-id="306119">Et si nous prenions le contrôle de la carte ?<br/> On peut tout faire avec cette carte, comme se positionner à un emplacement précis grâce à des coordonnées GPS, ajouter des marques pour épingler des lieux, zoomer, dé-zoomer, etc.<br/> Pour illustrer tout cela, nous allons manipuler cette fameuse carte. Cela sera plus simple pour comprendre grâce au code behind, mais tout ceci fonctionne bien sûr avec le binding que nous avons vu.<br/> Première chose à faire : récupérer notre position et centrer la carte sur l’écran. Nous savons désormais comment récupérer notre position, donc nous allons centrer la carte sur notre position à chaque réception d’une nouvelle position :</p><pre id="r-306120" data-claire-element-id="306120"><code data-claire-semantic="csharp">private void watcher_PositionChanged(object sender, GeoPositionChangedEventArgs&lt;GeoCoordinate&gt; e)
{
    Dispatcher.BeginInvoke(() =&gt;
        {
            map1.Center = e.Position.Location;
        });
}</code></pre><p id="r-306121" data-claire-element-id="306121">Remarquons qu’il faut utiliser le dispatcher pour revenir sur le thread d’interface afin de mettre à jour cette dernière.<br/> Tout au long de l’utilisation, nous pourrons zoomer et dé-zoomer grâce au geste qui consiste à ramener ses deux doigts vers le centre de l’écran ou au contraire à les écarter pour dé-zoomer (que l’on appelle le <em>Pinch-to-zoom</em>). Nous pouvons cependant aider la carte à se mettre au niveau de zoom que l’on souhaite en changeant sa propriété <code data-claire-semantic="csharp">ZoomLevel</code> :</p><pre id="r-306122" data-claire-element-id="306122"><code data-claire-semantic="csharp">map1.ZoomLevel = 15;</code></pre><p id="r-306123" data-claire-element-id="306123">Profitons-en pour afficher la vitesse et l’orientation afin de faire un mini tableau de bord. Je rajoute dans le XAML les contrôles suivants :</p><pre id="r-306124" data-claire-element-id="306124"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.Resources&gt;
        &lt;carte:ApplicationIdCredentialsProvider ApplicationId=&quot;…&quot; x:Key=&quot;pwd&quot; /&gt;
    &lt;/Grid.Resources&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;150&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;StackPanel&gt;
        &lt;TextBlock TextWrapping=&quot;Wrap&quot; x:Name=&quot;statut&quot; /&gt;
        &lt;TextBlock TextWrapping=&quot;Wrap&quot; x:Name=&quot;vitesse&quot; /&gt;
        &lt;TextBlock TextWrapping=&quot;Wrap&quot; x:Name=&quot;orientation&quot; /&gt;
        &lt;TextBlock TextWrapping=&quot;Wrap&quot; x:Name=&quot;vitesseMaxi&quot; Foreground=&quot;Red&quot; /&gt;
    &lt;/StackPanel&gt;
    &lt;carte:Map Grid.Row=&quot;1&quot; Name=&quot;map1&quot; CredentialsProvider=&quot;{StaticResource pwd}&quot; /&gt;
&lt;/Grid&gt;</code></pre><p id="r-306125" data-claire-element-id="306125">Puis le code qui va les mettre à jour :</p><pre id="r-306126" data-claire-element-id="306126"><code data-claire-semantic="csharp">private double vitesseMax;
private Pushpin pushPin;

private void watcher_PositionChanged(object sender, GeoPositionChangedEventArgs&lt;GeoCoordinate&gt; e)
{
    Dispatcher.BeginInvoke(() =&gt;
    {
        double vit = double.IsNaN(e.Position.Location.Speed) ? 0 : (e.Position.Location.Speed / 1000 * 3600);
        if (vit &gt; vitesseMax)
            vitesseMax = vit;
        vitesse.Text = &quot;Vitesse (km/h) : &quot; + vit;
        vitesseMaxi.Text = &quot;Vitesse maxi (km/h) : &quot; + vitesseMax;
        orientation.Text = GetOrientation(e.Position.Location.Course);

        map1.Center = e.Position.Location;

        if (map1.Children.OfType&lt;Pushpin&gt;().Any())
        {
            pushPin.Location = e.Position.Location;
        }
        else
        {
            pushPin = new Pushpin { Location = e.Position.Location };
            map1.Children.Add(pushPin);
        }
                    
    });
}</code></pre><p id="r-306127" data-claire-element-id="306127">Je ne mets pas le code de la méthode <code data-claire-semantic="csharp">GetOrientation</code> ici, elle affiche juste si on est au nord, sud,… en fonction de la propriété <code data-claire-semantic="csharp">Course</code>.<br/> Notons avant de poursuivre que nous pouvons changer le mode de la carte, plan ou satellite. Il suffit de changer la propriété mode :</p><pre id="r-306128" data-claire-element-id="306128"><code data-claire-semantic="csharp">map1.Mode = new RoadMode();</code></pre><p id="r-306129" data-claire-element-id="306129">ou</p><pre id="r-306130" data-claire-element-id="306130"><code data-claire-semantic="csharp">map1.Mode = new AerialMode();</code></pre><p id="r-306131" data-claire-element-id="306131">Vous aurez remarqué la variable de type <code data-claire-semantic="csharp">PushPin</code>. Elle permet de positionner une punaise sur la carte. Ces punaises vont nous permettre de localiser des points d’intérêts, comme par exemple notre position. Cela se fait en utilisant cette fameuse classe <code data-claire-semantic="csharp">PushPin</code>. Je peux en rajouter autant que je veux sur la carte, il suffit de lui donner une position. En l’occurrence, j’aurai une punaise unique ici afin de matérialiser ma position. Ce qui donne :</p><figure id="r-306133" data-claire-element-id="306134"><img id="r-306132" data-claire-element-id="306132" src="medias/uploads.siteduzero.com_files_369001_370000_369556.png" alt="Image utilisateur"/></figure><p id="r-306135" data-claire-element-id="306135">La punaise est bien sûr stylable à souhait, car celle-là est un peu triste. Prenez par exemple celle-ci, permettant de remplacer la grosse punaise par un petit point bleu :</p><pre id="r-306136" data-claire-element-id="306136"><code data-claire-semantic="xml">&lt;phone:PhoneApplicationPage.Resources&gt;
    &lt;ControlTemplate x:Key=&quot;PushpinControlTemplate&quot; TargetType=&quot;carte:Pushpin&quot;&gt;
        &lt;Grid x:Name=&quot;ContentGrid&quot; Width=&quot;34&quot; Height=&quot;34&quot; RenderTransformOrigin=&quot;0.5,0.5&quot;&gt;
            &lt;StackPanel Orientation=&quot;Vertical&quot; &gt;
                &lt;Grid MinHeight=&quot;31&quot; MinWidth=&quot;29&quot; Margin=&quot;0&quot;&gt;
                    &lt;Ellipse Fill=&quot;{TemplateBinding Background}&quot;
                        Margin=&quot;1&quot;
                        HorizontalAlignment=&quot;Center&quot;
                        VerticalAlignment=&quot;Center&quot;
                        Width=&quot;20&quot;
                        Height=&quot;20&quot;
                        Stroke=&quot;{TemplateBinding Foreground}&quot;
                        StrokeThickness=&quot;3&quot; /&gt;
                    &lt;ContentPresenter HorizontalAlignment=&quot;Center&quot;
                            Content=&quot;{TemplateBinding Content}&quot;
                            ContentTemplate=&quot;{TemplateBinding ContentTemplate}&quot;
                            Margin=&quot;4&quot;/&gt;
                &lt;/Grid&gt;
            &lt;/StackPanel&gt;
        &lt;/Grid&gt;
    &lt;/ControlTemplate&gt;

    &lt;Style TargetType=&quot;carte:Pushpin&quot; x:Key=&quot;PushpinControlTemplateBlue&quot;&gt;
        &lt;Setter Property=&quot;Template&quot; Value=&quot;{StaticResource PushpinControlTemplate}&quot; /&gt;
        &lt;Setter Property=&quot;Background&quot; Value=&quot;Blue&quot; /&gt;
        &lt;Setter Property=&quot;Foreground&quot; Value=&quot;White&quot; /&gt;
        &lt;Setter Property=&quot;FontSize&quot; Value=&quot;18&quot; /&gt;
    &lt;/Style&gt;
&lt;/phone:PhoneApplicationPage.Resources&gt;</code></pre><p id="r-306137" data-claire-element-id="306137">Remarquez d’ailleurs comment on peut utiliser un style depuis le code behind :</p><pre id="r-306138" data-claire-element-id="306138"><code data-claire-semantic="csharp">pushPin = new Pushpin { Location = e.Position.Location, Style = Resources[&quot;PushpinControlTemplateBlue&quot;] as Style };</code></pre><p id="r-306139" data-claire-element-id="306139">Ce qui donne :</p><figure id="r-306141" data-claire-element-id="306142"><img id="r-306140" data-claire-element-id="306140" src="medias/uploads.siteduzero.com_files_369001_370000_369557.png" alt="Image utilisateur"/></figure><p id="r-306143" data-claire-element-id="306143">Avant de terminer, voyons comment utiliser le binding avec les punaises. Il suffit de rajouter un contrôle Pushpin directement dans le contrôle Map :</p><pre id="r-306144" data-claire-element-id="306144"><code data-claire-semantic="xml">&lt;carte:Map Grid.Row=&quot;1&quot; Name=&quot;map1&quot; CredentialsProvider=&quot;{StaticResource pwd}&quot;&gt;
    &lt;carte:Pushpin Location=&quot;{Binding MaPosition}&quot; Style=&quot;{StaticResource PushpinControlTemplateBlue}&quot; /&gt;
&lt;/carte:Map&gt;</code></pre><p id="r-306145" data-claire-element-id="306145">que l'on pourra lier à une propriété de ce genre :</p><pre id="r-306146" data-claire-element-id="306146"><code data-claire-semantic="csharp">private GeoCoordinate maPosition;
public GeoCoordinate MaPosition
{
    get
    {
        return maPosition;
    }
    set
    {
        if (value == maPosition)
            return;
        maPosition = value;
        NotifyPropertyChanged(&quot;MaPosition&quot;);
    }
}</code></pre><p id="r-306147" data-claire-element-id="306147">que l'on pourra alimenter avec :</p><pre id="r-306148" data-claire-element-id="306148"><code data-claire-semantic="csharp">private void watcher_PositionChanged(object sender, GeoPositionChangedEventArgs&lt;GeoCoordinate&gt; e)
{
    Dispatcher.BeginInvoke(() =&gt;
    {
        double vit = double.IsNaN(e.Position.Location.Speed) ? 0 : (e.Position.Location.Speed / 1000 * 3600);
        if (vit &gt; vitesseMax)
            vitesseMax = vit;
        vitesse.Text = &quot;Vitesse (km/h) : &quot; + vit;
        vitesseMaxi.Text = &quot;Vitesse maxi (km/h) : &quot; + vitesseMax;
        orientation.Text = GetOrientation(e.Position.Location.Course);

        map1.Center = e.Position.Location;

        MaPosition = e.Position.Location;
    });
}</code></pre><p id="r-306149" data-claire-element-id="306149">Et si on a plusieurs punaises à lier, il suffit d’utiliser le contrôle <code data-claire-semantic="csharp">MapItemsControl</code> et de lier sa propriété <code data-claire-semantic="csharp">ItemsSource</code> à une liste de positions :</p><pre id="r-306150" data-claire-element-id="306150"><code data-claire-semantic="xml">&lt;carte:Map Grid.Row=&quot;1&quot; Name=&quot;map1&quot; CredentialsProvider=&quot;{StaticResource pwd}&quot;&gt;
    &lt;carte:MapItemsControl ItemsSource=&quot;{Binding MaListeDePositions}&quot;&gt;
        &lt;carte:MapItemsControl.ItemTemplate&gt;
            &lt;DataTemplate&gt;
                &lt;carte:Pushpin Location=&quot;{Binding}&quot; Style=&quot;{StaticResource PushpinControlTemplateBlue}&quot; /&gt;
            &lt;/DataTemplate&gt;
        &lt;/carte:MapItemsControl.ItemTemplate&gt;
    &lt;/carte:MapItemsControl&gt;
&lt;/carte:Map&gt;</code></pre><p id="r-306151" data-claire-element-id="306151">Et dans le code behind :</p><pre id="r-306152" data-claire-element-id="306152"><code data-claire-semantic="csharp">private IEnumerable&lt;GeoCoordinate&gt; maListeDePositions;
public IEnumerable&lt;GeoCoordinate&gt; MaListeDePositions
{
    get
    {
        return maListeDePositions;
    }
    set
    {
        if (value == maListeDePositions)
            return;
        maListeDePositions = value;
        NotifyPropertyChanged(&quot;MaListeDePositions&quot;);
    }
}

private void watcher_PositionChanged(object sender, GeoPositionChangedEventArgs&lt;GeoCoordinate&gt; e)
{
    Dispatcher.BeginInvoke(() =&gt;
    {
        double vit = double.IsNaN(e.Position.Location.Speed) ? 0 : (e.Position.Location.Speed / 1000 * 3600);
        if (vit &gt; vitesseMax)
            vitesseMax = vit;
        vitesse.Text = &quot;Vitesse (km/h) : &quot; + vit;
        vitesseMaxi.Text = &quot;Vitesse maxi (km/h) : &quot; + vitesseMax;
        orientation.Text = GetOrientation(e.Position.Location.Course);

        map1.Center = e.Position.Location;

        MaListeDePositions = new List&lt;GeoCoordinate&gt; { e.Position.Location };
    });
}</code></pre><p id="r-306153" data-claire-element-id="306153">Pour le plaisir, sachez que j’ai testé cette application dans le train, et mon TER a fait une pointe à 160 km/h… qui prend le TGV ? :D</p><p id="r-306154" data-claire-element-id="306154">Remarquez que vous devrez indiquer dans votre application un descriptif de votre politique d'utilisation des données géolocalisées, soit directement, soit en donnant un lien vers cette politique. De même, votre application devra fournir un moyen de désactiver explicitement l'utilisation du service de localisation.</p><aside id="r-306156" data-claire-element-id="306156" data-claire-semantic="information"><p id="r-306155" data-claire-element-id="306155">Vous pouvez télécharger les codes de cette application en cliquant sur ce lien : <a href="medias/uploads.siteduzero.com_ftp_windows_phone_geoloc.zip">template géolocalisation</a>.</p></aside><h3 id="r-en-resume-414" data-claire-element-id="306164">En résumé</h3><ul id="r-306163" data-claire-element-id="306163"><li id="r-306158" data-claire-element-id="306158"><p id="r-306157" data-claire-element-id="306157">Le service de localisation est accessible à partir du moment où il a été déclaré et accepté par l’utilisateur.</p></li><li id="r-306160" data-claire-element-id="306160"><p id="r-306159" data-claire-element-id="306159">La classe <code data-claire-semantic="csharp">GeoCoordinateWatcher</code> permet d’obtenir les informations issues du service de localisation.</p></li><li id="r-306162" data-claire-element-id="306162"><p id="r-306161" data-claire-element-id="306161">On peut utiliser le contrôle <code data-claire-semantic="csharp">Bing Maps</code> pour afficher des coordonnées sur une carte.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
<span class="arrow"></span>
<span class="next">Utiliser Bing Maps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">
<span class="next">Consommer des données OData</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConsommerdesdonnesOData"></a><h2>Consommer des données OData</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
<span class="arrow"></span>
<span class="next">Afficher sa position sur la carte</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
<span class="next">Ajouter une référence service</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-306167" data-claire-element-id="306167">OData (<em>Open Data Protocol</em>) est un protocole permettant le partage de données. Aujourd’hui, il y a beaucoup de données un peu partout sur internet et sous diverses formes. Lorsqu’elles sont dans des formats propriétaires, elles deviennent difficiles à exploiter. Le but de ce protocole est de fournir un <strong>moyen standardisé</strong> d’effectuer des requêtes sur ces données grâce aux protocoles standards du web dans l’optique d’améliorer l’accès à ces données et d’augmenter l’interopérabilité. <br/> Les applications Windows Phone peuvent tirer parti d’<strong>OData</strong> grâce à une bibliothèque qui s’occupe d’encapsuler tous les appels et tout le système de requêtage. Comme d’habitude, un proxy est généré avec des classes représentant le modèle de données. Les requêtes REST sont encapsulées et les données seront exploitables grâce à LINQ.</p>
</div><a name="Ajouterunerfrenceservice"></a><h2>Ajouter une référence service</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">
<span class="arrow"></span>
<span class="next">Consommer des données OData</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
<span class="next">Charger les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306168" data-claire-element-id="306168">De plus en plus de données sont accessibles au format OData. Vous pouvez retrouver beaucoup de fournisseurs de données OData sur <a href="http://www.odata.org/producers">le site officiel</a>. Pour illustrer la récupération de données avec OData, j’ai choisi d’exploiter la base de questions-réponses de l’excellent site Stack Overflow. Le flux OData est disponible à cette adresse : <a href="http://data.stackexchange.com/stackoverflow/atom">http://data.stackexchange.com/stackoverflow/atom</a>.<br/> Lorsque nous naviguons sur ce lien, nous récupérons un flux XML qui contient à vue de nez des questions (Posts), des utilisateurs (Users), des Tags,…</p><p id="r-306169" data-claire-element-id="306169">Pour pouvoir exploiter ces données, la première chose à faire est d’ajouter une référence de service et de saisir l’adresse de notre flux OData :</p><figure id="r-306171" data-claire-element-id="306172"><img id="r-306170" data-claire-element-id="306170" src="medias/uploads.siteduzero.com_files_369001_370000_369530.png" alt="Image utilisateur"/></figure><p id="r-306173" data-claire-element-id="306173">Visual Studio génère alors le proxy et les classes qui vont permettre de récupérer ces données, elles sont dans l’espace de nom que nous avons donné, à savoir <code data-claire-semantic="csharp">StackOverflowReference</code> :</p><figure id="r-306175" data-claire-element-id="306176"><img id="r-306174" data-claire-element-id="306174" src="medias/uploads.siteduzero.com_files_369001_370000_369531.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">
<span class="arrow"></span>
<span class="next">Consommer des données OData</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
<span class="next">Charger les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Chargerlesdonnes"></a><h2>Charger les données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
<span class="arrow"></span>
<span class="next">Ajouter une référence service</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
<span class="next">Faire des requêtes sur les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-charger-les-donnees" data-claire-element-id="306195">Charger les données</h4><p id="r-306178" data-claire-element-id="306178">Nous allons pouvoir utiliser ces classes désormais. La première chose à faire est d’indiquer au service l’url du flux OData :</p><pre id="r-306179" data-claire-element-id="306179"><code data-claire-semantic="csharp">Entities service = new Entities(new Uri(&quot;http://data.stackexchange.com/stackoverflow/atom&quot;));</code></pre><p id="r-306180" data-claire-element-id="306180">Ensuite, nous allons pouvoir écrire une requête LINQ. Ici par exemple, je souhaite obtenir la liste des utilisateurs triés par réputation :</p><pre id="r-306181" data-claire-element-id="306181"><code data-claire-semantic="csharp">IQueryable&lt;User&gt; requete = from utilisateur in service.Users
                                orderby utilisateur.Reputation descending
                                select utilisateur;</code></pre><p id="r-306182" data-claire-element-id="306182">J’écris une simple requête LINQ. Ce qui est magique c’est qu’elle sera transformée automatiquement en requête REST, sans rien de plus à faire.<br/> Maintenant, je dois préparer le chargement asynchrone des données. Pour cela, j’ai besoin de la classe générique <code data-claire-semantic="csharp">DataServiceCollection&lt;&gt;</code>. C’est elle qui, via sa méthode <code data-claire-semantic="csharp">LoadAsync</code>, va me remplir mon objet. Pour voir les effets du chargement, je vais lier l’objet qui récupère les données à une <code data-claire-semantic="csharp">ListBox</code>, pour cela je déclare ma propriété ainsi, comme nous l’avons déjà fait :</p><pre id="r-306183" data-claire-element-id="306183"><code data-claire-semantic="csharp">private DataServiceCollection&lt;User&gt; utilisateurs;
public DataServiceCollection&lt;User&gt; Utilisateurs
{
    get
    {
        return utilisateurs;
    }
    set
    {
        if (value == utilisateurs)
            return;
        utilisateurs = value;
        NotifyPropertyChanged(&quot;Utilisateurs&quot;);
    }
}</code></pre><p id="r-306184" data-claire-element-id="306184">Il ne restera plus qu’à démarrer le chargement, avec :</p><pre id="r-306185" data-claire-element-id="306185"><code data-claire-semantic="csharp">Utilisateurs = new DataServiceCollection&lt;User&gt;();
Utilisateurs.LoadAsync(requete.Take(10));</code></pre><p id="r-306186" data-claire-element-id="306186">Ici, j’ai choisi de n’afficher que les dix premiers éléments de la liste. Au final, nous aurons donc le code suivant :</p><pre id="r-306187" data-claire-element-id="306187"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    private DataServiceCollection&lt;User&gt; utilisateurs;
    public DataServiceCollection&lt;User&gt; Utilisateurs
    {
        get
        {
            return utilisateurs;
        }
        set
        {
            if (value == utilisateurs)
                return;
            utilisateurs = value;
            NotifyPropertyChanged(&quot;Utilisateurs&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();

        DataContext = this;

        Entities service = new Entities(new Uri(&quot;http://data.stackexchange.com/stackoverflow/atom&quot;));

        IQueryable&lt;User&gt; requete = from utilisateur in service.Users
                                    orderby utilisateur.Reputation descending
                                    select utilisateur;


        Utilisateurs = new DataServiceCollection&lt;User&gt;();
        Utilisateurs.LoadAsync(requete.Take(10));
    }
}</code></pre><p id="r-306188" data-claire-element-id="306188">À noter qu’on peut s’abonner à un événement pour savoir quand les données ont été récupérées. Ce n’est pas utile ici, mais cela pourrait être intéressant si l’on souhaite afficher que le chargement est en cours, mettre une barre de progression, ...<br/> Il ne reste qu’à écrire le XAML de la <code data-claire-semantic="csharp">ListBox</code> afin d’exploiter nos données :</p><pre id="r-306189" data-claire-element-id="306189"><code data-claire-semantic="xml">&lt;ListBox ItemsSource=&quot;{Binding Utilisateurs}&quot;&gt;
    &lt;ListBox.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;Grid Width=&quot;480&quot;&gt;
                &lt;Grid.ColumnDefinitions&gt;
                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
                &lt;/Grid.ColumnDefinitions&gt;
                &lt;TextBlock Text=&quot;{Binding DisplayName}&quot; /&gt;
                &lt;TextBlock Grid.Column=&quot;1&quot; Text=&quot;{Binding Reputation}&quot; /&gt;
            &lt;/Grid&gt;
        &lt;/DataTemplate&gt;
    &lt;/ListBox.ItemTemplate&gt;
&lt;/ListBox&gt;</code></pre><p id="r-306190" data-claire-element-id="306190">Remarquez que j’exploite directement les données de l’objet <code data-claire-semantic="csharp">User</code> avec notamment les propriétés <code data-claire-semantic="csharp">DisplayName</code> et <code data-claire-semantic="csharp">Reputation</code>.</p><p id="r-306191" data-claire-element-id="306191">Ce qui donne :</p><figure id="r-306193" data-claire-element-id="306194"><img id="r-306192" data-claire-element-id="306192" src="medias/uploads.siteduzero.com_files_369001_370000_369532.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
<span class="arrow"></span>
<span class="next">Ajouter une référence service</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
<span class="next">Faire des requêtes sur les données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Fairedesrequtessurlesdonnes"></a><h2>Faire des requêtes sur les données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
<span class="arrow"></span>
<span class="next">Charger les données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">
<span class="next">Accéder à Facebook</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306196" data-claire-element-id="306196">Et voilà, nous avons pu faire une requête OData très facilement grâce à LINQ. Toute la complexité a été masquée, mais remarquons quand même que le proxy a en fait exécuté la requête suivante :</p><p id="r-306197" data-claire-element-id="306197"><cite>Citation</cite></p><blockquote id="r-306199" data-claire-element-id="306199"><p id="r-306198" data-claire-element-id="306198">http://data.stackexchange.com/stackoverflow/atom/Users()?$orderby=Reputation desc&amp;$top=10</p></blockquote><p id="r-306200" data-claire-element-id="306200">La requête générée est la base de l’interrogation des données au format OData. Même si le format de la requête est un peu particulier, on voit bien qu’on demande la liste des utilisateurs, triés par réputation descendante, et on récupère le top 10.<br/> C’est ça qu’il se passe à chaque fois derrière. LINQ va générer une requête HTTP sous la forme d’une requête REST qui nous permettra d’obtenir les informations que l’on souhaite.</p><p id="r-306201" data-claire-element-id="306201">En fait, avant la version 7.1 du SDK, il fallait faire tout ceci à la main. C’est devenu très simple à faire désormais comme vous pouvez vous en rendre compte. Les données OData sont à notre portée, il n’y a plus qu’à les exploiter. :D</p><aside id="r-306203" data-claire-element-id="306203" data-claire-semantic="information"><p id="r-306202" data-claire-element-id="306202">Vous pouvez télécharger les codes de cette application en cliquant sur ce lien : <a href="medias/uploads.siteduzero.com_ftp_windows_phone_odata.zip">template OData</a>.</p></aside><h3 id="r-en-resume-415" data-claire-element-id="306211">En résumé</h3><ul id="r-306210" data-claire-element-id="306210"><li id="r-306205" data-claire-element-id="306205"><p id="r-306204" data-claire-element-id="306204">Pour récupérer des données OData, on utilise une référence de service qui génère un proxy.</p></li><li id="r-306207" data-claire-element-id="306207"><p id="r-306206" data-claire-element-id="306206">Ce proxy masque toute la complexité permettant d’interroger la ressource REST.</p></li><li id="r-306209" data-claire-element-id="306209"><p id="r-306208" data-claire-element-id="306208">La bibliothèque OData pour Windows Phone permet, grâce à LINQ, de générer les requêtes adéquates pour la récupération des données.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
<span class="arrow"></span>
<span class="next">Charger les données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">
<span class="next">Accéder à Facebook</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="AccderFacebook"></a><h2>Accéder à Facebook</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
<span class="arrow"></span>
<span class="next">Faire des requêtes sur les données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
<span class="next">Créer une application Facebook</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-306214" data-claire-element-id="306214">Avec l’avènement des réseaux sociaux, une application Windows Phone va devoir être capable de travailler avec ces réseaux ! On ne cite plus bien sûr Twitter ou Facebook. Chacun des grands réseaux sociaux offre une solution pour interagir avec eux. Facebook ne déroge pas à cette règle et propose diverses solutions pour que nos applications tirent parti de la puissance du social. Nous allons à présent voir comment réaliser une petite application fonctionnant avec Facebook.</p>
</div><a name="CreruneapplicationFacebook"></a><h2>Créer une application Facebook</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">
<span class="arrow"></span>
<span class="next">Accéder à Facebook</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
<span class="next">Le SDK</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-une-application-facebook" data-claire-element-id="306228">Créer une application Facebook</h4><p id="r-306215" data-claire-element-id="306215">La première chose à faire est de créer une application Facebook. C’est une étape gratuite mais indispensable afin de pouvoir établir une relation de confiance entre votre application Windows Phone et Facebook. Pour ce faire, rendez-vous sur <a href="http://www.facebook.com/developers/createapp.php">http://www.facebook.com/developers/createapp.php</a>.<br/> Si vous n’êtes pas connecté, c’est le moment de le faire. :p <br/> Créez ensuite une application :</p><figure id="r-306217" data-claire-element-id="306218"><img id="r-306216" data-claire-element-id="306216" src="medias/uploads.siteduzero.com_files_369001_370000_369533.png" alt="Image utilisateur"/></figure><p id="r-306219" data-claire-element-id="306219">Donnez-lui au moins un nom :</p><figure id="r-306221" data-claire-element-id="306222"><img id="r-306220" data-claire-element-id="306220" src="medias/uploads.siteduzero.com_files_369001_370000_369535.png" alt="Image utilisateur"/></figure><p id="r-306223" data-claire-element-id="306223">Finissez la création :</p><figure id="r-306225" data-claire-element-id="306226"><img id="r-306224" data-claire-element-id="306224" src="medias/uploads.siteduzero.com_files_369001_370000_369536.png" alt="Image utilisateur"/></figure><p id="r-306227" data-claire-element-id="306227">Vous obtenez un identifiant d’application, ainsi qu’une clé d’API. API signifie <em>Application Programming Interface</em>, il s’agit du point d’entrée permettant d’exploiter les données issues de Facebook. L’identifiant d’application et la clé vont vous permettre d’utiliser les API et d’identifier de manière unique votre application afin de pouvoir établir la relation entre le téléphone et un compte Facebook.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">
<span class="arrow"></span>
<span class="next">Accéder à Facebook</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
<span class="next">Le SDK</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LeSDK"></a><h2>Le SDK</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
<span class="arrow"></span>
<span class="next">Créer une application Facebook</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
<span class="next">Qu’est-ce qu’OAuth</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-sdk" data-claire-element-id="306233">Le SDK</h4><p id="r-306229" data-claire-element-id="306229">L’API Facebook est utilisable en REST. Il est possible de faire tous nos appels ainsi, mais il existe un projet open source qui encapsule les appels REST afin de nous simplifier la tâche. Personne ici ne rêve de se compliquer la vie, alors nous allons utiliser ce fameux projet. Il s’agit du « Facebook C# SDK », anciennement situé sur codeplex, il se trouve désormais sur <a href="http://csharpsdk.org/">http://csharpsdk.org/</a>.</p><p id="r-306230" data-claire-element-id="306230">Mais vous n'avez même pas besoin d’y aller pour le récupérer, car les concepteurs nous ont encore simplifié la tâche en le rendant disponible via Nuget. Nuget est une extension de Visual Studio qui facilite l’installation de composants complémentaires. Sauf que celui-ci ne fonctionne que pour les versions payantes de Visual Studio. Or, de notre côté, nous avons une version gratuite, mais que cela ne nous arrête pas, Nuget est disponible en ligne de commande. ;)</p><p id="r-306231" data-claire-element-id="306231">Pour installer le SDK de Facebook, il faut commencer par télécharger « NuGet.exe Command Line bootstrapper » à cette adresse : <a href="http://nuget.codeplex.com/releases/view/58939">http://nuget.codeplex.com/releases/view/58939</a>.<br/> Démarrez-le en ligne de commande avec la commande : <code data-claire-semantic="console">NuGet.exe install Facebook</code>.</p><p id="r-306232" data-claire-element-id="306232">Attention, il est possible que l’outil ait besoin de se mettre à jour, donc il faudra le lancer potentiellement deux fois.<br/> En cas de réussite de téléchargement, il va vous créer un répertoire nommé par exemple « Facebook.6.0.10.0 ». Dedans, allez récupérer la dll qu’il y a dans <code data-claire-semantic="csharp">\lib\sl4-windowsphone71</code>. C’est cette dll qu’il faudra référencer dans notre projet.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
<span class="arrow"></span>
<span class="next">Créer une application Facebook</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
<span class="next">Qu’est-ce qu’OAuth</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Quest-cequOAuth"></a><h2>Qu’est-ce qu’OAuth</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
<span class="arrow"></span>
<span class="next">Le SDK</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
<span class="next">Se loguer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<div id="r-306235" data-claire-element-id="306235" data-claire-semantic="question"><p id="r-306234" data-claire-element-id="306234">OAuth ? Kézako, pourquoi tu parles de ça ?</p></div><p id="r-306236" data-claire-element-id="306236">Eh bien parce qu’il s’agit du système d’authentification à l’API de Facebook. OAuth est un protocole qui permet l’accès à des données de manière sécurisée et en fonction de ce que l’utilisateur souhaite autoriser d’accès.</p><p id="r-306237" data-claire-element-id="306237">Notre application va donc utiliser OAuth pour demander à Facebook d’authentifier un utilisateur avec des besoins pour accéder à certaines informations. Une fois authentifié, Facebook demande à l’utilisateur s’il est d’accord pour autoriser notre application à accéder à ces données et dans ce cas, nous fournit un jeton permettant d’accéder à son API :</p><figure id="r-306239" data-claire-element-id="306240"><img id="r-306238" data-claire-element-id="306238" src="medias/uploads.siteduzero.com_files_371001_372000_371199.png" alt="Image utilisateur"/></figure><p id="r-306241" data-claire-element-id="306241">Regardons dans la pratique comment cela fonctionne…</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
<span class="arrow"></span>
<span class="next">Le SDK</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
<span class="next">Se loguer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Seloguer"></a><h2>Se loguer</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
<span class="arrow"></span>
<span class="next">Qu’est-ce qu’OAuth</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
<span class="next">Exploiter le graphe social avec le SDK</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306243" data-claire-element-id="306243">Pour authentifier un utilisateur, nous allons devoir utiliser le contrôle <code data-claire-semantic="csharp">WebBrowser</code> afin de naviguer sur la page d’authentification de Facebook. Mais où se situe cette fameuse page ? <br/> Pour le savoir, nous allons utiliser le SDK, mais avant ça nous avons besoin de rajouter un <code data-claire-semantic="csharp">WebBrowser</code> dans notre page XAML :</p><pre id="r-306244" data-claire-element-id="306244"><code data-claire-semantic="xml">&lt;phone:WebBrowser x:Name=&quot;wb&quot; Visibility=&quot;Collapsed&quot; Navigated=&quot;wb_Navigated&quot; /&gt;</code></pre><p id="r-306245" data-claire-element-id="306245">Celui-ci est masqué au chargement de la page (<code data-claire-semantic="csharp">Visibility</code> à <code data-claire-semantic="csharp">Collapsed</code>). Nous avons également associé une méthode à l’événement de navigation terminé.<br/> Puis nous allons créer une variable privée dans notre page, du type <code data-claire-semantic="csharp">FacebookClient</code> :</p><pre id="r-306246" data-claire-element-id="306246"><code data-claire-semantic="csharp">private FacebookClient client;</code></pre><p id="r-306247" data-claire-element-id="306247">et enfin, nous allons naviguer sur l’url obtenue grâce au SDK. Pour ce faire, nous allons devoir remplir plusieurs informations :</p><pre id="r-306248" data-claire-element-id="306248"><code data-claire-semantic="csharp">Dictionary&lt;string, object&gt; parameters = new Dictionary&lt;string, object&gt;();
parameters[&quot;response_type&quot;] = &quot;token&quot;;
parameters[&quot;display&quot;] = &quot;touch&quot;;
parameters[&quot;scope&quot;] = &quot;user_about_me, friends_about_me, user_birthday, friends_birthday, publish_stream&quot;;
parameters[&quot;redirect_uri&quot;] = &quot;https://www.facebook.com/connect/login_success.html&quot;;
parameters[&quot;client_id&quot;] = &quot;votre appid&quot;;

client = new FacebookClient();
Uri uri = client.GetLoginUrl(parameters);

wb.Visibility = Visibility.Visible;
wb.Navigate(uri);</code></pre><p id="r-306249" data-claire-element-id="306249">Nous construisons un dictionnaire d’objet afin de renseigner les paramètres à passer. Dans ces paramètres, on trouve la valeur <code data-claire-semantic="csharp">response_type</code> qui est positionnée à <code data-claire-semantic="csharp">token</code> car nous avons besoin d’un jeton d’accès. Pour le paramètre <code data-claire-semantic="csharp">display</code>, nous indiquons la valeur <code data-claire-semantic="csharp">touch</code>. Il s’agit de l’interface que Facebook va proposer pour notre authentification. <code data-claire-semantic="csharp">Touch</code> est celle la plus adaptée aux périphériques mobiles (les autres modes sont disponibles sur <a href="http://developers.facebook.com/docs/reference/dialogs/#display">http://developers.facebook.com/docs/re [...] logs/#display</a>).</p><aside id="r-306251" data-claire-element-id="306251" data-claire-semantic="warning"><p id="r-306250" data-claire-element-id="306250">Attention, il semblerait que le mode <em>touch</em> pose un problème avec Internet Explorer 9 présent dans les Windows Phone. En cas de problèmes et en attendant une éventuelle correction de la part de Facebook, vous devrez peut-être utiliser le mode <strong><em>popup</em></strong>.</p></aside><p id="r-306252" data-claire-element-id="306252">Enfin, et c’est le plus important, le paramètre <code data-claire-semantic="csharp">scope</code> correspond aux informations que nous souhaitons obtenir de la part de l’utilisateur. Il s’agit des permissions que l’on peut retrouver à cet emplacement : <a href="http://developers.facebook.com/docs/reference/api/permissions/">http://developers.facebook.com/docs/re [...] /permissions/</a>.<br/> Par exemple, j’ai choisi les permissions suivantes :</p><ul id="r-306263" data-claire-element-id="306263"><li id="r-306254" data-claire-element-id="306254"><p id="r-306253" data-claire-element-id="306253"><em>user_about_me</em>, qui permet d’obtenir les informations de base d’un utilisateur ;</p></li><li id="r-306256" data-claire-element-id="306256"><p id="r-306255" data-claire-element-id="306255"><em>friends_about_me</em>, qui permet d’obtenir les informations de base des amis de l’utilisateur ;</p></li><li id="r-306258" data-claire-element-id="306258"><p id="r-306257" data-claire-element-id="306257"><em>user_birthday</em>, qui permet d’obtenir la date de naissance d’un utilisateur ;</p></li><li id="r-306260" data-claire-element-id="306260"><p id="r-306259" data-claire-element-id="306259"><em>friends_birthday</em>, qui permet d’obtenir la date de naissance des amis de l’utilisateur ;</p></li><li id="r-306262" data-claire-element-id="306262"><p id="r-306261" data-claire-element-id="306261"><em>publish_stream</em>, qui va me permettre de poster un message sur le mur de l’utilisateur.</p></li></ul><aside id="r-306265" data-claire-element-id="306265" data-claire-semantic="warning"><p id="r-306264" data-claire-element-id="306264">Attention, demander ces permissions n’est pas anodin. Cela permet d’accéder aux informations personnelles de l’utilisateur. On ne peut pas faire cela dans son dos, il faut que l’utilisateur autorise notre application à accéder à ces informations. Cela se fait juste après la connexion de l’utilisateur (nous verrons une copie d’écran illustrant ce propos). Ce qui fait que si on demande trop d’informations, notre utilisateur risque de prendre peur et de rejeter nos demandes. On se retrouvera ainsi sans la moindre possibilité d’exploiter les données de l’utilisateur. Il faut donc que nos demandes de permissions soient le plus proche possible des besoins de l’application !</p></aside><p id="r-306266" data-claire-element-id="306266">Puis nous fournissons l'url de redirection Facebook ainsi que l'identifiant de notre application, dans le paramètre <em>client_id</em>. Ainsi, après l’approbation de nos permissions par l’utilisateur, la relation de confiance entre le compte Facebook et notre application Facebook va pouvoir se créer.<br/> Enfin, nous instancions un objet <code data-claire-semantic="csharp">FacebookClient</code>. La méthode <code data-claire-semantic="csharp">GetLoginUrl()</code> va nous retourner l’URL de la page de connexion adéquate sur Facebook afin que notre utilisateur puisse s’y connecter avec son compte. Cette méthode ne fait rien d’extraordinaire à part concaténer les paramètres. Nous nous retrouvons avec une URL de la sorte :</p><p id="r-306267" data-claire-element-id="306267"><cite>Citation</cite></p><blockquote id="r-306269" data-claire-element-id="306269"><p id="r-306268" data-claire-element-id="306268">http://www.facebook.com/dialog/oauth/?redirect_uri=https://www.facebook.com/connect/login_success.html&amp;response_type=token&amp;scope=user_about_me, friends_about_me, user_birthday, friends_birthday, user_status, publish_stream&amp;display=touch&amp;client_id=ID_APP</p></blockquote><p id="r-306270" data-claire-element-id="306270">et il ne reste plus qu’à naviguer sur cette URL avec le <code data-claire-semantic="csharp">WebBrowser</code>…</p><p id="r-306271" data-claire-element-id="306271">Nous arrivons sur une page de ce genre :</p><figure id="r-306273" data-claire-element-id="306274"><img id="r-306272" data-claire-element-id="306272" src="medias/uploads.siteduzero.com_files_369001_370000_369540.png" alt="Image utilisateur"/></figure><p id="r-306275" data-claire-element-id="306275">Qui est bien une page du site de Facebook. C’est donc Facebook qui nous authentifie grâce à sa fenêtre de login.<br/> Entrons nos informations de connexion et validons. Une fois logué, Facebook nous demande si nous acceptons la demande de permission de l’application Facebook :</p><figure id="r-306277" data-claire-element-id="306278"><img id="r-306276" data-claire-element-id="306276" src="medias/uploads.siteduzero.com_files_369001_370000_369542.png" alt="Image utilisateur"/></figure><p id="r-306279" data-claire-element-id="306279">Une fois acceptée nous sommes redirigés. Parfait tout ça… mais, le jeton ? Comment on le récupère ?<br/> Eh bien cela se fait dans l’événement de navigation auquel nous nous sommes abonnés au début. Dans cet événement, nous allons utiliser une méthode de la classe <code data-claire-semantic="csharp">FacebookOAuthResult</code> pour extraire le jeton :</p><pre id="r-306280" data-claire-element-id="306280"><code data-claire-semantic="csharp">private void wb_Navigated(object sender, NavigationEventArgs e)
{
    FacebookOAuthResult result;
    if (client.TryParseOAuthCallbackUrl(e.Uri, out result))
    {
        if (result.IsSuccess)
        {
            token = result.AccessToken;
        }
        wb.Visibility = Visibility.Collapsed;
    }
}</code></pre><p id="r-306281" data-claire-element-id="306281">C’est la méthode <code data-claire-semantic="csharp">TryParseOAuthCallbackUrl</code> qui permet d’extraire le jeton. En fait, elle ne fait rien de compliqué, le jeton est disponible dans l’url de retour qui est du genre :</p><pre id="r-306282" data-claire-element-id="306282"><code>https://www.facebook.com/connect/login_success.html#access_token=AAABhqO0ZBZBXXXXXXXXXXXXXXXXXXXGj2BPwldjIBhZBUsQ5V6iP&amp;expires_in=6782</code></pre><p id="r-306283" data-claire-element-id="306283">Toujours est-il qu’une fois qu’il est récupéré, nous allons pouvoir faire tout ce que nous voulons. :) Chouette. Commençons par masquer le <code data-claire-semantic="csharp">WebBrowser</code>, nous n’en aurons plus besoin.</p><aside id="r-306285" data-claire-element-id="306285" data-claire-semantic="information"><p id="r-306284" data-claire-element-id="306284">À ce moment-là, je trouve qu’il est plus propre de changer de page en stockant le jeton dans le dictionnaire d’état et en le récupérant à la page suivante.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
<span class="arrow"></span>
<span class="next">Qu’est-ce qu’OAuth</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
<span class="next">Exploiter le graphe social avec le SDK</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ExploiterlegraphesocialavecleSDK"></a><h2>Exploiter le graphe social avec le SDK</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
<span class="arrow"></span>
<span class="next">Se loguer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
<span class="next">Récupérer des informations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exploiter-le-graphe-social-avec-le-sdk" data-claire-element-id="306289">Exploiter le graphe social avec le SDK</h4><p id="r-306287" data-claire-element-id="306287">Le graphe social représente le réseau de connexions et de relations entre les utilisateurs sur Facebook. Les connexions peuvent être entre les utilisateurs (amis, famille,…) ou entre des objets via des actions (un utilisateur <strong>aime</strong> une page, un utilisateur <strong>écoute</strong> de la musique,…). Le graphe social se base sur le protocole <strong>Open Graph</strong> pour modéliser ces relations et ces actions, l’action la plus connue étant le fameux « j’aime ».</p><p id="r-306288" data-claire-element-id="306288">L’API du graphe permet d’exploiter ces informations. Cette API est utilisable en REST mais encore une fois, le SDK propose une abstraction permettant de simplifier son utilisation.<br/> La documentation de référence de cette API est disponible à cet emplacement : <a href="http://developers.facebook.com/docs/reference/api/">http://developers.facebook.com/docs/reference/api/</a>. Voyons à présent comment s’en servir…</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
<span class="arrow"></span>
<span class="next">Se loguer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
<span class="next">Récupérer des informations</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rcuprerdesinformations"></a><h2>Récupérer des informations</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
<span class="arrow"></span>
<span class="next">Exploiter le graphe social avec le SDK</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
<span class="next">Obtenir la liste de ses amis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306290" data-claire-element-id="306290">La première chose à faire est de ré-instancier notre objet <code data-claire-semantic="csharp">FacebookClient</code> avec le jeton obtenu :</p><pre id="r-306291" data-claire-element-id="306291"><code data-claire-semantic="csharp">protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    string token = (string)PhoneApplicationService.Current.State[&quot;token&quot;];
    client = new FacebookClient(token);

    base.OnNavigatedTo(e);
}</code></pre><aside id="r-306293" data-claire-element-id="306293" data-claire-semantic="information"><p id="r-306292" data-claire-element-id="306292">Ici, vous pouvez constater que je récupère le jeton que j'ai stocké dans le dictionnaire d'état. Comme ce que nous avons vu dans le chapitre sur la navigation.</p></aside><p id="r-306294" data-claire-element-id="306294">Nous allons pouvoir commencer à interroger l’API du graphe social. Commençons par quelque chose de simple : récupérer des informations sur l’utilisateur en cours. <br/> Premièrement, le XAML. Nous allons afficher l’image de l’utilisateur, son nom et prénom, ainsi que sa date de naissance :</p><pre id="r-306295" data-claire-element-id="306295"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
        &lt;RowDefinition Height=&quot;*&quot; /&gt;
    &lt;/Grid.RowDefinitions&gt;
    &lt;Grid&gt;
        &lt;Grid.ColumnDefinitions&gt;
            &lt;ColumnDefinition Width=&quot;100&quot; /&gt;
            &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
        &lt;/Grid.ColumnDefinitions&gt;
        &lt;Grid.RowDefinitions&gt;
            &lt;RowDefinition Height=&quot;auto&quot; /&gt;
            &lt;RowDefinition Height=&quot;auto&quot; /&gt;
        &lt;/Grid.RowDefinitions&gt;
        &lt;Image x:Name=&quot;imageUtilisateur&quot; Grid.RowSpan=&quot;2&quot; /&gt;
        &lt;TextBlock x:Name=&quot;nomUtilisateur&quot; Grid.Column=&quot;1&quot; /&gt;
        &lt;TextBlock x:Name=&quot;dateNaissanceUtilisateur&quot; Grid.Row=&quot;1&quot; Grid.Column=&quot;1&quot;/&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-306296" data-claire-element-id="306296">Pour obtenir ces infos, nous allons interroger le graphe social. On utilise pour cela la méthode <code data-claire-semantic="csharp">Get</code> de l’objet <code data-claire-semantic="csharp">FacebookClient</code> :</p><pre id="r-306297" data-claire-element-id="306297"><code data-claire-semantic="csharp">protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
{
    string token = (string)PhoneApplicationService.Current.State[&quot;token&quot;];
    client = new FacebookClient(token);
    client.GetCompleted += facebookClient_GetCompleted;
    client.GetAsync(&quot;https://graph.facebook.com/me&quot;, null, &quot;moi&quot;);

    base.OnNavigatedTo(e);
}

private void facebookClient_GetCompleted(object sender, FacebookApiEventArgs e)
{
    if (e.Error == null)
    {
        if ((string)e.UserState == &quot;moi&quot;)
        {
            JsonObject data = (JsonObject)e.GetResultData();
            string id = (string)data[&quot;id&quot;];
            string prenom = (string)data[&quot;first_name&quot;];
            string nom = (string)data[&quot;last_name&quot;];
            Dispatcher.BeginInvoke(() =&gt;
            {
                imageUtilisateur.Source = new BitmapImage(new Uri(&quot;https://graph.facebook.com/&quot; + id + &quot;/picture&quot;));
                nomUtilisateur.Text = prenom + &quot; &quot; + nom;
                dateNaissanceUtilisateur.Text = ObtientDateDeNaissance(data);
            });
        }
    }
}

private string ObtientDateDeNaissance(JsonObject data)
{
    if (data.ContainsKey(&quot;birthday&quot;))
    {
        DateTime d;
        CultureInfo enUS = new CultureInfo(&quot;en-US&quot;);
        if (DateTime.TryParseExact((string)data[&quot;birthday&quot;], &quot;MM/dd/yyyy&quot;, enUS, System.Globalization.DateTimeStyles.None, out d))
            return d.ToShortDateString();
    }
    return string.Empty;
}</code></pre><p id="r-306298" data-claire-element-id="306298">Le principe est de faire un appel REST à la ressource <a href="https://graph.facebook.com/me">https://graph.facebook.com/me</a> et de récupérer le résultat. Ce résultat s’obtient avec la méthode <code data-claire-semantic="csharp">GetResultData</code> qui retourne un <code data-claire-semantic="csharp">JsonObject</code>. Nous pourrons alors accéder aux informations contenues dans cet objet, comme l’identifiant, le <em>first_name</em>, le <em>last_name</em> ou le <em>birthday</em>. Remarquez que vous n’aurez une valeur dans le « champ de date de naissance » que si vous avez demandé la permission <em>user_birthday</em>, d’où la vérification de l’existence de la clé avant son utilisation. <br/> Remarquez que l’image d’une personne s’obtient grâce à son identifiant : <a href="https://graph.facebook.com/id_utilisateur/picture">https://graph.facebook.com/id_utilisateur/picture</a>.</p><p id="r-306299" data-claire-element-id="306299">Ce qui nous donne :</p><figure id="r-306301" data-claire-element-id="306302"><img id="r-306300" data-claire-element-id="306300" src="medias/uploads.siteduzero.com_files_369001_370000_369544.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
<span class="arrow"></span>
<span class="next">Exploiter le graphe social avec le SDK</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
<span class="next">Obtenir la liste de ses amis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Obtenirlalistedesesamis"></a><h2>Obtenir la liste de ses amis</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
<span class="arrow"></span>
<span class="next">Récupérer des informations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
<span class="next">Poster sur son mur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306304" data-claire-element-id="306304">Nous allons en profiter pour faire la même chose avec les amis de l’utilisateur, nous allons les afficher et afficher leurs dates de naissance.<br/> C’est aussi simple que précédemment, il suffit d’invoquer la ressource située à <a href="https://graph.facebook.com/me/friends">https://graph.facebook.com/me/friends</a>. Cette requête nous permet d’obtenir l’id et le nom des amis, sous la forme d’un tableau JSON. Sauf que ce n’est pas suffisant, nous souhaitons obtenir leurs anniversaires. Il faut appeler la ressource suivante : <a href="https://graph.facebook.com/id_utilisateur">https://graph.facebook.com/id_utilisateur</a> pour obtenir des informations complémentaires. Ce que nous allons faire de ce pas…<br/> J’en profite pour rajouter une <code data-claire-semantic="csharp">ObservableCollection</code> dans ma classe. Il s’agit d’une liste qui gère automatiquement la notification de l’interface en cas d’ajout dans la liste :</p><pre id="r-306305" data-claire-element-id="306305"><code data-claire-semantic="csharp">public ObservableCollection&lt;Utilisateur&gt; UtilisateurList {get;set;}</code></pre><p id="r-306306" data-claire-element-id="306306">C’est une liste d’objets <code data-claire-semantic="csharp">Utilisateur</code> :</p><pre id="r-306307" data-claire-element-id="306307"><code data-claire-semantic="csharp">public class Utilisateur
{
    public string Id { get; set; }
    public string Nom { get; set; }
    public BitmapImage Image { get; set; }
    public string DateNaissance{ get; set; }
}</code></pre><p id="r-306308" data-claire-element-id="306308">Que je vais alimenter suite à la réception des infos depuis l’API :</p><pre id="r-306309" data-claire-element-id="306309"><code data-claire-semantic="csharp">private void facebookClient_GetCompleted(object sender, FacebookApiEventArgs e)
{
    if (e.Error == null)
    {
        if ((string)e.UserState == &quot;moi&quot;)
        {
            JsonObject data = (JsonObject)e.GetResultData();
            string id = (string)data[&quot;id&quot;];
            string prenom = (string)data[&quot;first_name&quot;];
            string nom = (string)data[&quot;last_name&quot;];
            Dispatcher.BeginInvoke(() =&gt;
            {
                imageUtilisateur.Source = new BitmapImage(new Uri(&quot;https://graph.facebook.com/&quot; + id + &quot;/picture&quot;));
                nomUtilisateur.Text = prenom + &quot; &quot; + nom;
                dateNaissanceUtilisateur.Text = ObtientDateDeNaissance(data);
            });

            client.GetAsync(&quot;https://graph.facebook.com/me/friends&quot;, null, &quot;amis&quot;);
        }
        if ((string)e.UserState == &quot;amis&quot;)
        {
            JsonObject data = (JsonObject)e.GetResultData();
            JsonArray friends = (JsonArray)data[&quot;data&quot;];
            foreach (JsonObject f in friends)
            {
                string id = (string)f[&quot;id&quot;];
                client.GetAsync(&quot;https://graph.facebook.com/&quot; + id, null, &quot;detail&quot;);
            }
        }
        if ((string)e.UserState == &quot;detail&quot;)
        {
            JsonObject data = (JsonObject)e.GetResultData();
            string name = (string)data[&quot;name&quot;];
            string id = (string)data[&quot;id&quot;];
            Dispatcher.BeginInvoke(() =&gt; UtilisateurList.Add(new Utilisateur 
           { Id = id, Nom = name, Image = new BitmapImage(new Uri(&quot;https://graph.facebook.com/&quot; + id + &quot;/picture&quot;)), DateNaissance = ObtientDateDeNaissance(data) }));
        }
    }
}

private string ObtientDateDeNaissance(JsonObject data)
{
    if (data.ContainsKey(&quot;birthday&quot;))
    {
        DateTime d;
        CultureInfo enUS = new CultureInfo(&quot;en-US&quot;);
        if (DateTime.TryParseExact((string)data[&quot;birthday&quot;], &quot;MM/dd/yyyy&quot;, enUS, System.Globalization.DateTimeStyles.None, out d))
            return d.ToShortDateString();
    }
    return string.Empty;
}</code></pre><p id="r-306310" data-claire-element-id="306310">Remarquez que j’utilise à chaque requête une chaine me permettant de déterminer le contexte de la requête.<br/> Donc à la fin de la requête permettant d’obtenir les informations sur l’utilisateur, je démarre la requête permettant d’avoir la liste de ses amis. À réception, j’extrais la liste des identifiants de chaque ami et je réinterroge l’API pour avoir le détail de chaque utilisateur. Une fois le détail reçu, je l’ajoute à mon <code data-claire-semantic="csharp">ObservableCollection</code>.<br/> Ouf ! :-° <br/> Vous n’aurez bien sûr pas oublié de faire les initialisations adéquates :</p><pre id="r-306311" data-claire-element-id="306311"><code data-claire-semantic="csharp">public PagePrincipale()
{
    InitializeComponent();

    UtilisateurList = new ObservableCollection&lt;Utilisateur&gt;();

    DataContext = this;
}</code></pre><p id="r-306312" data-claire-element-id="306312">Et de faire le XAML de notre <code data-claire-semantic="csharp">ListBox</code> :</p><pre id="r-306313" data-claire-element-id="306313"><code data-claire-semantic="xml">&lt;ListBox ItemsSource=&quot;{Binding UtilisateurList}&quot; Grid.Row=&quot;1&quot; &gt;
    &lt;ListBox.ItemTemplate&gt;
        &lt;DataTemplate&gt;
            &lt;Grid&gt;
                &lt;Grid.ColumnDefinitions&gt;
                    &lt;ColumnDefinition Width=&quot;100&quot; /&gt;
                    &lt;ColumnDefinition Width=&quot;*&quot; /&gt;
                &lt;/Grid.ColumnDefinitions&gt;
                &lt;Grid.RowDefinitions&gt;
                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;
                    &lt;RowDefinition Height=&quot;auto&quot; /&gt;
                &lt;/Grid.RowDefinitions&gt;
                &lt;Image Source=&quot;{Binding Image}&quot; Grid.RowSpan=&quot;2&quot; /&gt;
                &lt;TextBlock Text=&quot;{Binding Nom}&quot; Grid.Column=&quot;1&quot; /&gt;
                &lt;TextBlock Text=&quot;{Binding DateNaissance}&quot; Grid.Row=&quot;1&quot; Grid.Column=&quot;1&quot;/&gt;
            &lt;/Grid&gt;
        &lt;/DataTemplate&gt;
    &lt;/ListBox.ItemTemplate&gt;
&lt;/ListBox&gt;</code></pre><p id="r-306314" data-claire-element-id="306314">Et voilà, nous pouvons afficher la liste de nos amis. Par respect pour les miens, je ne présenterai pas de copie d’écran avec leurs têtes et leurs anniversaires, mais vous pouvez essayer avec les vôtres, cela fonctionne très bien ! ^^</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
<span class="arrow"></span>
<span class="next">Récupérer des informations</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
<span class="next">Poster sur son mur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Postersursonmur"></a><h2>Poster sur son mur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
<span class="arrow"></span>
<span class="next">Obtenir la liste de ses amis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
<span class="next">Utiliser les tasks</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306316" data-claire-element-id="306316">Récupérer des informations et les différentes connexions du graphe est très intéressant pour les exploiter commercialement. On peut faire aussi d’autres choses, grâce à la possibilité de réaliser des publications sur son mur. Imaginons par exemple que je développe un jeu pour Windows Phone, je fais un score terrible et je souhaite défier mes amis pour qu’ils tentent de me battre. Rien de tel que de poster un petit message sur mon mur Facebook pour les inciter à venir jouer et à me battre…</p><p id="r-306317" data-claire-element-id="306317">C’est ce que nous allons faire ici. Pour l’exemple, je vais créer le classique jeu du plus ou du moins. L’intérêt ici, outre de nous amuser, sera de donner la possibilité de poster son score sur son mur automatiquement.</p><p id="r-306318" data-claire-element-id="306318">Première chose à faire, réaliser ce petit jeu. J’espère que vous me pardonnerez la sobriété de l’interface, mais le but est de faire un code simple. Nous n’oublierons pas le petit bouton permettant de poster son score sur Facebook.<br/> Voici le XAML :</p><pre id="r-306319" data-claire-element-id="306319"><code data-claire-semantic="xml">&lt;Grid x:Name=&quot;LayoutRoot&quot; Background=&quot;Transparent&quot;&gt;
    &lt;Grid.RowDefinitions&gt;
        &lt;RowDefinition Height=&quot;Auto&quot;/&gt;
        &lt;RowDefinition Height=&quot;*&quot;/&gt;
    &lt;/Grid.RowDefinitions&gt;

    &lt;StackPanel x:Name=&quot;TitlePanel&quot; Grid.Row=&quot;0&quot; Margin=&quot;12,17,0,28&quot;&gt;
        &lt;TextBlock x:Name=&quot;ApplicationTitle&quot; Text=&quot;Jeu du plus ou du moins&quot; Style=&quot;{StaticResource PhoneTextNormalStyle}&quot;/&gt;
        &lt;TextBlock x:Name=&quot;PageTitle&quot; Text=&quot;Jeu&quot; Margin=&quot;9,-7,0,0&quot; Style=&quot;{StaticResource PhoneTextTitle1Style}&quot;/&gt;
    &lt;/StackPanel&gt;

    &lt;Grid x:Name=&quot;ContentPanel&quot; Grid.Row=&quot;1&quot; Margin=&quot;12,0,12,0&quot;&gt;
        &lt;StackPanel&gt;
        &lt;TextBlock Text=&quot;Veuillez saisir une valeur (entre 0 et 500)&quot; HorizontalAlignment=&quot;Center&quot; /&gt;
        &lt;TextBox Text=&quot;{Binding Valeur, Mode=TwoWay}&quot; InputScope=&quot;Number&quot; /&gt;
        &lt;Button x:Name=&quot;boutonVerifier&quot; Content=&quot;Vérifier&quot; Click=&quot;Button_Click_1&quot; /&gt;
        &lt;TextBlock Text=&quot;{Binding Indication}&quot; Height=&quot;50&quot; /&gt;
            &lt;TextBlock Text=&quot;{Binding NombreDeCoups}&quot; Height=&quot;50&quot; /&gt;
        &lt;Button x:Name=&quot;bouton&quot; Content=&quot;Publier mon score sur Facebook&quot; Click=&quot;Button_Click&quot; IsEnabled=&quot;False&quot; /&gt;
            &lt;Button Content=&quot;Rejouer&quot; Click=&quot;Button_Click_2&quot;/&gt;
        &lt;/StackPanel&gt;
    &lt;/Grid&gt;
&lt;/Grid&gt;</code></pre><p id="r-306320" data-claire-element-id="306320">Remarquons juste quelques petites choses que nous n’avons pas forcément vues. Première chose, c’est la propriété <code data-claire-semantic="csharp">InputScope</code> qui vaut <code data-claire-semantic="csharp">Number</code> dans le <code data-claire-semantic="csharp">TextBox</code>. Cela permet de spécifier le format du clavier virtuel qui va s’afficher. Ici, je souhaite le format qui propose des nombres. Deuxième chose, nous remarquons une propriété <code data-claire-semantic="csharp">IsEnabled</code> sur le bouton. Cela permet, comme son nom le suggère, de faire en sorte que le bouton ne soit pas cliquable, car désactivé.</p><p id="r-306321" data-claire-element-id="306321">Ce qui donnera :</p><figure id="r-306323" data-claire-element-id="306324"><img id="r-306322" data-claire-element-id="306322" src="medias/uploads.siteduzero.com_files_369001_370000_369546.png" alt="Image utilisateur"/></figure><p id="r-306325" data-claire-element-id="306325">Passons désormais au code behind :</p><pre id="r-306326" data-claire-element-id="306326"><code data-claire-semantic="csharp">public partial class MainPage : PhoneApplicationPage, INotifyPropertyChanged
{
    private Random random;
    private int valeurSecrete;
    private int nbCoups;

    private string valeur;
    public string Valeur
    {
        get
        {
            return valeur;
        }
        set
        {
            if (value == valeur)
                return;
            valeur = value;
            NotifyPropertyChanged(&quot;Valeur&quot;);
        }
    }

    private string indication;
    public string Indication
    {
        get
        {
            return indication;
        }
        set
        {
            if (value == indication)
                return;
            indication = value;
            NotifyPropertyChanged(&quot;Indication&quot;);
        }
    }

    private string nombreDeCoup;
    public string NombreDeCoups
    {
        get
        {
            return nombreDeCoup;
        }
        set
        {
            if (value == nombreDeCoup)
                return;
            nombreDeCoup = value;
            NotifyPropertyChanged(&quot;NombreDeCoups&quot;);
        }
    }

    public event PropertyChangedEventHandler PropertyChanged;

    public void NotifyPropertyChanged(string nomPropriete)
    {
        if (PropertyChanged != null)
            PropertyChanged(this, new PropertyChangedEventArgs(nomPropriete));
    }

    public MainPage()
    {
        InitializeComponent();
        random = new Random();
        valeurSecrete = random.Next(1, 500);
        nbCoups = 0;

        DataContext = this;
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        PhoneApplicationService.Current.State[&quot;message&quot;] = &quot;Je viens de trouver le nombre secret en &quot; + nombreDeCoup;
        NavigationService.Navigate(new Uri(&quot;/LoginFacebook.xaml&quot;, UriKind.Relative)); ;
    }

    private void Button_Click_1(object sender, RoutedEventArgs e)
    {
        int num;
        if (int.TryParse(Valeur, out num))
        {
            if (valeurSecrete == num)
            {
                Indication = &quot;Gagné !!&quot;;
                boutonVerifier.IsEnabled = false;
                bouton.IsEnabled = true;
            }
            else
            {
                nbCoups++;
                if (valeurSecrete &lt; num)
                    Indication = &quot;Trop grand ...&quot;;
                else
                    Indication = &quot;Trop petit ...&quot;;
                if (nbCoups == 1)
                    NombreDeCoups = nbCoups + &quot; coup&quot;;
                else
                    NombreDeCoups = nbCoups + &quot; coups&quot;;
            }
        }
        else
            Indication = &quot;Veuillez saisir un entier ...&quot;;
    }

    private void Button_Click_2(object sender, RoutedEventArgs e)
    {
        nbCoups = 0;
        boutonVerifier.IsEnabled = true;
        bouton.IsEnabled = false;
        Valeur = string.Empty;
        Indication = string.Empty;
        NombreDeCoups = string.Empty;
    }
}</code></pre><p id="r-306327" data-claire-element-id="306327">Il n’a rien de transcendant, on commence par déterminer un nombre secret. Lors du clic de vérification, on fait les comparaisons adéquates, on incrémente le nombre de coups, on donne les indications et lorsque nous trouvons la bonne valeur, on change les valeurs des propriétés <code data-claire-semantic="csharp">IsEnabled</code> des boutons. Ce qui fait qu’on rend cliquable le bouton qui permet de poster le message sur Facebook. Celui-ci construit le message et bascule sur la page de login Facebook, comme on la connait.<br/> La différence ici vient de ce que l’on fait lorsqu’on obtient le <code data-claire-semantic="csharp">token</code> :</p><pre id="r-306328" data-claire-element-id="306328"><code data-claire-semantic="csharp">public partial class LoginFacebook : PhoneApplicationPage
{
    private FacebookClient client;

    public LoginFacebook()
    {
        InitializeComponent();
    }

    protected override void OnNavigatedTo(System.Windows.Navigation.NavigationEventArgs e)
    {
        base.OnNavigatedTo(e);
        Connect();
    }

    private void Connect()
    {
        but.IsEnabled = false;
	Dictionary&lt;string, object&gt; parameters = new Dictionary&lt;string, object&gt;();
	parameters[&quot;response_type&quot;] = &quot;token&quot;;
	parameters[&quot;display&quot;] = &quot;touch&quot;;
	parameters[&quot;scope&quot;] = &quot;user_about_me, friends_about_me, user_birthday, friends_birthday, publish_stream&quot;;
	parameters[&quot;redirect_uri&quot;] = &quot;https://www.facebook.com/connect/login_success.html&quot;;
	parameters[&quot;client_id&quot;] = &quot;votre appid&quot;;

	client = new FacebookClient();
	Uri uri = client.GetLoginUrl(parameters);

        wb.Visibility = Visibility.Visible;
        wb.Navigate(uri);
    }

    private void wb_Navigated(object sender, System.Windows.Navigation.NavigationEventArgs e)
    {
        FacebookOAuthResult result;
        if (client.TryParseOAuthCallbackUrl(e.Uri, out result))
        {
            if (result.IsSuccess)
            {
                string token = result.AccessToken;
                client = new FacebookClient(token);
                client.PostCompleted += new EventHandler&lt;FacebookApiEventArgs&gt;(c_PostCompleted);
                Dictionary&lt;string, object&gt; parameters = new Dictionary&lt;string, object&gt;();
                parameters[&quot;message&quot;] = (string)PhoneApplicationService.Current.State[&quot;message&quot;];
                client.PostAsync(&quot;https://graph.facebook.com/me/feed&quot;, parameters);
            }
            else
                but.IsEnabled = true;
            wb.Visibility = Visibility.Collapsed;
        }
    }

    private void wb_NavigationFailed(object sender, System.Windows.Navigation.NavigationFailedEventArgs e)
    {
        but.IsEnabled = true;
    }

    private void Button_Click(object sender, RoutedEventArgs e)
    {
        Connect();
    }

    private void c_PostCompleted(object sender, FacebookApiEventArgs e)
    {
        Dispatcher.BeginInvoke(() =&gt;
        {
            if (e.Error == null)
                MessageBox.Show(&quot;Message correctement posté&quot;);
            else
                MessageBox.Show(&quot;Impossible de poster le message&quot;);
            if (NavigationService.CanGoBack)
                NavigationService.GoBack();
        });
    }
}</code></pre><p id="r-306329" data-claire-element-id="306329">En l’occurrence, on utilise la méthode <code data-claire-semantic="csharp">PostAsync</code> pour envoyer des données :</p><pre id="r-306330" data-claire-element-id="306330"><code data-claire-semantic="csharp">client = new FacebookClient(token);
client.PostCompleted += new EventHandler&lt;FacebookApiEventArgs&gt;(c_PostCompleted);
Dictionary&lt;string, object&gt; parameters = new Dictionary&lt;string, object&gt;();
parameters[&quot;message&quot;] = (string)PhoneApplicationService.Current.State[&quot;message&quot;];
client.PostAsync(&quot;https://graph.facebook.com/me/feed&quot;, parameters);</code></pre><p id="r-306331" data-claire-element-id="306331">On passe un message dans la propriété message puis on envoie tout ça en REST sur l’adresse du mur. L’événement est appelé une fois que l’envoi est terminé et on est en mesure de déterminer si l’envoi s’est bien passé ou pas. J’en profite d’ailleurs pour déclencher la navigation vers la page précédente pour retourner au jeu.</p><p id="r-306332" data-claire-element-id="306332">Et voilà !</p><figure id="r-306334" data-claire-element-id="306335"><img id="r-306333" data-claire-element-id="306333" src="medias/uploads.siteduzero.com_files_369001_370000_369547.png" alt="Image utilisateur"/></figure><p id="r-306336" data-claire-element-id="306336">Côté Facebook, nous pouvons constater l’apparition du message sur mon mur :</p><figure id="r-306338" data-claire-element-id="306339"><img id="r-306337" data-claire-element-id="306337" src="medias/uploads.siteduzero.com_files_369001_370000_369548.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
<span class="arrow"></span>
<span class="next">Obtenir la liste de ses amis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
<span class="next">Utiliser les tasks</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserlestasks"></a><h2>Utiliser les tasks</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
<span class="arrow"></span>
<span class="next">Poster sur son mur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">
<span class="next">Publier son application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-306341" data-claire-element-id="306341">Il existe une autre solution pour poster un message sur son mur. Très simple, sans besoin d’une application, il suffit d’utiliser un launcher du téléphone, attendu que ce dernier soit configuré pour Facebook, ce qui est souvent le cas.<br/> Cela se fait en quelques lignes de code, par exemple pour mettre à jour son statut :</p><pre id="r-306342" data-claire-element-id="306342"><code data-claire-semantic="csharp">ShareStatusTask shareStatusTask = new ShareStatusTask();
shareStatusTask.Status = &quot;Bonjour mon mur&quot;;
shareStatusTask.Show();</code></pre><p id="r-306343" data-claire-element-id="306343">Evidemment, il demande une confirmation à l’utilisateur. Vous ne pourrez pas le voir sur l’émulateur alors voici une copie de mon téléphone :</p><figure id="r-306345" data-claire-element-id="306346"><img id="r-306344" data-claire-element-id="306344" src="medias/uploads.siteduzero.com_files_371001_372000_371182.jpg" alt="Image utilisateur"/></figure><p id="r-306347" data-claire-element-id="306347">Ce n’est cependant pas vraiment un partage Facebook, c’est un partage pour tous les réseaux sociaux configurés du téléphone, et on peut en l’occurrence choisir Facebook, c’est ce que j’ai fait ici dans la deuxième zone.<br/> Il est également très facile de publier un lien :</p><pre id="r-306348" data-claire-element-id="306348"><code data-claire-semantic="csharp">ShareLinkTask shareLinkTask = new ShareLinkTask();

shareLinkTask.Title = &quot;Mon livre pour apprendre le C#&quot;;
shareLinkTask.LinkUri = new Uri(&quot;http://www.siteduzero.com/boutique-614-797-apprenez-a-developper-en-c.html&quot;, UriKind.Absolute);
shareLinkTask.Message = &quot;A lire absolument ...&quot;;
shareLinkTask.Show();</code></pre><figure id="r-306350" data-claire-element-id="306351"><img id="r-306349" data-claire-element-id="306349" src="medias/uploads.siteduzero.com_files_371001_372000_371183.jpg" alt="Image utilisateur"/></figure><p id="r-306352" data-claire-element-id="306352">Grâce à ces deux launchers, il devient très facile de publier un statut ou un lien, même si on est fatalement un peu plus limité car on ne peut que poster sur son mur et pas par exemple sur le mur de nos amis pour leur souhaiter un bon anniversaire :p .</p><p id="r-306353" data-claire-element-id="306353">Nous avons vu comment lire des informations dans le graphe social et comment y poster un message. Il y a beaucoup d’autres informations intéressantes dans ce graphe social. Des applications à but commercial pourraient les exploiter avec intérêt. Étant donné qu’il est très facile de récupérer ce que vous aimez (les « j’aime »), il pourrait être très facile de vous proposer des produits en adéquation avec ce que vous aimez. Les entreprises d’e-commerce ne s’y trompent pas et essayent de vous attirer sur leurs applications Facebook. À partir du moment où vous autorisez l’accès à vos informations, vous avez pu voir comme il est simple de les récupérer. Cela ouvre beaucoup de possibilités pour créer des applications Windows Phone exploitant le social… ;)</p><aside id="r-306355" data-claire-element-id="306355" data-claire-semantic="information"><p id="r-306354" data-claire-element-id="306354">Vous pouvez télécharger les codes de cette application en cliquant sur ces liens : <a href="medias/uploads.siteduzero.com_ftp_windows_phone_jeu_plus_moins.zip">template jeu</a> ; <a href="medias/uploads.siteduzero.com_ftp_windows_phone_facebook.zip">template application Facebook</a>.</p></aside><h3 id="r-en-resume-416" data-claire-element-id="306367">En résumé</h3><ul id="r-306366" data-claire-element-id="306366"><li id="r-306357" data-claire-element-id="306357"><p id="r-306356" data-claire-element-id="306356">Il faut créer une application Facebook afin de pouvoir interagir avec Facebook depuis notre application Windows Phone.</p></li><li id="r-306359" data-claire-element-id="306359"><p id="r-306358" data-claire-element-id="306358">On utilise le contrôle <code data-claire-semantic="csharp">WebBrowser</code> pour établir l’authentification OAuth.</p></li><li id="r-306361" data-claire-element-id="306361"><p id="r-306360" data-claire-element-id="306360">Les permissions, si elles sont acceptées, nous permettent d’accéder aux informations du graphe social.</p></li><li id="r-306363" data-claire-element-id="306363"><p id="r-306362" data-claire-element-id="306362">Le SDK nous simplifie l’accès aux ressources REST du graphe social.</p></li><li id="r-306365" data-claire-element-id="306365"><p id="r-306364" data-claire-element-id="306364">On peut utiliser des launchers pour partager très facilement des informations sur les réseaux sociaux.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
<span class="arrow"></span>
<span class="next">Poster sur son mur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">
<span class="next">Publier son application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Publiersonapplication"></a><h2>Publier son application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
<span class="arrow"></span>
<span class="next">Utiliser les tasks</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
<span class="next">Créer un compte développeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-306370" data-claire-element-id="306370">Ça y est, votre application est prête. L’émulateur vous a bien aidé dans votre phase de développement et vous vous sentez prêts pour passer à la suite. Nous allons voir dans ce chapitre comment faire pour tester son application sur un téléphone et pour soumettre son application sur le Windows Phone Store.<br/> Mais la première chose indispensable à faire est de tester son application sur un vrai téléphone. Même si l’émulateur est capable de simuler pas mal de choses, c’est quand même le vrai téléphone qui va être capable de se rapprocher au plus de ce que vont avoir les utilisateurs au quotidien, forcément... :) <br/> Ensuite, cela permet de valider plein de petites choses que l’on ne voit pas forcément dans l’émulateur (comme les images de l’application). Enfin, et c’est presque le plus important, cela permet de valider la performance de notre application. <br/> En effet, un téléphone est généralement bien moins puissant qu’un ordinateur de développeur. Il m’est souvent arrivé de constater que mon application était super fluide dans l’émulateur, mais de retour sur mon téléphone, celle-ci était inutilisable tellement elle était lente.<br/> Pour la terminer correctement, il faut donc déployer son application sur un téléphone.</p>
</div><a name="Creruncomptedveloppeur"></a><h2>Créer un compte développeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">
<span class="arrow"></span>
<span class="next">Publier son application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
<span class="next">Inscription d’un téléphone de développeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-un-compte-developpeur" data-claire-element-id="306404">Créer un compte développeur</h4><p id="r-306371" data-claire-element-id="306371">La première chose est de créer un compte développeur. C’est une opération qui coute 99$ par an (75€). Elle est indispensable pour déployer son application sur un téléphone et pour pouvoir publier sur le Windows Phone Store.<br/> Rendez-vous donc sur <a href="http://create.msdn.com/">http://create.msdn.com/</a>. Le souci c’est que pour l’instant c’est en anglais, donc si vous n’êtes pas trop anglophone, suivez le guide. ;) On doit dans un premier temps créer un compte en cliquant sur « Sign in ».</p><figure id="r-306373" data-claire-element-id="306374"><img id="r-306372" data-claire-element-id="306372" src="medias/uploads.siteduzero.com_files_406001_407000_406442.png" alt="Image utilisateur"/></figure><p id="r-306375" data-claire-element-id="306375">Il faut ensuite s’authentifier avec son compte Windows live :</p><figure id="r-306377" data-claire-element-id="306378"><img id="r-306376" data-claire-element-id="306376" src="medias/uploads.siteduzero.com_files_406001_407000_406525.png" alt="Image utilisateur"/></figure><p id="r-306379" data-claire-element-id="306379">Saisissez votre e-mail et votre mot de passe. Vous êtes redirigés sur la page d'accueil où vous pourrez cliquer sur n'importe quelle action par exemple en cliquant sur <code>Dashboard</code> :</p><figure id="r-306381" data-claire-element-id="306382"><img id="r-306380" data-claire-element-id="306380" src="medias/uploads.siteduzero.com_files_406001_407000_406526.png" alt="Image utilisateur"/></figure><p id="r-306383" data-claire-element-id="306383">Nous pouvons alors nous inscrire en cliquant sur Join Now :</p><figure id="r-306385" data-claire-element-id="306386"><img id="r-306384" data-claire-element-id="306384" src="medias/uploads.siteduzero.com_files_406001_407000_406527.png" alt="Image utilisateur"/></figure><p id="r-306387" data-claire-element-id="306387">afin d'obtenir le formulaire d’inscription, où l’on renseigne notamment son pays, puis si on est une entreprise, un particulier ou un étudiant.</p><aside id="r-306389" data-claire-element-id="306389" data-claire-semantic="information"><p id="r-306388" data-claire-element-id="306388">Il est à noter que l'inscription au Windows Phone Store est gratuite quand on est étudiant.</p></aside><p id="r-306390" data-claire-element-id="306390">Bref, de l’administratif :</p><figure id="r-306392" data-claire-element-id="306393"><img id="r-306391" data-claire-element-id="306391" src="medias/uploads.siteduzero.com_files_406001_407000_406528.png" alt="Image utilisateur"/></figure><p id="r-306394" data-claire-element-id="306394">Toujours dans l’administratif, on a besoin ensuite de saisir nos informations personnelles, nom, prénom, etc., ainsi qu'un nom Windows Phone Store :</p><figure id="r-306396" data-claire-element-id="306397"><img id="r-306395" data-claire-element-id="306395" src="medias/uploads.siteduzero.com_files_406001_407000_406529.png" alt="Image utilisateur"/></figure><p id="r-306398" data-claire-element-id="306398">Passons à la suite. C’est le moment délicat, le paiement de l’abonnement annuel. Il faut choisir le type de règlement, paiement ou bon de réduction :</p><figure id="r-306400" data-claire-element-id="306401"><img id="r-306399" data-claire-element-id="306399" src="medias/uploads.siteduzero.com_files_406001_407000_406530.png" alt="Image utilisateur"/></figure><p id="r-306402" data-claire-element-id="306402">L’abonnement est donc de 75€. Il est possible de régler avec un bon de réduction, par exemple si on a de l’argent sur son compte Xbox. Enfin, pour les étudiants, pour les détenteurs d'un code promotionnel, ou pour les membres inscrits <a href="http://msdn.microsoft.com/fr-fr/windowsphone/accelerateur-windows-phone-7.aspx">au programme accélérateur Windows phone</a>, c'est gratuit ! Il ne reste qu’à saisir les informations de facturation.</p><p id="r-306403" data-claire-element-id="306403">Et voilà, le compte est désormais créé. Nous recevons un e-mail de confirmation qui va nous permettre d’activer notre compte via un lien. Une fois ce lien cliqué, nous obtenons confirmation de la bonne création du compte.<br/> Et c’est terminé pour cette étape. Nous avons donc associé notre compte Windows live à un compte Windows Phone Store. :D</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">
<span class="arrow"></span>
<span class="next">Publier son application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
<span class="next">Inscription d’un téléphone de développeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Inscriptionduntlphonededveloppeur"></a><h2>Inscription d’un téléphone de développeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
<span class="arrow"></span>
<span class="next">Créer un compte développeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
<span class="next">Le Marketplace test kit</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-inscription-d-un-telephone-de-developpeur" data-claire-element-id="306427">Inscription d’un téléphone de développeur</h4><p id="r-306405" data-claire-element-id="306405">Avant de pouvoir déployer son application sur son téléphone, il a besoin d’être enregistré. Première chose à faire, relier son téléphone à son ordinateur via le câble.</p><aside id="r-306407" data-claire-element-id="306407" data-claire-semantic="information"><p id="r-306406" data-claire-element-id="306406">Si vous n'avez pas de téléphone, vous pouvez vous inscrire <a href="http://msdn.microsoft.com/fr-fr/windowsphone/accelerateur-windows-phone-7.aspx">au programme accélérateur Windows Phone</a> afin qu'on vous en prête un.</p></aside><p id="r-306408" data-claire-element-id="306408">Si ce n’est pas déjà fait, il demandera d’installer le logiciel Zune. Il est nécessaire pour la suite des opérations, donc installez-le (il est d’ailleurs nécessaire pour faire les mises à jour du téléphone).</p><figure id="r-306410" data-claire-element-id="306411"><img id="r-306409" data-claire-element-id="306409" src="medias/uploads.siteduzero.com_files_370001_371000_370055.png" alt="Image utilisateur"/></figure><p id="r-306412" data-claire-element-id="306412">Si vous avez un code de verrouillage protégeant votre téléphone, vous devrez le saisir.</p><p id="r-306413" data-claire-element-id="306413">Ensuite, vous devrez enregistrer le téléphone comme étant un téléphone de développeur. Il faudra aller lancer le programme « Windows Phone Developer Registration », qui se trouve dans le menu Démarrer :</p><figure id="r-306415" data-claire-element-id="306416"><img id="r-306414" data-claire-element-id="306414" src="medias/uploads.siteduzero.com_files_370001_371000_370056.png" alt="Image utilisateur"/></figure><p id="r-306417" data-claire-element-id="306417">À noter que vous pourrez enregistrer jusqu’à 5 téléphones différents pour le même compte développeur. Ce qui permet de tester son application sur plusieurs appareils.<br/> Une fois l’application démarrée, il faut s’authentifier avec son compte Windows live :</p><figure id="r-306419" data-claire-element-id="306420"><img id="r-306418" data-claire-element-id="306418" src="medias/uploads.siteduzero.com_files_370001_371000_370058.png" alt="Image utilisateur"/></figure><p id="r-306421" data-claire-element-id="306421">Et valider en cliquant sur <code>Inscrire</code>. Remarquez que si le téléphone est déjà enregistré, vous pourrez le dés-enregistrer de cette même façon.<br/> Il est important de le faire si jamais vous voulez vendre votre téléphone ou s’il ne doit plus servir à des fins de débogage. En effet, dans la mesure où vous êtes limités sur le nombre de téléphones utilisables via un compte développeur, il est important de dés-enregistrer un téléphone qui ne servira plus.</p><p id="r-306422" data-claire-element-id="306422">Voilà, votre téléphone est prêt à recevoir votre application. Pour cela, dans Visual Studio, il faut changer la destination du déploiement dans la liste déroulante où il y avait auparavant l’émulateur :</p><figure id="r-306424" data-claire-element-id="306425"><img id="r-306423" data-claire-element-id="306423" src="medias/uploads.siteduzero.com_files_370001_371000_370059.png" alt="Image utilisateur"/></figure><p id="r-306426" data-claire-element-id="306426">Ce qui est formidable, c’est que vous allez pouvoir bénéficier de tout l’environnement de Visual Studio avec votre application directement sur votre téléphone. Cela veut notamment dire avoir accès au débogueur, ce qui vous permet de mettre des points d’arrêts ou de voir des valeurs de variables alors que vous êtes en train de vous servir de votre téléphone. Bon, Ok, il y aura forcément le câble qui relie le PC au téléphone, mais c’est quand même très pratique !<br/> Tellement pratique qu’une fois que vous y aurez goûté, vous ne voudrez plus revenir sur l’émulateur. ^^ <br/> Sur le téléphone, vous vous rendrez mieux compte des problèmes de performances. Il sera également plus facile d’utiliser le service de localisation ou de déconnecter internet pour faire des tests hors réseau.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
<span class="arrow"></span>
<span class="next">Créer un compte développeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
<span class="next">Le Marketplace test kit</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LeMarketplacetestkit"></a><h2>Le Marketplace test kit</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
<span class="arrow"></span>
<span class="next">Inscription d’un téléphone de développeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
<span class="next">Publier son application sur le Windows Phone Store</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<div id="r-306429" data-claire-element-id="306429" data-claire-semantic="question"><p id="r-306428" data-claire-element-id="306428">Alors, maintenant que nous avons réalisé notre application dans le débogueur et que nous avons validé son fonctionnement sur notre téléphone, nous avons terminé ?</p></div><p id="r-306430" data-claire-element-id="306430">Et non, pas encore ! Nous avons une superbe application, mais encore faut-il savoir si notre application est éligible à sa distribution sur le <strong>Windows Phone Store</strong>. <br/> En effet, les applications ne peuvent être distribuées qu’après avoir passé une phase de certification, faite par les équipes Windows Phone.<br/> Cela permet de vérifier que l’application n’a pas de problème, qu’elle est suffisamment réactive et utilisable par l’utilisateur, qu’elle n’a pas de malware, etc.<br/> Pour nous aider à passer cette certification, Visual Studio dispose d’un outil, le « Marketplace test kit ».<br/> Il s’agit d’une série de tests, certains automatisés, certains manuels qui permettent de vérifier certains points en amont de la certification, ce qui va nous permettre de gagner du temps et d’éviter des aller-retour avec l’équipe de Microsoft.</p><p id="r-306431" data-claire-element-id="306431">Ce kit est disponible via le menu <code>Projet</code> &gt; <code>Ouvrir Marketplace Test Kit</code> (le focus doit être sur le projet de démarrage), ou bien en faisant un clic droit sur le <code>Projet</code> &gt; <code>Ouvrir Marketplace Test Kit</code> :</p><figure id="r-306433" data-claire-element-id="306434"><img id="r-306432" data-claire-element-id="306432" src="medias/uploads.siteduzero.com_files_370001_371000_370060.png" alt="Image utilisateur"/></figure><p id="r-306435" data-claire-element-id="306435">Visual Studio nous ouvre un écran contenant plusieurs informations dont notamment la possibilité de faire des tests de l’application pour savoir si elle respecte les besoins pour la certification Windows Phone Store. Il y a des tests automatisés qui vont vérifier si les images sont bonnes, si l’application n’est pas trop grosse, etc. Il y a des tests de performance permettant de voir si l’application n’utilise pas trop de mémoire, si elle démarre assez vite,… Et enfin des tests manuels à effectuer :</p><figure id="r-306437" data-claire-element-id="306438"><img id="r-306436" data-claire-element-id="306436" src="medias/uploads.siteduzero.com_files_370001_371000_370061.png" alt="Image utilisateur"/></figure><p id="r-306439" data-claire-element-id="306439">Dans le premier onglet de détails de l’application, nous devrons renseigner les images dont nous allons avoir besoin lors de la soumission de l’application et qui permettent d’illustrer notre application. Pour réaliser de telles images, vous pouvez utiliser l’émulateur ainsi que l’outil supplémentaire permettant de réaliser des copies d’écran de l’émulateur. Pour faire des bonnes copies d'écran, il faut que les compteurs qui apparaissent sur la droite de l'émulateur ne soient pas visible. Pour cela, allez modifier la ligne suivante dans le App.xaml.cs :</p><pre id="r-306440" data-claire-element-id="306440"><code data-claire-semantic="csharp">Application.Current.Host.Settings.EnableFrameRateCounter = true;</code></pre><p id="r-306441" data-claire-element-id="306441">et mettez la propriété à false :</p><pre id="r-306442" data-claire-element-id="306442"><code data-claire-semantic="csharp">Application.Current.Host.Settings.EnableFrameRateCounter = false;</code></pre><figure id="r-306444" data-claire-element-id="306445"><img id="r-306443" data-claire-element-id="306443" src="medias/uploads.siteduzero.com_files_371001_372000_371685.png" alt="Image utilisateur"/></figure><p id="r-306446" data-claire-element-id="306446">Pour avoir des images de bonne qualité, l’émulateur doit être en zoom 100%.<br/> Pour lancer les tests automatisés, le XAP doit être compilé en configuration <em>release</em>. Pour cela, allez dans les propriétés de la solution, et choisissez la configuration <code>Release</code>. Cela se fait en allant dans l’onglet <code>Propriété de configuration</code> et en choisissant le gestionnaire de configuration :</p><figure id="r-306448" data-claire-element-id="306449"><img id="r-306447" data-claire-element-id="306447" src="medias/uploads.siteduzero.com_files_370001_371000_370064.png" alt="Image utilisateur"/></figure><p id="r-306450" data-claire-element-id="306450">Sur le nouvel écran qui s’ouvre, il faudra alors choisir <code>Release</code> dans la liste déroulante :</p><figure id="r-306452" data-claire-element-id="306453"><img id="r-306451" data-claire-element-id="306451" src="medias/uploads.siteduzero.com_files_370001_371000_370065.png" alt="Image utilisateur"/></figure><aside id="r-306455" data-claire-element-id="306455" data-claire-semantic="information"><p id="r-306454" data-claire-element-id="306454">Les heureux possesseurs de la version complète de Visual Studio pourront simplement utiliser une liste déroulante dans la barre d'outils.</p></aside><p id="r-306456" data-claire-element-id="306456">Ceci fait, nous sommes autorisés à lancer les tests automatisés, ce qui nous permet de constater leurs succès ou leurs échecs :</p><figure id="r-306458" data-claire-element-id="306459"><img id="r-306457" data-claire-element-id="306457" src="medias/uploads.siteduzero.com_files_370001_371000_370066.png" alt="Image utilisateur"/></figure><p id="r-306460" data-claire-element-id="306460">Ici par exemple, mes deux derniers tests ont échoué car je n’avais pas renseigné les images que je dois envoyer au Windows Phone Store lors de la soumission. Lorsque ceci sera résolu, nous pourrons passer aux tests contrôlés et aux tests manuels.<br/> Pour ceux-ci, nous devons démarrer l’application et l’utiliser sur notre téléphone (et non dans l’émulateur). Les cas de tests sont décrits à côté de chaque test.<br/> Pour les tests contrôlés, on nous demande par exemple de démarrer l’application, de tester toutes les fonctionnalités, de tester avec ou sans réseau, et de fermer l’application en utilisant le bouton <code>Précédent</code>.</p><p id="r-306461" data-claire-element-id="306461">Pour les tests manuels, il y a chaque fois une description de ce qu’il faut faire (non traduite). Il s’agit en fait d’une liste d’éléments à vérifier soit même pour éviter que l’application soit refusée lors de la soumission au Windows Phone Store.</p><p id="r-306462" data-claire-element-id="306462">Il ne faut pas oublier de tester l’application comme si elle était dans un environnement final :</p><ul id="r-306471" data-claire-element-id="306471"><li id="r-306464" data-claire-element-id="306464"><p id="r-306463" data-claire-element-id="306463">Le téléphone se verrouille suite à de l’inactivité.</p></li><li id="r-306466" data-claire-element-id="306466"><p id="r-306465" data-claire-element-id="306465">On reçoit un coup de téléphone pendant l’utilisation de l’application.</p></li><li id="r-306468" data-claire-element-id="306468"><p id="r-306467" data-claire-element-id="306467">On passe dans un tunnel et le réseau n’est plus accessible.</p></li><li id="r-306470" data-claire-element-id="306470"><p id="r-306469" data-claire-element-id="306469">…</p></li></ul><p id="r-306472" data-claire-element-id="306472">Le Marketplace Test Kit constitue donc une espèce de grosse check-list qui va nous permettre de vérifier que notre application fonctionne dans toutes les situations décrites. Cela va nous permettre de gagner du temps car si nous détectons une anomalie, il sera possible de la corriger rapidement. Le cas contraire, c’est Microsoft qui la détectera et qui bloquera la publication de notre application tant que le problème n’est pas corrigé.<br/> À noter que nous serons avertis du rapport de certification par e-mail.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
<span class="arrow"></span>
<span class="next">Inscription d’un téléphone de développeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
<span class="next">Publier son application sur le Windows Phone Store</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PubliersonapplicationsurleWindowsPhoneStore"></a><h2>Publier son application sur le Windows Phone Store</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
<span class="arrow"></span>
<span class="next">Le Marketplace test kit</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-publier-son-application-sur-le-windows-phone-store" data-claire-element-id="306538">Publier son application sur le Windows Phone Store</h4><p id="r-306474" data-claire-element-id="306474">Ça y est, tous les tests passent ! Il est enfin temps de passer à la soumission de notre application. C’est la dernière étape de ce processus. Cela consiste à envoyer notre application, à la décrire, à indiquer son prix, etc. Bref, à fournir toutes les informations nécessaires.<br/> Mais avant ça, il y a une dernière petite chose à faire. Il s’agit de vérifier que la langue neutre de nos assemblys soit à la langue principale de l’application. Cela se fait dans les propriétés du projet, cliquez sur informations de l’assembly dans l’onglet <code>Application</code> :</p><figure id="r-306476" data-claire-element-id="306477"><img id="r-306475" data-claire-element-id="306475" src="medias/uploads.siteduzero.com_files_370001_371000_370067.png" alt="Image utilisateur"/></figure><p id="r-306478" data-claire-element-id="306478">Et choisissez la langue :</p><figure id="r-306480" data-claire-element-id="306481"><img id="r-306479" data-claire-element-id="306479" src="medias/uploads.siteduzero.com_files_370001_371000_370068.png" alt="Image utilisateur"/></figure><p id="r-306482" data-claire-element-id="306482">Recompilez en mode <code>Release</code> et c’est fini pour le code !</p><p id="r-306483" data-claire-element-id="306483">Revenons à la soumission de notre application et rendons nous sur <a href="http://create.msdn.com/">http://create.msdn.com/</a>. Connectons-nous avec notre compte Windows live en cliquant sur <code>Sign in</code>. Puis cliquons sur « <code>SUBMIT APP</code> » :</p><figure id="r-306485" data-claire-element-id="306486"><img id="r-306484" data-claire-element-id="306484" src="medias/uploads.siteduzero.com_files_406001_407000_406618.png" alt="Image utilisateur"/></figure><p id="r-306487" data-claire-element-id="306487">Si vous n'êtes pas connectés, il faudra le faire. La première chose à faire est de donner quelques informations sur notre application. Cliquez sur le gros 1 rouge :</p><figure id="r-306489" data-claire-element-id="306490"><img id="r-306488" data-claire-element-id="306488" src="medias/uploads.siteduzero.com_files_406001_407000_406619.png" alt="Image utilisateur"/></figure><p id="r-306491" data-claire-element-id="306491">Nous pouvons saisir un nom, une catégorie et un prix :</p><figure id="r-306493" data-claire-element-id="306494"><img id="r-306492" data-claire-element-id="306492" src="medias/uploads.siteduzero.com_files_406001_407000_406620.png" alt="Image utilisateur"/></figure><p id="r-306495" data-claire-element-id="306495">La catégorie doit être le plus proche possible du type de votre application. Suivant les cas, il est également possible d’indiquer une sous-catégorie. Cela va permettre d’identifier plus facilement le type de votre application dans le Windows Phone Store. <br/> Il est également important de fixer le prix de notre application. Elle peut être gratuite ou allant de 0.99€ ou 424,99€.<br/> Sur cet écran, nous pourrons également indiquer si l’application possède un mode d’évaluation. Je n’en ai pas parlé dans ce tutoriel mais il permet de tester une application payante en limitant par exemple ses fonctionnalités ou sa durée.</p><p id="r-306496" data-claire-element-id="306496">Nous avons également la possibilité d'indiquer dans quels pays notre application sera téléchargeable. En général, on laissera l'exception portant sur les pays qui ont des politiques de règles plus strictes pour éviter tout problème :) .<br/> A noter qu'il est également possible de faire en sorte que son application soit disponible en béta restreinte à certains utilisateurs. Ce qui est pratique si l'on souhaite la faire valider par des personnes de son entreprise par exemple.</p><p id="r-306497" data-claire-element-id="306497">Une fois ces informations saisies, nous pouvons passer à l'étape suivante en cliquant sur le gros 2 rouge où nous pourrons envoyer notre fichier .xap :</p><figure id="r-306499" data-claire-element-id="306500"><img id="r-306498" data-claire-element-id="306498" src="medias/uploads.siteduzero.com_files_406001_407000_406621.png" alt="Image utilisateur"/></figure><p id="r-306501" data-claire-element-id="306501">Pour rappel, ce fichier XAP doit être compilé en mode <strong>release</strong>. Cliquez sur <code>Parcourir</code> pour envoyer le fichier XAP :</p><figure id="r-306503" data-claire-element-id="306504"><img id="r-306502" data-claire-element-id="306502" src="medias/uploads.siteduzero.com_files_406001_407000_406648.png" alt="Image utilisateur"/></figure><p id="r-306505" data-claire-element-id="306505">Une fois le fichier envoyé, nous pouvons voir des informations extraites de notre fichier et notamment ce qu'on appelle les <code>capabilities</code>, que l'on traduira en français par <strong>capacités</strong>. Ce sont les éléments Windows Phone que va utiliser notre application et dont l'utilisateur pourra être potentiellement averti. Par exemple, si vous utilisez le GPS dans votre application, la capacité ID_CAP_LOCATION sera détectée et un message d'avertissement sera affiché à l'utilisateur lorsqu'il voudra télécharger votre application lui indiquant qu'elle utilise le GPS. Libre à lui d'accepter ou de refuser l'installation en sachant cela.</p><p id="r-306506" data-claire-element-id="306506">C'est le moment également de saisir une description pour votre application, description qui devra être faite en fonction de la langue supportée par l'application. C'est cette description que l'utilisateur retrouvera lorsqu'il affichera votre application sur le Windows Phone Store :</p><figure id="r-306508" data-claire-element-id="306509"><img id="r-306507" data-claire-element-id="306507" src="medias/uploads.siteduzero.com_files_406001_407000_406870.png" alt="Image utilisateur"/></figure><p id="r-306510" data-claire-element-id="306510">Vous aurez intérêt à bien soigner cette description pour deux raisons. Premièrement parce que c’est la première chose que les utilisateurs liront ce qui pourra leur donner envie ou non de télécharger l’application. Décrivez les fonctionnalités de l’application, mais pas trop non plus, il faut qu’ils puissent obtenir une information synthétique et utile pour faciliter leur prise de décision quant au choix de télécharger ou non votre application. Et deuxièmement, l'outil de recherche du Windows Phone Store va se baser sur ce descriptif. Il faut donc que les mots-clés que les utilisateurs sont susceptibles de renseigner pour chercher une application comme la vôtre soient présent. Pensez aux mots-clés que vous utiliseriez si vous cherchiez une telle application… ;)</p><p id="r-306511" data-claire-element-id="306511">Enfin, vous devrez fournir les images qui illustrent votre application, comme celles que vous avez données dans le Marketplace Test Kit. Soignez-les, elles doivent donner envie à l’utilisateur de télécharger votre application et elles doivent également être représentatives de votre application :</p><figure id="r-306513" data-claire-element-id="306514"><img id="r-306512" data-claire-element-id="306512" src="medias/uploads.siteduzero.com_files_406001_407000_406871.png" alt="Image utilisateur"/></figure><p id="r-306515" data-claire-element-id="306515">Une fois cette étape terminée, il vous reste deux étapes facultatives :</p><figure id="r-306517" data-claire-element-id="306518"><img id="r-306516" data-claire-element-id="306516" src="medias/uploads.siteduzero.com_files_406001_407000_406874.png" alt="Image utilisateur"/></figure><p id="r-306519" data-claire-element-id="306519">La première permet de créer ou d'utiliser un compte de publicité. Cela va vous permettre d'afficher des bandeaux publicitaires sur votre application et potentiellement générer des petits revenus.</p><figure id="r-306521" data-claire-element-id="306522"><img id="r-306520" data-claire-element-id="306520" src="medias/uploads.siteduzero.com_files_406001_407000_406872.png" alt="Image utilisateur"/></figure><p id="r-306523" data-claire-element-id="306523">L'autre étape facultative permet d'indiquer plus finement les pays où notre application sera accessible et définir potentiellement un prix différent pour chaque pays. Si l’application n’est qu’en français par exemple, cela a peu de sens de la distribuer aux Chinois ! :lol:</p><figure id="r-306525" data-claire-element-id="306526"><img id="r-306524" data-claire-element-id="306524" src="medias/uploads.siteduzero.com_files_406001_407000_406873.png" alt="Image utilisateur"/></figure><p id="r-306527" data-claire-element-id="306527">Et voilà, c’est terminé. Il ne vous reste plus qu'à cliquer sur <code>Submit</code> en bas de la page et votre application est soumise au Windows Phone Store. Il faut compter environ une petite semaine avant d’avoir des retours de Microsoft par e-mail, vous informant de la soumission de l’application ou des éventuelles erreurs.<br/> À tout moment, vous pouvez suivre le processus de soumission de votre application en allant sur votre compte Windows Phone Store et en allant voir dans votre tableau de bord (<em>dashboard</em>) :</p><figure id="r-306529" data-claire-element-id="306530"><img id="r-306528" data-claire-element-id="306528" src="medias/uploads.siteduzero.com_files_370001_371000_370075.png" alt="Image utilisateur"/></figure><figure id="r-306532" data-claire-element-id="306533"><img id="r-306531" data-claire-element-id="306531" src="medias/uploads.siteduzero.com_files_370001_371000_370076.png" alt="Image utilisateur"/></figure><p id="r-306534" data-claire-element-id="306534">Voilà, vous avez maintenant toutes les clés en main pour créer des applications sur Windows Phone. :)</p><p id="r-306535" data-claire-element-id="306535">Nous avons fait pas mal de choses mais ce n’est qu’une première étape. Nous avons commencé par regarder un peu ce qu’était Silverlight pour Windows Phone, comment naviguer dans son application… Puis nous avons étudié différentes solutions pour accéder aux données. À travers quelques petits cas plus concrets, nous avons étudié plus en détail l’utilisation du contrôle Pivot pour réaliser un mini lecteur de flux RSS. Nous avons également appris à nous servir du service de localisation, à exploiter des données OData puis comment utiliser Facebook dans nos applications. Enfin, nous avons terminé en présentant le processus de soumission d’une application Windows Phone Store.</p><p id="r-306536" data-claire-element-id="306536">Nous sommes loin d’avoir tout vu sur Windows Phone, il reste plein de choses à découvrir, comme l’accéléromètre pour ne citer que lui. Rappelez-vous que vous avez également la possibilité d’utiliser XNA pour réaliser des jeux voire même de mixer XNA et Silverlight. Bref, de quoi exprimer votre créativité et réaliser de belles applications, pour le plaisir ou pourquoi pas pour compléter un salaire…</p><p id="r-306537" data-claire-element-id="306537">N’hésitez pas à consulter les différentes ressources sur le sujet ou à poser des questions … Bon développement sur Windows Phone. :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone">Créez des applications pour Windows Phone</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
La théorie et les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-les-outils-de-developpement-1">Installer les outils de développement</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/prerequis-11">
Prérequis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/installer-visual-studio-2010-express-pour-windows-phone-avec-mango">
Installer Visual Studio 2010 Express pour Windows Phone avec Mango
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-emulateur">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/xaml-et-code-behind">
Xaml et code behind
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/blend-pour-le-design">
Blend pour le design
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/introduction-a-silverlight">Introduction à Silverlight</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/hello-world-6">
Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ce-qu-il-y-a-dans-ce-hello-world">
Ce qu&#039;il y a dans ce Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-conteneurs-et-le-placement">
Les conteneurs et le placement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-d-autres-controles">
Ajouter d’autres contrôles
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-du-style">
Ajouter du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-listbox-et-les-modeles">
La ListBox et les modèles
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/une-application-a-plusieurs-pages-la-navigation">Une application à plusieurs pages, la navigation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/naviguer-entre-les-pages">
Naviguer entre les pages
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/gerer-le-bouton-de-retour-arriere">
Gérer le bouton de retour arrière
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-controle-panorama-et-le-controle-pivot">
Le contrôle Panorama et le contrôle Pivot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-orientation-1">
L&#039;orientation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-aux-donnees">Accéder aux données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-liaison-de-donnees-le-binding">
La liaison de données : le binding
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/binding-et-mode-design">
Binding et mode design
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-l-observablecollection">
Utiliser l&#039;ObservableCollection
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/les-converters">
Les converters
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/appeler-un-service-web">
Appeler un service web
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/l-isolated-storage">
L’isolated storage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/etude-de-cas-un-agregateur-de-flux">Étude de cas : un agrégateur de flux</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-les-contenus-des-differents-flux">
Récupérer les contenus des différents flux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-la-bibliotheque-de-syndication">
Utiliser la bibliothèque de syndication
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/presenter-les-donnees">
Présenter les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/la-geolocalisation">La géolocalisation</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/determiner-sa-position">
Déterminer sa position
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-bing-maps">
Utiliser Bing Maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/afficher-sa-position-sur-la-carte">
Afficher sa position sur la carte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/consommer-des-donnees-odata">Consommer des données OData</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/ajouter-une-reference-service">
Ajouter une référence service
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/charger-les-donnees">
Charger les données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/faire-des-requetes-sur-les-donnees">
Faire des requêtes sur les données
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/acceder-a-facebook">Accéder à Facebook</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-une-application-facebook">
Créer une application Facebook
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-sdk">
Le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/qu-est-ce-qu-oauth">
Qu’est-ce qu’OAuth
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/se-loguer">
Se loguer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/exploiter-le-graphe-social-avec-le-sdk">
Exploiter le graphe social avec le SDK
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/recuperer-des-informations">
Récupérer des informations
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/obtenir-la-liste-de-ses-amis">
Obtenir la liste de ses amis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/poster-sur-son-mur">
Poster sur son mur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/utiliser-les-tasks">
Utiliser les tasks
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application">Publier son application</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/creer-un-compte-developpeur">
Créer un compte développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/inscription-d-un-telephone-de-developpeur">
Inscription d’un téléphone de développeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
Le Marketplace test kit
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/publier-son-application-sur-le-windows-phone-store">
Publier son application sur le Windows Phone Store
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-pour-windows-phone/le-marketplace-test-kit">
<span class="arrow"></span>
<span class="next">Le Marketplace test kit</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-applications-pour-windows-phone.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:21:50 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creez-des-applications-pour-windows-phone.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:49:46 GMT -->
</html>
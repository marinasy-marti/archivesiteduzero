<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/creer-un-avatar-qui-change.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:25:53 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creer-un-avatar-qui-change.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:18:10 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Créer un avatar qui change</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/creer-un-avatar-qui-change.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Créer un avatar qui change</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Crerunavatarquichange">Créer un avatar qui change</a><br/><a href="#Onprpare">On prépare !</a><br/><a href="#Auhasard">Au hasard !</a><br/><a href="#Parrapportunedate">Par rapport à une date</a><br/><a href="#Headers">Headers</a><br/><a href="#Compilation">Compilation</a><br/><a href="#Rsultatetcommentl039amliorer">Résultat et comment l&#039;améliorer</a><br/><a href="#Annexecommenttransformerun.phpen.png">Annexe : comment transformer un .php en .png ?</a><br/></div>
<a name="Crerunavatarquichange"></a><h2>Créer un avatar qui change</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
<span class="next">On prépare !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-590443" data-claire-element-id="590443">Bonjour !<br/> Vous avez vu sur les forums ?<br/> Certains membres ont un avatar qui change tout le temps. o_O <br/> C'est quoi ?<br/> Je vais essayer de vous l'expliquer dans ce tuto. ;)</p>
</div><a name="Onprpare"></a><h2>On prépare !</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
<span class="next">Au hasard !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590444" data-claire-element-id="590444">Avant de commencer la partie PHP, nous allons choisir nos images !<br/> En voici trois de mon choix :</p><figure id="r-590446" data-claire-element-id="590447"><img id="r-590445" data-claire-element-id="590445" src="medias/uploads.siteduzero.com_files_12001_13000_12386.png" alt="Image utilisateur"/></figure><figure id="r-590449" data-claire-element-id="590450"><img id="r-590448" data-claire-element-id="590448" src="medias/uploads.siteduzero.com_files_12001_13000_12387.png" alt="Image utilisateur"/></figure><figure id="r-590452" data-claire-element-id="590453"><img id="r-590451" data-claire-element-id="590451" src="medias/uploads.siteduzero.com_files_12001_13000_12388.png" alt="Image utilisateur"/></figure><p id="r-590454" data-claire-element-id="590454">Maintenant, passons au PHP ! Pour préparer le code, on va faire un tableau <strong>$liste[]</strong> qui contient le nom de chacune des images. <br/> À vous !</p><pre id="r-590455" data-claire-element-id="590455"><code data-claire-semantic="html+php">&lt;?php
$liste = array(&quot;firefox_normal.png&quot;, &quot;firefox_lumière.png&quot;, &quot;firefox_simple.png&quot;);</code></pre><p id="r-590456" data-claire-element-id="590456">Vous remarquerez que les valeurs sont constituées du nom de mes images.</p><h2 id="r-la-puissance-de-glob" data-claire-element-id="590465">La puissance de glob</h2><p id="r-590457" data-claire-element-id="590457">Il existe une alternative moins contraignante, <strong>glob()</strong> !</p><p id="r-590458" data-claire-element-id="590458">Comment cela fonctionne-t-il ?</p><pre id="r-590459" data-claire-element-id="590459"><code data-claire-semantic="html+php">&lt;?php
$listeDesFichiers = glob('*.png');</code></pre><p id="r-590460" data-claire-element-id="590460">Cette variable va contenir tous les fichiers ayant l'extension <em>.png</em> de notre répertoire courant.</p><p id="r-590461" data-claire-element-id="590461">Si je veux être plus malin, je peux faire ainsi :</p><pre id="r-590462" data-claire-element-id="590462"><code data-claire-semantic="html+php">&lt;?php
$listeDesFichiers = glob('firefox/*');</code></pre><p id="r-590463" data-claire-element-id="590463">C'est tout de même plus propre de regrouper toutes nos images dans un seul répertoire ;) !<br/> Comme vous l'avez sûrement remarqué, je n'ai pas mis l'extension cette fois-ci : je suppose que tous mes fichiers stockés ici sont des images :) , je peux ainsi mettre autant d'images que je veux et avec l'extension que je veux.</p><p id="r-590464" data-claire-element-id="590464">Passons aux choses sérieuses. :pirate:</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
<span class="next">Au hasard !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Auhasard"></a><h2>Au hasard !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
<span class="arrow"></span>
<span class="next">On prépare !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
<span class="next">Par rapport à une date</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590467" data-claire-element-id="590467">Nous voulons qu'au hasard, notre script choisisse l'une de ces 3 images et nous l'affiche.<br/> Il existe une fonction pour ça : <strong>mt_rand</strong>.<br/> Elle agit comme ceci : mt_rand(nombreMinimal, nombreMaximal).</p><div id="r-590469" data-claire-element-id="590469" data-claire-semantic="question"><p id="r-590468" data-claire-element-id="590468">Ex : mt_rand(5, 10) me donne un nombre qui est soit 5, 6, 7, 8, 9 ou 10. :magicien:</p></div><p id="r-590470" data-claire-element-id="590470">Nous allons donc sélectionner notre image au hasard. :) <br/> À vous !</p><div id="r-590473" data-claire-element-id="590473"><div id="r-590472" data-claire-element-id="590472"><pre id="r-590471" data-claire-element-id="590471"><code data-claire-semantic="html+php">&lt;?php
mt_rand(0, 2)</code></pre></div></div><p id="r-590474" data-claire-element-id="590474">Je suis sûr que beaucoup ont fait l'erreur de mettre 1, 3 (mt_rand(1, 3) aurait donné 1, 2, 3), alors qu'un tableau commence à 0 !</p><p id="r-590475" data-claire-element-id="590475">Il y a une façon plus jolie et plus pro de faire, la fonction <strong>array_rand</strong> !<br/> En effet, cette fonction va récupérer une des valeurs d'un tableau. Ca tombe vraiment bien dans notre cas !</p><p id="r-590476" data-claire-element-id="590476">Voici comme elle fonctionne :</p><pre id="r-590477" data-claire-element-id="590477"><code data-claire-semantic="html+php">&lt;?php
$tableau = Array(&quot;Am&quot;, &quot;stram&quot;, &quot;gram&quot;);
$hasard = array_rand($tableau, 1);
echo $tableau[$hasard[0]];</code></pre><p id="r-590478" data-claire-element-id="590478">Comme vous pouvez le constater, <strong>array_rand</strong> renvoie un tableau contenant une seule valeur.<br/> Tout simplement car cette fonction est généralissime et que vous pouvez par exemple récupérer 2, 3 ou 1000 nombre au hasard.<br/> Voici comment faire : array_rand(tableau, nombres tirés au hasard[par défaut 1])</p><p id="r-590479" data-claire-element-id="590479">Dans notre cas d'avatar changeant, il nous suffit de faire :</p><pre id="r-590480" data-claire-element-id="590480"><code data-claire-semantic="html+php">&lt;?php
$rand = array_rand($liste);
echo $liste[$rand]; // &lt;--- C'est notre avatar tiré au hasard par la fonction array_rand :D !</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
<span class="arrow"></span>
<span class="next">On prépare !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
<span class="next">Par rapport à une date</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Parrapportunedate"></a><h2>Par rapport à une date</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
<span class="arrow"></span>
<span class="next">Au hasard !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
<span class="next">Headers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590482" data-claire-element-id="590482">Nous allons maintenant utiliser une méthode différente : on affichera une image différente par jour.</p><p id="r-590483" data-claire-element-id="590483">Pour ça, nous aurons besoin de connaître la date : on peut utiliser ainsi la fonction getdate() !<br/> Ici, on aura <strong>getdate('mday')</strong> !</p><div id="r-590485" data-claire-element-id="590485" data-claire-semantic="question"><p id="r-590484" data-claire-element-id="590484">o_O Pourquoi est-ce mday et pas mjour ?</p></div><p id="r-590486" data-claire-element-id="590486">Parce que c'est anglais et qu'en anglais, <em><strong>jour</strong></em> se dit <em><strong>day</strong></em>. ;) <br/> Bon, ok, ce n'est peut être pas la découverte du siècle, mais c'est bon à savoir !<br/> Ex. : <em>année</em> se dit <em><strong>year</strong></em>, <em>mois</em>, <em><strong>month</strong></em> et <em>heures</em>, <em><strong>hours</strong></em>... ça vous donne une idée de ce que vous pouvez passer en argument à <strong>getdate()</strong>.<br/> Le mieux, c'est ce tableau :</p><table id="r-590566" data-claire-element-id="590566"><thead id="r-590494" data-claire-element-id="590494"><tr id="r-590493" data-claire-element-id="590493"><th id="r-590488" data-claire-element-id="590488"><p id="r-590487" data-claire-element-id="590487">Clé</p></th><th id="r-590490" data-claire-element-id="590490"><p id="r-590489" data-claire-element-id="590489">Description</p></th><th id="r-590492" data-claire-element-id="590492"><p id="r-590491" data-claire-element-id="590491">Valeur renvoyée</p></th></tr></thead><tbody id="r-590565" data-claire-element-id="590565"><tr id="r-590501" data-claire-element-id="590501"><td id="r-590496" data-claire-element-id="590496"><p id="r-590495" data-claire-element-id="590495">seconds</p></td><td id="r-590498" data-claire-element-id="590498"><p id="r-590497" data-claire-element-id="590497">Représentation numérique des secondes</p></td><td id="r-590500" data-claire-element-id="590500"><p id="r-590499" data-claire-element-id="590499">0 à 59</p></td></tr><tr id="r-590508" data-claire-element-id="590508"><td id="r-590503" data-claire-element-id="590503"><p id="r-590502" data-claire-element-id="590502">minutes</p></td><td id="r-590505" data-claire-element-id="590505"><p id="r-590504" data-claire-element-id="590504">Représentation numérique des minutes</p></td><td id="r-590507" data-claire-element-id="590507"><p id="r-590506" data-claire-element-id="590506">0 à 59</p></td></tr><tr id="r-590515" data-claire-element-id="590515"><td id="r-590510" data-claire-element-id="590510"><p id="r-590509" data-claire-element-id="590509">hours</p></td><td id="r-590512" data-claire-element-id="590512"><p id="r-590511" data-claire-element-id="590511">Représentation numérique des heures</p></td><td id="r-590514" data-claire-element-id="590514"><p id="r-590513" data-claire-element-id="590513">0 à 23</p></td></tr><tr id="r-590522" data-claire-element-id="590522"><td id="r-590517" data-claire-element-id="590517"><p id="r-590516" data-claire-element-id="590516">mday</p></td><td id="r-590519" data-claire-element-id="590519"><p id="r-590518" data-claire-element-id="590518">Représentation numérique du jour du mois courant</p></td><td id="r-590521" data-claire-element-id="590521"><p id="r-590520" data-claire-element-id="590520">1 à 31</p></td></tr><tr id="r-590529" data-claire-element-id="590529"><td id="r-590524" data-claire-element-id="590524"><p id="r-590523" data-claire-element-id="590523">wday</p></td><td id="r-590526" data-claire-element-id="590526"><p id="r-590525" data-claire-element-id="590525">Représentation numérique du jour de la semaine courante</p></td><td id="r-590528" data-claire-element-id="590528"><p id="r-590527" data-claire-element-id="590527">0 (pour Dimanche) à 6 (pour Samedi)</p></td></tr><tr id="r-590536" data-claire-element-id="590536"><td id="r-590531" data-claire-element-id="590531"><p id="r-590530" data-claire-element-id="590530">mon</p></td><td id="r-590533" data-claire-element-id="590533"><p id="r-590532" data-claire-element-id="590532">Représentation numérique du mois</p></td><td id="r-590535" data-claire-element-id="590535"><p id="r-590534" data-claire-element-id="590534">1 à 12</p></td></tr><tr id="r-590543" data-claire-element-id="590543"><td id="r-590538" data-claire-element-id="590538"><p id="r-590537" data-claire-element-id="590537">year</p></td><td id="r-590540" data-claire-element-id="590540"><p id="r-590539" data-claire-element-id="590539">Année sur 4 chiffres</p></td><td id="r-590542" data-claire-element-id="590542"><p id="r-590541" data-claire-element-id="590541">Exemples: 1999, 2006</p></td></tr><tr id="r-590550" data-claire-element-id="590550"><td id="r-590545" data-claire-element-id="590545"><p id="r-590544" data-claire-element-id="590544">yday</p></td><td id="r-590547" data-claire-element-id="590547"><p id="r-590546" data-claire-element-id="590546">Représentation numérique du jour de l'année</p></td><td id="r-590549" data-claire-element-id="590549"><p id="r-590548" data-claire-element-id="590548">0 à 365</p></td></tr><tr id="r-590557" data-claire-element-id="590557"><td id="r-590552" data-claire-element-id="590552"><p id="r-590551" data-claire-element-id="590551">weekday</p></td><td id="r-590554" data-claire-element-id="590554"><p id="r-590553" data-claire-element-id="590553">Version texte du jour de la semaine</p></td><td id="r-590556" data-claire-element-id="590556"><p id="r-590555" data-claire-element-id="590555">Sunday à Saturday</p></td></tr><tr id="r-590564" data-claire-element-id="590564"><td id="r-590559" data-claire-element-id="590559"><p id="r-590558" data-claire-element-id="590558">month</p></td><td id="r-590561" data-claire-element-id="590561"><p id="r-590560" data-claire-element-id="590560">Version texte du mois, comme January ou March</p></td><td id="r-590563" data-claire-element-id="590563"><p id="r-590562" data-claire-element-id="590562">January à December</p></td></tr></tbody></table><p id="r-590567" data-claire-element-id="590567">Nous savons que getdate('mday') donne un nombre compris entre 1 et 31.<br/> Vous vous rappelez du modulo ?<br/> Cet opérateur qui renvoie le reste d'une division !</p><div id="r-590569" data-claire-element-id="590569" data-claire-semantic="question"><p id="r-590568" data-claire-element-id="590568">Ah oui, celui qui sert à rien... :lol:</p></div><p id="r-590570" data-claire-element-id="590570">Bah justement...<br/> Je vais prendre le reste de la division de nombres de jours par 3.</p><div id="r-590572" data-claire-element-id="590572" data-claire-semantic="question"><p id="r-590571" data-claire-element-id="590571">3 ?! Pourquoi ?</p></div><p id="r-590573" data-claire-element-id="590573">Parce qu'on a 3 images. :lol: <br/> Si on en avait 25, il faudrait faire le modulo avec 25. ;) <br/> Voici des exemples :</p><p id="r-590574" data-claire-element-id="590574">24%3 = 0<br/> 25%3 = 1<br/> 26%3 = 2<br/> 27%3 = 0<br/> 28%3 = 1<br/> 29%3 = 2<br/> etc...</p><p id="r-590575" data-claire-element-id="590575">Le modulo nous permet d'avoir un nombre compris entre 0 et 2, c'est parfait pour notre tableau, ça !!<br/> Nous allons incorporer le code PHP ! Maintenant, à vous de jouer pour que ça marche ;)</p><div id="r-590578" data-claire-element-id="590578"><div id="r-590577" data-claire-element-id="590577"><pre id="r-590576" data-claire-element-id="590576"><code data-claire-semantic="html+php">&lt;?php
$jour = getdate('mday');
$notreImage = $liste[$jour%3];</code></pre></div></div><p id="r-590579" data-claire-element-id="590579">$notreImage contiendra le nom de l'image, image qui changera chaque jour. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
<span class="arrow"></span>
<span class="next">Au hasard !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
<span class="next">Headers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Headers"></a><h2>Headers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
<span class="arrow"></span>
<span class="next">Par rapport à une date</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
<span class="next">Compilation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590581" data-claire-element-id="590581">Comment ça marche ? Lors du chargement du fichier PHP, le navigateur va être redirigé vers l'image.<br/> Pour rediriger quelqu'un, on utilise la fonction header (oh ça alors !), elle opère ainsi :</p><pre id="r-590582" data-claire-element-id="590582"><code data-claire-semantic="html+php">&lt;?php
header(&quot;location: url&quot;);</code></pre><p id="r-590583" data-claire-element-id="590583">Allez, à vous !</p><div id="r-590587" data-claire-element-id="590587"><div id="r-590586" data-claire-element-id="590586"><pre id="r-590584" data-claire-element-id="590584"><code data-claire-semantic="html+php">&lt;?php
header(&quot;location: &quot;.$liste[$id]);</code></pre><p id="r-590585" data-claire-element-id="590585">$id contiendra soit mt_rand(0, 2), soit $jour%3.</p></div></div><p id="r-590588" data-claire-element-id="590588">Tout simplement. :lol:</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
<span class="arrow"></span>
<span class="next">Par rapport à une date</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
<span class="next">Compilation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Compilation"></a><h2>Compilation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
<span class="arrow"></span>
<span class="next">Headers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
<span class="next">Résultat et comment l&#039;améliorer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h3 id="r-au-hasard-1" data-claire-element-id="590591">Au hasard</h3><pre id="r-590590" data-claire-element-id="590590"><code data-claire-semantic="html+php">&lt;?php
$liste = array(&quot;firefox_normal.png&quot;, &quot;firefox_simple.png&quot;, &quot;firefox_lumiere.png&quot;);
$hasard = mt_rand(0, 2);
 
header(&quot;location: &quot;.$liste[$hasard]);</code></pre><h3 id="r-par-jour" data-claire-element-id="590594">Par jour</h3><pre id="r-590592" data-claire-element-id="590592"><code data-claire-semantic="html+php">&lt;?php
$liste = array(&quot;firefox_normal.png&quot;, &quot;firefox_simple.png&quot;, &quot;firefox_lumiere.png&quot;);
$jour = getdate('mday');
 
header(&quot;location: &quot;.$liste[$jour%3]);</code></pre><p id="r-590593" data-claire-element-id="590593">Voila ! Remarquez que mes images sont dans un dossier firefox au même endroit que mon image PHP. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
<span class="arrow"></span>
<span class="next">Headers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
<span class="next">Résultat et comment l&#039;améliorer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rsultatetcommentl039amliorer"></a><h2>Résultat et comment l&#039;améliorer</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
<span class="arrow"></span>
<span class="next">Compilation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
<span class="next">Annexe : comment transformer un .php en .png ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590596" data-claire-element-id="590596">Revenons à nos trois images que je voulais voir au hasard.<br/> Vous avez tout ce qu'il faut pour finir mon travail, non ?</p><div id="r-590599" data-claire-element-id="590599"><div id="r-590598" data-claire-element-id="590598"><pre id="r-590597" data-claire-element-id="590597"><code data-claire-semantic="html+php">&lt;?php
$liste = array(&quot;medias\uploads.siteduzero.com_files_12001_13000_12386.png&quot;, &quot;medias\uploads.siteduzero.com_files_12001_13000_12387.png&quot;, &quot;medias\uploads.siteduzero.com_files_12001_13000_12388.png&quot;);
$hasard = mt_rand(0, 2);
 
header(&quot;location: &quot;.$liste[$hasard]);</code></pre></div></div><p id="r-590600" data-claire-element-id="590600">Malheureusement, les uploads m'empêchent d'envoyer des images de type PHP, mais essayez chez vous ces scripts. ;)</p><h2 id="r-comment-ameliorer-le-script-avec-quelques-idees" data-claire-element-id="590614">Comment améliorer le script avec quelques idées :)</h2><ul id="r-590611" data-claire-element-id="590611"><li id="r-590602" data-claire-element-id="590602"><p id="r-590601" data-claire-element-id="590601">Permettre au visiteur de choisir votre avatar, avec un cookie contenant la clé du tableau correspondante.</p></li><li id="r-590604" data-claire-element-id="590604"><p id="r-590603" data-claire-element-id="590603">Afficher des images selon la date. Ex. : un oeuf au chocolat pour Pâques. :lol:</p></li><li id="r-590606" data-claire-element-id="590606"><p id="r-590605" data-claire-element-id="590605">Dans la même idée, vous pouvez afficher une image personnalisée pour l'anniversaire de quelqu'un. Pour ça, vous pourriez même écrire son prénom en utilisant <a href="http://www.siteduzero.com/tuto-3-166-1-creer-des-images-en-php.html">la librairie GD</a>. ;)</p></li><li id="r-590608" data-claire-element-id="590608"><p id="r-590607" data-claire-element-id="590607">Faire une compilation des deux techniques : vous prenez une image au hasard dont l'affichage durera 1 jour.</p></li><li id="r-590610" data-claire-element-id="590610"><p id="r-590609" data-claire-element-id="590609">Redimensionner les images en 100 x 100 px, et mettre le fichier PHP en avatar.</p></li></ul><p id="r-590612" data-claire-element-id="590612">Il y a une autre possibilité, la fonction <strong>readfile();</strong> qui permet d'afficher une image et non pas de rediriger vers l'image.</p><pre id="r-590613" data-claire-element-id="590613"><code data-claire-semantic="html+php">&lt;?php 
header('Content-type: image/png'); 
 
$liste = array(&quot;medias\uploads.siteduzero.com_files_12001_13000_12386.png&quot;, &quot;medias\uploads.siteduzero.com_files_12001_13000_12387.png&quot;, &quot;medias\uploads.siteduzero.com_files_12001_13000_12388.png&quot;); 
$hasard = mt_rand(0, 2); 
 
readfile($liste[$hasard]);</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
<span class="arrow"></span>
<span class="next">Compilation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
<span class="next">Annexe : comment transformer un .php en .png ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Annexecommenttransformerun.phpen.png"></a><h2>Annexe : comment transformer un .php en .png ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
<span class="arrow"></span>
<span class="next">Résultat et comment l&#039;améliorer</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-590616" data-claire-element-id="590616">Vous êtes nombreux à vous poser la question, je vais donc vous y répondre : l'url-rewriting.</p><aside id="r-590618" data-claire-element-id="590618" data-claire-semantic="warning"><p id="r-590617" data-claire-element-id="590617">Si l'URL-Rewriting est désactivé sur votre hébergement, lisez la note en bas de la page.</p></aside><p id="r-590619" data-claire-element-id="590619">C'est tout bête à faire ! Il vous suffit d'ouvrir Notepad++ et de taper ce texte :</p><pre id="r-590620" data-claire-element-id="590620"><code data-claire-semantic="apache">RewriteEngine on
RewriteRule ^fichier\.png$ fichier.php [L]</code></pre><p id="r-590621" data-claire-element-id="590621">Ensuite, vous enregistrez ce fichier <strong>dans le même dossier que votre image</strong> sous le nom de <strong>.htaccess</strong>.<br/> Vous pouvez l'enregistrer dans un dossier parent en mettant par exemple après</p><pre id="r-590622" data-claire-element-id="590622"><code data-claire-semantic="apache">RewriteRule ^dossier/fichier\.png$ dossier/fichier.php [L]</code></pre><p id="r-590623" data-claire-element-id="590623">ou</p><pre id="r-590624" data-claire-element-id="590624"><code data-claire-semantic="apache">RewriteRule ^fichier\.png$ dossier/fichier.php [L]</code></pre><p id="r-590625" data-claire-element-id="590625">À vous de voir ;) .<br/> Concrètement, si vous avez un dossier avec un fichier avatar.php, signature.php et banniere.php, et que vous voulez les afficher sur un forum, voici ce que vous devriez taper :</p><pre id="r-590626" data-claire-element-id="590626"><code data-claire-semantic="apache">RewriteEngine on
RewriteRule ^signature\.gif$ signature.php [L]
RewriteRule ^avatar\.jpg$ avatar.php [L]
RewriteRule ^banniere\.png$ banniere.php [L]</code></pre><p id="r-590627" data-claire-element-id="590627">C'est bon, vous comprenez un peu mieux ? L'url-rewriting, on le trouve partout et même ici !</p><p id="r-590628" data-claire-element-id="590628"><cite>Citation : La page que vous lisez</cite></p><blockquote id="r-590630" data-claire-element-id="590630"><p id="r-590629" data-claire-element-id="590629"><a href="http://www.siteduzero.com/tuto-3-9689-1-creer-un-avatar-qui-change.html">http://www.siteduzero.com/tuto-3-9689- [...] i-change.html</a></p></blockquote><p id="r-590631" data-claire-element-id="590631">En réalité, ce n'est pas &quot;tuto-3-9689-1-creer-un-avatar-qui-change.html&quot; le nom de la page, c'est sans doute quelque chose comme... <strong>tuto.php?id=9689&amp;ref=3&amp;typ=1&amp;titre=creer-un-avatar-qui-change</strong>.<br/> Le problème de cette technique est qu'elle utilise beaucoup de ressources... Il va falloir vous munir donc d'un hébergement pas trop mal ^^ .</p><aside id="r-590633" data-claire-element-id="590633" data-claire-semantic="information"><p id="r-590632" data-claire-element-id="590632">Note : Vous pouvez aussi essayer de tout simplement renommer votre fichier avatar.php en avatar.php.png, cela suffira parfois à berner les forums sans utiliser l'URL-Rewriting ! (merci à <a href="http://www.siteduzero.com/membres-294-113377.html">Genoseed</a> pour l'astuce)</p></aside><p id="r-590634" data-claire-element-id="590634">Super !<br/> Maintenant, vous pourrez crâner sur les forums avec votre avatar !<br/> Ça, c'est mieux qu'un GIF animé. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change">Créer un avatar qui change</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/on-prepare">
On prépare !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/au-hasard">
Au hasard !
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/par-rapport-a-une-date">
Par rapport à une date
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/headers">
Headers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/compilation-16">
Compilation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
Résultat et comment l&#039;améliorer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/annexe-comment-transformer-un-php-en-png">
Annexe : comment transformer un .php en .png ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-un-avatar-qui-change/resultat-et-comment-l-ameliorer">
<span class="arrow"></span>
<span class="next">Résultat et comment l&#039;améliorer</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/creer-un-avatar-qui-change.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:25:59 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creer-un-avatar-qui-change.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:18:11 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/rogrammez-sur-votre-wii.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:13:20 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/rogrammez-sur-votre-wii.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:07:55 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Programmez sur votre Wii !</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/programmez-sur-votre-wii.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Programmez sur votre Wii !</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#ProgrammezsurvotreWii">Programmez sur votre Wii !</a><br/><a href="#Avant-propos">Avant-propos</a><br/><a href="#Matrielrequis">Matériel requis</a><br/><a href="#Installationdesoutilsncessaires">Installation des outils nécessaires</a><br/><a href="#Crationd039unprojet">Création d&#039;un projet</a><br/><a href="#L039mulateur">L&#039;émulateur</a><br/><a href="#EtsousLinux">Et sous Linux ?</a><br/><a href="#HelloWorld">Hello World !</a><br/><a href="#Lecode">Le code</a><br/><a href="#Lesvnements">Les événements</a><br/><a href="#Lawiimote">La wiimote</a><br/><a href="#Lenunchuk">Le nunchuk</a><br/><a href="#Lamanetteclassique">La manette classique</a><br/><a href="#LamanetteGuitarHero3">La manette Guitar Hero 3</a><br/><a href="#LaWiiBalanceBoard">La Wii Balance Board</a><br/><a href="#Camrainfrarougeetcapteurs">Caméra infrarouge et capteurs</a><br/><a href="#RcuprerlapositiondelaWiimote">Récupérer la position de la Wiimote</a><br/><a href="#Rcuprerl039orientationetlesforcesdelaWiimote">Récupérer l&#039;orientation et les forces de la Wiimote</a><br/><a href="#Lenunchuk">Le nunchuk</a><br/><a href="#La2D1_2">La 2D (1/2)</a><br/><a href="#Crerunprojetaveclalibwiisprite">Créer un projet avec la libwiisprite</a><br/><a href="#Lesbases">Les bases</a><br/><a href="#Animationtransparencezoometrotation">Animation, transparence, zoom et rotation</a><br/><a href="#La2D2_2">La 2D (2/2)</a><br/><a href="#Lesmaps">Les maps</a><br/><a href="#Lescollisions">Les collisions</a><br/><a href="#Quelquesmthodesdesprites">Quelques méthodes de sprites</a><br/><a href="#Afficherdutexte">Afficher du texte</a><br/><a href="#TPn1Lecasse-briques">TP n°1 : Le casse-briques</a><br/><a href="#Prparatifs">Préparatifs</a><br/><a href="#Correction">Correction</a><br/><a href="#Idesd039amlioration">Idées d&#039;amélioration</a><br/><a href="#UtiliserlaSDL">Utiliser la SDL !</a><br/><a href="#InstallationdelaSDLpourlaWii">Installation de la SDL pour la Wii</a><br/><a href="#UtilisationdelaSDLpourlaWii">Utilisation de la SDL pour la Wii</a><br/><a href="#Lessons">Les sons</a><br/><a href="#JouerunemusiqueMP3">Jouer une musique MP3</a><br/><a href="#Jouerunson">Jouer un son</a><br/><a href="#Lesfichiers">Les fichiers</a><br/><a href="#Lireetcriredansunfichier">Lire et écrire dans un fichier</a><br/><a href="#La3D">La 3D</a><br/><a href="#Installation">Installation</a><br/><a href="#Crationd039unprojetsimple">Création d&#039;un projet simple</a><br/><a href="#Lestextures">Les textures</a><br/><a href="#LaconnexionWifi">La connexion Wifi</a><br/><a href="#Rcuprersesdonnes">Récupérer ses données</a><br/><a href="#Lessockets">Les sockets</a><br/><a href="#EnvoyerunfichiersurlaWiiavecftpii">Envoyer un fichier sur la Wii avec ftpii</a><br/><a href="#Installationetutilisation">Installation et utilisation</a><br/><a href="#Utiliserlawiimotedansvosprogrammessurordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a><br/><a href="#Installationdesoutilsncessaires">Installation des outils nécessaires</a><br/><a href="#Utilisationdewiiuse">Utilisation de wiiuse</a><br/><a href="#Exercice">Exercice</a><br/><a href="#TPn2TheBalanceGame">TP n°2 : The Balance Game !</a><br/><a href="#Prparatifs">Préparatifs</a><br/><a href="#Correction">Correction</a><br/><a href="#Idesd039amlioration">Idées d&#039;amélioration</a><br/></div>
<a name="ProgrammezsurvotreWii"></a><h2>Programmez sur votre Wii !</h2><div class="content" role="article">
<p id="r-511411" data-claire-element-id="511411">Dans la &quot;série&quot; des tutoriels concernant le développement sur consoles Nintendo, vous voici arrivé(e) sur celui qui vous montrera comment programmer sur Wii !</p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Avant-propos"></a><h2>Avant-propos</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
<span class="next">Matériel requis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511413" data-claire-element-id="511413">Ici, nous allons voir les logiciels à installer dans le but de développer sur votre console Wii préférée :) ...</p>
</div><a name="Matrielrequis"></a><h2>Matériel requis</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">
<span class="arrow"></span>
<span class="next">Avant-propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
<span class="next">Installation des outils nécessaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-materiel-requis-1" data-claire-element-id="511427">Matériel requis</h4><p id="r-511414" data-claire-element-id="511414">Pour suivre ce tutoriel, vous avez besoin de :</p><ul id="r-511424" data-claire-element-id="511424"><li id="r-511416" data-claire-element-id="511416"><p id="r-511415" data-claire-element-id="511415">Une Wii (bien sûr :p )</p></li><li id="r-511418" data-claire-element-id="511418"><p id="r-511417" data-claire-element-id="511417">Un ordinateur (pendant qu'on y est)</p></li><li id="r-511421" data-claire-element-id="511421"><p id="r-511419" data-claire-element-id="511420">Une carte SD, même si une µSD avec adapteur comme ceci est l'idéal(pratique pour le lecteur USB souvent fourni avec) :<br/><a href="medias/uploads.siteduzero.com_files_197001_198000_197653.jpg"><img id="r-511420" data-claire-element-id="511419" src="medias/uploads.siteduzero.com_thb_197001_198000_197653.jpg" alt="Image utilisateur"/></a><br/> La petite rentre dans la grande, ce qui permet plus d'utilisations de la µSD. La grande n'est qu'un adaptateur de la petite.</p></li><li id="r-511423" data-claire-element-id="511423"><p id="r-511422" data-claire-element-id="511422">De quoi brancher votre carte sur votre ordinateur</p></li></ul><aside id="r-511426" data-claire-element-id="511426" data-claire-semantic="information"><p id="r-511425" data-claire-element-id="511425">Vous pouvez remplacer la SD par une clef USB, mais les ports USB de la Wii sont à l'arrière. Selon la façon dont la console est positionnée, les ports USB peuvent être difficilement accessibles.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">
<span class="arrow"></span>
<span class="next">Avant-propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
<span class="next">Installation des outils nécessaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installationdesoutilsncessaires"></a><h2>Installation des outils nécessaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
<span class="arrow"></span>
<span class="next">Matériel requis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
<span class="next">Création d&#039;un projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-des-outils-necessaires-1" data-claire-element-id="511441">Installation des outils nécessaires</h4><h5 id="r-sur-l-ordinateur" data-claire-element-id="511434">Sur l'ordinateur</h5><p id="r-511428" data-claire-element-id="511428">Nous utiliserons DevkitPro, le même environnement de travail que pour la PAlib par exemple. Ce qui signifie que les manipulations seront basées sur la ligne de commande, ce qui n'est pas portable. Dans ce tutoriel, nous ne verrons que ce qui concerne <strong>Windows</strong>.</p><p id="r-511429" data-claire-element-id="511429">DevkitPro n'étant &quot;que&quot; l'environnement de travail, il ne nous permet pas réellement de développer des applications : il faut la bibliothèque. Nous utiliserons la libogc, utilisée dans le développement d'applications GameCube/Wii.</p><p id="r-511430" data-claire-element-id="511430">Vous pouvez télécharger l'installateur de DevkitPro à <a href="http://sourceforge.net/projects/devkitpro/files/Automated Installer/">cette adresse</a>. Celui-ci vous permettra une installation &quot;à la carte&quot;.<br/> Ouvrez l'installateur, choisissez &quot;Download and Install&quot;, puis appuyez sur &quot;Next&quot;. Choisissez &quot;Remove downloaded files&quot; puis appuyez sur &quot;Next&quot;.<br/> A présent, vous avez un panel avec des checkboxes. Laissez coché &quot;Minimal System&quot;, décochez &quot;devkitARM&quot; (celui est utilisé pour le développement d'application sur la Nintendo DS par exemple), laissez coché &quot;devkitPPC&quot; (il sert à la compilation d'applications pour GameCube/Wii), décochez &quot;devkitPSP&quot;.<br/> Il y a un éditeur de textes : &quot;Programmer's Notepad&quot;. Personnellement, j'ai Notepad++ donc j'ai décoché &quot;Programmer's Notepad&quot;.<br/> A présent, appuyez sur &quot;Next&quot; et laissez &quot;c:\devkitpro&quot; comme dossier de destination.<br/> Laissez faire l'installation...</p><p id="r-511431" data-claire-element-id="511431">Maintenant, rendez-vous dans &quot;C:\devkitpro\examples\wii emplate&quot; et ouvrez votre console (Démarrer-&gt;Exécuter-&gt;&quot;cmd&quot; ou Windows+R-&gt;&quot;cmd&quot;) et exécutez ce code :</p><pre id="r-511432" data-claire-element-id="511432"><code data-claire-semantic="console">cd \devkitpro\examples\wii\template
make</code></pre><p id="r-511433" data-claire-element-id="511433">Si tout s'est bien passé, vous devriez avoir un fichier &quot;template.dol&quot;. Sinon, vous devrez recommencer l'installation...</p><h5 id="r-sur-la-wii" data-claire-element-id="511440">Sur la Wii</h5><p id="r-511435" data-claire-element-id="511435">Pour lancer votre application sur la Wii, il faut installer une chaîne : la <strong>chaîne Homebrew</strong>. De précédentes méthodes consistaient à profiter d'une faille dans un jeu : <em>The Legend of Zelda : Twilight Princess</em>. La méthode fut donc appelée &quot;Twilight hack&quot;. N'ayant pas forcément le jeu, la chaîne homebrew est une bonne alternative !</p><aside id="r-511437" data-claire-element-id="511437" data-claire-semantic="warning"><p id="r-511436" data-claire-element-id="511436">Gardez-vous bien à l'esprit que chaque installation que vous faites peut <a href="http://fr.wikipedia.org/wiki/Brick_(informatique)">bricker</a> votre Wii, alors soyez vigilants. Personne ne pourra être tenu responsable de ce brick. Si cela vous arrive, cherchez sur Internet comment on peut la débricker (dans le cas où c'est faisable), par exemple des vidéos sur <a href="http://fr.youtube.com/">Youtube</a> montrent comment la débricker.</p></aside><p id="r-511438" data-claire-element-id="511438">L'installation de la chaîne homebrew est très bien expliquée à <a href="http://www.wiigen.fr/index.php?option=com_content&amp;task=view&amp;id=2518&amp;Itemid=1">cette adresse</a>.<br/> Pour que vos homebrews soient reconnus, il faut les placer dans un dossier &quot;apps&quot; situé à la racine de votre µSD. A l'intérieur de celui-ci, créez un répertoire du nom du homebrew, puis placez-y votre fichier .dol <strong>que vous aurez renommé en &quot;boot.dol&quot;</strong>. Vous pouvez ajouter une icône en créant un fichier &quot;icon.png&quot; de taille 128*48. Vous pouvez ajouter une description en créant un fichier meta.xml.<br/> Suivez ces instructions pour le remplir correctement :</p><pre id="r-511439" data-claire-element-id="511439"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;yes&quot;?&gt;
&lt;app version=&quot;1&quot;&gt;
&lt;name&gt;Nom du homebrew&lt;/name&gt;
&lt;coder&gt;Créateur du homebrew&lt;/coder&gt;
&lt;version&gt;Version du homebrew&lt;/version&gt;
&lt;short_description&gt;Petite desscription&lt;/short_description&gt; 
&lt;long_description&gt;Longue description&lt;/long_description&gt; 
&lt;/app&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
<span class="arrow"></span>
<span class="next">Matériel requis</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
<span class="next">Création d&#039;un projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crationd039unprojet"></a><h2>Création d&#039;un projet</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
<span class="arrow"></span>
<span class="next">Installation des outils nécessaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
<span class="next">L&#039;émulateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-d-un-projet-4" data-claire-element-id="511445">Création d'un projet</h4><p id="r-511442" data-claire-element-id="511442">Nous allons voir comment bien ordonner nos projets. Pour cela, rendez-vous dans C:\devkitpro et créez un dossier &quot;projets&quot;. A l'intérieur de celui-ci, créez un dossier portant le nom de votre projet, et copiez-y le makefile de C:\devkitpro\examples\wii emplate. Ensuite, créez un répertoire &quot;source&quot;, dans lequel vous mettrez... votre source :) .<br/> Enfin, créez un fichier build.bat dans lequel vous écrivez :</p><pre id="r-511443" data-claire-element-id="511443"><code data-claire-semantic="console">@echo off
make clean
make
if exist boot.dol (del boot.dol)
ren projet.dol boot.dol
pause</code></pre><p id="r-511444" data-claire-element-id="511444">Dans ce fichier, il faudra <strong>remplacer &quot;projet&quot; par le nom de votre projet</strong>.<br/> Et voilà :) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
<span class="arrow"></span>
<span class="next">Installation des outils nécessaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
<span class="next">L&#039;émulateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039mulateur"></a><h2>L&#039;émulateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
<span class="arrow"></span>
<span class="next">Création d&#039;un projet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
<span class="next">Et sous Linux ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-emulateur-6" data-claire-element-id="511482">L'émulateur</h4><p id="r-511446" data-claire-element-id="511446">Si vous ne voulez pas passer votre temps à aller sur la Wii pour tester vos homebrews, vous pouvez opter pour un émulateur. Il s'agit d'un programme qui imite le comportement d'une plateforme (ici la Wii) pour certains types de formats (ici iso, dol ou elf). En l'occurence nous utiliserons le format elf. Il sera obtenu directement après compilation, donc ne vous inquiétez pas il n'y aura pas trop de manipulations supplémentaires.<br/> Premièrement, téléchargez Dolphin à <a href="http://www.dolphin-emu.com/downloads.php?cat_id=7">cette adresse</a> (j'ai pris la <strong>R4525</strong> car je n'ai pas su faire fonctionner la R4771). Regardez bien la partie &quot;O/S&quot;. Si vous êtes en 32 bits prenez Win32. Si vous êtes en 64 bits prenez Windows x64.</p><aside id="r-511448" data-claire-element-id="511448" data-claire-semantic="warning"><p id="r-511447" data-claire-element-id="511447">Depuis que j'ai écrit ce tutoriel, Dolphin est passé en version 2.0 et les versions précédentes ne sont plus disponibles sur le site officiel. Ayant eu quelques bugs avec la 2.0, j'ai mis la version R4525 sur Internet : <a href="http://www.mediafire.com/?inmgnnhozay">Windows 32 bits</a> ; <a href="http://www.mediafire.com/?zo2ztghmmjy">Windows 64 bits</a>. Cependant vous pouvez essayez la version 2.0 ou même la recompiler à partir de <a href="http://code.google.com/p/dolphin-emu/">cette page</a>.</p></aside><p id="r-511449" data-claire-element-id="511449">Ouvrez le programme, choisissez le dossier d'installation et appuyez sur Extract (le seul bouton :-° ).<br/> Dans le dossier créé par l'installation, vous avez un fichier nommé &quot;Dolphin.exe&quot;. Bien qu'il soit exécutable normalement, nous pouvons l'utiliser en ligne de commande.</p><h5 id="r-relier-la-wiimote-a-l-ordinateur" data-claire-element-id="511451">Relier la Wiimote à l'ordinateur</h5><p id="r-511450" data-claire-element-id="511450">C'est la partie la plus difficile et la plus fastidieuse de l'émulation. Tout d'abord, sachez que les Wiimotes se connectent via la technologie <a href="http://fr.wikipedia.org/wiki/Bluetooth">Bluetooth</a>. Si votre ordinateur n'est pas équipé d'un composant Bluetooth, il faudra en acheter un. Je vous laisse en chercher sur la toile. Pour ma part, il s'agit d'un petit dongle de la marque Belkin. Après, il faut le gestionnaire de périphériques Bluetooth. Il se peut que votre système en soit équipé. Si c'est le cas utilisez-le, mais s'il ne fonctionne pas bien ou si vous n'en avez pas, il faudra en prendre un payant (ils sont tous payants :-° ). Quitte à payer, autant prendre <a href="http://www.bluesoleil.com/download/Default.aspx">BlueSoleil</a>. Vous avez 30 jours d'essai et vous êtes limité à 2 Mo de transfert (pour les téléphones par exemple) ; si vous voulez bénéficier pleinement du logiciel il faudra payer 19.99€ ...<br/> Maintenant faites &quot;ajouter un périphérique&quot; (présent sur tous les logiciels de périphériques Bluetooth) et appuyez simultanément sur les touches 1 et 2 de la Wiimote (ou alors sur le bouton SYNC. en bas de la batterie). Les 4 DEL devraient clignoter ensemble. Si elles ne s'arrêtent pas au bout de 30/40 secondes, c'est que la connexion est établie. Dans le cas contraire il faudra recommencer cette action, voire réinstaller votre composant Bluetooth.</p><h5 id="r-l-emulateur-5" data-claire-element-id="511481">L'émulateur</h5><p id="r-511452" data-claire-element-id="511452">Maintenant que vous savez relier vos Wiimotes à votre ordinateur, nous pouvons nous familiariser avec l'émulateur ^^ .</p><h6 id="r-configuration-30" data-claire-element-id="511465">Configuration</h6><p id="r-511453" data-claire-element-id="511453">Ouvrez <em>Dolphin.exe</em>. Appuyez sur &quot;Config&quot; (clef à molette) et choisissez l'onglet &quot;Wii&quot;. A &quot;Sensor Bar Position&quot; mettez si elle se trouve en haut ou en bas de votre écran.<br/> A &quot;Aspect Ratio&quot; mettez 4:3 et à &quot;System Language&quot; mettez &quot;French&quot;.</p><figure id="r-511455" data-claire-element-id="511456"><img id="r-511454" data-claire-element-id="511454" src="medias/uploads.siteduzero.com_files_212001_213000_212238.png" alt="Image utilisateur"/></figure><p id="r-511457" data-claire-element-id="511457">Fermez la fenêtre.<br/> Appuyez sur &quot;Wiimote&quot; (tout à droite de la toolbar). Dans la zone &quot;Input Source&quot; mettez &quot;Real Wiimote&quot;. Vous pouvez laisser les autres paramètres par défaut.</p><figure id="r-511459" data-claire-element-id="511460"><img id="r-511458" data-claire-element-id="511458" src="medias/uploads.siteduzero.com_files_212001_213000_212239.png" alt="Image utilisateur"/></figure><p id="r-511461" data-claire-element-id="511461">Pour tester vos futurs homebrews, il faudra régler le FPS (le nombre d'images par seconde). Pour cela, rendez-vous dans Options-&gt;Configure... et modifiez la valeur à &quot;Framelimit&quot; : ce nombre représente le FPS maximal.</p><figure id="r-511463" data-claire-element-id="511464"><img id="r-511462" data-claire-element-id="511462" src="medias/uploads.siteduzero.com_files_227001_228000_227395.png" alt="Image utilisateur"/></figure><h6 id="r-utilisation-normale" data-claire-element-id="511467">Utilisation normale</h6><p id="r-511466" data-claire-element-id="511466">L'émulateur Dolphin peut lire les formats .elf, .dol, .gcm, .iso et .wad.<br/> Les deux premiers formats peuvent être obtenus après compilation, le format .iso est celui des images contenu sur vos disques et le format .wad est celui des chaînes de la Wii.<br/> Pour chargez un fichier, appuyez sur &quot;Open&quot; (tout à gauche de la toolbar) et naviguez dans vos fichiers. Et vous pouvez exécuter votre homebrew !</p><h6 id="r-utilisation-en-ligne-de-commande" data-claire-element-id="511480">Utilisation en ligne de commande</h6><p id="r-511468" data-claire-element-id="511468">Pour nous simplifier la vie, nous allons créer des fichiers de commandes (en Batch).</p><aside id="r-511471" data-claire-element-id="511471" data-claire-semantic="information"><p id="r-511469" data-claire-element-id="511469">Si vous voulez voir tous les commutateurs du programme, faites :</p><pre id="r-511470" data-claire-element-id="511470"><code data-claire-semantic="console">Dolphin.exe /h</code></pre></aside><p id="r-511472" data-claire-element-id="511472">Créons à présent un fichier <em>exec.bat</em> :</p><pre id="r-511473" data-claire-element-id="511473"><code data-claire-semantic="console">Dolphin.exe /e %1</code></pre><p id="r-511474" data-claire-element-id="511474">Le commutateur /e sert à dire qu'on va donner un .elf. Et %1 représente le deuxième argument passé au fichier .bat (le premier étant son nom). Donc pour l'utiliser il faudra placer exec.bat dans le dossier de Dolphin et faire glisser le fichier .elf que l'on veut utiliser sur exec.bat.<br/> Il y a même un commutateur de débug : le commutateur /d .<br/> Donc nous créerons un fichier <em>exec_debug.bat</em> :</p><pre id="r-511475" data-claire-element-id="511475"><code data-claire-semantic="console">Dolphin.exe /d /e %1</code></pre><p id="r-511476" data-claire-element-id="511476">Ce fichier fonctionnera de la même manière que exec.bat, cependant il faudra appuyer sur le bouton &quot;Play&quot; de Dolphin pour commencer à émuler.</p><aside id="r-511478" data-claire-element-id="511478" data-claire-semantic="information"><p id="r-511477" data-claire-element-id="511477">Notez qu'en mode debug il faudra ramener la petite fenêtre située tout à gauche vers la droite pour pouvoir lire la sortie de debug.</p></aside><p id="r-511479" data-claire-element-id="511479">Si vous voulez mettre la fenêtre en mode plein écran, appuyez sur Alt+Entrée.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
<span class="arrow"></span>
<span class="next">Création d&#039;un projet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
<span class="next">Et sous Linux ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="EtsousLinux"></a><h2>Et sous Linux ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
<span class="arrow"></span>
<span class="next">L&#039;émulateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">
<span class="next">Hello World !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-et-sous-linux-1" data-claire-element-id="511499">Et sous Linux ?</h4><p id="r-511483" data-claire-element-id="511483">Maintenant que nous avons vu comment procéder sous Windows, nous allons voir la marche à suivre pour Linux.</p><aside id="r-511485" data-claire-element-id="511485" data-claire-semantic="warning"><p id="r-511484" data-claire-element-id="511484">Cette partie a été rédigée à partir d'une expérience sur Ubuntu 10.xx ; il se peut que cela ne fonctionne pas avec toutes les distributions de Linux.</p></aside><h5 id="r-telechargez-l-environnement" data-claire-element-id="511491">Téléchargez l'environnement</h5><p id="r-511486" data-claire-element-id="511486">Pour installer devkitPro, tout se trouve <a href="http://sourceforge.net/projects/devkitpro/files/">à cette adresse</a>.<br/> Commencez par créer un dossier <em>devkitPro</em> dans un répertoire où vous avez des droits, pour moi <em>/home/snake48/devkitPro</em> .<br/> Ensuite allez sur le site dans la partie &quot;devkitPPC&quot; (pour ceux qui ont la flemme de chercher : <a href="http://sourceforge.net/projects/devkitpro/files/devkitPPC">ici</a>). Là vous avez deux archives Linux : &quot;devkitPPC_r21-x86_64-linux.tar.bz2&quot; et &quot;devkitPPC_r21-i686-linux.tar.bz2&quot;. Personnellement j'ai pris la deuxième.<br/> Maintenant décompressez l'archive directement dans le dossier <em>devkitPro</em>. Donc théoriquement dedans vous devriez voir un dossier <em>devkitPPC</em>.<br/> Occupons-nous de la <em>libogc</em> : rendez-vous <a href="http://sourceforge.net/projects/devkitpro/files/libogc">ici</a> et prenez &quot;libogc-1.8.3.tar.bz2&quot;.<br/> Décompressez l'archive dans le dossier <em>devkitPro</em>.<br/> Maintenant pour tester si l'installation a bien fonctionner, nous allons télécharger les exemples <a href="http://sourceforge.net/projects/devkitpro/files/examples/wii">ici</a>. Là aussi c'est pareil : à décompresser dans le dossier <em>devkitPro</em>.<br/> Assurez-vous bien que le dossier <em>devkitPro</em> contient bien les trois dossiers suivants : <em>devkitPPC</em>, <em>examples</em> et <em>libogc</em>.<br/> Maintenant il faut tester que tout se passe bien. Rendez-vous dans <em>devkitPro/examples/wii/template</em> et créez-y un fichier nommé <em>build.sh</em> dans lequel vous mettrez (j'utilise gedit comme éditeur) :</p><pre id="r-511487" data-claire-element-id="511487"><code data-claire-semantic="bash"># !/bin.bash
export DEVKITPRO=&quot;chemin_vers_devitPro&quot;
export DEVKITPPC=${DEVKITPRO}&quot;/devkitPPC&quot;
make clean
make
if test -e &quot;boot.dol&quot;
then rm -f &quot;boot.dol&quot;
fi
mv &quot;template.dol&quot; &quot;boot.dol&quot;
echo &quot;Appuyez sur entrée pour continuer...&quot;
read touche</code></pre><aside id="r-511489" data-claire-element-id="511489" data-claire-semantic="warning"><p id="r-511488" data-claire-element-id="511488">Quand vous utiliserez ce fichier pour compiler vos futurs projets, il faudra remplacer &quot;template.dol&quot; par &quot;nom_du_projet.dol&quot;.</p></aside><p id="r-511490" data-claire-element-id="511490">Remplacez &quot;chemin_vers_devkitPro&quot; par l'emlacement du dossier <em>devkitPro</em>.<br/> Maintenant définissez ce fichier comme étant exécutable (chmod +x ou à la main en utilisant les propriétés). Maintenant lancez <em>build.sh</em> et si tout se passe bien vous devriez voir un fichier <em>boot.dol</em> apparaitre. Si ce n'est pas le cas, recommencez l'installation.</p><h5 id="r-l-emulateur-7" data-claire-element-id="511498">L'émulateur</h5><p id="r-511492" data-claire-element-id="511492">Vous pouvez soit télécharger les binaires linux à <a href="http://www.dolphin-emu.com/downloads.php?cat_id=9">cette adresse</a>, soit utiliser Wine pour exécuter les fichiers EXE (déconseillé), soit encore recompiler les sources de Dolphin en collant le code suivant dans votre terminal :</p><pre id="r-511493" data-claire-element-id="511493"><code data-claire-semantic="bash">sudo apt-get install subversion scons g++ wx2.8-headers libwxbase2.8-0 libwxbase2.8-dbg libwxbase2.8-dev libwxgtk2.8-0 libwxgtk2.8-dbg libwxgtk2.8-dev libgtk2.0-dev libsdl1.2-dev nvidia-cg-toolkit libxrandr2-dbg libxrandr-dev libxext6-dbg libxext-dev libglew1.5-dev libcairo2-dbg libcairo2-dev libao2 libao-dev libbluetooth-dev libreadline5-dev &amp;&amp; svn checkout http://dolphin-emu.googlecode.com/svn/trunk/ dolphin-emu-read-only &amp;&amp; cd dolphin-emu-read-only &amp;&amp; scons flavor=release</code></pre><p id="r-511494" data-claire-element-id="511494">Selon la puissance de votre ordinateur, l'opération devrait prendre quelques dizaines de minutes.</p><aside id="r-511496" data-claire-element-id="511496" data-claire-semantic="error"><p id="r-511495" data-claire-element-id="511495">Je vous mets en garde tout de même : chez moi Dolphin ne fonctionne pas car les plugins ne sont pas chargés. Donc peut-être que sous Linux <em>ftpii</em> constitue la meilleure solution (cf. Annexes).</p></aside><p id="r-511497" data-claire-element-id="511497">Et voilà vous êtes paré(e) pour programmer des applications Wii sous Linux :) . Notez que s'ils vous manque des libs, <a href="http://sourceforge.net/projects/devkitpro/files/">ici</a> vous trouverez la libfat et les portlibs...</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
<span class="arrow"></span>
<span class="next">L&#039;émulateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">
<span class="next">Hello World !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="HelloWorld"></a><h2>Hello World !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
<span class="arrow"></span>
<span class="next">Et sous Linux ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
<span class="next">Le code</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511501" data-claire-element-id="511501">Dans ce chapitre, nous verrons comment afficher &quot;Hello World&quot; sur l'écran... Dit comme cela, ça a l'air plutôt facile, mais vous verrez que ce n'est pas le cas :D .</p>
</div><a name="Lecode"></a><h2>Le code</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">
<span class="arrow"></span>
<span class="next">Hello World !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">
<span class="next">Les événements</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-code-18" data-claire-element-id="511509">Le code</h4><p id="r-511502" data-claire-element-id="511502">On va commencer par une analyse linéaire d'un code affichant &quot;Hello World&quot; à l'écran. Donc le voici :</p><pre id="r-511503" data-claire-element-id="511503"><code data-claire-semantic="cpp">/*Ci-dessous les libs standards*/
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt; //Header principal de la libogc
#include &lt;wiiuse/wpad.h&gt; //Permet d'utiliser la wiimote :)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL; //Variable représentant le mode d'affichage optimal de la télé

int main(int argc, char **argv)
{
    VIDEO_Init(); //Initialise les fonctionnalités graphiques
    WPAD_Init(); //Initialise le système de wiimote
    rmode = VIDEO_GetPreferredMode(NULL); //On détecte le mode optimal pour la télé
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode)); //Permet d'afficher quelque chose
    /*On initialise la console de texte. Dans l'ordre : mode d'affichage,
     point X du sommet en haut à gauche de la console, point Y du   sommet
     en haut à gauche de la console, point X du sommet en bas à droite
     de la console, point Y du sommet en bas à droite de la console,
     nombre d'octets à allouer.*/
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode); //Configure l'affichage sur le mode déterminé auparavant
    VIDEO_SetNextFramebuffer(xfb); //Indique que l'image à afficher sera à placer dans la zone pointée par xfb
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush(); //Raffraichissement de l'écran
    VIDEO_WaitVSync(); //Attente de la fin de l'affichage de l'image
    /*Il y a plusieurs modes d'affichage. On peut tout afficher en
     un seul bloc, ou alors de façon entrelacée, c'est à dire
     qu'il faut 2 images pour en constituer une. La ligne ci-dessous
     sert à dire ce qu'il faut faire si le mode est entrelacé*/
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
    printf(&quot;\x1b[2;0H&quot;); //Permet de positionner le texte qui va suivre : le 2 correspond à la ligne et le 0 à la colonne

    printf(&quot;Hello World!&quot;); //Enfin, nous pouvons écrire notre Hello World :) !
    while(1) //Boucle principale
    {
        WPAD_ScanPads(); //On récupère les événements des wiimotes, on y reviendra plus tard
        u32 pressed = WPAD_ButtonsDown(0); //On récupère les touches pressées de la première wiimote
        if(pressed &amp; WPAD_BUTTON_HOME) //Si on appuie sur le bouton &quot;Maison&quot; de la première wiimote
            break; //On passe au return 0 qui permet de revenir au loader (dans notre cas la Chaine Homebrew)
        VIDEO_WaitVSync();
    }

    return 0;
}</code></pre><p id="r-511504" data-claire-element-id="511504">Vous pouvez créer une fonction qui regroupe ces initialisations, pour ne garder que la partie où l'on écrit (à la limite, vous pourrez le mettre dans un fichier .h et un fichier.cpp que vous pourrez inclure dans vos futurs projets ^^ ) :</p><pre id="r-511505" data-claire-element-id="511505"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

int main(int argc, char **argv)
{
    VIDEO_Init();
    WPAD_Init();

    initText();

    printf(&quot;\x1b[2;0H&quot;);

    printf(&quot;Hello World!&quot;);
    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            break;
        VIDEO_WaitVSync();
    }

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}</code></pre><p id="r-511506" data-claire-element-id="511506">Vous pouvez aussi vous faire une macro ou une fonction qui permet de changer le texte de place :</p><pre id="r-511507" data-claire-element-id="511507"><code data-claire-semantic="cpp">#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)</code></pre><p id="r-511508" data-claire-element-id="511508">Et maintenant vous savez écrire du texte en console sur votre Wii ;) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">
<span class="arrow"></span>
<span class="next">Hello World !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">
<span class="next">Les événements</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesvnements"></a><h2>Les événements</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
<span class="arrow"></span>
<span class="next">Le code</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
<span class="next">La wiimote</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511511" data-claire-element-id="511511">Maintenant que nous avons vu comment afficher du texte, nous allons voir comment gérer les événements de la wiimote.</p>
</div><a name="Lawiimote"></a><h2>La wiimote</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">
<span class="arrow"></span>
<span class="next">Les événements</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
<span class="next">Le nunchuk</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-wiimote" data-claire-element-id="511582">La wiimote</h4><p id="r-511512" data-claire-element-id="511512">Vous savez qu'une wiimote est composée de plusieurs boutons :</p><ul id="r-511535" data-claire-element-id="511535"><li id="r-511514" data-claire-element-id="511514"><p id="r-511513" data-claire-element-id="511513">Haut</p></li><li id="r-511516" data-claire-element-id="511516"><p id="r-511515" data-claire-element-id="511515">Bas</p></li><li id="r-511518" data-claire-element-id="511518"><p id="r-511517" data-claire-element-id="511517">Gauche</p></li><li id="r-511520" data-claire-element-id="511520"><p id="r-511519" data-claire-element-id="511519">Droite</p></li><li id="r-511522" data-claire-element-id="511522"><p id="r-511521" data-claire-element-id="511521">A</p></li><li id="r-511524" data-claire-element-id="511524"><p id="r-511523" data-claire-element-id="511523">B</p></li><li id="r-511526" data-claire-element-id="511526"><p id="r-511525" data-claire-element-id="511525">+</p></li><li id="r-511528" data-claire-element-id="511528"><p id="r-511527" data-claire-element-id="511527">-</p></li><li id="r-511530" data-claire-element-id="511530"><p id="r-511529" data-claire-element-id="511529">Home</p></li><li id="r-511532" data-claire-element-id="511532"><p id="r-511531" data-claire-element-id="511531">1</p></li><li id="r-511534" data-claire-element-id="511534"><p id="r-511533" data-claire-element-id="511533">2</p></li></ul><p id="r-511536" data-claire-element-id="511536">Pour les événements boutons, il existe 3 états :</p><ul id="r-511543" data-claire-element-id="511543"><li id="r-511538" data-claire-element-id="511538"><p id="r-511537" data-claire-element-id="511537">Pressé (nouvel appui sur le bouton) : <code data-claire-semantic="cpp">u32 WPAD_ButtonsDown(int chan);</code></p></li><li id="r-511540" data-claire-element-id="511540"><p id="r-511539" data-claire-element-id="511539">Maintenu : <code data-claire-semantic="cpp">u32 WPAD_ButtonsHeld(int chan);</code></p></li><li id="r-511542" data-claire-element-id="511542"><p id="r-511541" data-claire-element-id="511541">Relâché : <code data-claire-semantic="cpp">u32 WPAD_ButtonsUp(int chan);</code></p></li></ul><div id="r-511545" data-claire-element-id="511545" data-claire-semantic="question"><p id="r-511544" data-claire-element-id="511544">Qu'est-ce que <em>chan</em> ?</p></div><p id="r-511546" data-claire-element-id="511546">Il s'agit de l'identifiant de la manette. Il y en a 4 :</p><ul id="r-511555" data-claire-element-id="511555"><li id="r-511548" data-claire-element-id="511548"><p id="r-511547" data-claire-element-id="511547">WPAD_CHAN_0 : première wiimote</p></li><li id="r-511550" data-claire-element-id="511550"><p id="r-511549" data-claire-element-id="511549">WPAD_CHAN_1 : deuxième wiimote</p></li><li id="r-511552" data-claire-element-id="511552"><p id="r-511551" data-claire-element-id="511551">WPAD_CHAN_2 : troisième wiimote</p></li><li id="r-511554" data-claire-element-id="511554"><p id="r-511553" data-claire-element-id="511553">WPAD_CHAN_3 : quatrième wiimote</p></li></ul><p id="r-511556" data-claire-element-id="511556">Ensuite, la valeur retournée par ces fonctions est une composée de flags :</p><ul id="r-511579" data-claire-element-id="511579"><li id="r-511558" data-claire-element-id="511558"><p id="r-511557" data-claire-element-id="511557">WPAD_BUTTON_UP : haut</p></li><li id="r-511560" data-claire-element-id="511560"><p id="r-511559" data-claire-element-id="511559">WPAD_BUTTON_DOWN : bas</p></li><li id="r-511562" data-claire-element-id="511562"><p id="r-511561" data-claire-element-id="511561">WPAD_BUTTON_LEFT : gauche</p></li><li id="r-511564" data-claire-element-id="511564"><p id="r-511563" data-claire-element-id="511563">WPAD_BUTTON_RIGHT : droite</p></li><li id="r-511566" data-claire-element-id="511566"><p id="r-511565" data-claire-element-id="511565">WPAD_BUTTON_A : A</p></li><li id="r-511568" data-claire-element-id="511568"><p id="r-511567" data-claire-element-id="511567">WPAD_BUTTON_B : B</p></li><li id="r-511570" data-claire-element-id="511570"><p id="r-511569" data-claire-element-id="511569">WPAD_BUTTON_PLUS : +</p></li><li id="r-511572" data-claire-element-id="511572"><p id="r-511571" data-claire-element-id="511571">WPAD_BUTTON_MINUS : -</p></li><li id="r-511574" data-claire-element-id="511574"><p id="r-511573" data-claire-element-id="511573">WPAD_BUTTON_HOME : Home</p></li><li id="r-511576" data-claire-element-id="511576"><p id="r-511575" data-claire-element-id="511575">WPAD_BUTTON_1 : 1</p></li><li id="r-511578" data-claire-element-id="511578"><p id="r-511577" data-claire-element-id="511577">WPAD_BUTTON_2 : 2</p></li></ul><p id="r-511580" data-claire-element-id="511580">Voici un exemple :</p><pre id="r-511581" data-claire-element-id="511581"><code data-claire-semantic="cpp">u32 held=WPAD_ButtonsHeld(WPAD_CHAN_0); //On récupère les touches maintenues de la première wiimote
if(held&amp;WPAD_BUTTON_A) //Si le bouton A de la première wiimote est maintenu
{
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">
<span class="arrow"></span>
<span class="next">Les événements</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
<span class="next">Le nunchuk</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lenunchuk"></a><h2>Le nunchuk</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
<span class="arrow"></span>
<span class="next">La wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
<span class="next">La manette classique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-nunchuk" data-claire-element-id="511633">Le nunchuk</h4><p id="r-511583" data-claire-element-id="511583">Vous voulez savoir comment utiliser le nunchuk ? C'est assez simple, il faut juste connaître le principe des &quot;expansions&quot;. Il s'agit de tout ce qui se rajoute à la wiimote.<br/> La structure utilisée pour les expansions est la structure <em>expansion_t</em>. Il faudra déclarer la variable comme ceci :</p><pre id="r-511584" data-claire-element-id="511584"><code data-claire-semantic="cpp">struct expansion_t exp;</code></pre><p id="r-511585" data-claire-element-id="511585">Pour savoir quelles sont les expansions pour une wiimote, on utilisera la fonction <code data-claire-semantic="cpp">void WPAD_Expansion(int chan, struct expansion_t *exp); </code> où <em>exp</em> est un pointeur sur l'expansion :</p><pre id="r-511586" data-claire-element-id="511586"><code data-claire-semantic="cpp">struct expansion_t exp;
WPAD_Expansion(WPAD_CHAN_0,&amp;exp); //On récupère les expansions de la première wiimote</code></pre><p id="r-511587" data-claire-element-id="511587">Les expansions sont contenues dans le membre <em>type</em> de la structure <em>expansion_t</em>. Cette variable fonctionne en <a href="http://www.siteduzero.com/tutoriel-3-32051-les-flags.html">flags</a> (tutoriel de <a href="http://www.siteduzero.com/membres-294-50026.html">PY</a>). Voici les différents flags :</p><ul id="r-511600" data-claire-element-id="511600"><li id="r-511589" data-claire-element-id="511589"><p id="r-511588" data-claire-element-id="511588">WPAD_EXP_NONE : aucun (mais on ne s'en occupera pas)</p></li><li id="r-511591" data-claire-element-id="511591"><p id="r-511590" data-claire-element-id="511590">WPAD_EXP_NUNCHUK : Nunchuk</p></li><li id="r-511593" data-claire-element-id="511593"><p id="r-511592" data-claire-element-id="511592">WPAD_EXP_CLASSIC : manette classique</p></li><li id="r-511595" data-claire-element-id="511595"><p id="r-511594" data-claire-element-id="511594">WPAD_EXP_GUITARHERO3 : manette Guitar Hero 3</p></li><li id="r-511597" data-claire-element-id="511597"><p id="r-511596" data-claire-element-id="511596">WPAD_EXP_WIIBOARD : Wii balance Board</p></li><li id="r-511599" data-claire-element-id="511599"><p id="r-511598" data-claire-element-id="511598">WPAD_EXP_UNKNOWN : expansion inconnue</p></li></ul><p id="r-511601" data-claire-element-id="511601">Voici une portion de code qui permet d'attendre le nunchuk pour la première wiimote :</p><pre id="r-511602" data-claire-element-id="511602"><code data-claire-semantic="cpp">struct expansion_t exp;
WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
while(!(exp.type&amp;WPAD_EXP_NUNCHUK)) 
{
    printf(&quot;\x1b[1;2H&quot;);
    printf(&quot;Branchez le nunchuk sur la premiere wiimote.&quot;);
    WPAD_ScanPads();
    WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
}</code></pre><h5 id="r-les-boutons-15" data-claire-element-id="511609">Les boutons</h5><p id="r-511603" data-claire-element-id="511603">Maintenant, nous pouvons nous attaquer aux boutons. Il y en a deux : C et Z.<br/> Pour récupérer les touches appuyées, maintenues ou relâchées, on utilise les mêmes fonctions que pour la Wiimote. Comme il y a deux boutons sur le Nunchuk, nous avons deux flags :</p><ul id="r-511608" data-claire-element-id="511608"><li id="r-511605" data-claire-element-id="511605"><p id="r-511604" data-claire-element-id="511604">WPAD_NUNCHUK_BUTTON_C : C</p></li><li id="r-511607" data-claire-element-id="511607"><p id="r-511606" data-claire-element-id="511606">WPAD_NUNCHUK_BUTTON_Z : Z</p></li></ul><h5 id="r-le-joystick" data-claire-element-id="511632">Le joystick</h5><p id="r-511610" data-claire-element-id="511610">Vous savez qu'un Nunchuk contient un joystick. Nous allons donc voir comment récupérer l'événement joystick. La structure <em>expansion_t</em> est constituée d'une variable de type <em>nunchuk_t</em> appelée <em>nunchuk</em>. Celle-ci contient une variable de type <em>joystick_t</em> appelée <em>js</em>.<br/> Donc si vous voulez accéder au joystick du Nunchuk, on appellera <code data-claire-semantic="cpp">exp.nunchuk.js </code>.<br/> Cette structure <em>joystick_t</em> est constituée de :</p><ul id="r-511623" data-claire-element-id="511623"><li id="r-511612" data-claire-element-id="511612"><p id="r-511611" data-claire-element-id="511611"><code data-claire-semantic="cpp">struct vec2b_t max </code> : valeurs maximales pour x et y</p></li><li id="r-511614" data-claire-element-id="511614"><p id="r-511613" data-claire-element-id="511613"><code data-claire-semantic="cpp">struct vec2b_t min </code> : valeurs minimales pour x et y</p></li><li id="r-511616" data-claire-element-id="511616"><p id="r-511615" data-claire-element-id="511615"><code data-claire-semantic="cpp">struct vec2b_t center </code> : valeurs du joystick au centre</p></li><li id="r-511618" data-claire-element-id="511618"><p id="r-511617" data-claire-element-id="511617"><code data-claire-semantic="cpp">struct vec2b_t pos </code> : positions x et y du joystick</p></li><li id="r-511620" data-claire-element-id="511620"><p id="r-511619" data-claire-element-id="511619"><code data-claire-semantic="cpp">float ang </code> : angle du joystick</p></li><li id="r-511622" data-claire-element-id="511622"><p id="r-511621" data-claire-element-id="511621"><code data-claire-semantic="cpp">float mag </code> : magnitude du joystick (nous ne nous en occuperons pas)</p></li></ul><aside id="r-511625" data-claire-element-id="511625" data-claire-semantic="information"><p id="r-511624" data-claire-element-id="511624">La structure <em>vec2b_t</em> est une structure qui contient deux membres de type <em>ubyte</em> (octet non signé) : x et y.</p></aside><p id="r-511626" data-claire-element-id="511626">Pour les valeurs du joystick, nous utilisons le type <em>ubyte</em>, donc nous aurons des valeurs comprises entre 0 et 255. Le joystick au repos est sensé avoir pour valeurs (127 ; 127). Mais ces données peuvent être légèrement erronées car le joystick au repos n'est pas forcément parfaitement au centre. Par conséquent, nous nous réferrerons à la variable <em>center</em>.<br/> Pour calculer le décalage dans les x du joystick, il faudra donc faire :</p><pre id="r-511627" data-claire-element-id="511627"><code data-claire-semantic="cpp">int x=exp.nunchuk.js.pos.x-exp.nunchuk.js.center.x;</code></pre><p id="r-511628" data-claire-element-id="511628">Votre résultat sera négatif si vous êtes à gauche et positif si vous êtes à droite.<br/> Pour calculer le décalage dans les y du joystick, il faudra faire :</p><pre id="r-511629" data-claire-element-id="511629"><code data-claire-semantic="cpp">int y=-exp.nunchuk.js.pos.y+exp.nunchuk.js.center.y;</code></pre><aside id="r-511631" data-claire-element-id="511631" data-claire-semantic="warning"><p id="r-511630" data-claire-element-id="511630">On prend l'opposé pour avoir la valeur négative correspondant au joystick vers le haut, et donc la valeur positive correspondant au joystick vers le bas.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
<span class="arrow"></span>
<span class="next">La wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
<span class="next">La manette classique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lamanetteclassique"></a><h2>La manette classique</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
<span class="arrow"></span>
<span class="next">Le nunchuk</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
<span class="next">La manette Guitar Hero 3</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-manette-classique" data-claire-element-id="511673">La manette classique</h4><p id="r-511634" data-claire-element-id="511634">Cette manette présente plusieurs boutons et deux joysticks.<br/> Le flag expansion de la manette classique est <em>WPAD_EXP_CLASSIC</em>.</p><h5 id="r-les-boutons-16" data-claire-element-id="511669">Les boutons</h5><p id="r-511635" data-claire-element-id="511635">Les boutons fonctionnent de la même façon que pour la Wiimote ou encore le Nunchuk. Voici les flags de la manette classique :</p><ul id="r-511666" data-claire-element-id="511666"><li id="r-511637" data-claire-element-id="511637"><p id="r-511636" data-claire-element-id="511636">WPAD_CLASSIC_BUTTON_UP : haut</p></li><li id="r-511639" data-claire-element-id="511639"><p id="r-511638" data-claire-element-id="511638">WPAD_CLASSIC_BUTTON_DOWN : bas</p></li><li id="r-511641" data-claire-element-id="511641"><p id="r-511640" data-claire-element-id="511640">WPAD_CLASSIC_BUTTON_LEFT : gauche</p></li><li id="r-511643" data-claire-element-id="511643"><p id="r-511642" data-claire-element-id="511642">WPAD_CLASSIC_BUTTON_RIGHT : droite</p></li><li id="r-511645" data-claire-element-id="511645"><p id="r-511644" data-claire-element-id="511644">WPAD_CLASSIC_BUTTON_A : A</p></li><li id="r-511647" data-claire-element-id="511647"><p id="r-511646" data-claire-element-id="511646">WPAD_CLASSIC_BUTTON_B : B</p></li><li id="r-511649" data-claire-element-id="511649"><p id="r-511648" data-claire-element-id="511648">WPAD_CLASSIC_BUTTON_X : X</p></li><li id="r-511651" data-claire-element-id="511651"><p id="r-511650" data-claire-element-id="511650">WPAD_CLASSIC_BUTTON_Y : Y</p></li><li id="r-511653" data-claire-element-id="511653"><p id="r-511652" data-claire-element-id="511652">WPAD_CLASSIC_BUTTON_FULL_L : L</p></li><li id="r-511655" data-claire-element-id="511655"><p id="r-511654" data-claire-element-id="511654">WPAD_CLASSIC_BUTTON_FULL_R : R</p></li><li id="r-511657" data-claire-element-id="511657"><p id="r-511656" data-claire-element-id="511656">WPAD_CLASSIC_BUTTON_ZL : ZL</p></li><li id="r-511659" data-claire-element-id="511659"><p id="r-511658" data-claire-element-id="511658">WPAD_CLASSIC_BUTTON_ZR : ZR</p></li><li id="r-511661" data-claire-element-id="511661"><p id="r-511660" data-claire-element-id="511660">WPAD_CLASSIC_BUTTON_PLUS : +</p></li><li id="r-511663" data-claire-element-id="511663"><p id="r-511662" data-claire-element-id="511662">WPAD_CLASSIC_BUTTON_MINUS : -</p></li><li id="r-511665" data-claire-element-id="511665"><p id="r-511664" data-claire-element-id="511664">WPAD_CLASSIC_BUTTON_HOME : Home</p></li></ul><p id="r-511667" data-claire-element-id="511667">Exemple de code :</p><pre id="r-511668" data-claire-element-id="511668"><code data-claire-semantic="cpp">struct expansion_t exp;
WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
while(!(exp.type&amp;WPAD_EXP_CLASSIC))
{
    printf(&quot;\x1b[1;2H&quot;);
    printf(&quot;Branchez la manette classique.&quot;);
    WPAD_ScanPads();
    WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
}

while(1)
{
    WPAD_ScanPads();
    u32 pressed=WPAD_ButtonsDown(WPAD_CHAN_0);
    if((pressed&amp;WPAD_BUTTON_HOME) || (pressed&amp;WPAD_CLASSIC_BUTTON_HOME)) //Si on appuie sur Home de la Wiimote ou de la manette classique ;)
        break;
    VIDEO_WaitVSync();
}</code></pre><h5 id="r-les-joysticks" data-claire-element-id="511672">Les joysticks</h5><p id="r-511670" data-claire-element-id="511670">Les joysticks de la manette classique fonctionnent de la même façon que le joystick du Nunchuk.<br/> La variable de <em>expansion_t</em> contenant la manette classique s'appelle <em>classic</em>.<br/> Puisqu'il y a deux joysticks, les variables contenant les joysticks seront <em>ljs</em> (joystick gauche) et <em>rjs</em> (joystick droit).<br/> Donc vous aurez ceci pour les deux joysticks :</p><pre id="r-511671" data-claire-element-id="511671"><code data-claire-semantic="cpp">int xgauche=ext.classic.ljs.pos.x-ext.classic.ljs.center.x;
int ygauche=-ext.classic.ljs.pos.y+ext.classic.ljs.center.y;

int xdroite=ext.classic.rjs.pos.x-ext.classic.rjs.center.x;
int ydroite=-ext.classic.rjs.pos.y+ext.classic.rjs.center.y;</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
<span class="arrow"></span>
<span class="next">Le nunchuk</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
<span class="next">La manette Guitar Hero 3</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LamanetteGuitarHero3"></a><h2>La manette Guitar Hero 3</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
<span class="arrow"></span>
<span class="next">La manette classique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
<span class="next">La Wii Balance Board</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-manette-guitar-hero-3" data-claire-element-id="511701">La manette Guitar Hero 3</h4><p id="r-511674" data-claire-element-id="511674">Le flag de la manette de Guitar Hero 3 est <em>WPAD_EXP_GUITARHERO3</em>.</p><p id="r-511675" data-claire-element-id="511675">Voici les flages des boutons de la manette de Guitar Hero 3 :</p><ul id="r-511696" data-claire-element-id="511696"><li id="r-511677" data-claire-element-id="511677"><p id="r-511676" data-claire-element-id="511676">GUITAR_HERO_3_BUTTON_GREEN : vert</p></li><li id="r-511679" data-claire-element-id="511679"><p id="r-511678" data-claire-element-id="511678">GUITAR_HERO_3_BUTTON_RED : rouge</p></li><li id="r-511681" data-claire-element-id="511681"><p id="r-511680" data-claire-element-id="511680">GUITAR_HERO_3_BUTTON_YELLOW : jaune</p></li><li id="r-511683" data-claire-element-id="511683"><p id="r-511682" data-claire-element-id="511682">GUITAR_HERO_3_BUTTON_BLUE : bleu</p></li><li id="r-511685" data-claire-element-id="511685"><p id="r-511684" data-claire-element-id="511684">GUITAR_HERO_3_BUTTON_ORANGE : orange</p></li><li id="r-511687" data-claire-element-id="511687"><p id="r-511686" data-claire-element-id="511686">GUITAR_HERO_3_BUTTON_STRUM_UP : corde vers le haut</p></li><li id="r-511689" data-claire-element-id="511689"><p id="r-511688" data-claire-element-id="511688">GUITAR_HERO_3_BUTTON_STRUM_DOWN : corde vers le bas</p></li><li id="r-511691" data-claire-element-id="511691"><p id="r-511690" data-claire-element-id="511690">GUITAR_HERO_3_BUTTON_PLUS : +</p></li><li id="r-511693" data-claire-element-id="511693"><p id="r-511692" data-claire-element-id="511692">GUITAR_HERO_3_BUTTON_MINUS : -</p></li><li id="r-511695" data-claire-element-id="511695"><p id="r-511694" data-claire-element-id="511694">GUITAR_HERO_3_BUTTON_ALL</p></li></ul><p id="r-511697" data-claire-element-id="511697">Le membre de l'union correspondant à la guitare dans <em>expansion_t</em> est <em>gh3</em>, de type <em>guitar_hero_3_t</em> :</p><pre id="r-511698" data-claire-element-id="511698"><code data-claire-semantic="cpp">typedef struct guitar_hero_3_t {
    short btns;           //Boutons juste pressés
    short btns_last;      //Boutons juste pressés (à préférer au premier)
    short btns_held;      //Boutons maintenus
    short btns_released;  //Boutons relâchés

    ubyte wb_raw;
    float whammy_bar;     //Vibrato, valeur comprise entre 0 et 1 ; mais peut dépasser. Dans le doute testez que si whammy_bar&gt;1. alors comptez 1.

    ubyte tb_raw;
    int touch_bar;        //Barre de &quot;slide&quot;. 4096-&gt; On n'y touche pas ; valeurs de gauche à droite 4097-&gt;4112 à peu près répartis équitablement

    struct joystick_t js; //Joystick
} guitar_hero_3_t;</code></pre><p id="r-511699" data-claire-element-id="511699">Exemple de code :</p><pre id="r-511700" data-claire-element-id="511700"><code data-claire-semantic="cpp">struct expansion_t exp;
WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
while(!(exp.type&amp;WPAD_EXP_GUITARHERO3))
{
    printf(&quot;\x1b[1;2H&quot;);
    printf(&quot;Branchez la manette Guitar Hero 3.&quot;);
    WPAD_ScanPads();
    WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
}

while(1)
{
    WPAD_ScanPads();
    WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
    u32 pressed=WPAD_ButtonsDown(WPAD_CHAN_0);
    if((pressed&amp;WPAD_BUTTON_HOME) || (exp.gh3.btns_last&amp;GUITAR_HERO_3_BUTTON_GREEN)) //Si on appuie sur Home de la Wiimote ou sur le bouton vert
        break;
    VIDEO_WaitVSync();
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
<span class="arrow"></span>
<span class="next">La manette classique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
<span class="next">La Wii Balance Board</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LaWiiBalanceBoard"></a><h2>La Wii Balance Board</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
<span class="arrow"></span>
<span class="next">La manette Guitar Hero 3</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">
<span class="next">Caméra infrarouge et capteurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-wii-balance-board" data-claire-element-id="511724">La Wii Balance Board</h4><p id="r-511702" data-claire-element-id="511702">Nous allons voir comment utiliser les données de votre Wii Balance Board :waw: !<br/> Nous utiliserons aussi les expansions, mais le fonctionnement est différent que pour les exemples précédents.<br/> La variable contenant l'expansion ne servira que pour la Balance Board. Ce n'est pas une expansion propre aux Wiimotes comme vu précédemment.</p><p id="r-511703" data-claire-element-id="511703">Avant votre boucle principale, il faudra placer :</p><pre id="r-511704" data-claire-element-id="511704"><code data-claire-semantic="cpp">struct expansion_t exp;
exp.type=WPAD_EXP_WIIBOARD;</code></pre><p id="r-511705" data-claire-element-id="511705">Ces deux lignes servent à dire que l'on va récupérer les données de la Wii Balance Board via la variable <em>exp</em>.</p><p id="r-511706" data-claire-element-id="511706">Puis, à chaque tour de boucle, il faudra placer :</p><pre id="r-511707" data-claire-element-id="511707"><code data-claire-semantic="cpp">WPAD_ScanPads();
WPAD_Expansion(WPAD_BALANCE_BOARD,&amp;exp);</code></pre><p id="r-511708" data-claire-element-id="511708">La structure <em>expansion_t</em> contient une variable de type <em>wii_board_t</em> appelée &quot;wb&quot;.<br/> Celle-ci contient plusieurs membres dont :</p><ul id="r-511721" data-claire-element-id="511721"><li id="r-511710" data-claire-element-id="511710"><p id="r-511709" data-claire-element-id="511709"><code data-claire-semantic="cpp">float tl </code> : masse (kg) exerçant une pression sur le côté <strong>en haut à gauche</strong> (&quot;t&quot; -&gt; &quot;top&quot; ; &quot;l&quot; -&gt; &quot;left&quot;)</p></li><li id="r-511712" data-claire-element-id="511712"><p id="r-511711" data-claire-element-id="511711"><code data-claire-semantic="cpp">float tr </code> : masse exerçant une pression sur le côté <strong>en haut à droite</strong> (&quot;r&quot; -&gt; &quot;right&quot;)</p></li><li id="r-511714" data-claire-element-id="511714"><p id="r-511713" data-claire-element-id="511713"><code data-claire-semantic="cpp">float bl </code> : masse exerçant une pression sur le côté <strong>en bas à gauche</strong> (&quot;b&quot; -&gt; &quot;bottom&quot;)</p></li><li id="r-511716" data-claire-element-id="511716"><p id="r-511715" data-claire-element-id="511715"><code data-claire-semantic="cpp">float br </code> : masse exerçant une pression sur le côté <strong>en bas à droite</strong></p></li><li id="r-511718" data-claire-element-id="511718"><p id="r-511717" data-claire-element-id="511717"><code data-claire-semantic="cpp">float x </code> : différence de masse exerçant une pression entre la droite et la gauche. Si x&lt;0 alors il y a plus de pression sur la partie gauche que sur la partie droite. Inversement, si x&gt;0 alors il y a plus de pression sur la partie droite que sur la partie gauche.</p></li><li id="r-511720" data-claire-element-id="511720"><p id="r-511719" data-claire-element-id="511719"><code data-claire-semantic="cpp">float y </code> : différence de masse exerçant une pression entre le haut et le bas. Si y&lt;0 alors il y a plus de pression sur la partie haute que sur la partie basse. Réciproquement, si y&gt;0 alors il y a plus de pression sur la partie basse que sur la partie haute.</p></li></ul><p id="r-511722" data-claire-element-id="511722">Si vous voulez transformer votre Wii Balance Board en balance tout court, il suffit d'exécuter ce code :</p><pre id="r-511723" data-claire-element-id="511723"><code data-claire-semantic="cpp">struct expansion_t exp;
exp.type=WPAD_EXP_WIIBOARD;

while(1)
{
    WPAD_ScanPads();
    WPAD_Expansion(WPAD_BALANCE_BOARD,&amp;exp);
    
    printf(&quot;Vous pesez %f kg.&quot;, exp.wb.tl + exp.wb.tr + exp.wb.bl + exp.wb.br);
    u32 pressed=WPAD_ButtonsDown(WPAD_CHAN_0);
    if(pressed &amp; WPAD_BUTTON_HOME) //Si on appuie sur le bouton &quot;Maison&quot; de la première wiimote
        break;
    VIDEO_WaitVSync();
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
<span class="arrow"></span>
<span class="next">La manette Guitar Hero 3</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">
<span class="next">Caméra infrarouge et capteurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Camrainfrarougeetcapteurs"></a><h2>Caméra infrarouge et capteurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
<span class="arrow"></span>
<span class="next">La Wii Balance Board</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
<span class="next">Récupérer la position de la Wiimote</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511726" data-claire-element-id="511726">Nous allons voir ici comment interpréter les données qui nous sont délivrées par la caméra infrarouge des Wiimotes. Elle permet repérer la position de votre Wiimote grâce à la SensorBar qui dispose d'un jeu de huit diodes infrarouges (quatre à droite et quatre à gauche). Nous allons voir aussi son orientation sur ses axes, les mouvements que vous exercez dessus, grâce aux capteurs placés dans la Wiimote. Cerise sur le gâteau, on peut faire de même pour le Nunchuk :soleil: !</p>
</div><a name="RcuprerlapositiondelaWiimote"></a><h2>Récupérer la position de la Wiimote</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">
<span class="arrow"></span>
<span class="next">Caméra infrarouge et capteurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
<span class="next">Récupérer l&#039;orientation et les forces de la Wiimote</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-recuperer-la-position-de-la-wiimote" data-claire-element-id="511748">Récupérer la position de la Wiimote</h4><p id="r-511727" data-claire-element-id="511727">Ici, nous allons voir comment savoir où pointe une Wiimote par rapport à la SensorBar.</p><p id="r-511728" data-claire-element-id="511728">Tout d'abord, il faut définir les valeurs maximales des données obtenues du capteur :</p><pre id="r-511729" data-claire-element-id="511729"><code data-claire-semantic="cpp">WPAD_SetVRes(WPAD_CHAN_ALL,640,480);</code></pre><p id="r-511730" data-claire-element-id="511730">Avec cette ligne, on on aura des données comprises entre 0 et 640 pour les x et entre 0 et 480 pour les y pour toutes les Wiimotes.</p><p id="r-511731" data-claire-element-id="511731">Ensuite, on active le système de capteur infrarouge avec :</p><pre id="r-511732" data-claire-element-id="511732"><code data-claire-semantic="cpp">WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);</code></pre><p id="r-511733" data-claire-element-id="511733">Cette ligne n'active l'infrarouge que pour la première wiimote.</p><p id="r-511734" data-claire-element-id="511734">Enfin, dans votre boucle, il faudra créer une variable de type <em>ir_t</em> et utiliser cette fonction pour récupérer les données du capteur dans votre variable :</p><pre id="r-511735" data-claire-element-id="511735"><code data-claire-semantic="cpp">struct ir_t ir;
WPAD_IR(WPAD_CHAN_0,&amp;ir);</code></pre><p id="r-511736" data-claire-element-id="511736">Il ne reste plus qu'à interpréter ces données. La structure <em>ir_t</em> contient ces membres, entre autres :</p><ul id="r-511745" data-claire-element-id="511745"><li id="r-511738" data-claire-element-id="511738"><p id="r-511737" data-claire-element-id="511737"><code data-claire-semantic="cpp">float x </code> : position x</p></li><li id="r-511740" data-claire-element-id="511740"><p id="r-511739" data-claire-element-id="511739"><code data-claire-semantic="cpp">float y </code> : position y</p></li><li id="r-511742" data-claire-element-id="511742"><p id="r-511741" data-claire-element-id="511741"><code data-claire-semantic="cpp">float z </code> : distance en mètres entre la SensorBar et votre Wiimote</p></li><li id="r-511744" data-claire-element-id="511744"><p id="r-511743" data-claire-element-id="511743"><code data-claire-semantic="cpp">float angle </code> : angle de la wiimote par rapport à la SensorBar</p></li></ul><p id="r-511746" data-claire-element-id="511746">Voici un exemple :</p><pre id="r-511747" data-claire-element-id="511747"><code data-claire-semantic="cpp">struct ir_t ir;
WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

while(1)
{
    WPAD_ScanPads();
    WPAD_IR(WPAD_CHAN_0,&amp;ir);
    u32 pressed=WPAD_ButtonsDown(WPAD_CHAN_0);
    
    printf(&quot;\x1b[1;2H&quot;);
    printf(&quot;x : %f  y: %f&quot;,ir.x,ir.y);
    printf(&quot;\x1b[2;2H&quot;);
    printf(&quot;Vous etes a %f m de votre SensorBar.&quot;,ir.z);

    if(pressed&amp;WPAD_BUTTON_HOME)
        reload();
    VIDEO_WaitVSync();
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">
<span class="arrow"></span>
<span class="next">Caméra infrarouge et capteurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
<span class="next">Récupérer l&#039;orientation et les forces de la Wiimote</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rcuprerl039orientationetlesforcesdelaWiimote"></a><h2>Récupérer l&#039;orientation et les forces de la Wiimote</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
<span class="arrow"></span>
<span class="next">Récupérer la position de la Wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
<span class="next">Le nunchuk</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-recuperer-l-orientation-et-les-forces-de-la-wiimote" data-claire-element-id="511786">Récupérer l'orientation et les forces de la Wiimote</h4><h5 id="r-l-orientation-2" data-claire-element-id="511769">L'orientation</h5><h6 id="r-la-wiimote-1" data-claire-element-id="511766">La Wiimote</h6><p id="r-511749" data-claire-element-id="511749">Pour récupérer l'orientation de la Wiimote, on créera une variable de type <em>orient_t</em>. Nous ne nous occuperons que de ses variables principales :</p><ul id="r-511756" data-claire-element-id="511756"><li id="r-511751" data-claire-element-id="511751"><p id="r-511750" data-claire-element-id="511750"><code data-claire-semantic="cpp">float roll </code> : rotation sur l'axe [Capteur infrarouge/Port extension]</p></li><li id="r-511753" data-claire-element-id="511753"><p id="r-511752" data-claire-element-id="511752"><code data-claire-semantic="cpp">float pitch </code> : rotation sur l'axe [Gauche/Droite]</p></li><li id="r-511755" data-claire-element-id="511755"><p id="r-511754" data-claire-element-id="511754"><code data-claire-semantic="cpp">float yaw </code> : mouvement en lacet (mais nous n'utiliserons pas cette variable)</p></li></ul><p id="r-511757" data-claire-element-id="511757">Voici le schéma des deux types de rotation :</p><figure id="r-511759" data-claire-element-id="511760"><img id="r-511758" data-claire-element-id="511758" src="medias/uploads.siteduzero.com_files_197001_198000_197921.jpg" alt="Schéma de rotation de la Wiimote"/></figure><p id="r-511761" data-claire-element-id="511761">En rouge : <em>roll</em>.<br/>En bleu : <em>pitch</em>.</p><p id="r-511762" data-claire-element-id="511762">Ce schéma ne fonctionne que si votre Wiimote est horizontale (plus ou moins parallèle au sol).<br/> Les deux variables varient entre -180 et 180 (ce sont des flottants).<br/> Si vous tournez la Wiimote vers la gauche, <em>roll</em> sera négatif et si vous la tournez vers la droite <em>roll</em> sera positif.<br/> Si vous tournez la Wiimote vers le haut (selon l'axe bleu), <em>pitch</em> sera négatif et si vous tournez la Wiimote vers le bas <em>pitch</em> sera positif.</p><p id="r-511763" data-claire-element-id="511763">Le prototype de la fonction est <code data-claire-semantic="cpp">void WPAD_Orientation(int chan, struct orient_t *orient); </code>, où <em>chan</em> est la Wiimote et <em>orient</em> le <strong>pointeur</strong> vers la variable qui contiendra l'orientation de la Wiimote.</p><p id="r-511764" data-claire-element-id="511764">Voici donc un code récapitualitf, où vous pourrez faire tous vos mouvements pour mieux visualiser ces variables (j'ai rajouté yaw pour ceux qui voulaient voir) :</p><pre id="r-511765" data-claire-element-id="511765"><code data-claire-semantic="c">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;
void (*reload)() = (void(*)())0x80001800;

void initText();

int main(int argc, char **argv)
{
    struct orient_t orient;

    VIDEO_Init();
    WPAD_Init();

    initText();

    WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
    WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

    while(1)
    {
        WPAD_ScanPads();
        WPAD_Orientation(WPAD_CHAN_0,&amp;orient);

        textPos(2,2);
        printf(&quot;Roll : %f&quot;,orient.roll);
        textPos(2,4);
        printf(&quot;Pitch : %f&quot;,orient.pitch);
        textPos(2,6);
        printf(&quot;Yaw : %f&quot;,orient.yaw);

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            reload();
        VIDEO_WaitVSync();
    }

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}</code></pre><h6 id="r-le-wii-wheel-soleil" data-claire-element-id="511768">Le Wii Wheel :soleil: !</h6><p id="r-511767" data-claire-element-id="511767">Le Wii Wheel, c'est cet accessoire en plastique qui ressemble à un volant, que l'on peut acheter à l'unité, ou en même temps que <em>Mario Kart</em>. Pour repérer son orientation, nous utiliserons en fait la variable <em>pitch</em>. Avec le code que j'ai mis plus haut, mettez vous en mode Wheel (capteur infrarouge à gauche et les boutons vers vous : roll=-90). Si vous tournez vers la gauche (Wiimote verticale) <em>pitch</em> vaudra -90. Si vous ne tournez pas, <em>pitch</em> vaudra 0. Si vous tournez à droite, <em>pitch</em> vaudra 90.</p><h5 id="r-les-forces" data-claire-element-id="511785">Les forces</h5><p id="r-511770" data-claire-element-id="511770">Nous allons apprendre comment récupérer les forces de gravité appliquées sur la Wiimote. Ceci nous permettra notamment de détecter comment on secoue la Wiimote.<br/> Il existe une structure : <em>gforce_t</em> qui contient trois flottants : <em>x</em>, <em>y</em> et <em>z</em>.<br/> Le prototype de la fonction est <code data-claire-semantic="cpp">void WPAD_GForce(int chan, struct gforce_t *gforce); </code>, où <em>chan</em> est la Wiimote et <em>gforce</em> est le <strong>pointeur</strong> vers la variable qui contiendra les forces de gravité appliquées sur la Wiimote.<br/> Les axes sont :</p><ul id="r-511777" data-claire-element-id="511777"><li id="r-511772" data-claire-element-id="511772"><p id="r-511771" data-claire-element-id="511771">x : [Gauche/Droite]</p></li><li id="r-511774" data-claire-element-id="511774"><p id="r-511773" data-claire-element-id="511773">y : [Capteur infrarouge/Port extension]</p></li><li id="r-511776" data-claire-element-id="511776"><p id="r-511775" data-claire-element-id="511775">z : [Bouton A/Bouton B]</p></li></ul><p id="r-511778" data-claire-element-id="511778">Voici donc un petit exemple :</p><pre id="r-511779" data-claire-element-id="511779"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;
void (*reload)() = (void(*)())0x80001800;

void initText();

int main(int argc, char **argv)
{
   struct gforce_t force;

    VIDEO_Init();
    WPAD_Init();

    initText();

    WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
    WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

    while(1)
    {
        WPAD_ScanPads();
        WPAD_GForce(WPAD_CHAN_0,&amp;force);

        textPos(2,2);
	printf(&quot;X : %f&quot;,force.x);
	textPos(2,4);
	printf(&quot;Y : %f&quot;,force.y);
	textPos(2,6);
	printf(&quot;Z : %f&quot;,force.z);

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
           reload();
        VIDEO_WaitVSync();
    }
    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}</code></pre><p id="r-511780" data-claire-element-id="511780">Supposons que nous voulions détecter si on secoue la Wiimote de haut en bas ou de bas en haut. On va dire que 3 est la valeur à partir de laquelle on dit qu'on a secoué la Wiimote. Nous écrirons alors :</p><pre id="r-511781" data-claire-element-id="511781"><code data-claire-semantic="cpp">if(force.z&gt;3)
{}/*Alors la Wiimote est secouee*/</code></pre><p id="r-511782" data-claire-element-id="511782">Or, si on déplace la Wiimote vers le bas, la valeur sera négative. Bien que valant -3 le programme ne saura pas que la Wiimote est secouée.<br/> Donc il faut prendre sa valeur absolue :</p><pre id="r-511783" data-claire-element-id="511783"><code data-claire-semantic="cpp">if(abs(force.z)&gt;3)
{}/*Alors la Wiimote est secouee*/</code></pre><p id="r-511784" data-claire-element-id="511784">Petit bonus : Vu que nous étudions les fonctions propres à la Wiimote, sachez que vous pouvez obtenir le niveau de batterie avec la valeur de retour de <code data-claire-semantic="cpp">u8 WPAD_BatteryLevel(int chan); </code><br/> Ceci vous permettra entre autres d'afficher un message d'avertissement lorsque la batterie est en-dessous d'une certaine valeur.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
<span class="arrow"></span>
<span class="next">Récupérer la position de la Wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
<span class="next">Le nunchuk</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lenunchuk"></a><h2>Le nunchuk</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
<span class="arrow"></span>
<span class="next">Récupérer l&#039;orientation et les forces de la Wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">
<span class="next">La 2D (1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-nunchuk-1" data-claire-element-id="511790">Le nunchuk</h4><p id="r-511787" data-claire-element-id="511787">Vous vous souvenez de la manière de récupérer l'expansion de la Wiimote ? Eh bien nous allons l'utiliser ici. En effet, le membre <em>nunchuk</em> de la structure <em>expansion_t</em> contient une variable <em>orient</em> de type <em>orient_t</em> et une variable <em>gforce</em> de type <em>gforce_t</em>.<br/> Donc voici un petit exemple pour bien comprendre :</p><pre id="r-511788" data-claire-element-id="511788"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;
void (*reload)() = (void(*)())0x80001800;

void initText();

int main(int argc, char **argv)
{
    VIDEO_Init();
    WPAD_Init();

    initText();

    struct expansion_t exp;
    WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
    while(!(exp.type&amp;WPAD_EXP_NUNCHUK))
    {
   	printf(&quot;\x1b[1;2H&quot;);
        printf(&quot;Branchez le nunchuk sur la premiere wiimote.&quot;);
        WPAD_ScanPads();
        WPAD_Expansion(WPAD_CHAN_0,&amp;exp);
    }


    while(1)
    {
        WPAD_ScanPads();
        WPAD_Expansion(WPAD_CHAN_0,&amp;exp);

	textPos(2,2);
	printf(&quot;Roll : %.3f&quot;,exp.nunchuk.orient.roll); //Roll du nunchuk

	textPos(2,4);
	printf(&quot;Picth : %.3f&quot;,exp.nunchuk.orient.pitch); //Pitch du nunchuk

	textPos(20,2);
	printf(&quot;Gx : %.3f&quot;,exp.nunchuk.gforce.x); //Force de gravité X du nunchuk

	textPos(20,4);
	printf(&quot;Gy : %.3f&quot;,exp.nunchuk.gforce.y); //Force de gravité Y du nunchuk

	textPos(20,6);
	printf(&quot;Gz : %.3f&quot;,exp.nunchuk.gforce.z); //Force de gravité Z du nunchuk

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            reload();
        VIDEO_WaitVSync();
    }

   return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}</code></pre><p id="r-511789" data-claire-element-id="511789">Et voilà, vous pouvez maintenant gérer l'accéléromètre du nunchuk :) ...</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
<span class="arrow"></span>
<span class="next">Récupérer l&#039;orientation et les forces de la Wiimote</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">
<span class="next">La 2D (1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="La2D1_2"></a><h2>La 2D (1/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
<span class="arrow"></span>
<span class="next">Le nunchuk</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
<span class="next">Créer un projet avec la libwiisprite</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511794" data-claire-element-id="511794">Nous avons vu jusqu'à présent comment utiliser la console, nous allons voir comment faire &quot;apparaître&quot; des images à l'écran :soleil: !<br/> Pour cela une bibliothèque simple d'utilisation : libwiisprite !</p>
</div><a name="Crerunprojetaveclalibwiisprite"></a><h2>Créer un projet avec la libwiisprite</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">
<span class="arrow"></span>
<span class="next">La 2D (1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
<span class="next">Les bases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creer-un-projet-avec-la-libwiisprite" data-claire-element-id="511801">Créer un projet avec la libwiisprite</h4><p id="r-511795" data-claire-element-id="511795">La libwiisprite existe sous la forme de headers + fichier .a, mais il y a des problèmes à la compilation à cause du .a qui utilise des fonctions n'existant plus. Je vous ai donc compilé un nouveau <a href="http://www.mediafire.com/?2tma2ymyloo">libwiisprite.a</a>. Ensuite on va télécharger les headers <a href="http://chaosteil.googlepages.com/libwiisprite-0.3.0b.tar.gz">ici</a>.<br/> Décompressez l'archive, et mettez les fichiers <strong>.h</strong> du dossier <em>libwiisprite\include\</em> dans <em>C:\devkitPro\libogc\include\wiisprite\</em> (vous devrez créer le dossier <em>wiisprite</em> avant) et le fichier <em>libwiisprite.a</em> dans <em>C:\devkitPro\libogc\lib\wii\</em>. Cependant pour que cette lib puisse fonctionner, il vous faut la libpng et la zlib. Dans l'archive, il y a un dossier <em>libpng</em> alors copiez le contenu de son sous-répertoire <em>include</em> dans <em>C:\devkitPro\libogc\include\</em> et le contenu du sous-répertoire <em>lib</em> dans <em>C:\devkitPro\libogc\lib\wii\</em>.<br/> Maintenant, il ne nous reste plus que la zlib. Dans les dossiers en ligne de devkitPro, il y a un répertoire consacré aux ports de libs : <a href="http://sourceforge.net/projects/devkitpro/files/portlibs">portlibs</a>. A présent cherchez <em>zlib-X.X.X-ppc.tar.bz2</em> (à l'heure où j'écris c'est <em>zlib-1.2.4-ppc.tar.bz2</em>).</p><p id="r-511796" data-claire-element-id="511796">Dans chaque projet utilisant la libwiisprite, il faudra modifier le makefile comme suit ligne 36 :</p><pre id="r-511797" data-claire-element-id="511797"><code>LIBS        :=        -lwiiuse -lbte -logc -lm</code></pre><p id="r-511798" data-claire-element-id="511798">Et remplacer cette ligne par :</p><pre id="r-511799" data-claire-element-id="511799"><code>LIBS        :=        -lwiisprite -lpng -lz -lwiiuse -lbte -logc -lm</code></pre><p id="r-511800" data-claire-element-id="511800">Et maintenant vous pouvez utiliser la <em>libwiisprite</em> :) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">
<span class="arrow"></span>
<span class="next">La 2D (1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
<span class="next">Les bases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbases"></a><h2>Les bases</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
<span class="arrow"></span>
<span class="next">Créer un projet avec la libwiisprite</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
<span class="next">Animation, transparence, zoom et rotation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-bases-29" data-claire-element-id="511870">Les bases</h4><p id="r-511802" data-claire-element-id="511802">La libwiisprite peut être considérée comme une bibliothèque de haut niveau. En effet, nous n'aurons plus besoin de faire toutes ces initialisations comme pour la console.</p><h6 id="r-charger-une-image-3" data-claire-element-id="511848">Charger une image</h6><p id="r-511803" data-claire-element-id="511803">Commençons par prendre une image. Pour l'exemple, j'ai pris un sprite qui sera utilisé dans le TP ^^ .</p><aside id="r-511805" data-claire-element-id="511805" data-claire-semantic="information"><p id="r-511804" data-claire-element-id="511804">Toutes vos images doivent avoir leur longueur et leur largeur multiple de 4 ; sinon elle ne sera pas chargée.</p></aside><p id="r-511806" data-claire-element-id="511806">Voici l'image :</p><figure id="r-511808" data-claire-element-id="511809"><img id="r-511807" data-claire-element-id="511807" src="medias/uploads.siteduzero.com_files_212001_213000_212435.png" alt="Image utilisateur"/></figure><p id="r-511810" data-claire-element-id="511810">Appelez-la <em>barre.png</em>.</p><p id="r-511811" data-claire-element-id="511811">Maintenant, il faut le transformer en données C ou C++.<br/> Pour cela, allez dans <em>C:\devkitpro\devkitPPC\bin</em> et copiez le fichier <em>raw2c.exe</em> dans le dossier <em>source</em> de votre projet. Placez-y aussi <em>barre.png</em> et faites glisser l'image sur <em>raw2c.exe</em>. Un fichier <em>barre.c</em> et un fichier <em>barre.h</em> devraient apparaître.</p><aside id="r-511813" data-claire-element-id="511813" data-claire-semantic="information"><p id="r-511812" data-claire-element-id="511812">Si vous êtes sous Linux, vous pourrez télécharger raw2c <a href="http://www.mediafire.com/?tzyyymwlngq">ici</a> et avec un émulateur comme Wine vous pourrez utiliser la commande suivante :</p></aside><pre id="r-511814" data-claire-element-id="511814"><code data-claire-semantic="bash">./raw2c.exe monimage.ext</code></pre><p id="r-511815" data-claire-element-id="511815">Il faudra donc inclure <em>barre.h</em> dans votre main, sachant que votre <em>barre.c</em> sera automatiquement intégré au projet.</p><pre id="r-511816" data-claire-element-id="511816"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;barre.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
	
    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(barre);
    sprite.SetImage(&amp;im);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        manager.Draw(0, 0);
	gwd.Flush();
    }
 
    return 0;
}</code></pre><p id="r-511817" data-claire-element-id="511817">Tout d'abord notez l'inclusion de la libwiisprite :</p><pre id="r-511818" data-claire-element-id="511818"><code data-claire-semantic="cpp">#include &lt;wiisprite/wiisprite.h&gt;</code></pre><p id="r-511819" data-claire-element-id="511819">Toutes les classes de cette lib sont dans un espace de nom appelé <em>wsp</em>. C'est pour ça que j'ai écrit :</p><pre id="r-511820" data-claire-element-id="511820"><code data-claire-semantic="cpp">using namespace wsp;</code></pre><p id="r-511821" data-claire-element-id="511821">On crée une variable contenant l'écran :</p><pre id="r-511822" data-claire-element-id="511822"><code data-claire-semantic="cpp">GameWindow gwd;</code></pre><p id="r-511823" data-claire-element-id="511823">Ensuite on crée les sprites. Pour cela, on va créer d'abord les images qui vont charger les données des fichiers générés par <em>raw2c</em>, et les mettre dans notre sprite.<br/> Donc déjà il faut déclarer les deux variables :</p><pre id="r-511824" data-claire-element-id="511824"><code data-claire-semantic="cpp">Image im; //Contiendra l'image
Sprite sprite; //Contiendra le sprite</code></pre><p id="r-511825" data-claire-element-id="511825">A présent, il faut créer le <em>manager</em>, c'est un système permettant de gérer l'affichage. Uniquement les éléments envoyés au <em>manager</em> seront affichés. Il faudra passer au constructeur le nombre maximum d'éléments à afficher. Donc déclarons notre <em>manager</em> :</p><pre id="r-511826" data-claire-element-id="511826"><code data-claire-semantic="cpp">LayerManager manager(1); //Une seule image à afficher</code></pre><p id="r-511827" data-claire-element-id="511827">Ensuite on va créer un booléen valant VRAI tant qu'on n'appuie pas sur le bouton Home. Et dès qu'on appuie sur le bouton, on sort de la boucle et le <code data-claire-semantic="cpp">return 0; </code> permet de retourner à la Chaîne Homebrew (cette partie peut ressembler avec la SDL) :</p><pre id="r-511828" data-claire-element-id="511828"><code data-claire-semantic="cpp">bool continuer=true;</code></pre><p id="r-511829" data-claire-element-id="511829">Maintenant que les variables sont déclarées, on va les initialiser.<br/> Tout d'abord, on initialise l'écran :</p><pre id="r-511830" data-claire-element-id="511830"><code data-claire-semantic="cpp">gwd.InitVideo();</code></pre><p id="r-511831" data-claire-element-id="511831">Ensuite on charge les données de la barre dans notre image :</p><pre id="r-511832" data-claire-element-id="511832"><code data-claire-semantic="cpp">im.LoadImage(barre);</code></pre><p id="r-511833" data-claire-element-id="511833">On charge l'image dans notre sprite :</p><pre id="r-511834" data-claire-element-id="511834"><code data-claire-semantic="cpp">sprite.SetImage(&amp;im);</code></pre><p id="r-511835" data-claire-element-id="511835">On définit la position du sprite :</p><pre id="r-511836" data-claire-element-id="511836"><code data-claire-semantic="cpp">sprite.SetPosition(0,0);</code></pre><p id="r-511837" data-claire-element-id="511837">Il faut dire au <em>manager</em> qu'on veut lui ajouter le sprite :</p><pre id="r-511838" data-claire-element-id="511838"><code data-claire-semantic="cpp">manager.Append(&amp;sprite);</code></pre><p id="r-511839" data-claire-element-id="511839">Dans notre boucle, on va dessiner le contenu du manager :</p><pre id="r-511840" data-claire-element-id="511840"><code data-claire-semantic="cpp">manager.Draw(0,0);</code></pre><p id="r-511841" data-claire-element-id="511841">Enfin, on raffraîchit l'écran :</p><pre id="r-511842" data-claire-element-id="511842"><code data-claire-semantic="cpp">gwd.Flush();</code></pre><p id="r-511843" data-claire-element-id="511843">Et voici ce qu'on obtient :</p><figure id="r-511845" data-claire-element-id="511846"><img id="r-511844" data-claire-element-id="511844" src="medias/uploads.siteduzero.com_files_212001_213000_212437.png" alt="Image utilisateur"/></figure><p id="r-511847" data-claire-element-id="511847">Mais vous pouvez voir que les bords magenta sont visibles. Nous allons donc les enlever en modifiant directement l'image pour faire un fond transparent.</p><h6 id="r-se-passer-de-manager" data-claire-element-id="511852">Se passer de manager</h6><p id="r-511849" data-claire-element-id="511849">Si vous voulez avoir un nombre variable d'éléments, que vous ne voulez pas vous embêter avec les profondeurs, ou encore que vous êtes habitué(e) au système de <em>blit</em> (comme dans la SDL), vous pouvez vous affranchir de manager de cette manière (d'après les sources de la bibliothèque) :</p><pre id="r-511850" data-claire-element-id="511850"><code data-claire-semantic="cpp">GX_SetScissorBoxOffset(0,-31);
GX_SetScissor(0,0,900,800);

sprite.Draw(0,-31);
un_autre_sprite.Draw(0,-31);
et_encore_un.Draw(0,-31);

GX_SetScissorBoxOffset(0,0);
GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());</code></pre><p id="r-511851" data-claire-element-id="511851">Ainsi, celui qui est affiché après les autres sera au-dessus des autres, à la manière de <em>SDL_BlitSurface</em> pour ceux qui connaissent ;) .</p><h6 id="r-la-transparence-3" data-claire-element-id="511869">La transparence</h6><p id="r-511853" data-claire-element-id="511853">Pour faire un fond transparent, j'ai créé un petit programme en Python, mais vous pouvez essayer de le faire sur un logiciel de graphisme tel que Photoshop ou Gimp (j'avais des problèmes de rendu avec Gimp).<br/> Pour utiliser le programme, il faut avoir installé :</p><ul id="r-511858" data-claire-element-id="511858"><li id="r-511855" data-claire-element-id="511855"><p id="r-511854" data-claire-element-id="511854"><a href="http://python.org/download/">Python 2.6</a></p></li><li id="r-511857" data-claire-element-id="511857"><p id="r-511856" data-claire-element-id="511856"><a href="http://www.pythonware.com/products/pil/">Python Imaging Library 1.1.6</a> (pour Python 2.6)</p></li></ul><p id="r-511859" data-claire-element-id="511859">Si vous n'avez pas Python mais que vous envisagez de programmer en Python par la suite, vous pouvez télécharger Python 2.6 et PIL 1.1.6.<br/> Si vous avez déjà Python, rien ne vous empêche de télécharger PIL 1.1.6.<br/> En revanche, si vous n'avez pas Python et que ce langage ne vous intéresse pas trop, vous pouvez essayer de faire la transparence avec un logiciel.</p><p id="r-511860" data-claire-element-id="511860">Donc voici le programme :</p><pre id="r-511861" data-claire-element-id="511861"><code data-claire-semantic="python">from PIL import Image
import sys

if len(sys.argv)&gt;1:
    image=Image.open(sys.argv[1])
    image1=Image.new(&quot;RGBA&quot;,image.size)
    pix=image.load()
    pix1=image1.load()
    for x in range(0,image.size[0]):
        for y in range(0,image.size[1]):
            if pix[x,y]==(255,0,255,255):
                pix1[x,y]=(255,0,255,0)
            else:
                pix1[x,y]=pix[x,y]
    image1.save(sys.argv[1])
else:
    print &quot;usage : transp.py filename&quot;</code></pre><p id="r-511862" data-claire-element-id="511862">Enregistrez-le dans <em>transp.py</em> (ou autre, du moment que l'extension est .py).<br/> Pour l'utiliser, il suffit de faire glisser l'image sur le <em>transp.py</em> (dans le cas où <em>python.exe</em> est le programme par défaut pour utiliser les .py).<br/> En ligne de commande, il faudra faire :</p><pre id="r-511863" data-claire-element-id="511863"><code data-claire-semantic="console">cd\REPERTOIRE_VERS_PYTHON
python.exe CHEMIN_VERS_LE_PROGRAMME\transp.py image</code></pre><p id="r-511864" data-claire-element-id="511864">Donc votre image a un fond transparent à présent, n'oubliez pas de la repasser à raw2c pour refaire les fichiers <em>barre.c</em> et <em>barre.h</em>.<br/> Et voici le rendu :</p><figure id="r-511866" data-claire-element-id="511867"><img id="r-511865" data-claire-element-id="511865" src="medias/uploads.siteduzero.com_files_212001_213000_212443.png" alt="Image utilisateur"/></figure><p id="r-511868" data-claire-element-id="511868">Si vous observez bien, vous verrez quelques pixels magenta autour de la barre, mais sur une TV réelle ça ne se verra pas.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
<span class="arrow"></span>
<span class="next">Créer un projet avec la libwiisprite</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
<span class="next">Animation, transparence, zoom et rotation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Animationtransparencezoometrotation"></a><h2>Animation, transparence, zoom et rotation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
<span class="arrow"></span>
<span class="next">Les bases</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">
<span class="next">La 2D (2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-animation-transparence-zoom-et-rotation" data-claire-element-id="511918">Animation, transparence, zoom et rotation</h4><h6 id="r-les-animations-8" data-claire-element-id="511896">Les animations</h6><p id="r-511871" data-claire-element-id="511871">Voici un autre sprite du TP :</p><figure id="r-511873" data-claire-element-id="511874"><img id="r-511872" data-claire-element-id="511872" src="medias/uploads.siteduzero.com_files_212001_213000_212532.png" alt="Image utilisateur"/></figure><p id="r-511875" data-claire-element-id="511875">Enregistrez cette image dans <em>briques.png</em>.<br/> Ceci représente quatre briques de couleurs différentes. Le but étant d'afficher une seule brique. C'est pour ça que nous allons utiliser les animations.<br/> C'est très simple. Lorsque vous attribuez une image au sprite, il faut spécifier la longueur et la largeur d'une frame.</p><aside id="r-511877" data-claire-element-id="511877" data-claire-semantic="information"><p id="r-511876" data-claire-element-id="511876">Ceci implique donc que toutes les frames d'une même image doivent avoir même largeur et même hauteur.</p></aside><p id="r-511878" data-claire-element-id="511878">Donc au lieu d'avoir ça :</p><pre id="r-511879" data-claire-element-id="511879"><code data-claire-semantic="cpp">sprite.SetImage(&amp;im);</code></pre><p id="r-511880" data-claire-element-id="511880">On écrira :</p><pre id="r-511881" data-claire-element-id="511881"><code data-claire-semantic="cpp">sprite.SetImage(&amp;im,32,16);</code></pre><p id="r-511882" data-claire-element-id="511882">En effet, la méthode <em>SetImage</em> contient deux arguments prédéfinis : la largeur et la hauteur des frames. La valeur par défaut est 0 pour les deux, ce qui signifie que si vous voulez prendre toute l'image vous pouvez soit omettre les deux paramètres, soit les mettre à 0 ou encore les définir aux dimensions de l'image.<br/> Donc voici le code :</p><pre id="r-511883" data-claire-element-id="511883"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        manager.Draw(0, 0);
	gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-511884" data-claire-element-id="511884">Et voici le rendu :</p><figure id="r-511886" data-claire-element-id="511887"><img id="r-511885" data-claire-element-id="511885" src="medias/uploads.siteduzero.com_files_212001_213000_212534.png" alt="Image utilisateur"/></figure><p id="r-511888" data-claire-element-id="511888">Maintenant nous allons contrôler l'animation avec la méthode <code data-claire-semantic="cpp">void SetFrame(u32 frame); </code><br/> Nous avons 4 frames, donc il faudra fournir un nombre entre 0 et 3 inclus.<br/> Alors faites moi un programme où lorsqu'on appuie sur Gauche on diminue d'une frame et lorsqu'on appuie sur Droite on augmente d'une frame.</p><div id="r-511891" data-claire-element-id="511891"><div id="r-511890" data-claire-element-id="511890"><pre id="r-511889" data-claire-element-id="511889"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
    int frame=0;

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_LEFT)
        {
            frame--;
            if(frame&lt;0) //Si on est avant la premiere frame
                frame=3; //On se met a la derniere frame
        }
        else if(pressed &amp; WPAD_BUTTON_RIGHT)
        {
            frame++;
            frame%=4; //Si on est a la derniere frame on se met a la premiere frame
        }
        sprite.SetFrame(frame);
        manager.Draw(0, 0);
	gwd.Flush();
    }

    return 0;
}</code></pre></div></div><p id="r-511892" data-claire-element-id="511892">Sachez maintenant qu'on aurait pu utiliser les méthodes <code data-claire-semantic="cpp">void NextFrame(); </code> et <code data-claire-semantic="cpp">void PrevFrame(); </code> pour prendre respectivement la frame suivant et la frame précédente.<br/> L'avantage avec ces fonctions est qu'on n'a pas besoin de déclarer une variable, ni de l'incrémenter ou de la décrémenter, ni de tester les dépassements.</p><p id="r-511893" data-claire-element-id="511893">On peut aussi définir la suite des frames. Par défaut, elle est de gauche à droite et de haut en bas. La méthode utilisée sera <code data-claire-semantic="cpp">void SetFrameSequence(u32 *index,u32 taille_index); </code><br/> Si nous voulons faire l'animation à l'endroit puis à l'envers sans se tracasser, on peut créer une liste qui va de 0 à 3 et qui revient à 1 (puisque le 0 sera au début du cycle suivant d'animation) :</p><pre id="r-511894" data-claire-element-id="511894"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);
    u32 index[6]={0,1,2,3,2,1}; //A l'endroit et a l'envers
    sprite.SetFrameSequence(index,6); //On définit la séquence

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_LEFT)
            sprite.PrevFrame();
        else if(pressed &amp; WPAD_BUTTON_RIGHT)
            sprite.NextFrame();
        manager.Draw(0, 0);
	    gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-511895" data-claire-element-id="511895">Et voilà ;) !</p><h6 id="r-la-transparence-4" data-claire-element-id="511901">La transparence</h6><p id="r-511897" data-claire-element-id="511897">Nous allons voir comment régler la transparence <strong>globale</strong> d'un sprite. Il ne s'agit pas de définir une couleur transparente, mais bel et bien de régler la transparence de l'intégralité du sprite. Ca permet par exemple des fondus (transparent-&gt;opaque et opaque-&gt;transparent).<br/> Nous utiliserons la méthode <code data-claire-semantic="cpp">void SetTransparency(u8 alpha); </code> où <em>alpha</em> est une valeur comprise entre 0 et 255 ; 0 correspond à la transparence complète et 255 à l'opacité complète.<br/> Faites un code où on règle la transparence de la brique rouge avec les touches + et - .</p><div id="r-511900" data-claire-element-id="511900"><div id="r-511899" data-claire-element-id="511899"><pre id="r-511898" data-claire-element-id="511898"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
    int transp=128; //Transparence moyenne

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsHeld(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_PLUS)
        {
            transp++;
            if(transp&gt;255) //Si on depasse 255
                transp=255; //On reste a 255
        }
        else if(pressed &amp; WPAD_BUTTON_MINUS)
        {
            transp--;
            if(transp&lt;0) //Si on descend plus bas que 0
                transp=0; //On reste a 0
        }
        sprite.SetTransparency(transp);
        manager.Draw(0, 0);
	    gwd.Flush();
    }

    return 0;
}</code></pre></div></div><h6 id="r-le-zoom-3" data-claire-element-id="511908">Le zoom</h6><p id="r-511902" data-claire-element-id="511902">A présent occupons-nous du zoom. Il s'agit d'un flottant positif. Le zoom négatif n'est pas accepté, et un zoom nul ne sert à rien. Il y a d'autres moyens de cacher un sprite.<br/> La méthode permettant d'appliquer le zoom est <code data-claire-semantic="cpp">void SetZoom(f32 zoom); </code>.<br/> Donc voici un code permettant de modifier le zoom de notre brique avec les touches + et - :</p><pre id="r-511903" data-claire-element-id="511903"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
    float zoom=1.; //Zoom normal

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsHeld(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_PLUS)
        {
            zoom+=.1;
            if(zoom&gt;5.) //On va definir le maximum a 5x
                zoom=5.;
        }
        else if(pressed &amp; WPAD_BUTTON_MINUS)
        {
            zoom-=.1;
            if(zoom&lt;.5) //On va definir le minimum a 0.5x
                zoom=.5;
        }
        sprite.SetZoom(zoom); //On applique le zoom sur le sprite
        manager.Draw(0, 0);
	gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-511904" data-claire-element-id="511904">On peut observer que la position du sprite change avec le zoom. On va donc le centrer sur le centre de l'écran. Pour cela il nous faut connaître la largeur et la hauteur du sprite et de l'écran. Pour le sprite ce sera <code data-claire-semantic="cpp">u32 GetWidth(); </code> (longueur) et <code data-claire-semantic="cpp">u32 GetHeight(); </code> (largeur), et pour l'écran ce sera 640x480. On verra par la suite comment récupérer d'autres données sur les sprites.<br/> Donc rajoutez une ligne permettant de modifier la position du sprite de sorte que son centre soit au centre de l'écran.</p><div id="r-511907" data-claire-element-id="511907"><div id="r-511906" data-claire-element-id="511906"><pre id="r-511905" data-claire-element-id="511905"><code data-claire-semantic="cpp">sprite.SetPosition((640-sprite.GetWidth())/2,(480-sprite.GetHeight())/2);</code></pre></div></div><h6 id="r-les-rotations-2" data-claire-element-id="511917">Les rotations</h6><p id="r-511909" data-claire-element-id="511909">Regardons à présent du côté des rotations.<br/> Nous avons une méthode toute simple : <code data-claire-semantic="cpp">void SetRotation(f32 angle); </code> où <em>angle</em> est l'angle en <strong>degré/2</strong>. En effet, si vous voulez un angle de 45° il faudra que vous passiez 22.5 en argument, sinon vous aurez un angle de 90°...<br/> Contrairement au zoom, cette opération ne modifie pas les coordonnées du sprite.<br/> Donc voici un code pour que vous visualisiez tout ça :</p><pre id="r-511910" data-claire-element-id="511910"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
    float angle=0;

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition(0, 0);

    manager.Append(&amp;sprite);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsHeld(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_PLUS)
        {
            angle+=5.;
            while(angle&gt;360.) //Tant qu'on est au-dessus de 360
                angle-=360.; //On retire un tour, permet d'eviter les depassements de memoire
        }
        else if(pressed &amp; WPAD_BUTTON_MINUS)
        {
            angle-=5.;
            while(angle&lt;0.) //Tant qu'on est en-dessous de 0
                angle+=360.; //On rajoute un tour
        }
        sprite.SetRotation(angle/2.); //On n'oublie pas de diviser par 2
        manager.Draw(0, 0);
	gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-511911" data-claire-element-id="511911">Et un petit exo ! Encore :'( !<br/> Vous allez centrer le sprite dès le départ et il devra s'orienter vers l'endroit où vous pointez votre Wiimote sur l'écran.</p><div id="r-511915" data-claire-element-id="511916"><img id="r-511916" data-claire-element-id="511915" src="medias/uploads.siteduzero.com_files_212001_213000_212769.png" alt="Image utilisateur"/><p id="r-511912" data-claire-element-id="511912">Nous utiliserons la tangente :</p><p id="r-511913" data-claire-element-id="511913">an(\alpha)=\frac{y}{x}\alpha=\arctan(\frac{y}{x})<br/> Maintenant deux chemins s'offrent à vous : utiliser la fonction atan en mettant en paramètre y/x ou utiliser la fonction atan2 et mettre en paramètres y et x. J'ai opté pour atan2 car elle est plus claire (suppression de certaines parenthèses) :</p><pre id="r-511914" data-claire-element-id="511914"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;cmath&gt; //On inclut la lib math permettant d'avoir la tangente

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;briques.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    Image im;
    Sprite sprite;
    LayerManager manager(1);
    float angle=0;
    struct ir_t ir;

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(briques);
    sprite.SetImage(&amp;im,32,16);
    sprite.SetPosition((640-sprite.GetWidth())/2,(480-sprite.GetHeight())/2); //On centre le sprite

    manager.Append(&amp;sprite);

    WPAD_Init();
    WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
    WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

    while(continuer)
    {
        WPAD_ScanPads();
        WPAD_IR(WPAD_CHAN_0,&amp;ir);
        u32 pressed = WPAD_ButtonsHeld(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        angle=180.*atan2(ir.y-sprite.GetY(),ir.x-sprite.GetX())/M_PI; //N'oublions pas de convertir en degres
        sprite.SetRotation(angle/2.);
        manager.Draw(0, 0);
	gwd.Flush();
    }

    return 0;
}</code></pre></div>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
<span class="arrow"></span>
<span class="next">Les bases</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">
<span class="next">La 2D (2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="La2D2_2"></a><h2>La 2D (2/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
<span class="arrow"></span>
<span class="next">Animation, transparence, zoom et rotation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
<span class="next">Les maps</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511920" data-claire-element-id="511920">Nous allons voir ici comment créer des maps, gérer des collisions, afficher du texte et voir quelques méthodes de la classe <em>Sprite</em>.</p>
</div><a name="Lesmaps"></a><h2>Les maps</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">
<span class="arrow"></span>
<span class="next">La 2D (2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
<span class="next">Les collisions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-maps-2" data-claire-element-id="511996">Les maps</h4><p id="r-511921" data-claire-element-id="511921">Nous allons ici aborder la notion de &quot;map&quot;. Pour le joueur, il s'agit bien sûr d'une image composée d'un fond et de divers éléments (obstacles, etc.). Pour le programmeur, il s'agit d'un tableau de nombres ! Voici un tutoriel montrant comment fonctionnent les maps : <a href="http://www.siteduzero.com/tutoriel-3-198472-tile-mapping.html">Tile Mapping</a> de <a href="http://www.siteduzero.com/membres-294-66780.html">Fvirtman</a>.<br/> Donc voici notre tileset :</p><figure id="r-511923" data-claire-element-id="511924"><img id="r-511922" data-claire-element-id="511922" src="medias/uploads.siteduzero.com_files_213001_214000_213193.png" alt="Image utilisateur"/></figure><p id="r-511925" data-claire-element-id="511925">Enregistrez cette image sous <em>tileset.png</em> (n'oubliez pas de la passer à raw2c :-° ).</p><p id="r-511926" data-claire-element-id="511926">Maintenant, il faut définir la map, ce sera un tableau de <em>s32</em>.</p><aside id="r-511928" data-claire-element-id="511928" data-claire-semantic="warning"><p id="r-511927" data-claire-element-id="511927">Contrairement à ce que vous avez pu apprendre jusqu'ici, le compte de tiles commencera à partir de 1 et non de 0. En effet, le nombre 0 est utilisé pour les tiles vides, c'est-à-dire dépourvues de collision.</p></aside><p id="r-511929" data-claire-element-id="511929">Une fois les instructions passées au programme, voici la représentation des tiles dans la mémoire :</p><table id="r-511966" data-claire-element-id="511966"><tbody id="r-511965" data-claire-element-id="511965"><tr id="r-511949" data-claire-element-id="511949"><td id="r-511931" data-claire-element-id="511931"><p id="r-511930" data-claire-element-id="511930">Tile</p></td><td id="r-511933" data-claire-element-id="511933"><p id="r-511932" data-claire-element-id="511932">Vide</p></td><td id="r-511935" data-claire-element-id="511936"><img id="r-511936" data-claire-element-id="511935" src="medias/uploads.siteduzero.com_files_213001_214000_213467.png" alt="Image utilisateur"/><img id="r-511934" data-claire-element-id="511934" src="medias/uploads.siteduzero.com_files_213001_214000_213467.png" alt="Image utilisateur"/></td><td id="r-511938" data-claire-element-id="511939"><img id="r-511939" data-claire-element-id="511938" src="medias/uploads.siteduzero.com_files_213001_214000_213468.png" alt="Image utilisateur"/><img id="r-511937" data-claire-element-id="511937" src="medias/uploads.siteduzero.com_files_213001_214000_213468.png" alt="Image utilisateur"/></td><td id="r-511941" data-claire-element-id="511942"><img id="r-511942" data-claire-element-id="511941" src="medias/uploads.siteduzero.com_files_213001_214000_213469.png" alt="Image utilisateur"/><img id="r-511940" data-claire-element-id="511940" src="medias/uploads.siteduzero.com_files_213001_214000_213469.png" alt="Image utilisateur"/></td><td id="r-511944" data-claire-element-id="511945"><img id="r-511945" data-claire-element-id="511944" src="medias/uploads.siteduzero.com_files_213001_214000_213470.png" alt="Image utilisateur"/><img id="r-511943" data-claire-element-id="511943" src="medias/uploads.siteduzero.com_files_213001_214000_213470.png" alt="Image utilisateur"/></td><td id="r-511947" data-claire-element-id="511948"><img id="r-511948" data-claire-element-id="511947" src="medias/uploads.siteduzero.com_files_213001_214000_213471.png" alt="Image utilisateur"/><img id="r-511946" data-claire-element-id="511946" src="medias/uploads.siteduzero.com_files_213001_214000_213471.png" alt="Image utilisateur"/></td></tr><tr id="r-511964" data-claire-element-id="511964"><td id="r-511951" data-claire-element-id="511951"><p id="r-511950" data-claire-element-id="511950">Numéro de tile</p></td><td id="r-511953" data-claire-element-id="511953"><p id="r-511952" data-claire-element-id="511952">0</p></td><td id="r-511955" data-claire-element-id="511955"><p id="r-511954" data-claire-element-id="511954">1</p></td><td id="r-511957" data-claire-element-id="511957"><p id="r-511956" data-claire-element-id="511956">2</p></td><td id="r-511959" data-claire-element-id="511959"><p id="r-511958" data-claire-element-id="511958">3</p></td><td id="r-511961" data-claire-element-id="511961"><p id="r-511960" data-claire-element-id="511960">4</p></td><td id="r-511963" data-claire-element-id="511963"><p id="r-511962" data-claire-element-id="511962">5</p></td></tr></tbody></table><p id="r-511967" data-claire-element-id="511967">Vu que nos tiles font 32x32, nous allons donc définir quelques constantes comme ceci :</p><pre id="r-511968" data-claire-element-id="511968"><code data-claire-semantic="cpp">#define LARGEUR_ECRAN 640          //Largeur de l'ecran
#define HAUTEUR_ECRAN 480          //Hauteur de l'ecran
#define TILES_X (LARGEUR_ECRAN&gt;&gt;5) //Nombre de tiles dans les X
#define TILES_Y (HAUTEUR_ECRAN&gt;&gt;5) //Nombre de tiles dans les Y</code></pre><p id="r-511969" data-claire-element-id="511969">Donc notre map sera déclarée comme ceci :</p><pre id="r-511970" data-claire-element-id="511970"><code data-claire-semantic="cpp">s32 map_c[TILES_X*TILES_Y]={/*DEFINITION DE LA MAP*/};</code></pre><p id="r-511971" data-claire-element-id="511971">Faites-moi une map maintenant qui contient la suite suivante :</p><figure id="r-511973" data-claire-element-id="511974"><img id="r-511972" data-claire-element-id="511972" src="medias/uploads.siteduzero.com_files_213001_214000_213473.png" alt="Image utilisateur"/></figure><p id="r-511975" data-claire-element-id="511975"></p><div id="r-511977" data-claire-element-id="511977"><pre id="r-511976" data-claire-element-id="511976"><code data-claire-semantic="cpp">s32 map_c[TILES_X*TILES_Y]=
    {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,1,2,2,2,3,0,0,0,0,0,0,0, //Definition de la barre du haut
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,4,2,2,2,2,2,5,0,0,0,0,0,0, //Definition de la barre du bas
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    };</code></pre></div><p id="r-511978" data-claire-element-id="511978">Maintenant, il faut déclarer notre map de type <em>TiledLayer</em> dont voici le prototype : <code data-claire-semantic="cpp">TiledLayer(s32 colonnes, s32 lignes, u32 ani); </code> où <em>colonnes</em> est le nombre de tiles dans les X, <em>lignes</em> est le nombre de tiles dans les Y et <em>ani</em> est le nombre de tiles qui seront animées, mais nous n'utiliserons pas ce paramètre.</p><p id="r-511979" data-claire-element-id="511979">Ensuite, il faut lui dire sur quel tileset nous allons travailler avec <code data-claire-semantic="cpp">void SetStaticTileset(Image* image, u32 tileWidth, u32 tileHeight); </code> où <em>image</em> est un <strong>pointeur</strong> vers notre image (<em>tileset.png</em>), <em>tileWidth</em> la largeur du tile (dans notre cas ce sera 32) et <em>tileHeight</em> la hauteur du tile (dans notre cas ce sera auss 32).</p><p id="r-511980" data-claire-element-id="511980">Maintenant nous pouvons définir les tiles de notre objet. Il y a deux sortes de façons de le remplir :</p><ul id="r-511987" data-claire-element-id="511987"><li id="r-511984" data-claire-element-id="511984"><p id="r-511981" data-claire-element-id="511981">Tile par tile : avec <code data-claire-semantic="cpp">void SetCell(u32 col, u32 row, s32 tileIndex); </code> où <em>col</em> est la position dans les X du tile, <em>row</em> est la position dans les Y du tile et <em>tileIndex</em> le numéro du tile à afficher.</p><aside id="r-511983" data-claire-element-id="511983" data-claire-semantic="warning"><p id="r-511982" data-claire-element-id="511982">Pour les variables <em>col</em> et <em>row</em>, il ne faut pas oublier qu'on ne parle pas en pixels mais en tiles. Donc pour notre cas (fenêtre de 640x480 et tiles de 32x32), <em>col</em> doit être compris entre 0 et 19 inclus et <em>row</em> doit être compris entre 0 et 14 inclus.</p></aside></li><li id="r-511986" data-claire-element-id="511986"><p id="r-511985" data-claire-element-id="511985">Par régions rectangulaires de tiles : très pratiques pour le cas où on a des rectangles remplies du même tile. La méthode à utiliser est <code data-claire-semantic="cpp">void FillCells(u32 col, u32 row, u32 numCols, u32 numRows, s32 tileIndex); </code> où <em>col</em> est la position dans les X du premier tile, <em>row</em> est la position dans les Y du deuxième tile, <em>numCols</em> est le nombre de tiles dans les X, <em>numRows</em> est le nombre de tiles dans les Y et <em>tileIndex</em> est le numéro du tile dont va être rempli la zone rectangulaire.</p></li></ul><p id="r-511988" data-claire-element-id="511988">Vu que nous utilisons un tableau prédéfini, j'ai opté pour le remplissage tile par tile.</p><p id="r-511989" data-claire-element-id="511989">Enfin, il ne restera plus qu'à ajouter notre objet au manager, comme un sprite.</p><p id="r-511990" data-claire-element-id="511990">Ce qui donne :</p><pre id="r-511991" data-claire-element-id="511991"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;tileset.h&quot;

#define LARGEUR_ECRAN 640          //Largeur de l'ecran
#define HAUTEUR_ECRAN 480          //Hauteur de l'ecran
#define TILES_X (LARGEUR_ECRAN&gt;&gt;5) //Nombre de tiles dans les X
#define TILES_Y (HAUTEUR_ECRAN&gt;&gt;5) //Nombre de tiles dans les Y

using namespace wsp;

int main(int argc, char **argv)
{
    s32 map_c[TILES_X*TILES_Y]=
    {
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,1,2,2,2,3,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
        0,0,0,0,0,0,0,4,2,2,2,2,2,5,0,0,0,0,0,0,
        0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
    };
    GameWindow gwd;
    Image im;
    TiledLayer map(TILES_X,TILES_Y,0);
    LayerManager manager(1);

    bool continuer=true;

    gwd.InitVideo();

    im.LoadImage(tileset);
    map.SetStaticTileset(&amp;im,32,32);
    for(int i=0;i&lt;TILES_X*TILES_Y;i++)
        map.SetCell(i%TILES_X,i/TILES_X,map_c[i]); //i%TILES_X =&gt; x ; i/TILES_X =&gt; y

    manager.Append(&amp;map);

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        manager.Draw(0, 0);
	    gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-511992" data-claire-element-id="511992">Et ça vous donne le rendu que vous pouvez voir plus haut :) .</p><p id="r-511993" data-claire-element-id="511993">Voyons à présent les autres méthodes. La plus importante à retenir (à part celles citées auparavant) est celle permettant d'obtenir la valeur d'un tile en un certain point. Il s'agit de <code data-claire-semantic="cpp">s32 GetCell(u32 col, u32 row); </code> où <em>col</em> est la position du tile dans les X et <em>row</em> est la position du tile dans les Y. La valeur de retour est bien entendu le numéro du tile ^^ .</p><p id="r-511994" data-claire-element-id="511994">Vous pouvez aussi modifier la transparence du tileset avec <code data-claire-semantic="cpp">void SetTransparency(u8 alpha); </code>. Cette méthode fonctionne comme chez les sprites.</p><p id="r-511995" data-claire-element-id="511995">Nous allons voir par la suite les collisions, et donc les collisions avec un <em>TiledLayer</em>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">
<span class="arrow"></span>
<span class="next">La 2D (2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
<span class="next">Les collisions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lescollisions"></a><h2>Les collisions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
<span class="arrow"></span>
<span class="next">Les maps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
<span class="next">Quelques méthodes de sprites</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-collisions-3" data-claire-element-id="512004">Les collisions</h4><p id="r-511997" data-claire-element-id="511997">Bonne nouvelle ! La lib wiisprite gère aussi les collisions rectangulaires pour nous :soleil: !</p><p id="r-511998" data-claire-element-id="511998">Sachez tout d'abord qu'il existe une structure <em>Rectangle</em> définie comme ceci :</p><pre id="r-511999" data-claire-element-id="511999"><code data-claire-semantic="cpp">struct Rectangle
{
    f32 x,y;
    f32 width,height;
};</code></pre><p id="r-512000" data-claire-element-id="512000">Ce sera la base de la collision : la position du coin en haut à gauche du rectangle et ses dimensions. Ce qui donnera les 4 points de collision du sprite.<br/> Pour définir le rectangle de collision du sprite, nous utiliserons <code data-claire-semantic="cpp">void DefineCollisionRectangle(f32 x, f32 y, f32 width, f32 height); </code>. Ici, pas de <em>Rectangle</em>, mais cette structure servira notamment par la suite. Par exemple, si vous voulez récupérer le rectangle de collision, la méthode <code data-claire-semantic="cpp">const Rectangle* GetCollisionRectangle(); </code> vous renverra un <strong>pointeur constant</strong> sur le rectangle de collision du sprite.</p><p id="r-512001" data-claire-element-id="512001">Pour tester la collision avec un sprite, nous allons utiliser <code data-claire-semantic="cpp">bool CollidesWith(const Sprite* sprite, bool complete = false); </code> où <em>sprite</em> est un <strong>pointeur</strong> sur l'autre sprite et <em>complete</em> un booléen qui indique si on ne tient pas compte du zoom et de la rotation (<code data-claire-semantic="cpp">false </code>) ou si on doit tenir compte de ces deux facteurs (<code data-claire-semantic="cpp">true </code>). Cette méthode retourne un booléen qui vaut <code data-claire-semantic="cpp">true </code> s'il y a collision entre le sprite et le sprite passé en argument.</p><p id="r-512002" data-claire-element-id="512002">Pour tester la collision avec un <em>Rectangle</em>, nous appèlerons <code data-claire-semantic="cpp">bool CollidesWith(const Rectangle* rect, f32 x = 0, f32 y = 0); </code> où <em>rect</em> est un <strong>pointeur</strong> de <em>Rectangle</em>. Ne vous occupez pas des deux derniers arguments : ils ne nous serviront pas.</p><p id="r-512003" data-claire-element-id="512003">Et maintenant comme promis, nous allons voir comment tester les colllisions avec un <em>TiledLayer</em>. Tout simplement avec <code data-claire-semantic="cpp">bool CollidesWith(const TiledLayer* tiledlayer); </code> où <em>tiledlayer</em> est un <strong>Pointeur</strong> vers votre map. Cette fonction renvoie <code data-claire-semantic="cpp">true </code> dans le cas où le numéro du tile en collision avec le sprite est différent de 0.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
<span class="arrow"></span>
<span class="next">Les maps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
<span class="next">Quelques méthodes de sprites</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Quelquesmthodesdesprites"></a><h2>Quelques méthodes de sprites</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
<span class="arrow"></span>
<span class="next">Les collisions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
<span class="next">Afficher du texte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-quelques-methodes-de-sprites" data-claire-element-id="512050">Quelques méthodes de sprites</h4><p id="r-512005" data-claire-element-id="512005">Saviez-vous que la classe <em>Sprite</em> héritait de <em>Layer</em> ?<br/> Donc a classe <em>Sprite</em> a non seulement ses méthodes, mais en plus celles de <em>Layer</em>.</p><h6 id="r-les-methodes-de-layer" data-claire-element-id="512028">Les méthodes de Layer</h6><p id="r-512006" data-claire-element-id="512006">Voici les méthodes de <em>Layer</em> :</p><ul id="r-512027" data-claire-element-id="512027"><li id="r-512008" data-claire-element-id="512008"><p id="r-512007" data-claire-element-id="512007"><code data-claire-semantic="cpp">u32 GetHeight(); </code> : renvoie la hauteur en pixels</p></li><li id="r-512010" data-claire-element-id="512010"><p id="r-512009" data-claire-element-id="512009"><code data-claire-semantic="cpp">u32 GetWidth(); </code> : renvoie la largeur en pixels</p></li><li id="r-512012" data-claire-element-id="512012"><p id="r-512011" data-claire-element-id="512011"><code data-claire-semantic="cpp">f32 GetX(); </code> : renvoie la position dans les X (flottant)</p></li><li id="r-512014" data-claire-element-id="512014"><p id="r-512013" data-claire-element-id="512013"><code data-claire-semantic="cpp">f32 GetY(); </code> : renvoie la position dans les Y (flottant)</p></li><li id="r-512016" data-claire-element-id="512016"><p id="r-512015" data-claire-element-id="512015"><code data-claire-semantic="cpp">bool IsVisible(); </code> : renvoie si le sprite est visible (il sera affiché) ou pas</p></li><li id="r-512018" data-claire-element-id="512018"><p id="r-512017" data-claire-element-id="512017"><code data-claire-semantic="cpp">void SetVisible(bool visible); </code> : définit la visibilité du sprite -&gt; <code data-claire-semantic="cpp">true </code> =&gt; visible, <code data-claire-semantic="cpp">false </code> =&gt; invisible</p></li><li id="r-512020" data-claire-element-id="512020"><p id="r-512019" data-claire-element-id="512019"><code data-claire-semantic="cpp">void SetPosition(f32 x, f32 y); </code> : permet de modifier les coordonnées X et Y du sprite (flottant)</p></li><li id="r-512022" data-claire-element-id="512022"><p id="r-512021" data-claire-element-id="512021"><code data-claire-semantic="cpp">void Move(f32 deltaX, f32 deltaY); </code> : permet de déplacer l'image de façon relative de <em>deltaX</em> pixels dans les X et de <em>deltaY</em> pixels dans les Y (flottant)</p></li><li id="r-512024" data-claire-element-id="512024"><p id="r-512023" data-claire-element-id="512023"><code data-claire-semantic="cpp">void SetX(f32 x); </code>/ <code data-claire-semantic="cpp">void SetX(s32 x); </code>/ <code data-claire-semantic="cpp">void SetX(u32 x); </code> : permet de définir la position dans les X du sprite</p></li><li id="r-512026" data-claire-element-id="512026"><p id="r-512025" data-claire-element-id="512025"><code data-claire-semantic="cpp">void SetY(f32 y); </code>/ <code data-claire-semantic="cpp">void SetY(s32 y); </code>/ <code data-claire-semantic="cpp">void SetY(u32 y); </code> : permet de définir la position dans les Y du sprite</p></li></ul><h6 id="r-les-methodes-de-sprite" data-claire-element-id="512049">Les méthodes de Sprite</h6><p id="r-512029" data-claire-element-id="512029">Voici les méthodes de <em>Sprite</em> (non vues précédemment) :</p><ul id="r-512048" data-claire-element-id="512048"><li id="r-512031" data-claire-element-id="512031"><p id="r-512030" data-claire-element-id="512030"><code data-claire-semantic="cpp">const Image* GetImage(); </code> : retourne un pointeur vers l'image</p></li><li id="r-512033" data-claire-element-id="512033"><p id="r-512032" data-claire-element-id="512032"><code data-claire-semantic="cpp">void SetTransform(u8 transform); </code> : applique une transformation au sprite. Il s'agit de flags comme <em>TRANS_NONE</em> (pas de transformation) ou encore <em>TRANS_MIRROR</em> (miroir horizontal). Il existe deux autres types des transformations, mais nous n'allons pas les voir (si vous y tenez, allez chercher dans la lib ^^ ).</p></li><li id="r-512035" data-claire-element-id="512035"><p id="r-512034" data-claire-element-id="512034"><code data-claire-semantic="cpp">u8 GetTransform(); </code> : retourne la/les transformation(s) appliquée(s) au sprite</p></li><li id="r-512037" data-claire-element-id="512037"><p id="r-512036" data-claire-element-id="512036"><code data-claire-semantic="cpp">f32 GetRotation(); </code> : retourne l'angle de rotation du sprite (flottant)</p></li><li id="r-512039" data-claire-element-id="512039"><p id="r-512038" data-claire-element-id="512038"><code data-claire-semantic="cpp">f32 GetZoom(); </code> : retourne le zoom du sprite (flottant)</p></li><li id="r-512041" data-claire-element-id="512041"><p id="r-512040" data-claire-element-id="512040"><code data-claire-semantic="cpp">u8 GetTransparency(); </code> : retourne la transparence du sprite (entre 0 et 255)</p></li><li id="r-512043" data-claire-element-id="512043"><p id="r-512042" data-claire-element-id="512042"><code data-claire-semantic="cpp">u32 GetFrame(); </code> : retourne la frame actuelle (absolue)</p></li><li id="r-512045" data-claire-element-id="512045"><p id="r-512044" data-claire-element-id="512044"><code data-claire-semantic="cpp">u32 GetFrameSequencePos(); </code> : retourne la frame actuelle par rapport à la séquence de frames que vous avez définie</p></li><li id="r-512047" data-claire-element-id="512047"><p id="r-512046" data-claire-element-id="512046"><code data-claire-semantic="cpp">u32 GetFrameSequenceLength(); </code> : retourne le nombre de frames de la séquence que vous avez définie.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
<span class="arrow"></span>
<span class="next">Les collisions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
<span class="next">Afficher du texte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Afficherdutexte"></a><h2>Afficher du texte</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
<span class="arrow"></span>
<span class="next">Quelques méthodes de sprites</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">
<span class="next">TP n°1 : Le casse-briques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-afficher-du-texte-11" data-claire-element-id="512096">Afficher du texte</h4><p id="r-512051" data-claire-element-id="512051">Maintenant nous allons voir comment afficher du texte avec cette lib. Malheureusement elle ne dispose pas d'un lecteur de fichiers de police (de format TTF par exemple) et nous n'allons pas en coder un. Cependant nous allons utiliser la lib <em>FreeType</em> via une classe simplifiée : <em>ftImage</em>. Plusieurs bibliothèques seront à installer, c'est pourquoi je vous ai fait un pack <a href="http://www.mediafire.com/?jgkz2jlelkmjfw0">à cette adresse</a>.<br/> Le contenu du dossier <em>include</em> sera à mettre dans le dossier <em>include</em> de la <em>libogc</em> et le contenu du dossier <em>lib</em> dans le dossier <em>lib/wii</em> de la <em>libogc</em>.</p><p id="r-512052" data-claire-element-id="512052">Maintenant modifiez le Makefile en ajoutant <code>-lftimage -lfreetype</code> au début des libs :</p><pre id="r-512053" data-claire-element-id="512053"><code>LIBS        :=        -lftimage -lfreetype -lwiisprite -lpng -lz -lwiiuse -lbte -logc -lm</code></pre><p id="r-512054" data-claire-element-id="512054">Pour suivre cette partie, prenez une police TTF (celles de votre système iront très bien). Pour ma part j'ai pris <em>Times New Roman</em> sous le nom de <em>times.ttf</em>. Passez ce fichier dans <em>raw2c</em>.</p><p id="r-512055" data-claire-element-id="512055">Il faut inclure la classe <em>ftImage</em> et le contenu de <em>times.ttf</em> :</p><pre id="r-512056" data-claire-element-id="512056"><code data-claire-semantic="cpp">#include &lt;ftImage.h&gt; //Ce header contient la classe ftImage

#include &quot;times.h&quot; //Notre police sous forme de données brutes</code></pre><p id="r-512057" data-claire-element-id="512057">Ensuite on crée une variable de type <em>ftImage</em> en passant en arguments à son constructeur sa largeur et sa hauteur. Pour l'exemple, nous allons écrire sur toute le largeur de l'écran et sur deux lignes avec une police de taille 32 donc on va prendre :</p><pre id="r-512058" data-claire-element-id="512058"><code data-claire-semantic="cpp">ftImage im_txt(640,80);</code></pre><p id="r-512059" data-claire-element-id="512059">Les dimensions doivent être multiple de 4.<br/> Cette image va être &quot;inscriptible&quot; et servira donc de base au sprite que nous allons créer :</p><pre id="r-512060" data-claire-element-id="512060"><code data-claire-semantic="cpp">Sprite txt;</code></pre><p id="r-512061" data-claire-element-id="512061">Nous travaillons sur un fond noir, nous n'allons donc pas choisir cette couleur pour la police. J'ai opté pour le blanc (original ^^ ).</p><aside id="r-512063" data-claire-element-id="512063" data-claire-semantic="information"><p id="r-512062" data-claire-element-id="512062">Pour changer la couleur de fond il faut faire :</p></aside><pre id="r-512064" data-claire-element-id="512064"><code data-claire-semantic="cpp">gwd.SetBackground((GXColor){r,g,b,255});</code></pre><p id="r-512065" data-claire-element-id="512065">A l'instar de SDL_ttf, nous allons avoir une variable de couleur, dont le type est <em>Color</em> et qui se déclare comme ceci :</p><pre id="r-512066" data-claire-element-id="512066"><code data-claire-semantic="cpp">Color blanc=Color::Color(255,255,255);</code></pre><p id="r-512067" data-claire-element-id="512067">Maintenant nous allons définir les propriétés de l'image. Premièrement, occupons-nous de la police :</p><pre id="r-512068" data-claire-element-id="512068"><code data-claire-semantic="cpp">im_txt.setFont(times,times_size);</code></pre><p id="r-512069" data-claire-element-id="512069">N'oubliez pas que <em>times</em> correspond aux données brutes et que <em>times_size</em> est sa taille.<br/> Deuxièmement, la taille de la police :</p><pre id="r-512070" data-claire-element-id="512070"><code data-claire-semantic="cpp">im_txt.setSize(32);</code></pre><p id="r-512071" data-claire-element-id="512071">Enfin, la couleur :</p><pre id="r-512072" data-claire-element-id="512072"><code data-claire-semantic="cpp">im_txt.setColor(blanc);</code></pre><p id="r-512073" data-claire-element-id="512073">A présent il faut définir le texte grace à la <strong>méthode</strong> (et non fonction) <em>printf</em>. Elle prend les mêmes arguments que la fonction éponyme :</p><pre id="r-512074" data-claire-element-id="512074"><code data-claire-semantic="cpp">im_txt.printf(&quot;Mon texte !&quot;);</code></pre><p id="r-512075" data-claire-element-id="512075">Vous pouvez même utiliser le retour à la ligne (' ').</p><aside id="r-512077" data-claire-element-id="512077" data-claire-semantic="information"><p id="r-512076" data-claire-element-id="512076">Les caractères spéciaux (dont la valeur dépasse 127) fonctionnent mal, c'est pourquoi vous devrez utilisez le format %c pour afficher chaque caractère spécial comme ceci :</p></aside><pre id="r-512078" data-claire-element-id="512078"><code data-claire-semantic="cpp">im_txt.printf(&quot;Le site du Z%cro&quot;,'é');</code></pre><p id="r-512079" data-claire-element-id="512079">Pour &quot;signaler&quot; à l'image que nous avons fini de la modifier il faut faire appel à sa méthode <em>flush</em> :</p><pre id="r-512080" data-claire-element-id="512080"><code data-claire-semantic="cpp">im_txt.flush();</code></pre><p id="r-512081" data-claire-element-id="512081">Et tout le reste se déroule comme si <em>im_txt</em> était de type <em>wsp::Image</em> :soleil: !<br/> Voyez par vous-même :</p><pre id="r-512082" data-claire-element-id="512082"><code data-claire-semantic="cpp">txt.SetImage(&amp;im_txt);
txt.SetPosition(10,10);

manager.Append(&amp;txt);</code></pre><aside id="r-512084" data-claire-element-id="512084" data-claire-semantic="information"><p id="r-512083" data-claire-element-id="512083">Si vous modifiez l'image, au moment de l'appel à <em>flush</em>tous les sprites auxquels est affectée l'image seront modifiés. C'est pourquoi il vous faudra une image différente par texte.</p></aside><p id="r-512085" data-claire-element-id="512085">Pour que vous puissiez bien visualiser voici un petit code récapitulatif :</p><pre id="r-512086" data-claire-element-id="512086"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &lt;ftImage.h&gt;

#include &quot;times.h&quot;

using namespace wsp;

int main(int argc, char **argv)
{
    GameWindow gwd;
    LayerManager manager(1);

    ftImage im_txt(640,80);
    Sprite txt;
    Color blanc=Color::Color(255,255,255);

    im_txt.setFont(times,times_size);
    im_txt.setSize(32);
    im_txt.setColor(blanc);

    im_txt.printf(&quot;Voix ambig%ce d'un coeur qui au z%cphyr pr%cf%cre\nles jattes de kiwis. 1234567890&quot;,'ü','é','é','è');
    im_txt.flush();

    txt.SetImage(&amp;im_txt);
    txt.SetPosition(10,10);

    manager.Append(&amp;txt);

    bool continuer=true;

    gwd.InitVideo();

    WPAD_Init();

    while(continuer)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;

        manager.Draw(0,0);

        gwd.Flush();
    }

    return 0;
}</code></pre><p id="r-512087" data-claire-element-id="512087">Et ça donne :</p><figure id="r-512089" data-claire-element-id="512090"><img id="r-512088" data-claire-element-id="512088" src="medias/uploads.siteduzero.com_files_246001_247000_246093.png" alt="Image utilisateur"/></figure><aside id="r-512092" data-claire-element-id="512092" data-claire-semantic="warning"><p id="r-512091" data-claire-element-id="512091">Vous aurez des difficultés à centrer vos textes car les dimensions du sprite sont les mêmes que celles de l'image. Ce qui signifie que si vous avez pris de la marge en largeur et/ou en hauteur, les méthodes <em>GetWidth</em> et <em>GetHeight</em> n'indiqueront pas la largeur et la hauteur exactes (de l'espace de pixels visibles).</p></aside><p id="r-512093" data-claire-element-id="512093">Si vous voulez effacer l'image pour réécrire dessus, il faudra faire :</p><pre id="r-512094" data-claire-element-id="512094"><code data-claire-semantic="cpp">im_txt.clear(); //On efface tout
im_txt.reset(); //On replace le curseur au début</code></pre><p id="r-512095" data-claire-element-id="512095">Voilà, vous pouvez enfin afficher du texte à l'écran !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
<span class="arrow"></span>
<span class="next">Quelques méthodes de sprites</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">
<span class="next">TP n°1 : Le casse-briques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPn1Lecasse-briques"></a><h2>TP n°1 : Le casse-briques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
<span class="arrow"></span>
<span class="next">Afficher du texte</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
<span class="next">Préparatifs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512098" data-claire-element-id="512098">Nous avons appris jusqu'ici à gérer les événements et à utiliser la 2D. Nous allons donc faire un TP pour ancrer ces connaissances et en rajouter d'autres (cf. les préparatifs).</p>
</div><a name="Prparatifs"></a><h2>Préparatifs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">
<span class="arrow"></span>
<span class="next">TP n°1 : Le casse-briques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-preparatifs-7" data-claire-element-id="512133">Préparatifs</h4><p id="r-512099" data-claire-element-id="512099">Vous devez créer un jeu de type casse-briques. Le joueur dispose de trois balles et de trois explosions (nous verrons ceci après). La couleur des briques doit être aléatoire. Au début, la balle doit rester &quot;collée&quot; sur la barre placée en bas. La barre se déplacera toujours avec la position de la Wiimote. En appuyant sur A, la balle est lancée. Si on appuie sur B, une explosion se déclanche et les briques à moins de 64 pixels sont détruites. Si la balle touche les bords droite/gauche/haut ou une brique, elle rebondit (si la balle touche une brique, celle-ci doit disparaître). Si la balle passe sous l'écran, la joueur perd une balle et une nouvelle la remplace (qui reste &quot;collée&quot; sur la barre). S'il ne reste plus de balle au joueur ou qu'il ne reste plus de brique, on sort de la boucle du jeu pour aller dans une autre boucle qui indique si on a gagné ou perdu, et qui demande si on veut rejouer ou quitter.</p><p id="r-512100" data-claire-element-id="512100">Pour vous faire saliver, j'ai mis en ligne une petite démo du programme (rendu avec Dolphin en 60 fps) :</p><p id="r-512101" data-claire-element-id="512101"><a href="http://www.youtube.com/v/3Xxt534_TNs">http://www.youtube.com/v/3Xxt534_TNs</a><br/> Voici la liste des notions qui seront vues ici :</p><p id="r-512102" data-claire-element-id="512102">Au niveau de la lib wiisprite :</p><ul id="r-512116" data-claire-element-id="512116"><li id="r-512104" data-claire-element-id="512104"><p id="r-512103" data-claire-element-id="512103">Animation de sprites</p></li><li id="r-512106" data-claire-element-id="512106"><p id="r-512105" data-claire-element-id="512105">Collision de sprites avec un autre</p></li><li id="r-512108" data-claire-element-id="512108"><p id="r-512107" data-claire-element-id="512107">Collision d'un point avec un <em>Rectangle</em></p></li><li id="r-512110" data-claire-element-id="512110"><p id="r-512109" data-claire-element-id="512109">Vibration de la Wiimote : <code data-claire-semantic="cpp">s32 WPAD_Rumble(s32 chan, int status); </code> où <em>status</em> donne la vibration (0 -&gt; non, 1-&gt; oui). Tant qu'on ne fait pas appel à cette fonction avec <em>status</em>-&gt;0 la Wiimote continue de vibrer ^^ .</p></li><li id="r-512112" data-claire-element-id="512112"><p id="r-512111" data-claire-element-id="512111">Déplacer un sprite relativement</p></li><li id="r-512115" data-claire-element-id="512115"><p id="r-512113" data-claire-element-id="512113">Récupérer le temps pour initialiser <em>srand</em> et pour calculer des différences de temps (faire des timers). Il faut inclure <em>ogc/lwp_watchdog.h</em>. L'équivalent de <em>time(NULL)</em> est <em>ticks_to_secs(gettime())</em>. Donc pour initialiser <em>srand</em>, nous allons écrire :</p><pre id="r-512114" data-claire-element-id="512114"><code data-claire-semantic="cpp">#include &lt;ogc/lwp_watchdog.h&gt;

srand(ticks_to_secs(gettime()));</code></pre></li></ul><p id="r-512117" data-claire-element-id="512117">Au niveau du C++ :</p><ul id="r-512122" data-claire-element-id="512122"><li id="r-512119" data-claire-element-id="512119"><p id="r-512118" data-claire-element-id="512118">Héritage public avec attributs protégés</p></li><li id="r-512121" data-claire-element-id="512121"><p id="r-512120" data-claire-element-id="512120">Variables globales (c'est bon ne me tapez pas).</p></li></ul><p id="r-512123" data-claire-element-id="512123">Au niveau de l'algorithmie :</p><ul id="r-512130" data-claire-element-id="512130"><li id="r-512125" data-claire-element-id="512125"><p id="r-512124" data-claire-element-id="512124">Faire une boucle par élément du jeu (jeu en lui-même, affichage de &quot;Gagné&quot; ou &quot;Perdu&quot; + boutons &quot;Rejouer&quot; et &quot;Quitter&quot;)</p></li><li id="r-512127" data-claire-element-id="512127"><p id="r-512126" data-claire-element-id="512126">Calculer la distance entre deux points</p></li><li id="r-512129" data-claire-element-id="512129"><p id="r-512128" data-claire-element-id="512128">Tester la collision d'un point dans un <em>Rectangle</em>.</p></li></ul><p id="r-512131" data-claire-element-id="512131">Les images se trouvent dans <a href="http://www.mediafire.com/?dzin2ktmndx">cette archive</a> (les graphismes sont sommaires, mais vous pouvez les changer ;) ).</p><p id="r-512132" data-claire-element-id="512132">Bon voilà je pense que vous pouvez vous lancer ^^ !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">
<span class="arrow"></span>
<span class="next">TP n°1 : Le casse-briques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
<span class="arrow"></span>
<span class="next">Préparatifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
<span class="next">Idées d&#039;amélioration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-175" data-claire-element-id="512139">Correction</h4><p id="r-512134" data-claire-element-id="512134">Voici ma correction (mais attention il y a plusieurs façons de venir à la même chose ^^ ) :</p><div id="r-512138" data-claire-element-id="512138"><pre id="r-512135" data-claire-element-id="512135"><code data-claire-semantic="cpp">#ifndef __OBJET__
#define __OBJET__

#include &lt;wiisprite/wiisprite.h&gt;

#define N_BRIQUES 120 //Total de briques

extern const int vitesse[2]; //Constantes de vitesse
extern bool vibr; //Etat de la vibration

bool col_pt(int x,int y,wsp::Rectangle r); //Collision avec un point
void vibration(); //Teste la vibration et en fait une si besoin

class Objet
{
    public:
        Objet(const unsigned char data[],wsp::LayerManager *manager,int x,int y,int w=0,int h=0);
        ~Objet();
        void placer(int x,int y);
        bool collision(wsp::Sprite *spr);
        int getX();
        int getY();
    protected:
        wsp::Image image;
        wsp::Sprite sprite;
        wsp::LayerManager *lmanager;
};

class Barre:public Objet
{
    public:
        Barre(int x,int y,wsp::LayerManager *manager);
        ~Barre();
};

class Brique:public Objet
{
    public:
        Brique(int x,int y,wsp::LayerManager *manager,int frame);
        ~Brique();
        bool getVie();
        void impact();
    private:
        bool vie; //Touchee ou pas
};

class Balle:public Objet
{
    public:
        Balle(int x,int y,wsp::LayerManager *manager);
        ~Balle();
        void def_vitesse(int i0,int i1);
        bool exploser();
        void refresh(Barre *barre,bool launched,int x_ir,Brique *objets[]);
        void impacts(Brique *objets[],Barre *barre);
    private:
        bool explosion;
        int v[2],//Vitesse de la balle
            tps,//Temps pour les explosions
            frame; //Frame en cours
};

#endif</code></pre><pre id="r-512136" data-claire-element-id="512136"><code data-claire-semantic="cpp">#include &lt;wiiuse/wpad.h&gt;
#include &lt;ogc/lwp_watchdog.h&gt;

#include &quot;objet.h&quot;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;_balle.h&quot;
#include &quot;_barre.h&quot;
#include &quot;_briques.h&quot;

using namespace wsp;

const int vitesse[2]={-4,4}; //Definition des constantes de vitesses
bool vibr=false;

bool col_pt(int x,int y,Rectangle r)
{
    return x&gt;=r.x&amp;&amp;x&lt;=r.x+r.width&amp;&amp;y&gt;=r.y&amp;&amp;y&lt;=r.y+r.height; //Si le point (x;y) est dans le rectangle r
}
void vibration()
{
    static int tps=0;
    if(vibr&amp;&amp;ticks_to_millisecs(gettime())-tps&gt;=100) //Si ça vibre et que ça fait plus de 100 ms
    {
        WPAD_Rumble(WPAD_CHAN_0,0);
        tps=ticks_to_millisecs(gettime());
        vibr=false;
    }

}

Objet::Objet(const unsigned char data[],wsp::LayerManager *manager,int x,int y,int w,int h):lmanager(manager)
{
    image.LoadImage(data);
    sprite.SetImage(&amp;image,w,h);
    sprite.SetPosition(x,y);
    manager-&gt;Append(&amp;sprite);
}
Objet::~Objet()
{
    image.DestroyImage();
    lmanager-&gt;Remove(&amp;sprite);
}
void Objet::placer(int x,int y)
{
    sprite.SetPosition(x,y);
}
bool Objet::collision(Sprite *spr)
{
    return sprite.CollidesWith(spr);
}
int Objet::getX()
{
    return sprite.GetX();
}
int Objet::getY()
{
    return sprite.GetY();
}

Barre::Barre(int x,int y,LayerManager *manager):Objet(_barre,manager,x,y)
{
}
Barre::~Barre()
{
}

Balle::Balle(int x,int y,LayerManager *manager):Objet(_balle,manager,x,y,64,64),explosion(false),tps(0),frame(0)
{
    sprite.DefineCollisionRectangle(24,24,16,16); //On enleve la partie qui contiendra l'explosion
}
Balle::~Balle()
{
}
void Balle::def_vitesse(int i0,int i1)
{
    v[0]=vitesse[i0];
    v[1]=vitesse[i1];
}
bool Balle::exploser()
{
    if(!explosion)
    {
        explosion=true;
        tps=ticks_to_millisecs(gettime());
        return true;
    }
    return false;
}
void Balle::refresh(Barre *barre,bool launched,int x_ir,Brique *objets[])
{
    if(explosion&amp;&amp;ticks_to_millisecs(gettime())-tps&gt;=100)
    {
        frame++;
        if(frame&gt;3)
        {
            explosion=false;
            frame=0;
            int cX=sprite.GetX()+32,cY=sprite.GetY()+32;
            for(int i=0;i&lt;N_BRIQUES;i++)
            {
                int cX1=objets[i]-&gt;getX()+16,cY1=objets[i]-&gt;getY()+8;
                if((cX1-cX)*(cX1-cX)+(cY1-cY)*(cY1-cY)&lt;=64*64)
                    objets[i]-&gt;impact();
            }
        }
        sprite.SetFrame(frame);
        tps=ticks_to_millisecs(gettime());
    }

    if(!launched) //Si la balle doit rester accrochee a la barre
        sprite.SetPosition(barre-&gt;getX(),480-16-16-24); //On centre la balle sur la raquette
    else
        sprite.Move(v[0],v[1]); //On deplace la balle relativement de sa vitesse dans les X et dans les Y

    /*On teste les debordements*/
    if(sprite.GetX()&lt;0)
    {
        sprite.SetPosition(0,sprite.GetY());
        v[0]=vitesse[1];
    }
    else if(sprite.GetX()+24+16&gt;640)
    {
        sprite.SetPosition(640-24-16,sprite.GetY());
        v[0]=vitesse[0];
    }
    if(sprite.GetY()&lt;0)
    {
        sprite.SetPosition(sprite.GetX(),0);
        v[1]=vitesse[1];
    }
}
void Balle::impacts(Brique *objets[],Barre *barre)
{
    for(int i=0;i&lt;N_BRIQUES;i++)
        if(objets[i]-&gt;getVie()&amp;&amp;objets[i]-&gt;collision(&amp;sprite))
        {
            Rectangle col={objets[i]-&gt;getX(),objets[i]-&gt;getY(),32,16};
            if(col_pt(sprite.GetX()+24,sprite.GetY()+24,col)||col_pt(sprite.GetX()+24+16,sprite.GetY()+24,col))
                v[1]*=-1;
            if(col_pt(sprite.GetX()+24,sprite.GetY()+24+16,col)||col_pt(sprite.GetX()+24+16,sprite.GetY()+24+16,col))
                v[0]*=-1;
            objets[i]-&gt;impact();
            break;
        }

    if(barre-&gt;collision(&amp;sprite))
        v[1]=vitesse[0];
}

Brique::Brique(int x,int y,wsp::LayerManager *manager,int frame):Objet(_briques,manager,x,y,32,16),vie(true)
{
    sprite.SetFrame(frame);
}
Brique::~Brique()
{
}
bool Brique::getVie()
{
    return vie;
}
void Brique::impact()
{
    vie=false;
    sprite.SetVisible(false); //On met la brique invisible, ça evitera les complications de la suppression du sprite

    WPAD_Rumble(WPAD_CHAN_0,1); //On fait vibrer la Wiimote
    vibr=true; //On n'oublie pas de mettre la variable globale de la vibration à true
}</code></pre><pre id="r-512137" data-claire-element-id="512137"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;
#include &lt;ogc/lwp_watchdog.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &quot;_balle_ico.h&quot;
#include &quot;_explosion_ico.h&quot;
#include &quot;_gagne.h&quot;
#include &quot;_perdu.h&quot;
#include &quot;_rejouer.h&quot;
#include &quot;_quitter.h&quot;
#include &quot;_cursor.h&quot;

#include &quot;objet.h&quot;

using namespace wsp;

/*
Fonction jeu : deroulement du jeu
argument gwd : pointeur vers la GameWindow (pointeur pour eviter la duplication de la variable
valeur de retour : -1 =&gt; perdu ; 0 =&gt; quitter ; 1=&gt; gagner
*/
int jeu(GameWindow *gwd);

/*
Fonction replay : interface demandant de rejouer ou de quitter, tout en affichant si on a gagne ou perdu
argument gwd : pointeur vers la GameWindow (pointeur pour eviter la duplication de la variable
argument ret_jeu : valeur de retour de la fonction jeu
valeur de retour : true =&gt; rejouer ; false =&gt; quitter
*/
bool replay(GameWindow *gwd,int ret_jeu);

int main(int argc, char **argv)
{
    GameWindow gwd;
    int ret_jeu;
    bool ret_replay;
    
    srand(ticks_to_secs(gettime())); //On initialise le générateur de nombres pseudo-aleatoires

    gwd.InitVideo();

    WPAD_Init();
    WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
    WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

    do
    {
        ret_jeu=jeu(&amp;gwd);
        if(ret_jeu!=0) //Si on n'a pas quitte dans le jeu
            ret_replay=replay(&amp;gwd,ret_jeu);
    }while(ret_replay&amp;&amp;ret_jeu!=0); //Tant qu'on rejoue et qu'on n'a pas quitte dans le jeu

    return 0;
}

int jeu(GameWindow *gwd)
{
    int ret=0;

    Barre *barre=NULL;
    Balle *balle=NULL;
    Brique *objets[N_BRIQUES]={NULL};
    Sprite spr_balle_ico[3],spr_explosion_ico[3]; //Sprites d'icones (balle et explosion)
    LayerManager manager(N_BRIQUES //Briques
                         +2 //Barre et balle
                         +3 //Icones balle
                         +3 //Icones explosion
                        );
    Image im_balle_ico,im_explosion_ico;
    
    int n_balles=0,n_explosions=0;

    bool continuer=true,launched=false; //launched indique si on a lance la balle (true) ou pas (false)

    im_balle_ico.LoadImage(_balle_ico);
    im_explosion_ico.LoadImage(_explosion_ico);

    for(int i=0;i&lt;3;i++)
    {
        spr_balle_ico[i].SetImage(&amp;im_balle_ico);
        spr_explosion_ico[i].SetImage(&amp;im_explosion_ico);

        /*Petits calculs de position (prenez un papier :) )*/
        spr_balle_ico[i].SetPosition(-20*i+48,0);
        spr_explosion_ico[i].SetPosition(640-16+20*i-48,0);

        manager.Append(&amp;spr_balle_ico[i]);
        manager.Append(&amp;spr_explosion_ico[i]);
    }

    barre=new Barre((640-64)/2,480-16,&amp;manager);
    balle=new Balle((640-16)/2,480-16-16,&amp;manager);
    for(int i=0;i&lt;N_BRIQUES;i++)
    {
        int x=i%12;
        int y=i/12;
        objets[i]=new Brique((x+1)*48-8,(y+1)*32,&amp;manager,rand()%5);
    }

    while(continuer)
    {
        struct ir_t ir;
        int x_ir;
        WPAD_ScanPads();

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_A)
        {
            if(!launched)
            {
                launched=true;
                balle-&gt;def_vitesse(rand()%2,0); //On ne definit aleatoirement que la vitesse dans les X, la vitesse dans les Y devant etre negative pour monter
            }
        }
        else if(pressed &amp; WPAD_BUTTON_B)
        {
            if(n_explosions&lt;3&amp;&amp;balle-&gt;exploser()) //S'il reste des explosions et que la balle n'est pas deja en train d'exploser
                spr_explosion_ico[n_explosions++].SetVisible(false);
        }

        WPAD_IR(WPAD_CHAN_0,&amp;ir);

        x_ir=(int)ir.x;
        if(x_ir&lt;64)
            x_ir=64;
        else if(x_ir&gt;640-64)
            x_ir=640-64;

        barre-&gt;placer(x_ir-24,480-16); //On bouge la barre en fonction de la position de la Wiimote
        balle-&gt;refresh(barre,launched,x_ir,objets);

        if(balle-&gt;getY()&gt;=480) //Si la balle passe &quot;sous&quot; l'ecran
        {
            launched=false;
            if(n_balles&lt;2)
                spr_balle_ico[n_balles++].SetVisible(false);
            else //Game Over ;)
            {
                ret=-1;
                continuer=false;
            }
        }

        balle-&gt;impacts(objets,barre); //On teste les impacts

        bool reussi=true;
        for(int i=0;i&lt;N_BRIQUES;i++)
            if(objets[i]-&gt;getVie()) //S'il reste encore des briques on n'a pas gagne
            {
                reussi=false;
                break;
            }
        if(reussi) //S'il ne reste plus de briques on sort de la boucle
        {
            ret=1;
            continuer=false;
        }

        if(vibr) //Si la Wiimote est en train de vibrer on arrete la vibration au bout de 100 ms
            vibration();

        manager.Draw(0, 0);
	    gwd-&gt;Flush();
    }
    /*Liberation de memoire*/
    delete barre;
    delete balle;
    for(int i=0;i&lt;N_BRIQUES;i++)
        delete objets[i];
    manager.RemoveAll();
    return ret;
}

bool replay(GameWindow *gwd,int ret_jeu)
{
    bool ret=false;

    LayerManager manager(1 //Gagne/Perdu
                         +2 //Rejouer et Quitter
                         +1 //Curseur
                        );
    Image im,im_rejouer,im_quitter,im_curseur;
    Sprite spr,spr_rejouer,spr_quitter,spr_curseur;
    bool continuer=true;

    im.LoadImage(ret_jeu==1?_gagne:_perdu);
    im_rejouer.LoadImage(_rejouer);
    im_quitter.LoadImage(_quitter);
    im_curseur.LoadImage(_cursor);

    spr.SetImage(&amp;im);
    spr.SetPosition(192,96);

    spr_rejouer.SetImage(&amp;im_rejouer);
    spr_rejouer.SetPosition(16,288);

    spr_quitter.SetImage(&amp;im_quitter);
    spr_quitter.SetPosition(368,288);

    spr_curseur.SetImage(&amp;im_curseur);

    manager.Append(&amp;spr_curseur);
    manager.Append(&amp;spr);
    manager.Append(&amp;spr_rejouer);
    manager.Append(&amp;spr_quitter);

    while(continuer)
    {
        struct ir_t ir;
        WPAD_ScanPads();
        WPAD_IR(WPAD_CHAN_0,&amp;ir);

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_A)
        {
            Rectangle col_rejouer={spr_rejouer.GetX(),spr_rejouer.GetY(),spr_rejouer.GetWidth(),spr_rejouer.GetHeight()},
                      col_quitter={spr_quitter.GetX(),spr_quitter.GetY(),spr_quitter.GetWidth(),spr_quitter.GetHeight()};
            if(col_pt((int)ir.x,(int)ir.y,col_rejouer)) //Si on clique sur &quot;Rejouer&quot;
            {
                ret=true;
                continuer=false;
            }
            else if(col_pt((int)ir.x,(int)ir.y,col_quitter)) //Si on clique sur &quot;Quitter&quot;
                continuer=false;
        }

        spr_curseur.SetPosition((int)ir.x,(int)ir.y);

        manager.Draw(0, 0);
	    gwd-&gt;Flush();
    }
    manager.RemoveAll();
    return ret;
}</code></pre></div>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
<span class="arrow"></span>
<span class="next">Préparatifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
<span class="next">Idées d&#039;amélioration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Idesd039amlioration"></a><h2>Idées d&#039;amélioration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">
<span class="next">Utiliser la SDL !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-idees-d-amelioration-7" data-claire-element-id="512151">Idées d'amélioration</h4><p id="r-512140" data-claire-element-id="512140">Voilà ce que vous pouvez faire dans le cas où vous voulez améliorer votre programme :</p><ul id="r-512149" data-claire-element-id="512149"><li id="r-512142" data-claire-element-id="512142"><p id="r-512141" data-claire-element-id="512141">Mettre un score (qui peut être divisé par le temps de jeu)</p></li><li id="r-512144" data-claire-element-id="512144"><p id="r-512143" data-claire-element-id="512143">Différencier les briques (à chaque couleur correspond un nombre défini de chocs pour détruire la brique)</p></li><li id="r-512146" data-claire-element-id="512146"><p id="r-512145" data-claire-element-id="512145">Mettre plusieurs balles ;)</p></li><li id="r-512148" data-claire-element-id="512148"><p id="r-512147" data-claire-element-id="512147">etc.</p></li></ul><p id="r-512150" data-claire-element-id="512150">Et voilà, vous avez fini votre premier vrai jeu en C++ sur la Wii :soleil: !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">
<span class="next">Utiliser la SDL !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UtiliserlaSDL"></a><h2>Utiliser la SDL !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
<span class="arrow"></span>
<span class="next">Idées d&#039;amélioration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
<span class="next">Installation de la SDL pour la Wii</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512153" data-claire-element-id="512153">Dans le cas où vous avez appris le C et le C++ sur ce site, il se peut que vous soyez attaché(e) à la SDL. Nous allons voir ici comment utiliser un port de la SDL pour Wii...</p>
</div><a name="InstallationdelaSDLpourlaWii"></a><h2>Installation de la SDL pour la Wii</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">
<span class="arrow"></span>
<span class="next">Utiliser la SDL !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
<span class="next">Utilisation de la SDL pour la Wii</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-de-la-sdl-pour-la-wii" data-claire-element-id="512162">Installation de la SDL pour la Wii</h4><aside id="r-512155" data-claire-element-id="512155" data-claire-semantic="warning"><p id="r-512154" data-claire-element-id="512154">Il faut savoir que vous ne pourrez pas tester d'applications créées avec la SDL Wii pour la simple et bonne raison qu'elle crée un stdout.txt et un stderr.txt, ce qui n'est pas implémenté dans les émulateurs.</p></aside><p id="r-512156" data-claire-element-id="512156">Nous allons commencer par télécharger la bibliothèque <a href="http://sdl-wii.googlecode.com/files/SDL Wii 11-28-2009.zip">ici</a>.<br/> Créez un dossier &quot;SDL&quot; dans <em>C:\devkitpro\libogc\include</em>. Copiez-y le contenu du dossier <em>libogc\include\SDL</em> de l'archive.<br/> Copiez le contenu du dossier <em>libogc\lib\wii</em> de l'archive dans <em>C:\devkitpro\libogc\lib\wii</em>.<br/> Maintenant rendez-vous sur <a href="http://sourceforge.net/projects/devkitpro/files/portlibs">cette page</a> et installez de la même manière que précédemment les archives qui finissent par &quot;-ppc.tar.bz2&quot;. Dans ces archives, ignorez les dossiers autres que <em>include</em> et <em>lib</em>. Dans les dossiers <em>lib</em>, vous pouvez ne copier que les fichiers en &quot;.a&quot;.<br/> Vous venez d'installer le port de la SDL pour Wii :soleil: !</p><p id="r-512157" data-claire-element-id="512157">A présent, créez un nouveau projet. Il faut modifier le makefile.<br/> Remplacez cette ligne :</p><pre id="r-512158" data-claire-element-id="512158"><code>LIBS        :=        -lwiiuse -lbte -lfat -logc -lm</code></pre><p id="r-512159" data-claire-element-id="512159">Par celles-là :</p><pre id="r-512160" data-claire-element-id="512160"><code>LIBS        :=        -lSDL_net -lSDL_ttf -lSDL_gfx -lSDL_mixer -lSDL_image -lSDL \
                -lsmpeg -ljpeg -lpng -lfreetype -lvorbisidec \
                -lz -lfat -lwiiuse -lbte -logc -lm -lwiikeyboard</code></pre><p id="r-512161" data-claire-element-id="512161">Après libre à vous d'enlever de cette liste les libs que vous n'utilisez pas pour votre projet courant, mais si vous n'êtes pas sûr(e) de vous, vous pouvez tout garder.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">
<span class="arrow"></span>
<span class="next">Utiliser la SDL !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
<span class="next">Utilisation de la SDL pour la Wii</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UtilisationdelaSDLpourlaWii"></a><h2>Utilisation de la SDL pour la Wii</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
<span class="arrow"></span>
<span class="next">Installation de la SDL pour la Wii</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">
<span class="next">Les sons</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utilisation-de-la-sdl-pour-la-wii" data-claire-element-id="512184">Utilisation de la SDL pour la Wii</h4><p id="r-512163" data-claire-element-id="512163">Tout d'abord, je vous conseille de revoir le <a href="http://www.siteduzero.com/tutoriel-3-14189-apprenez-a-programmer-en-c.html#part_14186">cours de M@théo21 sur la SDL</a>.</p><h5 id="r-premier-code-sdl-pour-la-wii" data-claire-element-id="512166">Premier code SDL pour la Wii</h5><p id="r-512164" data-claire-element-id="512164">La grosse différence avec la SDL pour ordinateur, c'est que les événements doivent être traités comme on a fait jusqu'à présent (avec <em>WPAD_ButtonsDown</em> par exemple) et non avec la structure <em>SDL_Event</em> (normalement c'est faisable, mais pour des raisons de lisibilité du code et d'habitude nous ne l'utiliserons pas ici. Pour plus d'informations, <a href="http://wiibrew.org/wiki/SDL">lisez ici</a>).<br/> Voici un code qui affiche un écran de 640x480 de couleur bleue :</p><pre id="r-512165" data-claire-element-id="512165"><code data-claire-semantic="cpp">#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;SDL/SDL.h&gt;

int main(int argc,char **argv)
{
    SDL_Surface *ecran=NULL; //Notre futur ecran
    bool continuer=true;

    SDL_Init(SDL_INIT_VIDEO); //On initialise la SDL (initialisation minimale)

    WPAD_Init(); //On initialise les wiimotes

    SDL_ShowCursor(SDL_DISABLE); //On cache le curseur

    ecran=SDL_SetVideoMode(640,480,32,SDL_HWSURFACE); //On definit l'ecran comme une surface de 640x480

    while(continuer)
    {
        WPAD_ScanPads();

        u32 pressed=WPAD_ButtonsDown(WPAD_CHAN_0);
        if(pressed&amp;WPAD_BUTTON_HOME)
            continuer=false; //Si on appuie sur Home on quitte le jeu
        SDL_FillRect(ecran,NULL,SDL_MapRGB(ecran-&gt;format,0,0,255)); //On colore l'ecran en bleu
        SDL_Flip(ecran); //On raffraichit l'ecran
        SDL_Delay(10); //On attend 10 ms
    }

    SDL_Quit();
    
    return 0;
}</code></pre><h5 id="r-charger-des-images-ressources-externes" data-claire-element-id="512172">Charger des images (ressources externes)</h5><p id="r-512167" data-claire-element-id="512167">Si vous voulez utiliser plusieurs types d'images, vous avez déjà SDL_image d'installé, donc il faudra rajouter :</p><pre id="r-512168" data-claire-element-id="512168"><code data-claire-semantic="cpp">#include &lt;SDL/SDL_image.h&gt;</code></pre><p id="r-512169" data-claire-element-id="512169">Autre grosse différence avec la SDL sur ordinateur, vous devez compter à partir de la racine de la SD (<em>sd:\</em>). Votre jeu à beau être dans <em>sd:\apps\jeuSDL\</em>, la lecture des fichiers s'effectuera sur <em>sd:\</em>. Si vous voulez rester dans le dossier du jeu, il faudra modifier ce dossier à <em>sd:\apps\jeuSDL\</em> :</p><pre id="r-512170" data-claire-element-id="512170"><code data-claire-semantic="cpp">SDL_Surface *image_racine=NULL,*image_dossier_jeu=NULL;
image_racine=IMG_Load(&quot;sd:/image.png&quot;); //A la racine
image_dossier_jeu=IMG_Load(&quot;sd:/apps/jeuSDL/image.png&quot;); //Dans le dossier de votre jeu</code></pre><p id="r-512171" data-claire-element-id="512171">Et n'oubliez pas que vous devez libérer la surface quand vous n'en avez plus besoin :) .<br/> Comparé à <em>wiisprite</em> vous n'êtes plus obligé(e) de faire vos images avec un fond transparent, mais vous pouvez utiliser les colorkeys.</p><h5 id="r-integrer-une-image-dans-le-programme-ressources-internes" data-claire-element-id="512183">Intégrer une image dans le programme (ressources internes)</h5><p id="r-512173" data-claire-element-id="512173">Nous allons voir ici comment ne pas dépendre du système de fichiers pour l'import d'images.<br/> Créez votre image, ensuite passez-la à <em>raw2c</em> (que l'on peut trouver dans <em>C:\devkitpro\devkitPPC\bin</em>). Les deux fichiers ainsi créés devront être placés dans le dossier source de votre programme.<br/> Dans les fichiers qui utiliseront votre image, il faudra inclure le header généré par <em>raw2c</em>.<br/> La fonction ci-dessous permet de créer une image à partir du tableau généré et de sa taille (elle aussi générée) :</p><pre id="r-512174" data-claire-element-id="512174"><code data-claire-semantic="cpp">SDL_Surface *charger_image(const void *mem,int taille)
{
    SDL_Surface *ret=NULL;
    ret=IMG_Load_RW(SDL_RWFromConstMem(mem,taille),0);
    if(ret==NULL)
    {
        //On reagit ici si l'image n'a pas pu etre chargee
    }
    return ret;
}</code></pre><p id="r-512175" data-claire-element-id="512175">Ainsi, si votre image s'appelle &quot;test.png&quot; (ou .jpg, ou ce que vous voulez ^^ ), il faudra faire :</p><pre id="r-512176" data-claire-element-id="512176"><code data-claire-semantic="cpp">#include &quot;test.h&quot;

SDL_Surface *image_test=NULL;
image_test=charger_image(test, //Nom du buffer
                         test_size); //Taille du buffer</code></pre><p id="r-512177" data-claire-element-id="512177">Et voilà pour les ressources internes !</p><p id="r-512178" data-claire-element-id="512178">N.B. : les RWops sont implémentés dans la majorité voire dans toutes les bibliothèques dérivées de la SDL. Par exemple, voici un code permettant de charger un fichier de police (avec SDL_ttf) :</p><pre id="r-512179" data-claire-element-id="512179"><code data-claire-semantic="cpp">TTF_Font *charger_ttf(const void *mem,int taille,int size)
{
    TTF_Font *ret=NULL;
    ret=TTF_OpenFontRW(SDL_RWFromConstMem(mem,taille),0,size);
    if(ret==NULL)
    {
        //Bug
    }
    return ret;
}</code></pre><p id="r-512180" data-claire-element-id="512180">Les deux premiers arguments correspondent à la même chose que précédemment (buffer et taille de celui-ci). L'argument <em>size</em> correspond à la taille de la police.</p><aside id="r-512182" data-claire-element-id="512182" data-claire-semantic="information"><p id="r-512181" data-claire-element-id="512181">Pour les sons vous pouvez utiliser SDL_mixer, mais chez moi il génère des erreurs de compilation relatives à la <em>libsmpeg</em>. Et quand bien même je déplace l'option &quot;-lsmpeg&quot; dans le makefile de sorte à ce que ça compile, la musique n'est pas lue. Donc si vous voulez jouer des sons, je vous conseille de jeter un coup d'oeil au chapitre qui lui est consacré ;) .</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
<span class="arrow"></span>
<span class="next">Installation de la SDL pour la Wii</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">
<span class="next">Les sons</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lessons"></a><h2>Les sons</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
<span class="arrow"></span>
<span class="next">Utilisation de la SDL pour la Wii</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
<span class="next">Jouer une musique MP3</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512186" data-claire-element-id="512186">A présent, regardons du côté des sons. Nous allons voir ici comment jouer une musique MP3, ou encore comment jouer un simple son.</p>
</div><a name="JouerunemusiqueMP3"></a><h2>Jouer une musique MP3</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">
<span class="arrow"></span>
<span class="next">Les sons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
<span class="next">Jouer un son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-jouer-une-musique-mp3" data-claire-element-id="512222">Jouer une musique MP3</h4><p id="r-512187" data-claire-element-id="512187">Pour utiliser les sons, il faut ajouter les libs <em>lmad</em>, <em>lasnd</em> et <em>lfat</em> (pour jouer une musique sur la SD). J'ai donc repris le makefile en rajoutant ces libs, et en le configurant pour intégrer des musiques et des sons dans le programme :</p><pre id="r-512188" data-claire-element-id="512188"><code>#---------------------------------------------------------------------------------
# Clear the implicit built in rules
#---------------------------------------------------------------------------------
.SUFFIXES:
#---------------------------------------------------------------------------------
ifeq ($(strip $(DEVKITPPC)),)
$(error &quot;Please set DEVKITPPC in your environment. export DEVKITPPC=&lt;path to&gt;devkitPPC&quot;)
endif

include $(DEVKITPPC)/wii_rules

#---------------------------------------------------------------------------------
# TARGET is the name of the output
# BUILD is the directory where object files &amp; intermediate files will be placed
# SOURCES is a list of directories containing source code
# INCLUDES is a list of directories containing extra header files
#---------------------------------------------------------------------------------
TARGET                :=        $(notdir $(CURDIR))
BUILD                :=        build
SOURCES                :=        source
DATA                :=        data  
INCLUDES        :=

#---------------------------------------------------------------------------------
# options for code generation
#---------------------------------------------------------------------------------

CFLAGS        = -g -O2 -Wall $(MACHDEP) $(INCLUDE)
CXXFLAGS        =        $(CFLAGS)

LDFLAGS        =        -g $(MACHDEP) -Wl,-Map,$(notdir $@).map

#---------------------------------------------------------------------------------
# any extra libraries we wish to link with the project
#---------------------------------------------------------------------------------
LIBS        :=        -lfat -lwiiuse -lbte -lmad -lasnd -logc -lm

#---------------------------------------------------------------------------------
# list of directories containing libraries, this must be the top level containing
# include and lib
#---------------------------------------------------------------------------------
LIBDIRS        :=

#---------------------------------------------------------------------------------
# no real need to edit anything past this point unless you need to add additional
# rules for different file extensions
#---------------------------------------------------------------------------------
ifneq ($(BUILD),$(notdir $(CURDIR)))
#---------------------------------------------------------------------------------

export OUTPUT        :=        $(CURDIR)/$(TARGET)

export VPATH        :=        $(foreach dir,$(SOURCES),$(CURDIR)/$(dir)) \
                                        $(foreach dir,$(DATA),$(CURDIR)/$(dir))

export DEPSDIR        :=        $(CURDIR)/$(BUILD)

#---------------------------------------------------------------------------------
# automatically build a list of object files for our project
#---------------------------------------------------------------------------------
CFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.c)))
CPPFILES        :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.cpp)))
sFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.s)))
SFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.S)))
BINFILES        :=        $(foreach dir,$(DATA),$(notdir $(wildcard $(dir)/*.*)))

#---------------------------------------------------------------------------------
# use CXX for linking C++ projects, CC for standard C
#---------------------------------------------------------------------------------
ifeq ($(strip $(CPPFILES)),)
        export LD        :=        $(CC)
else
        export LD        :=        $(CXX)
endif

export OFILES        :=        $(addsuffix .o,$(BINFILES)) \
                                        $(CPPFILES:.cpp=.o) $(CFILES:.c=.o) \
                                        $(sFILES:.s=.o) $(SFILES:.S=.o)

#---------------------------------------------------------------------------------
# build a list of include paths
#---------------------------------------------------------------------------------
export INCLUDE        :=        $(foreach dir,$(INCLUDES), -iquote $(CURDIR)/$(dir)) \
                                        $(foreach dir,$(LIBDIRS),-I$(dir)/include) \
                                        -I$(CURDIR)/$(BUILD) \
                                        -I$(LIBOGC_INC)

#---------------------------------------------------------------------------------
# build a list of library paths
#---------------------------------------------------------------------------------
export LIBPATHS        :=        $(foreach dir,$(LIBDIRS),-L$(dir)/lib) \
                                        -L$(LIBOGC_LIB)

export OUTPUT        :=        $(CURDIR)/$(TARGET)
.PHONY: $(BUILD) clean

#---------------------------------------------------------------------------------
$(BUILD):
        @[ -d $@ ] || mkdir -p $@
        @make --no-print-directory -C $(BUILD) -f $(CURDIR)/Makefile

#---------------------------------------------------------------------------------
clean:
        @echo clean ...
        @rm -fr $(BUILD) $(OUTPUT).elf $(OUTPUT).dol

#---------------------------------------------------------------------------------
run:
        wiiload $(TARGET).dol


#---------------------------------------------------------------------------------
else

DEPENDS        :=        $(OFILES:.o=.d)

#---------------------------------------------------------------------------------
# main targets
#---------------------------------------------------------------------------------
$(OUTPUT).dol: $(OUTPUT).elf
$(OUTPUT).elf: $(OFILES)

#---------------------------------------------------------------------------------
# This rule links in binary data with the .jpg extension
#---------------------------------------------------------------------------------
%.jpg.o        :        %.jpg
#---------------------------------------------------------------------------------
        @echo $(notdir $&lt;)
        $(bin2o)
        
%.mp3.o        :        %.mp3
#---------------------------------------------------------------------------------
        @echo $(notdir $&lt;)
        $(bin2o)

%.raw.o        :        %.raw
#---------------------------------------------------------------------------------
        @echo $(notdir $&lt;)
        $(bin2o)

-include $(DEPENDS)

#---------------------------------------------------------------------------------
endif
#---------------------------------------------------------------------------------</code></pre><h5 id="r-lire-un-mp3-compile-dans-votre-programme" data-claire-element-id="512201">Lire un MP3 compilé dans votre programme</h5><p id="r-512189" data-claire-element-id="512189">Cette méthode permet de lire des données MP3 intégrées dans votre programme, ce qui permet de lire vos musiques sans distribuer le MP3. Le problème est que ça fait grimper le volume de votre exécutable, et pour les mises à jour ce n'est pas pratique d'avoir un gros fichier à partager. Mais en contrepartie, si vous prenez l'autre solution (lire le MP3 depuis la SD), ça fera beaucoup de fichiers à installer. Bref, pesez le pour et le contre.</p><p id="r-512190" data-claire-element-id="512190">Ceci étant dit, nous allons inclure le header de la lib, et celui du lecteur MP3 :</p><pre id="r-512191" data-claire-element-id="512191"><code data-claire-semantic="cpp">#include &lt;asndlib.h&gt; //Permet de jouer des sons
#include &lt;mp3player.h&gt; //Permet d'utiliser des MP3</code></pre><p id="r-512192" data-claire-element-id="512192">Maintenant créez un dossier <em>data</em> dans le dossier du projet (pas dans le dossier <em>source</em>). Mettez-y une musique MP3 que vous renommerez &quot;musique.mp3&quot;.<br/> Avec le makefile ci-dessus, vous obtiendrez un fichier <em>musique_mp3.h</em> qu'il faudra inclure :</p><pre id="r-512193" data-claire-element-id="512193"><code data-claire-semantic="cpp">#include &quot;musique_mp3.h&quot; //Notre musique MP3</code></pre><p id="r-512194" data-claire-element-id="512194">Initialisons le système audio :</p><pre id="r-512195" data-claire-element-id="512195"><code data-claire-semantic="cpp">ASND_Init(); //On initialise le systeme de sons
MP3Player_Init(); //On initialise le lecteur MP3</code></pre><p id="r-512196" data-claire-element-id="512196">A présent, on joue notre musique avec <code data-claire-semantic="cpp">s32 MP3Player_PlayBuffer(const void *buffer,s32 len,void (*filterfunc)(struct mad_stream *,struct mad_frame *)); </code> où <em>buffer</em> est le contenu de notre musique (<em>musique_mp3</em>), <em>len</em> est la longueur de cette variable (<em>musique_mp3_size</em>) et le dernier argument est un callback que nous n'allons pas utiliser, donc nous le mettrons à <code data-claire-semantic="cpp">NULL </code>.<br/> Ce qui donne :</p><pre id="r-512197" data-claire-element-id="512197"><code data-claire-semantic="cpp">MP3Player_PlayBuffer(musique_mp3,musique_mp3_size,NULL);</code></pre><p id="r-512198" data-claire-element-id="512198">Cette fonction est non-bloquante, ce qui signifie que vous pouvez donner des instructions en même temps que le buffer est chargé puis lu :soleil: .</p><p id="r-512199" data-claire-element-id="512199">Récapitulons :</p><pre id="r-512200" data-claire-element-id="512200"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;asndlib.h&gt; //Permet de jouer des sons
#include &lt;mp3player.h&gt; //Permet d'utiliser des MP3

#include &quot;musique_mp3.h&quot; //Notre musique MP3

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

int main(int argc, char **argv)
{
    VIDEO_Init();
    WPAD_Init();

    ASND_Init(); //On initialise le systeme de sons
    MP3Player_Init(); //On initialise le lecteur MP3

    initText();

    MP3Player_PlayBuffer(musique_mp3,musique_mp3_size,NULL);

    testPos(1,1);
    printf(&quot;Alors, elle n'est pas bien la musique ? ;)&quot;);

    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed&amp;WPAD_BUTTON_HOME)
            break;

        VIDEO_WaitVSync();
    }

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}</code></pre><h5 id="r-lire-un-fichier-mp3" data-claire-element-id="512221">Lire un fichier MP3</h5><p id="r-512202" data-claire-element-id="512202">Maintenant nous allons voir l'autre solution qui est plus pratique dans le cas des mises à jour du programme : charger le MP3 directement de la carte SD. C'est pourquoi j'ai linké la <em>libfat</em> dans le makefile. Alors comme vous vous en doutez, on va inclure la lib :</p><pre id="r-512203" data-claire-element-id="512203"><code data-claire-semantic="cpp">#include &lt;fat.h&gt;</code></pre><p id="r-512204" data-claire-element-id="512204">Et l'initialiser :</p><pre id="r-512205" data-claire-element-id="512205"><code data-claire-semantic="cpp">fatInitDefault();</code></pre><p id="r-512206" data-claire-element-id="512206">On va partir du principe qu'il y a un &quot;mus.mp3&quot; dans le même dossier que votre <em>boot.dol</em> sur votre SD. Donc copiez-y une musique que vous renommerez &quot;mus.mp3&quot;.<br/> Pour lire notre fichier MP3, nous allons utiliser :</p><pre id="r-512207" data-claire-element-id="512207"><code data-claire-semantic="cpp">s32 MP3Player_PlayFile(void *fichier,s32 (*reader)(void *,void *,s32),void (*filterfunc)(struct mad_stream *,struct mad_frame *));</code></pre><p id="r-512208" data-claire-element-id="512208">L'argument <em>fichier</em> est le fichier en question. Cela doit être un <strong>pointeur</strong> de <em>FILE</em> ; l'argument <em>reader</em> est un callback vers une fonction renvoyant un <em>s32</em> et prenant deux pointeurs <em>void</em> et un <em>s32</em> qui représentent respectivement le fichier, le buffer à modifier (pour y mettre les données du fichier) et la taille du buffer. Cette fonction devra renvoyer le nombre de caractères lus. On va donc reprendre la fonction <em>fread</em> :</p><pre id="r-512209" data-claire-element-id="512209"><code data-claire-semantic="cpp">s32 lecteur_mp3(void *fichier,void *buffer,s32 taille)
{
    return fread(buffer,1,taille,(FILE*)fichier);
}</code></pre><p id="r-512210" data-claire-element-id="512210">Là non plus <em>filterfunc</em> ne sera pas utilisé, donc on mettra <code data-claire-semantic="cpp">NULL </code>.<br/> On obtient donc :</p><pre id="r-512211" data-claire-element-id="512211"><code data-claire-semantic="cpp">FILE *fichier=fopen(&quot;mus.mp3&quot;,&quot;rb&quot;); //On ouvre le fichier
MP3Player_PlayFile(fichier,lecteur_mp3,NULL); //On commence la lecture</code></pre><p id="r-512212" data-claire-element-id="512212">Cette fonction est non-bloquante, comme <em>MP3Player_PlayBuffer</em>.</p><div id="r-512214" data-claire-element-id="512214" data-claire-semantic="question"><p id="r-512213" data-claire-element-id="512213">Mais comment on sait quand fermer le fichier ?</p></div><p id="r-512215" data-claire-element-id="512215">Apparemment, le MP3Player ne peut lire qu'une seule musique à la fois. Donc on peut en déduire que la fonction <code data-claire-semantic="cpp">BOOL MP3Player_IsPlaying(); </code> sert à savoir si la musique est jouée ou pas. Si la fonction retourne <code data-claire-semantic="cpp">false </code>, vous pourrez donc effectuer le <em>fclose</em>.</p><div id="r-512217" data-claire-element-id="512217" data-claire-semantic="question"><p id="r-512216" data-claire-element-id="512216">Existe-t-il d'autres fonctions du MP3Player ?</p></div><p id="r-512218" data-claire-element-id="512218">Deux autres. La première sert à arrêter le lecteur : <code data-claire-semantic="cpp">void MP3Player_Stop(); </code>.</p><p id="r-512219" data-claire-element-id="512219">Il existe aussi une fonction permettant de modifier le volume du MP3 joué : <code data-claire-semantic="cpp">void MP3Player_Volume(u32 volume); </code> où <em>volume</em> est un nombre entier non signé entre 0 et 255. Mettez-le à 0 pour couper le son du MP3 ou à 255 pour en mettre plein les oreilles :lol: .</p><p id="r-512220" data-claire-element-id="512220">Malheureusement, il n'existe pas de fonctions supplémentaires sur les MP3 (pause, changer la fréquence, etc.) :'( .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">
<span class="arrow"></span>
<span class="next">Les sons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
<span class="next">Jouer un son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Jouerunson"></a><h2>Jouer un son</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
<span class="arrow"></span>
<span class="next">Jouer une musique MP3</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">
<span class="next">Les fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-jouer-un-son-1" data-claire-element-id="512244">Jouer un son</h4><p id="r-512223" data-claire-element-id="512223">Pour jouer un son, nous aurons besoin des mêmes libs que pour lire un mp3, à l'exception de la lib <em>mp3player</em>.</p><h5 id="r-encoder-un-son" data-claire-element-id="512225">Encoder un son</h5><p id="r-512224" data-claire-element-id="512224">Si vous voulez jouer un son, il faut d'abord le convertir en RAW (de l'Anglais &quot;cru/brut&quot;, ce sont donc des données brutes).<br/> Pour ce faire, je vous conseille le convertisseur audio <a href="http://www.01net.com/telecharger/windows/Multimedia/encodeurs_et_decodeurs/fiches/32122.html">Switch</a>.<br/> Vous faites glisser le son dans l'espace blanc.<br/> Dans le champ &quot;Output Format&quot; en bas à gauche, sélectionnez &quot;.raw&quot;.<br/> Cliquez sur &quot;Encoder Options...&quot;. Là prenez &quot;8 bit signed&quot; et choisissez la fréquence de votre son. Si c'est du 11025, mettez 11025. Maintenant, étape très importante : définir le nombre de canaux. Si votre son est en mono, mettez &quot;Mono&quot;, sinon &quot;Stéréo&quot;. Si vous vous trompez ici, vous risquez d'avoir un son ou 2 fois plus rapide, ou 2 fois plus lent, donc faites bien attention :) ...<br/> Maintenant, modifiez &quot;Output folder&quot; pour définir le dossier dans lequel le fichier RAW se créera.<br/> Maintenant, il ne reste plus qu'à appuyer sur le gros bouton &quot;Convert&quot;.</p><h5 id="r-utiliser-le-son-dans-votre-application" data-claire-element-id="512243">Utiliser le son dans votre application</h5><p id="r-512226" data-claire-element-id="512226">Pour importer le son dans l'application, nous devrons créer un dossier <em>data</em> (dans le répertoire du projet), dans lequel vous mettrez votre fichier RAW.</p><p id="r-512227" data-claire-element-id="512227">Maintenant il faut importer le header. Si le nom du fichier est son.raw il faudra importer son_raw.h ; la variable qui contiendra la buffer sera son_raw et sa taille sera son_raw_size.</p><p id="r-512228" data-claire-element-id="512228">Avant de lire le son, il faut savoir ce qu'est une &quot;voix&quot;, car le premier argument de la fonction que nous utiliserons sera la numéro de voix. Il correspond tout simplement au canal. Cette valeur est un entier compris entre 0 (le premier canal) et <em>MAX_SND_VOICES</em>-1 (le dernier canal).<br/> Voici le prototype de cette fonction (un peu long :-° ) :</p><pre id="r-512229" data-claire-element-id="512229"><code data-claire-semantic="cpp">s32 ASND_SetVoice(s32 voice, s32 format, s32 pitch,s32 delay, void *snd, s32 size_snd, s32 volume_l, s32 volume_r, ASNDVoiceCallback callback);</code></pre><p id="r-512230" data-claire-element-id="512230"><em>voice</em> est le fameux numéro de canal.<br/><em>format</em> est le format du son. Il peut y avoir 4 possibilités :</p><ul id="r-512239" data-claire-element-id="512239"><li id="r-512232" data-claire-element-id="512232"><p id="r-512231" data-claire-element-id="512231">VOICE_MONO_8BIT</p></li><li id="r-512234" data-claire-element-id="512234"><p id="r-512233" data-claire-element-id="512233">VOICE_MONO_16BIT</p></li><li id="r-512236" data-claire-element-id="512236"><p id="r-512235" data-claire-element-id="512235">VOICE_STEREO_8BIT</p></li><li id="r-512238" data-claire-element-id="512238"><p id="r-512237" data-claire-element-id="512237">VOICE_STEREO_16BIT</p></li></ul><p id="r-512240" data-claire-element-id="512240">Tout dépend des paramètres que vous avez mis lors de la conversion du son ;) .<br/><em>pitch</em> est la fréquence du son (en Hz). Là aussi ça dépend des paramètres de conversion.<br/><em>delay</em> est le temps (en ms) avant de jouer le son (pour éviter de faire planter le programme mettez 20 ms).<br/><em>snd</em> est le buffer, dans le cas énoncé plus haut, c'est <em>son_raw</em>. Puisque l'argument est un <code data-claire-semantic="cpp">void * </code> il faudra faire un cast.<br/><em>size_snd</em> est la taille du buffer, selon l'exemple c'est <em>son_raw_size</em>.<br/><em>volume_l</em> et <em>volume_r</em> sont respectivement les volumes gauche et droite (ça vous permet de faire des effets, par exemple un objet qui tombe sur votre gauche).<br/> Pour <em>callback</em> mettez <code data-claire-semantic="cpp">NULL </code> : nous ne nous en occuperons pas.<br/> Enfin, la valeur de retour est <em>SND_OK</em> si le son a pu être lu et joué, et dans le cas contraire elle renvoie <em>SND_INVALID</em>.</p><h6 id="r-quelques-fonctions-sur-les-voice" data-claire-element-id="512242">Quelques fonctions sur les voice</h6><p id="r-512241" data-claire-element-id="512241">Vous allez découvrir ici les 3 autres fonctions les plus importantes de la lib, concernant les voice. Ces trois fonctions renverront <em>SND_OK</em> ou <em>SND_INVALID</em>.<br/> Si vous voulez stopper une voice nous utiliserons <code data-claire-semantic="cpp">s32 ASND_StopVoice(s32 voice); </code> où bien sûr <em>voice</em> est le numéro de voice.<br/> Si vous voulez mettre en pause ou continuer un son en pause, il existe la fonction <code data-claire-semantic="cpp">s32 ASND_PauseVoice(s32 voice,s32 pause); </code> où <em>pause</em> est un entier. Si vous mettez 1 vous mettrez le son en pause, si vous mettez 0 le son reprendra.<br/> Enfin, la dernière fonction importante permet de changer la fréquence du canal et ainsi permettre des effets de ralentissement ou d'accélération : <code data-claire-semantic="cpp">s32 ASND_ChangePitchVoice(s32 voice,s32 pitch); </code> où <em>pitch</em> est la nouvelle fréquence à laquelle jouer le son du canal spécifié par <em>voice</em>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
<span class="arrow"></span>
<span class="next">Jouer une musique MP3</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">
<span class="next">Les fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesfichiers"></a><h2>Les fichiers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
<span class="arrow"></span>
<span class="next">Jouer un son</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
<span class="next">Lire et écrire dans un fichier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512246" data-claire-element-id="512246">Nous allons voir dans ce chapitre comment lire et écrire dans un fichier. Ceci sera utile par exemple pour les sauvegardes de vos jeux :) , ou encore le chargement de ressources externes.</p>
</div><a name="Lireetcriredansunfichier"></a><h2>Lire et écrire dans un fichier</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">
<span class="arrow"></span>
<span class="next">Les fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">
<span class="next">La 3D</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-lire-et-ecrire-dans-un-fichier-3" data-claire-element-id="512261">Lire et écrire dans un fichier</h4><p id="r-512247" data-claire-element-id="512247">La carte mémoire sur laquelle se trouvent vos homebrews supporte le système de fichiers FAT. C'est pourquoi nous allons utiliser la <em>libfat</em> (déjà présente avec la <em>libogc</em>).<br/> Cependant, il faut la linker au projet. Il faut donc rajouter &quot;-lfat&quot; à la ligne commençant par &quot;LIBS :=&quot;, mais devant les autres libs.<br/> Autrement dit, pour en projet console, on aurait :</p><pre id="r-512248" data-claire-element-id="512248"><code>LIBS        :=        -lfat -lwiiuse -lbte -logc -lm</code></pre><p id="r-512249" data-claire-element-id="512249">Une fois cette modification du makefile achevée, il faut inclure la libfat :</p><pre id="r-512250" data-claire-element-id="512250"><code data-claire-semantic="cpp">#include &lt;fat.h&gt;</code></pre><p id="r-512251" data-claire-element-id="512251">Et on initialise la lib :</p><pre id="r-512252" data-claire-element-id="512252"><code data-claire-semantic="cpp">fatInitDefault();</code></pre><p id="r-512253" data-claire-element-id="512253">Pour le reste, c'est comme sur ordinateur : on utilisera la même structure (un <strong>pointeur</strong> de <em>FILE</em>).</p><p id="r-512254" data-claire-element-id="512254">Pour écrire dans notre fichier, nous utiliserons donc : <code data-claire-semantic="cpp">size_t fwrite(const void *buffer,size_t nb_octets,size_t taille,FILE *fichier); </code> où <em>buffer</em> est la variable à intégrer dans le fichier. Ca peut être une chaîne de <code data-claire-semantic="cpp">char </code>, mais ça peut être aussi n'importe quelle structure. <em>nb_octets</em> est la taille d'un seul élément (nous le laisserons à 1 pour des chaînes de <code data-claire-semantic="cpp">char </code>), <em>taille</em> est la taille de la variable à inscrire dans le fichier, et <em>fichier</em> est le <strong>pointeur</strong> vers le fichier.</p><p id="r-512255" data-claire-element-id="512255">Pour lire dans un fichier, c'est à peu près la même chose. Nous utiliserons <code data-claire-semantic="cpp">size_t fread(const void *buffer,size_t nb_octets,size_t taille,FILE *fichier); </code> où <em>buffer</em> est la variable à obtenir.</p><h6 id="r-exercice-47" data-claire-element-id="512260">Exercice</h6><p id="r-512256" data-claire-element-id="512256">Vous devrez faire un programme qui crée un fichier <em>test.txt</em>, qui écrit dedans, et qui lit ce qui se trouve dans le même fichier pour l'afficher sur l'écran.</p><p id="r-512257" data-claire-element-id="512257">Correction :</p><pre id="r-512258" data-claire-element-id="512258"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;fat.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

int main(int argc, char **argv)
{
    FILE *fichier_w=NULL,*fichier_r=NULL;
    char buf[64]=&quot;&quot;;

    VIDEO_Init();
    WPAD_Init();

    initText();

    fatInitDefault();

    textPos(2,2);
    printf(&quot;Ecriture de \&quot;test.txt\&quot;&quot;);
    
    fichier_w=fopen(&quot;test.txt&quot;,&quot;w&quot;);
    fwrite(&quot;Je viens d'ecrire dans ce fichier ! :p&quot;,1,38,fichier_w);
    fclose(fichier_w);

    textPos(2,3);
    printf(&quot;Ecriture terminee !&quot;);

    textPos(2,5);
    printf(&quot;Lecture de \&quot;test.txt\&quot;&quot;);

    fichier_r=fopen(&quot;test.txt&quot;,&quot;r&quot;);
    fread(buf,1,64,fichier_r);
    fclose(fichier_r);

    textPos(2,6);
    printf(&quot;Contenu de \&quot;test.txt\&quot; : %s&quot;,buf);

    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            break;
        VIDEO_WaitVSync();
    }

     return 0;
}

void initText()
{
     rmode = VIDEO_GetPreferredMode(NULL);
     xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
     console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

     VIDEO_Configure(rmode);
     VIDEO_SetNextFramebuffer(xfb);
     VIDEO_SetBlack(FALSE);
     VIDEO_Flush();
     VIDEO_WaitVSync();
     if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
         VIDEO_WaitVSync();
}</code></pre><p id="r-512259" data-claire-element-id="512259">Si les initialisations ne vous reviennent pas, vous pouvez retourner au premier chapitre pour vous raffraichir la mémoire ;) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">
<span class="arrow"></span>
<span class="next">Les fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">
<span class="next">La 3D</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="La3D"></a><h2>La 3D</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
<span class="arrow"></span>
<span class="next">Lire et écrire dans un fichier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512263" data-claire-element-id="512263">Précédemment, nous avons vu la 2D. En fait, elle était basée sur la lib 3D de la libogc : la lib GX. Mais cette lib étant complexe, nous allons utiliser <em>gl2gx</em>, une lib ayant transcrit certaines fonctions de OpenGL en GX.</p>
</div><a name="Installation"></a><h2>Installation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">
<span class="arrow"></span>
<span class="next">La 3D</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
<span class="next">Création d&#039;un projet simple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-74" data-claire-element-id="512271">Installation</h4><p id="r-512264" data-claire-element-id="512264">Nous allons installer gl2gx. Pour cela, téléchargez <a href="http://gl2gx.googlecode.com/files/gl2gx-src-20080713.tar.bz2">cette archive</a>. Décompressez-la, et copiez le contenu de <em>libogc/include</em> dans <em>c:\devkitpro\libogc\include</em> (un dossier nommé &quot;GL&quot; doit être créé).<br/> N'ayant pas trouvé de bibliothèque statique, j'ai dû en créer une qui se trouve <a href="http://www.mediafire.com/?ninxtnw33u5">ici</a>.<br/> Mettez ce fichier dans <em>C:\devkitpro\libobc\lib\wii</em>.</p><p id="r-512265" data-claire-element-id="512265">Créez un nouveau projet, ouvrez le Makefile. Remplacez :</p><pre id="r-512266" data-claire-element-id="512266"><code>LIBS        :=        -lwiiuse -lbte -lfat -logc -lm</code></pre><p id="r-512267" data-claire-element-id="512267">Par :</p><pre id="r-512268" data-claire-element-id="512268"><code>LIBS        :=        -lgl2gx -lwiiuse -lbte -lfat -logc -lm</code></pre><p id="r-512269" data-claire-element-id="512269">Ceci permet de linker le fichier <em>libgl2gx.a</em>.</p><p id="r-512270" data-claire-element-id="512270">Félicitations, vous venez d'installer la bibliothèque gl2gx :p !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">
<span class="arrow"></span>
<span class="next">La 3D</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
<span class="next">Création d&#039;un projet simple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crationd039unprojetsimple"></a><h2>Création d&#039;un projet simple</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
<span class="next">Les textures</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-d-un-projet-simple" data-claire-element-id="512327">Création d'un projet simple</h4><p id="r-512272" data-claire-element-id="512272">Nous allons voir ici comment nous allons procéder pour utiliser <em>gl2gx</em>.<br/> Notre programme sera découpé en trois fonctions :</p><ul id="r-512282" data-claire-element-id="512282"><li id="r-512274" data-claire-element-id="512274"><p id="r-512273" data-claire-element-id="512273">Une fonction contenant les initialisations graphiques que j'ai appelée <em>init_gl</em></p></li><li id="r-512279" data-claire-element-id="512279"><p id="r-512275" data-claire-element-id="512275">Une fonction contenant les instructions pour l'affichage (<em>glBegin</em>, <em>glEnd</em>, etc.) que j'ai appelée <em>draw</em>.</p><aside id="r-512277" data-claire-element-id="512277" data-claire-semantic="warning"><p id="r-512276" data-claire-element-id="512276">Cette fonction ne doit rien retourner et ne doit pas accepter d'argument, c'est pourquoi nous la déclarerons comme ceci :</p></aside><pre id="r-512278" data-claire-element-id="512278"><code data-claire-semantic="cpp">void draw()
{
    /* ... */
}</code></pre></li><li id="r-512281" data-claire-element-id="512281"><p id="r-512280" data-claire-element-id="512280">La fonction <em>main</em> qui initalisera le moteur graphique, les wiimotes, qui appèlera la première fonction et qui passera la seconde en callback afin que la fonction d'affichage soit répétée indéfiniment.</p></li></ul><p id="r-512283" data-claire-element-id="512283">Pour les fonctions qui seront utilisées, je vous conseille de lire <a href="http://www.siteduzero.com/tutoriel-3-5014-creez-des-programmes-en-3d-avec-opengl.html">Créez des programmes en 3D avec OpenGL</a> de <a href="http://www.siteduzero.com/membres-294-5.html">Kayl</a>jusqu'au chapitre 5. N'allez pas plus loin car nous n'aurons pas les mêmes outils pour les textures et il n'existe pas de quadriques.</p><p id="r-512284" data-claire-element-id="512284">Tout d'abord, il faut inclure les fichiers adéquats :</p><pre id="r-512285" data-claire-element-id="512285"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &quot;GL/gl.h&quot;
#include &quot;GL/glu.h&quot;
#include &quot;GL/glut.h&quot;</code></pre><h6 id="r-la-fonction-main-2" data-claire-element-id="512294">La fonction main</h6><p id="r-512286" data-claire-element-id="512286">Dans la fonction <em>main</em>, nous allons initialiser glut avec :</p><pre id="r-512287" data-claire-element-id="512287"><code data-claire-semantic="cpp">glutInit(NULL,NULL);</code></pre><p id="r-512288" data-claire-element-id="512288">Cette fonction prend deux pointeurs qui représentent les <em>argc</em> et <em>argv</em>. Nous ne les utiliserons pas, c'est pourquoi je les ai laissés à <code data-claire-semantic="cpp">NULL </code>.<br/> Ensuite on initialise le système de Wiimotes :</p><pre id="r-512289" data-claire-element-id="512289"><code data-claire-semantic="cpp">WPAD_Init();</code></pre><p id="r-512290" data-claire-element-id="512290">Puis on initialise le système vidéo avec <code data-claire-semantic="cpp">void glutInitDisplayMode(unsigned int mode); </code> où <em>mode</em> est une variable composée de flags. L'association de <em>GLUT_RGB</em> et de <em>GLUT_DOUBLE</em> sera amplement suffisante.<br/> Ce qui donne :</p><pre id="r-512291" data-claire-element-id="512291"><code data-claire-semantic="cpp">glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);</code></pre><p id="r-512292" data-claire-element-id="512292">Nous ferons par la suite appel à <em>init_gl</em>.<br/> Il faudra montrer quelle fonction sera utilisée pour l'affichage (dans notre cas, <em>draw</em>) avec <code data-claire-semantic="cpp">void glutDisplayFunc(void (GLUTCALLBACK *func)(void)); </code> et <code data-claire-semantic="cpp">void glutIdleFunc(void (GLUTCALLBACK *func)(void)); </code> où <em>func</em> est un callback vers la fonction d'affichage (<em>draw</em>).<br/> Enfin, on active la boucle avec <code data-claire-semantic="cpp">void glutMainLoop(void); </code>.<br/> Récapitulons :</p><pre id="r-512293" data-claire-element-id="512293"><code data-claire-semantic="cpp">int main(int argc, char **argv)
{
    glutInit(NULL,NULL);

    WPAD_Init();

    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);

    init_gl();

    glutDisplayFunc(draw);
    glutIdleFunc(draw);

    glutMainLoop();

    return 0;
}</code></pre><h6 id="r-la-fonction-init-gl" data-claire-element-id="512307">La fonction init_gl</h6><p id="r-512295" data-claire-element-id="512295">On va commencer par définir la perspective. Pour cela, il faut connaître la largeur et la hauteur de l'écran. C'est faisable avec :</p><pre id="r-512296" data-claire-element-id="512296"><code data-claire-semantic="cpp">float w = glutGet(GLUT_SCREEN_WIDTH),
      h = glutGet(GLUT_SCREEN_HEIGHT);</code></pre><p id="r-512297" data-claire-element-id="512297">Pour ce programme, il sera largement suffisant de définir le fovy à 70° et le champ de vision entre 1 et 10 :</p><pre id="r-512298" data-claire-element-id="512298"><code data-claire-semantic="cpp">float w = glutGet(GLUT_SCREEN_WIDTH),
      h = glutGet(GLUT_SCREEN_HEIGHT);
gluPerspective(70,(GLfloat)w/(GLfloat)h,1,10);</code></pre><p id="r-512299" data-claire-element-id="512299">Nous allons définir la couleur de fond au noir opaque :</p><pre id="r-512300" data-claire-element-id="512300"><code data-claire-semantic="cpp">glClearColor(0,0,0,1);</code></pre><p id="r-512301" data-claire-element-id="512301">Ensuite, il faut définir la fenêtre de travail :</p><pre id="r-512302" data-claire-element-id="512302"><code data-claire-semantic="cpp">glutInitWindowSize(w,h);</code></pre><p id="r-512303" data-claire-element-id="512303">Pour tout programme en 3D, il faut l'effet de profondeur qui ne peut exister qu'en utilisant la comparaison de profondeurs. C'est pourquoi il faut appeler :</p><pre id="r-512304" data-claire-element-id="512304"><code data-claire-semantic="cpp">glEnable(GL_DEPTH_TEST);
glDepthFunc(GL_LEQUAL);
glClearDepth(1.0f);</code></pre><p id="r-512305" data-claire-element-id="512305">Ce qui donne :</p><pre id="r-512306" data-claire-element-id="512306"><code data-claire-semantic="cpp">void init_gl()
{
    float w = glutGet(GLUT_SCREEN_WIDTH),
          h = glutGet(GLUT_SCREEN_HEIGHT);
    gluPerspective(70,(GLfloat)w/(GLfloat)h,1,10);

    glClearColor(0,0,0,1);

    glutInitWindowSize(w,h);

     glEnable(GL_DEPTH_TEST);
}</code></pre><h6 id="r-la-fonction-draw" data-claire-element-id="512326">La fonction draw</h6><p id="r-512308" data-claire-element-id="512308">C'est elle qui va gérer ce que nous allons afficher.<br/> Il faut commencer par traiter les événements :</p><pre id="r-512309" data-claire-element-id="512309"><code data-claire-semantic="cpp">WPAD_ScanPads();
if(WPAD_ButtonsDown(0)&amp;WPAD_BUTTON_HOME) //Si on appuie sur Home on quitte
    exit(0);</code></pre><p id="r-512310" data-claire-element-id="512310">Ensuite on efface tout et on appelle la matrice identité :</p><pre id="r-512311" data-claire-element-id="512311"><code data-claire-semantic="cpp">glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);
glLoadIdentity();</code></pre><p id="r-512312" data-claire-element-id="512312">On peut enfin placer notre caméra ;) . Nous nous mettrons à (0 ; 0 ; 0), nous regarderons à (0 ; 1 ; 0) avec l'axe Z comme verticale :</p><pre id="r-512313" data-claire-element-id="512313"><code data-claire-semantic="cpp">gluLookAt(0,0,0,0,1,0,0,0,1);</code></pre><p id="r-512314" data-claire-element-id="512314">C'est maintenant que nous allons vraiment dessiner. Pour cet exemple, je vais créer un carré dont le coin en haut à gauche se trouve à (-1 ; 0 ; 1), de taille 2 et de couleur blanche :</p><pre id="r-512315" data-claire-element-id="512315"><code data-claire-semantic="cpp">glTranslatef(0,5,0); //Une translation pour bien voir le carre

glColor3f(1,1,1); //Que des valeurs entre 0 et 1
glBegin(GL_QUADS);
    glVertex3f(-1,0,1);
    glVertex3f(1,0,1);
    glVertex3f(1,0,-1);
    glVertex3f(-1,0,-1);
glEnd();</code></pre><p id="r-512316" data-claire-element-id="512316">N'oublions pas de raffraîchir l'écran :</p><pre id="r-512317" data-claire-element-id="512317"><code data-claire-semantic="cpp">glFlush();
glutSwapBuffers();</code></pre><p id="r-512318" data-claire-element-id="512318">Et voilà ;) !</p><p id="r-512319" data-claire-element-id="512319">Récapitulons :</p><pre id="r-512320" data-claire-element-id="512320"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &quot;GL/gl.h&quot;
#include &quot;GL/glu.h&quot;
#include &quot;GL/glut.h&quot;

void init_gl()
{
    float w = glutGet(GLUT_SCREEN_WIDTH),
          h = glutGet(GLUT_SCREEN_HEIGHT);
    gluPerspective(70,(GLfloat)w/(GLfloat)h,1,10);

    glClearColor(0,0,0,1);

    glutInitWindowSize(w,h);

    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LEQUAL);
    glClearDepth(1.0f);
}

void draw()
{
    WPAD_ScanPads();
    if (WPAD_ButtonsDown(0)&amp;WPAD_BUTTON_HOME)
        exit(0);

    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    glLoadIdentity();

    gluLookAt(0,0,0,0,1,0,0,0,1);

    glTranslatef(0,5,0);

    glColor3f(1,1,1);
    glBegin(GL_QUADS);
        glVertex3f(-1,0,1);
        glVertex3f(1,0,1);
        glVertex3f(1,0,-1);
        glVertex3f(-1,0,-1);
    glEnd();

    glFlush();
    glutSwapBuffers();
}

int main(int argc, char **argv)
{
    glutInit(NULL,NULL);

    WPAD_Init();

    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);

    init_gl();

    glutDisplayFunc(draw);
    glutIdleFunc(draw);

    glutMainLoop();

    return 0;
}</code></pre><p id="r-512321" data-claire-element-id="512321">Résultat :</p><figure id="r-512323" data-claire-element-id="512324"><img id="r-512322" data-claire-element-id="512322" src="medias/uploads.siteduzero.com_files_218001_219000_218144.png" alt="Image utilisateur"/></figure><p id="r-512325" data-claire-element-id="512325">Après vous pouvez changer la couleur de chaque sommet pour faire un carré spécial :) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
<span class="next">Les textures</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lestextures"></a><h2>Les textures</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
<span class="arrow"></span>
<span class="next">Création d&#039;un projet simple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">
<span class="next">La connexion Wifi</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-textures-9" data-claire-element-id="512364">Les textures</h4><p id="r-512328" data-claire-element-id="512328">Maintenant que nous avons vu comment créer un contexte vidéo pour OpenGL (en fait GX déguisé en OpenGL ^^ ), nous allons voir comment appliquer une texture sur notre beau carré :) . En utilisant uniquement gl2gx, vos textures devraient être en &quot;.bin&quot;. Nous allons donc utiliser GX directement pour le chargement de textures, ce qui nous permettra d'utiliser des textures en &quot;.bmp&quot;.</p><p id="r-512329" data-claire-element-id="512329">Pour ajouter des textures à notre programme, nous allons avoir besoin de <em>FreeImage.dll</em>. Il doit être dans le système (<em>C:\Windows\system32</em> si vous êtes sous Win32 par exemple). Pour être sûr de la fiabilité de la dll, je vous conseille fortement d'aller sur <a href="http://freeimage.sourceforge.net/download.html">la page du projet</a>. Cherchez dans &quot;FreeImage DLL&quot; et téléchargez le zip qui lui est assigné. Maintenant, extrayez <em>FreeImage.dll</em> (dans le dossier <em>dist</em>) pour le mettre dans votre dossier système.<br/> Vous êtes maintenant prêts pour mettre des textures dans vos projets ;) !</p><p id="r-512330" data-claire-element-id="512330">Ensuite trouvez une texture. Moi j'ai pris celle ci-dessous (redimensionnée à partir de <a href="../../www.reallyreallygoodthings.com/texturepack1/woodCrate007Sample.jpg">celle-ci</a>) :</p><figure id="r-512332" data-claire-element-id="512333"><img id="r-512331" data-claire-element-id="512331" src="medias/img39.imageshack.us_img39_9303_crate.png" alt="Image utilisateur"/></figure><p id="r-512334" data-claire-element-id="512334">Créez un dossier <em>textures</em> dans votre projet et enregistrez-y la texture sous <em>crate.bmp</em>. A présent, créez un fichier <em>crate</em> (sans extension) et mettez-y :</p><pre id="r-512335" data-claire-element-id="512335"><code>&lt;filepath=&quot;crate.bmp&quot; id=&quot;crate&quot; colfmt=4 /&gt;</code></pre><p id="r-512336" data-claire-element-id="512336">Maintenant éditez le makefile. Vous allez remplacer son contenu par le code suivant :</p><pre id="r-512337" data-claire-element-id="512337"><code>#---------------------------------------------------------------------------------
# Clear the implicit built in rules
#---------------------------------------------------------------------------------
.SUFFIXES:
#---------------------------------------------------------------------------------
ifeq ($(strip $(DEVKITPPC)),)
$(error &quot;Please set DEVKITPPC in your environment. export DEVKITPPC=&lt;path to&gt;devkitPPC&quot;)
endif

include $(DEVKITPPC)/wii_rules

#---------------------------------------------------------------------------------
# TARGET is the name of the output
# BUILD is the directory where object files &amp; intermediate files will be placed
# SOURCES is a list of directories containing source code
# INCLUDES is a list of directories containing extra header files
#---------------------------------------------------------------------------------
TARGET                :=        $(notdir $(CURDIR))
BUILD                :=        build
SOURCES                :=        source
DATA                :=
TEXTURES        :=        textures 
INCLUDES        :=

#---------------------------------------------------------------------------------
# options for code generation
#---------------------------------------------------------------------------------

CFLAGS        = -g -O2 -Wall $(MACHDEP) $(INCLUDE)
CXXFLAGS        =        $(CFLAGS)

LDFLAGS        =        -g $(MACHDEP) -Wl,-Map,$(notdir $@).map

#---------------------------------------------------------------------------------
# any extra libraries we wish to link with the project
#---------------------------------------------------------------------------------
LIBS        :=        -lgl2gx -lwiiuse -lbte -logc -lm

#---------------------------------------------------------------------------------
# list of directories containing libraries, this must be the top level containing
# include and lib
#---------------------------------------------------------------------------------
LIBDIRS        :=

#---------------------------------------------------------------------------------
# no real need to edit anything past this point unless you need to add additional
# rules for different file extensions
#---------------------------------------------------------------------------------
ifneq ($(BUILD),$(notdir $(CURDIR)))
#---------------------------------------------------------------------------------

export OUTPUT        :=        $(CURDIR)/$(TARGET)

export VPATH        :=        $(foreach dir,$(SOURCES),$(CURDIR)/$(dir)) \
                                        $(foreach dir,$(DATA),$(CURDIR)/$(dir)) \
                                        $(foreach dir,$(TEXTURES),$(CURDIR)/$(dir))

export DEPSDIR        :=        $(CURDIR)/$(BUILD)

#---------------------------------------------------------------------------------
# automatically build a list of object files for our project
#---------------------------------------------------------------------------------
CFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.c)))
CPPFILES        :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.cpp)))
sFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.s)))
SFILES                :=        $(foreach dir,$(SOURCES),$(notdir $(wildcard $(dir)/*.S)))
BINFILES        :=        $(foreach dir,$(DATA),$(notdir $(wildcard $(dir)/*.*)))
SCFFILES        :=        $(foreach dir,$(TEXTURES),$(notdir $(wildcard $(dir)/*.scf)))
TPLFILES        :=        $(SCFFILES:.scf=.tpl)

#---------------------------------------------------------------------------------
# use CXX for linking C++ projects, CC for standard C
#---------------------------------------------------------------------------------
ifeq ($(strip $(CPPFILES)),)
        export LD        :=        $(CC)
else
        export LD        :=        $(CXX)
endif

export OFILES        :=        $(addsuffix .o,$(BINFILES)) \
                                        $(addsuffix .o,$(TPLFILES)) \
                                        $(CPPFILES:.cpp=.o) $(CFILES:.c=.o) \
                                        $(sFILES:.s=.o) $(SFILES:.S=.o)

#---------------------------------------------------------------------------------
# build a list of include paths
#---------------------------------------------------------------------------------
export INCLUDE        :=        $(foreach dir,$(INCLUDES),-I$(CURDIR)/$(dir)) \
                                        $(foreach dir,$(LIBDIRS),-I$(dir)/include) \
                                        -I$(CURDIR)/$(BUILD) \
                                        -I$(LIBOGC_INC)

#---------------------------------------------------------------------------------
# build a list of library paths
#---------------------------------------------------------------------------------
export LIBPATHS        :=        $(foreach dir,$(LIBDIRS),-L$(dir)/lib) \
                                        -L$(LIBOGC_LIB)

export OUTPUT        :=        $(CURDIR)/$(TARGET)
.PHONY: $(BUILD) clean

#---------------------------------------------------------------------------------
$(BUILD):
        @[ -d $@ ] || mkdir -p $@
        @$(MAKE) --no-print-directory -C $(BUILD) -f $(CURDIR)/Makefile

#---------------------------------------------------------------------------------
clean:
        @echo clean ...
        @rm -fr $(BUILD) $(OUTPUT).elf $(OUTPUT).dol
#---------------------------------------------------------------------------------
run:
        wiiload $(OUTPUT).dol

#---------------------------------------------------------------------------------
else

#---------------------------------------------------------------------------------
# main targets
#---------------------------------------------------------------------------------
$(OUTPUT).dol: $(OUTPUT).elf
$(OUTPUT).elf: $(OFILES)

#---------------------------------------------------------------------------------
%.tpl.o        :        %.tpl
#---------------------------------------------------------------------------------
        @echo $(notdir $&lt;)
        @$(bin2o)


-include $(DEPSDIR)/*.d

#---------------------------------------------------------------------------------
endif
#---------------------------------------------------------------------------------</code></pre><p id="r-512338" data-claire-element-id="512338">Nous pouvons revenir à notre code C++.<br/> Tout d'abord, j'ai créé une fonction qui initialise le système de textures :</p><pre id="r-512339" data-claire-element-id="512339"><code data-claire-semantic="cpp">void init_sys_textures()
{
    GX_SetNumChans(1);

    GX_SetNumTexGens(1);

    GX_SetTexCoordGen(GX_TEXCOORD0, GX_TG_MTX2x4, GX_TG_TEX0, GX_IDENTITY);

    GX_InvVtxCache();
    GX_InvalidateTexAll();
}</code></pre><p id="r-512340" data-claire-element-id="512340">Cette fonction devra être appelée dans <em>init_gl</em>, après les initialisations et avant le chargement de textures (voir plus bas).</p><p id="r-512341" data-claire-element-id="512341">Il faut inclure notre texture :</p><pre id="r-512342" data-claire-element-id="512342"><code data-claire-semantic="cpp">#include &quot;crate_tpl.h&quot;
#include &quot;crate.h&quot;</code></pre><p id="r-512343" data-claire-element-id="512343">Ensuite on déclare une variable de type <em>GXTexObj</em> qui contiendra notre texture :</p><pre id="r-512344" data-claire-element-id="512344"><code data-claire-semantic="cpp">GXTexObj texture_crate;</code></pre><p id="r-512345" data-claire-element-id="512345">Pour nous faciliter la vie, j'ai créé une fonction <em>loadTex</em> qui charge notre texture :</p><pre id="r-512346" data-claire-element-id="512346"><code data-claire-semantic="cpp">GXTexObj loadTex(void *tpl_mem,int tpl_size,int id)
{
    GXTexObj tex;
    TPLFile tpl;
    TPL_OpenTPLFromMemory(&amp;tpl,tpl_mem,tpl_size);
    TPL_GetTexture(&amp;tpl,id,&amp;tex);
    return tex;
}</code></pre><p id="r-512347" data-claire-element-id="512347">Elle retourne la texture et prend pour arguments le contenu de la texture (<em>tpl_mem</em>), la taille du contenu (<em>tpl_size</em>) et l'identifiant (<em>id</em>).</p><div id="r-512349" data-claire-element-id="512349" data-claire-semantic="question"><p id="r-512348" data-claire-element-id="512348">Mais comment trouve-t-on ces variables ?</p></div><p id="r-512350" data-claire-element-id="512350">Notre texture s'appelle <em>crate.bmp</em>. Donc <em>tpl_mem</em> sera crate_tpl ; <em>tpl_size</em> sera crate_tpl_size et <em>id</em> sera crate (c'est défini dans id=&quot;crate&quot;).<br/> Donc vous l'avez sûrement compris, pour charger notre texture nous ferons :</p><pre id="r-512351" data-claire-element-id="512351"><code data-claire-semantic="cpp">texture_crate=loadTex((void*)crate_tpl,crate_tpl_size,crate);</code></pre><p id="r-512352" data-claire-element-id="512352">Pour le dessin, il faut indiquer que nous allons utiliser des textures avec :</p><pre id="r-512353" data-claire-element-id="512353"><code data-claire-semantic="cpp">GX_SetTevOp(GX_TEVSTAGE0,GX_REPLACE);
GX_SetTevOrder(GX_TEVSTAGE0, GX_TEXCOORD0, GX_TEXMAP0, GX_COLOR0A0);</code></pre><p id="r-512354" data-claire-element-id="512354">Et ensuite on attache la texture :</p><pre id="r-512355" data-claire-element-id="512355"><code data-claire-semantic="cpp">GX_LoadTexObj(&amp;texture_crate, GX_TEXMAP0);</code></pre><p id="r-512356" data-claire-element-id="512356">Avant l'appel à <em>glVertex3f</em>, n'oubliez pas d'appeler <em>glTexCoord2f</em> (la fonction <em>glTexCoord2d</em><strong>n'existe pas</strong>).</p><p id="r-512357" data-claire-element-id="512357">Récapitulons :</p><pre id="r-512358" data-claire-element-id="512358"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;malloc.h&gt;
#include &lt;math.h&gt;
#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &quot;GL/gl.h&quot;
#include &quot;GL/glu.h&quot;
#include &quot;GL/glut.h&quot;

#include &quot;crate_tpl.h&quot;
#include &quot;crate.h&quot;

GXTexObj texture_crate;

GXTexObj loadTex(void *tpl_mem,int tpl_size,int id)
{
    GXTexObj tex;
    TPLFile tpl;
    TPL_OpenTPLFromMemory(&amp;tpl,tpl_mem,tpl_size);
    TPL_GetTexture(&amp;tpl,id,&amp;tex);
    return tex;
}

void init_sys_textures()
{
    GX_SetNumChans(1);

    GX_SetNumTexGens(1);

    GX_SetTexCoordGen(GX_TEXCOORD0, GX_TG_MTX2x4, GX_TG_TEX0, GX_IDENTITY);

    GX_InvVtxCache();
    GX_InvalidateTexAll();
}

void init_gl()
{
    float w = glutGet(GLUT_SCREEN_WIDTH),
          h = glutGet(GLUT_SCREEN_HEIGHT);
    gluPerspective(70,(GLfloat)w/(GLfloat)h,1,10);

    glClearColor(0,0,0,1);

    glutInitWindowSize(w,h);

    glEnable(GL_DEPTH_TEST);
    glDepthFunc(GL_LEQUAL);
    glClearDepth(1.0f);

    init_sys_textures();

    texture_crate=loadTex((void*)crate_tpl,crate_tpl_size,crate);
}

void draw()
{
    WPAD_ScanPads();
    if (WPAD_ButtonsDown(0)&amp;WPAD_BUTTON_HOME)
        exit(0);

    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);

    glLoadIdentity();

    gluLookAt(0,0,0,0,1,0,0,0,1);

    glTranslatef(0,5,0);

    GX_SetTevOp(GX_TEVSTAGE0,GX_REPLACE);
    GX_SetTevOrder(GX_TEVSTAGE0, GX_TEXCOORD0, GX_TEXMAP0, GX_COLOR0A0);

    GX_LoadTexObj(&amp;texture_crate, GX_TEXMAP0);

    glColor3f(1,1,1);
    glBegin(GL_QUADS);
        glTexCoord2f(0,0);  glVertex3f(-1,0,1);
        glTexCoord2f(1,0);  glVertex3f(1,0,1);
        glTexCoord2f(1,1);  glVertex3f(1,0,-1);
        glTexCoord2f(0,1);  glVertex3f(-1,0,-1);
    glEnd();

    glFlush();
    glutSwapBuffers();
}

int main(int argc,char **argv)
{
    glutInit(NULL,NULL);

    WPAD_Init();

    glutInitDisplayMode(GLUT_RGB | GLUT_DOUBLE);

    init_gl();

    glutDisplayFunc(draw);
    glutIdleFunc(draw);

    glutMainLoop();
}</code></pre><p id="r-512359" data-claire-element-id="512359">Et voilà le rendu :</p><figure id="r-512361" data-claire-element-id="512362"><img id="r-512360" data-claire-element-id="512360" src="medias/uploads.siteduzero.com_files_227001_228000_227278.png" alt="Image utilisateur"/></figure><p id="r-512363" data-claire-element-id="512363">A présent, vous pouvez faire de belles applications en 3D sur Wii :D .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
<span class="arrow"></span>
<span class="next">Création d&#039;un projet simple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">
<span class="next">La connexion Wifi</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LaconnexionWifi"></a><h2>La connexion Wifi</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
<span class="arrow"></span>
<span class="next">Les textures</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
<span class="next">Récupérer ses données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512366" data-claire-element-id="512366">Nous allons voir ici comment programmer des applications utilisant la connexion Wifi pour relier votre Wii avec une autre machine (autre Wii, serveur web, ordinateur, console de jeu, etc.).</p>
</div><a name="Rcuprersesdonnes"></a><h2>Récupérer ses données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">
<span class="arrow"></span>
<span class="next">La connexion Wifi</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
<span class="next">Les sockets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-recuperer-ses-donnees" data-claire-element-id="512378">Récupérer ses données</h4><p id="r-512367" data-claire-element-id="512367">Nous allons récupérer certaines de nos données réseau : l'adresse IP (locale), le masque réseau et la passerelle.<br/> Pour vos applications en Wifi, il faudra inclure <em>network.h</em> comme ceci :</p><pre id="r-512368" data-claire-element-id="512368"><code data-claire-semantic="cpp">#include &lt;network.h&gt;</code></pre><p id="r-512369" data-claire-element-id="512369">Nos trois variables seront des tableaux de <code data-claire-semantic="cpp">char </code> à 16 cases :</p><pre id="r-512370" data-claire-element-id="512370"><code data-claire-semantic="cpp">char adresse_ip[16]=&quot;&quot;;
char masque_reseau[16]=&quot;&quot;;
char passerelle[16]=&quot;&quot;;</code></pre><p id="r-512371" data-claire-element-id="512371">Pour récupérer ces trois données, nous aurons besoin d'une seule fonction : <code data-claire-semantic="cpp">s32 if_config(char *ip,char *masque,char *passerelle,boolean use_dhcp); </code> où <em>use_dhcp</em> sera <code data-claire-semantic="cpp">true </code>. Cette fonction renvoie un nombre inférieur à 0 en cas de problème, ce qui est bon de tester...<br/> Ce qui nous donne :</p><pre id="r-512372" data-claire-element-id="512372"><code data-claire-semantic="cpp">s32 error=if_config(adresse_ip,masque_reseau,passerelle,true);

if(error&lt;0)
{} //Erreur
else
{} //Pas d'erreur</code></pre><p id="r-512373" data-claire-element-id="512373">Donc voici une application de cette partie. Le programme va écrire &quot;Patientez...&quot; avant l'obtention des données (elle peut prendre plus de 5 secondes, donc il ne faut pas croire que c'est un freeze ;) ), en cas d'erreur il afficher un message d'erreur et dans le cas contraire il affichera l'adresse IP locale, le masque réseau et la passerelle :</p><pre id="r-512374" data-claire-element-id="512374"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;network.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

void loop(); //Fonction qui sera appelee pour attendre l'appui de Home

int main(int argc, char **argv)
{
    char adresse_ip[16]=&quot;&quot;;
    char masque_reseau[16]=&quot;&quot;;
    char passerelle[16]=&quot;&quot;;

    VIDEO_Init();
    WPAD_Init();

    initText();

    textPos(1,1);
    printf(&quot;Patientez...&quot;);

    s32 error=if_config(adresse_ip,masque_reseau,passerelle,true); //On recupere nos donnees

    if(error&lt;0) //Probleme d'initialisation
    {
        textPos(1,3);
        printf(&quot;Une erreur est survenue dans l'initialisation...&quot;);
        loop();
    }
    else //Tout va bien :)
    {
        textPos(1,3);
        printf(&quot;Adresse IP : %s&quot;,adresse_ip);

        textPos(1,4);
        printf(&quot;Masque : %s&quot;,masque_reseau);

        textPos(1,5);
        printf(&quot;Passerelle : %s&quot;,passerelle);

        loop();
    }

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}

void loop()
{
    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            break;
        VIDEO_WaitVSync();
    }
}</code></pre><aside id="r-512376" data-claire-element-id="512376" data-claire-semantic="information"><p id="r-512375" data-claire-element-id="512375">Si certaines variables nous vous intéressent pas, vous pouvez mettre NULL comme argument. Ainsi, vous ne vous encombrerez pas avec des variables inutilisées.</p></aside><p id="r-512377" data-claire-element-id="512377">A présent nous allons voir comment utiliser les sockets.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">
<span class="arrow"></span>
<span class="next">La connexion Wifi</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
<span class="next">Les sockets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lessockets"></a><h2>Les sockets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
<span class="arrow"></span>
<span class="next">Récupérer ses données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">
<span class="next">Envoyer un fichier sur la Wii avec ftpii</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-sockets-4" data-claire-element-id="512442">Les sockets</h4><p id="r-512379" data-claire-element-id="512379">Avant toute chose, les fonctions utilisées correspondront à celles des sockets pour ordinateur, c'est pourquoi je vous conseille de jeter un coup d'oeil à <a href="http://www.siteduzero.com/tutoriel-3-3279-manipulation-de-sockets.html">Manipulation de sockets</a> par <a href="http://www.siteduzero.com/membres-294-26661.html">zepyr111</a>.<br/> Les fonctions seront les mêmes, mais avec le préfixe <strong>net_</strong> .</p><p id="r-512380" data-claire-element-id="512380">On va commencer par initialiser le Wifi. Certes on peut l'initialiser avec <em>if_config</em> vu précédemment, cependant on n'a pas besoin de l'adresse IP locale, du masque réseau ou encore de la passerelle. Alors nous utiliserons directement la fonction prévue à cet effet : <code data-claire-semantic="cpp">s32 net_init(); </code> qui retourne une valeur inférieure à 0 en cas de problème. Cette fonction ayant un fort taux d'échec, nous allons en créer une qui l'appelle 50 fois au maximum et qui s'arrête si l'initialisation est prête et renvoie <code data-claire-semantic="cpp">true </code>. Et dans le cas où avec les 50 essais il y a toujours un problème, cette fonction reverra <code data-claire-semantic="cpp">false </code>.<br/> Ce qui donne :</p><pre id="r-512381" data-claire-element-id="512381"><code data-claire-semantic="cpp">bool init_network()
{
    bool ok=false;
    for(int i=0;i&lt;50&amp;&amp;!ok;i++) //Sur 50 tours, tant qu'on n'a pas reussi a initialiser le reseau
        if(net_init()&gt;=0)
            ok=true;
    return ok;
}</code></pre><p id="r-512382" data-claire-element-id="512382">Donc il suffira de faire :</p><pre id="r-512383" data-claire-element-id="512383"><code data-claire-semantic="cpp">init_network();</code></pre><p id="r-512384" data-claire-element-id="512384">Maintenant, nous pouvons créer notre socket avec <code data-claire-semantic="cpp">s32 net_socket(u32 domain,u32 type,u32 protocol); </code> qui fonctionne comme la fonction <em>socket</em>. Pour notre exemple, le code ci-dessous suffira :</p><pre id="r-512385" data-claire-element-id="512385"><code data-claire-semantic="cpp">s32 sock=net_socket(AF_INET,SOCK_STREAM,0);</code></pre><p id="r-512386" data-claire-element-id="512386">Et on obtient une belle socket sur le modèle TCP/IP :soleil: !</p><h5 id="r-application-client-on-va-aller-sur-google-diable" data-claire-element-id="512424">Application client : on va aller sur Google :diable:</h5><p id="r-512387" data-claire-element-id="512387">Une structure que nous allons utiliser aussi bien dans un client que dans un serveur : <em>sockaddr_in</em>. Cette structure n'ayant pas de <code data-claire-semantic="cpp">typedef </code>, il faudra déclarer notre variable comme ceci :</p><pre id="r-512388" data-claire-element-id="512388"><code data-claire-semantic="cpp">struct sockaddr_in sin;</code></pre><p id="r-512389" data-claire-element-id="512389">Les seuls membres qui nous intéresseront sont :</p><ul id="r-512396" data-claire-element-id="512396"><li id="r-512391" data-claire-element-id="512391"><p id="r-512390" data-claire-element-id="512390">sin.sin_addr.s_addr : l'adresse IP à laquelle se connecter (pour le client, sinon l'adresse à ouvrir pour le serveur)</p></li><li id="r-512393" data-claire-element-id="512393"><p id="r-512392" data-claire-element-id="512392">sin.sin_family : on mettra <em>AF_INET</em></p></li><li id="r-512395" data-claire-element-id="512395"><p id="r-512394" data-claire-element-id="512394">sin.sin_port : le port auquel se connecter (pour le client, sinon le port à ouvrir pour le serveur).</p></li></ul><p id="r-512397" data-claire-element-id="512397">Le problème avec <em>sin.sin_addr.s_addr</em> est qu'il n'accepte que les adresses IP sous la forme : <code data-claire-semantic="cpp">inet_addr(&quot;xxx.xxx.xxx.xxx&quot;) </code><br/> Or nous souhaitons nous connecter à Google, donc nous n'avons que la DNS &quot;www.google.com&quot;.<br/> Bien sûr, on peut trouver son adresse IP en faisant :</p><pre id="r-512398" data-claire-element-id="512398"><code data-claire-semantic="console">ping www.google.com</code></pre><p id="r-512399" data-claire-element-id="512399">Et on obtient quelque chose comme 209.85.227.147. Le problème c'est que ça peut changer, et aussi que c'est moins lisible. C'est pourquoi nous allons trouver le moyen de transformer notre DNS en adresse IP.</p><p id="r-512400" data-claire-element-id="512400">Pour cela il faut créer une variable de type <em>hostent</em> (cette structure n'a pas de <code data-claire-semantic="cpp">typedef </code>) :</p><pre id="r-512401" data-claire-element-id="512401"><code data-claire-semantic="cpp">struct hostent *dns;</code></pre><p id="r-512402" data-claire-element-id="512402">Maintenant, on lui dit la DNS à laquelle on veut se connecter avec <code data-claire-semantic="cpp">struct hostent *net_gethostbyname(const char *adresse); </code> où <em>adresse</em> est la DNS en question (dans notre cas &quot;www.google.com&quot;). Cette fonction retourne notre <em>hostent</em> :</p><pre id="r-512403" data-claire-element-id="512403"><code data-claire-semantic="cpp">dns=net_gethostbyname(&quot;www.google.com&quot;);</code></pre><p id="r-512404" data-claire-element-id="512404">L'adresse IP sera contenue dans <em>dns-&gt;h_addr</em>, mais pas dans le même type que <em>sin.sin_addr.s_addr</em>. C'est pourquoi nous allons user de <em>memcpy</em>. Pour l'utiliser, il faut inclure <em>string.h</em> :</p><pre id="r-512405" data-claire-element-id="512405"><code data-claire-semantic="cpp">#include &lt;string.h&gt;</code></pre><p id="r-512406" data-claire-element-id="512406">La structure <em>hostent</em> a un membre <em>h_length</em> qui indique la taille du membre <em>h_addr</em>. Donc nous ferons ceci :</p><pre id="r-512407" data-claire-element-id="512407"><code data-claire-semantic="cpp">memcpy(&amp;sin.sin_addr.s_addr,dns-&gt;h_addr,dns-&gt;h_length);</code></pre><p id="r-512408" data-claire-element-id="512408">Ensuite on avait dit que pour <em>sin.sin_family</em> on mettrait <em>AF_INET</em> :</p><pre id="r-512409" data-claire-element-id="512409"><code data-claire-semantic="cpp">sin.sin_family=AF_INET;</code></pre><p id="r-512410" data-claire-element-id="512410">Maintenant on définit le port, pour aller sur Internet c'est le port 80. Pour spécifier le port on utilise la macro <em>htons(x)</em> ou <em>x</em> est le port (<code data-claire-semantic="cpp">int </code> par exemple).<br/> Cependant dans les headers de la libogc on peut voir :</p><pre id="r-512411" data-claire-element-id="512411"><code data-claire-semantic="cpp">#define htons(x) (x)</code></pre><p id="r-512412" data-claire-element-id="512412">Ce qui signifie qu'on pourrait directement mettre 80 à la place de htons(80). Mais par précaution on va le laisser avec htons :) .<br/> Ce qui donne :</p><pre id="r-512413" data-claire-element-id="512413"><code data-claire-semantic="cpp">sin.sin_port=htons(80);</code></pre><p id="r-512414" data-claire-element-id="512414">Pour nous connecter, nous utiliserons la fonction <code data-claire-semantic="cpp">s32 net_connect(s32 sock,struct sockaddr*,socklen_t); </code> qui fonctionne comme <em>connect</em>. Ce qui implique que nous fassions un cast :</p><pre id="r-512415" data-claire-element-id="512415"><code data-claire-semantic="cpp">net_connect(sock,(struct sockaddr*)&amp;sin,sizeof(sin));</code></pre><p id="r-512416" data-claire-element-id="512416">Maintenant, il faut envoyer une requête HTTP au serveur de Google via notre socket. Vu qu'on cherche uniquement à voir la page d'accueil de Google, on utilisera simplement GET comme ceci :</p><pre id="r-512417" data-claire-element-id="512417"><code>GET http://www.google.fr/
Connection: Close</code></pre><p id="r-512418" data-claire-element-id="512418">Ce qui donne : <code data-claire-semantic="cpp">&quot;GET http://www.google.fr/ Connection: Close &quot; </code>.<br/> Pour plus d'informations sur les requêtes HTTP, regardez <a href="http://www.siteduzero.com/tutoriel-3-35613-les-requetes-http.html">Les requêtes HTTP</a> de <a href="http://www.siteduzero.com/membres-294-241.html">anonymousguest</a>.</p><p id="r-512419" data-claire-element-id="512419">On peut envoyer n'importe quel type de variable à travers les sockets, du moment qu'on connaît la taille de cette variable. La fonction d'envoi est <code data-claire-semantic="cpp">s32 net_send(s32 sock,const void *data,s32 taille,u32 flags); </code> où <em>data</em> est la variable à transmettre (l'argument doit être un <strong>pointeur</strong>, donc si votre variable n'en est pas il faudra rajouter un &amp; devant).</p><p id="r-512420" data-claire-element-id="512420">Enfin, pour la réception, on va prendre une chaîne de <code data-claire-semantic="cpp">char </code> de 2048 cases (2 ko) qui va être modifiée par la fonction <code data-claire-semantic="cpp">s32 net_recv(s32 s,void *mem,s32 len,u32 flags); </code> où <em>mem</em> est la variable à modifier (c'est un <strong>pointeur</strong>, donc si votre variable n'en est pas il faudra rajouter un &amp; devant).</p><p id="r-512421" data-claire-element-id="512421">Ce qui nous donne :</p><pre id="r-512422" data-claire-element-id="512422"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;network.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

void loop(); //Fonction qui sera appelee pour attendre l'appui de Home
bool init_network(); //Fonction qui initialisera le reseau avec un taux d'echecs reduit

int main(int argc, char **argv)
{
    struct sockaddr_in sin; //Contiendra les coordonnees de la machine distante
    struct hostent *dns; //Variable intermédiaire entre DNS et adresse IP

    VIDEO_Init();
    WPAD_Init();

    initText();

    init_network(); //Initialisation du reseau

    s32 sock=net_socket(AF_INET,SOCK_STREAM,0); //On cree une socket &quot;normale&quot;

    dns=net_gethostbyname(&quot;www.google.com&quot;); //On recupere l'adresse IP de www.google.fr

    memcpy(&amp;sin.sin_addr.s_addr,dns-&gt;h_addr,dns-&gt;h_length); //On copie l'adresse IP dans sin.sin_addr.s_addr
    sin.sin_family=AF_INET;
    sin.sin_port=htons(80); //Port 80 : Internet

    net_connect(sock,(struct sockaddr*)&amp;sin,sizeof(sin)); //On se connecte

    char requete[]=&quot;GET http://www.google.fr/\r\nConnection: Close\r\n\r\n&quot;,reponse[2048]=&quot;&quot;;
    net_send(sock,requete,sizeof(requete),0); //On envoie la requete

    net_recv(sock,reponse,2048,0); //On recoit le contenu de la page

    textPos(1,1);
    printf(&quot;Reponse :\n\n%s&quot;,reponse);

    loop();

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}

void loop()
{
    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            break;
        VIDEO_WaitVSync();
    }
}

bool init_network()
{
    bool ok=false;
    for(int i=0;i&lt;50&amp;&amp;!ok;i++) //Sur 50 tours, tant qu'on n'a pas reussi a initialiser le reseau
        if(net_init()&gt;=0)
            ok=true;
    return ok;
}</code></pre><p id="r-512423" data-claire-element-id="512423">Vous pouvez tester, mais vous aurez juste une partie du code source HTML de la page (avec l'en-tête correspondant à votre requête), ne vous attendez pas au Web Browser graphique ;) !</p><h5 id="r-application-serveur" data-claire-element-id="512441">Application serveur</h5><p id="r-512425" data-claire-element-id="512425">Nous allons créer un serveur qui ouvre son IP locale sur le port 42 à une seule machine. Dès que la machine se connectera, le serveur enverra un message qui sera lu par le client.<br/> Pour le client, j'ai opté pour un programme en Python sur ordinateur, pour éviter que le code du client ne prenne trop de temps (vu que ce n'est pas l'objet principal) :</p><pre id="r-512426" data-claire-element-id="512426"><code data-claire-semantic="python">from socket import *

sock=socket(AF_INET,SOCK_STREAM)
sock.connect((raw_input(&quot;Adresse IP du serveur : &quot;),42))
raw_input(&quot;Chaine envoyee par le serveur : &quot;+sock.recv(256)+&quot;\nAppuyez sur entree pour quitter...&quot;)</code></pre><p id="r-512427" data-claire-element-id="512427">Ce client nécessite Python (j'ai pris la version 2.6). Si vous n'avez pas Python, vous pouvez toujours créer un client en C++. Mais ce sera plus long ;) . Le client ci-dessus demande l'adresse IP du serveur et s'y connecte via le port 42 et affiche le message envoyé par le serveur.</p><p id="r-512428" data-claire-element-id="512428">Revenons à notre serveur sur Wii :) . Sachez que pour les serveurs, il y a une socket par client, en plus de la socket serveur. Donc pour notre exemple (avec un seul client), nous aurons deux sockets. Idem pour les variables de type <em>sockaddr_in</em> :</p><pre id="r-512429" data-claire-element-id="512429"><code data-claire-semantic="cpp">s32 sock,csock; //csock correpond au socket client
struct sockaddr_in sin,csin; //csin correspond au client</code></pre><p id="r-512430" data-claire-element-id="512430">Pour ouvrir notre IP sur un port, nous n'allons pas utiliser <em>net_connect</em> mais <em>net_bind</em>. Cependant les arguments sont les mêmes :</p><pre id="r-512431" data-claire-element-id="512431"><code data-claire-semantic="cpp">net_bind(sock,(struct sockaddr*)&amp;sin,sizeof(sin));</code></pre><p id="r-512432" data-claire-element-id="512432">Maintenant, il faut spécifier le nombre de connexions acceptées avec <code data-claire-semantic="cpp">s32 net_listen(s32 sock,u32 backlog); </code> où <em>backlog</em> est le nombre de connexions.<br/> A présent, il faut accepter le client (sinon comment il se connecte le pauvre :lol: ) avec <code data-claire-semantic="cpp">s32 net_accept(s32 s,struct sockaddr *addr,socklen_t *addrlen); </code> où <em>addr</em> est un <strong>pointeur</strong> vers notre <em>csin</em> (ne pas oublier le cast à faire), et <em> addrlen</em> un <strong>pointeur</strong> vers la variable qui contiendra la taille de <em>csin</em> :</p><pre id="r-512433" data-claire-element-id="512433"><code data-claire-semantic="cpp">socklen_t size=sizeof(csin);
csock=net_accept(sock,(struct sockaddr*)&amp;csin,&amp;size); //On accepte la premiere entree</code></pre><p id="r-512434" data-claire-element-id="512434">Cette fonction renvoie une socket que nous stockerons dans <em>csock</em> (voir code ci-dessus).<br/> Pour envoyer notre fameux message, on va utiliser <em>net_send</em>. Jusque là pas de problème. Mais il ne faut pas oublier de l'envoyer à <em>csock</em> et non à <em>sock</em> !</p><p id="r-512435" data-claire-element-id="512435">Ce qui donne :</p><pre id="r-512436" data-claire-element-id="512436"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;

#include &lt;network.h&gt;

#define textPos(x,y) printf(&quot;\x1b[%d;%dH&quot;,y,x)

static void *xfb = NULL;
static GXRModeObj *rmode = NULL;

void initText();

void loop(); //Fonction qui sera appelee pour attendre l'appui de Home

int main(int argc, char **argv)
{
    char adresse_ip[16]=&quot;&quot;;
    s32 sock,csock; //csock correpond au socket client
    struct sockaddr_in sin,csin; //csin correspond au client

    VIDEO_Init();
    WPAD_Init();

    initText();

    if_config(adresse_ip,NULL,NULL,true); //On ne prend que l'adresse IP

    sock=net_socket(AF_INET,SOCK_STREAM,0);

    sin.sin_addr.s_addr=inet_addr(adresse_ip);
    sin.sin_family=AF_INET;
    sin.sin_port=htons(42);

    net_bind(sock,(struct sockaddr*)&amp;sin,sizeof(sin)); //On ouvre notre adresse IP locale sur le port 42
    net_listen(sock,1); //On se limite a une seule connexion

    textPos(1,1);
    printf(&quot;Serveur pret (%s) ! Attente d'un client...&quot;,adresse_ip);

    socklen_t size=sizeof(csin);
    csock=net_accept(sock,(struct sockaddr*)&amp;csin,&amp;size); //On accepte la premiere entree

    textPos(1,2);
    printf(&quot;Client connecte (%s) !&quot;,inet_ntoa(csin.sin_addr));

    char message[]=&quot;Ceci est un message envoye par le serveur !&quot;;
    net_send(csock,message,sizeof(message),0); //On envoie le message

    textPos(1,3);
    printf(&quot;Message envoye !&quot;);

    loop();

    return 0;
}

void initText()
{
    rmode = VIDEO_GetPreferredMode(NULL);
    xfb = MEM_K0_TO_K1(SYS_AllocateFramebuffer(rmode));
    console_init(xfb,20,20,rmode-&gt;fbWidth,rmode-&gt;xfbHeight,rmode-&gt;fbWidth*VI_DISPLAY_PIX_SZ);

    VIDEO_Configure(rmode);
    VIDEO_SetNextFramebuffer(xfb);
    VIDEO_SetBlack(FALSE);
    VIDEO_Flush();
    VIDEO_WaitVSync();
    if(rmode-&gt;viTVMode&amp;VI_NON_INTERLACE)
        VIDEO_WaitVSync();
}

void loop()
{
    while(1)
    {
        WPAD_ScanPads();
        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            break;
        VIDEO_WaitVSync();
    }
}</code></pre><p id="r-512437" data-claire-element-id="512437">Remarquez au passage qu'on peut avoir l'adresse IP du client sous forme de chaîne de caractères avec : <em>inet_ntoa(csin.sin_addr)</em>. La valeur de retour est la chaîne de caractères.</p><p id="r-512438" data-claire-element-id="512438">Voici ce que j'obtiens avec mon client en Python :</p><pre id="r-512439" data-claire-element-id="512439"><code data-claire-semantic="console">Adresse IP du serveur : xxx.xxx.xxx.xxx
Chaine envoyee par le serveur : Ceci est un message envoye par le serveur !
Appuyez sur entree pour quitter...</code></pre><p id="r-512440" data-claire-element-id="512440">Et voilà :) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
<span class="arrow"></span>
<span class="next">Récupérer ses données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">
<span class="next">Envoyer un fichier sur la Wii avec ftpii</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="EnvoyerunfichiersurlaWiiavecftpii"></a><h2>Envoyer un fichier sur la Wii avec ftpii</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
<span class="arrow"></span>
<span class="next">Les sockets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
<span class="next">Installation et utilisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512446" data-claire-element-id="512446">Avouez que vous en avez assez de vous lever pour aller reprendre votre carte mémoire de la Wii, de revenir pour actualiser votre homebrew et vous relever pour la remettre dans la Wii ^^ . De toute façon, en tant que programmeur <strong>vous vous devez d'être paresseux/se</strong> :-° . Dans ce cas je vais vous aide à accomplir cette tâche en utilisant un serveur FTP pour la Wii, j'ai nommé ftpii !</p>
</div><a name="Installationetutilisation"></a><h2>Installation et utilisation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">
<span class="arrow"></span>
<span class="next">Envoyer un fichier sur la Wii avec ftpii</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">
<span class="next">Utiliser la wiimote dans vos programmes sur ordinateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-et-utilisation" data-claire-element-id="512457">Installation et utilisation</h4><p id="r-512447" data-claire-element-id="512447">Pour que notre projet puisse fonctionner (envoyer des fichiers sur la carte mémoire de la Wii), il faut deux applications : la première sur la Wii faisant serveur FTP (ftpii) et la seconde qui servira de client FTP (nous utiliserons FileZilla).</p><p id="r-512448" data-claire-element-id="512448">Pour ftpii, rendez-vous <a href="http://code.google.com/p/ftpii/downloads/list">ici</a>. Pour l'instant il n'existe qu'une seule version, téléchargez-la. Puis décompressez-la dans le dossier &quot;apps&quot; de votre carte mémoire, comme une application normale.</p><p id="r-512449" data-claire-element-id="512449">Pour FileZilla, voici <a href="http://www.siteduzero.com/tutoriel-3-13611-envoyez-votre-site-sur-le-web.html#ss_part_3">une bonne façon de l'utiliser</a> (merci <a href="http://www.siteduzero.com/membres-294-3.html">M@teo21</a> ;) ).</p><p id="r-512450" data-claire-element-id="512450">Maintenant, et ce sera la dernière fois que vous vous lèverez ^^ , insérez la carte mémoire dans votre Wii et lancez la Chaîne Homebrew. Ensuite lancez ftpii, l'adresse IP de votre Wii sera affichée, il ne restera plus qu'à l'inscrire dans le champ &quot;Hôte&quot; de FileZilla et laissez les autres champs vides, ils seront remplis automatiquement et tout se déroulera bien :</p><figure id="r-512452" data-claire-element-id="512453"><img id="r-512451" data-claire-element-id="512451" src="medias/uploads.siteduzero.com_files_211001_212000_211524.jpg" alt="Image utilisateur"/></figure><p id="r-512454" data-claire-element-id="512454">Maintenant vous avez accès au contenu intégral de votre carte SD. Appuyez sur le bouton A de votre Wiimote pour revenir à la Chaîne Homebrew. Raffraîchissez la liste au besoin et vous pouvez lancer vos homebrews ;) !</p><h6 id="r-mettre-un-mot-de-passe" data-claire-element-id="512456">Mettre un mot de passe</h6><p id="r-512455" data-claire-element-id="512455">Si vous voulez mettre un mot de passe sur le serveur FTP, dans votre carte SD il faudra renommer le dossier &quot;ftpii&quot; en &quot;ftpii_VotreMotDePasse&quot; tout simplement :) .<br/> Après dans FileZilla, il faudra recopier ce même mot de passe dans le champ... &quot;Mot de passe&quot;.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">
<span class="arrow"></span>
<span class="next">Envoyer un fichier sur la Wii avec ftpii</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">
<span class="next">Utiliser la wiimote dans vos programmes sur ordinateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserlawiimotedansvosprogrammessurordinateur"></a><h2>Utiliser la wiimote dans vos programmes sur ordinateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
<span class="arrow"></span>
<span class="next">Installation et utilisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
<span class="next">Installation des outils nécessaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512459" data-claire-element-id="512459">Maintenant que nous avons vu comment utiliser la wiimote sur... la Wii :p , nous allons voir comment l'intégrer dans vos programmes sur ordinateur.</p>
</div><a name="Installationdesoutilsncessaires"></a><h2>Installation des outils nécessaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">
<span class="arrow"></span>
<span class="next">Utiliser la wiimote dans vos programmes sur ordinateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
<span class="next">Utilisation de wiiuse</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-des-outils-necessaires-2" data-claire-element-id="512472">Installation des outils nécessaires</h4><p id="r-512460" data-claire-element-id="512460">Nous allons utiliser l'un des composants de la <em>libogc</em> : la bibliothèque <em>wiiuse</em>.<br/> Il ce peut que ce nom vous évoque ceci :</p><pre id="r-512461" data-claire-element-id="512461"><code data-claire-semantic="cpp">#include &lt;wiiuse/wpad.h&gt;</code></pre><p id="r-512462" data-claire-element-id="512462">Et vous n'avez pas tort :) ! En allant dans ce dossier, vous verrez qu'il y a aussi un fichier wiiuse.h. C'est en fait sur cette lib que se base wpad, lib simplifiée de <em>wiiuse</em>. Malheureusement wpad n'a pas de port autre que la libogc. Donc nous utiliserons directement <em>wiiuse</em>. Vous verrez, elle n'est pas si complexe que ça. Avec elle, vous pourrez même délaisser wpad, et combinée avec la SDL vous pourrez sans aucun problème (ou presque :) ) créer une version Wii et une version ordinateur+wiimote de votre jeu ;) .</p><p id="r-512463" data-claire-element-id="512463">Maintenant que nous avons vu globalement la lib, nous allons la télécharger <a href="http://sourceforge.net/projects/wiiuse/files/">ici</a>. Prenez la version la plus récente, au moment où j'écris ces lignes c'est la 0.12 .<br/> Seuls trois fichiers nous intéresseront dans cette archive :</p><ul id="r-512470" data-claire-element-id="512470"><li id="r-512465" data-claire-element-id="512465"><p id="r-512464" data-claire-element-id="512464"><em>wiiuse.h</em> : mettez-le dans le dossier <em>include/wiiuse</em> de votre environnement de développement pour ordinateur (il faudra créer le dossier wiiuse)</p></li><li id="r-512467" data-claire-element-id="512467"><p id="r-512466" data-claire-element-id="512466"><em>wiiuse.lib</em> : mettez-le dans le dossier <em>lib</em> de votre environnement de développeent pour ordinateur</p></li><li id="r-512469" data-claire-element-id="512469"><p id="r-512468" data-claire-element-id="512468"><em>wiiuse.dll</em> : à distribuer avec vos exécutables.</p></li></ul><p id="r-512471" data-claire-element-id="512471">Et voilà vous venez d'installer <em>wiiuse</em> pour ordinateur :waw: !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">
<span class="arrow"></span>
<span class="next">Utiliser la wiimote dans vos programmes sur ordinateur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
<span class="next">Utilisation de wiiuse</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisationdewiiuse"></a><h2>Utilisation de wiiuse</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
<span class="arrow"></span>
<span class="next">Installation des outils nécessaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
<span class="next">Exercice</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utilisation-de-wiiuse" data-claire-element-id="512526">Utilisation de wiiuse</h4><p id="r-512473" data-claire-element-id="512473">Ici nous allons voir comment combiner <em>wiiuse</em> et SDL. Cette-dernière n'est pas indispensable, mais c'est pour avoir un appui graphique relativement facile à mettre en place. Si vous voulez suivre pleinement ce chapitre je vous conseille <a href="http://www.siteduzero.com/tutoriel-3-14189-apprenez-a-programmer-en-c.html#part_14186">Création de jeux 2D en SDL</a> de <a href="http://www.siteduzero.com/membres-294-3.html">M@teo21</a>.</p><h5 id="r-configuration-du-compilateur" data-claire-element-id="512481">Configuration du compilateur</h5><p id="r-512474" data-claire-element-id="512474">Donc maintenant vous savez qu'il faut linker (testé sous Dev-C++) :</p><pre id="r-512475" data-claire-element-id="512475"><code>-lmingw32
-lSDLmain
-lSDL</code></pre><p id="r-512476" data-claire-element-id="512476">Mais il faut linker <em>wiiuse</em>, ce qui donne :</p><pre id="r-512477" data-claire-element-id="512477"><code>-lmingw32
-lSDLmain
-lSDL
-lwiiuse</code></pre><p id="r-512478" data-claire-element-id="512478">Maintenant il faut inclure la SDL et <em>wiiuse</em>. Si vous l'avez installée comme je l'ai dit vous devriez obtenir :</p><pre id="r-512479" data-claire-element-id="512479"><code data-claire-semantic="cpp">#include &lt;SDL/SDL.h&gt;

#include &lt;wiiuse/wiiuse.h&gt;</code></pre><p id="r-512480" data-claire-element-id="512480">Et c'est tout :soleil: !</p><h5 id="r-les-principales-fonction-de-wiiuse" data-claire-element-id="512525">Les principales fonction de <em>wiiuse</em></h5><p id="r-512482" data-claire-element-id="512482">Maintenant nous allons apprendre à nous servir de cette bibliothèque.<br/> Les Wiimotes devront être contenues dans un double pointeur (un tableau de pointeur). Donc même si nous n'utiliserons qu'une seule Wiimote, les quatre seront accessibles.<br/> La fonction à utiliser pour initialiser les Wiimotes est la suivante :</p><pre id="r-512483" data-claire-element-id="512483"><code data-claire-semantic="cpp">wiimote_t** wiiuse_init(int wiimotes);</code></pre><p id="r-512484" data-claire-element-id="512484">Donc vous l'avez deviné, selon le type de la valeur de retour, notre variable sera un double pointeur de <em>wiimote_t</em>. Et l'argument <em>wiimotes</em> est le nombre de Wiimotes à allouer. Donc ce nombre doit être compris entre 1 et 4.<br/> Ce qui donne déjà :</p><pre id="r-512485" data-claire-element-id="512485"><code data-claire-semantic="cpp">wiimote_t** wiimotes;
wiimotes=wiiuse_init(1);</code></pre><p id="r-512486" data-claire-element-id="512486">Une fois l'initialisation achevée, il faut &quot;trouver&quot; les Wiimotes avant de les connecter. Cette étape se fait par la fonction <code data-claire-semantic="cpp">int wiiuse_find(struct wiimote_t** wm,int max_wiimotes,int timeout); </code> où <em>wm</em> est le double pointeur renvoyé par la fonction <em>wiiuse_init</em>, <em>max_wiimotes</em> le maximum de Wiimotes à trouver, et <em>timeout</em> le temps d'expiration (en ms). Cette fonction renvoie le nombre de Wiimotes connectées. Donc si elle vaut 0 cela signifie qu'aucune Wiimote n'a été trouvée. Dans ce cas, il faudra stopper l'application avec un message d'erreur...</p><p id="r-512487" data-claire-element-id="512487">A présent, on va enfin pouvoir les connecter avec <code data-claire-semantic="cpp">int wiiuse_connect(struct wiimote_t** wm,int wiimotes); </code> où <em>wiimotes</em> est le nombre de Wiimotes à connecter. Si vous avez plus d'une Wiimote à connecter, préférez mettre la valeur de retour de <em>wiiuse_find</em>.</p><p id="r-512488" data-claire-element-id="512488">Ceci va peut-être vous paraître accessoire, mais ça peut être utile pour savoir quelle Wiimote correspond à quel joueur. Vous l'avez peut-être deviné : il s'agit des DEL sur la partie inférieure de la Wiimote. On peut la changer à tout moment avec <code data-claire-semantic="cpp">void wiiuse_set_leds(struct wiimote_t* wm,int leds); </code> où <em>wm</em> est <strong>un simple pointeur</strong> (par exemple wiimotes[0], wiimotes[1], etc.) et <em>leds</em> la DEL à éclairer. Les valeurs possibles sont les suivantes :</p><ul id="r-512499" data-claire-element-id="512499"><li id="r-512490" data-claire-element-id="512490"><p id="r-512489" data-claire-element-id="512489">WIIMOTE_LED_NONE : Aucune DEL (déconseillé car peut faire croire que la Wiimote n'est pas connectée)</p></li><li id="r-512492" data-claire-element-id="512492"><p id="r-512491" data-claire-element-id="512491">WIIMOTE_LED_1 : la première DEL</p></li><li id="r-512494" data-claire-element-id="512494"><p id="r-512493" data-claire-element-id="512493">WIIMOTE_LED_2</p></li><li id="r-512496" data-claire-element-id="512496"><p id="r-512495" data-claire-element-id="512495">WIIMOTE_LED_3</p></li><li id="r-512498" data-claire-element-id="512498"><p id="r-512497" data-claire-element-id="512497">WIIMOTE_LED_4</p></li></ul><p id="r-512500" data-claire-element-id="512500">Si vous voulez faire vibrer les Wiimotes comme sur la Wii (lors de la connexion par exemple), il existe deux fonctions. La première est <code data-claire-semantic="cpp">void wiiuse_rumble(struct wiimote_t* wm,int status); </code> où <em>vm</em> est une case de notre double pointeur, et <em>status</em> le statut du vibreur (0 -&gt; arrêt de la vibration ; 1 -&gt; vibration). L'intérêt de cette fonction est que vous pouvez forcer le vibreur.<br/> L'autre fonction est <code data-claire-semantic="cpp">void wiiuse_toggle_rumble(struct wiimote_t* wm); </code> : si le vibreur fonctionne elle l'arrête et vice-versa. Mais avec cette fonction, si pour une raison ou pour une autre le vibreur n'est pas à la valeur à laquelle vous vous attendiez, vous ferez tout l'inverse de ce que vous vouliez faire ;) .</p><p id="r-512501" data-claire-element-id="512501">Pour activer la fonctionnalité de pointage (IR) nous utiliserons <code data-claire-semantic="cpp">void wiiuse_set_ir(struct wiimote_t* wm,int status); </code> où <em>status</em> représente le status du pointeur IR (0 -&gt; déactivé ; 1 -&gt; activé).<br/> Vous pouvez définir l'espace de pointage avec <code data-claire-semantic="cpp">void wiiuse_set_ir_vres(struct wiimote_t* wm,unsigned int x,unsigned int y); </code> où <em>w</em> et <em>y</em> sont les valeurs maximales pour les X et les Y (la valeur minimale étant 0).</p><h6 id="r-traiter-les-evenements" data-claire-element-id="512520">Traiter les événements</h6><p id="r-512502" data-claire-element-id="512502">Maintenant que nous nous sommes familiarisés avec l'utilisation de la Wiimote sur ordinateur, nous allons voir comment récupérer les événements qui lui sont assignés.<br/> Pour savoir si un événement a été récupéré sur une des Wiimotes nous utiliserons <code data-claire-semantic="cpp">int wiiuse_poll(struct wiimote_t** wm,int wiimotes); </code> où <em>wm</em> est le double pointeur, et <em>wiimotes</em> le ombre de Wiimotes connectées. Cette fonction renvoie 1 dans le cas où un événement est récupéré, et 0 dans le cas contraire.</p><aside id="r-512504" data-claire-element-id="512504" data-claire-semantic="information"><p id="r-512503" data-claire-element-id="512503">J'ai remarqué chez moi que pour que l'événement soit détecté, il faut que la Wiimote pointe vers la SensorBar.</p></aside><p id="r-512505" data-claire-element-id="512505">Pour vérifier quel bouton est appuyé, maintenu ou relâché, nous utiliserons les macros suivantes :</p><ul id="r-512512" data-claire-element-id="512512"><li id="r-512507" data-claire-element-id="512507"><p id="r-512506" data-claire-element-id="512506"><code data-claire-semantic="cpp">IS_PRESSED(dev,button) </code> où <em>dev</em> est une case du double pointeur et <em>button</em> est le bouton à vérifier (pour voir le nom des boutons référez-vous plus bas). Cette fonction s'occupe des boutons qui viennent d'être pressés.</p></li><li id="r-512509" data-claire-element-id="512509"><p id="r-512508" data-claire-element-id="512508"><code data-claire-semantic="cpp">IS_HELD(dev,button) </code> pour savoir si le bouton est maintenu.</p></li><li id="r-512511" data-claire-element-id="512511"><p id="r-512510" data-claire-element-id="512510"><code data-claire-semantic="cpp">IS_RELEASED(dev,button) </code> pour savoir si le bouton est relâché.</p></li></ul><p id="r-512513" data-claire-element-id="512513">Voici donc la liste des boutons (extrait de <em>wiiuse.h</em>) :</p><pre id="r-512514" data-claire-element-id="512514"><code data-claire-semantic="cpp">/* button codes */
#define WIIMOTE_BUTTON_TWO				0x0001
#define WIIMOTE_BUTTON_ONE				0x0002
#define WIIMOTE_BUTTON_B				0x0004
#define WIIMOTE_BUTTON_A				0x0008
#define WIIMOTE_BUTTON_MINUS			0x0010
#define WIIMOTE_BUTTON_ZACCEL_BIT6		0x0020
#define WIIMOTE_BUTTON_ZACCEL_BIT7		0x0040
#define WIIMOTE_BUTTON_HOME				0x0080
#define WIIMOTE_BUTTON_LEFT				0x0100
#define WIIMOTE_BUTTON_RIGHT			0x0200
#define WIIMOTE_BUTTON_DOWN				0x0400
#define WIIMOTE_BUTTON_UP				0x0800
#define WIIMOTE_BUTTON_PLUS				0x1000
#define WIIMOTE_BUTTON_ZACCEL_BIT4		0x2000
#define WIIMOTE_BUTTON_ZACCEL_BIT5		0x4000
#define WIIMOTE_BUTTON_UNKNOWN			0x8000
#define WIIMOTE_BUTTON_ALL				0x1F9F

/* nunchuk button codes */
#define NUNCHUK_BUTTON_Z				0x01
#define NUNCHUK_BUTTON_C				0x02
#define NUNCHUK_BUTTON_ALL				0x03

/* classic controller button codes */
#define CLASSIC_CTRL_BUTTON_UP			0x0001
#define CLASSIC_CTRL_BUTTON_LEFT		0x0002
#define CLASSIC_CTRL_BUTTON_ZR			0x0004
#define CLASSIC_CTRL_BUTTON_X			0x0008
#define CLASSIC_CTRL_BUTTON_A			0x0010
#define CLASSIC_CTRL_BUTTON_Y			0x0020
#define CLASSIC_CTRL_BUTTON_B			0x0040
#define CLASSIC_CTRL_BUTTON_ZL			0x0080
#define CLASSIC_CTRL_BUTTON_FULL_R		0x0200
#define CLASSIC_CTRL_BUTTON_PLUS		0x0400
#define CLASSIC_CTRL_BUTTON_HOME		0x0800
#define CLASSIC_CTRL_BUTTON_MINUS		0x1000
#define CLASSIC_CTRL_BUTTON_FULL_L		0x2000
#define CLASSIC_CTRL_BUTTON_DOWN		0x4000
#define CLASSIC_CTRL_BUTTON_RIGHT		0x8000
#define CLASSIC_CTRL_BUTTON_ALL			0xFEFF

/* guitar hero 3 button codes */
#define GUITAR_HERO_3_BUTTON_STRUM_UP	0x0001
#define GUITAR_HERO_3_BUTTON_YELLOW		0x0008
#define GUITAR_HERO_3_BUTTON_GREEN		0x0010
#define GUITAR_HERO_3_BUTTON_BLUE		0x0020
#define GUITAR_HERO_3_BUTTON_RED		0x0040
#define GUITAR_HERO_3_BUTTON_ORANGE		0x0080
#define GUITAR_HERO_3_BUTTON_PLUS		0x0400
#define GUITAR_HERO_3_BUTTON_MINUS		0x1000
#define GUITAR_HERO_3_BUTTON_STRUM_DOWN	0x4000
#define GUITAR_HERO_3_BUTTON_ALL		0xFEFF</code></pre><p id="r-512515" data-claire-element-id="512515">Essayez de faire une portion de code qui doit quitter le programme en appuyant sur HOME de la première Wiimote en admettant qu'on a ceci :</p><pre id="r-512516" data-claire-element-id="512516"><code data-claire-semantic="cpp">wiimote_t** wiimotes;
wiimotes=wiiuse_init(1);</code></pre><p id="r-512517" data-claire-element-id="512517">Et que tout est bien connecté.</p><div id="r-512519" data-claire-element-id="512519"><pre id="r-512518" data-claire-element-id="512518"><code data-claire-semantic="cpp">if(IS_HELD(wiimotes[0],WIIMOTE_BUTTON_HOME))
    exit(0);</code></pre></div><h6 id="r-recuperer-quelques-donnees-sur-la-wiimote" data-claire-element-id="512524">Récupérer quelques données sur la Wiimote</h6><p id="r-512521" data-claire-element-id="512521">Maintenant vous savez que nos wiimotes sont de type <em>wiimote_t</em>.<br/> Voici ce que cette structure contient :</p><pre id="r-512522" data-claire-element-id="512522"><code data-claire-semantic="cpp">typedef struct wiimote_t {
	WCONST int unid;						/**&lt; user specified id						*/

	#ifndef WIN32
		WCONST bdaddr_t bdaddr;				/**&lt; bt address								*/
		WCONST char bdaddr_str[18];			/**&lt; readable bt address					*/
		WCONST int out_sock;				/**&lt; output socket							*/
		WCONST int in_sock;					/**&lt; input socket 							*/
	#else
		WCONST HANDLE dev_handle;			/**&lt; HID handle								*/
		WCONST OVERLAPPED hid_overlap;		/**&lt; overlap handle							*/
		WCONST enum win_bt_stack_t stack;	/**&lt; type of bluetooth stack to use			*/
		WCONST int timeout;					/**&lt; read timeout							*/
		WCONST byte normal_timeout;			/**&lt; normal timeout							*/
		WCONST byte exp_timeout;			/**&lt; timeout for expansion handshake		*/
	#endif

	WCONST int state;						/**&lt; various state flags					*/
	WCONST byte leds;						/**&lt; currently lit leds						*/
	WCONST float battery_level;				/**&lt; battery level							*/

	WCONST int flags;						/**&lt; options flag							*/

	WCONST byte handshake_state;			/**&lt; the state of the connection handshake	*/

	WCONST struct read_req_t* read_req;		/**&lt; list of data read requests				*/
	WCONST struct accel_t accel_calib;		/**&lt; wiimote accelerometer calibration		*/
	WCONST struct expansion_t exp;			/**&lt; wiimote expansion device				*/

	WCONST struct vec3b_t accel;			/**&lt; current raw acceleration data			*/
	WCONST struct orient_t orient;			/**&lt; current orientation on each axis		*/
	WCONST struct gforce_t gforce;			/**&lt; current gravity forces on each axis	*/

	WCONST struct ir_t ir;					/**&lt; IR data								*/

	WCONST unsigned short btns;				/**&lt; what buttons have just been pressed	*/
	WCONST unsigned short btns_held;		/**&lt; what buttons are being held down		*/
	WCONST unsigned short btns_released;	/**&lt; what buttons were just released this	*/

	WCONST float orient_threshold;			/**&lt; threshold for orient to generate an event */
	WCONST int accel_threshold;				/**&lt; threshold for accel to generate an event */

	WCONST struct wiimote_state_t lstate;	/**&lt; last saved state						*/

	WCONST WIIUSE_EVENT_TYPE event;			/**&lt; type of event that occured				*/
	WCONST byte event_buf[MAX_PAYLOAD];		/**&lt; event buffer							*/
} wiimote;</code></pre><p id="r-512523" data-claire-element-id="512523">Les membres les plus importants sont <em>exp</em>, <em>orient</em>, <em>gforce</em> et <em>ir</em> (et éventuellement <em>battery_level</em>).<br/> Si vous ne savez plus de quoi il s'agit, je vous conseille de relire <a href="http://www.siteduzero.com/tutoriel-3-180365-1-les-evenements.html">Les événements</a> et <a href="http://www.siteduzero.com/tutoriel-3-181072-1-camera-infrarouge-et-capteurs.html">Caméra infrarouge et capteurs</a>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
<span class="arrow"></span>
<span class="next">Installation des outils nécessaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
<span class="next">Exercice</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Exercice"></a><h2>Exercice</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
<span class="arrow"></span>
<span class="next">Utilisation de wiiuse</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">
<span class="next">TP n°2 : The Balance Game !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exercice-48" data-claire-element-id="512537">Exercice</h4><p id="r-512527" data-claire-element-id="512527">L'aspect théorique à présent terminé, nous allons passer à la pratique ;) . Nous n'allons rien faire d'extraordinaire, c'est juste pour s'entraîner.<br/> Alors dans une fenêtre de 640*480 vous devrez déplacer un carré de 10*10 avec l'infrarouge de la Wiimote.<br/> Vous pensez que c'est simple... et vous avez raison :p ! Mais alors essayez de chercher tout seul dans un premier temps, déjà c'est bon au niveau de l'apprentissage, mais aussi vous vous direz que vous l'avez fait tout seul ;) .</p><p id="r-512528" data-claire-element-id="512528">Voici la correction (enfin l'une des possibilités) :</p><div id="r-512530" data-claire-element-id="512530"><pre id="r-512529" data-claire-element-id="512529"><code data-claire-semantic="cpp">#include &lt;cstdio&gt;
#include &lt;cstdlib&gt;

#include &lt;SDL/SDL.h&gt;

#include &lt;wiiuse/wiiuse.h&gt;

int main(int argc,char **argv)
{
    SDL_Surface *ecran=NULL,*sur=NULL;
    SDL_Event event;
    SDL_Rect pos={0,0};
    bool continuer=true;

    wiimote_t** wiimotes;

    SDL_Init(SDL_INIT_VIDEO); //On initialise la SDL

    wiimotes=wiiuse_init(1); //On initialise la premiere Wiimote
    if(!wiiuse_find(wiimotes,1,1000)) //On essaie de la trouver
    {
        fprintf(stderr,&quot;Aucune Wiimote trouvee&quot;);
        exit(EXIT_FAILURE);
    }
    wiiuse_connect(wiimotes,1); //On la connecte
    wiiuse_set_leds(wiimotes[0],WIIMOTE_LED_1); //On fixe sa DEL a la position 1
    wiiuse_rumble(wiimotes[0],1); //On la fait vibrer pendant 400 ms
    SDL_Delay(400);
    wiiuse_rumble(wiimotes[0],0);
    wiiuse_set_ir(wiimotes[0],1); //On active l'infrarouge pour la premiere Wiimote
    wiiuse_set_ir_vres(wiimotes[0],640,480); //On définit l'espace infrarouge a (0-&gt;640 ; 0-&gt;480)

    ecran=SDL_SetVideoMode(640,480,32,SDL_HWSURFACE);

    sur=SDL_CreateRGBSurface(SDL_HWSURFACE,10,10,32,0,0,0,0); //Notre carre 10*10 (rouge)
    SDL_FillRect(sur,NULL,SDL_MapRGB(sur-&gt;format,255,0,0));

    while(continuer)
    {
        SDL_PollEvent(&amp;event); //PollEvent pour ne pas bloquer, car les events Wiimote sont independents de &quot;event&quot;
        if(event.type==SDL_QUIT) //Si on appuie sur la croix on quitte
            continuer=false;
        if(wiiuse_poll(wiimotes,1)) //Si on detecte un event sur l'une des Wiimote
        {
            pos.x=wiimotes[0]-&gt;ir.x-sur-&gt;w/2; //On modifie les coordonnees du carre en fonction de l'infrarouge
            pos.y=wiimotes[0]-&gt;ir.y-sur-&gt;h/2;
            if(IS_HELD(wiimotes[0],WIIMOTE_BUTTON_HOME)) //Si on appuie sur HOME on quitte
                continuer=false;
        }

        SDL_FillRect(ecran,NULL,SDL_MapRGB(ecran-&gt;format,0,0,0));
        SDL_BlitSurface(sur,NULL,ecran,&amp;pos);
        SDL_Flip(ecran);
        SDL_Delay(10);
    }
    SDL_FreeSurface(ecran);
    SDL_FreeSurface(sur);
    SDL_Quit();

    wiiuse_disconnect(wiimotes[0]); //On deconnecte la premiere Wiimote

    return EXIT_SUCCESS;
}</code></pre></div><p id="r-512531" data-claire-element-id="512531">Pour ceux qui veulent voir un screenshot, voici ce que cela donne (j'avais dit qu'il n'y avait rien d'exceptionnel) :</p><figure id="r-512533" data-claire-element-id="512534"><img id="r-512532" data-claire-element-id="512532" src="medias/uploads.siteduzero.com_files_231001_232000_231970.png" alt="Image utilisateur"/></figure><p id="r-512535" data-claire-element-id="512535">Bien sûr, il faudra imaginer que le carré rouge bouge avec le pointeur de la Wiimote :) .<br/> Et voilà, c'est tout pour l'exemple !</p><p id="r-512536" data-claire-element-id="512536">Et voilà, à présent vous pouvez utiliser correctement des Wiimotes dans vos applications sur ordinateur :soleil: !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
<span class="arrow"></span>
<span class="next">Utilisation de wiiuse</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">
<span class="next">TP n°2 : The Balance Game !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPn2TheBalanceGame"></a><h2>TP n°2 : The Balance Game !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
<span class="arrow"></span>
<span class="next">Exercice</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
<span class="next">Préparatifs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-512539" data-claire-element-id="512539">Pour mettre à l'épreuve des connaissances tirées du tutoriel, j'ai décidé de vous faire programmer un jeu ayant pour objet principal la Wii Balance Board. Inutile de vous dire que si vous ne l'avez pas, vous aurez du mal à réaliser ce TP, mais vous pouvez quand même regarder la correction pour voir le genre de code que vous serez sans doute amené à écrire dans de plus gros projets... A la base conçu pour être un exercice de maths, je l'ai adapté en jeu en pensant que ça allait être amusant à programmer et horrible à jouer :diable: ! Enfin... vous aurez le détail de tout ça dans la description du jeu.<br/> Note : Je ne peux pas être tenu responsable de tout ce qui vous arrivera en jouant à ce jeu :p ...</p>
</div><a name="Prparatifs"></a><h2>Préparatifs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">
<span class="arrow"></span>
<span class="next">TP n°2 : The Balance Game !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-preparatifs-8" data-claire-element-id="512563">Préparatifs</h4><p id="r-512540" data-claire-element-id="512540">Le jeu consiste à forcer le joueur à déplacer son centre de gravité pour atteindre des cibles qui rapportent un point (vertes) ou éviter des cibles qui font perdre deux points et qui enlèvent dix secondes (rouges), et ce dans une période de deux minutes. Le but étant bien sûr pour le joueur de faire le meilleur score, mais pour moi il s'agit d'imaginer le joueur se tortiller pour atteindre ou éviter les cibles :p .<br/> Sérieusement, le jeu sera à découper en quatre &quot;scènes&quot;. La première sera toute simple : afficher un texte demandant de connecter la Balance Board et d'appuyer sur A pour continuer. La deuxième sera un décompte de trois secondes pour ne pas surprendre le joueur. La troisième sera le jeu en lui-même, et la dernière sera un petit menu qui affiche le score et demande de rejouer ou de quitter.</p><p id="r-512541" data-claire-element-id="512541">Voilà à quoi ressemble ce jeu chez moi :<br/><a href="http://www.youtube.com/v/j7h5-CAE-88">http://www.youtube.com/v/j7h5-CAE-88</a></p><p id="r-512542" data-claire-element-id="512542">Les ressources (images et police) sont là : <a href="http://www.mediafire.com/?o4e53l4mci1wyol">pack_ressource.zip</a>. Pour information la police utilisée est <a href="http://www.dafont.com/fr/search.php?psize=m&amp;q=cheeseburger">Cheeseburger</a>.</p><p id="r-512543" data-claire-element-id="512543">Si vous ne vous rappelez plus des membres de la structure <em>wii_board_t</em>, jetez un coup d'oeil aux <a href="http://www.siteduzero.com/tutoriel-3-247424-les-evenements.html#ss_part_5">événements de la Wii Balance Board</a> ;) .</p><p id="r-512544" data-claire-element-id="512544">Maintenant occupons-nous du jeu à proprement parler. Tout au long de cette phase des cibles vont apparaître dans l'image de Balance Board à une position aléatoire ; évitez les extrêmes car il est très dur physiquement d'y aller : faites donc une <strong>marge</strong>.<br/> Il doit y a voir 3 chances sur 4 d'obtenir une cible verte et seulement 1 sur 4 de tomber sur une cible rouge (et oui, ce n'est pas drôle si on n'a que des rouges :p ). Les cibles devront s'enchaîner de plus en plus vite au cours du temps. Au début (donc à 2min de la fin) ce temps doit être de 5s, et à 1s de la fin elle doit être de 1s. Pour ceux qui ne tenteraient pas la fonction affine, la voilà :</p><div id="r-512554" data-claire-element-id="512554"><p id="r-512545" data-claire-element-id="512545">x_A = 120000</p><p id="r-512546" data-claire-element-id="512546">y_A = 5000</p><p id="r-512547" data-claire-element-id="512547">x_B = 1000</p><p id="r-512548" data-claire-element-id="512548">y_B = 1000</p><p id="r-512549" data-claire-element-id="512549">f(x) = a imes x + b</p><p id="r-512550" data-claire-element-id="512550">a = \frac{y_A - y_B}{x_A - x_B} = \frac{4}{119} \approx 0.0336</p><p id="r-512551" data-claire-element-id="512551">\frac{4}{119} imes 1000 + b = 1000</p><p id="r-512552" data-claire-element-id="512552">b = 1000-\frac{4000}{119} \approx 966.3866</p><p id="r-512553" data-claire-element-id="512553">f(x) \approx 0.0336 imes x + 966.3866</p></div><p id="r-512555" data-claire-element-id="512555">Orientons-nous vers le coeur du programme : le centre de gravité du joueur. Il faut savoir où le placer, c'est l'un des seuls éléments qui ne sera pas placé au pif. Considérons que la Balance Board constitue un simple rectangle ABCD dont les sommets sont respectivement pondérés par les coefficients a, b, c et d :</p><figure id="r-512557" data-claire-element-id="512558"><img id="r-512556" data-claire-element-id="512556" src="medias/uploads.siteduzero.com_files_248001_249000_248154.png" alt="Image utilisateur"/></figure><p id="r-512559" data-claire-element-id="512559">Nos sommets ont donc maintenant deux définitions qui se complètent : la première est leurs coordonnées (dans les X et les Y) et la deuxième leur coefficient ou encore leur poids. Grâce aux barycentres (je vous avais dit que c'était un petit exo de maths :p ) on peut déterminer la position du point G = bar((A,a),(B,b),(C,c),(D,d)) :</p><p id="r-512560" data-claire-element-id="512560">x_G = \frac{a imes x_A + b imes x_B + c imes x_C + d imes x_D}{a + b + c + d}</p><p id="r-512561" data-claire-element-id="512561">y_G = \frac{a imes y_A + b imes y_B + c imes y_C + d imes y_D}{a + b + c + d}</p><p id="r-512562" data-claire-element-id="512562">La leçon de maths est finie ; maintenant c'est à vous de jouer ;) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">
<span class="arrow"></span>
<span class="next">TP n°2 : The Balance Game !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
<span class="next">Correction</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Correction"></a><h2>Correction</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
<span class="arrow"></span>
<span class="next">Préparatifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
<span class="next">Idées d&#039;amélioration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-correction-176" data-claire-element-id="512573">Correction</h4><p id="r-512564" data-claire-element-id="512564">Alors voici mon code :</p><div id="r-512572" data-claire-element-id="512572"><pre id="r-512565" data-claire-element-id="512565"><code data-claire-semantic="cpp">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;
#include &lt;ogc/lwp_watchdog.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &lt;ftImage.h&gt;

#include &quot;Global.h&quot;
#include &quot;Jeu.h&quot;

using namespace Global;

int main(int argc,char *argv[])
{
    srand(ticks_to_secs(gettick()));

    WPAD_Init();
    
    WPAD_SetVRes(WPAD_CHAN_ALL,640,480);
    WPAD_SetDataFormat(WPAD_CHAN_0,WPAD_FMT_BTNS_ACC_IR);

    gwd.InitVideo();

    initRessource();

    if(connect_board())
        while(1)
        {
            if(!decompte())
                break;
            if(!jeu())
                break;
            if(!fin())
                break;
        }

    return 0;
}</code></pre><pre id="r-512566" data-claire-element-id="512566"><code data-claire-semantic="cpp">#ifndef __GLOBAL__
#define __GLOBAL__

#include &lt;gccore.h&gt;
#include &lt;wiiuse/wpad.h&gt;
#include &lt;ogc/lwp_watchdog.h&gt;

#include &lt;wiisprite/wiisprite.h&gt;

#include &lt;ftImage.h&gt;

#define LARGEUR_ECRAN 640
#define HAUTEUR_ECRAN 480
#define TEMPS_MAX (2*60*1000)

struct Point
{
    int x,y;
};

namespace Global
{
    extern wsp::GameWindow gwd;
    extern wsp::Image im_cursor,im_point,im_target,im_target1,im_wbb;
    extern Color vert,orange,rouge;
    extern wsp::Sprite spr_cursor,spr_point,spr_wbb,spr_target,spr_target1;
    extern int temps_fin,score;
};

void initRessource(); //Fonction qui nitialise toutes les ressources nécessaires (ici les images et les sprites)
int getTicks(); //Fonction qui renvoie l'heure comme time(NULL)
void ticks2clock(int t,int *m,int *s); //Fonction qui transforme des ticks en minutes et secondes
void calc_bary(Point points[],float a,float b,float c,float d,Point *barycentre); //Fonction qui calcule le barycentre de 4 points

#endif</code></pre><pre id="r-512567" data-claire-element-id="512567"><code data-claire-semantic="cpp">#include &quot;Global.h&quot;

//Images
#include &quot;_cursor.h&quot;
#include &quot;_point.h&quot;
#include &quot;_target.h&quot;
#include &quot;_target1.h&quot;
#include &quot;_wbb.h&quot;

namespace Global
{
    wsp::GameWindow gwd;
    wsp::Image im_cursor,im_point,im_target,im_target1,im_wbb;
    ftImage police40(640,480);
    Color vert=Color::Color(0,192,0),orange=Color::Color(255,128,0),rouge=Color::Color(255,0,0);
    wsp::Sprite spr_cursor,spr_point,spr_wbb,spr_target,spr_target1;
    int temps_fin,score;
};

using namespace Global;

void initRessource()
{
    im_cursor.LoadImage(_cursor);
    im_point.LoadImage(_point);
    im_target.LoadImage(_target);
    im_target1.LoadImage(_target1);
    im_wbb.LoadImage(_wbb);

    spr_cursor.SetImage(&amp;im_cursor);
    spr_point.SetImage(&amp;im_point);
    spr_wbb.SetImage(&amp;im_wbb);
    spr_target.SetImage(&amp;im_target);
    spr_target1.SetImage(&amp;im_target1);

    spr_wbb.SetPosition((LARGEUR_ECRAN-spr_wbb.GetWidth())/2,(HAUTEUR_ECRAN-spr_wbb.GetHeight())/2);
}

int getTicks()
{
    return ticks_to_millisecs(gettime());
}

void ticks2clock(int t,int *m,int *s)
{
    *m=t/60000;
    *s=(t/1000)%60;
}

void calc_bary(Point points[],float a,float b,float c,float d,Point *barycentre)
{
    /*Pas besoin de tester si a+b+c+d!=0 car on l'a fait avant l'appel a cette fonction*/
    barycentre-&gt;x=(int)((float)(a*points[0].x+b*points[1].x+c*points[2].x+d*points[3].x)/(a+b+c+d));
    barycentre-&gt;y=(int)((float)(a*points[0].y+b*points[1].y+c*points[2].y+d*points[3].y)/(a+b+c+d));
}</code></pre><pre id="r-512568" data-claire-element-id="512568"><code data-claire-semantic="cpp">#ifndef __JEU__
#define __JEU__

#include &quot;Global.h&quot;

bool connect_board(); //Fonction qui demande de connecter la Balance Board
bool decompte(); //Fonction qui fait le décompte 3-&gt;0
bool jeu(); //Fonction principale du jeu
bool fin(); //Fonction qui demande de rejouer ou de quitter

#endif</code></pre><pre id="r-512569" data-claire-element-id="512569"><code data-claire-semantic="cpp">#include &quot;Jeu.h&quot;
#include &quot;Target.h&quot;

//Font
#include &quot;_cheesebu.h&quot;

using namespace Global;

bool connect_board()
{
    Sprite txt;
    bool continuer=true;

    ftImage im_txt(640,480);
    im_txt.setFont(_cheesebu,_cheesebu_size);
    im_txt.setSize(40);
    im_txt.setColor(vert);
    im_txt.printf(&quot;Connectez la Wii Balance Board\n          et appuyez sur A&quot;);
    im_txt.flush();

    txt.SetImage(&amp;im_txt);
    txt.SetPosition(70,(HAUTEUR_ECRAN-100)/2);

    gwd.SetBackground((GXColor){255,255,255,255});

    while(continuer)
    {
        WPAD_ScanPads();

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_A)
            break;

        GX_SetScissorBoxOffset(0,-31);
        GX_SetScissor(0,0,900,800);

        txt.Draw(0,-31);

        GX_SetScissorBoxOffset(0,0);
        GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());

        gwd.Flush();
    }

    return continuer;
}

bool decompte()
{
    Sprite txt_score,txt_temps,txt_decompte;

    bool continuer=true;
    int n=3;
    float z=6.;
    int m,s;

    ftImage im_txt_score(480,48),im_txt_temps(240,48),im_txt_decompte(40,48);

    ticks2clock(TEMPS_MAX,&amp;m,&amp;s);

    im_txt_score.setFont(_cheesebu,_cheesebu_size);
    im_txt_score.setSize(40);
    im_txt_score.setColor(vert);
    im_txt_score.printf(&quot;Score : 000&quot;);
    im_txt_score.flush();

    im_txt_temps.setFont(_cheesebu,_cheesebu_size);
    im_txt_temps.setSize(40);
    im_txt_temps.setColor(vert);
    im_txt_temps.printf(&quot;%02d:%02d&quot;,m,s);
    im_txt_temps.flush();

    im_txt_decompte.setFont(_cheesebu,_cheesebu_size);
    im_txt_decompte.setSize(40);
    im_txt_decompte.setColor(vert);
    im_txt_decompte.printf(&quot;%d&quot;,n);
    im_txt_decompte.flush();

    txt_score.SetImage(&amp;im_txt_score);
    txt_temps.SetImage(&amp;im_txt_temps);
    txt_decompte.SetImage(&amp;im_txt_decompte);

    txt_temps.SetPosition(LARGEUR_ECRAN-100,HAUTEUR_ECRAN-10-50);
    txt_decompte.SetPosition(LARGEUR_ECRAN/2-15,HAUTEUR_ECRAN/2-30);

    gwd.SetBackground((GXColor){0,0,0,255});

    int temps=getTicks();

    while(continuer&amp;&amp;getTicks()-temps&lt;=3000)
    {
        WPAD_ScanPads();

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;

        txt_decompte.SetZoom(z);

        GX_SetScissorBoxOffset(0,-31);
        GX_SetScissor(0,0,900,800);

        spr_wbb.Draw(0,-31);
        txt_decompte.Draw(0,-31);
        txt_score.Draw(0,-31);
        txt_temps.Draw(0,-31);

        GX_SetScissorBoxOffset(0,0);
        GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());

        gwd.Flush();

        z-=.1;
        if(n!=3-(getTicks()-temps)/1000) //3-(getTicks()-temps)/1000 permet de faire 3-&gt;0
        {
            z=6.;
            n=3-(getTicks()-temps)/1000;

            im_txt_decompte.clear();
            im_txt_decompte.reset();
            im_txt_decompte.printf(&quot;%d&quot;,n);
            im_txt_decompte.flush();
        }
    }

    return continuer;
}

bool jeu()
{
    Sprite txt_score,txt_temps;

    ftImage im_txt_score(480,48),im_txt_temps(240,48);

    im_txt_score.setFont(_cheesebu,_cheesebu_size);
    im_txt_score.setSize(40);
    im_txt_score.setColor(vert);
    im_txt_score.printf(&quot;Score : 000&quot;);
    im_txt_score.flush();

    im_txt_temps.setFont(_cheesebu,_cheesebu_size);
    im_txt_temps.setSize(40);
    im_txt_temps.setColor(vert);
    im_txt_temps.printf(&quot;&quot;);
    im_txt_temps.flush();

    txt_score.SetImage(&amp;im_txt_score);
    txt_temps.SetImage(&amp;im_txt_temps);

    spr_point.SetPosition(LARGEUR_ECRAN,HAUTEUR_ECRAN);

    temps_fin=getTicks()+TEMPS_MAX; //Variable déclarée dans le namespace Global
    score=0;                        //Idem

    txt_temps.SetPosition(LARGEUR_ECRAN-100,HAUTEUR_ECRAN-10-50);

    Target *target=new Target();
    Point pos_wbb={spr_wbb.GetX(),spr_wbb.GetY()};
    Point points[4]={
                        {pos_wbb.x+63,pos_wbb.y+43},         //Point A
                        {pos_wbb.x+63+516,pos_wbb.y+43},     //Point B
                        {pos_wbb.x+63+516,pos_wbb.y+43+302}, //Point C
                        {pos_wbb.x+63,pos_wbb.y+43+302},     //Point D
                    };                                       //Ces points correspondent aux sommets de la Balance Board
    Point barycentre={-1,-1};
    struct expansion_t exp;

    exp.type=WPAD_EXP_WIIBOARD;

    bool continuer=true,visible=true;

    gwd.SetBackground((GXColor){0,0,0,255});

    while(continuer)
    {
        WPAD_ScanPads();
        WPAD_Expansion(WPAD_BALANCE_BOARD,&amp;exp);

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;

        float a=exp.wb.tl,
              b=exp.wb.tr,
              c=exp.wb.br,
              d=exp.wb.bl;
        if(a&gt;=0&amp;&amp;b&gt;=0&amp;&amp;c&gt;=0&amp;&amp;d&gt;=0&amp;&amp;a+b+c+d&gt;=5) //On a des masses, donc pas de valeur negative ; et division par 0 impossible (cf. fonction &quot;calc_bary&quot;) ; par la même occasion j'ai mis un plancher à 5kg pour éviter les valeurs parasites quand on n'est pas sur la Balance Board
        {
            calc_bary(points,a,b,c,d,&amp;barycentre);
            visible=true;
            spr_point.SetPosition(barycentre.x-16,barycentre.y-16);

            if(target-&gt;check(barycentre))
            {
                if(target-&gt;getType()) //Malus
                {
                    score-=2;
                    if(score&lt;0)
                        score=0;
                    temps_fin-=10000; //10 secondes de penalite
                }
                else
                    score++;

                im_txt_score.clear();
                im_txt_score.reset();
                im_txt_score.printf(&quot;Score : %03d&quot;,score);
                im_txt_score.flush();

                target-&gt;reinit();
            }
        }
        else
            visible=false;

        int dtemps=temps_fin-getTicks(),m,s;
        if(dtemps&lt;0)
            break;

        ticks2clock(dtemps,&amp;m,&amp;s);

        im_txt_temps.clear();
        im_txt_temps.reset();
        im_txt_temps.printf(&quot;%02d:%02d&quot;,m,s);
        if(m==0&amp;&amp;s&lt;=10)      //S'il reste 10s ou moins
            im_txt_temps.setColor(rouge);
        else if(m==0&amp;&amp;s&lt;=30) //S'il reste entre 30s et 11s
            im_txt_temps.setColor(orange);
        else
            im_txt_temps.setColor(vert);
        im_txt_temps.flush();

        GX_SetScissorBoxOffset(0,-31);
        GX_SetScissor(0,0,900,800);

        spr_wbb.Draw(0,-31);
        spr_point.Draw(0,-31);

        target-&gt;draw();

        txt_score.Draw(0,-31);
        txt_temps.Draw(0,-31);

        GX_SetScissorBoxOffset(0,0);
        GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());

        gwd.Flush();
    }

    delete target;

    return continuer;
}

bool fin()
{
    Sprite txt_score,txt_rejouer,txt_quitter;
    ftImage im_txt_score(480,48),im_txt_rejouer(640,480),im_txt_quitter(640,480);

    im_txt_score.setFont(_cheesebu,_cheesebu_size);
    im_txt_score.setSize(40);
    im_txt_score.setColor(vert);
    im_txt_score.printf(&quot;Score : %03d&quot;,score);
    im_txt_score.flush();

    im_txt_rejouer.setFont(_cheesebu,_cheesebu_size);
    im_txt_rejouer.setSize(72);
    im_txt_rejouer.setColor(vert);
    im_txt_rejouer.printf(&quot;&quot;);
    im_txt_rejouer.flush();

    im_txt_quitter.setFont(_cheesebu,_cheesebu_size);
    im_txt_quitter.setSize(72);
    im_txt_quitter.setColor(vert);
    im_txt_quitter.printf(&quot;&quot;);
    im_txt_quitter.flush();

    txt_score.SetImage(&amp;im_txt_score);
    txt_rejouer.SetImage(&amp;im_txt_rejouer);
    txt_quitter.SetImage(&amp;im_txt_quitter);

    spr_cursor.SetPosition(LARGEUR_ECRAN,HAUTEUR_ECRAN);

    bool continuer=true;
    int choix=0;
    struct ir_t ir;

    txt_score.SetPosition((LARGEUR_ECRAN-200)/2,20);
    txt_rejouer.SetPosition((LARGEUR_ECRAN-222)/2,HAUTEUR_ECRAN/2-20-75);
    txt_quitter.SetPosition((LARGEUR_ECRAN-217)/2,HAUTEUR_ECRAN/2+20);

    Point pos_txt_rejouer={txt_rejouer.GetX(),txt_rejouer.GetY()},
          pos_txt_quitter={txt_quitter.GetX(),txt_quitter.GetY()};

    gwd.SetBackground((GXColor){255,255,255,255});

    while(continuer)
    {
        WPAD_ScanPads();
        WPAD_IR(WPAD_CHAN_0,&amp;ir);

        u32 pressed = WPAD_ButtonsDown(0);
        if(pressed &amp; WPAD_BUTTON_HOME)
            continuer=false;
        else if(pressed &amp; WPAD_BUTTON_A)
        {
            if(choix==1)
                break;
            else if(choix==2)
                continuer=false;
        }

        Point pos_cursor={(int)ir.x,(int)ir.y};

        spr_cursor.SetPosition(pos_cursor.x,pos_cursor.y);

        if(pos_cursor.x&gt;=pos_txt_rejouer.x&amp;&amp;pos_cursor.x&lt;=pos_txt_rejouer.x+222&amp;&amp;pos_cursor.y&gt;=pos_txt_rejouer.y&amp;&amp;pos_cursor.y&lt;=pos_txt_rejouer.y+75)      //Si le courseur est sur Rejouer
            choix=1;
        else if(pos_cursor.x&gt;=pos_txt_quitter.x&amp;&amp;pos_cursor.x&lt;=pos_txt_quitter.x+217&amp;&amp;pos_cursor.y&gt;=pos_txt_quitter.y&amp;&amp;pos_cursor.y&lt;=pos_txt_quitter.y+75) //Si le curseur est sur Quitter
            choix=2;
        else
            choix=0;

        GX_SetScissorBoxOffset(0,-31);
        GX_SetScissor(0,0,900,800);

        txt_score.Draw(0,-31);

        im_txt_rejouer.clear();
        im_txt_rejouer.reset();
        im_txt_rejouer.setColor(choix==1?orange:vert); //Si on est dessus on écrit en orange sinon en vert
        im_txt_rejouer.printf(&quot;Rejouer&quot;);
        im_txt_rejouer.flush();
        txt_rejouer.Draw(0,-31);

        im_txt_quitter.clear();
        im_txt_quitter.reset();
        im_txt_quitter.setColor(choix==2?orange:vert); //Idem
        im_txt_quitter.printf(&quot;Quitter&quot;);
        im_txt_quitter.flush();
        txt_quitter.Draw(0,-31);

        spr_cursor.Draw(0,-31);

        GX_SetScissorBoxOffset(0,0);
        GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());

        gwd.Flush();
    }

    return continuer;
}</code></pre><pre id="r-512570" data-claire-element-id="512570"><code data-claire-semantic="cpp">#ifndef __TARGET__
#define __TARGET__

#define MARGE 50

#include &quot;Global.h&quot;

int randMinMax(int min,int max); //Fonction qui renvoie un nombre pseudo-aléatoire entre min et max inclus

class Target
{
    public:
        Target();
        void reinit();
        void draw();
        bool check(Point pos_point);
        bool getType();
    private:
        Point pos;
        int delay,creation;
        bool type;
};

#endif</code></pre><pre id="r-512571" data-claire-element-id="512571"><code data-claire-semantic="cpp">#include &lt;cmath&gt;

#include &quot;Target.h&quot;

#include &quot;Global.h&quot;

using namespace Global;

int randMinMax(int min,int max)
{
    return rand()%(max-min+1)+min;
}

bool col_pt(Point p,Point p1,int w,int h)
{
    return p.x&gt;=p1.x&amp;&amp;p.x&lt;=p1.x+w&amp;&amp;p.y&gt;=p1.y&amp;&amp;p.y&lt;=p1.y+h;
}

Target::Target()
{
    reinit();
}
void Target::reinit()
{
    int dtemps=temps_fin-getTicks();
    creation=getTicks();
    delay=(int)(.0336*dtemps+966.3866); //Acceleration au cours du temps
    /* type=0 -&gt; Bonus ; type=1 -&gt; Malus */
    type=(rand()%4==0);//3 chances sur 4 que ce soit un bonus et 1 chance sur 4 que ce soit un malus

    int x_wbb=(LARGEUR_ECRAN-640)/2,y_wbb=(HAUTEUR_ECRAN-388)/2;

    pos.x=randMinMax(x_wbb+63+MARGE,x_wbb+63+516-48-MARGE);
    pos.y=randMinMax(y_wbb+43+MARGE,y_wbb+43+302-48-MARGE);
}
void Target::draw()
{
    if(getTicks()&gt;=creation+delay) //Si le temps d'apparition est ecoule
        reinit();

    GX_SetScissorBoxOffset(0,-31);
    GX_SetScissor(0,0,900,800);

    if(type)
    {
        spr_target1.SetPosition(pos.x,pos.y);
        spr_target1.Draw(0,-31);
    }
    else
    {
        spr_target.SetPosition(pos.x,pos.y);
        spr_target.Draw(0,-31);
    }

    GX_SetScissorBoxOffset(0,0);
    GX_SetScissor(0,0,wsp::GameWindow::GetWidth(),wsp::GameWindow::GetHeight());
}
bool Target::check(Point point)
{
    Point pts[4]={{point.x-16,point.y-16},
                  {point.x+16,point.y-16},
                  {point.x+16,point.y+16},
                  {point.x-16,point.y+16}};
    bool ret=false;
    for(int i=0;i&lt;4;i++)
        ret=ret||col_pt(pts[i],pos,48,48);
    return ret;
}
bool Target::getType()
{
    return type;
}</code></pre></div>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
<span class="arrow"></span>
<span class="next">Préparatifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
<span class="next">Idées d&#039;amélioration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Idesd039amlioration"></a><h2>Idées d&#039;amélioration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-idees-d-amelioration-8" data-claire-element-id="512588">Idées d'amélioration</h4><p id="r-512574" data-claire-element-id="512574">Si vous voulez améliorer votre programme, vous pouvez :</p><ul id="r-512585" data-claire-element-id="512585"><li id="r-512576" data-claire-element-id="512576"><p id="r-512575" data-claire-element-id="512575">Enregistrer les scores et les comparer au meilleur</p></li><li id="r-512578" data-claire-element-id="512578"><p id="r-512577" data-claire-element-id="512577">Créer des cibles qui rajoutent du temps, qui donnent plus de points, qui font disparaître le point rouge :p etc.</p></li><li id="r-512580" data-claire-element-id="512580"><p id="r-512579" data-claire-element-id="512579">Faire plusieurs niveaux de difficulté : plus c'est dur plus les cibles sont éloignées par exemple</p></li><li id="r-512582" data-claire-element-id="512582"><p id="r-512581" data-claire-element-id="512581">Rajouter de la musique</p></li><li id="r-512584" data-claire-element-id="512584"><p id="r-512583" data-claire-element-id="512583">Et bien d'autres choses ;) !</p></li></ul><p id="r-512586" data-claire-element-id="512586">Enfin... C'est vous qui gérez vos programmes, vous pouvez aussi vous inspirer de ce jeu pour en faire un autres, bref faites ce que vous voulez :) !</p><p id="r-512587" data-claire-element-id="512587">Merci d'avoir lu ce tuto :) .<br/> Maintenant que vous savez programmer sur Wii, participez au développement des Homebrews Wii ;) ...</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii">Programmez sur votre Wii !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Les bases
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/avant-propos-10">Avant-propos</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/materiel-requis-1">
Matériel requis
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-1">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-4">
Création d&#039;un projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/l-emulateur-6">
L&#039;émulateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/et-sous-linux-1">
Et sous Linux ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/hello-world-15">Hello World !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-code-18">
Le code
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-evenements-16">Les événements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wiimote">
La wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk">
Le nunchuk
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-classique">
La manette classique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-manette-guitar-hero-3">
La manette Guitar Hero 3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-wii-balance-board">
La Wii Balance Board
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/camera-infrarouge-et-capteurs">Caméra infrarouge et capteurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-la-position-de-la-wiimote">
Récupérer la position de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-l-orientation-et-les-forces-de-la-wiimote">
Récupérer l&#039;orientation et les forces de la Wiimote
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/le-nunchuk-1">
Le nunchuk
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Les techniques avancées
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-1-2">La 2D (1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creer-un-projet-avec-la-libwiisprite">
Créer un projet avec la libwiisprite
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-bases-29">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/animation-transparence-zoom-et-rotation">
Animation, transparence, zoom et rotation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-2d-2-2">La 2D (2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-maps-2">
Les maps
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-collisions-3">
Les collisions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/quelques-methodes-de-sprites">
Quelques méthodes de sprites
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/afficher-du-texte-11">
Afficher du texte
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg1-le-casse-briques">TP n°1 : Le casse-briques</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-7">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-175">
Correction
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-7">
Idées d&#039;amélioration
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-sdl">Utiliser la SDL !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-de-la-sdl-pour-la-wii">
Installation de la SDL pour la Wii
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-la-sdl-pour-la-wii">
Utilisation de la SDL pour la Wii
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sons-3">Les sons</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-une-musique-mp3">
Jouer une musique MP3
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/jouer-un-son-1">
Jouer un son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-fichiers-3">Les fichiers</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/lire-et-ecrire-dans-un-fichier-3">
Lire et écrire dans un fichier
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-3d-1">La 3D</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-74">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/creation-d-un-projet-simple">
Création d&#039;un projet simple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-textures-9">
Les textures
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/la-connexion-wifi">La connexion Wifi</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/recuperer-ses-donnees">
Récupérer ses données
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/les-sockets-4">
Les sockets
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 3</span>
Annexes
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/envoyer-un-fichier-sur-la-wii-avec-ftpii">Envoyer un fichier sur la Wii avec ftpii</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-et-utilisation">
Installation et utilisation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utiliser-la-wiimote-dans-vos-programmes-sur-ordinateur">Utiliser la wiimote dans vos programmes sur ordinateur</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/installation-des-outils-necessaires-2">
Installation des outils nécessaires
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/utilisation-de-wiiuse">
Utilisation de wiiuse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/exercice-48">
Exercice
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/tp-ndeg2-the-balance-game">TP n°2 : The Balance Game !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/preparatifs-8">
Préparatifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
Correction
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/idees-d-amelioration-8">
Idées d&#039;amélioration
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/programmez-sur-votre-wii/correction-176">
<span class="arrow"></span>
<span class="next">Correction</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/rogrammez-sur-votre-wii.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:13:40 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/rogrammez-sur-votre-wii.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:08:02 GMT -->
</html>
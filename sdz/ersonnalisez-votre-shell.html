<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/ersonnalisez-votre-shell.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:01:18 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/ersonnalisez-votre-shell.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:36:45 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Personnalisez votre shell</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/personnalisez-votre-shell.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Personnalisez votre shell</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Personnalisezvotreshell">Personnalisez votre shell</a><br/><a href="#Lathorie">La théorie</a><br/><a href="#ConfigurezlavariablePS1">Configurez la variable $PS1</a><br/><a href="#ConfigurezlavariablePATH">Configurez la variable $PATH</a><br/><a href="#Crezvosaliases">Créez vos aliases</a><br/><a href="#DonnezvievotreterminalavecCowsay">Donnez vie à votre terminal avec Cowsay</a><br/></div>
<a name="Personnalisezvotreshell"></a><h2>Personnalisez votre shell</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
<span class="next">La théorie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-557033" data-claire-element-id="557033">Bonjour à tous !</p><p id="r-557034" data-claire-element-id="557034">Après avoir vu comment rendre un peu de gaieté et de couleur à votre shell bash dans le tutoriel <a href="http://www.siteduzero.com/tutoriel-3-38192-personnalisez-votre-shell-en-couleur.html">Personnalisez votre shell en couleur !</a> avec <a href="http://www.siteduzero.com/membres-294-22855.html">utb_diablo</a>, nous allons aujourd'hui voir quelques petites astuces permettant de pousser la personnalisation un peu plus loin : ce tutoriel se veut complémentaire avec celui de <a href="http://www.siteduzero.com/membres-294-22855.html">utb_diablo</a>.</p><p id="r-557035" data-claire-element-id="557035">On va ainsi voir comment ajouter des informations additionnelles dans l'invite de commande, comment créer un alias ou encore comment modifier la valeur de la variable d'environnement $PATH.</p>
</div><a name="Lathorie"></a><h2>La théorie</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
<span class="next">Configurez la variable $PS1</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-557036" data-claire-element-id="557036">Comme toujours, on va un peu parler de théorie avant de passer à la pratique, histoire de bien comprendre ce qu'on fait. Nous allons donc voir les outils qui s'offrent à nous afin de personnaliser notre shell. Notons bien que chaque utilisateur de votre système pourra personnaliser son shell comme il l'entend.</p><h2 id="r-le-shell" data-claire-element-id="557054">Le shell</h2><p id="r-557037" data-claire-element-id="557037">Un shell est un logiciel fournissant une interface pour utilisateur, le plus souvent en ligne de commande. Il est donc un interpréteur de commandes et offre la possibilité d'interagir avec la machine.</p><p id="r-557038" data-claire-element-id="557038">On interagit donc avec le système au moyen du shell, au travers de la console ou bien d'un terminal graphique qui est une émulation de cette dernière.</p><p id="r-557039" data-claire-element-id="557039">Historiquement, le premier shell utilisé sous les systèmes d'exploitation de type UNIX était le bourne shell (sh) qui a évolué en d'autres versions plus performantes. Parmi les shells utilisés aujourd'hui, on rencontre</p><ul id="r-557052" data-claire-element-id="557052"><li id="r-557041" data-claire-element-id="557041"><p id="r-557040" data-claire-element-id="557040">Almquist SHell (ash)</p></li><li id="r-557043" data-claire-element-id="557043"><p id="r-557042" data-claire-element-id="557042">Bourne-Again SHell (bash)</p></li><li id="r-557045" data-claire-element-id="557045"><p id="r-557044" data-claire-element-id="557044">C SHell (csh)</p></li><li id="r-557047" data-claire-element-id="557047"><p id="r-557046" data-claire-element-id="557046">Korn SHell (ksh)</p></li><li id="r-557049" data-claire-element-id="557049"><p id="r-557048" data-claire-element-id="557048">Tenex C SHell (tcsh)</p></li><li id="r-557051" data-claire-element-id="557051"><p id="r-557050" data-claire-element-id="557050">etc.</p></li></ul><p id="r-557053" data-claire-element-id="557053">Dans notre cas, nous utiliserons l'interpréteur de commandes bash, il est en effet le plus utilisé sur les systèmes GNU/Linux, il est rapide, simple et puissant.</p><h2 id="r-configuration-de-bash" data-claire-element-id="557082">Configuration de bash</h2><p id="r-557055" data-claire-element-id="557055">Le paramétrage de notre shell bash se passe au niveau de son fichier de configuration : .bashrc.</p><p id="r-557056" data-claire-element-id="557056">Le point indique que le fichier est masqué, il suffit de lancer <code data-claire-semantic="console">ls -a</code> pour qu'il révèle sa présence. Ce fichier, qui se situe dans votre répertoire personnel, est lu et exécuté par bash à chaque fois que ce dernier est lancé de façon interactive, i.e. via l'ouverture d'un terminal. Si vous vous loggez en console, c'est le fichier .bash_profile, également situé dans votre répertoire personnel, qui sera lu et exécuté.</p><p id="r-557057" data-claire-element-id="557057">Voici un aperçu d'un .bashrc très simple</p><pre id="r-557058" data-claire-element-id="557058"><code data-claire-semantic="console"># Check for an interactive session
[ -z &quot;$PS1&quot; ] &amp;&amp; return

alias ls='ls --color=auto'
PS1='[\u@\h \W]\$ '</code></pre><p id="r-557059" data-claire-element-id="557059">Il y a deux choses importantes à noter dans ce fichier, la ligne parlant d'alias ainsi que celle commençant par PS1.</p><h3 id="r-les-aliases" data-claire-element-id="557068">Les aliases</h3><p id="r-557060" data-claire-element-id="557060">Les aliases (pluriel de alias) sont des façons alternatives de dénommer quelqu'un ou quelque chose, au sens où tout le monde l'entend. Il n'est pas rare d'entendre l'expression AKA (pour &quot;also known as&quot; qui signifie &quot;également connu comme [étant]&quot;) dans le langage courant.</p><p id="r-557061" data-claire-element-id="557061">Dans notre cas, c'est exactement la même chose. On fera référence à une commande en employant en pseudonyme, en quelque sorte.<br/> Vous pouvez vous demander l'utilité d'une telle méthode, nous allons la voir immédiatement au travers d'un exemple.</p><p id="r-557062" data-claire-element-id="557062">Supposons que vous ayez à exécuter une commande quelques fois (si ce n'est qu'une fois, effectivement ça ne sert à rien); comme par exemple vous connecter à un serveur distant en utilisant le protocole SSH. Vous devez naturellement exécuter la commande basique suivante</p><pre id="r-557063" data-claire-element-id="557063"><code data-claire-semantic="console">ssh utilisateur@serveurdistant</code></pre><p id="r-557064" data-claire-element-id="557064">Même si ce n'est pas très contraignant, certaines commandes sont parfois beaucoup plus longues. On aimerait bien pouvoir les exécuter de façon plus rapide. C'est là que les aliases interviennent. On peut faire référence à cette commande à l'aide d'un alias, qu'on saisira en lieu et place de la commande initiale.</p><p id="r-557065" data-claire-element-id="557065">Ainsi, si on choisit l'alias &quot;server&quot; pour la commande ci-dessus, on lancera</p><pre id="r-557066" data-claire-element-id="557066"><code data-claire-semantic="console">server</code></pre><p id="r-557067" data-claire-element-id="557067">et bash comprendra qu'on fait référence à la commande de connexion à notre serveur et l'exécutera, en conséquence. C'est assez pratique si on veut avoir à éviter de taper chaque fois une commande.</p><h3 id="r-la-variable-d-environnement-ps1" data-claire-element-id="557073">La variable d'environnement $PS1</h3><p id="r-557069" data-claire-element-id="557069">La variable d'environnement $PS1 est affichée à chaque ligne de commande tapée, il s'agit du prompt de base :</p><pre id="r-557070" data-claire-element-id="557070"><code data-claire-semantic="console">[renaud@renaud-laptop ~]$</code></pre><p id="r-557071" data-claire-element-id="557071">Typiquement, cette variable donne des informations importantes, elle affiche : [utilisateur@machine répertoireCourant]privilège dans ce cas-ci.</p><p id="r-557072" data-claire-element-id="557072">Nous verrons en partie pratique comment modifier la valeur de la variable $PS1, avec les conséquences que ça aura sur notre invite de commande. Nous pourrons notamment afficher la date, notre position actuelle dans l'arborescence (plus uniquement le répertoire courant) ainsi qu'une foule d'autres informations.</p><h3 id="r-la-variable-d-environnement-path" data-claire-element-id="557081">La variable d'environnement $PATH</h3><p id="r-557074" data-claire-element-id="557074">Cette variable recense les répertoires où sont situés les exécutables que le shell lance lorsque vous lui adressez une commande. Ainsi, si vous voulez lister le contenu d'un répertoire, vous lancerez basiquement la commande <code data-claire-semantic="console">ls</code>.</p><p id="r-557075" data-claire-element-id="557075">Bash ira consulter le contenu de la variable $PATH et ira chercher l'exécutable dans un des répertoires listés. Bien souvent, les commandes basiques sont situées dans /bin, /usr/bin, /usr/sbin : c'est le cas de la commande ls. Ces répertoires doivent donc être renseignés dans votre variable $PATH.</p><p id="r-557076" data-claire-element-id="557076">Notons que bash ira chercher la commande dans les répertoires <em>dans l'ordre précisé</em>.</p><p id="r-557077" data-claire-element-id="557077">Ainsi, si vous voulez exécuter la commande <code data-claire-semantic="console">dhcpcd</code> qui se situe au sein du répertoire /sbin et que votre variable $PATH contient, dans l'ordre, les répertoires /bin, /usr/bin, /sbin, bash tentera d'abord d'aller chercher l'exécutable associé dans /bin. Voyant qu'il ne s'y trouve pas, il passera au répertoire cible suivant : /usr/bin. Vu qu'il n'y est pas non plus, il finira par scanner le répertoire /sbin, au sein duquel il trouvera l'exécutable approprié.</p><p id="r-557078" data-claire-element-id="557078">Cette variable nous évite d'avoir à préciser systématiquement le chemin absolu entier vers la commande. On peut donc lancer ls à la place de /bin/ls, même si ça aurait fonctionné aussi bien.</p><aside id="r-557080" data-claire-element-id="557080" data-claire-semantic="warning"><p id="r-557079" data-claire-element-id="557079">Avant toute manipulation, pensez à sauvegarder le contenu de votre fichier .bashrc, on ne sait jamais.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell">Personnalisez votre shell</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
Configurez la variable $PS1
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
Configurez la variable $PATH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
Créez vos aliases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
Donnez vie à votre terminal avec Cowsay
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
<span class="next">Configurez la variable $PS1</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfigurezlavariablePS1"></a><h2>Configurez la variable $PS1</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
<span class="arrow"></span>
<span class="next">La théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
<span class="next">Configurez la variable $PATH</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-modification-de-la-variable-ps1" data-claire-element-id="557190">Modification de la variable $PS1</h2><p id="r-557084" data-claire-element-id="557084">On va ici s'intéresser à la variable $PS1 qui définit la façon dont le shell s'adresse à nous.<br/> Observons donc le contenu de ma variable $PS1 et décortiquons-le.</p><pre id="r-557085" data-claire-element-id="557085"><code data-claire-semantic="console">[renaud@renaud-laptop ~]$ echo $PS1
[\u@\h \W]\$</code></pre><p id="r-557086" data-claire-element-id="557086">Comme vous le voyez, les crochets sont affichés en tant que tel, mais ce qui est précédé d'un backslash &quot;\&quot; est interprété. Ce n'est pas plus compliqué que ça.<br/> Voici un petit tableau qui recense quelques valeurs à passer ainsi que leurs conséquences</p><table id="r-557169" data-claire-element-id="557169"><thead id="r-557092" data-claire-element-id="557092"><tr id="r-557091" data-claire-element-id="557091"><th id="r-557088" data-claire-element-id="557088"><p id="r-557087" data-claire-element-id="557087">Combinaison</p></th><th id="r-557090" data-claire-element-id="557090"><p id="r-557089" data-claire-element-id="557089">Effet</p></th></tr></thead><tbody id="r-557168" data-claire-element-id="557168"><tr id="r-557097" data-claire-element-id="557097"><td id="r-557094" data-claire-element-id="557094"><p id="r-557093" data-claire-element-id="557093">\u</p></td><td id="r-557096" data-claire-element-id="557096"><p id="r-557095" data-claire-element-id="557095">nom de l'utilisateur courant</p></td></tr><tr id="r-557102" data-claire-element-id="557102"><td id="r-557099" data-claire-element-id="557099"><p id="r-557098" data-claire-element-id="557098">\h</p></td><td id="r-557101" data-claire-element-id="557101"><p id="r-557100" data-claire-element-id="557100">nom de la machine</p></td></tr><tr id="r-557107" data-claire-element-id="557107"><td id="r-557104" data-claire-element-id="557104"><p id="r-557103" data-claire-element-id="557103">\W</p></td><td id="r-557106" data-claire-element-id="557106"><p id="r-557105" data-claire-element-id="557105">nom du répertoire courant</p></td></tr><tr id="r-557112" data-claire-element-id="557112"><td id="r-557109" data-claire-element-id="557109"><p id="r-557108" data-claire-element-id="557108">\$</p></td><td id="r-557111" data-claire-element-id="557111"><p id="r-557110" data-claire-element-id="557110">privilège de l'utilisateur courant</p></td></tr><tr id="r-557117" data-claire-element-id="557117"><td id="r-557114" data-claire-element-id="557114"><p id="r-557113" data-claire-element-id="557113">\d</p></td><td id="r-557116" data-claire-element-id="557116"><p id="r-557115" data-claire-element-id="557115">date courante (au format lun. janv. 1)</p></td></tr><tr id="r-557122" data-claire-element-id="557122"><td id="r-557119" data-claire-element-id="557119"><p id="r-557118" data-claire-element-id="557118">\w</p></td><td id="r-557121" data-claire-element-id="557121"><p id="r-557120" data-claire-element-id="557120">chemin complet du répertoire de travail</p></td></tr><tr id="r-557127" data-claire-element-id="557127"><td id="r-557124" data-claire-element-id="557124"><p id="r-557123" data-claire-element-id="557123">\A</p></td><td id="r-557126" data-claire-element-id="557126"><p id="r-557125" data-claire-element-id="557125">heure format 24h sans les secondes</p></td></tr><tr id="r-557132" data-claire-element-id="557132"><td id="r-557129" data-claire-element-id="557129"><p id="r-557128" data-claire-element-id="557128"></p></td><td id="r-557131" data-claire-element-id="557131"><p id="r-557130" data-claire-element-id="557130">heure format 24h avec les secondes</p></td></tr><tr id="r-557137" data-claire-element-id="557137"><td id="r-557134" data-claire-element-id="557134"><p id="r-557133" data-claire-element-id="557133">\@</p></td><td id="r-557136" data-claire-element-id="557136"><p id="r-557135" data-claire-element-id="557135">heure format 12h sans les secondes</p></td></tr><tr id="r-557142" data-claire-element-id="557142"><td id="r-557139" data-claire-element-id="557139"><p id="r-557138" data-claire-element-id="557138">\T</p></td><td id="r-557141" data-claire-element-id="557141"><p id="r-557140" data-claire-element-id="557140">heure format 12h avec les secondes</p></td></tr><tr id="r-557147" data-claire-element-id="557147"><td id="r-557144" data-claire-element-id="557144"><p id="r-557143" data-claire-element-id="557143">\D{%d-%m-%Y %H:%M:%S%z}</p></td><td id="r-557146" data-claire-element-id="557146"><p id="r-557145" data-claire-element-id="557145">Date et heure dans un format personnalisable</p></td></tr><tr id="r-557152" data-claire-element-id="557152"><td id="r-557149" data-claire-element-id="557149"><p id="r-557148" data-claire-element-id="557148">\j</p></td><td id="r-557151" data-claire-element-id="557151"><p id="r-557150" data-claire-element-id="557150">nombre de tâches en cours dans le terminal</p></td></tr><tr id="r-557157" data-claire-element-id="557157"><td id="r-557154" data-claire-element-id="557154"><p id="r-557153" data-claire-element-id="557153">\#</p></td><td id="r-557156" data-claire-element-id="557156"><p id="r-557155" data-claire-element-id="557155">numéro de la commande dans l'historique</p></td></tr><tr id="r-557162" data-claire-element-id="557162"><td id="r-557159" data-claire-element-id="557159"><p id="r-557158" data-claire-element-id="557158">\v</p></td><td id="r-557161" data-claire-element-id="557161"><p id="r-557160" data-claire-element-id="557160">version de bash</p></td></tr><tr id="r-557167" data-claire-element-id="557167"><td id="r-557164" data-claire-element-id="557164"><p id="r-557163" data-claire-element-id="557163"></p></td><td id="r-557166" data-claire-element-id="557166"><p id="r-557165" data-claire-element-id="557165">nouvelle ligne</p></td></tr></tbody></table><p id="r-557170" data-claire-element-id="557170"><em>Tableau recensant les diverses valeurs et les effets associés<br/></em><br/> Comme vous le voyez, il y a toute une panoplie de valeurs qui peuvent être passées à la variable $PS1. À vous de trouver ce qui vous convient le mieux. Vu la multitude de combinaisons différentes à réaliser, vous avez le choix !</p><p id="r-557171" data-claire-element-id="557171">En plus de ça, on peut même passer du texte pour que notre shell nous dise ce qu'on a envie. Il suffit pour cela d'inscrire le texte entre guillemets (simples ou doubles, ça ne change rien).</p><aside id="r-557173" data-claire-element-id="557173" data-claire-semantic="warning"><p id="r-557172" data-claire-element-id="557172">Une ambiguïté doit être levée. Si vous remarquez bien, ma variable $PS1 contient les caractères \u@ et le tableau \u et \@. Il faut prendre garde au fait que le @ dans ma variable n'est pas interprété, il est affiché comme tel, pour signifier &quot;chez&quot;. Si j'avais fait précéder le @ d'un backslash, il aurait été interprété et aurait eu la conséquence détaillée dans le tableau ci-dessus.</p></aside><p id="r-557174" data-claire-element-id="557174">On va voir 2 exemples pour un peu voir comment ça fonctionne, ensuite on verra comment les appliquer en pratique.</p><p id="r-557175" data-claire-element-id="557175">Supposons que vous souhaitiez que votre shell vous dise bonjour, quelle heure il est et vous demande de lancer une commande, vous remplirez votre variable $PS1 comme ceci</p><pre id="r-557176" data-claire-element-id="557176"><code data-claire-semantic="console">'bonjour \u il est \t , lance une commande :'</code></pre><p id="r-557177" data-claire-element-id="557177">qui produira le résultat suivant :</p><pre id="r-557178" data-claire-element-id="557178"><code data-claire-semantic="console">bonjour renaud il est 16:48:14 , lance une commande :</code></pre><p id="r-557179" data-claire-element-id="557179">Si vous souhaitez plutôt que votre shell vous dise la date, l'heure et votre position actuelle dans l'arborescence des fichiers, vous remplirez votre variable avec ceci</p><pre id="r-557180" data-claire-element-id="557180"><code data-claire-semantic="console">'\u, nous sommes le \d, il est \t , et tu te situes en \w'</code></pre><p id="r-557181" data-claire-element-id="557181">qui produira le résultat suivant</p><pre id="r-557182" data-claire-element-id="557182"><code data-claire-semantic="console">renaud, nous sommes le sam aoû 28, il est 16:53:59 , et tu te situes en ~</code></pre><aside id="r-557184" data-claire-element-id="557184" data-claire-semantic="information"><p id="r-557183" data-claire-element-id="557183">Notez bien que le tilde ~ signifie que je me situe dans mon répertoire personnel.</p></aside><h3 id="r-comment-modifier-le-contenu-de-la-variable-ps1" data-claire-element-id="557189">Comment modifier le contenu de la variable $PS1 ?</h3><p id="r-557185" data-claire-element-id="557185">C'est très simple, si vous voulez modifier votre configuration, en choisissant un format Nom_d'utilisateur@Nom_de_la_machine heure&gt;, alors vous ferez</p><pre id="r-557186" data-claire-element-id="557186"><code data-claire-semantic="console">export PS1=&quot;\u@\h \A&gt; &quot;</code></pre><p id="r-557187" data-claire-element-id="557187">Ce changement est cependant temporaire, c'est-à-dire que quand vous relancerez bash, le contenu de .bashrc sera à nouveau lu et exécuté, rendant inutiles les modifications précédentes. Pour rendre les changements permanents, ouvrez votre fichier .bashrc avec votre éditeur préféré et repérez la ligne commençant par PS1=...</p><p id="r-557188" data-claire-element-id="557188">Ensuite, modifiez cette ligne de façon appropriée pour que vos changements soient pris en compte à l'avenir.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell">Personnalisez votre shell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
La théorie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
Configurez la variable $PS1
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
Configurez la variable $PATH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
Créez vos aliases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
Donnez vie à votre terminal avec Cowsay
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
<span class="arrow"></span>
<span class="next">La théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
<span class="next">Configurez la variable $PATH</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfigurezlavariablePATH"></a><h2>Configurez la variable $PATH</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
<span class="arrow"></span>
<span class="next">Configurez la variable $PS1</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
<span class="next">Créez vos aliases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-557192" data-claire-element-id="557192">Nous allons maintenant nous attacher à modifier le contenu de cette fameuse variable !<br/> Commençons par afficher ce qu'elle contient, via la commande</p><pre id="r-557193" data-claire-element-id="557193"><code data-claire-semantic="console">echo $PATH</code></pre><p id="r-557194" data-claire-element-id="557194">Vous devriez voir apparaître les chemins absolus vers les répertoires listés dans la variable $PATH.<br/> Nous l'avons vu, lorsque vous exécutez une commande, le shell va chercher les exécutables dans les dossiers listés dans leur ordre d'apparition. Que faire alors, si une commande n'est pas unique, ou si le shell renvoie l'erreur &quot;command not found&quot; ?</p><p id="r-557195" data-claire-element-id="557195">Nous l'avons vu, pour lancer une commande, on peut</p><ul id="r-557202" data-claire-element-id="557202"><li id="r-557197" data-claire-element-id="557197"><p id="r-557196" data-claire-element-id="557196">l'appeler par son nom (ls)</p></li><li id="r-557199" data-claire-element-id="557199"><p id="r-557198" data-claire-element-id="557198">l'appeler via son chemin absolu (/bin/ls)</p></li><li id="r-557201" data-claire-element-id="557201"><p id="r-557200" data-claire-element-id="557200">l'appeler via son chemin relatif (../../bin/ls)</p></li></ul><p id="r-557203" data-claire-element-id="557203">Plaçons nous dans le cas d'une commande multiple. Ça peut arriver, par exemple, si vous installez une version plus récente et que vous installez l'exécutable à un autre endroit que celui prévu initialement.<br/> Dans ce cas, soit vous modifiez l'ordre des répertoires dans votre variable $PATH, soit vous entrez le chemin complet vers la commande.</p><p id="r-557204" data-claire-element-id="557204">Plaçons nous maintenant dans le cas d'un &quot;command not found&quot; en supposant que la syntaxe de la commande soit correcte. C'est alors que le répertoire contenant l'exécutable n'est pas renseigné.</p><h3 id="r-comment-modifier-le-contenu-de-la-variable-path" data-claire-element-id="557214">Comment modifier le contenu de la variable $PATH ?</h3><p id="r-557205" data-claire-element-id="557205">Si vous voulez ajouter le répertoire /home/foo/program en dernier, on fera</p><pre id="r-557206" data-claire-element-id="557206"><code data-claire-semantic="console">export PATH=$PATH:/home/foo/program</code></pre><p id="r-557207" data-claire-element-id="557207">Si on veut l'ajouter en premier, on fera</p><pre id="r-557208" data-claire-element-id="557208"><code data-claire-semantic="console">export PATH=/home/foo/program/:$PATH</code></pre><p id="r-557209" data-claire-element-id="557209">Notez que ces changements ne sont valables uniquement que pour la session en cours, lorsque vous relancerez bash, $PATH reprendra la valeur par défaut.</p><p id="r-557210" data-claire-element-id="557210">Pour y remédier, on va tout simplement modifier le contenu de notre .bashrc en utilisant les flux de redirection, qui permettront d'écrire dans le fichier. Si vous voulez ajouter /home/foo/program en dernier, de façon permanente, vous ferez</p><pre id="r-557211" data-claire-element-id="557211"><code data-claire-semantic="console">echo 'export PATH=$PATH:/home/foo/program' &gt;&gt; /home/user/.bashrc</code></pre><aside id="r-557213" data-claire-element-id="557213" data-claire-semantic="warning"><p id="r-557212" data-claire-element-id="557212">Remarquez l'importance des deux chevrons fermant &quot;&gt;&gt;&quot; qui permettent d'ajouter le résultat de la commande les précédant à la fin du fichier cible. Si vous n'en mettez qu'un seul, le contenu du fichier sera écrasé. Prudence donc !</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell">Personnalisez votre shell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
Configurez la variable $PS1
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
Configurez la variable $PATH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
Créez vos aliases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
Donnez vie à votre terminal avec Cowsay
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
<span class="arrow"></span>
<span class="next">Configurez la variable $PS1</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
<span class="next">Créez vos aliases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crezvosaliases"></a><h2>Créez vos aliases</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
<span class="arrow"></span>
<span class="next">Configurez la variable $PATH</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
<span class="next">Donnez vie à votre terminal avec Cowsay</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-557216" data-claire-element-id="557216">Comme expliqué en théorie, les aliases sont très pratiques pour nous simplifier la vie. On va voir au travers d'un exemple comment s'en servir.</p><p id="r-557217" data-claire-element-id="557217">Supposons que nous voulions afficher le contenu d'un dossier, y compris les fichiers cachés, avec un format des noms de fichiers long et rendu facilement compréhensible pour les humains. Nous ferons</p><pre id="r-557218" data-claire-element-id="557218"><code data-claire-semantic="console">ls -alh /dossier</code></pre><p id="r-557219" data-claire-element-id="557219">ce qui peut ennuyer certains s'ils doivent l'exécuter plusieurs fois. Créons donc un alias, que nous appellerons arbitrairement (appelez-le comme vous voulez) llf (pour list long format).</p><aside id="r-557221" data-claire-element-id="557221" data-claire-semantic="warning"><p id="r-557220" data-claire-element-id="557220">Il est évident que ce n'est pas une bonne idée d'utiliser un alias déjà existant. Ainsi, ne renommez pas votre commande man ou ifconfig, par exemple. En réalité, si vous faisiez cela, c'est l'alias que vous avez créé qui serait pris en considération, non plus la commande au sens courant.</p></aside><p id="r-557222" data-claire-element-id="557222">Allons-y, créons notre alias. Cela se fait via la commande suivante</p><pre id="r-557223" data-claire-element-id="557223"><code data-claire-semantic="console">alias llf='ls -alh'</code></pre><p id="r-557224" data-claire-element-id="557224">Désormais, lorsque nous saisirons <code data-claire-semantic="console">llf</code> à l'invite de commande, bash comprendra qu'il s'agit d'un alias qui pointe vers <code data-claire-semantic="console">ls -alh</code>.</p><p id="r-557225" data-claire-element-id="557225">Vous en avez l'habitude maintenant, vous savez bien que nos aliases ne sont valables que pour la session courante. Il suffit de les ajouter au .bashrc avec votre éditeur de texte favori.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell">Personnalisez votre shell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
Configurez la variable $PS1
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
Configurez la variable $PATH
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
Créez vos aliases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
Donnez vie à votre terminal avec Cowsay
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
<span class="arrow"></span>
<span class="next">Configurez la variable $PATH</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
<span class="next">Donnez vie à votre terminal avec Cowsay</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="DonnezvievotreterminalavecCowsay"></a><h2>Donnez vie à votre terminal avec Cowsay</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
<span class="arrow"></span>
<span class="next">Créez vos aliases</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-557227" data-claire-element-id="557227">Enfin, nous allons voir un petit programme qui permet d'ajouter un peu de gaieté à votre shell, il s'agit de cowsay.</p><p id="r-557228" data-claire-element-id="557228">Il s'agit d'un petit utilitaire qui permet de générer des dessins en <a href="http://fr.wikipedia.org/wiki/Art_ASCII">ASCII</a> que vous pourrez utiliser pour décorer votre invite de commande. À la base, le programme est censé faire uniquement &quot;des vaches qui parlent&quot;, d'où le nom cowsay, mais on peut créer soi-même ses images !</p><p id="r-557229" data-claire-element-id="557229">Vous pourriez ainsi décider d'opter pour une image de Bart Simpson, comme <a href="http://www.siteduzero.com/membres-294-3.html">M@teo21</a> dans son tutoriel <a href="http://www.siteduzero.com/tutoriel-3-12827-reprenez-le-controle-a-l-aide-de-linux.html">reprenez le contrôle avec GNU/Linux</a>.</p><figure id="r-557231" data-claire-element-id="557232"><img id="r-557230" data-claire-element-id="557230" src="medias/uploads.siteduzero.com_files_80001_81000_80676.png" alt="Image utilisateur"/></figure><p id="r-557233" data-claire-element-id="557233"><em>Bart sur un serveur du site du zéro</em></p><p id="r-557234" data-claire-element-id="557234">Nous allons commencer par installer le programme. Lancez donc votre gestionnaire de paquetages avec pour cible &quot;cowsay&quot;. On fera par exemple, sous Debian</p><pre id="r-557235" data-claire-element-id="557235"><code data-claire-semantic="console"># aptitude install cowsay</code></pre><p id="r-557236" data-claire-element-id="557236">Maintenant, il va falloir vous rendre dans votre fichier .bashrc, comme d'habitude. Il faut l'éditer pour choisir la créature qui apparaîtra et ce qu'elle dira. Pour cela, rajoutez une ligne du type</p><pre id="r-557237" data-claire-element-id="557237"><code data-claire-semantic="console">echo $texteAReciter | cowsay -f /usr/share/cowsay/file.cow</code></pre><p id="r-557238" data-claire-element-id="557238">où vous remplacerez $texteAReciter par ce que vous souhaitez que la créature dise et file.cow par le fichier correspondant à la créature voulue.</p><p id="r-557239" data-claire-element-id="557239">Si vous voulez ajoutez vos créations personnelles ou des créations trouvées sur l'Internet, c'est possible, il suffit de les placer dans le répertoire /usr/share/cowsay.</p><p id="r-557240" data-claire-element-id="557240">Voila, le cours est désormais terminé.</p><p id="r-557241" data-claire-element-id="557241">Vous devriez avoir un shell qui affiche toutes les informations que vous aurez jugé utile d'afficher et un peu plus personnalisé que ce qu'on vous propose par défaut.</p><p id="r-557242" data-claire-element-id="557242">En espérant que ce tutoriel vous ait plu/aidé, je suis disponible par <a href="http://www.siteduzero.com/mp-273-158415.html">MP</a> pour toute remarque/question !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell">Personnalisez votre shell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/la-theorie-22">
La théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-ps1">
Configurez la variable $PS1
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/configurez-la-variable-path">
Configurez la variable $PATH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
Créez vos aliases
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/donnez-vie-a-votre-terminal-avec-cowsay">
Donnez vie à votre terminal avec Cowsay
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/personnalisez-votre-shell/creez-vos-aliases">
<span class="arrow"></span>
<span class="next">Créez vos aliases</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/ersonnalisez-votre-shell.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:01:18 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/ersonnalisez-votre-shell.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:36:45 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/un-moteur-de-template-smarty.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:52:55 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/un-moteur-de-template-smarty.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:29:41 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Un moteur de template : Smarty</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/un-moteur-de-template-smarty.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Un moteur de template : Smarty</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#UnmoteurdetemplateSmarty">Un moteur de template : Smarty</a><br/><a href="#Unmoteurdetemplate">Un moteur de template ?</a><br/><a href="#Installationetmiseenplace">Installation et mise en place</a><br/><a href="#Lesbases">Les bases</a><br/><a href="#Unsystmedenews">Un système de news</a><br/><a href="#Modeavanc">Mode avancé</a><br/><a href="#Unsystmedecache">Un système de cache</a><br/></div>
<a name="UnmoteurdetemplateSmarty"></a><h2>Un moteur de template : Smarty</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
<span class="next">Un moteur de template ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-414771" data-claire-element-id="414771">Le développement du PHP passe par plusieurs outils. <br/> Si vous sortez tout fraîchement d'autres tutoriels sur le PHP, vous avez sûrement entendu parler des frameworks ou des <strong>moteurs de template</strong>. Nous allons ici nous intéresser à un moteur de template. Qu'est-ce que c'est ? Á quoi cela sert-il ? Et comment l'utiliser, que ce soit simplement ou pour une utilisation plus poussée ?</p><aside id="r-414773" data-claire-element-id="414773" data-claire-semantic="warning"><p id="r-414772" data-claire-element-id="414772">La version PHP 5 ou ultérieur doit être obligatoirement être installée sur votre serveur pour pouvoir utiliser Smarty.</p></aside><p id="r-414774" data-claire-element-id="414774">Pour vous permettre de suivre au mieux ce tutoriel, il est conseillé d'avoir des bases en PHP, comme par exemple grâce au <a href="http://www.siteduzero.com/tutoriel-3-14668-un-site-dynamique-avec-php.html">tutoriel de M@teo21 sur le PHP</a>.</p><p id="r-414775" data-claire-element-id="414776">Ce tutoriel a été corrigé par <a href="http://www.zcorrecteurs.fr/">l'équipe des zcorrecteurs</a> :<a href="http://www.zcorrecteurs.fr/"><img id="r-414776" data-claire-element-id="414775" src="medias/www.zcorrecteurs.fr_ext_banner2.png" alt="Image utilisateur"/></a></p>
</div><a name="Unmoteurdetemplate"></a><h2>Un moteur de template ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
<span class="next">Installation et mise en place</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-un-moteur-de-template" data-claire-element-id="414811">Un moteur de template ?</h2><p id="r-414777" data-claire-element-id="414777">C'est une question que vous devez vous poser si vous ne connaissez pas déjà la réponse. <br/> Si c'est déjà le cas, je vous invite à sauter cette sous-partie du cours et à vous diriger directement vers la suivante. Pour ceux qui ne savent pas ce qu'est un moteur de template, je vous conseille vivement de lire ce qui suit.</p><p id="r-414778" data-claire-element-id="414778">Tout d'abord, je vais vous présenter ce qu'est un moteur de template. Je vous parlerai ensuite de Smarty, qui est le moteur de template que nous allons étudier.</p><p id="r-414779" data-claire-element-id="414779">Un moteur de template PHP est écrit en PHP (logique :p ) ; son rôle est principalement de vous aider dans la lisibilité et la logique de votre projet en général, de son code en particulier. Également couplé d'une structure MVC, ce système donne d'excellentes performances. <br/> Ce que fait précisément un moteur de template, c'est rassembler le code de présentation (tout ce qui est (x)HTML et CSS) et le code d'application (votre requête en PHP et autres). <br/> Ainsi, plus besoin de se casser la tête à retrouver la requête dans la structure HTML du site ou encore à rechercher la variable dans un monticule de texte.</p><p id="r-414780" data-claire-element-id="414780">Le rouage d'un moteur de template est bien huilé. En effet, prenons une page d'index contenant une série de news. Le fichier PHP va se charger de rechercher les informations dans la base de données : titre, contenu, créateur…<br/> Ce fichier ne contient aucune balise (x)HTML ayant une influence sur l'affichage. Et d'un autre côté, on trouve un fichier de template (.html ou .tpl) qui contient la structure (x)HTML de la page web. Grâce au moteur de template, les informations contenues dans le fichier PHP lui seront transmises et le moteur regroupera les deux fichiers en un seul par une compilation.</p><p id="r-414781" data-claire-element-id="414781">Voici comment fonctionne la compilation complète des deux fichiers :</p><ul id="r-414792" data-claire-element-id="414792"><li id="r-414783" data-claire-element-id="414783"><p id="r-414782" data-claire-element-id="414782">lecture du fichier PHP ;</p></li><li id="r-414785" data-claire-element-id="414785"><p id="r-414784" data-claire-element-id="414784">lecture du template ;</p></li><li id="r-414787" data-claire-element-id="414787"><p id="r-414786" data-claire-element-id="414786">compilation ;</p></li><li id="r-414789" data-claire-element-id="414789"><p id="r-414788" data-claire-element-id="414788">création du script PHP à partir des deux autres ;</p></li><li id="r-414791" data-claire-element-id="414791"><p id="r-414790" data-claire-element-id="414790">exécution du code généré.</p></li></ul><p id="r-414793" data-claire-element-id="414793">Bien sûr, un tel système comprend son lot d'avantages, mais aussi d'inconvénients.</p><h3 id="r-avantages-5" data-claire-element-id="414801">Avantages</h3><ul id="r-414800" data-claire-element-id="414800"><li id="r-414795" data-claire-element-id="414795"><p id="r-414794" data-claire-element-id="414794">La séparation des deux codes permet une meilleure visibilité dans le code. Idéal pour le travail d'équipe.</p></li><li id="r-414797" data-claire-element-id="414797"><p id="r-414796" data-claire-element-id="414796">On peut alors toucher ou modifier un des deux fichiers sans que cela ait un impact sur l'autre.</p></li><li id="r-414799" data-claire-element-id="414799"><p id="r-414798" data-claire-element-id="414798">La mise en cache est proposée et permet ainsi d'économiser les ressources des serveurs avec la possibilité de configurer le tout.</p></li></ul><h3 id="r-inconvenients-4" data-claire-element-id="414810">Inconvénients</h3><ul id="r-414808" data-claire-element-id="414808"><li id="r-414803" data-claire-element-id="414803"><p id="r-414802" data-claire-element-id="414802">Son utilisation va retarder le chargement de votre page, mais il sera compensé en partie par Smarty, un moteur de template assez rapide.</p></li><li id="r-414805" data-claire-element-id="414805"><p id="r-414804" data-claire-element-id="414804">Il faut étudier le langage de template.</p></li><li id="r-414807" data-claire-element-id="414807"><p id="r-414806" data-claire-element-id="414806">La lecture des erreurs est assez compliquée.</p></li></ul><p id="r-414809" data-claire-element-id="414809">Smarty, moteur de template, est donc celui que j'ai décidé de vous présenter pour ses capacités très puissantes et son utilisation très facile pour les débutants. Il a l'avantage d'être très rapide : Smarty recompile les fichiers uniquement si des changements sont apportés dans le fichier de template. Nous verrons donc ensemble au cours des autres sous-parties comment afficher une variable d'un fichier à l'autre, modifier des variables grâce à des modificateurs et créer une fonction utilisateur dans Smarty pour les plus valeureux, ce que nous verrons au fur et à mesure.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
<span class="next">Installation et mise en place</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installationetmiseenplace"></a><h2>Installation et mise en place</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
<span class="arrow"></span>
<span class="next">Un moteur de template ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
<span class="next">Les bases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<figure id="r-414814" data-claire-element-id="414815"><img id="r-414813" data-claire-element-id="414813" src="medias/uploads.siteduzero.com_files_269001_270000_269722.gif" alt="Image utilisateur"/></figure><p id="r-414816" data-claire-element-id="414816"><em>Logo de Smarty</em></p><h2 id="r-telecharger-et-installer-1" data-claire-element-id="414823">Télécharger et installer</h2><p id="r-414817" data-claire-element-id="414817">Pour télécharger la bête, rien de plus facile ; de plus, son installation est vraiment aisée. Rendez-vous sur la page <a href="http://www.smarty.net/download.php">Download</a> où se trouvent les versions bêta et release de Smarty, et faites votre choix (téléchargez bien sûr la dernière version stable).</p><aside id="r-414819" data-claire-element-id="414819" data-claire-semantic="information"><p id="r-414818" data-claire-element-id="414818">La version sur laquelle se base le tutoriel est la 3ème, récemment sorti elle contient bon nombre de nouveauté.</p></aside><p id="r-414820" data-claire-element-id="414820">Le téléchargement est très rapide. Décompressez les fichiers et ouvrez le dossier libs, qui contient le cœur du moteur et les principaux fichiers qui nous serviront tout au long de ce tutoriel. Copiez-les dans un dossier à la base de votre projet que nous appellerons ici tpl.</p><aside id="r-414822" data-claire-element-id="414822" data-claire-semantic="information"><p id="r-414821" data-claire-element-id="414821">Évitez de mettre les fichiers du dossier libs de Smarty à la racine même du site, cela peut causer des problèmes au niveau de l'inclusion et peut entraîner des erreurs.</p></aside><h2 id="r-premiere-utilisation-4" data-claire-element-id="414835">Première utilisation</h2><p id="r-414824" data-claire-element-id="414824">Pour commencer, nous allons réaliser la plus simple action du moteur de template et découvrir peu à peu les bases de Smarty, comme par exemple afficher une page. Créez un fichier PHP index.php à la racine de votre projet et commencez par y ouvrir les balises PHP. Nous allons débuter par l'inclusion de la classe qui permet à Smarty de fonctionner.</p><pre id="r-414825" data-claire-element-id="414825"><code data-claire-semantic="html+php">&lt;?php
require(&quot;tpl/smarty.class.php&quot;); // On inclut la classe Smarty
?&gt;</code></pre><p id="r-414826" data-claire-element-id="414826">Voilà qui est fait. Et maintenant ? <br/> Smarty est codé en POO (programmation orientée objet) ; si vous souhaitez obtenir plus d'informations sur la programmation orientée objet, je vous conseille <a href="http://www.siteduzero.com/tutoriel-3-147180-la-programmation-orientee-objet-en-php.html">le tutoriel de vyk12</a>. Si vous avez du temps, n'hésitez pas à le lire, il vous permettra de mieux comprendre comment fonctionne Smarty et pourquoi vous faites telle ou telle action dans votre code.<br/> Si vous avez lu le tutoriel conseillé, je pense que vous savez déjà ce qu'il faut faire : j'ai nommé <strong>la création de l'objet Smarty</strong>.</p><pre id="r-414827" data-claire-element-id="414827"><code data-claire-semantic="html+php">&lt;?php
$smarty = new Smarty();
?&gt;</code></pre><p id="r-414828" data-claire-element-id="414828">Comme nous commençons très doucement, la prochaine ligne servira à l'affichage d'une page .html ou .tpl suivant votre envie. Pour cela, il suffit d'utiliser la fonction display qui permet de charger une page.</p><pre id="r-414829" data-claire-element-id="414829"><code data-claire-semantic="html+php">&lt;?php
$smarty-&gt;display(&quot;mapage.html&quot;);
?&gt;</code></pre><p id="r-414830" data-claire-element-id="414830">Voici le strict minimum pour afficher une page ; cela doit être la base de chaque page liée à Smarty.<br/> Ah, oui ! j'oubliais : si vous voulez que tout marche, pensez à créer la page .tpl ou .html, et d'y ajouter le contenu que vous souhaitez : la structure HTML, le design…</p><pre id="r-414831" data-claire-element-id="414831"><code data-claire-semantic="smarty">Hello World!</code></pre><p id="r-414832" data-claire-element-id="414832">Lancez la page PHP depuis votre navigateur et il vous affichera un joli « Hello World! ».</p><aside id="r-414834" data-claire-element-id="414834" data-claire-semantic="information"><p id="r-414833" data-claire-element-id="414833">Il est conseillé de nommer la page de template comme la page PHP, cela permet de retrouver immédiatement le fichier de template assigné au fichier PHP.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
<span class="arrow"></span>
<span class="next">Un moteur de template ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
<span class="next">Les bases</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbases"></a><h2>Les bases</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
<span class="arrow"></span>
<span class="next">Installation et mise en place</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
<span class="next">Un système de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-414837" data-claire-element-id="414837">Nous allons voir dans cette sous-partie tout ce qu'il faut savoir pour bien commencer l'apprentissage de Smarty.</p><h3 id="r-le-merveilleux-monde-des-variables" data-claire-element-id="414939">Le merveilleux monde des variables</h3><p id="r-414838" data-claire-element-id="414838">Pour passer des informations du fichier PHP au fichier de template, Smarty met à disposition une fonction. Cette fonction est très importante : elle permet « d'envoyer » les informations récoltées vers le fichier de template. C'est par ce moyen que nous allons prochainement faire passer les informations des news dans le fichier news.html.</p><aside id="r-414843" data-claire-element-id="414843" data-claire-semantic="information"><p id="r-414839" data-claire-element-id="414839"><strong>Astuce</strong>. — Pour faciliter la transmission des informations et éviter d'écrire une dizaine d'assign dans votre code, privilégiez les <code data-claire-semantic="html+php">&lt;?php array(); ?&gt;</code> dans les assign.</p><p id="r-414840" data-claire-element-id="414840"></p><div id="r-414842" data-claire-element-id="414842"><pre id="r-414841" data-claire-element-id="414841"><code data-claire-semantic="html+php">&lt;?php&gt;
$core-&gt;tpl-&gt;assign(array(&quot;1&quot; =&gt; 1,
                        &quot;2&quot; =&gt; 2,
                        &quot;3&quot; =&gt; 3,
                        &quot;4e&quot; =&gt; 4));
?&gt;</code></pre></div></aside><pre id="r-414844" data-claire-element-id="414844"><code data-claire-semantic="html+php">&lt;?php
require(&quot;tpl/smarty.class.php&quot;);

$tpl = new Smarty();

$tpl-&gt;assign(&quot;ma_variable&quot;,&quot;Je suis une variable&quot;);

$tpl-&gt;assign(array(
        &quot;une_variable&quot; =&gt; &quot;Je suis une variable&quot;,
        &quot;une_autre_variable&quot; =&gt; &quot;Je suis une belle variable&quot;
        // ...
        ));

$tpl-&gt;display(&quot;index.html&quot;);
?&gt;</code></pre><p id="r-414845" data-claire-element-id="414845">Passons maintenant à index.html. Smarty utilise dans les templates des délimitations, les accolades <strong>{}</strong>, autour d'une variable, d'une condition, etc. Pour afficher les variables « envoyées » par le fichier PHP, il suffit alors d'écrire le nom de la variable et de la délimiter par des accolades, ce qui donne par exemple :</p><pre id="r-414846" data-claire-element-id="414846"><code data-claire-semantic="smarty">- &lt;strong&gt;{$ma_variable}&lt;/strong&gt; &lt;br /&gt;
- {$une_variable} &lt;br /&gt;
- {$une_autre_variable}</code></pre><p id="r-414847" data-claire-element-id="414847">Pour aller encore plus loin avec les variables, sachez qu'il est possible d'utiliser des modificateurs qui permettent de modifier une variable. Il en existe une grande quantité et il est même possible d'en créer (c'est ce que nous allons apprendre à faire dans la partie « Mode avancé » de ce tutoriel). Ces modificateurs permettent d'éviter des manipulations compliquées dans la partie PHP. N'oubliez jamais que là où vous bloquez pour un affichage spécial d'une variable, Smarty a toujours un modificateur à vous proposer.</p><p id="r-414848" data-claire-element-id="414848">Prenons par exemple capitalize : du même nom que son homologue CSS, ce modificateur permet de mettre la première lettre de chaque mot en majuscule.</p><pre id="r-414849" data-claire-element-id="414849"><code data-claire-semantic="css">p, div{
     text-transform: capitalize;
}</code></pre><p id="r-414850" data-claire-element-id="414850">Pour mettre en place les modificateurs, rien de plus simple : il suffit de placer une barre verticale <strong>|</strong> (Alt Gr + 6) derrière le nom de la variable. Ensuite, il suffit de placer le nom du modificateur et s'il le faut un statut (un <em>bool</em> ou un nombre).</p><pre id="r-414851" data-claire-element-id="414851"><code data-claire-semantic="smarty">- {$une_variable|capitalize:true} &lt;br /&gt;</code></pre><p id="r-414852" data-claire-element-id="414852">Smarty possède également des modificateurs assez pratiques pour tronquer la variable, la mettre en minuscules, ajouter un texte à la fin et bien d'autres choses. Je vous propose un petit tableau dans lequel vous trouverez tous les modificateurs les plus utiles. Si cela ne fait pas votre bonheur, je vous conseille de vous diriger vers <a href="http://www.smarty.net/manual/fr/language.modifiers.php">la documentation de Smarty</a>. Les modificateurs peuvent bien sûr être utilisés autant de fois que vous le voulez sur une variable, il suffit juste de les ajouter comme s'il n'y avait rien devant.</p><table id="r-414936" data-claire-element-id="414936"><thead id="r-414862" data-claire-element-id="414862"><tr id="r-414861" data-claire-element-id="414861"><th id="r-414854" data-claire-element-id="414854"><p id="r-414853" data-claire-element-id="414853">Nom</p></th><th id="r-414856" data-claire-element-id="414856"><p id="r-414855" data-claire-element-id="414855">Utilité</p></th><th id="r-414858" data-claire-element-id="414858"><p id="r-414857" data-claire-element-id="414857">Équivalent (PHP ou CSS)</p></th><th id="r-414860" data-claire-element-id="414860"><p id="r-414859" data-claire-element-id="414859">Exemple</p></th></tr></thead><tbody id="r-414935" data-claire-element-id="414935"><tr id="r-414871" data-claire-element-id="414871"><td id="r-414864" data-claire-element-id="414864"><p id="r-414863" data-claire-element-id="414863"><a href="http://www.smarty.net/manual/fr/language.modifier.cat.php">cat</a></p></td><td id="r-414866" data-claire-element-id="414866"><p id="r-414865" data-claire-element-id="414865">Permet d'ajouter une valeur à la fin d'une variable.</p></td><td id="r-414868" data-claire-element-id="414868"><p id="r-414867" data-claire-element-id="414867"><code data-claire-semantic="html+php">&lt;?php $var . &quot;texte&quot;; ?&gt;</code></p></td><td id="r-414870" data-claire-element-id="414870"><p id="r-414869" data-claire-element-id="414869"><code data-claire-semantic="smarty">{$var|cat:&quot;texte&quot;}</code></p></td></tr><tr id="r-414880" data-claire-element-id="414880"><td id="r-414873" data-claire-element-id="414873"><p id="r-414872" data-claire-element-id="414872"><a href="http://www.smarty.net/manual/fr/language.modifier.date.format.php">date_format</a></p></td><td id="r-414875" data-claire-element-id="414875"><p id="r-414874" data-claire-element-id="414874">Permet de mettre une date dans un format spécial.</p></td><td id="r-414877" data-claire-element-id="414877"><p id="r-414876" data-claire-element-id="414876"><code data-claire-semantic="html+php">&lt;?php date($date,&quot;%d/%m/%Y&quot;); ?&gt;</code></p></td><td id="r-414879" data-claire-element-id="414879"><p id="r-414878" data-claire-element-id="414878"><code data-claire-semantic="smarty">{$date|date_format:'%d/%m/%Y'}</code></p></td></tr><tr id="r-414889" data-claire-element-id="414889"><td id="r-414882" data-claire-element-id="414882"><p id="r-414881" data-claire-element-id="414881"><a href="http://www.smarty.net/manual/fr/language.modifier.lower.php">lower</a></p></td><td id="r-414884" data-claire-element-id="414884"><p id="r-414883" data-claire-element-id="414883">Met le contenu de la variable en minuscules.</p></td><td id="r-414886" data-claire-element-id="414886"><p id="r-414885" data-claire-element-id="414885"><code data-claire-semantic="css">p{text-transform: lowercase;}</code></p></td><td id="r-414888" data-claire-element-id="414888"><p id="r-414887" data-claire-element-id="414887"><code data-claire-semantic="smarty">{$petit|lower}</code></p></td></tr><tr id="r-414898" data-claire-element-id="414898"><td id="r-414891" data-claire-element-id="414891"><p id="r-414890" data-claire-element-id="414890"><a href="http://www.smarty.net/manual/fr/language.modifier.replace.php">replace</a></p></td><td id="r-414893" data-claire-element-id="414893"><p id="r-414892" data-claire-element-id="414892">Remplace un élément en un autre dans toute la chaîne.</p></td><td id="r-414895" data-claire-element-id="414895"><p id="r-414894" data-claire-element-id="414894"><code data-claire-semantic="html+php">&lt;?php str_replace(&quot;o&quot;, &quot;au&quot;, $toto); ?&gt;</code></p></td><td id="r-414897" data-claire-element-id="414897"><p id="r-414896" data-claire-element-id="414896"><code data-claire-semantic="smarty">{$toto|replace:&quot;o&quot;:&quot;au&quot;}</code></p></td></tr><tr id="r-414907" data-claire-element-id="414907"><td id="r-414900" data-claire-element-id="414900"><p id="r-414899" data-claire-element-id="414899"><a href="http://www.smarty.net/manual/fr/language.modifier.spacify.php">spacify</a></p></td><td id="r-414902" data-claire-element-id="414902"><p id="r-414901" data-claire-element-id="414901">Permet d'ajouter une espace — ou un caractère s'il est spécifié — entre chaque lettre.</p></td><td id="r-414904" data-claire-element-id="414904"><p id="r-414903" data-claire-element-id="414903">—</p></td><td id="r-414906" data-claire-element-id="414906"><p id="r-414905" data-claire-element-id="414905"><code data-claire-semantic="smarty">{$ajouter|spacify}</code></p></td></tr><tr id="r-414916" data-claire-element-id="414916"><td id="r-414909" data-claire-element-id="414909"><p id="r-414908" data-claire-element-id="414908"><a href="http://www.smarty.net/manual/fr/language.modifier.string.format.php">string_format</a></p></td><td id="r-414911" data-claire-element-id="414911"><p id="r-414910" data-claire-element-id="414910">Permet d'arrondir un chiffre.</p></td><td id="r-414913" data-claire-element-id="414913"><p id="r-414912" data-claire-element-id="414912"><code data-claire-semantic="html+php">&lt;?php round($nbr); ?&gt;</code></p></td><td id="r-414915" data-claire-element-id="414915"><p id="r-414914" data-claire-element-id="414914"><code data-claire-semantic="smarty">{$nbr|string_format}</code></p></td></tr><tr id="r-414925" data-claire-element-id="414925"><td id="r-414918" data-claire-element-id="414918"><p id="r-414917" data-claire-element-id="414917"><a href="http://www.smarty.net/docsv2/fr/language.modifier.truncate">truncate</a></p></td><td id="r-414920" data-claire-element-id="414920"><p id="r-414919" data-claire-element-id="414919">Permet de couper un texte et d'y ajouter un texte juste après 30 caractères.</p></td><td id="r-414922" data-claire-element-id="414922"><p id="r-414921" data-claire-element-id="414921"><code data-claire-semantic="html+php">&lt;?php substr($string, 0, 30); ?&gt;</code></p></td><td id="r-414924" data-claire-element-id="414924"><p id="r-414923" data-claire-element-id="414923"><code data-claire-semantic="smarty">{$coupe|truncate:30}</code></p></td></tr><tr id="r-414934" data-claire-element-id="414934"><td id="r-414927" data-claire-element-id="414927"><p id="r-414926" data-claire-element-id="414926"><a href="http://www.smarty.net/manual/fr/language.modifier.upper.php">upper</a></p></td><td id="r-414929" data-claire-element-id="414929"><p id="r-414928" data-claire-element-id="414928">Permet de mettre toutes les lettres en capitales.</p></td><td id="r-414931" data-claire-element-id="414931"><p id="r-414930" data-claire-element-id="414930"><code data-claire-semantic="css">p{text-transform: uppercase;}</code></p></td><td id="r-414933" data-claire-element-id="414933"><p id="r-414932" data-claire-element-id="414932"><code data-claire-semantic="smarty">{$maj|upper}</code></p></td></tr></tbody></table><p id="r-414937" data-claire-element-id="414937">Pour finir dans le monde des variables, je vais vous donner une dernière information qui va vous simplifier grandement la vie. Les variables Smarty sont l'équivalent des <code data-claire-semantic="html+php">$_GET</code>, <code data-claire-semantic="html+php">$_POST</code> et autres dans le code PHP.<br/> Pour les utiliser, il suffit d'écrire {$smarty suivi de la méthode (.get) et de l'élément que l'on veut afficher ou utiliser (.id}), comme ceci :</p><pre id="r-414938" data-claire-element-id="414938"><code data-claire-semantic="smarty">{$smarty.get.id}
{$smarty.cookies.pseudo}
{$smarty.server.SERVER_NAME}</code></pre><h3 id="r-les-fonctions-natives" data-claire-element-id="414956">Les fonctions natives</h3><p id="r-414940" data-claire-element-id="414940">Les fonctions natives sont des fonctions utilisées dans le fichier de template. Elles sont par défaut à l'intérieur de Smarty et sont simples d'utilisation. À l'image des variables, elles sont délimitées par des accolades. Au niveau des noms, ce sont les mêmes qu'en PHP. Nous avons alors {if} {elseif} {foreach}.</p><aside id="r-414942" data-claire-element-id="414942" data-claire-semantic="warning"><p id="r-414941" data-claire-element-id="414941"><strong>Attention</strong>. — Avec Smarty, il est nécessaire de refermer les conditions et les boucles avec <code data-claire-semantic="smarty">{/if} {/foreach}</code>…</p></aside><p id="r-414943" data-claire-element-id="414943">Comme en PHP, la fonction {foreach} peut « redistribuer » la key et la value de l'<em>array</em>. Ce qui donne :</p><pre id="r-414944" data-claire-element-id="414944"><code data-claire-semantic="smarty">{foreach from=$myArray key=k item=v}
{$k}: {$v}
{/foreach}</code></pre><p id="r-414945" data-claire-element-id="414945">Autre utilisation de {foreach}, depuis notre fichier PHP, nous avons un <em>array</em> que nous passons par un assign vers le fichier de template :</p><pre id="r-414946" data-claire-element-id="414946"><code data-claire-semantic="html+php">&lt;?php
$matiere = array('Mathématiques', 'Français', 'Physique-Chimie');
$tpl-&gt;assign('liste_matiere', $matiere);
?&gt;</code></pre><p id="r-414947" data-claire-element-id="414947">Et dans le fichier de template, on utilise {foreach} avec from qui récupère la liste et item qui la « redistribue ».</p><pre id="r-414948" data-claire-element-id="414948"><code data-claire-semantic="smarty">{foreach from=$liste_matiere item=matiere}
{$matiere} est une matière &lt;br /&gt;
{/foreach}</code></pre><p id="r-414949" data-claire-element-id="414949">Ce qui donnera :</p><pre id="r-414950" data-claire-element-id="414950"><code>Mathématiques est une matière 
Français est une matière 
Physique-Chimie est une matière</code></pre><p id="r-414951" data-claire-element-id="414951">Facile, non ? ^^ Nous verrons un peu plus tard comment manipuler au mieux les <em>arrays</em> avec notre {foreach}.</p><aside id="r-414955" data-claire-element-id="414955" data-claire-semantic="information"><p id="r-414952" data-claire-element-id="414952">Astuce ─ Si vous essayer d'incruster un code JS ou CSS , l'utilisation d'accolade risque de provoquer des interférences. Pour contourner cela, il faut utiliser la fonction native <code data-claire-semantic="smarty">{literal}</code> comme ceci</p><div id="r-414954" data-claire-element-id="414954"><pre id="r-414953" data-claire-element-id="414953"><code data-claire-semantic="smarty">{literal}
&lt;script language=javascript&gt;
 function dire(valeur) {
   alert(valeur);
 }

&lt;/script&gt;
{/literal}</code></pre></div></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
<span class="arrow"></span>
<span class="next">Installation et mise en place</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
<span class="next">Un système de news</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unsystmedenews"></a><h2>Un système de news</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
<span class="arrow"></span>
<span class="next">Les bases</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
<span class="next">Mode avancé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-414958" data-claire-element-id="414958">Nous avons à ce stade assez de connaissances pour réaliser un petit système de news à l'aide du moteur de template Smarty. Celui-là nous servira de fil conducteur pour cette sous-partie du tutoriel.<br/> Pour commencer, nous allons créer deux fichiers : news.php et news.html.</p><h3 id="r-du-cote-du-php" data-claire-element-id="414967">Du côté du PHP</h3><p id="r-414959" data-claire-element-id="414959">Tout d'abord, nous nous occuperons de la partie PHP : créer une simple table SQL et quelques news dans notre base de données marquera le premier pas de cette belle épopée. :D Bon, rien de bien spécial, une table simple avec l'ID en auto-incrémentation, le titre, le contenu et la date de la news.</p><pre id="r-414960" data-claire-element-id="414960"><code data-claire-semantic="sql">CREATE TABLE IF NOT EXISTS `news` (
  `id` int(11) NOT NULL AUTO_INCREMENT,
  `titre` varchar(100) NOT NULL,
  `contenu` text NOT NULL,
  `date` datetime NOT NULL,
  PRIMARY KEY (`id`)
) ENGINE=MyISAM DEFAULT CHARSET=latin1 AUTO_INCREMENT=1 ;
;</code></pre><p id="r-414961" data-claire-element-id="414961">Puis on ajoute des petites news pour remplir un peu cette table.</p><pre id="r-414962" data-claire-element-id="414962"><code data-claire-semantic="sql">INSERT INTO `news` (`id`, `titre`, `contenu`, `date`) VALUES
(1, 'Ouverture', 'Voici la news d ouverture du site réalisée grâce à Smarty.', '2011-02-02 17:22:18'),
(2, 'Titre', 'Il est pas beau mon site ?', '2011-02-22 17:22:18'),
(3, 'Fermeture', 'Tout compte fait, il est nul mon site, Smarty est trop fort pour moi, je renonce.', '2011-02-28 17:23:00');</code></pre><p id="r-414963" data-claire-element-id="414963">Bon, une bonne chose de faite. Maintenant, comme vous le savez déjà, nous allons nous connecter à la base de données en PDO. Si vous ne connaissez pas cette technique d'extraction des données d'une base, pensez à regarder du côté du <a href="http://www.siteduzero.com/tutoriel-3-14668-un-site-dynamique-avec-php.html">tutoriel officiel sur le PHP et MySQL de M@teo21</a>. Je vous laisse le soin de coder cette partie, sachez juste que dans cette sous-partie, l'indicateur pour la base de données sera <code data-claire-semantic="html+php">$connexion</code>. Occupons-nous maintenant de l'extraction des informations sur les news depuis la base de données grâce à une requête. Je pense que tout cela est très simple pour vous, sinon je me demande ce que vous faites ici. :-°</p><pre id="r-414964" data-claire-element-id="414964"><code data-claire-semantic="html+php">&lt;?php
// Extraction des informations
$query = $connexion-&gt;prepare(&quot;SELECT * FROM news ORDER BY id DESC&quot;);
$query-&gt;execute();

$list_news = array();
$i = 0;
while($data = $query-&gt;fetch()){
    $list_news[$i]['id'] = $data['id'];
    $list_news[$i]['titre'] = $data['titre'];
    $list_news[$i]['date'] = $data['date'];
    $list_news[$i]['content'] = $data['contenu'];
    $i++;
}
?&gt;</code></pre><p id="r-414965" data-claire-element-id="414965">Après le passage d'extraction des données, nous allons initialiser Smarty comme nous l'avons vu au-dessus, puis assigner la variable <code data-claire-semantic="html+php">$list_news</code> vers list_news pour permettre à Smarty de récupérer la variable du côté du fichier de template. Enfin, on charge la page news.html actuellement vide.<br/> Voici en gros ce que devrait contenir le fichier news.php que nous venons de réaliser : la connexion à la BDD, la mise en place de Smarty, l'extraction des informations, l'assignation de la variable et l'appel du fichier news.html.</p><pre id="r-414966" data-claire-element-id="414966"><code data-claire-semantic="html+php">&lt;?php
// Extraction des informations

$query = $connexion-&gt;prepare(&quot;SELECT * FROM news ORDER BY id DESC&quot;);
$query-&gt;execute();

$list_news = array();
$i = 0;
while($data = $query-&gt;fetch()){
    $list_news[$i]['id'] = $data['id'];
    $list_news[$i]['titre'] = $data['titre'];
    $list_news[$i]['date'] = $data['date'];
    $list_news[$i]['content'] = $data['contenu'];
    $i++;
}

// On lance Smarty

require(&quot;tpl/smarty.class.php&quot;);

$tpl = new Smarty();

$tpl-&gt;assign('list_news', $list_news);

$tpl-&gt;display(&quot;news.html&quot;);
?&gt;</code></pre><h3 id="r-du-cote-du-template" data-claire-element-id="414975">Du côté du template</h3><aside id="r-414969" data-claire-element-id="414969" data-claire-semantic="information"><p id="r-414968" data-claire-element-id="414968">Astuce ─ L'utilisation de la fonction native <code data-claire-semantic="smarty">{php}</code> permet d'insérer dans le template des instructions en PHP.</p></aside><p id="r-414970" data-claire-element-id="414970">Passons maintenant du côté de news.html, notre fichier de template qui va contenir tout ce qui est en rapport avec l'affichage de la news. Pour extraire les informations, nous allons utiliser un {foreach} dont l'utilisation a été apprise précédemment (à la fin de la dernière partie).</p><pre id="r-414971" data-claire-element-id="414971"><code data-claire-semantic="smarty">{foreach from=$list_news item=news}
{/foreach}</code></pre><p id="r-414972" data-claire-element-id="414972">Puis, comme nous l'avons vu, on définit l'affichage des différentes variables : le titre en gras, le contenu et la date dans un format spécial comme jj/mm/aaaa. Ce qui donne le code suivant :</p><pre id="r-414973" data-claire-element-id="414973"><code data-claire-semantic="smarty">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot; &gt;
   &lt;head&gt;
       &lt;title&gt;Bienvenue sur mon site !&lt;/title&gt;
       &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
   &lt;/head&gt;
   &lt;body&gt;
       &lt;h1&gt; Mon super système de news &lt;/h1&gt;
	{foreach from=$list_news item=news}
	&lt;strong&gt;{$news.titre}&lt;/strong&gt; écrit le {$news.date|date_format:&quot;%d/%m/%Y&quot;}&lt;br /&gt;
	{$news.content}&lt;br /&gt;&lt;br /&gt;
	{/foreach}
   &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-414974" data-claire-element-id="414974">Et voilà, nous avons réalisé un système de news fonctionnel.</p><h3 id="r-et-apres-8" data-claire-element-id="414986">Et après ?</h3><p id="r-414976" data-claire-element-id="414976">Je vous invite à l'embellir. Voici quelques idées d'améliorations :</p><ul id="r-414985" data-claire-element-id="414985"><li id="r-414978" data-claire-element-id="414978"><p id="r-414977" data-claire-element-id="414977">réaliser une partie qui regroupera la création, l'édition et la suppression d'une news ;</p></li><li id="r-414980" data-claire-element-id="414980"><p id="r-414979" data-claire-element-id="414979">réaliser un affichage pour chaque news ;</p></li><li id="r-414984" data-claire-element-id="414984"><p id="r-414981" data-claire-element-id="414981">réaliser un système d'inclusion avec un haut.html et un bas.html grâce à {include}, comme ceci :</p><div id="r-414983" data-claire-element-id="414983"><pre id="r-414982" data-claire-element-id="414982"><code data-claire-semantic="smarty">{include file=&quot;haut.html&quot;}
&lt;h1&gt; Mon super système de news &lt;/h1&gt;

{foreach from=$list_news item=news}
&lt;strong&gt;{$news.titre}&lt;/strong&gt; écrit le {$news.date|date_format:&quot;%d/%m/%Y&quot;}&lt;br /&gt;

{$news.content}&lt;br /&gt;&lt;br /&gt;
{/foreach}
{include file=&quot;bas.html&quot;}</code></pre></div></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
<span class="arrow"></span>
<span class="next">Les bases</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
<span class="next">Mode avancé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modeavanc"></a><h2>Mode avancé</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
<span class="arrow"></span>
<span class="next">Un système de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
<span class="next">Un système de cache</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-414989" data-claire-element-id="414989" data-claire-semantic="warning"><p id="r-414988" data-claire-element-id="414988">Dans cette partie, ne vous attendez pas à pouvoir modifier le code source de Smarty ou à le récrire entièrement à votre guise. Cette partie est là pour vous apprendre à personnaliser un peu plus Smarty pour vous permettre d'économiser votre temps.</p></aside><p id="r-414990" data-claire-element-id="414990">Dans cette partie, je vous propose d'entrer un peu plus dans le monde merveilleux de Smarty. Nous allons voir comment réaliser des fonctions utilisateur (vous savez, celles qui sont entourées par des accolades dans le fichier de template) — qui, à la différence des fonctions natives vues plus haut, sont écrites par des utilisateurs comme vous et moi —, ou encore des modificateurs de variable.</p><h2 id="r-creer-sa-fonction-utilisateur" data-claire-element-id="415009">Créer sa fonction utilisateur</h2><p id="r-414991" data-claire-element-id="414991">Tout d'abord, je vous invite à regarder l'arborescence de votre projet. Dirigez-vous dans le dossier tpl puis dans le dossier plugins où se trouve la majorité des modificateurs de variable et des fonctions natives de Smarty. Si vous avez la curiosité d'observer comment elles sont écrites, vous remarquerez qu'elles ont le même modèle.</p><pre id="r-414992" data-claire-element-id="414992"><code data-claire-semantic="html+php">&lt;?php
function smarty_function_nomdelafonction($params, &amp;$smarty)
{
    if (empty($params['nomdunparametre'])) {
        $smarty-&gt;_trigger_fatal_error(&quot;[plugin] le paramètre 'nomdunparametre' est vide&quot;);
        return;
    }
/***/
}
?&gt;</code></pre><p id="r-414993" data-claire-element-id="414993">La création d'une telle fonction utilisateur est très facile ; on procède de la même manière que pour une fonction native, la seule différence étant qu'il est interdit de donner comme nom à la fonction utilisateur le nom d'une fonction native. Je vais donc prendre comme exemple quelque chose de très simple, qui se base sur le QCM, à l'image de l'exemple qu'en donne M@teo21 dans son tutoriel à propos des conditions.</p><aside id="r-414995" data-claire-element-id="414995" data-claire-semantic="warning"><p id="r-414994" data-claire-element-id="414994">Vous devez faire très attention à l'orthographe des noms du fichier (« function. » suivi du nom de la fonction puis de « .php ») et de la fonction (« smarty_function_ » suivi du nom de la fonction).</p></aside><p id="r-414996" data-claire-element-id="414996">De notre côté, la fonction utilisateur s'appellera note_qcm. Créez alors un fichier nommé function.note_qcm.php dans lequel vous écrirez ceci :</p><pre id="r-414997" data-claire-element-id="414997"><code data-claire-semantic="html+php">&lt;?php
function smarty_function_note_qcm($params, &amp;$smarty)
{

}
?&gt;</code></pre><p id="r-414998" data-claire-element-id="414998">Puisque notre fonction va contenir un paramètre, la note, il faut définir le paramètre qui passe par la variable <code data-claire-semantic="html+php">$params</code> ; si vous n'avez pas besoin de paramètre, cela ne sert à rien de le mettre. Il ne faut pas oublier aussi de vérifier si le paramètre n'est pas vide. Ce qui donne :</p><pre id="r-414999" data-claire-element-id="414999"><code data-claire-semantic="html+php">&lt;?php
function smarty_function_note_qcm($params, &amp;$smarty)
{
if (empty($params['note'])) {
        $smarty-&gt;_trigger_fatal_error(&quot;[plugin] le paramètre 'note' est vide&quot;);
        return;
}

}
?&gt;</code></pre><p id="r-415000" data-claire-element-id="415000">Nous allons nous baser sur ce code pour réaliser la fonction utilisateur.</p><aside id="r-415002" data-claire-element-id="415002" data-claire-semantic="error"><p id="r-415001" data-claire-element-id="415001"><strong>Attention</strong>. — Il ne faut surtout pas faire de echo dans la fonction utilisateur, un return suffit largement.</p></aside><p id="r-415003" data-claire-element-id="415003">Ce qui donne pour notre fonction utilisateur le code suivant :</p><pre id="r-415004" data-claire-element-id="415004"><code data-claire-semantic="html+php">&lt;?php
function smarty_function_note_qcm($params, &amp;$smarty){
    if (empty($params['note'])) {
        $smarty-&gt;_trigger_fatal_error(&quot;[plugin] le paramètre 'note' est vide&quot;);
        return;
    }
    switch ($params['note']) // On indique sur quelle variable on travaille
    { 
        case 0: // Dans le cas où $note vaut 0
        return &quot;Tu es vraiment un gros Zéro !&quot;;
        break;

        case 5: // Dans le cas où $note vaut 5
        return &quot;Tu es très mauvais.&quot;;
        break;

        case 7: // Dans le cas où $note vaut 7
        return &quot;Tu es mauvais.&quot;;
        break;

        case 10: // Etc.
        return &quot;Tu as pile poil la moyenne, c'est un peu juste...&quot;;
        break;

        case 12:
        return &quot;Tu es assez bon.&quot;;
        break;

        case 16:
        return &quot;Tu te débrouilles très bien !&quot;;
        break;

        case 20:
        return &quot;Excellent travail, c'est parfait !&quot;;
        break;

        default:
        return &quot;Désolé, je n'ai pas de message à afficher pour cette note.&quot;;
    }
}
?&gt;</code></pre><p id="r-415005" data-claire-element-id="415005">Maintenant, pour utiliser cette fonction utilisateur, il suffit d'écrire ceci dans notre fichier :</p><pre id="r-415006" data-claire-element-id="415006"><code data-claire-semantic="smarty">{note_qcm note=&quot;10&quot;}</code></pre><aside id="r-415008" data-claire-element-id="415008" data-claire-semantic="error"><p id="r-415007" data-claire-element-id="415007">D'après les statistiques du QCM, vous êtes nombreux à vous tromper dans l'écriture de la fonction utilisateur dans le fichier de template ! Faites donc attention à ne mettre que le nom de la fonction et rien d'autre !</p></aside><h2 id="r-creer-son-propre-modificateur-de-variable" data-claire-element-id="415015">Créer son propre modificateur de variable</h2><p id="r-415010" data-claire-element-id="415010">Rien de bien compliqué, j'ose dire que c'est encore plus facile qu'une fonction utilisateur. :D Tout d'abord, il faut savoir qu'il n'y a qu'un seul paramètre et que celui-ci est la chaîne de caractères contenue dans la variable que vous voulez modifier.<br/> Vous connaissez sûrement la fonction htmlspecialchars qui permet de transcrire des caractères spéciaux en écriture HTML et d'éviter ainsi des problèmes de sécurité.<br/> Comme pour la fonction utilisateur, il faut utiliser un nom spécial pour les modificateurs de variable : « smarty_modifier_ » suivi du nom du modificateur. Et pour le fichier qui le contient : « modifier. » puis le nom du modificateur.</p><pre id="r-415011" data-claire-element-id="415011"><code data-claire-semantic="html+php">&lt;?php
function smarty_modifier_htmlspecialchars($string) {

}
?&gt;</code></pre><p id="r-415012" data-claire-element-id="415012">Il suffit ensuite de retourner le contenu « htmlspecialcharsé » vers le fichier de template :</p><pre id="r-415013" data-claire-element-id="415013"><code data-claire-semantic="html+php">&lt;?php
function smarty_modifier_htmlspecialchars($string) {
    return htmlspecialchars($string);
}
?&gt;</code></pre><p id="r-415014" data-claire-element-id="415014">Voilà ! Bien sûr, il existe des modificateurs beaucoup plus compliqués qui vous simplifieront grandement la vie.</p><h2 id="r-foreach" data-claire-element-id="415025">{foreach}</h2><p id="r-415016" data-claire-element-id="415016">N'avez vous jamais voulu faire une liste de membre sans omettre les virgules et le « et » du dernier argument. Grâce à Smarty il est possible de configurer tout cela avec facilité.<br/> Tout d'abord il faut donner un nom à notre {foreach} grâce à l'attribut name. Pour notre listage de membre cela va donc donner ceci: <code data-claire-semantic="smarty">{foreach from=$liste_membre item=$pseudo name=liste_membre}</code>.<br/> Puis entre en jeu deux nouveaux arguments :</p><ul id="r-415021" data-claire-element-id="415021"><li id="r-415018" data-claire-element-id="415018"><p id="r-415017" data-claire-element-id="415017">.first qui renvoie <strong>true</strong> si la valeur est la première de l'<em>array</em>.</p></li><li id="r-415020" data-claire-element-id="415020"><p id="r-415019" data-claire-element-id="415019">.last qui a l'opposé de .first renvoie <strong>true</strong> si la valeur est la dernière de l'<em>array</em>.</p></li></ul><p id="r-415022" data-claire-element-id="415022">Pour notre cas, grâce à ces deux arguments donnent :</p><pre id="r-415023" data-claire-element-id="415023"><code data-claire-semantic="smarty">{foreach from=$liste_membre item=$pseudo name=liste_membre}
    {if !$smarty.foreach.liste_membre.first}{* Si le pseudo n'est pas le premier *}
     {if !$smarty.foreach.reader.last}{* Si le pseudo n'est pas le dernier on met une virgule*}
       , 
     {else}{* Si le pseudo est le dernier on met un « et »*}
      et
     {/if}
    {/if}
{$pseudo}{* On finit par afficher le pseudo*}
{/foreach}</code></pre><p id="r-415024" data-claire-element-id="415024">Cette méthode vous permet d'avoir un affichage de vos liste plus recherché.</p><h2 id="r-l-heritage-des-templates" data-claire-element-id="415034">L'héritage des templates</h2><p id="r-415026" data-claire-element-id="415026">Recopier sa structure (x)HTML sur chaque page, vous connaissez ? Grâce à la nouvelle version de Smarty il est possible de réaliser un héritage de template. Ce qu'il vous faut, une page dite mère — qui elle contient la structure des pages de votre site (titre, menu ...) — et une page dite fille — qui contient le contenu de la page (news, texte ...).<br/> Tout d'abord votre page trame.html va contenir une structure tout simple (x)HTML avec un menu, un titre de page et une place pour le contenu.</p><pre id="r-415027" data-claire-element-id="415027"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;Titre par defaut&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;!-- Place pour le contenu exemple:«Cette page ne contient rien» --&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-415028" data-claire-element-id="415028">On va y mettre un fonction native de faire de placer le contenu de la page index.html dans notre fichier actuel. On utilise pour ceci la fonction <code data-claire-semantic="smarty">{block name=titre}</code> (fonction qui bien sûr se ferme à l'aide de <code data-claire-semantic="smarty">{/block}</code>). Il suffit juste de mettre le nom du block concerné et de mettre entre l'ouverture et la fermeture de cette fonction native le contenu par defaut.</p><pre id="r-415029" data-claire-element-id="415029"><code data-claire-semantic="smarty">&lt;html&gt;
&lt;head&gt;
  &lt;title&gt;{block name=titre}Titre par defaut{/block}&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
{block name=contenu}Cette page ne contient rien{/block}
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-415030" data-claire-element-id="415030">Ainsi vous pouvez ajouter dans le fichier que sur lequel vous travaillez (nous ici index.html) les balises <code data-claire-semantic="smarty">{block}</code> avec le contenu que vous souhaitez afficher. Pour permettre l'import du fichier trame il suffit d'utiliser la fonction extends et de mettre pour le paramètre file le chemin qui mène au fichier de trame ce qui donne ici : <code data-claire-semantic="smarty">{extends file=&quot;trame.html&quot;}</code>.</p><pre id="r-415031" data-claire-element-id="415031"><code data-claire-semantic="smarty">{extends file=&quot;trame.html&quot;}
{block name=titre}Le titre de ma page{/block}
{block name=contenu}&quot;Contenu&quot; est un mot.{/block}</code></pre><aside id="r-415033" data-claire-element-id="415033" data-claire-semantic="information"><p id="r-415032" data-claire-element-id="415032">Astuce ─ Quand vous commencez à avoir trop de variable, je vous conseille d'utiliser la fonction native <code data-claire-semantic="smarty">{debug}</code> qui permet l'ouverture d'une pop-up regroupant toutes les variables et leur contenu.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
<span class="arrow"></span>
<span class="next">Un système de news</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
<span class="next">Un système de cache</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unsystmedecache"></a><h2>Un système de cache</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
<span class="arrow"></span>
<span class="next">Mode avancé</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-415036" data-claire-element-id="415036">Vous pouvez trouver plus d'information sur la mise en cache pour PHP :</p><ul id="r-415043" data-claire-element-id="415043"><li id="r-415038" data-claire-element-id="415038"><p id="r-415037" data-claire-element-id="415037"><a href="http://www.siteduzero.com/tutoriel-3-31906-comprendre-et-utiliser-un-systeme-de-cache-php.html">Comprendre et utiliser un système de cache PHP</a></p></li><li id="r-415040" data-claire-element-id="415040"><p id="r-415039" data-claire-element-id="415039"><a href="http://www.siteduzero.com/tutoriel-3-31845-un-systeme-de-cache-simple.html">Un système de cache simple</a></p></li><li id="r-415042" data-claire-element-id="415042"><p id="r-415041" data-claire-element-id="415041"><a href="http://www.siteduzero.com/tutoriel-3-229092-1-un-moteur-de-template-smarty.html#qcm">Système de cache de Dr Night</a></p></li></ul><p id="r-415044" data-claire-element-id="415044">Vous avez sûrement entendu parler des systèmes de caches. Ils permettent de « soulager » le serveur en lui évitant l'utilisation de trop de requêtes. Faire un tel système pour votre site peut être extrêmement bénéfique.</p><h2 id="r-bien-commencer-1" data-claire-element-id="415052">Bien commencer</h2><p id="r-415045" data-claire-element-id="415045">Le système de cache fonctionne ainsi. Si le fichier n'est pas en cache on le crée puis on affiche ce cache. Maintenant si notre fichier est en cache mais que ce cache est trop vieux, on le met à jour puis on l'affiche. Enfin si notre fichier a un cache mise à jour on l'affiche directement. Simple, non ?</p><p id="r-415046" data-claire-element-id="415046">La première chose à faire avec Smarty c'est d'activer la mise en cache grâce à une variable, $caching. La valeur par défaut du cache est de 3600 secondes soit une heure.<br/> Maintenant il faut détecter que le fichier soit en cache, sinon comment pouvons nous savoir si oui ou non nous devons faire des requêtes. Pour cela Smarty nous met à disposition la fonction is_cached() qui doit contenir le nom de fichier de template concerné. <br/> Tout ceci nous donne :</p><pre id="r-415047" data-claire-element-id="415047"><code data-claire-semantic="html+php">&lt;?php
require(&quot;tpl/smarty.class.php&quot;);

$tpl = new Smarty()

$tpl-&gt;caching = 1;

if(!$tpl-&gt;isCached(&quot;index.html&quot;)) {
   //Le fichier n'est pas en cache
 
   /***REQUÊTE***/
}

$tpl-&gt;display(&quot;index.html&quot;);

?&gt;</code></pre><p id="r-415048" data-claire-element-id="415048">Il est possible de configurer la durée du cache grâce à la variable $cache_lifetime. La valeur indiquée doit être en seconde et la valeur de la variable caching doit être égale à 2.</p><pre id="r-415049" data-claire-element-id="415049"><code data-claire-semantic="html+php">&lt;?php
$tpl = new Smarty()

$tpl-&gt;caching = 2;

$tpl-&gt;cache_lifetime = 600; //La durée du cache est de 10 minutes.

$tpl-&gt;display(&quot;index.html&quot;);
?&gt;</code></pre><aside id="r-415051" data-claire-element-id="415051" data-claire-semantic="information"><p id="r-415050" data-claire-element-id="415050">Astuce ─ Pendant votre développement il est inconcevable de devoir attendre le temps de votre cache pour pouvoir tester une page. Grâce à la ligne <code data-claire-semantic="html+php">&lt;?php $tpl-&gt;compile_check = true; ?&gt;</code> si votre fichier possède des modifications, le cache est mise à jour.<br/> Vous pouvez également effacer tout les fichiers en cache avec la fonction clear_all_cache().</p></aside><h2 id="r-aller-un-peu-plus-loin-1" data-claire-element-id="415076">Aller un peu plus loin</h2><h3 id="r-faire-un-cache-pour-chaque-id" data-claire-element-id="415056">Faire un cache pour chaque id</h3><p id="r-415053" data-claire-element-id="415053">Vous êtes souvent amenés à avoir pour une même page plusieurs résultats. Par exemple si vous souhaitez afficher une news vous utilisez un id pour symboliser cette news et donc l'afficher. Smarty vous permet de configurer chaque affichage pour éviter de remettre à jour le cache de chacune de vos news. Il faut donc mettre l'id de la news en second paramètre de la fonction display().</p><pre id="r-415054" data-claire-element-id="415054"><code data-claire-semantic="html+php">&lt;?php
$tpl = new Smarty()

$tpl-&gt;caching = 1;

$news_id = $_GET['news_id'];

$tpl-&gt;display(&quot;news.html&quot;,$news_id);
?&gt;</code></pre><p id="r-415055" data-claire-element-id="415055">Ce paramètre peut être également utiliser pour la fonction is_cached() pour permettre de vérifier si le fichier de cache de cette news existe.</p><h3 id="r-empecher-la-mise-en-cache-d-une-partie-de-la-page" data-claire-element-id="415075">Empêcher la mise en cache d'une partie de la page</h3><p id="r-415057" data-claire-element-id="415057">Certaines parties de votre cache ne peuvent pas être mise en cache. Par exemple, il y a un indicateur de temps sur votre page, le temps avance et ne peut pas être mis en cache.<br/> Ainsi grâce à la version Smarty 3, le système est plus simple. Il suffit maintenant de mettre le contenu de votre fichier de template à mettre en cache entre les balises <code data-claire-semantic="smarty">{nocache}{/nocache}</code>.</p><pre id="r-415058" data-claire-element-id="415058"><code data-claire-semantic="smarty">{nocache}
{$smarty.now|date_format:'%d/%m/%Y'}
{/nocache}</code></pre><p id="r-415059" data-claire-element-id="415059">Ce tutoriel touche maintenant à sa fin ; j'espère que vous avez appris quelque chose d'utile. Smarty est un moteur de template très puissant et surtout très complet, j'espère donc qu'il vous aura plu. N'hésitez pas non plus à voir d'autres moteurs de template sûrement moins puissants que Smarty mais qui vous conviendront peut-être mieux.</p><p id="r-415060" data-claire-element-id="415060">Si vous avez des questions à me poser à propos du tutoriel, c'est <a href="http://www.siteduzero.com/mp-273-179976.html">par ici</a> ; si vous avez besoin d'aide pour le débogage d'un code, je vous invite à poster sur <a href="http://www.siteduzero.com/forum-81-123-php.html">le forum dédié au PHP</a>.</p><p id="r-415061" data-claire-element-id="415061">Voici également quelques liens :</p><ul id="r-415072" data-claire-element-id="415072"><li id="r-415063" data-claire-element-id="415063"><p id="r-415062" data-claire-element-id="415062">le site de <a href="http://www.smarty.net/">Smarty</a> ;</p></li><li id="r-415065" data-claire-element-id="415065"><p id="r-415064" data-claire-element-id="415064"><a href="http://www.smarty.net/manual/fr/">la documentation de Smarty 2</a> très complète et en français ;</p></li><li id="r-415067" data-claire-element-id="415067"><p id="r-415066" data-claire-element-id="415066"><a href="http://www.smarty.net/docs/en/">la documentation de Smarty 3</a> en anglais ;</p></li><li id="r-415069" data-claire-element-id="415069"><p id="r-415068" data-claire-element-id="415068"><a href="http://php.developpez.com/comparatifs/templates/#LII">la liste des autres moteurs de template</a> ;</p></li><li id="r-415071" data-claire-element-id="415071"><p id="r-415070" data-claire-element-id="415070">deux autres tutoriels sur le même thème sur le Site du Zéro : <a href="http://www.siteduzero.com/tutoriel-3-35648-utilisation-d-un-moteur-de-templates-gagatemplate.html">Gatatemplate</a> et <a href="http://www.siteduzero.com/tutoriel-3-31259-utilisation-d-un-moteur-de-templates-talus-tpl.html">Talus' TPL</a>.</p></li></ul><aside id="r-415074" data-claire-element-id="415074" data-claire-semantic="warning"><p id="r-415073" data-claire-element-id="415073">Attention ─ Certaines fonctions de la seconde version de Smarty n'existent plus ou sont renommées dans la troisième version.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty">Un moteur de template : Smarty</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-moteur-de-template-1">
Un moteur de template ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/installation-et-mise-en-place">
Installation et mise en place
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/les-bases-18">
Les bases
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-news">
Un système de news
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
Mode avancé
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/un-systeme-de-cache">
Un système de cache
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/un-moteur-de-template-smarty/mode-avance">
<span class="arrow"></span>
<span class="next">Mode avancé</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/un-moteur-de-template-smarty.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:52:56 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/un-moteur-de-template-smarty.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:29:41 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/les-requetes-http.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:25:39 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-requetes-http.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:25:28 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Les requêtes HTTP</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/les-requetes-http.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Les requêtes HTTP</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#LesrequtesHTTP">Les requêtes HTTP</a><br/><a href="#HTTPksaco">HTTP késaco ?</a><br/><a href="#Lesrequtesclients">Les requêtes clients</a><br/><a href="#Lesrponses">Les réponses</a><br/><a href="#Comments039enservir">Comment s&#039;en servir ?</a><br/></div>
<a name="LesrequtesHTTP"></a><h2>Les requêtes HTTP</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
<span class="next">HTTP késaco ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-451009" data-claire-element-id="451009">Vous ne vous êtes jamais demandés pourquoi vous écrivez <strong>&quot;http://&quot;</strong> avant l'adresse de la plupart des sites internet ?<br/> Vous ne vous êtes jamais demandés ce qui se passait vraiment derrière les flèches des <a href="medias/uploads.siteduzero.com_files_5001_6000_5675.jpg">schémas de M@teo21</a> ?</p><p id="r-451010" data-claire-element-id="451010">Quelles que soient les réponses, je vais tenter de vous expliquer ça <em>à partir de zér0</em>.</p>
</div><a name="HTTPksaco"></a><h2>HTTP késaco ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
<span class="next">Les requêtes clients</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451011" data-claire-element-id="451011">Si je vais sur <a href="http://www.wikipedia.org/">Wikipédia</a>, je trouve cette superbe définition :</p><p id="r-451012" data-claire-element-id="451012"><cite>Citation : Wikipédia</cite></p><blockquote id="r-451014" data-claire-element-id="451014"><p id="r-451013" data-claire-element-id="451013">Le Hypertext Transfer Protocol, plus connu sous l'abréviation HTTP, littéralement le « protocole de transfert hypertexte », est un protocole de communication client-serveur développé pour le World Wide Web. Il est utilisé pour échanger toute sorte de données entre client HTTP et serveur HTTP.</p></blockquote><p id="r-451015" data-claire-element-id="451015">C'est-à-dire que HTTP est un espèce de langage qui va permettre au client (vous, par le biais de votre navigateur par exemple) de communiquer avec un serveur connecté au réseau (le serveur HTTP installé sur le serveur d'un site, par exemple <a href="http://fr.wikipedia.org/wiki/Apache_HTTP_Server">Apache</a>).</p><p id="r-451016" data-claire-element-id="451016">Dans le schéma suivant, les flèches représentent les requêtes HTTP :</p><figure id="r-451018" data-claire-element-id="451019"><img id="r-451017" data-claire-element-id="451017" src="medias/uploads.siteduzero.com_files_5001_6000_5675.jpg" alt="Image utilisateur"/></figure><p id="r-451020" data-claire-element-id="451020">Les requêtes (les flèches du schéma) vont toujours par paires : la demande (du client) et la réponse (du serveur).<br/> Si ce n'est pas le cas, c'est qu'un problème est survenu à un endroit du réseau.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http">Les requêtes HTTP</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
HTTP késaco ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
Les requêtes clients
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
Les réponses
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
Comment s&#039;en servir ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
<span class="next">Les requêtes clients</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesrequtesclients"></a><h2>Les requêtes clients</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
<span class="arrow"></span>
<span class="next">HTTP késaco ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
<span class="next">Les réponses</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-syntaxe-generale-1" data-claire-element-id="451058">Syntaxe générale</h2><p id="r-451022" data-claire-element-id="451022">La syntaxe de la demande (= requête client) est toujours la même :</p><pre id="r-451023" data-claire-element-id="451023"><code>Ligne de commande (Commande, URL, Version de protocole)
En-tête de requête
&lt;nouvelle ligne&gt;
Corps de requête</code></pre><h3 id="r-ligne-de-commande-2" data-claire-element-id="451033">Ligne de commande</h3><p id="r-451024" data-claire-element-id="451024">Commande est la méthode à utiliser, il spécifie le type de requête, il peut avoir les valeurs :</p><p id="r-451025" data-claire-element-id="451025"><cite>Citation : Wikipédia</cite></p><blockquote id="r-451027" data-claire-element-id="451027"><p id="r-451026" data-claire-element-id="451026"><strong>GET</strong><br/> C'est la méthode la plus courante pour demander une ressource. Une requête <strong>GET</strong> est sans effet sur la ressource, il doit être possible de répéter la requête sans effet.<br/><strong>HEAD</strong><br/> Cette méthode ne demande que des informations sur la ressource, sans demander la ressource elle-même.<br/><strong>POST</strong><br/> Cette méthode doit être utilisée lorsqu'une requête modifie la ressource.<br/><strong>OPTIONS</strong><br/> Cette méthode permet d'obtenir les options de communication d'une ressource ou du serveur en général.<br/><strong>CONNECT</strong><br/> Cette méthode permet d'utiliser un proxy comme un tunnel de communication.<br/><strong>TRACE</strong><br/> Cette méthode demande au serveur de retourner ce qu'il a reçu, dans le but de tester et d'effectuer un diagnostic sur la connexion.<br/><strong>PUT</strong><br/> Cette méthode permet d'ajouter une ressource sur le serveur.<br/><strong>DELETE</strong><br/> Cette méthode permet de supprimer une ressource du serveur.</p></blockquote><p id="r-451028" data-claire-element-id="451028">Je n'aborderai ici que les plus courantes : <strong>HEAD</strong>, <strong>GET</strong> et <strong>POST</strong>.</p><p id="r-451029" data-claire-element-id="451029">Ensuite, vient URL, c'est-à-dire l'adresse de la page sur le serveur ; elle est du type : &quot;/repertoire/page.ext&quot;.<br/> Traduction : le fichier &quot;page.ext&quot; dans le dossier &quot;repertoire&quot; qui se situe à la racine du serveur.</p><p id="r-451030" data-claire-element-id="451030">Le dernier élément de Ligne de commande est la version de HTTP utilisée.<br/> La version que je décris dans ce tuto est HTTP 1.1, je dois donc écrire : &quot;HTTP/1.1&quot;.</p><p id="r-451031" data-claire-element-id="451031">Exemple :</p><pre id="r-451032" data-claire-element-id="451032"><code>GET /repertoire/page.html HTTP/1.1</code></pre><h3 id="r-en-tetes" data-claire-element-id="451053">En-têtes</h3><p id="r-451034" data-claire-element-id="451034">Maintenant, attaquons-nous à l'en-tête : celui-ci peut contenir tout un tas de valeurs (c'est un peu le même principe que les balises &lt;meta&gt; en HTML), toujours présentées sous la forme :</p><pre id="r-451035" data-claire-element-id="451035"><code>Nom: valeur</code></pre><p id="r-451036" data-claire-element-id="451036">En voici quelques-unes :</p><ul id="r-451052" data-claire-element-id="451052"><li id="r-451038" data-claire-element-id="451038"><p id="r-451037" data-claire-element-id="451037">Host: <a href="http://www.site.com/">www.site.com</a><br/> Spécifie le nom de domaine du site, par exemple s'il y a plusieurs sites à la même adresse IP.</p></li><li id="r-451040" data-claire-element-id="451040"><p id="r-451039" data-claire-element-id="451039">Cookie: nom-cookie=valeur cookie<br/> Permet d'envoyer au serveur les cookies qui ont été enregistrés. Un cookie à toujours un nom et une valeur. Pour en envoyer plusieurs, écrivez-les à la suite, séparés par un point-virgule.</p></li><li id="r-451047" data-claire-element-id="451047"><p id="r-451041" data-claire-element-id="451041">Connection: Close|Keep-Alive<br/> Définit le type de connexion :</p><ul id="r-451046" data-claire-element-id="451046"><li id="r-451043" data-claire-element-id="451043"><p id="r-451042" data-claire-element-id="451042">Close : la connexion est fermée après la réponse</p></li><li id="r-451045" data-claire-element-id="451045"><p id="r-451044" data-claire-element-id="451044">Keep-Alive : crée une connexion persistante. Avec ce type de connexion, il est même possible d'envoyer une requête sans attendre la réponse à la précédente.</p></li></ul></li><li id="r-451049" data-claire-element-id="451049"><p id="r-451048" data-claire-element-id="451048">Content-type: application/x-www-form-urlencoded<br/> Spécifie le <a href="http://fr.wikipedia.org/wiki/Type_de_média_internet">type MIME</a> du corps de requête, il sera très utile dans le cas d'une requête <strong>POST</strong>.</p></li><li id="r-451051" data-claire-element-id="451051"><p id="r-451050" data-claire-element-id="451050">Content-Length: 42<br/> Spécifie la longueur du corps de requête.</p></li></ul><h3 id="r-corps-1" data-claire-element-id="451057">Corps</h3><p id="r-451054" data-claire-element-id="451054">Pour terminer la requête, on envoie le corps de requête. Il peut contenir, par exemple, le contenu d'un formulaire HTML envoyé en <strong>POST</strong>.<br/> Dans le cas du formulaire, les variables ont un nom et une valeur, comme l'en-tête Cookie, et les différentes variables sont séparées par des esperluettes : &quot;&amp;&quot; (notez que les variables passées par <strong>GET</strong> sont également séparées par &quot;&amp;&quot;).</p><p id="r-451055" data-claire-element-id="451055">Exemple :</p><pre id="r-451056" data-claire-element-id="451056"><code>variable=valeur&amp;variable2=valeur2</code></pre><h2 id="r-head-1" data-claire-element-id="451063">HEAD</h2><p id="r-451059" data-claire-element-id="451059"><strong>HEAD</strong> demande l'envoi de l'en-tête de la réponse sans son contenu. Il est intéressant si on veut, par exemple, récupérer des informations sur un fichier ou sur le serveur.</p><p id="r-451060" data-claire-element-id="451060">Exemple :</p><pre id="r-451061" data-claire-element-id="451061"><code>HEAD /fichier.ext HTTP/1.1
Host: www.site.com
Connection: Close
&lt;nouvelle ligne&gt;</code></pre><p id="r-451062" data-claire-element-id="451062"><strong>NB :</strong> même si le corps de requête ne contient rien, on termine l'en-tête sur 2 nouvelles lignes.</p><h2 id="r-get-1" data-claire-element-id="451070">GET</h2><p id="r-451064" data-claire-element-id="451064"><strong>GET</strong> est la méthode permettant de récupérer le contenu d'un fichier.</p><p id="r-451065" data-claire-element-id="451065">Exemple :</p><pre id="r-451066" data-claire-element-id="451066"><code>GET /fichier.ext HTTP/1.1
Host: www.site.com
Connection: Close
&lt;nouvelle ligne&gt;</code></pre><p id="r-451067" data-claire-element-id="451067">Pour ceux qui pratiquent le PHP notamment, GET est familier. En effet, pour pouvoir récupérer des variables passées par l'url, il faut faire : $_GET['variable'].<br/> Pour transmettre ces variables, il faut remplacer la ligne de commande par quelque chose du type :</p><pre id="r-451068" data-claire-element-id="451068"><code>GET /fichier.ext?variable=valeur&amp;variable2=valeur2 HTTP/1.1</code></pre><p id="r-451069" data-claire-element-id="451069">En séparant la liste de variables de l'adresse de la page par un &quot;?&quot; et en séparant chaque variable de la suivante par &quot;&amp;&quot;.</p><h2 id="r-post-1" data-claire-element-id="451081">POST</h2><p id="r-451071" data-claire-element-id="451071">Ce dernier est un chouïa plus complexe. Il a le même effet que <strong>GET</strong> sauf que, lui, envoie des données via le corps de la requête.<br/> Il vous faudra spécifier le type des données. Pour un formulaire HTML, il y a 2 valeurs possibles :</p><ul id="r-451076" data-claire-element-id="451076"><li id="r-451073" data-claire-element-id="451073"><p id="r-451072" data-claire-element-id="451072">application/x-www-form-urlencoded<br/> valeur par défaut</p></li><li id="r-451075" data-claire-element-id="451075"><p id="r-451074" data-claire-element-id="451074">multipart/form-data<br/> utilisée notamment pour le download de fichiers.</p></li></ul><p id="r-451077" data-claire-element-id="451077">Il vous faudra également spécifier la longueur du corps.</p><p id="r-451078" data-claire-element-id="451078">Exemple :</p><pre id="r-451079" data-claire-element-id="451079"><code>POST /fichier.ext HTTP/1.1
Host: www.site.com
Connection: Close
Content-type: application/x-www-form-urlencoded
Content-Length: 33
&lt;nouvelle ligne&gt;
variable=valeur&amp;variable2=valeur2</code></pre><p id="r-451080" data-claire-element-id="451080"><strong>Remarque :</strong> on peut transmettre des variables <strong>GET</strong> avec une requête <strong>POST</strong>, il suffit de changer l'url demandée de la même façon que pour <strong>GET</strong>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http">Les requêtes HTTP</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
HTTP késaco ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
Les requêtes clients
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
Les réponses
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
Comment s&#039;en servir ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
<span class="arrow"></span>
<span class="next">HTTP késaco ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
<span class="next">Les réponses</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesrponses"></a><h2>Les réponses</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
<span class="arrow"></span>
<span class="next">Les requêtes clients</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
<span class="next">Comment s&#039;en servir ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451083" data-claire-element-id="451083">Les réponses ont, elles aussi, toujours la même syntaxe :</p><pre id="r-451084" data-claire-element-id="451084"><code>Ligne de statut (Version, Code-réponse, Texte-réponse)
En-tête de réponse
&lt;nouvelle ligne&gt;
Corps de réponse</code></pre><h3 id="r-ligne-de-statut" data-claire-element-id="451093">Ligne de statut</h3><p id="r-451085" data-claire-element-id="451085">La ligne de statut est composée de :</p><ul id="r-451092" data-claire-element-id="451092"><li id="r-451087" data-claire-element-id="451087"><p id="r-451086" data-claire-element-id="451086">Version : la version HTTP du serveur</p></li><li id="r-451089" data-claire-element-id="451089"><p id="r-451088" data-claire-element-id="451088">Code-réponse : le code d'erreur retourné (par exemple 200, 403, 404, 500)</p></li><li id="r-451091" data-claire-element-id="451091"><p id="r-451090" data-claire-element-id="451090">Texte-réponse : le texte associé à l'erreur (respectivement pour les exemples précédents : &quot;OK&quot;, &quot;FORBIDDEN&quot;, &quot;NOT FOUND&quot;, &quot;INTERNAL ERROR&quot;).</p></li></ul><h3 id="r-en-tetes-1" data-claire-element-id="451106">En-têtes</h3><p id="r-451094" data-claire-element-id="451094">Les en-têtes sont nombreux ici aussi, en voici quelques-uns utiles :</p><ul id="r-451105" data-claire-element-id="451105"><li id="r-451096" data-claire-element-id="451096"><p id="r-451095" data-claire-element-id="451095">Date: Fri, 31 Dec 1999 23:59:59 GMT<br/> Date de génération de la réponse.</p></li><li id="r-451098" data-claire-element-id="451098"><p id="r-451097" data-claire-element-id="451097">Server: Apache/2.2.3<br/> Spécifie le modèle du serveur HTTP.</p></li><li id="r-451100" data-claire-element-id="451100"><p id="r-451099" data-claire-element-id="451099">Content-type: text/plain<br/><a href="http://www.siteduzero.com/tuto-3-14498-1-les-requetes-http.html#ss_part_3">cf. chapitre précédent.</a></p></li><li id="r-451102" data-claire-element-id="451102"><p id="r-451101" data-claire-element-id="451101">Content-Length: 42<br/><a href="http://www.siteduzero.com/tuto-3-14498-1-les-requetes-http.html#ss_part_3">cf. chapitre précédent.</a></p></li><li id="r-451104" data-claire-element-id="451104"><p id="r-451103" data-claire-element-id="451103">Set-Cookie: variable=valeur; expires=Fri, 31-Dec-2010 23:59:59 GMT; path=/; domain=.site.com<br/> Demande au navigateur d'enregistrer un cookie (voir <a href="http://be.php.net/manual/fr/function.setcookie.php">setcookie()</a>).</p></li></ul><h3 id="r-corps-2" data-claire-element-id="451116">Corps</h3><p id="r-451107" data-claire-element-id="451107">Et pour finir, le Corps de réponse contient le contenu du fichier, le HTML d'une page par exemple.</p><p id="r-451108" data-claire-element-id="451108">Exemple de réponse :</p><p id="r-451109" data-claire-element-id="451109"><cite>Citation : www.siteduzero.com</cite></p><blockquote id="r-451114" data-claire-element-id="451114"><p id="r-451110" data-claire-element-id="451110">HTTP/1.1 200 OK<br/> Date: Thu, 11 Jan 2007 14:00:36 GMT<br/> Server: Apache/2.0.54 (Debian GNU/Linux) DAV/2 SVN/1.1.4<br/> Connection: close<br/> Transfer-Encoding: chunked<br/> Content-Type: text/html; charset=ISO-8859-1</p><p id="r-451111" data-claire-element-id="451111">178a1</p><p id="r-451112" data-claire-element-id="451112">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.0 Strict//EN&quot; &quot;http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd&quot;&gt;<br/> &lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;<br/> &lt;head&gt;<br/> &lt;meta http-equiv=&quot;content-type&quot; content=&quot;text/html; charset=ISO-8859-1&quot; /&gt;<br/> &lt;meta http-equiv=&quot;pragma&quot; content=&quot;no-cache&quot; /&gt;</p><p id="r-451113" data-claire-element-id="451113">&lt;title&gt;Accueil - Le Site du Zéro&lt;/title&gt;<br/> ...</p></blockquote><p id="r-451115" data-claire-element-id="451115">Je vous ai épargné le long code source, mais il est bien sûr entier.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http">Les requêtes HTTP</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
HTTP késaco ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
Les requêtes clients
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
Les réponses
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
Comment s&#039;en servir ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
<span class="arrow"></span>
<span class="next">Les requêtes clients</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
<span class="next">Comment s&#039;en servir ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Comments039enservir"></a><h2>Comment s&#039;en servir ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
<span class="arrow"></span>
<span class="next">Les réponses</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<div id="r-451119" data-claire-element-id="451119" data-claire-semantic="question"><p id="r-451118" data-claire-element-id="451118">C'est bien beau tout ça, mais où dois-je taper mes requêtes HTTP ? Je dois les compiler ? Je dois les enregistrer dans un fichier ? o_O</p></div><p id="r-451120" data-claire-element-id="451120">HTTP n'est pas un langage en soit, c'est un protocole de communication, une syntaxe pour formuler des demandes et des réponses. On l'utilise via un vrai langage de programmation, le PHP ou le C, par exemple. Le langage se chargera de se connecter au serveur, d'envoyer / recevoir les requêtes et de fermer la connexion.</p><p id="r-451121" data-claire-element-id="451121">Pour faire des requêtes HTTP et recevoir les réponses du serveur, il faut utiliser ce qu'on appelle les <strong>sockets</strong> (ici, je le fais en PHP : <a href="http://be.php.net/manual/fr/ref.sockets.php">doc</a>, <a href="http://www.siteduzero.com/tuto-3-892-0-comment-utiliser-les-sockets-avec-php-comment-faire-un-chat-avec-les-sockets.html">tuto d'un zér0</a>).</p><p id="r-451122" data-claire-element-id="451122">Pour que vous puissiez tester les requêtes et voir les réponses, voici une portion de code en PHP où vous devrez modifier $name suivant le nom du site (ex : www.siteduzero.com) et $envoi qui contient la requête :</p><pre id="r-451123" data-claire-element-id="451123"><code data-claire-semantic="html+php">&lt;?php
//pour que la réponse s'affiche comme du texte brut
header('Content-Type: text/plain');
 
/*partie à modifier*/
$name = 'www.site.com';//nom du site
 
//pour ne pas devoir calculer à la main la longueur du corps, on le stocke dans une variable et la fonction strlen() nous la donne.
$data = 'variable=valeur&amp;variable2=valeur2';
 
//la requête
$envoi  = &quot;POST / HTTP/1.1\r\n&quot;;
$envoi .= &quot;Host: &quot;.$name.&quot;\r\n&quot;;
$envoi .= &quot;Connection: Close\r\n&quot;;
$envoi .= &quot;Content-type: application/x-www-form-urlencoded\r\n&quot;;
$envoi .= &quot;Content-Length: &quot;.strlen($data).&quot;\r\n\r\n&quot;;
$envoi .= $data.&quot;\r\n&quot;;
/*/partie à modifier*/
 
/*ouverture socket*/
$socket = socket_create(AF_INET, SOCK_STREAM, SOL_TCP);
if($socket &lt; 0){
        die('FATAL ERROR: socket_create() : &quot; '.socket_strerror($socket).' &quot;');
}
 
if (socket_connect($socket,gethostbyname($name),80) &lt; 0){
        die('FATAL ERROR: socket_connect()');
}
/*/ouverture socket*/
 
/*envoi demande*/
if(($int = socket_write($socket, $envoi, strlen($envoi))) === false){
        die('FATAL ERROR: socket_write() failed, '.$int.' characters written');
}
/*/envoi demande*/
 
/*lecture réponse*/
$reception = '';
while($buff = socket_read($socket, 2000)){
   $reception.=$buff;
}
echo $reception;
/*/lecture réponse*/
 
socket_close($socket);
?&gt;</code></pre><p id="r-451124" data-claire-element-id="451124"><strong>NB :</strong> les retours à la ligne sont remplacés par &quot; &quot;, ils sont importants dans les requêtes HTTP car ils délimitent chaque information. Entre l'en-tête et le corps, il faut une ligne vide, il y a donc &quot; &quot; après le dernier en-tête, ici : Content-Length.<br/><strong>NB2 :</strong> pour fonctionner, ce script nécessite l'activation de la librairie : <em>php_sockets.dll</em>, la manoeuvre est expliquée <a href="http://www.siteduzero.com/tuto-3-4164-1-les-sockets.html#ss_part_2">ici</a>.</p><p id="r-451125" data-claire-element-id="451125">Voilà, on est au bout ; j'espère que ce tuto vous a plu et surtout, que vous avez compris certaines choses.<br/> Normalement, maintenant, vous êtes parés pour faire un navigateur :p , en C par exemple, à l'aide des sockets.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http">Les requêtes HTTP</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/http-kesaco">
HTTP késaco ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-requetes-clients">
Les requêtes clients
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
Les réponses
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/comment-s-en-servir-3">
Comment s&#039;en servir ?
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-requetes-http/les-reponses">
<span class="arrow"></span>
<span class="next">Les réponses</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/les-requetes-http.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 01:25:39 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-requetes-http.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:25:28 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/la-reconnaissance-vocale-dans-son-application.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 04:35:30 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/la-reconnaissance-vocale-dans-son-application.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:55:54 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : La reconnaissance vocale dans son application</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : La reconnaissance vocale dans son application</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Lareconnaissancevocaledanssonapplication">La reconnaissance vocale dans son application</a><br/><a href="#Avantdecommencer">Avant de commencer</a><br/><a href="#Baseduprojet">Base du projet</a><br/><a href="#Prparationdelastructure">Préparation de la structure</a><br/><a href="#Lemoteurdereconnaissancevocale">Le moteur de reconnaissance vocale</a><br/><a href="#Lescommandesvocales">Les commandes vocales</a><br/><a href="#Dveloppementdesacquis">Développement des acquis</a><br/></div>
<a name="Lareconnaissancevocaledanssonapplication"></a><h2>La reconnaissance vocale dans son application</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
<span class="next">Avant de commencer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-372035" data-claire-element-id="372035">La reconnaissance vocale, au sens informatique du terme, est un procédé permettant d’analyser la parole et de la transformer en mots et en phrases. Elle permet donc le passage d’un son en un texte. Le terme généralement utilisé en anglais est Automatic Speech Recognition (ASR).</p><p id="r-372036" data-claire-element-id="372036">J'ai décidé de créer ce tutoriel suite à mon travail de Bachelor pour devenir ingénieur des médias spécialisé en technologies de l'information. Ce travail consistait à développer une application pour apprendre le braille avec <a href="http://www.mouskie.ch/">Mouskie</a> au moyen de la synthèse et de la reconnaissance vocale et donc en s'affranchissant totalement du clavier et de l'écran (pas très utilisables par des personnes handicapées de la vue ;) ).</p><p id="r-372037" data-claire-element-id="372037">Au début de ce travail, je dois dire que j'ai galéré pour trouver des informations concernant la reconnaissance vocale et surtout comment l'ajouter dans une application. C'est une science obscure de l'informatique et personne n'en parle. Alors, je me suis dit que j'allais apporter ma petite contribution...</p><p id="r-372038" data-claire-element-id="372038">Je tiens à signaler que j'ai fait des recherches sur la reconnaissance vocale et les différents moteurs qui existent. Le moteur qui est utilisé dans ce tutoriel provient de Windows, plus précisément <em>Windows Speech Recognition</em> et est disponible en français dans Windows Vista et Windows 7, dans la version en français bien sûr :D .</p>
</div><a name="Avantdecommencer"></a><h2>Avant de commencer</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
<span class="next">Base du projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372039" data-claire-element-id="372039">Avant d'enter dans le vif du sujet, voici une liste du matériel et des logiciels nécessaires avant de commencer à sérieusement travailler :</p><aside id="r-372051" data-claire-element-id="372051" data-claire-semantic="information"><ul id="r-372050" data-claire-element-id="372050"><li id="r-372041" data-claire-element-id="372041"><p id="r-372040" data-claire-element-id="372040">Windows Vista ou Windows 7 en français</p></li><li id="r-372043" data-claire-element-id="372043"><p id="r-372042" data-claire-element-id="372042">Visual C# Express Edition</p></li><li id="r-372045" data-claire-element-id="372045"><p id="r-372044" data-claire-element-id="372044">Un microphone</p></li><li id="r-372047" data-claire-element-id="372047"><p id="r-372046" data-claire-element-id="372046">Quelques notions en C#</p></li><li id="r-372049" data-claire-element-id="372049"><p id="r-372048" data-claire-element-id="372048">Quelques notions en XML</p></li></ul></aside><p id="r-372052" data-claire-element-id="372052">L'utilisation d'un autre IDE est également possible (je me suis forcé à retourner de Visual Studio 2008 aux éditions Express pour ce tuto!), mais je ne garantis pas que tout se fasse de la même manière. Aussi comme un niveau intermédiaire est demandé pour suivre ce tuto, je ne m'attarderai pas sur les détails genre : comment configurer un microphone, où trouver l'IDE, c'est quoi Windows et j'en passe et des meilleures. :D</p><p id="r-372053" data-claire-element-id="372053">Sinon, pour allécher le peuple, voici une super capture d'écran qui montre ce qui sera obtenu à la fin de cette lecture. Il s'agira d'un démonstrateur permettant d'utiliser diverses commandes dans le but d'afficher des lettres, des chiffres et faire quitter l'application. Après, si tout a été compris, il sera possible de créer des applications qui fonctionnent avec l'ASR très facilement. En passant, j'ai développé ce démonstrateur juste avant mon travail de Bachelor pour montrer à mon professeur que je n’allais pas me planter pendant le projet. Donc, oui, c'est minimaliste, mais ça marche et ça fait bien ce qu'on demande :</p><figure id="r-372055" data-claire-element-id="372056"><img id="r-372054" data-claire-element-id="372054" src="medias/uploads.siteduzero.com_files_195001_196000_195459.png" alt="Démonstrateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
<span class="next">Base du projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Baseduprojet"></a><h2>Base du projet</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
<span class="arrow"></span>
<span class="next">Avant de commencer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
<span class="next">Préparation de la structure</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372058" data-claire-element-id="372058">Le graphisme ce n'est pas ce qui est intéressant dans ce tutoriel. Je pense que c'est mieux de se concentrer sur le fond du problème et donc voici les quelques étapes et copier-coller à faire pour atteindre le même résultat que présenté ci-dessus. Rien de spécial n'est utilisé ici. A noter l'utilisation de WinForms et pas de WPF au niveau graphique. Alors, voici la liste de A à Z de ce qu'il faut faire en détail :</p><aside id="r-372074" data-claire-element-id="372074" data-claire-semantic="information"><ul id="r-372073" data-claire-element-id="372073"><li id="r-372060" data-claire-element-id="372060"><p id="r-372059" data-claire-element-id="372059">Démarrer Visual C# 2008 Express Edition</p></li><li id="r-372062" data-claire-element-id="372062"><p id="r-372061" data-claire-element-id="372061">Créer un nouveau projet (File &gt; New Project &gt; Windows Forms Application =&gt; Renommer en DemoRecoVocale et OK)</p></li><li id="r-372064" data-claire-element-id="372064"><p id="r-372063" data-claire-element-id="372063">Cliquer sur le &quot;+&quot; de Form1.cs</p></li><li id="r-372066" data-claire-element-id="372066"><p id="r-372065" data-claire-element-id="372065">Faire un clic-droit sur Form1.Designer.cs et cliquer sur &quot;View code&quot;</p></li><li id="r-372070" data-claire-element-id="372070"><p id="r-372067" data-claire-element-id="372067">Copier-coller le code ci-dessous dans Form1.Designer.cs =&gt;</p><div id="r-372069" data-claire-element-id="372069"><pre id="r-372068" data-claire-element-id="372068"><code data-claire-semantic="csharp">namespace DemoRecoVocale
{
    partial class Form1
    {
        /// &lt;summary&gt;
        /// Variable nécessaire au concepteur.
        /// &lt;/summary&gt;
        private System.ComponentModel.IContainer components = null;

        /// &lt;summary&gt;
        /// Nettoyage des ressources utilisées.
        /// &lt;/summary&gt;
        /// &lt;param name=&quot;disposing&quot;&gt;true si les ressources managées doivent être supprimées ; sinon, false.&lt;/param&gt;
        protected override void Dispose(bool disposing)
        {
            if (disposing &amp;&amp; (components != null))
            {
                components.Dispose();
            }
            base.Dispose(disposing);
        }

        #region Code généré par le Concepteur Windows Form

        /// &lt;summary&gt;
        /// Méthode requise pour la prise en charge du concepteur - ne modifiez pas
        /// le contenu de cette méthode avec l'éditeur de code.
        /// &lt;/summary&gt;
        private void InitializeComponent()
        {
            this.recoTextLabel = new System.Windows.Forms.Label();
            this.afficheLabel = new System.Windows.Forms.Label();
            this.devineLabel = new System.Windows.Forms.Label();
            this.recoText = new System.Windows.Forms.Label();
            this.affiche = new System.Windows.Forms.Label();
            this.devine = new System.Windows.Forms.Label();
            this.exemplesLabel = new System.Windows.Forms.Label();
            this.exemples = new System.Windows.Forms.TextBox();
            this.commandLabel = new System.Windows.Forms.Label();
            this.commandText = new System.Windows.Forms.Label();
            this.helpLabel = new System.Windows.Forms.Label();
            this.SuspendLayout();
            // 
            // recoTextLabel
            // 
            this.recoTextLabel.AutoSize = true;
            this.recoTextLabel.Location = new System.Drawing.Point(12, 32);
            this.recoTextLabel.Name = &quot;recoTextLabel&quot;;
            this.recoTextLabel.Size = new System.Drawing.Size(85, 13);
            this.recoTextLabel.TabIndex = 3;
            this.recoTextLabel.Text = &quot;Texte reconnu : &quot;;
            // 
            // afficheLabel
            // 
            this.afficheLabel.AutoSize = true;
            this.afficheLabel.Location = new System.Drawing.Point(12, 78);
            this.afficheLabel.Name = &quot;afficheLabel&quot;;
            this.afficheLabel.Size = new System.Drawing.Size(123, 13);
            this.afficheLabel.TabIndex = 5;
            this.afficheLabel.Text = &quot;Vous souhaitez afficher :&quot;;
            // 
            // devineLabel
            // 
            this.devineLabel.AutoSize = true;
            this.devineLabel.Location = new System.Drawing.Point(12, 101);
            this.devineLabel.Name = &quot;devineLabel&quot;;
            this.devineLabel.Size = new System.Drawing.Size(98, 13);
            this.devineLabel.TabIndex = 6;
            this.devineLabel.Text = &quot;Vous avez deviné :&quot;;
            // 
            // recoText
            // 
            this.recoText.AutoSize = true;
            this.recoText.Location = new System.Drawing.Point(103, 32);
            this.recoText.Name = &quot;recoText&quot;;
            this.recoText.Size = new System.Drawing.Size(27, 13);
            this.recoText.TabIndex = 7;
            this.recoText.Text = &quot;vide&quot;;
            // 
            // affiche
            // 
            this.affiche.AutoSize = true;
            this.affiche.Location = new System.Drawing.Point(141, 78);
            this.affiche.Name = &quot;affiche&quot;;
            this.affiche.Size = new System.Drawing.Size(27, 13);
            this.affiche.TabIndex = 8;
            this.affiche.Text = &quot;vide&quot;;
            // 
            // devine
            // 
            this.devine.AutoSize = true;
            this.devine.Location = new System.Drawing.Point(116, 101);
            this.devine.Name = &quot;devine&quot;;
            this.devine.Size = new System.Drawing.Size(27, 13);
            this.devine.TabIndex = 9;
            this.devine.Text = &quot;vide&quot;;
            // 
            // exemplesLabel
            // 
            this.exemplesLabel.AutoSize = true;
            this.exemplesLabel.Location = new System.Drawing.Point(12, 124);
            this.exemplesLabel.Name = &quot;exemplesLabel&quot;;
            this.exemplesLabel.Size = new System.Drawing.Size(146, 13);
            this.exemplesLabel.TabIndex = 10;
            this.exemplesLabel.Text = &quot;Exemple de textes reconnus :&quot;;
            // 
            // exemples
            // 
            this.exemples.Enabled = false;
            this.exemples.Location = new System.Drawing.Point(12, 144);
            this.exemples.Multiline = true;
            this.exemples.Name = &quot;exemples&quot;;
            this.exemples.Size = new System.Drawing.Size(384, 81);
            this.exemples.TabIndex = 11;
            this.exemples.Text = &quot;Fin du travail\r\nC'est la lettre a\r\nC'est le chiffre 5\r\nAffiche la lettre p\r\nAffiche le chiffre 0&quot;;
            // 
            // commandLabel
            // 
            this.commandLabel.AutoSize = true;
            this.commandLabel.Location = new System.Drawing.Point(12, 55);
            this.commandLabel.Name = &quot;commandLabel&quot;;
            this.commandLabel.Size = new System.Drawing.Size(66, 13);
            this.commandLabel.TabIndex = 12;
            this.commandLabel.Text = &quot;Commande :&quot;;
            // 
            // commandText
            // 
            this.commandText.AutoSize = true;
            this.commandText.Location = new System.Drawing.Point(84, 55);
            this.commandText.Name = &quot;commandText&quot;;
            this.commandText.Size = new System.Drawing.Size(27, 13);
            this.commandText.TabIndex = 13;
            this.commandText.Text = &quot;vide&quot;;
            // 
            // helpLabel
            // 
            this.helpLabel.AutoSize = true;
            this.helpLabel.Location = new System.Drawing.Point(12, 9);
            this.helpLabel.Name = &quot;helpLabel&quot;;
            this.helpLabel.Size = new System.Drawing.Size(309, 13);
            this.helpLabel.TabIndex = 14;
            this.helpLabel.Text = &quot;Pressez la touche espace pour commencer la reconnaissance...&quot;;
            // 
            // MainWindow
            // 
            this.AutoScaleDimensions = new System.Drawing.SizeF(6F, 13F);
            this.AutoScaleMode = System.Windows.Forms.AutoScaleMode.Font;
            this.ClientSize = new System.Drawing.Size(408, 237);
            this.Controls.Add(this.helpLabel);
            this.Controls.Add(this.commandText);
            this.Controls.Add(this.commandLabel);
            this.Controls.Add(this.exemples);
            this.Controls.Add(this.exemplesLabel);
            this.Controls.Add(this.devine);
            this.Controls.Add(this.affiche);
            this.Controls.Add(this.recoText);
            this.Controls.Add(this.devineLabel);
            this.Controls.Add(this.afficheLabel);
            this.Controls.Add(this.recoTextLabel);
            this.Name = &quot;MainWindow&quot;;
            this.Text = &quot;Démonstrateur de reconnaissance vocale&quot;;
            this.ResumeLayout(false);
            this.PerformLayout();

        }

        #endregion

        public System.Windows.Forms.Label recoTextLabel;
        public System.Windows.Forms.Label afficheLabel;
        public System.Windows.Forms.Label devineLabel;
        public System.Windows.Forms.Label recoText;
        public System.Windows.Forms.Label affiche;
        public System.Windows.Forms.Label devine;
        public System.Windows.Forms.Label exemplesLabel;
        public System.Windows.Forms.TextBox exemples;
        public System.Windows.Forms.Label commandLabel;
        public System.Windows.Forms.Label commandText;
        public System.Windows.Forms.Label helpLabel;
    }
}</code></pre></div></li><li id="r-372072" data-claire-element-id="372072"><p id="r-372071" data-claire-element-id="372071">Pressez la touche F5 et normalement la fenêtre devrait s'afficher correctement.</p></li></ul></aside><p id="r-372075" data-claire-element-id="372075">Bon j'espère que ça marche ! Sinon, il faut recommencer ces petites étapes. Donc, actuellement en ce qui concerne la reconnaissance vocale il n'y a rien du tout.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
<span class="arrow"></span>
<span class="next">Avant de commencer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
<span class="next">Préparation de la structure</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Prparationdelastructure"></a><h2>Préparation de la structure</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
<span class="arrow"></span>
<span class="next">Base du projet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
<span class="next">Le moteur de reconnaissance vocale</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372077" data-claire-element-id="372077">Voilà, on y arrive gentiment. Il faut encore réaliser quelques opérations et après tout sera prêt. Tout d'abord, il faut importer les bibliothèques de reconnaissance vocale dans le projet. La bibliothèque que l'on va utiliser se nomme System.Speech et elle est disponible en standard, donc pas de manipulations compliquées à effectuer. Pour cela il suffit de faire un clic-droit sur References &gt; Add Reference =&gt; sélectionner la bonne et cliquer sur OK.</p><p id="r-372078" data-claire-element-id="372078">Dans le programme, nous allons avoir besoin d'un fichier de grammaire XML pour gérer les commandes vocales ; alors nous allons en créer un. Pour cela, il faut faire un clic-droit sur DemoRecoVocale puis Add &gt; New Item =&gt; sélectionner XML File, le nommer Grammaire.grxml et cliquer sur OK. Ensuite, faire un clic-droit sur ce nouveau fichier puis Properties et aller à l'option Copy to Output Directory pour sélectionner Copy always.</p><p id="r-372079" data-claire-element-id="372079">Maintenant, au tour de la classe qui gérera la reconnaissance vocale. Pour cela, il faut faire un clic-droit sur DemoRecoVocale puis Add &gt; Class =&gt; renommer en ASR.cs et cliquer sur OK. Cette classe s'occupera de tout ce qui concerne la reconnaissance vocale et les actions qui s'en suivent (modifications des textes affichés et fermeture de l'application). Elle contiendra aussi l'instance du moteur de reconnaissance vocale.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
<span class="arrow"></span>
<span class="next">Base du projet</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
<span class="next">Le moteur de reconnaissance vocale</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lemoteurdereconnaissancevocale"></a><h2>Le moteur de reconnaissance vocale</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
<span class="arrow"></span>
<span class="next">Préparation de la structure</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
<span class="next">Les commandes vocales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372081" data-claire-element-id="372081">Dans cette partie se trouve l'initialisation du moteur de reconnaissance vocale et de ses fonctions les plus basiques. Aussi, dans un souci de qualité, le fonctionnement de l'application sera modifié pour que la reconnaissance vocale ne fonctionne qu'après la pression de la touche Espace et jusqu'à la fin de la reconnaissance vocale. Cela permet d'éviter que l'application s'emballe à cause du bruit ambiant notamment (souffle, travaux, téléphone, etc.).</p><aside id="r-372083" data-claire-element-id="372083" data-claire-semantic="information"><p id="r-372082" data-claire-element-id="372082">Pour commencer, copiez-collez le code ci-dessous pour remplacer celui actuellement contenu dans votre classe ASR. Ce code effectue une série d'actions : l'initialisation du moteur de reconnaissance vocale, le choix de l'entrée du microphone, le chargement de la grammaire XML et le choix des méthodes pour les divers cas de reconnaissance (reconnaissance effective, reconnaissance en cours, reconnaissance échouée). Je conseille de bien lire le code car il y a pas mal de commentaires qui expliquent bien ce que fait le code et je pense qu'il est assez verbeux pour ne pas le détailler encore ici.</p></aside><pre id="r-372084" data-claire-element-id="372084"><code data-claire-semantic="csharp">using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Speech.Recognition.SrgsGrammar;
using System.Speech.Recognition;
using System.Windows.Forms;


namespace DemoRecoVocale
{
    class ASR
    {
        public SpeechRecognitionEngine ASREngine;
        private Label recoText;
        private Label commandText;
        private Label devine;
        private Label affiche;

        /// &lt;summary&gt;
        /// Constructeur de l'ASR (Automatic Speech Recognition)
        /// &lt;/summary&gt;
        public ASR(ref Label recoText, ref Label commandText, ref Label devine, ref Label affiche)
        {
            //Les 4 labels dont le texte devra être changé
            //en fonction de ce qui est reconnu
            this.recoText = recoText;
            this.commandText = commandText;
            this.devine = devine;
            this.affiche = affiche;
            //Démarrage du moteur de reconnaissance vocale
            StartEngine();
        }

        /// &lt;summary&gt;
        /// Démarrage du moteur de reconnaissance vocale et chargement du
        /// fichier de grammaire Grammaire.grxml
        /// &lt;/summary&gt;
        private void StartEngine()
        {
            //Création d'un document de la norme SRGS à partir du fichier grxml
            SrgsDocument xmlGrammar = new SrgsDocument(&quot;Grammaire.grxml&quot;);
            //Création d'une grammaire depuis le fichier de grammaire
            Grammar grammar = new Grammar(xmlGrammar);
            //Création de l'objet traitant la reconnaissance vocale
            ASREngine = new SpeechRecognitionEngine();
            //Récupération du son du microphone
            ASREngine.SetInputToDefaultAudioDevice();
            //Chargement de la grammaire
            ASREngine.LoadGrammar(grammar);
            //Link des fonctions a appeler en cas de reconnaissance d'un texte
            ASREngine.SpeechRecognized += ASREngine_SpeechRecognized;
            ASREngine.SpeechRecognitionRejected += ASREngine_SpeechRecognitionRejected;
            ASREngine.SpeechHypothesized += ASREngine_SpeechHypothesized;
            //Spécification du nombre maximum d'alternatives
            //Par exemple : b ou p ou d ou t, t ou d, i ou j, etc.
            //Utile pour les sons qui se ressemblent
            ASREngine.MaxAlternates = 4;
        }

        /// &lt;summary&gt;
        /// Méthode utilisée lorsque la reconnaissance vocale est en cours
        /// &lt;/summary&gt;
        private void ASREngine_SpeechHypothesized(object sender, SpeechHypothesizedEventArgs e)
        {
        }

        /// &lt;summary&gt;
        /// Méthode utilisée lorsque la reconnaissance vocale a échoué
        /// &lt;/summary&gt;
        private void ASREngine_SpeechRecognitionRejected(object sender, SpeechRecognitionRejectedEventArgs e)
        {
        }

        /// &lt;summary&gt;
        /// Méthode utilisée lorsque la reconnaissance vocale est réussi
        /// &lt;/summary&gt;
        private void ASREngine_SpeechRecognized(object sender, SpeechRecognizedEventArgs e)
        {
        }
    }
}</code></pre><aside id="r-372086" data-claire-element-id="372086" data-claire-semantic="information"><p id="r-372085" data-claire-element-id="372085">Il faut également modifier la classe Form1 pour que son code ressemble à celui ci-dessous. La seule chose qui y est effectuée est l'initialisation de la classe ASR et la gestion de l'activation de la reconnaissance vocale par la touche Espace. Il est également possible d'activer la reconnaissance vocale en permanence en changeant simplement la commande <code data-claire-semantic="csharp">ASR.ASREngine.RecognizeAsync(RecognizeMode.Single); </code> par <code data-claire-semantic="csharp">ASR.ASREngine.RecognizeAsync(RecognizeMode.Multiple);</code></p></aside><pre id="r-372087" data-claire-element-id="372087"><code data-claire-semantic="csharp">using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Data;
using System.Drawing;
using System.Linq;
using System.Text;
using System.Windows.Forms;
using System.Speech.Recognition;

namespace DemoRecoVocale
{
    public partial class Form1 : Form
    {
        private ASR ASR;
        public Form1()
        {
            InitializeComponent();
            ASR = new ASR(ref this.recoText, ref this.commandText, ref this.devine, ref this.affiche);
            this.KeyPress += ActivateASR;
        }

        /// &lt;summary&gt;
        /// Active la reconnaissance vocale lors de la pression sur la touche
        /// espace pour une séquence de commande
        /// &lt;/summary&gt;
        private void ActivateASR(object sender, KeyPressEventArgs e)
        {
            if (e.KeyChar == (char)Keys.Space)
            {
                try
                {
                    //Activation de la reconnaissance vocale pour une commande
                    ASR.ASREngine.RecognizeAsync(RecognizeMode.Single);
                }
                catch { }
            }
        }

    }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
<span class="arrow"></span>
<span class="next">Préparation de la structure</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
<span class="next">Les commandes vocales</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lescommandesvocales"></a><h2>Les commandes vocales</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
<span class="arrow"></span>
<span class="next">Le moteur de reconnaissance vocale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
<span class="next">Développement des acquis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372089" data-claire-element-id="372089">Pour le moment, l'application plante car la grammaire XML (le fichier qui contient les commandes vocales) n'est pas encore créée. Nous allons donc voir ce que c'est. Cette grammaire permet de lister les commandes vocales qui seront disponibles dans l'application avec une flexibilité assez impressionnante. Ce fichier sera écrit d'après la spécification Speech Recognition Grammar Specification édictée par le W3C. Voici à quoi ressemble un de ces fichiers (celui-ci permet de reconnaître les termes a, b quitter et fermer) :</p><pre id="r-372090" data-claire-element-id="372090"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;grammar version=&quot;1.0&quot; xml:lang=&quot;fr-FR&quot; mode=&quot;voice&quot; tag-format=&quot;semantics-ms/1.0&quot; 
root=&quot;mouskie&quot; xmlns=&quot;http://www.w3.org/2001/06/grammar&quot;&gt;
  &lt;rule id=&quot;mouskie&quot; scope=&quot;public&quot;&gt;
    &lt;ruleref special=&quot;GARBAGE&quot; /&gt;
    &lt;one-of&gt;
      &lt;item&gt;
        a
        &lt;tag&gt;$.mouskie={}; $.mouskie._value=&quot;A&quot;;&lt;/tag&gt;
      &lt;/item&gt;
      &lt;item&gt;
        b
        &lt;tag&gt;$.mouskie={}; $.mouskie._value=&quot;B&quot;;&lt;/tag&gt;
      &lt;/item&gt;
      &lt;item&gt;
        Quitter
        &lt;tag&gt;$.mouskie={}; $.mouskie._value=&quot;QUIT&quot;;&lt;/tag&gt;
      &lt;/item&gt;
      &lt;item&gt;
        Fermer
        &lt;tag&gt;$.mouskie={}; $.mouskie._value=&quot;QUIT&quot;;&lt;/tag&gt;
      &lt;/item&gt;
    &lt;/one-of&gt;
    &lt;ruleref special=&quot;GARBAGE&quot; /&gt;
  &lt;/rule&gt;
&lt;/grammar&gt;</code></pre><p id="r-372091" data-claire-element-id="372091">Tout d'abord, il contient les en-têtes XML normales, puis une série d'informations sur la version de la grammaire, la langue, la règle racine (mouskie), la visibilité et le format des tags. Ensuite, les commandes vocales sont listées avec des informations particulières. Donc maintenant qu'est-ce que tout cela veut bien dire?</p><p id="r-372092" data-claire-element-id="372092"><strong>Le tag-format</strong> c'est la définition du format utilisé pour le texte contenu dans la balise tag. Cette balise tag est utilisée pour renvoyer des informations sémantiques à l'application. En gros au lieu de recevoir des phrases dans le style &quot;Jean a mangé à 13h une pomme verte savoureuse.&quot; on aurait plutôt &quot;Qui =&gt; Jean, Action =&gt; Manger, Nourriture =&gt; Pomme, Couleur =&gt; Verte&quot;. Bref, des informations beaucoup plus simples à interpréter dans un programme informatique.</p><p id="r-372093" data-claire-element-id="372093"><strong>La règle racine</strong> (mouskie dans ce cas) c'est là où le programme va entrer en premier. Cette règle contiendra toutes les commandes vocales et leur manière de fonctionner comme c'est le cas ici.</p><p id="r-372094" data-claire-element-id="372094"><strong>Le GARBAGE</strong> est une règle spéciale qui permet de dire &quot;parle tant que tu veux, je n'écouterai pas avant que tu dises quelque chose que je peux comprendre&quot;. En gros, ici on peut voir que les textes <em>a, b, Quitter et Fermer</em> peuvent être reconnus. Cette règle permettrait de dire à l'application &quot;J'aimerais bien QUITTER l'application maintenant&quot; et la reconnaissance vocale se focaliserait sur le terme &quot;QUITTER&quot; qu'elle comprend. Le reste qui vient avant et après, elle ne connaît pas, alors elle jette.</p><p id="r-372095" data-claire-element-id="372095"><strong>Les termes reconnus</strong> sont comme dit juste avant a, b, Quitter et Fermer et toutes les phrases qui peuvent les contenir grâce au garbage. Ces termes qui peuvent être reconnus sont dans des balises one-of, et item. Le one-of permet de dire &quot;Tu peux reconnaître UN de ces termes&quot;. Le item permet de définir un terme. A noter qu'un item peut contenir un one-of et ainsi de suite cela permet de faire de la construction de phrase.</p><p id="r-372096" data-claire-element-id="372096"><strong>La balise tag</strong> intimement liée au tag-format permet de renvoyer des commandes à l'application. Ici on peut voir que lorsque &quot;Quitter&quot; ou &quot;Fermer&quot; sont reconnus l'application recevra la commande &quot;QUIT&quot; en retour. Cette technique est pratique pour que plusieurs commandes entraînent la même action dans l'application. Bref, cela simplifie la programmation.</p><aside id="r-372098" data-claire-element-id="372098" data-claire-semantic="information"><p id="r-372097" data-claire-element-id="372097">Avec le fichier de grammaire XML ci-dessus, notre application peut déjà fonctionner.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
<span class="arrow"></span>
<span class="next">Le moteur de reconnaissance vocale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
<span class="next">Développement des acquis</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dveloppementdesacquis"></a><h2>Développement des acquis</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
<span class="arrow"></span>
<span class="next">Les commandes vocales</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-372100" data-claire-element-id="372100">Maintenant que le moteur de reconnaissance vocale tourne et que la grammaire est en place, il faut d'un côté développer la grammaire pour que le nombre de commandes vocales corresponde à ce que l'on souhaite faire et de l'autre développer l'application pour qu'elle puisse traiter les commandes qu'elle reçoit. Ici, on ne va développer qu'une toute petite grammaire dont voici les fonctions qu'elle comportera :</p><ul id="r-372111" data-claire-element-id="372111"><li id="r-372102" data-claire-element-id="372102"><p id="r-372101" data-claire-element-id="372101">Quitter l'application</p></li><li id="r-372104" data-claire-element-id="372104"><p id="r-372103" data-claire-element-id="372103">Affiche une lettre ou un chiffre</p></li><li id="r-372106" data-claire-element-id="372106"><p id="r-372105" data-claire-element-id="372105">Distinguer les lettres des chiffres sémantiquement</p></li><li id="r-372108" data-claire-element-id="372108"><p id="r-372107" data-claire-element-id="372107">Offrir plusieurs manières d'exprimer une commande</p></li><li id="r-372110" data-claire-element-id="372110"><p id="r-372109" data-claire-element-id="372109">Utiliser un vocabulaire naturel</p></li></ul><p id="r-372112" data-claire-element-id="372112">Pour ce faire, tout d'abord la grammaire avec les règles que voici :</p><pre id="r-372113" data-claire-element-id="372113"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;grammar version=&quot;1.0&quot; xml:lang=&quot;fr-FR&quot; mode=&quot;voice&quot; tag-format=&quot;semantics-ms/1.0&quot; 
root=&quot;mouskie&quot; xmlns=&quot;http://www.w3.org/2001/06/grammar&quot;&gt;
      &lt;rule id=&quot;mouskie&quot; scope=&quot;public&quot;&gt;
            &lt;ruleref special=&quot;GARBAGE&quot; /&gt;
            &lt;one-of&gt;
                  &lt;item&gt;
                        &lt;one-of&gt;
                              &lt;item&gt;quitter&lt;/item&gt;
                              &lt;item&gt;fermer&lt;/item&gt;
                        &lt;/one-of&gt;
                        &lt;tag&gt;$.mouskie={}; $.mouskie._value=&quot;QUIT&quot;;&lt;/tag&gt;
                  &lt;/item&gt;
                  &lt;item&gt;
                        &lt;one-of&gt;
                              &lt;item&gt;affiche&lt;/item&gt;
                              &lt;item&gt;montre&lt;/item&gt;
                              &lt;item&gt;c'est&lt;/item&gt;
                        &lt;/one-of&gt;
                        &lt;ruleref uri=&quot;#data_type&quot; /&gt;
                        &lt;tag&gt;$.data_type=$data_type; $.mouskie={}; $.mouskie._value=&quot;LEARN&quot;;&lt;/tag&gt;
                  &lt;/item&gt;
            &lt;/one-of&gt;
            &lt;ruleref special=&quot;GARBAGE&quot; /&gt;
      &lt;/rule&gt;
      &lt;rule id=&quot;data_type&quot; scope=&quot;public&quot;&gt;
            &lt;one-of&gt;
                  &lt;item&gt;
                        la lettre&lt;tag&gt;$._value=&quot;LETTER&quot;;&lt;/tag&gt;
                        &lt;ruleref uri=&quot;#letters&quot; /&gt;
                        &lt;tag&gt;$.letters=$letters;&lt;/tag&gt;
                  &lt;/item&gt;
                  &lt;item&gt;
                        le chiffre&lt;tag&gt;$._value=&quot;NUMBER&quot;;&lt;/tag&gt;
                        &lt;ruleref uri=&quot;#numbers&quot; /&gt;
                        &lt;tag&gt;$.numbers=$numbers;&lt;/tag&gt;
                  &lt;/item&gt;
            &lt;/one-of&gt;
      &lt;/rule&gt;
      &lt;rule id=&quot;letters&quot; scope=&quot;public&quot;&gt;
            &lt;one-of&gt;
                  &lt;item&gt;a&lt;/item&gt;
                  &lt;item&gt;b&lt;/item&gt;
            &lt;/one-of&gt;
            &lt;tag&gt;$._value = $recognized.text;&lt;/tag&gt;
      &lt;/rule&gt;
      &lt;rule id=&quot;numbers&quot; scope=&quot;public&quot;&gt;
            &lt;one-of&gt;
                  &lt;item&gt;0&lt;/item&gt;
                  &lt;item&gt;1&lt;/item&gt;
            &lt;/one-of&gt;
            &lt;tag&gt;$._value = $recognized.text;&lt;/tag&gt;
      &lt;/rule&gt;
&lt;/grammar&gt;</code></pre><p id="r-372114" data-claire-element-id="372114">Plusieurs choses sont utilisées ici : les règles internes (data_type, letters, numbers) et divers tags. Les règles internes sont assez simples à comprendre car elles sont appelées avec la balise ruleref et une URI. Par exemple : <code data-claire-semantic="xml">&lt;ruleref uri=&quot;#numbers&quot; /&gt; </code> permet de faire appel à la règle des nombres et avec le tag associé <code data-claire-semantic="xml">&lt;tag&gt;$.numbers=$numbers;&lt;/tag&gt; </code> les informations dans les tag de la règle numbers pourront être transmises.</p><p id="r-372115" data-claire-element-id="372115">Un autre tag est utilisé dans les règles des lettres et des nombres <code data-claire-semantic="xml">&lt;tag&gt;$._value = $recognized.text;&lt;/tag&gt; </code>. Ce tag permet de dire que le texte reconnu dans cette règle sera directement mis dans value. Pour les lettres et les chiffres c'est pratique car sinon il aurait fallu à chaque fois faire <code data-claire-semantic="xml">&lt;tag&gt;$._value = &quot;a&quot;;&lt;/tag&gt; </code>, <code data-claire-semantic="xml">&lt;tag&gt;$._value = &quot;b&quot;;&lt;/tag&gt; </code>, etc.</p><p id="r-372116" data-claire-element-id="372116">Maintenant que la grammaire est créée il faut passer à son utilisation au niveau du C#. Pour cela, seule la méthode ASREngine_SpeechRecognized doit être assez bien modifiée car c'est elle qui s'occupe des traitements lors d'une reconnaissance vocale qui se déroule avec succès. Les deux autres méthodes (reconnaissance vocale en cours et échouée) sont plutôt basiques dans cet exemple. Comme d'habitude je donne les codes et donne les explications ensuite.</p><pre id="r-372117" data-claire-element-id="372117"><code data-claire-semantic="csharp">/// &lt;summary&gt;
/// Méthode utilisée lorsque la reconnaissance vocale est en cours
/// &lt;/summary&gt;
private void ASREngine_SpeechHypothesized(object sender, SpeechHypothesizedEventArgs e)
{
    recoText.Text = &quot;Hypothèse : &quot; + e.Result.Text;
    devine.Text = &quot;&quot;;
    affiche.Text = &quot;&quot;;
    commandText.Text = &quot;&quot;;
}

/// &lt;summary&gt;
/// Méthode utilisée lorsque la reconnaissance vocale a échoué
/// &lt;/summary&gt;
private void ASREngine_SpeechRecognitionRejected(object sender, SpeechRecognitionRejectedEventArgs e)
{
    recoText.Text = &quot;Reconnaissance impossible&quot;;
    devine.Text = &quot;&quot;;
    affiche.Text = &quot;&quot;;
    commandText.Text = &quot;&quot;;
}

/// &lt;summary&gt;
/// Méthode utilisée lorsque la reconnaissance vocale est réussi
/// &lt;/summary&gt;
private void ASREngine_SpeechRecognized(object sender, SpeechRecognizedEventArgs e)
{
    recoText.Text = e.Result.Text;
    devine.Text = &quot;&quot;;
    affiche.Text = &quot;&quot;;
    //Récupération de la commande de base utilisée (QUIT ou LEARN)
    string baseCommand = e.Result.Semantics[&quot;mouskie&quot;].Value.ToString();
    commandText.Text = baseCommand;
    if (baseCommand.Equals(&quot;QUIT&quot;))
        Environment.Exit(0);
    else if (baseCommand.Equals(&quot;LEARN&quot;))
    {
        string dataType = e.Result.Semantics[&quot;data_type&quot;].Value.ToString();
        commandText.Text += &quot; &quot; + dataType;
        string node = &quot;&quot;;
        //Choix du noeud en fonction de la commande trouvée
        if (dataType.Equals(&quot;NUMBER&quot;))
            node = &quot;numbers&quot;;
        else if (dataType.Equals(&quot;LETTER&quot;))
            node = &quot;letters&quot;;
        try
        {   //Parcours des alternatives pour toutes les afficher
            for (int i = 0; i &lt; e.Result.Alternates.ToArray().Length; i++)
            {
                string found = e.Result.Alternates.ToArray()[i].Semantics[&quot;data_type&quot;][node].Value.ToString();
                if (i != 0)
                    affiche.Text += &quot; ou &quot;;
                affiche.Text += found;
            }
        }
        catch { }
    }
}</code></pre><p id="r-372118" data-claire-element-id="372118">La première chose qui est faite, c'est l'extraction de la commande <strong>mouskie</strong> qui peut prendre la valeur QUIT ou LEARN. Pour ce faire, il faut décortiquer l'objet SpeechRecognizedEventArgs qui est transmis et c'est là qu'on retrouve la sémantique. Toute la sémantique des diverses règles peut être retrouvée de cette manière.</p><p id="r-372119" data-claire-element-id="372119">Deuxième point, la multiple reconnaissance vocale. Dans le code pour démarrer le moteur de reconnaissance vocale, se trouvait ce petit bout de code :</p><pre id="r-372120" data-claire-element-id="372120"><code data-claire-semantic="csharp">//Spécification du nombre maximum d'alternatives
//Par exemple : b ou p ou d ou t, t ou d, i ou j, etc.
//Utile pour les sons qui se ressemblent
ASREngine.MaxAlternates = 4;</code></pre><p id="r-372121" data-claire-element-id="372121">Grâce à lui, le moteur de reconnaissance vocale ne retourne non pas un résultat mais jusqu'à 4. Pourquoi autant? Et bien simplement parce que la différence sonore entre un p, un b, un t et un d est tellement minime que de cette manière il est possible d'avoir les 4.</p><p id="r-372122" data-claire-element-id="372122">Tout au long de ce tutoriel, de nouvelles notions pas très courantes ont été abordées. En effet, la reconnaissance vocale est encore très peu présente dans l'informatique. J'espère que ce tutoriel aura servi à plus d'un, car, je l'ai expérimenté moi-même, les informations sur le sujet sont plutôt maigres. Si vous avez des questions concernant la grammaire XML ou d'autres choses en rapport avec ce tutoriel, n'hésitez pas à me contacter par MP.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application">La reconnaissance vocale dans son application</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/avant-de-commencer-16">
Avant de commencer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/base-du-projet-1">
Base du projet
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/preparation-de-la-structure">
Préparation de la structure
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/le-moteur-de-reconnaissance-vocale">
Le moteur de reconnaissance vocale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
Les commandes vocales
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/developpement-des-acquis">
Développement des acquis
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/la-reconnaissance-vocale-dans-son-application/les-commandes-vocales">
<span class="arrow"></span>
<span class="next">Les commandes vocales</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/la-reconnaissance-vocale-dans-son-application.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 04:35:31 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/la-reconnaissance-vocale-dans-son-application.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:55:54 GMT -->
</html>
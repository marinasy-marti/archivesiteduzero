<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/gerer-son-nom-de-domaine.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 05:39:17 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/gerer-son-nom-de-domaine.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:00:03 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Gérer son nom de domaine</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/gerer-son-nom-de-domaine.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Gérer son nom de domaine</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Grersonnomdedomaine">Gérer son nom de domaine</a><br/><a href="#LesIPetlesnomsdedomaine">Les IP et les noms de domaine</a><br/><a href="#LesserveursDNSlarescousse">Les serveurs DNS à la rescousse</a><br/><a href="#Obtenirunnomdedomaine">Obtenir un nom de domaine</a><br/><a href="#Configurerunnomdedomaine">Configurer un nom de domaine</a><br/><a href="#Grerleszonesdesondomaine">Gérer les zones de son domaine</a><br/></div>
<a name="Grersonnomdedomaine"></a><h2>Gérer son nom de domaine</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
<span class="next">Les IP et les noms de domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-469432" data-claire-element-id="469432">Vous avez probablement déjà entendu parler des noms de domaine, mais savez-vous vraiment ce que c'est ? Comment ça fonctionne, et comment on configure soi-même son nom de domaine ?</p><p id="r-469433" data-claire-element-id="469433">Dans ce cours, nous allons découvrir le fonctionnement des noms de domaine (qui est assez complexe), et mettre en place ensuite notre propre nom de domaine : achat du nom de domaine, installation d'un serveur de nom (bind9), gestion des zones DNS (A, CNAME, MX)...</p><p id="r-469434" data-claire-element-id="469434">Bonne lecture !</p>
</div><a name="LesIPetlesnomsdedomaine"></a><h2>Les IP et les noms de domaine</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
<span class="next">Les serveurs DNS à la rescousse</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-469435" data-claire-element-id="469435">Internet est un grand réseau composé de très nombreux ordinateurs. Pour qu'ils puissent communiquer entre eux, ils doivent pouvoir s'identifier. Sans nom, il serait impossible de différencier chacun des ordinateurs !</p><figure id="r-469437" data-claire-element-id="469438"><img id="r-469436" data-claire-element-id="469436" src="medias/uploads.siteduzero.com_files_240001_241000_240046.png" alt="Ordinateurs anonymes"/></figure><p id="r-469439" data-claire-element-id="469439">Pour résoudre ce problème, on a décidé d'attribuer un numéro d'identification unique à chaque ordinateur : c'est <strong>l'adresse IP</strong>.</p><h2 id="r-les-adresses-ip-3" data-claire-element-id="469452">Les adresses IP</h2><h3 id="r-adresses-ipv4" data-claire-element-id="469447">Adresses IPv4</h3><p id="r-469440" data-claire-element-id="469440">Les adresses IP, que vous avez très probablement rencontrées, ont la forme suivante :</p><p id="r-469441" data-claire-element-id="469441">124.217.229.14</p><p id="r-469442" data-claire-element-id="469442">Ce sont des séries de 4 nombres compris entre 0 et 255. Grâce à ces IP, chaque ordinateur peut avoir un numéro unique qui le rend identifiable :</p><figure id="r-469444" data-claire-element-id="469445"><img id="r-469443" data-claire-element-id="469443" src="medias/uploads.siteduzero.com_files_240001_241000_240051.png" alt="Ordinateurs et IP"/></figure><p id="r-469446" data-claire-element-id="469446">Ces adresses IP constituées de 4 nombres sont les plus répandues à l'heure actuelle, on les appelle IPv4. Cependant, leur nombre se révèle assez limité : il n'y a en effet &quot;que&quot; 256 imes256 imes256 imes256 possibilités d'IP, soit 256^4 = 4294967296 (plus de 4 milliards). Ce nombre a l'air grand, mais on finira prochainement par l'atteindre avec la multiplication des ordinateurs et des serveurs reliés à Internet.<br/> C'est pourquoi ces IP ont vocation à être remplacées par un nouveau système : IPv6.</p><h3 id="r-ipv6" data-claire-element-id="469451">IPv6</h3><p id="r-469448" data-claire-element-id="469448">La nouvelle forme d'IP, que l'on va rencontrer de plus en plus, a la forme suivante :</p><p id="r-469449" data-claire-element-id="469449">1703:01b8:43c4:85a3:0000:0000:a213:bba7</p><p id="r-469450" data-claire-element-id="469450">C'est une combinaison de plusieurs nombres hexadécimaux (d'où la présence des lettres a, b, c...), ce qui amène le nombre d'IP possibles à 2^{128}, ce qui représente un très très grand nombre ! Pour vous donner une idée, cela représente 667 millions de milliards d'adresses IP disponibles par mm² de la surface de la Terre ! :o</p><h2 id="r-les-noms-d-hote" data-claire-element-id="469463">Les noms d'hôte</h2><p id="r-469453" data-claire-element-id="469453">Les IP jouent un rôle fondamental dans l'identification des ordinateurs sur Internet, qui sont ainsi capables de se retrouver et de communiquer entre eux. Toutefois, pour un humain retenir une IP n'est pas facile (c'est déjà délicat pour 124.217.229.14, alors imaginez pour les nouvelles IP comme 1703:01b8:43c4:85a3:0000:0000:a213:bba7 !).</p><p id="r-469454" data-claire-element-id="469454">Pour résoudre ce problème, on a décidé qu'il serait possible d'associer un nom d'hôte à chaque machine, qui serait <em>équivalent </em>à écrire l'adresse IP. Ce nom d'hôte peut-être n'importe quel texte (comme <code>monordinateur</code>) mais il a le plus souvent la forme <code>accueil.entreprise.net</code>. Chaque ordinateur est identifiable soit par l'IP soit par le nom d'hôte :</p><figure id="r-469456" data-claire-element-id="469457"><img id="r-469455" data-claire-element-id="469455" src="medias/uploads.siteduzero.com_files_240001_241000_240052.png" alt="Ordinateurs, IP et noms d'hôte"/></figure><p id="r-469458" data-claire-element-id="469458">Les ordinateurs utilisent les adresses IP pour se repérer (ils sont plus à l'aise avec des nombres :p ). Le nom d'hôte est seulement un <em>alias</em> qui revient à écrire l'IP.</p><div id="r-469460" data-claire-element-id="469460" data-claire-semantic="question"><p id="r-469459" data-claire-element-id="469459">Mais comment un ordinateur traduit-il un nom d'hôte que lui donne un humain en une adresse IP qu'il peut utiliser ?</p></div><p id="r-469461" data-claire-element-id="469461">Bonne question. La traduction <em>nom d'hôte =&gt; IP</em> est appelé <strong>résolution d'hôte</strong>.<br/> L'opération inverse est aussi possible : <em>IP =&gt; nom d'hôte</em>. On parle de <strong>résolution inverse</strong>.</p><p id="r-469462" data-claire-element-id="469462">Mais cette résolution ne fonctionne pas par magie. Pour traduire un nom d'hôte comme <code>lisa.siteduzero.com</code> en une IP comme 210.111.18.84, l'ordinateur a besoin d'une &quot;table&quot; qui contient toutes les équivalences.</p><h2 id="r-associer-les-ip-et-les-noms-d-hotes" data-claire-element-id="469473">Associer les IP et les noms d'hôtes</h2><p id="r-469464" data-claire-element-id="469464">Au début, on a commencé à créer cette fameuse table sur chaque ordinateur dans un fichier appelé <code>hosts</code> (<em>hôtes </em>en anglais). Ce fichier existe toujours mais est très peu utilisé en pratique.</p><p id="r-469465" data-claire-element-id="469465">Si vous êtes sous Linux ou Mac OS X, vous pouvez le trouver sur votre disque dans /etc/hosts.<br/> Si vous êtes sous Windows, vous pouvez le trouver dans C:\Windows\system32\drivers\etc\hosts (vous pouvez l'ouvrir avec Bloc-Notes).</p><p id="r-469466" data-claire-element-id="469466">Ce fichier a la forme suivante :</p><pre id="r-469467" data-claire-element-id="469467"><code>127.0.0.1        localhost
127.0.1.1        mateo21-desktop

# The following lines are desirable for IPv6 capable hosts
::1     localhost ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters
ff02::3 ip6-allhosts</code></pre><p id="r-469468" data-claire-element-id="469468">On y trouve une équivalence IP / nom d'hôte par ligne.<br/> Ainsi, on y lit qu'écrire 127.0.0.1 ou écrire localhost est équivalent. On y trouve par ailleurs des adresses IPv6 raccourcies (fe00::0 est une IPv6).</p><div id="r-469470" data-claire-element-id="469470" data-claire-semantic="question"><p id="r-469469" data-claire-element-id="469469">Ce système a quand même un défaut : pour que chaque ordinateur connaisse toutes les équivalences entre les IP et les noms d'hôtes, il faut recopier ce fichier sur tous les ordinateurs !</p></div><p id="r-469471" data-claire-element-id="469471">C'est vrai. Et quand on ajoute un ordinateur sur le réseau, il faut rajouter une ligne dans chaque fichier hosts de chaque ordinateur pour qu'il connaisse le nouveau nom d'hôte !<br/> Cette technique était viable à l'époque où les réseaux étaient encore très petits, mais aujourd'hui avec environ 4 milliards d'ordinateurs sur Internet (et il s'en rajoute chaque jour) c'est impossible à maintenir !</p><p id="r-469472" data-claire-element-id="469472">Pour résoudre ce problème, on a inventé un système intelligent et un peu complexe : les DNS.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine">Gérer son nom de domaine</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
Les IP et les noms de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
Les serveurs DNS à la rescousse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
Obtenir un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
Configurer un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
Gérer les zones de son domaine
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
<span class="next">Les serveurs DNS à la rescousse</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LesserveursDNSlarescousse"></a><h2>Les serveurs DNS à la rescousse</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
<span class="arrow"></span>
<span class="next">Les IP et les noms de domaine</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
<span class="next">Obtenir un nom de domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-469475" data-claire-element-id="469475">Devant la multiplication des ordinateurs sur le réseau, et donc des noms d'hôtes, Paul Mockapetris a inventé en 1983 les noms de domaine (Domain Name System, ou DNS).</p><p id="r-469476" data-claire-element-id="469476">Il s'agit d'un système hiérarchique qui permet de &quot;découper&quot; le réseau en un ensemble de domaines, eux-mêmes composés de sous-domaines, éventuellement composés de sous-sous-domaines, etc. Il y a donc plusieurs niveaux de domaines possibles.</p><h2 id="r-les-differents-niveaux-de-domaine-1" data-claire-element-id="469494">Les différents niveaux de domaine</h2><p id="r-469477" data-claire-element-id="469477">Prenons un nom de domaine que vous connaissez bien :</p><p id="r-469478" data-claire-element-id="469478"><a href="http://www.siteduzero.com/">www.siteduzero.com</a></p><p id="r-469479" data-claire-element-id="469479">Il est composé de 3 niveaux de domaines, que l'on lit de droite à gauche :</p><ol id="r-469486" data-claire-element-id="469486"><li id="r-469481" data-claire-element-id="469481"><p id="r-469480" data-claire-element-id="469480"><strong>com </strong>: c'est le domaine de premier niveau. On parle de &quot;Top level domain&quot;, ou TLD.</p></li><li id="r-469483" data-claire-element-id="469483"><p id="r-469482" data-claire-element-id="469482"><strong>siteduzero </strong>: en-dessous, il existe de très nombreux domaines de second niveau : <strong>siteduzero</strong>.com, <strong>microsoft</strong>.com, <strong>apple</strong>.com, <strong>dell</strong>.com...</p></li><li id="r-469485" data-claire-element-id="469485"><p id="r-469484" data-claire-element-id="469484"><strong>www </strong>: chacun de ces domaines peut avoir des sous-domaines, le plus couramment utilisé sur le web étant &quot;www&quot;. On a donc www.siteduzero.com, www.microsoft.com... Cela étant, ce n'est pas une obligation, et on peut imbriquer plusieurs sous-domaines. Ainsi sur le site de Dell, on tombe souvent sur une adresse comme www1.euro.dell.com.</p></li></ol><p id="r-469487" data-claire-element-id="469487">Les domaines sont organisés <strong>hiérarchiquement </strong>entre eux comme ceci :</p><figure id="r-469489" data-claire-element-id="469490"><img id="r-469488" data-claire-element-id="469488" src="medias/uploads.siteduzero.com_files_240001_241000_240706.png" alt="DNS"/></figure><p id="r-469491" data-claire-element-id="469491">Comme vous le voyez, les domaines de premier niveau (&quot;fr&quot;, &quot;org&quot;, &quot;com&quot;...) dépendent d'un sommet appelé <strong>racine</strong> : c'est le point tout en haut du schéma.</p><aside id="r-469493" data-claire-element-id="469493" data-claire-semantic="information"><p id="r-469492" data-claire-element-id="469492">Il peut y avoir jusqu'à 127 niveaux de domaines (aa.bb.cc.dd.ee.ff.[...].com). Chacun de ces niveaux est appelé label, constitué de 63 caractères maximum.<br/> Le nom de domaine complet, appelé &quot;Fully Qualified Domain Name&quot; (FQDN) est constitué de tous les sous-domaines et inclut le point final représentant le serveur racine (<strong>www.siteduzero.com.</strong>). Il peut comprendre jusqu'à 253 caractères.</p></aside><h2 id="r-les-serveurs-dns" data-claire-element-id="469523">Les serveurs DNS</h2><p id="r-469495" data-claire-element-id="469495">Pour gérer ces très nombreux noms de domaines, et leurs sous-domaines, on a inventé un système de serveurs capables de gérer chacun un ou plusieurs niveaux de domaine. Ce sont les <strong>serveurs DNS</strong>.</p><div id="r-469497" data-claire-element-id="469497" data-claire-semantic="question"><p id="r-469496" data-claire-element-id="469496">Pourquoi créer plusieurs serveurs DNS ? Un seul serveur central ne suffirait pas ?</p></div><p id="r-469498" data-claire-element-id="469498">Non, car il serait trop fréquemment demandé. Imaginez que tous les ordinateurs du monde dépendent d'un seul serveur DNS pour connaître toutes les IP ! Si celui-ci venait à tomber en panne, Internet ne fonctionnerait tout simplement plus (et de toute façon un seul serveur ne peut pas supporter autant de requêtes).</p><p id="r-469499" data-claire-element-id="469499">On a découpé le problème en utilisant plusieurs niveaux de serveurs :</p><ul id="r-469506" data-claire-element-id="469506"><li id="r-469501" data-claire-element-id="469501"><p id="r-469500" data-claire-element-id="469500"><strong>Les serveurs racine</strong> : au nombre de 13, nommés de a.root-servers.net à m.root-servers.net, ils contiennent l'adresse des serveurs DNS de chaque domaine de premier niveau (com, net, org, fr...).</p></li><li id="r-469503" data-claire-element-id="469503"><p id="r-469502" data-claire-element-id="469502"><strong>Les serveurs DNS de premier niveau</strong> : il y en a plusieurs par domaine (&quot;com&quot;, &quot;net&quot;, &quot;fr&quot;...). Ils connaissent l'adresse des serveurs DNS de chacun des sous-niveaux. Ainsi, les serveurs DNS du domaine &quot;com&quot; connaissent l'adresse des serveurs DNS qui gèrent siteduzero.com, microsoft.com, apple.com...</p></li><li id="r-469505" data-claire-element-id="469505"><p id="r-469504" data-claire-element-id="469504"><strong>Les serveurs DNS de second niveau</strong> : très nombreux, ce sont eux le plus souvent qui contiennent les équivalences nom de domaine / IP. Ainsi, le serveur DNS de siteduzero.com connaît tous les sous-domaines (www.siteduzero.com, lisa.siteduzero.com, scratchy.siteduzero.com, etc.) et connaît l'adresse IP de la machine qui gère chacun de ces domaines.</p></li></ul><p id="r-469507" data-claire-element-id="469507">En plus de ces serveurs, chaque fournisseur d'accès à Internet (FAI) propose un serveur DNS qui fait office d'intermédiaire entre les internautes et les &quot;vrais&quot; serveurs DNS.</p><p id="r-469508" data-claire-element-id="469508">Alors, que se passe-t-il lorsqu'un visiteur demande à visiter un site web ? Voici comment cela fonctionne, résumé dans les grandes lignes dans un schéma :</p><figure id="r-469510" data-claire-element-id="469511"><img id="r-469509" data-claire-element-id="469509" src="medias/uploads.siteduzero.com_files_240001_241000_240769.png" alt="Serveurs DNS"/></figure><aside id="r-469513" data-claire-element-id="469513" data-claire-semantic="information"><p id="r-469512" data-claire-element-id="469512">Les serveurs qui connaissent réellement l'adresse IP associée à <a href="http://www.siteduzero.com/">www.siteduzero.com</a> sont appelés <em>serveurs DNS ayant autorité</em>. Sur mon schéma ci-dessus, il s'agit du serveur en bas à droite de l'image.</p></aside><p id="r-469514" data-claire-element-id="469514">En pratique, il y a plusieurs serveurs à chaque fois :</p><ul id="r-469521" data-claire-element-id="469521"><li id="r-469516" data-claire-element-id="469516"><p id="r-469515" data-claire-element-id="469515">Il y a 13 serveurs racine, mais grâce à des fonctionnalités avancées de routage (appelées <em>anycast</em>), plusieurs centaines de serveurs peuvent se partager une même adresse IP. Il y a donc physiquement des centaines de serveurs qui gèrent la racine, mais &quot;seulement&quot; 13 IP différentes.</p></li><li id="r-469518" data-claire-element-id="469518"><p id="r-469517" data-claire-element-id="469517">Il y a plusieurs serveurs de premier niveau à chaque fois pour chaque domaine...</p></li><li id="r-469520" data-claire-element-id="469520"><p id="r-469519" data-claire-element-id="469519">Il y a aussi plusieurs serveurs DNS pour un domaine comme siteduzero.com (au moins 2) ce qui permet au système de continuer à fonctionner en cas de panne de l'un d'eux. Il y a donc toujours au moins un serveur DNS principal (primaire) et un serveur secondaire contacté en cas de panne du premier.</p></li></ul><p id="r-469522" data-claire-element-id="469522">Ne vous laissez donc pas tromper par mon schéma précédent, que j'ai volontairement simplifié. Plusieurs serveurs peuvent répondre à chacune des questions. C'est d'ailleurs pour cela que les serveurs disent &quot;<em>Essaie </em>cette IP&quot; : si l'IP ne répond pas il sera toujours possible de contacter d'autres serveurs qui possèdent la même information.</p><h2 id="r-le-cache-dns" data-claire-element-id="469529">Le cache DNS</h2><p id="r-469524" data-claire-element-id="469524">Vous ne trouvez pas que cela fait beaucoup de requêtes pour trouver une adresse IP ?<br/> Comme vous le voyez, ce système distribué permet de gérer un très grand nombre de domaines mais il a quand même un défaut : s'il fallait faire toutes ces opérations à chaque fois qu'un utilisateur demande à résoudre un nom de domaine, cela serait très long et ferait beaucoup de trafic !</p><p id="r-469525" data-claire-element-id="469525">Les fournisseurs d'accès à internet (FAI) des internautes fournissent des serveurs DNS. Lorsque votre ordinateur doit résoudre un nom de domaine comme www.siteduzero.com, c'est donc le serveur DNS du FAI qui est contacté.</p><p id="r-469526" data-claire-element-id="469526">Le serveur DNS du FAI n'est pas un <em>vrai </em>serveur DNS qui connaît les correspondances &quot;nom d'hôte / IP&quot;. C'est un <em>intermédiaire</em>. Il garde temporairement en mémoire les dernières résolutions de noms de domaine pour ne pas contacter systématiquement tous les serveurs derrière.<br/> Ainsi, si deux utilisateurs du même FAI demandent à aller sur www.siteduzero.com, le serveur DNS ne fera pas toutes ces opérations deux fois. Il donnera immédiatement la réponse qu'il a conservée en cache.</p><aside id="r-469528" data-claire-element-id="469528" data-claire-semantic="information"><p id="r-469527" data-claire-element-id="469527">La mise en cache sur un serveur DNS peut durer de quelques secondes à plusieurs jours.<br/> C'est pour cela que, lorsqu'on change l'adresse IP associée à un nom de domaine, tous les internautes ne voient pas le changement immédiatement. Il faut qu'ils attendent que les serveurs DNS de leur FAI aient mis à jour leur cache pour prendre en compte la nouvelle adresse IP associée au domaine.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine">Gérer son nom de domaine</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
Les IP et les noms de domaine
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
Les serveurs DNS à la rescousse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
Obtenir un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
Configurer un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
Gérer les zones de son domaine
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
<span class="arrow"></span>
<span class="next">Les IP et les noms de domaine</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
<span class="next">Obtenir un nom de domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Obtenirunnomdedomaine"></a><h2>Obtenir un nom de domaine</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
<span class="arrow"></span>
<span class="next">Les serveurs DNS à la rescousse</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
<span class="next">Configurer un nom de domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-469531" data-claire-element-id="469531">Alors, comment fait-on pour avoir son propre nom de domaine ? C'est ce que nous allons voir maintenant. :)</p><p id="r-469532" data-claire-element-id="469532">Tout d'abord, il faut savoir que les noms de domaines ne sont pas gratuits : il faut les acheter auprès d'un opérateur spécialisé et autorisé appelé <em>registrar</em>. De plus, ces noms ne peuvent pas être achetés à vie, seulement loués pendant une période donnée (pouvant aller jusqu'à 10 ans).</p><aside id="r-469534" data-claire-element-id="469534" data-claire-semantic="information"><p id="r-469533" data-claire-element-id="469533">Il existe quelques rares exceptions : ainsi les noms de domaine de second niveau en &quot;.tk&quot; sont fournis gratuitement. Quant aux noms de domaine de troisième niveau, de nombreux hébergeurs les proposent gratuitement, sous la forme votresite.hebergeur.com. En effet, la création de sous-domaines est gratuite et illimitée.</p></aside><p id="r-469535" data-claire-element-id="469535">C'est un organisme américain, l'ICANN, qui gère les noms de domaine de premier niveau (TLD) comme .com, .net, .fr...<br/> Il délègue la gestion technique de ces TLD à différents opérateurs appelés <strong>registry</strong> : c'est l'AFNIC qui gère les domaines .fr et .re par exemple.<br/> Enfin chaque registry délègue à plusieurs <strong>registrar</strong> la vente des noms de domaine. Ceux-ci sont très nombreux. En France, citons <a href="http://www.gandi.fr/">Gandi</a>, <a href="http://www.ovh.com/">OVH</a>, <a href="http://www.1and1.fr/">1&amp;1</a>, <a href="http://www.nerim.fr/">Nerim</a>...</p><figure id="r-469537" data-claire-element-id="469538"><img id="r-469536" data-claire-element-id="469536" src="medias/uploads.siteduzero.com_files_240001_241000_240799.png" alt="Registry et registrar"/></figure><p id="r-469539" data-claire-element-id="469539">Vous devez donc prendre contact avec un registrar pour acheter votre nom de domaine. Le registrar se chargera d'inscrire votre nom de domaine sur les serveurs DNS du registry (l'AFNIC en France) qui aura donc connaissance de votre nom de domaine.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine">Gérer son nom de domaine</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
Les IP et les noms de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
Les serveurs DNS à la rescousse
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
Obtenir un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
Configurer un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
Gérer les zones de son domaine
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
<span class="arrow"></span>
<span class="next">Les serveurs DNS à la rescousse</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
<span class="next">Configurer un nom de domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Configurerunnomdedomaine"></a><h2>Configurer un nom de domaine</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
<span class="arrow"></span>
<span class="next">Obtenir un nom de domaine</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
<span class="next">Gérer les zones de son domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-469541" data-claire-element-id="469541">Une fois votre nom de domaine acheté chez un registrar, vous devez lui indiquer les adresses IP de vos serveurs DNS primaires et secondaires.</p><p id="r-469542" data-claire-element-id="469542">Il y a deux cas de figure :</p><ul id="r-469547" data-claire-element-id="469547"><li id="r-469544" data-claire-element-id="469544"><p id="r-469543" data-claire-element-id="469543">Soit vous voulez gérer vos serveurs DNS vous-même : dans ce cas vous donnez au registrar l'adresse IP de vos serveurs DNS qui gèrent le domaine que vous avez acheté.</p></li><li id="r-469546" data-claire-element-id="469546"><p id="r-469545" data-claire-element-id="469545">Soit vous laissez le registrar gérer votre DNS sur ses serveurs (ce que la plupart d'entre eux proposent). Dans ce cas vous utilisez en général une interface web simplifiée fournie par le registrar.</p></li></ul><p id="r-469548" data-claire-element-id="469548">Nous allons voir les deux cas ici. Pour l'installation de notre serveur DNS, nous utiliserons bind9 sous Linux, et pour la configuration &quot;simplifiée&quot; chez un registrar nous prendrons l'exemple de l'interface Gandi.</p><h3 id="r-installer-soi-meme-son-serveur-dns" data-claire-element-id="469602">Installer soi-même son serveur DNS</h3><p id="r-469549" data-claire-element-id="469549">Dans ce cas de figure (le plus complet mais aussi le plus complexe) vous devez disposer d'au moins 2 serveurs, afin que l'un fasse office de serveur DNS primaire et l'autre de serveur DNS secondaire.</p><p id="r-469550" data-claire-element-id="469550">Nous supposerons que vos serveurs sont sous Linux avec la distribution Debian.</p><p id="r-469551" data-claire-element-id="469551">Le programme le plus utilisé pour gérer un serveur DNS s'appelle &quot;bind&quot;. Vous pouvez l'installer avec la commande suivante :</p><pre id="r-469552" data-claire-element-id="469552"><code data-claire-semantic="console">sudo apt-get install bind9</code></pre><p id="r-469553" data-claire-element-id="469553">Il y a plusieurs fichiers de configuration à modifier. Ces deux-là sont les plus importants :</p><ul id="r-469558" data-claire-element-id="469558"><li id="r-469555" data-claire-element-id="469555"><p id="r-469554" data-claire-element-id="469554">named.conf.local : contient la liste des noms de domaine gérés par le serveur DNS (siteduzero.com, siteduzero.org...).</p></li><li id="r-469557" data-claire-element-id="469557"><p id="r-469556" data-claire-element-id="469556">db.monsite.com : contient la définition du nom de domaine et de ses sous-domaines (c'est-à-dire les IP associées à www.siteduzero.com, lisa.siteduzero.com, scratchy.siteduzero.com, etc.).</p></li></ul><p id="r-469559" data-claire-element-id="469559">Vous les trouverez dans /etc/bind. Ouvrez donc pour commencer le premier :</p><pre id="r-469560" data-claire-element-id="469560"><code data-claire-semantic="console">nano /etc/bind/named.conf.local</code></pre><p id="r-469561" data-claire-element-id="469561">Ajoutez-y une ligne de cette forme :</p><pre id="r-469562" data-claire-element-id="469562"><code>zone &quot;siteduzero.com&quot; {
        type master;
        allow-transfer {187.10.78.17;} ;
        file &quot;/etc/bind/db.siteduzero.com&quot;;
};</code></pre><p id="r-469563" data-claire-element-id="469563">Trois lignes définissent le domaine, appelé &quot;zone&quot; :</p><ul id="r-469570" data-claire-element-id="469570"><li id="r-469565" data-claire-element-id="469565"><p id="r-469564" data-claire-element-id="469564">type master : indique qu'il s'agit d'un serveur maître (il faut écrire slave pour les serveurs secondaires)</p></li><li id="r-469567" data-claire-element-id="469567"><p id="r-469566" data-claire-element-id="469566">allow-transfer {187.10.78.17;} : indique les IP des serveurs secondaires autorisés à &quot;copier&quot; les données du serveur maître</p></li><li id="r-469569" data-claire-element-id="469569"><p id="r-469568" data-claire-element-id="469568">file &quot;/etc/bind/db.siteduzero.com&quot; : indique le nom du fichier qui contient la définition détaillée du nom de domaine et de ses sous-domaines. On l'appelle en général db.mondomaine.com.</p></li></ul><aside id="r-469572" data-claire-element-id="469572" data-claire-semantic="information"><p id="r-469571" data-claire-element-id="469571">Dans le cas d'un serveur secondaire (dit &quot;esclave&quot;), vous devez remplacer type master par type slave, et remplacer la ligne allow-transfer par master{IP du serveur master}</p></aside><p id="r-469573" data-claire-element-id="469573">Ouvrez ensuite le fichier détaillant le nom de domaine (s'il n'existe pas, il sera créé) :</p><pre id="r-469574" data-claire-element-id="469574"><code data-claire-semantic="console">nano /etc/bind/db.siteduzero.com</code></pre><aside id="r-469576" data-claire-element-id="469576" data-claire-semantic="warning"><p id="r-469575" data-claire-element-id="469575">Ce fichier est assez complexe et il faut le modifier avec précaution, sinon votre domaine risque de ne plus marcher du tout !</p></aside><p id="r-469577" data-claire-element-id="469577">Voici un exemple de fichier de description de zone :</p><pre id="r-469578" data-claire-element-id="469578"><code>; TTL (Time To Live)
$TTL        604800

; Informations générales
@        IN        SOA        siteduzero.com. root.siteduzero.com. (
                              2                ; Serial
                         604800                ; Refresh
                          86400                ; Retry
                        2419200                ; Expire
                         604800 )              ; Negative Cache TTL
;

; Enregistrements du domaine, des sous-domaines et correspondances IP
@       10800 IN      A         214.21.17.22
@       10800 IN      MX 10     aspmx.l.google.com. 
@       10800 IN      MX 20     aspmx.2.google.com. 
uploads 10800 IN      A         92.143.23.113 
dev     10800 IN      A         92.13.88.102
www     10800 IN      A         92.13.88.105</code></pre><p id="r-469579" data-claire-element-id="469579">On distingue 3 parties :</p><ul id="r-469597" data-claire-element-id="469597"><li id="r-469581" data-claire-element-id="469581"><p id="r-469580" data-claire-element-id="469580"><strong>TTL</strong> (Time to live) : indique combien de temps les autres serveurs DNS (par ex. ceux des FAI) sont autorisés à conserver les informations en cache. Ce nombre est exprimé en secondes : 3600 signifie donc &quot;Une heure&quot;. Si vos DNS sont souvent mis à jour, mettez une valeur plutôt basse. En revanche, cela signifie que votre serveur DNS sera souvent sollicité.</p></li><li id="r-469594" data-claire-element-id="469594"><p id="r-469582" data-claire-element-id="469582"><strong>Informations générales</strong> : sur plusieurs lignes, elles rappellent le nom du domaine et divers TTL :</p><ul id="r-469593" data-claire-element-id="469593"><li id="r-469584" data-claire-element-id="469584"><p id="r-469583" data-claire-element-id="469583">Serial : à chaque fois que vous modifiez ce fichier, vous devez incrémenter le &quot;Serial&quot; pour indiquer que le fichier a changé.</p></li><li id="r-469586" data-claire-element-id="469586"><p id="r-469585" data-claire-element-id="469585">Refresh : indique au bout de combien de temps vos serveurs esclaves doivent rafraîchir leur cache.</p></li><li id="r-469588" data-claire-element-id="469588"><p id="r-469587" data-claire-element-id="469587">Retry : indique au bout de combien de temps les serveurs esclaves réessaieront d'accéder au serveur maître en cas d'indisponibilité.</p></li><li id="r-469590" data-claire-element-id="469590"><p id="r-469589" data-claire-element-id="469589">Expire : indique au bout de combien de temps les serveurs esclaves considèreront que le serveur maître n'est plus disponible s'il ne répond pas.</p></li><li id="r-469592" data-claire-element-id="469592"><p id="r-469591" data-claire-element-id="469591">Negative Cache TTL : c'est la durée de vie minimale du cache de chaque enregistrement qui suit plus bas dans le fichier (en secondes) si celle-ci n'est pas précisée.</p></li></ul></li><li id="r-469596" data-claire-element-id="469596"><p id="r-469595" data-claire-element-id="469595"><strong>Enregistrements du domaine</strong> : ce sont les détails du domaine, de ses sous-domaines, etc. C'est là qu'on fait notamment l'association entre l'IP et le nom de domaine.</p></li></ul><p id="r-469598" data-claire-element-id="469598">La partie &quot;Enregistrements du domaine&quot; est la plus intéressante et c'est là que vous ferez la plupart de vos modifications. Si vous utilisez les serveurs DNS de votre registrar, celui-ci vous demandera de définir les enregistrements du domaine.<br/> Nous verrons un peu plus loin comment fonctionnent ces enregistrements.</p><aside id="r-469601" data-claire-element-id="469601" data-claire-semantic="warning"><p id="r-469599" data-claire-element-id="469599">A chaque fois que vous modifiez ce fichier de zones, vous devez incrémenter le serial (s'il était à 2, vous devez écrire 3). Ensuite, vous devez redémarrer le serveur bind pour que les changements soient pris en compte :</p><pre id="r-469600" data-claire-element-id="469600"><code data-claire-semantic="console">sudo /etc/init.d/bind9 restart</code></pre></aside><h3 id="r-configurer-son-dns-via-l-interface-du-registrar-ex-gandi" data-claire-element-id="469626">Configurer son DNS via l'interface du registrar (ex : Gandi)</h3><p id="r-469603" data-claire-element-id="469603">Votre registrar vous proposera le plus souvent une interface web de gestion de votre nom de domaine. Cela vous évite d'avoir à gérer 2 serveurs DNS vous-même, à y installer bind9... mais cela ne vous fera pas échapper à la configuration des enregistrements du domaine !</p><p id="r-469604" data-claire-element-id="469604">En clair, c'est une solution plus simple, mais il faut quand même connaître le fonctionnement des enregistrements du domaine (la fameuse troisième partie dont je viens de parler un peu plus haut).</p><p id="r-469605" data-claire-element-id="469605">Je vais prendre ici exemple sur le registrar français <a href="http://www.gandi.fr/">Gandi</a> (bien connu des webmasters), que le Site du Zéro utilise pour ses noms de domaine.</p><p id="r-469606" data-claire-element-id="469606">Une fois connecté à votre interface de gestion des noms de domaine Gandi, vous avez sous les yeux la liste des noms de domaine que vous possédez :</p><figure id="r-469608" data-claire-element-id="469609"><img id="r-469607" data-claire-element-id="469607" src="medias/uploads.siteduzero.com_files_240001_241000_240826.png" alt="Liste des domaines Gandi"/></figure><p id="r-469610" data-claire-element-id="469610">Cliquez sur l'un d'eux pour ouvrir une page détaillant ce nom de domaine. Repérez la section suivante sur la page :</p><figure id="r-469612" data-claire-element-id="469613"><img id="r-469611" data-claire-element-id="469611" src="medias/uploads.siteduzero.com_files_240001_241000_240827.png" alt="Détails du domaine"/></figure><p id="r-469614" data-claire-element-id="469614">Vous y voyez la liste des serveurs DNS que Gandi a communiquée au <em>registry</em> : pour tous les internautes du monde entier, ce sont donc ces serveurs qui gèrent votre nom de domaine (et ses sous-domaines), et ce sont eux qui seront donc contactés. Ce sont les fameux serveurs ayant autorité, c'est-à-dire les serveurs qui connaissent les équivalences nom de domaine / IP pour ce domaine et ses sous-domaines.<br/> Le premier de la liste est le serveur maître, les autres sont des serveurs esclaves secondaires qui seront contactés en cas d'indisponibilité du premier.</p><p id="r-469615" data-claire-element-id="469615">Vous pouvez modifier les IP / nom d'hôte des serveurs DNS à utiliser pour votre nom de domaine. Dans le cas présent, nous utilisons les serveurs DNS fournis par Gandi (a.dns.gandi.net...). Nous laissons donc Gandi gérer le serveur bind pour nous.</p><p id="r-469616" data-claire-element-id="469616">Puisque nous utilisons les serveurs DNS de Gandi, nous devons les configurer via l'interface web qui nous est proposée.<br/> Cliquez sur le lien &quot;Gérer les zones&quot; pour configurer plus en détail votre nom de domaine. Vous arrivez sur l'interface &quot;normale&quot; de modification des enregistrements du nom de domaine :</p><figure id="r-469618" data-claire-element-id="469619"><img id="r-469617" data-claire-element-id="469617" src="medias/uploads.siteduzero.com_files_240001_241000_240828.png" alt="Définition des enregistrements (normal)"/></figure><p id="r-469620" data-claire-element-id="469620">Il s'agit d'une simple interface web qui revient à écrire le fichier de configuration pour bind que nous avons vu un peu plus haut. D'ailleurs, vous pouvez directement modifier ce fichier de configuration en cliquant sur &quot;Expert&quot;. Faites-le :</p><figure id="r-469622" data-claire-element-id="469623"><img id="r-469621" data-claire-element-id="469621" src="medias/uploads.siteduzero.com_files_240001_241000_240829.png" alt="Définition des enregistrements (expert)"/></figure><p id="r-469624" data-claire-element-id="469624">Cette zone de texte correspond à la liste des enregistrements de votre nom de domaine, c'est la même chose que l'on voyait dans le fichier de configuration de bind (à l'exception des premières lignes comme le TTL).</p><p id="r-469625" data-claire-element-id="469625">Voyons maintenant comment configurer ces fameuses zones DNS, que l'on utilise son propre serveur bind ou que l'on passe par une interface web comme celle proposée par Gandi.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine">Gérer son nom de domaine</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
Les IP et les noms de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
Les serveurs DNS à la rescousse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
Obtenir un nom de domaine
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
Configurer un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
Gérer les zones de son domaine
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
<span class="arrow"></span>
<span class="next">Obtenir un nom de domaine</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
<span class="next">Gérer les zones de son domaine</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Grerleszonesdesondomaine"></a><h2>Gérer les zones de son domaine</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
<span class="arrow"></span>
<span class="next">Configurer un nom de domaine</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-469628" data-claire-element-id="469628">Reprenons la section de configuration des zones DNS.<br/> Elle ressemble à quelque chose comme ceci :</p><pre id="r-469629" data-claire-element-id="469629"><code>;Domaine TTL  IN      Type      Valeur

@       10800 IN      A         214.21.17.22
@       10800 IN      MX 10     aspmx.l.google.com. 
@       10800 IN      MX 20     aspmx.2.google.com. 
uploads 10800 IN      A         92.143.23.113 
dev     10800 IN      A         92.13.88.102
www     10800 IN      A         92.13.88.105</code></pre><p id="r-469630" data-claire-element-id="469630">Le fonctionnement de cette définition des zones est un peu complexe, donc soyez attentifs. ^^</p><p id="r-469631" data-claire-element-id="469631">Cette section définit un <em>enregistrement </em>par ligne, qui peut correspondre à la définition d'un sous-domaine mais aussi à celle de sous-serveurs DNS, de serveurs de mails et bien d'autres choses comme nous allons le voir.</p><aside id="r-469633" data-claire-element-id="469633" data-claire-semantic="information"><p id="r-469632" data-claire-element-id="469632">Il faut bien comprendre que le serveur DNS ne sert pas qu'à associer des IP à des domaines et sous-domaines. Il sert aussi à donner des informations sur le domaine : son propriétaire, sa localisation, ses serveurs de mail, etc.</p></aside><p id="r-469634" data-claire-element-id="469634">On distingue 5 &quot;colonnes&quot; pour chaque ligne, qui doivent être espacées d'un ou plusieurs espaces :</p><ul id="r-469645" data-claire-element-id="469645"><li id="r-469636" data-claire-element-id="469636"><p id="r-469635" data-claire-element-id="469635"><strong>Le nom du domaine ou sous-domaine concerné</strong> : par exemple, pour définir le sous-domaine &quot;www.siteduzero.com&quot; on écrit simplement &quot;www&quot;. Quant au symbole @, il fait référence au domaine de base que l'on est en train de définir (par exemple ici c'est &quot;siteduzero.com&quot;).</p></li><li id="r-469638" data-claire-element-id="469638"><p id="r-469637" data-claire-element-id="469637"><strong>10800</strong> : c'est le TTL spécifique à cet enregistrement. Il est facultatif, on n'est pas obligé de le préciser. Cela signifie par exemple que les autres serveurs DNS conserveront en cache ce sous-domaine pendant 10800 secondes.</p></li><li id="r-469640" data-claire-element-id="469640"><p id="r-469639" data-claire-element-id="469639"><strong>IN</strong> : vous trouverez ce terme sur chaque ligne, c'est ce qu'on appelle <em>la classe</em>. On utilise toujours la classe IN sur Internet, donc insérez ce terme tel quel tout simplement.</p></li><li id="r-469642" data-claire-element-id="469642"><p id="r-469641" data-claire-element-id="469641"><strong>A (ou MX, ou CNAME...)</strong> : c'est le type d'enregistrement. Certaines lignes servent en effet à associer une IP à un sous-domaine (type A), d'autres à définir des serveurs de mail pour le domaine (MX), etc. Nous ferons la liste des types d'enregistrements un peu plus loin pour éclaircir tout ça ne vous en faites pas. ;)</p></li><li id="r-469644" data-claire-element-id="469644"><p id="r-469643" data-claire-element-id="469643"><strong>La valeur</strong> : c'est en général une IP ou un autre nom de domaine, qui définit l'enregistrement. Par exemple, pour les types A, c'est l'IP de la machine correspondant au sous-domaine.</p></li></ul><h2 id="r-les-differents-types-d-enregistrements" data-claire-element-id="469691">Les différents types d'enregistrements</h2><p id="r-469646" data-claire-element-id="469646">On s'intéresse ici à l'avant-dernière colonne de chaque ligne du fichier : <strong>le type d'enregistrement</strong>.<br/> Il existe de nombreux types d'enregistrements, nous allons ici nous concentrer sur les plus utilisés d'entre eux.</p><h3 id="r-type-a-correspondance-domaine-ipv4" data-claire-element-id="469654">Type A : correspondance domaine / IPv4</h3><p id="r-469647" data-claire-element-id="469647">C'est le type de base, le plus couramment utilisé. Il sert à établir une correspondance entre un domaine (ou sous-domaine) et une IP. Eh oui, tout ce tintouin de serveurs DNS pour finalement définir ici l'IP qui correspond au nom de domaine ! :p</p><p id="r-469648" data-claire-element-id="469648">Par exemple, avec la ligne :</p><pre id="r-469649" data-claire-element-id="469649"><code>www     10800 IN      A         92.13.88.105</code></pre><p id="r-469650" data-claire-element-id="469650">On associe le domaine <a href="http://www.siteduzero.com/">www.siteduzero.com</a> avec l'IP 92.13.88.105 ! Tous les ordinateurs du monde entier qui essaieront d'accéder à <a href="http://www.siteduzero.com/">www.siteduzero.com</a> sauront donc qu'il doivent contacter l'ordinateur ayant l'IP 92.13.88.105, qui sert de serveur au Site du Zéro.</p><p id="r-469651" data-claire-element-id="469651">Notez que, comme je vous le disais plus tôt, si vous utilisez le symbole &quot;@&quot; comme ceci :</p><pre id="r-469652" data-claire-element-id="469652"><code>@       10800 IN      A         214.21.17.22</code></pre><p id="r-469653" data-claire-element-id="469653">... cela signifie que vous associez le domaine &quot;siteduzero.com&quot; avec l'IP 214.21.17.22. Il faut bien voir donc qu'écrire &quot;siteduzero.com&quot; n'est pas forcément équivalent à écrire &quot;www.siteduzero.com&quot;.</p><h3 id="r-type-aaaa-correspondance-domaine-ipv6" data-claire-element-id="469657">Type AAAA : correspondance domaine / IPv6</h3><p id="r-469655" data-claire-element-id="469655">C'est la même chose que le type A, mais pour faire une correspondance avec un ordinateur ayant une IPv6, c'est-à-dire une de ces nouvelles (et loooongues) IP.</p><pre id="r-469656" data-claire-element-id="469656"><code>www        10800 IN        AAAA        2a00:1450:8004::68</code></pre><h3 id="r-type-cname-alias" data-claire-element-id="469664">Type CNAME : alias</h3><p id="r-469658" data-claire-element-id="469658">CNAME (pour Canonical Name) permet de définir des alias de noms de domaine, c'est-à-dire des équivalences.</p><p id="r-469659" data-claire-element-id="469659">Par exemple :</p><pre id="r-469660" data-claire-element-id="469660"><code>uploads     10800 IN      CNAME         stockage.siteduzero.com.</code></pre><p id="r-469661" data-claire-element-id="469661">Cela signifie qu'écrire <code>uploads.siteduzero.com</code> est strictement équivalent à écrire <code>stockage.siteduzero.com</code>. Ce sont deux noms de domaine équivalents.</p><aside id="r-469663" data-claire-element-id="469663" data-claire-semantic="error"><p id="r-469662" data-claire-element-id="469662">Attention, très important : quand vous écrivez des noms de domaines dans votre fichier de zones, vous devez les écrire en entier. C'est le fameux FQDN (Fully Qualified Domain Name) dont je parlais plus tôt.<br/> Cela signifie une chose essentielle que l'on a tendance à oublier : il faut écrire le point à la fin du nom de domaine, qui représente la racine des noms de domaine.<br/><code>stockage.siteduzero.com.</code> est correct<br/><code>stockage.siteduzero.com</code> est incorrect</p></aside><h3 id="r-type-ns-delegation-de-la-gestion-d-un-domaine" data-claire-element-id="469670">Type NS : délégation de la gestion d'un domaine</h3><p id="r-469665" data-claire-element-id="469665">Si vous gérez de très nombreux domaines, vous pouvez définir d'autres serveurs DNS qui gèrent ces domaines et leurs sous-domaines.</p><p id="r-469666" data-claire-element-id="469666">Supposons que j'aie de très nombreux sous-domaines de <code>dev.siteduzero.com</code> à gérer (<code>web1.dev.siteduzero.com</code>, <code>web2.dev.siteduzero.com</code>, <code>sql1.dev.siteduzero.com</code>, <code>sql2.dev.siteduzero.com</code>...). Plutôt que de définir tous ces enregistrements sur ce serveur DNS, je délègue leur gestion (et donc leurs champs de type A) à un autre serveur DNS :</p><pre id="r-469667" data-claire-element-id="469667"><code>dev     10800 IN      NS         100.89.10.63</code></pre><aside id="r-469669" data-claire-element-id="469669" data-claire-semantic="information"><p id="r-469668" data-claire-element-id="469668">Lorsque le serveur de votre FAI essaie de résoudre un nom de domaine comme www.siteduzero.com, et qu'il se fait &quot;trimballer&quot; de serveur DNS en serveur DNS, c'est ce champ NS qui est utilisé. Ainsi, le serveur racine répond que le &quot;NS&quot; qui gère &quot;com&quot; est l'IP XX.XXX.XX.XX, donc le serveur DNS du FAI va voir ce serveur, qui lui dit que le &quot;NS&quot; qui gère &quot;siteduzero.com&quot; est XX.XXX.XXX.XX, et ainsi de suite.</p></aside><h3 id="r-type-mx-serveurs-de-mail" data-claire-element-id="469675">Type MX : serveurs de mail</h3><p id="r-469671" data-claire-element-id="469671">Lorsqu'un internaute veut envoyer un e-mail à <a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="6a000e1f1a05041e2a19031e0f0e1f100f180544090507">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>, il doit connaître l'adresse IP du serveur qui récupère les e-mails de &quot;siteduzero.com&quot;. Les enregistrements MX sont faits pour cela.</p><pre id="r-469672" data-claire-element-id="469672"><code>@       10800 IN      MX 10     aspmx.l.google.com. 
@       10800 IN      MX 20     aspmx.2.google.com.</code></pre><p id="r-469673" data-claire-element-id="469673">Ici, nous utilisons par exemple les serveurs de mails de Google, d'où la présence des noms de domaine comme aspmx.l.google.com. (souvenez-vous qu'il faut mettre un point à la fin !).</p><p id="r-469674" data-claire-element-id="469674">Vous constaterez une particularité, c'est la présence d'un nombre entre MX et le nom du serveur de mails. C'est la <em>priorité</em> du serveur de mails. En effet, le serveur de mails ayant la priorité 10 sera contacté en premier, et s'il ne répond pas ce sera un serveur ayant un numéro supérieur (ici 20).<br/> Cela permet d'assurer une continuité de service en cas de panne du serveur principal.</p><h3 id="r-type-txt-chaine-de-texte-libre" data-claire-element-id="469678">Type TXT : chaîne de texte libre</h3><p id="r-469676" data-claire-element-id="469676">Ce champ vous permet d'insérer le texte que vous souhaitez. On peut l'utiliser notamment pour donner des infos sur le propriétaire du nom de domaine.</p><pre id="r-469677" data-claire-element-id="469677"><code>@       10800 IN      TXT     &quot;Owner: Jacques Dupont (+33 6 43 09 10 32)&quot;</code></pre><h3 id="r-et-les-autres-2" data-claire-element-id="469690">Et les autres</h3><p id="r-469679" data-claire-element-id="469679">Il existe de nombreux autres types d'enregistrement : WKS, PTR, LOC, HINFO... Ceux-là sont clairement moins utilisés que les précédents, bien qu'ils puissent se révéler intéressants.</p><p id="r-469680" data-claire-element-id="469680">Ainsi, LOC permet de définir la localisation géographique (coordonnées GPS) du serveur DNS, WKS définit une liste de services couramment utilisés (serveur IMAP, POP3...)... Globalement, ces types restent peu utilisés notamment pour des raisons de sécurité. HINFO sert par exemple à donner la configuration de la machine qui fait tourner le serveur DNS, ce qui peut être du pain bénit pour un hacker.</p><p id="r-469681" data-claire-element-id="469681">Ainsi s'achève notre découverte du merveilleux monde des DNS. Avouez que c'est quand même assez complexe, et pourtant c'est ce qui fait en grande partie qu'Internet fonctionne ! ;)</p><p id="r-469682" data-claire-element-id="469682">J'espère à travers ce tutoriel vous avoir fait comprendre les grandes lignes du fonctionnement des DNS. Vous devriez être en mesure de monter vos propres serveurs DNS et de les configurer désormais.</p><p id="r-469683" data-claire-element-id="469683">Je vous propose de terminer par une petite devinette qui devrait intéresser ceux qui ont bien suivi :</p><div id="r-469685" data-claire-element-id="469685" data-claire-semantic="question"><p id="r-469684" data-claire-element-id="469684">A votre avis, comment le serveur DNS du FAI fait-il pour savoir quelle est l'IP d'un serveur DNS racine comme d.root-servers.net. ?</p></div><p id="r-469686" data-claire-element-id="469686">Après tout, pour contacter un serveur racine et résoudre un nom de domaine comme d.root-servers.net., il faut déjà connaître l'adresse IP du serveur racine !<br/> Alors, à votre avis, comment font les serveurs DNS des FAI du monde entier pour contacter l'un des 13 serveurs racine ? :p</p><p id="r-469687" data-claire-element-id="469687">Réponse :</p><div id="r-469689" data-claire-element-id="469689"><p id="r-469688" data-claire-element-id="469688">Les adresses IP des serveurs racine sont en fait connues et écrites &quot;en dur&quot; sur tous les serveurs DNS du monde entier !<br/> Pour accéder à d.root-servers.net., un serveur DNS sait déjà qu'il doit contacter l'IP 128.8.10.90 ! Il n'a donc pas besoin de faire de résolution de nom d'hôte.</p></div>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine">Gérer son nom de domaine</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-ip-et-les-noms-de-domaine">
Les IP et les noms de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/les-serveurs-dns-a-la-rescousse">
Les serveurs DNS à la rescousse
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/obtenir-un-nom-de-domaine">
Obtenir un nom de domaine
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
Configurer un nom de domaine
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/gerer-les-zones-de-son-domaine">
Gérer les zones de son domaine
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerer-son-nom-de-domaine/configurer-un-nom-de-domaine">
<span class="arrow"></span>
<span class="next">Configurer un nom de domaine</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/gerer-son-nom-de-domaine.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 05:39:25 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/gerer-son-nom-de-domaine.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:00:05 GMT -->
</html>
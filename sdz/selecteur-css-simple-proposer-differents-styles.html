<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/selecteur-css-simple-proposer-differents-styles.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 20:00:34 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/selecteur-css-simple-proposer-differents-styles.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:44:46 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Sélecteur CSS simple - Proposer différents styles</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Sélecteur CSS simple - Proposer différents styles</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#SlecteurCSSsimple-Proposerdiffrentsstyles">Sélecteur CSS simple - Proposer différents styles</a><br/><a href="#Programmedesrjouissances">Programme des réjouissances</a><br/><a href="#Lesdiffrentespartiesduprogramme">Les différentes parties du programme</a><br/><a href="#Unepetiteanalysedesrsultats">Une petite analyse des résultats</a><br/></div>
<a name="SlecteurCSSsimple-Proposerdiffrentsstyles"></a><h2>Sélecteur CSS simple - Proposer différents styles</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
<span class="next">Programme des réjouissances</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-584219" data-claire-element-id="584219">Dans ce tutoriel, je vais vous montrer comment utiliser plusieurs feuilles de style CSS et proposer à vos visiteurs d'en choisir une... Ainsi, chaque visiteur pourra adopter votre site en bleu / blanc / rouge, en noir / blanc, etc.<br/><strong>Attention :</strong> ce tutoriel vous explique comment faire quand vous avez une feuille de style CSS pour votre site... À vous de l'adapter si vous en avez plusieurs.</p><p id="r-584220" data-claire-element-id="584220">Pré-requis :</p><ul id="r-584227" data-claire-element-id="584227"><li id="r-584222" data-claire-element-id="584222"><p id="r-584221" data-claire-element-id="584221">cours de HTML (formulaire, notamment) ;</p></li><li id="r-584224" data-claire-element-id="584224"><p id="r-584223" data-claire-element-id="584223">cours de PHP (formulaire et structures simples) ;</p></li><li id="r-584226" data-claire-element-id="584226"><p id="r-584225" data-claire-element-id="584225">utilisation des cookies (cf. cours de M@teo : <a href="http://www.siteduzero.com/tuto-3-176-1-les-variables-superglobales.html#ss_part_3">ici</a>).</p></li></ul><p id="r-584228" data-claire-element-id="584228">Dans les deux premières parties, nous verrons comment faire simplement ce choix d'une feuille de style CSS.<br/> Dans la troisième partie, je ferai une petite analyse de mon programme : je m'efforcerai de vous expliquer à nouveau comment fonctionne cette procédure.</p>
</div><a name="Programmedesrjouissances"></a><h2>Programme des réjouissances</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
<span class="next">Les différentes parties du programme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-premier-moment-de-reflexion" data-claire-element-id="584240">Premier moment de réflexion</h2><p id="r-584229" data-claire-element-id="584229">Il nous faut donc... :euh:</p><ul id="r-584238" data-claire-element-id="584238"><li id="r-584231" data-claire-element-id="584231"><p id="r-584230" data-claire-element-id="584230">deux feuilles de style CSS. Je supposerai que vous les avez déjà créées. Pour ce tutoriel, je les appellerai design_orange.css et design_bleu.css.</p></li><li id="r-584233" data-claire-element-id="584233"><p id="r-584232" data-claire-element-id="584232">un formulaire pour que l'utilisateur puisse choisir son design.</p></li><li id="r-584235" data-claire-element-id="584235"><p id="r-584234" data-claire-element-id="584234">un petit script pour gérer la réponse du formulaire.</p></li><li id="r-584237" data-claire-element-id="584237"><p id="r-584236" data-claire-element-id="584236">un système pour garder en mémoire le choix de l'utilisateur : le cookie semble être ce qu'il y a de mieux.</p></li></ul><p id="r-584239" data-claire-element-id="584239">N'ayez pas peur, chaque script fait moins de 20 lignes. o_O</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles">Sélecteur CSS simple - Proposer différents styles</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
Programme des réjouissances
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
Les différentes parties du programme
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/une-petite-analyse-des-resultats">
Une petite analyse des résultats
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
<span class="next">Les différentes parties du programme</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesdiffrentespartiesduprogramme"></a><h2>Les différentes parties du programme</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
<span class="arrow"></span>
<span class="next">Programme des réjouissances</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/une-petite-analyse-des-resultats">
<span class="next">Une petite analyse des résultats</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-les-feuilles-de-style-css" data-claire-element-id="584248">Les feuilles de style CSS</h2><p id="r-584242" data-claire-element-id="584242">Le principe est donc simple : vous gardez la même page HTML et vous possédez deux feuilles de style CSS différentes. C'est-à-dire que vous avez votre partie HTML (je donne un exemple très basique pour ceux qui ne sauraient plus ce qu'est du HTML :p ) :</p><pre id="r-584243" data-claire-element-id="584243"><code data-claire-semantic="html">&lt;div id=&quot;debut&quot;&gt;
 
     &lt;h1&gt;Mon super site&lt;/h1&gt;
     &lt;p&gt;Grâce à &lt;span class=&quot;nom&quot;&gt;M@teo&lt;/span&gt; et son site &lt;a href=&quot;http://www.siteduzero.com&quot;&gt;Le Site du Zér0&lt;/a&gt;, j'ai enfin pu créer mon premier site !
     &lt;/p&gt;
 
&lt;/div&gt;</code></pre><p id="r-584244" data-claire-element-id="584244">Nous avons aussi nos deux feuilles de style CSS (je vous en donne deux extraits issus de fichiers différents) :</p><pre id="r-584245" data-claire-element-id="584245"><code data-claire-semantic="css">/*design_bleu.css*/
 
#debut
{
     position: absolute;
     left: 5px;
}
h1
{
     color: black;
}</code></pre><pre id="r-584246" data-claire-element-id="584246"><code data-claire-semantic="css">/*design_orange.css*/
 
#debut
{
     position: absolute;
     right: 25px;
}
h1
{
     color: red;
}</code></pre><p id="r-584247" data-claire-element-id="584247">Simple, non ? :p <br/> On a bien une même page avec différents codes de style... :)</p><h2 id="r-le-formulaire-14" data-claire-element-id="584267">Le formulaire</h2><p id="r-584249" data-claire-element-id="584249">Occupons-nous maintenant du formulaire pour que l'utilisateur puisse choisir son style. Nous allons d'abord voir comment le formulaire fonctionne en renvoyant toujours sur la même page, puis ensuite en renvoyant sur la page courante.</p><div id="r-584251" data-claire-element-id="584251" data-claire-semantic="question"><p id="r-584250" data-claire-element-id="584250">Que nous faut-il, déjà ?</p></div><p id="r-584252" data-claire-element-id="584252">Allez... réfléchissez un peu (oui, je suis sadique !). :diable:</p><h3 id="r-premiere-solution-3" data-claire-element-id="584260">Première solution</h3><div id="r-584255" data-claire-element-id="584255"><div id="r-584254" data-claire-element-id="584254"><p id="r-584253" data-claire-element-id="584253">Le formulaire doit proposer le choix des designs et envoyer le résultat. Après, on récupèrera ce résultat et on en fera quelque chose.<br/> J'espère que vous n'avez pas imaginé des choses trop compliquées ! :p Allez, regardons comment on doit faire et commentons.</p></div></div><pre id="r-584256" data-claire-element-id="584256"><code data-claire-semantic="html+php">&lt;form method=&quot;post&quot; action=&quot;site.php?choix=home&quot;&gt;
&lt;p&gt;
     &lt;label&gt;Choix du design :&lt;br/&gt;
          &lt;select name=&quot;choixdesign&quot; onchange=&quot;this.form.submit();&quot;&gt;&lt;!--On envoie dès que la personne sélectionne... pas de bouton--&gt;
               &lt;option value=&quot;design_orange.css&quot; &lt;?PHP ChoixDuSelected($design,&quot;design_orange.css&quot;); ?&gt; &gt;Orange et gris&lt;/option&gt;
               &lt;option value=&quot;design_bleu.css&quot; &lt;?PHP ChoixDuSelected($design,&quot;design_officiel.css&quot;); ?&gt; &gt;Bleu et noir&lt;/option&gt;
          &lt;/select&gt;
     &lt;/label&gt;
&lt;/p&gt;
&lt;/form&gt;</code></pre><pre id="r-584257" data-claire-element-id="584257"><code data-claire-semantic="html+php">&lt;?PHP
function ChoixDuSelected($element1,$element2)
        {
        if($element1==$element2)
                {
                echo 'selected=&quot;selected&quot;' ;
                }
        }
?&gt;</code></pre><p id="r-584258" data-claire-element-id="584258">Comme vous avez pu le remarquer, je n'ai pas mis de bouton mais un onchange=&quot;this.form.submit();&quot;, qui permet d'envoyer le résultat dès qu'une option a été sélectionnée. C'est très pratique pour ce petit formulaire car, ainsi, il est plus discret. :-° <br/> Tout simplement, l'utilisateur choisit son design et on envoie par le formulaire le choix qui a été fait... Remarquez que j'ai mis dans value les noms des feuilles de style. Ça fonctionne très bien, je n'ai jamais eu de problème avec. :)</p><p id="r-584259" data-claire-element-id="584259">On a créé une petite fonction en PHP, nommée ChoixDuSelected, qui permet d'ajouter un attribut à notre liste d'options. Ainsi, le design courant sera le choix par défaut de la liste d'options. Le fonctionnement est simple : on compare la valeur de la variable contenant notre choix (<strong>remarquez que CETTE variable sera utilisée plus tard</strong>) à la valeur de l'attribut value du formulaire. Si ces deux éléments sont égaux, alors il s'agit du design choisi.<br/> En effet, avec notre élément en JavaScript, le formulaire n'est validé que lorsqu'on choisit une option différente de celle affichée lorsque la liste n'est pas déroulée (le choix par défaut). Imaginez qu'il n'y ait que deux choix dans la liste, et que vous aviez choisi la deuxième. Sans l'attribut placé, vous êtes sur le premier choix par défaut. Pour changer de design, il vous faut donc en sélectionner un autre. Or, il faut <strong>changer</strong> : le premier est sélectionné par défaut et vous êtes sur le deuxième... Résultat : vous êtes coincé et ne pouvez pas changer de design.<br/> En conclusion : <strong>vous devez utiliser cette fonction.</strong></p><h3 id="r-deuxieme-solution-2" data-claire-element-id="584266">Deuxième solution</h3><p id="r-584261" data-claire-element-id="584261">Comme me l'a demandé un zéro, il faudrait que le formulaire renvoie sur la page courante (c'est-à-dire celle que l'on visionne quand on veut changer de style). En fait, la réponse n'est pas si simple, car cela dépend de la façon dont vous récupérez vos pages. Je vais vous indiquer comment je fais, et je vous donnerai ma solution.</p><p id="r-584262" data-claire-element-id="584262">Pour commencer, il faut se souvenir comment envoyer des variables dans les adresses, c'est-à-dire avec $_GET['page']. Vous pouvez revoir ça sur <a href="http://www.siteduzero.com/tuto-3-70-1-les-variables.html#ss_part_4">les cours PHP de M@teo21</a>.<br/> Mon code est simple. Je n'ai qu'une page (site.php) et avec l'envoi de variables et des include, j'y inclus mes morceaux de pages. Cela signifie que le formulaire ne doit pas renvoyer sur site.php, mais sur <a href="http://www.monsite.com/site.php?page1=27&amp;page2=07"><em>http://www.monsite.com/site.php?page1=27&amp;page2=07</em></a>. <br/> Voici alors la solution que j'ai adoptée pour écrire la première ligne du formulaire, c'est-à-dire <strong>à la place</strong> de &lt;form method=&quot;post&quot; action=&quot;site.php?choix=home&quot;&gt; :</p><pre id="r-584263" data-claire-element-id="584263"><code data-claire-semantic="html+php">&lt;?PHP
if( isset($_GET['page1']) )
     {
     $page1=$_GET['page1'];
     }
 
if( isset($_GET['page2']) )
     {
     $page2=$_GET['page2'];
     }
 
echo '&lt;form method=&quot;post&quot; action=&quot;site.php?';
        if( $page1 != &quot;&quot; )
                {
                echo '&amp;page1='.$choix;
                }
        if( $page2 != &quot;&quot; )
                {
                echo '&amp;page2='.$choix2;
                }
echo '&quot;&gt;';
?&gt;</code></pre><p id="r-584264" data-claire-element-id="584264">Le code est très simple, je vous laisse donc essayer de le comprendre. Au début, on récupère les variables de la barre d'adresse dans des variables simples, SI elles existent. On ne fait ensuite que récupérer l'adresse courante et la mettre dans le formulaire du design pour que ce formulaire renvoie sur la page où on se trouve actuellement. Mais n'oubliez pas alors que le traitement du formulaire doit <strong>toujours</strong> être présent.</p><p id="r-584265" data-claire-element-id="584265">Ce système fonctionne lorsque vous changez de page en utilisant les variables dans l'adresse. Personnellement, cela marche parfaitement sur le site dont je vous donnerai l'adresse plus tard. Bien sûr, pour que cela fonctionne, mettez bien <strong>toutes</strong> les possibilités. Si vous en oubliez une, il y aura des pages où cela ne marchera pas.</p><h2 id="r-recuperer-les-donnees-du-formulaire" data-claire-element-id="584288">Récupérer les données du formulaire</h2><aside id="r-584269" data-claire-element-id="584269" data-claire-semantic="warning"><p id="r-584268" data-claire-element-id="584268">Vous <strong>devez</strong> mettre ce petit script au début de votre page, avant la partie HTML qui indique quelle feuille de style utiliser !</p></aside><div id="r-584271" data-claire-element-id="584271" data-claire-semantic="question"><p id="r-584270" data-claire-element-id="584270">Que doit faire notre script en PHP ?</p></div><p id="r-584272" data-claire-element-id="584272">Il doit récupérer le résultat de notre formulaire et enregistrer dans une variable le choix effectué par l'utilisateur. Mais n'oubliez pas qu'un visiteur qui n'a rien choisi (première visite, par exemple) doit tout de même avoir un style... :p Il faut donc un design par défaut.</p><p id="r-584273" data-claire-element-id="584273"><strong>Problème</strong> : lorsque l'utilisateur aura choisi son design, il va falloir garder en mémoire son choix, sans quoi au premier changement de page, on reviendra au design par défaut. :euh: <br/> Je vous propose donc l'utilisation d'un cookie. <strong>C'est à cause de ce cookie qu'il faut placer le code en début de page !</strong></p><pre id="r-584274" data-claire-element-id="584274"><code data-claire-semantic="html+php">&lt;?PHP
$differents_designs=array(&quot;design_orange.css&quot;,&quot;design_bleu.css&quot;);

if( isset( $_COOKIE['design'] ) )
        {
        $design=$_COOKIE['design'];
	
	if( !(in_array($design,$differents_designs)) )//si le cookie indique un design inexistant
		{    
                $design=&quot;design_orange.css&quot;;
                }
        }
else
        {
        $design=&quot;design_orange.css&quot;;
        }
        
if( isset ( $_POST['choixdesign'] ) )
        {
        //On enregistre dans une variable pour le choix du design
        $design=$_POST['choixdesign'];
        
                if( !(in_array($design,$differents_designs)) )
		     {    
                     $design=&quot;design_orange.css&quot;;
                     }

        //On met dans un cookie d'une durée de vie d'un an
        $timestamp_expire=time()+365*24*60;
        setcookie('design',$design,$timestamp_expire);
 
        }
?&gt;</code></pre><p id="r-584275" data-claire-element-id="584275">Et voilà. :)</p><div id="r-584277" data-claire-element-id="584277" data-claire-semantic="question"><p id="r-584276" data-claire-element-id="584276">Que se passe-t-il dans ce code ?</p></div><h3 id="r-premierement" data-claire-element-id="584282">Premièrement</h3><p id="r-584278" data-claire-element-id="584278">On regarde s'il existe un cookie de notre site contenant les données liées au design. On rappelle que la fonction isset(X) correspond à « <em>X existe</em> »... Mais ça, vous devez le savoir si vous avez suivi les cours de PHP. ;)</p><p id="r-584279" data-claire-element-id="584279"><strong>Si ce cookie existe :</strong> on enregistre la donnée dans la variable $design. On vérifie que ce design existe (on aura créé un tableau contenant les différents designs comme vous le voyez) ; s'il n'existe pas, c'est soit une erreur de votre part, soit une tentative de piratage... :euh: On utilise alors le design par défaut. Si le design est dans le tableau, alors tout va bien et on continue. :D</p><p id="r-584280" data-claire-element-id="584280"><strong>Si ce cookie n'existe pas :</strong> on enregistre dans la variable $design le choix par défaut... <strong>Attention :</strong> le choix par défaut se fait ici.</p><p id="r-584281" data-claire-element-id="584281">Ainsi, lorsque l'utilisateur navigue de page en page, le cookie contiendra l'information liée au design.</p><h3 id="r-deuxiemement" data-claire-element-id="584287">Deuxièmement</h3><p id="r-584283" data-claire-element-id="584283">L'utilisateur peut décider de changer de design. On regarde si des informations provenant du formulaire sont présentes.<br/>if( isset ( $_POST['choixdesign'] ) )</p><p id="r-584284" data-claire-element-id="584284"><strong>Si des informations arrivent :</strong> on enregistre dans la variable $design le choix qui a été fait... On rappelle qu'il s'agira ici de <em>design_orange.css</em> ou de <em>design_bleu.css</em>. De plus, pour garder ce choix en mémoire, on l'enregistre dans un cookie. L'idée est simple (surtout si vous avez suivi les cours de PHP sur les cookies :p ) : on indique un temps d'expiration et on enregistre dans le cookie le choix du design. C'est ce cookie qui sera lu dans la première partie du code PHP.</p><aside id="r-584286" data-claire-element-id="584286" data-claire-semantic="warning"><p id="r-584285" data-claire-element-id="584285">Je vous rappelle que ce code PHP doit être placé en début de page, tout comme la fonction setcookie() qui doit être placée avant tout code HTML !</p></aside><h2 id="r-et-avec-tout-ca" data-claire-element-id="584295">Et avec tout ça ?</h2><p id="r-584289" data-claire-element-id="584289">Avec tout ça, il nous faut donc terminer en expliquant au navigateur quel est le style choisi...<br/> Voyons comment nous allons nous en occuper. Regardons d'abord un code normal pour l'appel de la feuille de style CSS :</p><pre id="r-584290" data-claire-element-id="584290"><code data-claire-semantic="html">&lt;head&gt;
     &lt;title&gt;Bienvenue sur le site de la danse des canards&lt;/title&gt;
     &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
     &lt;link rel=&quot;stylesheet&quot; media=&quot;screen&quot; type=&quot;text/css&quot; title=&quot;Design&quot; href=&quot;design_orange.css&quot; /&gt;
&lt;/head&gt;</code></pre><p id="r-584291" data-claire-element-id="584291">Il nous faut donc modifier le code href=&quot;design_orange.css&quot; et mettre celui qui nous intéresse... Rien de plus simple, puisque nous avons enregistré dans la variable $design le nom du fichier CSS qui nous intéresse et que ce code a été placé en amont de ce code HTML (regardez, j'ai laissé l'ouverture de la balise HTML) !<br/> Il nous faut donc changer la partie concernée en :</p><pre id="r-584292" data-claire-element-id="584292"><code data-claire-semantic="html+php">&lt;link rel=&quot;stylesheet&quot; media=&quot;screen&quot; type=&quot;text/css&quot; title=&quot;Design&quot; href=&lt;?PHP echo &quot;\&quot;$design\&quot;&quot;; ?&gt; /&gt;</code></pre><p id="r-584293" data-claire-element-id="584293"><strong>Et voilà !</strong> L'appel de votre feuille de style CSS se fera donc par ce simple echo dans la balise &lt;link&gt;. :p</p><p id="r-584294" data-claire-element-id="584294"><strong>Simple,<em> isn't it</em> ?</strong> :lol:</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles">Sélecteur CSS simple - Proposer différents styles</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
Programme des réjouissances
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
Les différentes parties du programme
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/une-petite-analyse-des-resultats">
Une petite analyse des résultats
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
<span class="arrow"></span>
<span class="next">Programme des réjouissances</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/une-petite-analyse-des-resultats">
<span class="next">Une petite analyse des résultats</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unepetiteanalysedesrsultats"></a><h2>Une petite analyse des résultats</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
<span class="arrow"></span>
<span class="next">Les différentes parties du programme</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-584298" data-claire-element-id="584298" data-claire-semantic="warning"><p id="r-584297" data-claire-element-id="584297">Ici, rien d'important ; juste une étude du petit algorithme que je vous ai proposé, au cas où vous n'en auriez pas trop compris la logique.</p></aside><h3 id="r-si-un-nouvel-utilisateur-arrive" data-claire-element-id="584300">Si un nouvel utilisateur arrive...</h3><p id="r-584299" data-claire-element-id="584299">Il n'a pas de cookie contenant des informations sur le choix du design, il tombe donc sur le design par défaut (<em>ici</em>, design_orange.css).<br/> Puisqu'il n'a pas non plus soumis le formulaire, la deuxième partie du script PHP ne fera rien.</p><h3 id="r-cet-utilisateur-change-de-design" data-claire-element-id="584304">Cet utilisateur change de design...</h3><p id="r-584301" data-claire-element-id="584301">Dans le petit formulaire créé, l'utilisateur va changer de design en sélectionnant le noir et bleu. Une fois que ce choix est fait (on rappelle qu'il n'y a pas de bouton et que seule la sélection valide le formulaire), le formulaire renvoie donc au code PHP.</p><p id="r-584302" data-claire-element-id="584302"><strong>Mais... que va-t-il se passer ?</strong> :euh:</p><p id="r-584303" data-claire-element-id="584303">N'ayant auparavant jamais demandé de changement de design, il n'a pas de cookie enregistré : la première partie du code PHP ne fera donc rien. La deuxième partie va par contre prendre en compte son choix et l'enregistrer dans un cookie. Et donc faire appel à l'autre design dans la balise &lt;link&gt;.</p><h3 id="r-l-utilisateur-navigue-sur-le-site" data-claire-element-id="584306">L'utilisateur navigue sur le site...</h3><p id="r-584305" data-claire-element-id="584305">À chaque changement de page, on peut lire le cookie créé lors du changement de design et appliquer le design qui a été choisi à la dernière visite. En fait, à chaque changement de page (sans utiliser le formulaire), on lit l'information du cookie et on la réutilise.</p><h3 id="r-l-utilisateur-rechange-de-design" data-claire-element-id="584326">L'utilisateur rechange de design...</h3><p id="r-584307" data-claire-element-id="584307">La différence avec tout à l'heure ? Il n'y avait pas de cookie... o_O <br/> Ici, comme pour une navigation simple, on enregistre dans la variable $design l'information contenue dans le cookie...<br/><strong>Mais</strong> vu qu'on fait appel au formulaire, la demande de changement de design va écraser la donnée déjà présente dans le cookie.</p><p id="r-584308" data-claire-element-id="584308"><strong>Bourrin, vous dites ?</strong><br/> Non, pas du tout. ^^</p><aside id="r-584310" data-claire-element-id="584310" data-claire-semantic="error"><p id="r-584309" data-claire-element-id="584309">Et si l'utilisateur n'accepte pas les cookies ?</p></aside><p id="r-584311" data-claire-element-id="584311">Deux solutions.</p><ul id="r-584316" data-claire-element-id="584316"><li id="r-584313" data-claire-element-id="584313"><p id="r-584312" data-claire-element-id="584312">Il n'aura alors pas le choix, et devra utiliser le design par défaut. Mais vous pouvez toujours glisser dans le formulaire une petite commande pour vérifier l'utilisation de cookies : si l'utilisateur demande à changer de design, vous enregistrez son choix dans la variable, vous vérifiez qu'il accepte les cookies. <strong>Si oui</strong>, vous faites ce que je vous ai proposé plus haut. <strong>Si non</strong>, vous placez un message (une simple ligne quelque part sur le site, un pop-up, etc.) pour lui indiquer qu'il doit accepter les cookies pour qu'à son prochain changement de page, il ne revienne pas sur le design par défaut... :-°</p></li><li id="r-584315" data-claire-element-id="584315"><p id="r-584314" data-claire-element-id="584314">Utiliser un système de sessions (cf. le cours de M@teo <a href="http://www.siteduzero.com/tuto-3-176-1-les-variables-superglobales.html#ss_part_2">ici</a>). Un défaut : lorsque l'utilisateur reviendra plus tard sur le site, il tombera sur le choix par défaut.</p></li></ul><p id="r-584317" data-claire-element-id="584317">Mais bon, une bonne partie des utilisateurs emploie les cookies.</p><p id="r-584318" data-claire-element-id="584318">Eh voilà... Maintenant, vos visiteurs pourront se ravir du choix qui leur est laissé. :p</p><aside id="r-584320" data-claire-element-id="584320" data-claire-semantic="information"><p id="r-584319" data-claire-element-id="584319">Si vous avez plusieurs feuilles de style CSS, n'hésitez pas à créer plusieurs cookies. Lors du choix d'un design, à vous de régler l'enregistrement des différentes feuilles de style dans différents cookies.</p></aside><p id="r-584321" data-claire-element-id="584321">Bien sûr, vous pouvez créer un troisième style, un quatrième, etc. :p C'est exactement le même principe.</p><p id="r-584322" data-claire-element-id="584322">Si vous avez des questions, vous pouvez me joindre par MP ou demander de l'aide sur le forum. J'espère ne pas avoir fait d'erreurs, mais j'utilise moi-même ce système sur le site que j'ai programmé (grâce aux cours du SdZ :magicien: ).</p><p id="r-584323" data-claire-element-id="584323">En espérant que ça vous plaise,<br/> Bien à vous,<br/> Glius. :)</p><div id="r-584325" data-claire-element-id="584325"><p id="r-584324" data-claire-element-id="584324">Je tiens à remercier ptipilou, zCorrecteur, pour tout son travail sur ce tutoriel : sa correction claire, ses conseils très utiles et sa bonne humeur ! :D</p></div>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles">Sélecteur CSS simple - Proposer différents styles</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/programme-des-rejouissances">
Programme des réjouissances
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
Les différentes parties du programme
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/une-petite-analyse-des-resultats">
Une petite analyse des résultats
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/selecteur-css-simple-proposer-differents-styles/les-differentes-parties-du-programme">
<span class="arrow"></span>
<span class="next">Les différentes parties du programme</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/selecteur-css-simple-proposer-differents-styles.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 20:00:34 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/selecteur-css-simple-proposer-differents-styles.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:44:46 GMT -->
</html>
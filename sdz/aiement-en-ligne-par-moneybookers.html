<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/aiement-en-ligne-par-moneybookers.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 22:43:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/aiement-en-ligne-par-moneybookers.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:59:33 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Paiement en ligne par Moneybookers</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/paiement-en-ligne-par-moneybookers.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Paiement en ligne par Moneybookers</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#PaiementenligneparMoneybookers">Paiement en ligne par Moneybookers</a><br/><a href="#MoneybookersConnaispas...">Moneybookers ? Connais pas...</a><br/><a href="#Commentamarche">Comment ça marche ?</a><br/><a href="#Inscription">Inscription</a><br/><a href="#Miseenplacesurvotresite">Mise en place sur votre site</a><br/><a href="#Automatisermaispourquoi">Automatiser, mais pourquoi ?</a><br/><a href="#Automatisation">Automatisation</a><br/><a href="#Anti-piratage">Anti-piratage</a><br/><a href="#Autresinformationsutiles">Autres informations utiles</a><br/></div>
<a name="PaiementenligneparMoneybookers"></a><h2>Paiement en ligne par Moneybookers</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
<span class="next">Moneybookers ? Connais pas...</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-546687" data-claire-element-id="546687">Vous avez un site internet et vous désirez y vendre des articles comme du café, de la poterie faite maison ou encore votre grand-mère téléphone portable ?</p><p id="r-546688" data-claire-element-id="546688">Alors que diriez-vous si je vous apprenais comment laisser la possibilité à vos visiteurs de vous payer par carte de crédit, virement bancaire ou encore par chèque ?</p><p id="r-546689" data-claire-element-id="546689">Tout ceci est possible grâce aux services sécurisés de paiement en ligne comme par exemple : <strong>PayPal</strong>, <strong>Moneybookers</strong>, <strong>Clik2Pay</strong> ou encore <strong>NETELLER</strong>.</p><p id="r-546690" data-claire-element-id="546690">Dans ce tutoriel, je vais vous présenter <strong>Moneybookers</strong>. Il a l'avantage d'être bon marché, en français et relativement facile à mettre en place sur votre site web, tout en gardant une très bonne sécurité.<br/><em><br/> J'ai également rédigé un autre tutoriel sur <strong>PayPal</strong>, à cette adresse : <a href="tutoriel-3-144561-paiement-en-ligne-par-paypal.html">Paiement en ligne par PayPal</a></em></p><p id="r-546691" data-claire-element-id="546691">Que vous soyez un <strong>pro du PHP</strong>, de l'ASP (ou autre) ou un <strong>débutant en (x)HTML</strong>, ce tutoriel est pour vous ! Car je vais vous présenter une technique <strong>&quot;statique&quot;</strong> qui n'utilise que du <strong>HTML</strong>, et une autre <strong>&quot;dynamique&quot;</strong> plus approfondie où on utilisera également du <strong>PHP</strong>, ou tout autre langage côté serveur.</p>
</div><a name="MoneybookersConnaispas..."></a><h2>Moneybookers ? Connais pas...</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
<span class="next">Comment ça marche ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546692" data-claire-element-id="546692">Avant de vous expliquer comment utiliser <strong>Moneybookers</strong>, je vais d'abord vous expliquer ce que c'est et comment ça marche.</p><h2 id="r-presentation-de-moneybookers" data-claire-element-id="546710">Présentation de Moneybookers</h2><p id="r-546693" data-claire-element-id="546693">Moneybookers est une interface vous permettant de déposer de l'argent sur un compte virtuel, sur internet <em>(ce n'est pas un placement que vous faites, aucun intérêt ne vous est reversé... :( snif)</em>.<br/> Pour ce faire, rien de plus simple : vous ouvrez un compte sur le site <a href="https://www.moneybookers.com/app/?rid=4048550">www.moneybookers.com</a>, puis vous envoyez un bulletin de versement sur un compte en banque de Moneybookers. Comme ils disposent d'un compte en banque dans beaucoup de pays du monde, vous n'aurez probablement pas de frais bancaires. Ou alors, vous versez de l'argent sur votre compte par carte de crédit, mais à ce moment-là, une taxe de <strong>1,9 %</strong> est prélevée sur votre virement.</p><p id="r-546694" data-claire-element-id="546694">Une fois que vous avez de l'argent sur votre compte Moneybookers, vous pouvez envoyer cet argent, ou une partie de celui-ci à quiconque disposant d'un compte Moneybookers.<br/> Vous ne payez rien pour créditer votre compte et pour envoyer de l'argent. C'est donc très avantageux pour régler ses factures dans le monde entier.</p><p id="r-546695" data-claire-element-id="546695">Lorsque vous recevez de l'argent d'un autre compte Moneybookers, une taxe de<strong> 2,9 %</strong> est prélevée sur le virement de celui-ci.</p><p id="r-546696" data-claire-element-id="546696">Et enfin, vous pouvez à tout moment récupérer l'argent que vous avez sur votre compte Moneybookers et le transférer sur votre compte bancaire, soit par virement (avec une taxe de <strong>1,80 EUR</strong>), soit par chèque (avec une taxe de <strong>3,50 EUR</strong>).</p><p id="r-546697" data-claire-element-id="546697"><cite>Citation : www.moneybookers.com</cite></p><blockquote id="r-546709" data-claire-element-id="546709"><p id="r-546698" data-claire-element-id="546698">Moneybookers permet aux entreprises ou aux individus, disposant d'une adresse e-mail, d'envoyer et de recevoir, de manière sécurisée et à moindre coût, des paiements en ligne, en temps réel !</p><p id="r-546699" data-claire-element-id="546699">Utilisez Moneybookers pour :</p><ul id="r-546706" data-claire-element-id="546706"><li id="r-546701" data-claire-element-id="546701"><p id="r-546700" data-claire-element-id="546700">envoyer de l'argent via e-mail à partir de votre carte de crédit ou votre compte bancaire ;</p></li><li id="r-546703" data-claire-element-id="546703"><p id="r-546702" data-claire-element-id="546702">effectuer des achats en ligne ;</p></li><li id="r-546705" data-claire-element-id="546705"><p id="r-546704" data-claire-element-id="546704">collecter de l'argent depuis votre e-mail.</p></li></ul><p id="r-546707" data-claire-element-id="546707">Moneybookers offre un service taillé sur mesure pour les besoins des petites entreprises, des marchands en ligne, des particuliers et tous ceux qui ne sont pas satisfaits des mécanismes de paiement traditionnels. En tant que solution globale de paiement, nous accueillons les clients de toutes les nations de la Terre !</p><p id="r-546708" data-claire-element-id="546708">Moneybookers Limited est un agent de transferts monétaires régi par la loi du Royaume-Uni.</p></blockquote>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
<span class="next">Comment ça marche ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Commentamarche"></a><h2>Comment ça marche ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
<span class="arrow"></span>
<span class="next">Moneybookers ? Connais pas...</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
<span class="next">Inscription</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546712" data-claire-element-id="546712">Vous trouvez sur le site de Moneybookers, une documentation technique (en anglais) de l'utilisation.</p><p id="r-546713" data-claire-element-id="546713">La transaction s'effectue en plusieurs points.</p><ul id="r-546726" data-claire-element-id="546726"><li id="r-546715" data-claire-element-id="546715"><p id="r-546714" data-claire-element-id="546714">Le visiteur passe une commande, (avec un système de panier pour les plus avancés, une simple page HTML avec l'article en question pour les moins avancés).</p></li><li id="r-546717" data-claire-element-id="546717"><p id="r-546716" data-claire-element-id="546716">Le visiteur clique sur le bouton Payer pour finaliser son achat.</p></li><li id="r-546719" data-claire-element-id="546719"><p id="r-546718" data-claire-element-id="546718">Le visiteur est redirigé sur le site de Moneybookers et les détails de son achat sont transmis à celui-ci.</p></li><li id="r-546721" data-claire-element-id="546721"><p id="r-546720" data-claire-element-id="546720">Le visiteur entre son nom d'utilisateur et son mot de passe sur ce site, et accepte ou non le paiement.</p></li><li id="r-546723" data-claire-element-id="546723"><p id="r-546722" data-claire-element-id="546722">Si le visiteur n'accepte pas le paiement ou qu'il n'a pas assez d'argent pour le régler, il est redirigé sur une page de votre site (une page où on lui dit &quot;<em>La vente n'a pas pu se terminer</em>&quot;).</p></li><li id="r-546725" data-claire-element-id="546725"><p id="r-546724" data-claire-element-id="546724">Si le visiteur accepte le paiement et qu'il a assez d'argent pour le régler, il est redirigé sur une page de votre site (une page ou on lui dit &quot;<em>Bravo, la vente a été acceptée</em>&quot;).</p></li></ul><p id="r-546727" data-claire-element-id="546727">À ce moment-là, deux choix s'offrent à vous :</p><ul id="r-546732" data-claire-element-id="546732"><li id="r-546729" data-claire-element-id="546729"><p id="r-546728" data-claire-element-id="546728">vous recevez un e-mail lorsqu'un virement a été effectué sur votre compte (vous n'utilisez que du code (x)HTML) ;</p></li><li id="r-546731" data-claire-element-id="546731"><p id="r-546730" data-claire-element-id="546730">ou alors, Moneybookers exécute un script de votre site qui vous permettra de mettre à jour votre base de données MySQL, d'envoyer un e-mail à l'acheteur, etc. (nécessite une programmation en PHP <em>ou autre</em>).</p></li></ul><p id="r-546733" data-claire-element-id="546733"><strong>En image, ça nous donne :</strong></p><figure id="r-546735" data-claire-element-id="546736"><img id="r-546734" data-claire-element-id="546734" src="medias/uploads.siteduzero.com_files_91001_92000_91271.jpg" alt="traitement moneybookers"/></figure><aside id="r-546738" data-claire-element-id="546738" data-claire-semantic="information"><p id="r-546737" data-claire-element-id="546737">Nous verrons plus tard quels sont les risques de piratage et comment les éviter...</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
<span class="arrow"></span>
<span class="next">Moneybookers ? Connais pas...</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
<span class="next">Inscription</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Inscription"></a><h2>Inscription</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
<span class="arrow"></span>
<span class="next">Comment ça marche ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
<span class="next">Mise en place sur votre site</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546740" data-claire-element-id="546740">Tout d'abord, vous devez être inscrits sur le site de Moneybookers. Pour cela, rien de plus simple.</p><p id="r-546741" data-claire-element-id="546741">Connectez-vous sur le site <a href="https://www.moneybookers.com/app/?rid=4048550">www.moneybookers.com</a>, cliquez sur le bouton s'inscrire et complétez les champs demandés. Là, je ne peux pas beaucoup vous aider... Inutile de copier, ce sont des informations personnelles ^^ .</p><aside id="r-546743" data-claire-element-id="546743" data-claire-semantic="information"><p id="r-546742" data-claire-element-id="546742">Si vous souhaitez automatiser les traitements, il vous faudra un Compte professionnel.<br/> Pour les traitements statiques (uniquement en (x)HTML), un Compte personnel suffit.</p></aside><p id="r-546744" data-claire-element-id="546744">Une fois enregistrés, vous pouvez ajouter un nouveau compte en banque et le vérifier. Cette action vous permettra de déposer des fonds et de retirer votre argent du compte Moneybookers afin de le déposer sur votre compte en banque.<br/> À ce stade-là, vous êtes limités sur la quantité d'argent que vous pouvez retirer de votre compte Moneybookers, par mois. Ceci afin d'éviter le blanchiment d'argent.<br/> Mais vous pouvez demander de vérifier votre adresse postale, et ainsi vous permettre d'augmenter la limite mensuelle de retraits d'argent.</p><p id="r-546745" data-claire-element-id="546745"><strong>Note :</strong><em>le site de Moneybookers utilise un système de parrainage. Si vous vous êtes enregistrés il y a moins de deux semaines et que vous n'avez pas de parrain, vous pouvez ajouter mon ID de parrainage qui est le suivant : <strong>4048550</strong>. :-°</em></p><p id="r-546746" data-claire-element-id="546746">Petite parenthèse faite, vous pouvez dès maintenant déposer, retirer des fonds, envoyer et recevoir de l'argent grâce à ce site.<br/> C'est-t-y pas beau :p ?</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
<span class="arrow"></span>
<span class="next">Comment ça marche ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
<span class="next">Mise en place sur votre site</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Miseenplacesurvotresite"></a><h2>Mise en place sur votre site</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
<span class="arrow"></span>
<span class="next">Inscription</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
<span class="next">Automatiser, mais pourquoi ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546748" data-claire-element-id="546748">Nous y voilà. Sans plus tarder, nous allons voir comment faire pour mettre en place tout ceci, et vous verrez que ce n'est pas si compliqué.</p><aside id="r-546751" data-claire-element-id="546751" data-claire-semantic="information"><p id="r-546749" data-claire-element-id="546750">Le manuel d'utilisation de la passerelle de paiement de Moneybookers est disponible sur le site de celui-ci : <a href="http://www.moneybookers.com/merchant/fr/moneybookers_gateway_manual.pdf"><br/><img id="r-546750" data-claire-element-id="546749" src="medias/uploads.siteduzero.com_files_89001_90000_89180.png" alt="Image utilisateur"/> moneybookers_gateway_manual.pdf</a>.</p></aside><p id="r-546752" data-claire-element-id="546752">Je ne vais pas refaire le cours de <strong>M@teo</strong>, et je considère donc que si vous lisez ce tutoriel, vous avez suffisamment de connaissances pour savoir créer une page HTML simple. Si ce n'est pas le cas, allez vite lire son tutoriel <a href="tuto-3-6-0-apprenez-a-creer-votre-site-web.html">à cette page</a>.</p><p id="r-546753" data-claire-element-id="546753">Vous pourriez très bien dire à vos clients : &quot;Inscrivez-vous sur le site www.moneybookers.com, et <em>versez-moi de l'argent sur le compte ***@***.&quot;</em><br/> Mais avouez que ce n'est pas très professionnel, et surtout que ce tuto ne vous serait d'aucune utilité.</p><p id="r-546754" data-claire-element-id="546754">Ce qui va nous intéresser, c'est de dire à <strong>Moneybookers </strong>que le client que vous leur envoyez vous doit <strong>25 euros</strong> car il souhaite vous acheter <strong>2 kg de café fraîchement moulu</strong>.</p><p id="r-546755" data-claire-element-id="546755">Et pour ce faire, vous allez envoyer ces informations à un programme de Moneybookers, à l'aide d'un formulaire. Mais ce formulaire ne sera pas visible aux yeux de vos visiteurs. Nous allons donc utiliser la balise <strong>input</strong> avec l'argument <strong>type=&quot;hidden&quot;</strong> pour ensuite l'envoyer au script <a href="https://www.moneybookers.com/app/payment.pl"><strong>https://www.moneybookers.com/app/payment.pl</strong></a> à l'aide de la méthode <strong>POST</strong>.</p><p id="r-546756" data-claire-element-id="546756"><em><strong>Ce qui nous donnera au final quelque chose comme ça :</strong></em></p><pre id="r-546757" data-claire-element-id="546757"><code data-claire-semantic="html">&lt;form action=&quot;https://www.moneybookers.com/app/payment.pl&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;nom_du_champ&quot; value=&quot;valeur_du_champ&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Payer!&quot;&gt;
&lt;/form&gt;</code></pre><p id="r-546758" data-claire-element-id="546758">Si on teste cette page, le site de Moneybookers va nous retourner une erreur car il lui manque des informations. Je vais donc vous citer de suite les informations que nous devons <strong>obligatoirement</strong> passer à <strong>Moneybookers </strong>pour que ce programme puisse fonctionner.</p><table id="r-546850" data-claire-element-id="546850"><thead id="r-546766" data-claire-element-id="546766"><tr id="r-546765" data-claire-element-id="546765"><th id="r-546760" data-claire-element-id="546760"><p id="r-546759" data-claire-element-id="546759">Nom du champ</p></th><th id="r-546762" data-claire-element-id="546762"><p id="r-546761" data-claire-element-id="546761">Description</p></th><th id="r-546764" data-claire-element-id="546764"><p id="r-546763" data-claire-element-id="546763">Exemple</p></th></tr></thead><tbody id="r-546849" data-claire-element-id="546849"><tr id="r-546773" data-claire-element-id="546773"><td id="r-546768" data-claire-element-id="546768"><p id="r-546767" data-claire-element-id="546767"><strong>pay_to_email</strong></p></td><td id="r-546770" data-claire-element-id="546770"><p id="r-546769" data-claire-element-id="546769">Indiquez ici l'adresse e-mail de votre compte Moneybookers.<br/> Ce champ permet d'indiquer sur quel compte l'argent doit être versé.</p></td><td id="r-546772" data-claire-element-id="546772"><p id="r-546771" data-claire-element-id="546771"><strong><a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="b1d4dcd0d8ddf1d5dedcd0d8dfd49fd2dedc">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></strong></p></td></tr><tr id="r-546780" data-claire-element-id="546780"><td id="r-546775" data-claire-element-id="546775"><p id="r-546774" data-claire-element-id="546774"><strong>language</strong></p></td><td id="r-546777" data-claire-element-id="546777"><p id="r-546776" data-claire-element-id="546776">Indiquez ici les deux lettres de la langue dans laquelle vous souhaitez voir affiché le site.<br/> Le site de Moneybookers sera ainsi affiché dans la langue souhaitée. (FR, EN, DE, etc.)</p></td><td id="r-546779" data-claire-element-id="546779"><p id="r-546778" data-claire-element-id="546778"><strong>FR</strong></p></td></tr><tr id="r-546787" data-claire-element-id="546787"><td id="r-546782" data-claire-element-id="546782"><p id="r-546781" data-claire-element-id="546781"><strong>amount</strong></p></td><td id="r-546784" data-claire-element-id="546784"><p id="r-546783" data-claire-element-id="546783">Indiquez ici le montant que votre visiteur doit vous verser.<br/> Ce montant sera déduit du compte du visiteur pour être transféré sur le vôtre</p></td><td id="r-546786" data-claire-element-id="546786"><p id="r-546785" data-claire-element-id="546785"><strong>26.90</strong></p></td></tr><tr id="r-546794" data-claire-element-id="546794"><td id="r-546789" data-claire-element-id="546789"><p id="r-546788" data-claire-element-id="546788"><strong>currency</strong></p></td><td id="r-546791" data-claire-element-id="546791"><p id="r-546790" data-claire-element-id="546790">Indiquez ici le code du type de la monnaie souhaitée sur 3 caractères.<br/> Le type de monnaie du montant renseigné précédemment est défini ici (EUR, CHF, USD, ...).</p></td><td id="r-546793" data-claire-element-id="546793"><p id="r-546792" data-claire-element-id="546792"><strong>EUR</strong></p></td></tr><tr id="r-546801" data-claire-element-id="546801"><td id="r-546796" data-claire-element-id="546796"><p id="r-546795" data-claire-element-id="546795"><strong>detail1_description</strong></p></td><td id="r-546798" data-claire-element-id="546798"><p id="r-546797" data-claire-element-id="546797">Vous indiquez ici une ou plusieurs (5 maxi) <strong>descriptions </strong>que vous souhaitez afficher lors de la transaction.<br/> Ces lignes seront affichées lors de la validation de la transaction.</p></td><td id="r-546800" data-claire-element-id="546800"><p id="r-546799" data-claire-element-id="546799"><strong>Description</strong></p></td></tr><tr id="r-546806" data-claire-element-id="546806"><td id="r-546803" data-claire-element-id="546803"><p id="r-546802" data-claire-element-id="546802"><em>detail2_description</em></p></td><td id="r-546805" data-claire-element-id="546805"><p id="r-546804" data-claire-element-id="546804"><em>ID du produit</em></p></td></tr><tr id="r-546811" data-claire-element-id="546811"><td id="r-546808" data-claire-element-id="546808"><p id="r-546807" data-claire-element-id="546807"><em>detail3_description</em></p></td><td id="r-546810" data-claire-element-id="546810"><p id="r-546809" data-claire-element-id="546809"><em>Délais de livraison</em></p></td></tr><tr id="r-546816" data-claire-element-id="546816"><td id="r-546813" data-claire-element-id="546813"><p id="r-546812" data-claire-element-id="546812"><em>detail4_description</em></p></td><td id="r-546815" data-claire-element-id="546815"><p id="r-546814" data-claire-element-id="546814"><em>...</em></p></td></tr><tr id="r-546821" data-claire-element-id="546821"><td id="r-546818" data-claire-element-id="546818"><p id="r-546817" data-claire-element-id="546817"><em>detail5_description</em></p></td><td id="r-546820" data-claire-element-id="546820"><p id="r-546819" data-claire-element-id="546819"><em>...</em></p></td></tr><tr id="r-546828" data-claire-element-id="546828"><td id="r-546823" data-claire-element-id="546823"><p id="r-546822" data-claire-element-id="546822"><strong>detail1_text</strong></p></td><td id="r-546825" data-claire-element-id="546825"><p id="r-546824" data-claire-element-id="546824">Vous indiquez ici une ou plusieurs (5 maxi) <strong>valeurs</strong> correspondantes à la description mentionnée précédemment.<br/> Ces lignes seront affichées lors de la validation de la transaction.</p></td><td id="r-546827" data-claire-element-id="546827"><p id="r-546826" data-claire-element-id="546826"><strong>2 kg de café fraîchement moulu</strong></p></td></tr><tr id="r-546833" data-claire-element-id="546833"><td id="r-546830" data-claire-element-id="546830"><p id="r-546829" data-claire-element-id="546829"><em>detail2_text</em></p></td><td id="r-546832" data-claire-element-id="546832"><p id="r-546831" data-claire-element-id="546831"><em>56414</em></p></td></tr><tr id="r-546838" data-claire-element-id="546838"><td id="r-546835" data-claire-element-id="546835"><p id="r-546834" data-claire-element-id="546834"><em>detail3_text</em></p></td><td id="r-546837" data-claire-element-id="546837"><p id="r-546836" data-claire-element-id="546836"><em>4 à 5 jours ouvrables</em></p></td></tr><tr id="r-546843" data-claire-element-id="546843"><td id="r-546840" data-claire-element-id="546840"><p id="r-546839" data-claire-element-id="546839"><em>detail4_text</em></p></td><td id="r-546842" data-claire-element-id="546842"><p id="r-546841" data-claire-element-id="546841"><em>...</em></p></td></tr><tr id="r-546848" data-claire-element-id="546848"><td id="r-546845" data-claire-element-id="546845"><p id="r-546844" data-claire-element-id="546844"><em>detail5_text</em></p></td><td id="r-546847" data-claire-element-id="546847"><p id="r-546846" data-claire-element-id="546846"><em>...</em></p></td></tr></tbody></table><p id="r-546851" data-claire-element-id="546851"><strong><em>Si on place tout ça dans le formulaire, ça nous donne :</em></strong></p><pre id="r-546852" data-claire-element-id="546852"><code data-claire-semantic="html">&lt;form action=&quot;https://www.moneybookers.com/app/payment.pl&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;pay_to_email&quot; value=&quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="11747c70787d51757e7c70787f743f727e7c">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;language&quot; value=&quot;FR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount&quot; value=&quot;26.9&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;currency&quot; value=&quot;EUR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail1_description&quot; value=&quot;Description&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail1_text&quot; value=&quot;2 kg de cafe fraichement moulu&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Payer!&quot;&gt;
&lt;/form&gt;</code></pre><p id="r-546853" data-claire-element-id="546853">Lorsqu'on clique sur le bouton Payer ! de ce formulaire, voici ce que <strong>Moneybookers </strong>nous retourne :</p><figure id="r-546855" data-claire-element-id="546856"><img id="r-546854" data-claire-element-id="546854" src="medias/uploads.siteduzero.com_files_89001_90000_89182.jpg" alt="vente simple moneybookers"/></figure><p id="r-546857" data-claire-element-id="546857">Mais voici d'autres champs très utiles que nous pouvons transmettre à Moneybookers, mais ils ne sont pas obligatoires :</p><table id="r-546929" data-claire-element-id="546929"><thead id="r-546865" data-claire-element-id="546865"><tr id="r-546864" data-claire-element-id="546864"><th id="r-546859" data-claire-element-id="546859"><p id="r-546858" data-claire-element-id="546858">Nom du champ</p></th><th id="r-546861" data-claire-element-id="546861"><p id="r-546860" data-claire-element-id="546860">Description</p></th><th id="r-546863" data-claire-element-id="546863"><p id="r-546862" data-claire-element-id="546862">Exemple</p></th></tr></thead><tbody id="r-546928" data-claire-element-id="546928"><tr id="r-546872" data-claire-element-id="546872"><td id="r-546867" data-claire-element-id="546867"><p id="r-546866" data-claire-element-id="546866"><strong>return_url</strong></p></td><td id="r-546869" data-claire-element-id="546869"><p id="r-546868" data-claire-element-id="546868">Indiquez ici l'adresse de la page qui sera affichée lorsque le visiteur a effectué le virement.<br/><strong>*</strong> Si ce champ n'est pas renseigné, Moneybookers ferme simplement la fenêtre.</p></td><td id="r-546871" data-claire-element-id="546871"><p id="r-546870" data-claire-element-id="546870"><a href="http://www.siteduzero.com/transfert_ok.htm"><strong>http://www.siteduzero.com/transfert_ok.htm</strong></a></p></td></tr><tr id="r-546879" data-claire-element-id="546879"><td id="r-546874" data-claire-element-id="546874"><p id="r-546873" data-claire-element-id="546873"><strong>cancel_url</strong></p></td><td id="r-546876" data-claire-element-id="546876"><p id="r-546875" data-claire-element-id="546875">Indiquez ici l'adresse de la page qui sera affichée si le visiteur annule le virement.<br/><strong>*</strong> Si ce champ n'est pas renseigné, Moneybookers ferme simplement la fenêtre.</p></td><td id="r-546878" data-claire-element-id="546878"><p id="r-546877" data-claire-element-id="546877"><a href="http://www.siteduzero.com/transfert_annule.htm"><strong>http://www.siteduzero.com/transfert_annule.htm</strong></a></p></td></tr><tr id="r-546886" data-claire-element-id="546886"><td id="r-546881" data-claire-element-id="546881"><p id="r-546880" data-claire-element-id="546880"><strong>status_url</strong></p></td><td id="r-546883" data-claire-element-id="546883"><p id="r-546882" data-claire-element-id="546882">Indiquez ici votre adresse e-mail afin de recevoir un accusé de réception lorsqu'une transaction sera effectuée.<br/> Ce champ sert également à indiquer la page de votre script d'automatisation, mais on le verra dans la partie suivante du tutoriel.</p></td><td id="r-546885" data-claire-element-id="546885"><p id="r-546884" data-claire-element-id="546884"><strong><a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="8feae2eee6e3cfebe0e2eee6e1eaa1ece0e2">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></strong></p></td></tr><tr id="r-546893" data-claire-element-id="546893"><td id="r-546888" data-claire-element-id="546888"><p id="r-546887" data-claire-element-id="546887"><strong>amount2_description</strong></p></td><td id="r-546890" data-claire-element-id="546890"><p id="r-546889" data-claire-element-id="546889">Vous indiquez ici une ou plusieurs (4 maxi) <strong>descriptions</strong> de prix à ajouter à la page de paiement Moneybookers.<br/> Ces informations seront affichées sur la page de paiement de Moneybookers.</p></td><td id="r-546892" data-claire-element-id="546892"><p id="r-546891" data-claire-element-id="546891"><strong><em>Prix :</em></strong></p></td></tr><tr id="r-546898" data-claire-element-id="546898"><td id="r-546895" data-claire-element-id="546895"><p id="r-546894" data-claire-element-id="546894"><em>amount3_description</em></p></td><td id="r-546897" data-claire-element-id="546897"><p id="r-546896" data-claire-element-id="546896"><em>Frais de port :</em></p></td></tr><tr id="r-546903" data-claire-element-id="546903"><td id="r-546900" data-claire-element-id="546900"><p id="r-546899" data-claire-element-id="546899"><em>amount4_description</em></p></td><td id="r-546902" data-claire-element-id="546902"><p id="r-546901" data-claire-element-id="546901"><em>TVA (5,5 %) :</em></p></td></tr><tr id="r-546910" data-claire-element-id="546910"><td id="r-546905" data-claire-element-id="546905"><p id="r-546904" data-claire-element-id="546904"><strong>amount2</strong></p></td><td id="r-546907" data-claire-element-id="546907"><p id="r-546906" data-claire-element-id="546906">Vous indiquez ici un ou plusieurs (4 maxi) <strong>prix</strong> correspondants à la description mentionnée précédemment.<br/> Le montant total n'est pas calculé, vérifiez donc la cohérence entre les champs <strong>amount<em>2,3,4</em></strong> et <strong>amount</strong>.</p></td><td id="r-546909" data-claire-element-id="546909"><p id="r-546908" data-claire-element-id="546908"><strong>19.90 EUR</strong></p></td></tr><tr id="r-546915" data-claire-element-id="546915"><td id="r-546912" data-claire-element-id="546912"><p id="r-546911" data-claire-element-id="546911"><em>amount3</em></p></td><td id="r-546914" data-claire-element-id="546914"><p id="r-546913" data-claire-element-id="546913"><em>6.- EUR</em></p></td></tr><tr id="r-546920" data-claire-element-id="546920"><td id="r-546917" data-claire-element-id="546917"><p id="r-546916" data-claire-element-id="546916"><em>amount4</em></p></td><td id="r-546919" data-claire-element-id="546919"><p id="r-546918" data-claire-element-id="546918"><em>1.- EUR</em></p></td></tr><tr id="r-546927" data-claire-element-id="546927"><td id="r-546922" data-claire-element-id="546922"><p id="r-546921" data-claire-element-id="546921"><strong>confirmation_note</strong></p></td><td id="r-546924" data-claire-element-id="546924"><p id="r-546923" data-claire-element-id="546923">Indiquez ici le message que vous souhaitez afficher lorsque le visiteur a confirmé son achat sur le site Moneybookers.<br/> Vous avez la possibilité d'intégrer la balise <strong>&lt;br&gt;</strong> pour vos longs messages.</p></td><td id="r-546926" data-claire-element-id="546926"><p id="r-546925" data-claire-element-id="546925"><strong>Merci pour votre achat.&lt;br&gt; À la revoyure !!</strong></p></td></tr></tbody></table><aside id="r-546931" data-claire-element-id="546931" data-claire-semantic="warning"><p id="r-546930" data-claire-element-id="546930"><strong>*</strong><em>Dans la documentation officielle, la fenêtre Moneybookers est ouverte dans une nouvelle fenêtre (<strong>target=&quot;_blank&quot;</strong>). C'est pour cela que Moneybookers se permet de fermer la fenêtre. Mais comme <strong>target=&quot;_blank&quot;</strong> n'est pas au standard XHTML, je ne vous l'ai pas mentionné. Indiquez simplement une adresse de retour dans ce champ, et le problème est résolu.</em></p></aside><p id="r-546932" data-claire-element-id="546932"><em><strong>Si on place tout ça dans le formulaire, ça nous donne :</strong></em></p><pre id="r-546933" data-claire-element-id="546933"><code data-claire-semantic="html">&lt;form action=&quot;https://www.moneybookers.com/app/payment.pl&quot; method=&quot;post&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;pay_to_email&quot; value=&quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="a6c3cbc7cfcae6c2c9cbc7cfc8c388c5c9cb">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;language&quot; value=&quot;FR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount2_description&quot; value=&quot;Prix :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount2&quot; value=&quot;19.90 EUR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount3_description&quot; value=&quot;Frais de port :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount3&quot; value=&quot;6.- EUR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount4_description&quot; value=&quot;TVA (5.5 %) :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount4&quot; value=&quot;1.- EUR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;amount&quot; value=&quot;26.9&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;currency&quot; value=&quot;EUR&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail1_description&quot; value=&quot;Description :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail1_text&quot; value=&quot;2 kg de cafe fraîchement moulu&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail2_description&quot; value=&quot;ID du produit :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail2_text&quot; value=&quot;56414&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail3_description&quot; value=&quot;Délais de livraison :&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;detail3_text&quot; value=&quot;4 à 5 jours ouvrables&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;return_url&quot; value=&quot;http://www.siteduzero.com/transfert_ok.htm&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;cancel_url&quot; value=&quot;http://www.siteduzero.com/transfert_annule.htm&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;status_url&quot; value=&quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="63060e020a0f23070c0e020a0d064d000c0e">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;&gt;
  &lt;input type=&quot;hidden&quot; name=&quot;confirmation_note&quot; value=&quot;Merci pour votre achat.&quot;&gt;
  &lt;input type=&quot;submit&quot; value=&quot;Payer !&quot;&gt;
&lt;/form&gt;</code></pre><p id="r-546934" data-claire-element-id="546934">Lorsqu'on clique sur le bouton Payer ! de ce formulaire, voici ce que <strong>Moneybookers </strong>nous retourne :</p><figure id="r-546936" data-claire-element-id="546937"><img id="r-546935" data-claire-element-id="546935" src="medias/uploads.siteduzero.com_files_89001_90000_89381.jpg" alt="Image utilisateur"/></figure><aside id="r-546939" data-claire-element-id="546939" data-claire-semantic="information"><p id="r-546938" data-claire-element-id="546938">Pour vous simplifier la vie, vous pouvez générer le code HTML depuis le site de Moneybookers à l'adresse suivante : <a href="http://www.moneybookers.com/app/test_payment.pl">http://www.moneybookers.com/app/test_payment.pl</a>.</p></aside><p id="r-546940" data-claire-element-id="546940"><strong>Actuellement, nous nous trouvons dans cette situation :</strong></p><figure id="r-546942" data-claire-element-id="546943"><img id="r-546941" data-claire-element-id="546941" src="medias/uploads.siteduzero.com_files_89001_90000_89389.jpg" alt="Image utilisateur"/></figure><p id="r-546944" data-claire-element-id="546944">Vous n'avez plus qu'à envoyer la marchandise à la personne qui vous a commandé quelque chose, lorsque vous recevez un e-mail de Moneybookers.</p><aside id="r-546946" data-claire-element-id="546946" data-claire-semantic="warning"><p id="r-546945" data-claire-element-id="546945">Par sécurité, vous pouvez aller consulter votre compte Moneybookers pour vérifier que l'argent a réellement été transféré...<br/><strong>D'ailleurs, je vous le conseille vivement !!!</strong> Car il est très facile d'envoyer un e-mail en se faisant passer pour quelqu'un d'autre.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
<span class="arrow"></span>
<span class="next">Inscription</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
<span class="next">Automatiser, mais pourquoi ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Automatisermaispourquoi"></a><h2>Automatiser, mais pourquoi ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
<span class="arrow"></span>
<span class="next">Mise en place sur votre site</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
<span class="next">Automatisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546948" data-claire-element-id="546948">Jusqu'à maintenant, toutes les actions dynamiques se passaient chez Moneybookers. Nous n'avions besoin que de pages (x)HTML.<br/> Ce qui devient intéressant maintenant, c'est qu'on puisse mettre à jour nos bases de données directement après qu'une vente ait été accomplie.</p><div id="r-546950" data-claire-element-id="546950" data-claire-semantic="question"><p id="r-546949" data-claire-element-id="546949">Tu n'aurais pas un exemple concret, car là je ne vois pas trop l'utilité...</p></div><p id="r-546951" data-claire-element-id="546951"><strong>Bien sûr, en voici un.</strong><br/> Vous vendez des logiciels par internet et ceux-ci nécessitent une clé de licence pour être utilisés.<br/> Une fois que votre client a choisi les logiciels qu'il souhaite acheter, il passe par Moneybookers pour payer son achat. Directement après avoir payé, il reçoit instantanément un e-mail contenant toutes les clés de logiciels qu'il vient de commander. Plus rapide que l'éclair. :)</p><p id="r-546952" data-claire-element-id="546952"><strong>En voici un autre.</strong><br/> Vous vendez votre télévision, votre grand-mère, votre natel (téléphone portable) et vos souliers favoris. Vous n'avez qu'un seul exemplaire de chaque article. Il serait très déplaisant que pendant le temps qu'il vous faut pour aller lire vos e-mails et mettre à jour votre site, une seconde personne achète votre natel. :euh: <strong>Gloups !</strong><br/> Vous auriez reçu de l'argent des deux personnes, mais ne pouvez satisfaire qu'une seule d'entre elles. :-° <br/> Mais grâce à ce qui va suivre, vous pourriez supprimer de votre site la vente de votre natel, aussitôt après qu'une personne vous l'ait acheté.</p><p id="r-546953" data-claire-element-id="546953"><strong>Et pourquoi pas...</strong><br/> Vous fournissez un service payant quelconque (informations, paris, jeu en ligne) et utilisez ce moyen pour permettre à vos visiteurs d'avoir accès à ce service ou de charger des fonds sur votre site. Leur compte est automatiquement activé / mis à jour, après paiement.</p><p id="r-546954" data-claire-element-id="546954">Des exemples comme ça, je peux vous en trouver des milliers... Mais je pense que si vous continuez à lire ce tutoriel, c'est que vous avez probablement déjà tous plein d'idées de ce que vous allez automatiser.</p><p id="r-546955" data-claire-element-id="546955"><strong>Alors poursuivons !!!</strong> ^^</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
<span class="arrow"></span>
<span class="next">Mise en place sur votre site</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
<span class="next">Automatisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Automatisation"></a><h2>Automatisation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
<span class="arrow"></span>
<span class="next">Automatiser, mais pourquoi ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
<span class="next">Anti-piratage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-546957" data-claire-element-id="546957"><em>Ce tutoriel ne va pas vous apprendre à faire du <strong>PHP</strong>, de l'<strong>ASP </strong>ou tout autre langage quel qu'il soit... Je ne vais donc pas vous apprendre à changer dynamiquement le contenu de votre formulaire, ni à récupérer le contenu d'un formulaire. Je pars donc du principe que vous savez le faire. Si ce n'est pas le cas, allez donc lire le tutoriel PHP de M@teo <a href="tuto-3-4-0-un-site-dynamique-avec-php.html">sur cette page</a>.</em></p><p id="r-546958" data-claire-element-id="546958">Pour que Moneybookers exécute notre script, il va falloir lui dire quel est le script à exécuter. Et ceci se fait dans le champ <strong>status_url</strong>.</p><div id="r-546960" data-claire-element-id="546960" data-claire-semantic="question"><p id="r-546959" data-claire-element-id="546959">Ce n'est pas celui où on peut définir notre adresse e-mail pour recevoir un accusé réception par e-mail ?</p></div><p id="r-546961" data-claire-element-id="546961">Oui, précisément. Mais cette fois-ci, à la place de mettre une adresse e-mail, nous allons mettre l'URL de notre script. Ainsi, Moneybookers pourra l'exécuter et nous dire si le paiement a été accompli ou non.</p><table id="r-546978" data-claire-element-id="546978"><thead id="r-546969" data-claire-element-id="546969"><tr id="r-546968" data-claire-element-id="546968"><th id="r-546963" data-claire-element-id="546963"><p id="r-546962" data-claire-element-id="546962">Nom du champ</p></th><th id="r-546965" data-claire-element-id="546965"><p id="r-546964" data-claire-element-id="546964">Description</p></th><th id="r-546967" data-claire-element-id="546967"><p id="r-546966" data-claire-element-id="546966">Exemple</p></th></tr></thead><tbody id="r-546977" data-claire-element-id="546977"><tr id="r-546976" data-claire-element-id="546976"><td id="r-546971" data-claire-element-id="546971"><p id="r-546970" data-claire-element-id="546970"><strong>status_url</strong></p></td><td id="r-546973" data-claire-element-id="546973"><p id="r-546972" data-claire-element-id="546972">Indiquez l'URL du script que Moneybookers doit exécuter.</p></td><td id="r-546975" data-claire-element-id="546975"><p id="r-546974" data-claire-element-id="546974"><a href="http://www.siteduzero.com/execution_script.php"><strong>http://www.siteduzero.com/execution_script.php</strong></a></p></td></tr></tbody></table><aside id="r-546980" data-claire-element-id="546980" data-claire-semantic="information"><p id="r-546979" data-claire-element-id="546979">À ce stade-là, si vous souhaitez tester l'automatisation de vos scripts, il serait préférable pour vous de demander à Moneybookers deux acomptes de test. Vous pouvez le faire à cette adresse : <a href="http://www.cloudflare.com/email-protection#b7dad2c5d4dfd6d9c3c4d2c5c1ded4d2c4f7dad8d9d2ced5d8d8dcd2c5c499d4d8da"><span class="__cf_email__" data-cfemail="4a272f3829222b243e392f383c23292f390a2725242f33282525212f383964292527">[email&nbsp;protected]</span><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></a>.</p></aside><p id="r-546981" data-claire-element-id="546981">Ainsi, vous évitez de gaspiller votre argent en frais de transfert (commission), ou de faire de l'à-peu-près, en supposant que votre script va fonctionner.</p><p id="r-546982" data-claire-element-id="546982">Étant donné que ce n'est pas le visiteur qui exécute votre script, mais Moneybookers, les variables globales ($_SESSION) vous sont complètement inutiles.<br/> Il vous faudra donc un autre moyen pour identifier à quoi correspond tel ou tel paiement.<br/> Nous allons donc envoyer ces informations à Moneybookers dans le formulaire. Ces informations nous seront retournées lors de l'exécution du script, par la méthode <strong>POST</strong>.</p><p id="r-546983" data-claire-element-id="546983"><strong><em>Voici les champs qui sont à votre disposition pour cela :</em></strong></p><table id="r-547014" data-claire-element-id="547014"><thead id="r-546991" data-claire-element-id="546991"><tr id="r-546990" data-claire-element-id="546990"><th id="r-546985" data-claire-element-id="546985"><p id="r-546984" data-claire-element-id="546984">Nom du champ</p></th><th id="r-546987" data-claire-element-id="546987"><p id="r-546986" data-claire-element-id="546986">Description</p></th><th id="r-546989" data-claire-element-id="546989"><p id="r-546988" data-claire-element-id="546988">Exemple</p></th></tr></thead><tbody id="r-547013" data-claire-element-id="547013"><tr id="r-546998" data-claire-element-id="546998"><td id="r-546993" data-claire-element-id="546993"><p id="r-546992" data-claire-element-id="546992"><strong>transaction_id</strong></p></td><td id="r-546995" data-claire-element-id="546995"><p id="r-546994" data-claire-element-id="546994">Indiquez un id <strong>unique</strong> pour la transaction en cours (32 caractères maxi).<br/> Cet identifiant vous permettra de reconnaître facilement de quelle transaction il s'agit.</p></td><td id="r-546997" data-claire-element-id="546997"><p id="r-546996" data-claire-element-id="546996"><strong>12</strong></p></td></tr><tr id="r-547005" data-claire-element-id="547005"><td id="r-547000" data-claire-element-id="547000"><p id="r-546999" data-claire-element-id="546999"><strong>merchant_fields</strong></p></td><td id="r-547002" data-claire-element-id="547002"><p id="r-547001" data-claire-element-id="547001">Indiquez un ou plusieurs (5 maxi) champs que vous souhaitez envoyer à Moneybookers.<br/><strong>*</strong> Ces champs doivent être séparés par des virgules et ont comme unique but de vous être retournés lors de l'exécution de votre script.</p></td><td id="r-547004" data-claire-element-id="547004"><p id="r-547003" data-claire-element-id="547003"><strong><strong>*</strong>id_client, *sit_ref, ...</strong></p></td></tr><tr id="r-547012" data-claire-element-id="547012"><td id="r-547007" data-claire-element-id="547007"><p id="r-547006" data-claire-element-id="547006"><strong>*</strong>id_client<br/><strong>*</strong>sit_ref</p></td><td id="r-547009" data-claire-element-id="547009"><p id="r-547008" data-claire-element-id="547008">Liste des champs mentionnés précédemment. Ceci vous permet de transmettre des variables que vous souhaitez récupérer.<br/> Dans l'exemple, j'ai indiqué l'identifiant de votre client, ou le site depuis lequel il a passé une commande (qui pourrait vous servir dans le cas d'une gestion de plusieurs shops, par exemple).</p></td><td id="r-547011" data-claire-element-id="547011"><p id="r-547010" data-claire-element-id="547010"><em>15<br/> siteduzero.com</em></p></td></tr></tbody></table><aside id="r-547016" data-claire-element-id="547016" data-claire-semantic="information"><p id="r-547015" data-claire-element-id="547015"><strong>*</strong> Note : vous pouvez également vous passer des paramètres en <strong>GET</strong>grâce au champ <strong>return_url</strong>.<br/><strong>Exemple </strong>: <a href="http://www.siteduzero.com/transfert_ok.php?shop=01&amp;client=15">http://www.siteduzero.com/transfert_ok [...] =01&amp;client=15</a></p></aside><p id="r-547017" data-claire-element-id="547017">Lorsque la transaction a été effectuée (qu'elle ait été correctement terminée, annulée ou qu'une erreur ait été détectée), Moneybookers vous renvoie toute une série de variables, par l'intermédiaire de votre script, définis dans le champ <strong>status_url</strong>. Je vais tout d'abord vous les décrire brièvement, et vous expliquerai plus précisément à quoi certaines d'entre elles vous serviront (pour éviter de se faire pirater, par exemple.)</p><table id="r-547125" data-claire-element-id="547125"><thead id="r-547025" data-claire-element-id="547025"><tr id="r-547024" data-claire-element-id="547024"><th id="r-547019" data-claire-element-id="547019"><p id="r-547018" data-claire-element-id="547018">Nom du champ</p></th><th id="r-547021" data-claire-element-id="547021"><p id="r-547020" data-claire-element-id="547020">Description</p></th><th id="r-547023" data-claire-element-id="547023"><p id="r-547022" data-claire-element-id="547022">Exemple</p></th></tr></thead><tbody id="r-547124" data-claire-element-id="547124"><tr id="r-547032" data-claire-element-id="547032"><td id="r-547027" data-claire-element-id="547027"><p id="r-547026" data-claire-element-id="547026"><strong>pay_to_email</strong></p></td><td id="r-547029" data-claire-element-id="547029"><p id="r-547028" data-claire-element-id="547028">Ce champ correspond à l'adresse du vendeur. C'est-à-dire vous.</p></td><td id="r-547031" data-claire-element-id="547031"><p id="r-547030" data-claire-element-id="547030"><strong><a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="31545c50585d71555e5c50585f1f525e5c">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></strong></p></td></tr><tr id="r-547039" data-claire-element-id="547039"><td id="r-547034" data-claire-element-id="547034"><p id="r-547033" data-claire-element-id="547033"><strong>pay_from_email</strong></p></td><td id="r-547036" data-claire-element-id="547036"><p id="r-547035" data-claire-element-id="547035">Ce champ correspond à l'adresse du client. Celui qui vous a versé de l'argent.</p></td><td id="r-547038" data-claire-element-id="547038"><p id="r-547037" data-claire-element-id="547037"><strong><a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="d0b5bdb1b9bc8fb3bcb9b5bea490b4bfbdb1b9befeb3bfbd">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></strong></p></td></tr><tr id="r-547046" data-claire-element-id="547046"><td id="r-547041" data-claire-element-id="547041"><p id="r-547040" data-claire-element-id="547040"><strong>merchant_id</strong></p></td><td id="r-547043" data-claire-element-id="547043"><p id="r-547042" data-claire-element-id="547042">ID unique de votre compte marchand. Ce champ n'est utile que pour effectuer des requêtes sur le site de Moneybookers.</p></td><td id="r-547045" data-claire-element-id="547045"><p id="r-547044" data-claire-element-id="547044"><strong>100005</strong></p></td></tr><tr id="r-547053" data-claire-element-id="547053"><td id="r-547048" data-claire-element-id="547048"><p id="r-547047" data-claire-element-id="547047"><strong>customer_id</strong></p></td><td id="r-547050" data-claire-element-id="547050"><p id="r-547049" data-claire-element-id="547049">ID unique du compte du client qui a effectué le virement.</p></td><td id="r-547052" data-claire-element-id="547052"><p id="r-547051" data-claire-element-id="547051"><strong>200005</strong></p></td></tr><tr id="r-547060" data-claire-element-id="547060"><td id="r-547055" data-claire-element-id="547055"><p id="r-547054" data-claire-element-id="547054"><strong>transaction_id</strong></p></td><td id="r-547057" data-claire-element-id="547057"><p id="r-547056" data-claire-element-id="547056">ID unique que vous avez fourni pour la transaction. Si vous n'en avez pas fourni, le mb_transaction_id sera affiché dans ce champ.</p></td><td id="r-547059" data-claire-element-id="547059"><p id="r-547058" data-claire-element-id="547058"><strong>A205220</strong></p></td></tr><tr id="r-547067" data-claire-element-id="547067"><td id="r-547062" data-claire-element-id="547062"><p id="r-547061" data-claire-element-id="547061"><strong>mb_transaction_id</strong></p></td><td id="r-547064" data-claire-element-id="547064"><p id="r-547063" data-claire-element-id="547063">ID unique fourni par Moneybookers, pour la transaction.</p></td><td id="r-547066" data-claire-element-id="547066"><p id="r-547065" data-claire-element-id="547065"><strong>A205220</strong></p></td></tr><tr id="r-547074" data-claire-element-id="547074"><td id="r-547069" data-claire-element-id="547069"><p id="r-547068" data-claire-element-id="547068"><strong>mb_amount</strong></p></td><td id="r-547071" data-claire-element-id="547071"><p id="r-547070" data-claire-element-id="547070">Montant total crédité sur votre compte, dans la devise définie dans les options de votre compte Moneybookers</p></td><td id="r-547073" data-claire-element-id="547073"><p id="r-547072" data-claire-element-id="547072"><strong>26.9</strong></p></td></tr><tr id="r-547081" data-claire-element-id="547081"><td id="r-547076" data-claire-element-id="547076"><p id="r-547075" data-claire-element-id="547075"><strong>mb_currency</strong></p></td><td id="r-547078" data-claire-element-id="547078"><p id="r-547077" data-claire-element-id="547077">Devise définie dans les options de votre compte Moneybookers</p></td><td id="r-547080" data-claire-element-id="547080"><p id="r-547079" data-claire-element-id="547079"><strong>EUR</strong></p></td></tr><tr id="r-547088" data-claire-element-id="547088"><td id="r-547083" data-claire-element-id="547083"><p id="r-547082" data-claire-element-id="547082"><strong>status</strong></p></td><td id="r-547085" data-claire-element-id="547085"><p id="r-547084" data-claire-element-id="547084">Statut de la transaction.<br/><strong>-2 = échec / 2 = transfert OK / 0 = paiement en attente / -1 = paiement annulé par le client</strong></p></td><td id="r-547087" data-claire-element-id="547087"><p id="r-547086" data-claire-element-id="547086"><strong>2</strong></p></td></tr><tr id="r-547095" data-claire-element-id="547095"><td id="r-547090" data-claire-element-id="547090"><p id="r-547089" data-claire-element-id="547089"><strong>md5sig</strong></p></td><td id="r-547092" data-claire-element-id="547092"><p id="r-547091" data-claire-element-id="547091">Signature numérique. Ce champ permet de certifier l'exactitude des données transmises. En d'autres mots, qu'elles n'ont pas été piratées.</p></td><td id="r-547094" data-claire-element-id="547094"><p id="r-547093" data-claire-element-id="547093"><strong>327638C253A4637199CEBA6642371F20</strong></p></td></tr><tr id="r-547102" data-claire-element-id="547102"><td id="r-547097" data-claire-element-id="547097"><p id="r-547096" data-claire-element-id="547096"><strong>amount</strong></p></td><td id="r-547099" data-claire-element-id="547099"><p id="r-547098" data-claire-element-id="547098">Montant total crédité sur votre compte, dans la devise définie lors du transfert</p></td><td id="r-547101" data-claire-element-id="547101"><p id="r-547100" data-claire-element-id="547100"><strong>26.9</strong></p></td></tr><tr id="r-547109" data-claire-element-id="547109"><td id="r-547104" data-claire-element-id="547104"><p id="r-547103" data-claire-element-id="547103"><strong>currency</strong></p></td><td id="r-547106" data-claire-element-id="547106"><p id="r-547105" data-claire-element-id="547105">Devise définie lors du transfert</p></td><td id="r-547108" data-claire-element-id="547108"><p id="r-547107" data-claire-element-id="547107"><strong>EUR</strong></p></td></tr><tr id="r-547116" data-claire-element-id="547116"><td id="r-547111" data-claire-element-id="547111"><p id="r-547110" data-claire-element-id="547110"><strong>payment_type</strong></p></td><td id="r-547113" data-claire-element-id="547113"><p id="r-547112" data-claire-element-id="547112">Type de paiement utilisé pour ce virement, par votre client.<br/> Exemple : PBT = Paiement par virement bancaire / MBD = paiement direct.</p></td><td id="r-547115" data-claire-element-id="547115"><p id="r-547114" data-claire-element-id="547114"><strong>MBD</strong></p></td></tr><tr id="r-547123" data-claire-element-id="547123"><td id="r-547118" data-claire-element-id="547118"><p id="r-547117" data-claire-element-id="547117">merchant_fields<br/> (id_client et sit_ref)</p></td><td id="r-547120" data-claire-element-id="547120"><p id="r-547119" data-claire-element-id="547119">Les champs additionnels que vous avez définis précédemment dans le champ <strong>merchant_fields</strong> vous sont également retournés...</p></td><td id="r-547122" data-claire-element-id="547122"><p id="r-547121" data-claire-element-id="547121"><em>(15<br/> siteduzero.com)</em></p></td></tr></tbody></table><p id="r-547126" data-claire-element-id="547126">Pour mieux vous rendre compte des variables qui vous sont retournées par Moneybookers, vous pouvez écrire un petit script qui enregistre les données récoltées dans un fichier, et ainsi faire vos tests et constater les résultats retournés suivant les actions que vous avez entreprises...</p><p id="r-547127" data-claire-element-id="547127"><em><strong>Comme par exemple :</strong></em></p><pre id="r-547128" data-claire-element-id="547128"><code data-claire-semantic="html+php">&lt;?php
$fichier = fopen(&quot;retour_moneybookers.htm&quot;,&quot;a+&quot;); //Ouvre un fichier en lecture - écriture. S'il n'existe pas, on le crée.
// on ajoute la date et l'heure de l'exécution du script comme titre, et on ouvre une balise de liste
fputs($fichier, '
&lt;h1&gt;'.date('d.m.Y H:s').'&lt;/h1&gt;
&lt;ul&gt;
');
// Pour toutes les variables passées en POST
foreach ($_POST as $nom =&gt; $list_var)
        {
                // Écrit la liste des variables passées en POST
                fputs($fichier, '
                &lt;li&gt;&lt;strong&gt;'.$nom. &quot;&lt;/strong&gt; =&gt; &quot; .$list_var.'&lt;/li&gt;');
        }
// On ferme la balise de liste.
fputs($fichier, '
&lt;/ul&gt;');
fclose($fichier); // On ferme le fichier
?&gt;</code></pre><p id="r-547129" data-claire-element-id="547129">Vous avez ainsi un script capable de vous enregistrer un petit rapport des données récupérées de Moneybookers.<br/><strong>Note :</strong> il faut avoir les droits d'écriture dans le dossier pour créer un fichier de rapport.</p><aside id="r-547131" data-claire-element-id="547131" data-claire-semantic="information"><p id="r-547130" data-claire-element-id="547130">Je ne pense pas avoir besoin de vous dire que le script ci-dessus correspond au script que vous avez défini dans le champ <strong>status_url</strong>, mais par acquis de conscience, je préfère tout de même vous le préciser.</p></aside><p id="r-547132" data-claire-element-id="547132">Bien entendu, ce n'est pas - et de loin - le script final, mais il permet d'effectuer déjà quelques tests.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
<span class="arrow"></span>
<span class="next">Automatiser, mais pourquoi ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
<span class="next">Anti-piratage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Anti-piratage"></a><h2>Anti-piratage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
<span class="arrow"></span>
<span class="next">Automatisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
<span class="next">Autres informations utiles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-547134" data-claire-element-id="547134">Maintenant que vous pouvez récupérer les champs retournés par Moneybookers, il serait très simple d'effectuer vos traitements grâce à votre script défini dans par le champ <strong>status_url</strong>.</p><p id="r-547135" data-claire-element-id="547135"><em><strong>Exemple :</strong></em></p><pre id="r-547136" data-claire-element-id="547136"><code data-claire-semantic="html+php">&lt;?php
if ($_POST['status'] == &quot;2&quot;) // Si la vente est OK
{
  // Mise à jour de votre base de données.
  mysql_query(&quot;UPDATE liste_commandes SET etat_commande='OK' WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
  // ** autres traitements... **
}
?&gt;</code></pre><p id="r-547137" data-claire-element-id="547137"><strong>Mais votre script serait extrêmement vulnérable aux attaques des pirates.</strong></p><div id="r-547139" data-claire-element-id="547139" data-claire-semantic="question"><p id="r-547138" data-claire-element-id="547138">Pourquoi tu dis ça, on a pourtant ajouté un <strong>mysql_real_escape_string</strong> !!! Et Moneybookers me dit que la vente est OK, alors pourquoi tu paniques ?</p></div><p id="r-547140" data-claire-element-id="547140">Je vois que vous avez bien révisé le cours de <strong>M@teo</strong>, mais là, votre script est encore beaucoup trop vulnérable. Je ne vais pas vous faire un cours de hacking, mais on va prendre un cas simple :<br/> Un pirate crée une page identique à la vôtre, et invoque Moneybookers. Mais à la place de votre adresse e-mail, il met la sienne. Il effectue le paiement, Moneybookers vous retourne le statut du paiement (à l'adresse indiquée dans le champ <strong>status_url</strong>), et vous informe que le paiement a bien été effectué. Et vlan ! Vos traitements contenus dans votre script vont s'exécuter alors que vous n'aurez pas reçu un seul centime.</p><p id="r-547141" data-claire-element-id="547141">Avant d'exécuter vos traitements, il est donc <strong>impératif </strong>de contrôler l'exactitude des éléments suivants :</p><ul id="r-547150" data-claire-element-id="547150"><li id="r-547143" data-claire-element-id="547143"><p id="r-547142" data-claire-element-id="547142"><strong>pay_to_email</strong> correspond bien à votre adresse e-mail ;</p></li><li id="r-547145" data-claire-element-id="547145"><p id="r-547144" data-claire-element-id="547144"><strong>amount</strong>correspond bien au montant total de la transaction ;</p></li><li id="r-547147" data-claire-element-id="547147"><p id="r-547146" data-claire-element-id="547146"><strong>currency</strong> correspond bien à la devise définie pour la transaction ;</p></li><li id="r-547149" data-claire-element-id="547149"><p id="r-547148" data-claire-element-id="547148"><strong>*status</strong> correspond bien à <strong>2</strong> (paiement OK) ou à <strong>0</strong> (paiement en attente).</p></li></ul><p id="r-547151" data-claire-element-id="547151"><strong>* Lorsque le paiement est en attente</strong>, c'est que votre client s'est inscrit à Moneybookers et qu'il s'apprête à effectuer un virement bancaire. Il va donc falloir attendre<strong> 3 ou 4 jours</strong> avant que l'argent soit transféré sur votre compte. Si après <strong>14 jours</strong>, aucun transfert bancaire n'a été réalisé, la transaction est considérée comme annulée.<br/><strong>Moneybookers ré-exécute automatiquement votre script pour vous transmettre le nouveau statut.</strong> N'envoyez donc pas la marchandise si le statut est <strong>'0' (en attente)</strong>.</p><p id="r-547152" data-claire-element-id="547152"><strong>Ce qui nous donnerait quelque chose comme ceci :</strong></p><pre id="r-547153" data-claire-element-id="547153"><code data-claire-semantic="html+php">&lt;?php
// Récupère la commande à traiter
$resultat_sql = mysql_query(&quot;SELECT * FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
$commande = mysql_fetch_array($resultat_sql);
// Vérifie l'exactitude de l'e-mail à créditer, le montant et la devise.
if (
$_POST['pay_to_email'] == &quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="99fcf4f8f0f5d9fdf6f4f8f0f7fcb7faf6f4">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;
AND
$_POST['amount'] == $commande['amount']
AND
$_POST['currency'] == $commande['currency']
   )
{
   // Selon le statut de l'opération
   switch ($_POST['status'])
   {
      case &quot;-2&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='erreur' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;2&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='OK' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;0&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='attente' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;-1&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='annulé' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
   }
}
else
{
   // Traitement à effectuer en cas de piratage (coup de fouets, travaux forcés, etc.)
}
?&gt;</code></pre><p id="r-547154" data-claire-element-id="547154"><strong>Mais ce n'est pas tout...</strong><br/> Si maintenant le pirate remplit lui-même un formulaire avec les données qu'il veut à l'intérieur, et l'envoie directement à la page de votre script, il peut vous faire croire que c'est Moneybookers qui vous dit que le traitement a été correctement effectué ; vous aurez effectivement les bonnes données dans le formulaire, mais vous n'aurez toujours pas un seul centime sur votre compte. Il va falloir maintenant contrer ce deuxième type d'attaque.</p><p id="r-547155" data-claire-element-id="547155"><strong>Pour cela, il vous faudra procéder comme suit</strong>.</p><p id="r-547156" data-claire-element-id="547156">Sur le site de Moneybookers, connectez-vous, puis cliquez sur le lien Outils marchands situé dans la barre de menu, sur votre gauche.<br/> Si vous n'avez pas cette option, c'est que vous n'avez pas de compte marchand. Pour y remédier, contactez le service marchand de Moneybookers, à l'adresse suivante : <a href="http://www.cloudflare.com/email-protection#402d25322328212e343325323629232533002d2f2e2539222f2f2b2532336e232f2d"><span class="__cf_email__" data-cfemail="24494156474c454a50574156524d47415764494b4a415d464b4b4f4156570a474b49">[email&nbsp;protected]</span><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></a>, afin qu'ils modifient votre compte pour vous ajouter cette option. Ou alors, créez-vous un <strong>compte marchand</strong>, sur leur site.</p><p id="r-547157" data-claire-element-id="547157">Une fois dans les Outils marchands, entrez un mot secret dans le champ Mot secret. Ce mot doit être écrit en <strong>minuscules</strong>. Si vous mettez des lettres en majuscules, elles seront converties en minuscules.<br/> Ce mot secret vous servira à vérifier les données transmises par Moneybookers.</p><aside id="r-547159" data-claire-element-id="547159" data-claire-semantic="information"><p id="r-547158" data-claire-element-id="547158">Dans les outils marchands, vous avez également la possibilité d'indiquer l'adresse IP de votre ou de vos serveurs web. Cette action vous permettra de dire à Moneybookers quel serveur vous utilisez, et ainsi refuser toute requête concernant votre compte, ne venant pas de ce(s) serveur(s).</p></aside><p id="r-547160" data-claire-element-id="547160">Maintenant, retournons du côté de notre programme. Vous vous rappelez du champ <strong>md5sig</strong> que Moneybookers nous retourne ? Eh bien il s'agit d'une clé numérique générée grâce à <strong>la concaténation des champs suivants, cryptés en 128 bits, avec l'algorithme MD5</strong> :</p><ul id="r-547173" data-claire-element-id="547173"><li id="r-547162" data-claire-element-id="547162"><p id="r-547161" data-claire-element-id="547161">merchant_id ;</p></li><li id="r-547164" data-claire-element-id="547164"><p id="r-547163" data-claire-element-id="547163">transaction_id ;</p></li><li id="r-547166" data-claire-element-id="547166"><p id="r-547165" data-claire-element-id="547165">Le <strong>md5</strong><strong>en majuscules</strong> du <strong>mot secret</strong><strong>en minuscules</strong> défini dans les outils marchands ;</p></li><li id="r-547168" data-claire-element-id="547168"><p id="r-547167" data-claire-element-id="547167">mb_amount ;</p></li><li id="r-547170" data-claire-element-id="547170"><p id="r-547169" data-claire-element-id="547169">mb_currency ;</p></li><li id="r-547172" data-claire-element-id="547172"><p id="r-547171" data-claire-element-id="547171">status.</p></li></ul><p id="r-547174" data-claire-element-id="547174">Il n'existe aucun moyen de retrouver les valeurs initiales d'un md5. Il va donc nous falloir également crypter cette concaténation, et vérifier qu'elle soit bien égale au <strong>md5sig</strong> de Moneybookers.</p><p id="r-547175" data-claire-element-id="547175">Pour cela, nous aurons besoin du <strong>md5</strong> de votre mot secret. Vous pouvez le trouver grâce à la fonction PHP <strong>md5</strong>. Ensuite, vous n'aurez plus qu'à concaténer vos champs, d'effectuer un autre <strong>md5</strong> de cette concaténation, et vous voilà avec un <strong>md5</strong> scrupuleusement identique à celui généré par Moneybookers.</p><aside id="r-547177" data-claire-element-id="547177" data-claire-semantic="warning"><p id="r-547176" data-claire-element-id="547176">La fonction PHP <strong>md5</strong>nous retourne une chaîne en <strong>minuscules</strong>. Pour l'avoir en <strong>majuscules</strong>, il nous faut encore y ajouter la fonction <strong>strtoupper</strong> qui nous permet de convertir une chaîne en <strong>majuscules</strong>.</p></aside><p id="r-547178" data-claire-element-id="547178"><strong><em>Si nous ajoutons toutes ces modifications à notre premier programme (celui qui génère un rapport), ça nous donne ceci :</em></strong></p><pre id="r-547179" data-claire-element-id="547179"><code data-claire-semantic="html+php">&lt;?php
$fichier = fopen(&quot;retour_moneybookers.htm&quot;,&quot;a+&quot;); 
fputs($fichier, '
&lt;h1&gt;'.date('d.m.Y H:s').'&lt;/h1&gt;
&lt;ul&gt;
');
foreach ($_POST as $nom =&gt; $list_var)
        {
                fputs($fichier, '
               &lt;li&gt;&lt;strong&gt;'.$nom. &quot;&lt;/strong&gt; =&gt; &quot; .$list_var.'&lt;/li&gt;');
        }
fputs($fichier, '
&lt;/ul&gt;');
 
$mot_secret = md5(&quot;abc1234&quot;); // Calcul du MD5 de notre mot secret, abc123 pour prendre un exemple.
$mot_secret = strtoupper($mot_secret); // Convertit notre md5 du mot secret, en majuscules
$mon_md5 = md5($_POST['merchant_id'].$_POST['transaction_id'].$mot_secret.$_POST['mb_amount'].$_POST['mb_currency'].$_POST['status']); // Calcul du MD5 de notre concaténation.
$mon_md5 = strtoupper($mon_md5); // Convertit notre md5 de la concaténation, en majuscules
// Ajoute notre md5 de la concaténation dans le fichier de rapport.
fputs($fichier, '
&lt;p&gt;Mon MD5 =&gt; &lt;strong&gt;'.$mon_md5.'&lt;/strong&gt;&lt;/p&gt;');
fclose($fichier); 
?&gt;</code></pre><p id="r-547180" data-claire-element-id="547180"><em><strong>Et dans le second qui effectue les traitements, ça nous donne ceci :</strong></em></p><pre id="r-547181" data-claire-element-id="547181"><code data-claire-semantic="html+php">&lt;?php
// Récupère la commande à traiter
$resultat_sql = mysql_query(&quot;SELECT * FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
$commande = mysql_fetch_array($resultat_sql);
 
// Pour éviter de devoir mettre votre mot secret en clair dans votre programme, et surtout pour éviter que votre script s'efforce à chaque fois de calculer le md5 de votre mot secret, indiquez directement le md5 plutôt que d'effectuer cette opération : $mot_secret = strtoupper(md5(&quot;abc1234&quot;)); 
$mot_secret = &quot;A141C47927929BC2D1FB6D336A256DF4&quot;;
// Calcul du md5 de notre concaténation
$mon_md5 = md5($_POST['merchant_id'].$_POST['transaction_id'].$mot_secret.$_POST['mb_amount'].$_POST['mb_currency'].$_POST['status']); // Calcul du MD5 de notre concaténation.
strtoupper($mon_md5); // Convertit notre md5 de la concaténation, en majuscules
 
// Vérifie l'exactitude de l'e-mail à créditer, le montant, la devise et la signature md5.
if (
$_POST['md5sig'] == $mon_md5
AND
$_POST['pay_to_email'] == &quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="cfaaa2aea6a38faba0a2aea6a1aae1aca0a2">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;
AND
$_POST['amount'] == $commande['amount']
AND
$_POST['currency'] == $commande['currency']
   )
{
   // Selon le statut de l'opération
   switch ($_POST['status'])
   {
      case &quot;-2&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='erreur' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;2&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='OK' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;0&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='attente' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
      case &quot;-1&quot;:
         mysql_query(&quot;UPDATE SET etat_commande='annulé' FROM liste_commandes WHERE id_commande =&quot;.mysql_real_escape_string($_POST['transaction_id']));
         break;
   }
}
else
{
   // Traitement à effectuer en cas de piratage (coup de fouets, travaux forcés, etc.)
}
?&gt;</code></pre><p id="r-547182" data-claire-element-id="547182">Vous avez maintenant l'ébauche d'un programme qui peut tourner de manière automatique, et qui contient tous les éléments pour ne pas être piraté.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
<span class="arrow"></span>
<span class="next">Automatisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
<span class="next">Autres informations utiles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Autresinformationsutiles"></a><h2>Autres informations utiles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
<span class="arrow"></span>
<span class="next">Anti-piratage</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-547184" data-claire-element-id="547184">En plus de tout ce que je vous ai montré dans ce tutoriel, vous avez également la possibilité de :</p><ul id="r-547193" data-claire-element-id="547193"><li id="r-547186" data-claire-element-id="547186"><p id="r-547185" data-claire-element-id="547185">définir quels types de paiement vous souhaitez accepter grâce au champ : <strong>payment_methods</strong>. Par défaut, tous les types de paiements disponibles sont affichés. Cette option est utile uniquement si vous souhaitez faire choisir le type de paiement à vos visiteurs, avant de les rediriger sur le site de Moneybookers ;</p></li><li id="r-547188" data-claire-element-id="547188"><p id="r-547187" data-claire-element-id="547187">transmettre à Moneybookers les données de votre client (nom, prénom, adresse, etc.). Si votre client est déjà enregistré sur votre site, c'est très intéressant de lui pré-remplir les champs d'inscription à Moneybookers, s'il n'est pas déjà enregistré. C'est un gain de temps et un confort supplémentaire pour vos clients ;</p></li><li id="r-547190" data-claire-element-id="547190"><p id="r-547189" data-claire-element-id="547189">vous pouvez envoyer les données du formulaire à Moneybookers depuis le serveur, puis diriger votre client sur le site de Moneybookers en passant en paramètre l'ID de la session ouverte par votre serveur. Ainsi, votre client n'a aucun moyen de voir quels sont les champs vous avez transmis à Moneybookers (comme le merchant_fields, par exemple...) ;</p></li><li id="r-547192" data-claire-element-id="547192"><p id="r-547191" data-claire-element-id="547191">interroger la base de données de Moneybookers afin de retrouver tous les paiements exécutés ou annulés, grâce à l'interface nommée Merchant Query Interface. Cette interface s'utilise de la même manière que celle du Merchant Payment Interface que nous avons vu dans ce tutoriel.</p></li></ul><p id="r-547194" data-claire-element-id="547194">Vous retrouvez toutes ces informations dans le document officiel de Moneybookers, ainsi que d'autres infos tel que les codes pays ISO, les codes monnaies ISO, etc.</p><p id="r-547195" data-claire-element-id="547195">Moneybookers a également une interface nommée Moneybookers Automated Payments Interface qui vous permet d'effectuer des paiements automatiquement depuis votre propre compte. Ainsi, vous pouvez payer vos créanciers par Moneybookers, d'un simple clic. Vous trouverez une documentation officielle sur leur site.</p><p id="r-547196" data-claire-element-id="547196"><strong>Annexes</strong> :</p><ul id="r-547203" data-claire-element-id="547203"><li id="r-547199" data-claire-element-id="547199"><p id="r-547197" data-claire-element-id="547198"><a href="http://www.moneybookers.com/merchant/fr/moneybookers_gateway_manual.pdf"><img id="r-547198" data-claire-element-id="547197" src="medias/uploads.siteduzero.com_files_89001_90000_89180.png" alt="Image utilisateur"/>moneybookers_gateway_manual.pdf</a></p></li><li id="r-547202" data-claire-element-id="547202"><p id="r-547200" data-claire-element-id="547201"><a href="http://www.moneybookers.com/merchant/fr/automated_payments_interface_manual.pdf"><img id="r-547201" data-claire-element-id="547200" src="medias/uploads.siteduzero.com_files_89001_90000_89180.png" alt="Image utilisateur"/>automated_payments_interface_manual.pdf</a></p></li></ul><p id="r-547204" data-claire-element-id="547204">Voilà : vous avez maintenant un système complet vous permettant d'accepter plusieurs types de paiements.</p><p id="r-547205" data-claire-element-id="547206"><a href="medias/uploads.siteduzero.com_files_173001_174000_173668.gif"><img id="r-547206" data-claire-element-id="547205" src="medias/uploads.siteduzero.com_thb_173001_174000_173668.gif" alt="Logo PayPal"/></a>Pour ceux que ça intéresse, j'ai également créé un tutoriel sur <strong>PayPal</strong>. <br/> Mais ce type de paiement est un peu plus compliqué à gérer si on veut le rendre dynamique, car il utilise un système d'<strong>API.</strong></p><p id="r-547207" data-claire-element-id="547207">Il est possible également d'utiliser une autre méthode plus ou moins similaire à celle de Moneybookers, mais je n'ai pas encore rédigé de chapitre concernant cette seconde méthode.</p><p id="r-547208" data-claire-element-id="547208"><strong>Voici l'adresse de ce tutoriel : <a href="tutoriel-3-144561-paiement-en-ligne-par-paypal.html">Paiement en ligne par PayPal</a></strong></p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers">Paiement en ligne par Moneybookers</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/moneybookers-connais-pas">
Moneybookers ? Connais pas...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/comment-ca-marche-27">
Comment ça marche ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/inscription-4">
Inscription
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/mise-en-place-sur-votre-site">
Mise en place sur votre site
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatiser-mais-pourquoi">
Automatiser, mais pourquoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/automatisation-1">
Automatisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
Anti-piratage
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/autres-informations-utiles">
Autres informations utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/paiement-en-ligne-par-moneybookers/anti-piratage">
<span class="arrow"></span>
<span class="next">Anti-piratage</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/aiement-en-ligne-par-moneybookers.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 22:43:28 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/aiement-en-ligne-par-moneybookers.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:59:35 GMT -->
</html>
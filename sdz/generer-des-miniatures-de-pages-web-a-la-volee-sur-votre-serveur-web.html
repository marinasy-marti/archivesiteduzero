<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 03:31:38 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:43:22 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Générer des miniatures de pages web à la volée sur votre serveur web</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Générer des miniatures de pages web à la volée sur votre serveur web</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Gnrerdesminiaturesdepagesweblavolesurvotreserveurweb">Générer des miniatures de pages web à la volée sur votre serveur web</a><br/><a href="#Installationduserveurgraphique">Installation du serveur graphique</a><br/><a href="#Utilisationd039IceWeaselFirefox">Utilisation d&#039;IceWeasel (Firefox)</a><br/><a href="#Utilisationd039Opera">Utilisation d&#039;Opera</a><br/><a href="#UtilisationdeCutyCapt">Utilisation de CutyCapt</a><br/></div>
<a name="Gnrerdesminiaturesdepagesweblavolesurvotreserveurweb"></a><h2>Générer des miniatures de pages web à la volée sur votre serveur web</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
<span class="next">Installation du serveur graphique</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<figure id="r-594970" data-claire-element-id="594971"><img id="r-594969" data-claire-element-id="594969" src="medias/uploads.siteduzero.com_files_184001_185000_184992.png" alt="Image utilisateur"/></figure><p id="r-594972" data-claire-element-id="594972">Vous avez besoin de réaliser des miniatures de sites web, par exemple pour agrémenter un annuaire ? Vous avez besoin d'en générer plusieurs centaines par jour en exploitant, par exemple, un VPS ou un serveur dédié sans avoir à payer ni dépendre d'un service externe ? Ce tutoriel est fait pour vous. Nous allons voir ici comment installer un serveur X simplement ainsi que générer des miniatures avec IceWeasel (la version &quot;libre&quot; de Firefox sous Debian) ou Opera. Toute la configuration se fera, bien sûr, en console.</p><p id="r-594973" data-claire-element-id="594973">Dans ce tutoriel nous utiliserons une machine sous Debian Lenny. La chaine [URL] sera à remplacer par une URL quelconque, sans rajouter de guillemets particuliers.</p>
</div><a name="Installationduserveurgraphique"></a><h2>Installation du serveur graphique</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
<span class="next">Utilisation d&#039;IceWeasel (Firefox)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<figure id="r-594975" data-claire-element-id="594976"><img id="r-594974" data-claire-element-id="594974" src="medias/uploads.siteduzero.com_files_184001_185000_184997.png" alt="Image utilisateur"/></figure><p id="r-594977" data-claire-element-id="594977">Nous aurons besoin ici des packages xvfb xfonts-base x-window-system-core scrot, qui correspondent respectivement au serveur X (<a href="http://fr.wikipedia.org/wiki/X_Window_System">X Window System</a>), des polices de base qui seront utilisées par notre navigateur et du programme permettant de faire les captures de notre écran.</p><p id="r-594978" data-claire-element-id="594978">Une fois le serveur X installé, nous définissons la variable d'environnement &quot;DISPLAY&quot; ayant comme valeur &quot;:1&quot; (<code data-claire-semantic="console">export DISPLAY=&quot;:1&quot;</code>), celle-ci sera utilisée par scrot et, si vous l'utilisez, Opera, puisque ces deux commandes ne comportent pas de paramètre nous permettant de préciser le numéro de serveur X11 et utilisent donc cette variable d'environnement.</p><p id="r-594979" data-claire-element-id="594979">Pour lancer le serveur X, nous utiliserons la commande <code data-claire-semantic="console">Xvfb :1 -screen 0 1280x1024x24 &amp;</code>. &quot;:1&quot;, ou &quot;$DISPLAY&quot;, correspond au numéro du serveur X, comme expliqué précédemment, puis la résolution est sous la forme WxHxD (Width / Height / Depth). Pour plus d'informations, je vous conseille d'aller <a href="http://www.manpagez.com/man/1/Xvfb/">lire le man de Xvfb</a>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web">Générer des miniatures de pages web à la volée sur votre serveur web</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
Installation du serveur graphique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
Utilisation d&#039;IceWeasel (Firefox)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
Utilisation d&#039;Opera
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
Utilisation de CutyCapt
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
<span class="next">Utilisation d&#039;IceWeasel (Firefox)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisationd039IceWeaselFirefox"></a><h2>Utilisation d&#039;IceWeasel (Firefox)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
<span class="arrow"></span>
<span class="next">Installation du serveur graphique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
<span class="next">Utilisation d&#039;Opera</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<figure id="r-594982" data-claire-element-id="594983"><img id="r-594981" data-claire-element-id="594981" src="medias/uploads.siteduzero.com_files_185001_186000_185001.png" alt="Image utilisateur"/></figure><p id="r-594984" data-claire-element-id="594984">Nous allons voir dans cette partie les détails techniques pour la génération de nos miniatures avec IceWeasel (Firefox).</p><p id="r-594985" data-claire-element-id="594985">Une fois ce package installé, lancez le navigateur dans notre serveur X11 grâce à la commande <code data-claire-semantic="console">iceweasel --display=:1  [URL] &amp;</code>, dans laquelle nous précisons le serveur X11 (display) ainsi que l'url à charger. Nous le lançons ici uniquement afin de générer le profil utilisateur (disponible dans ~/.mozilla/firefox/[Nom du profil]). Killez ensuite ce processus (évidemment nous n'avons pas de périphérique permettant de contrôler notre serveur graphique, nous sommes donc dans l'obligation de fermer IceWeasel &quot;à l'arrache&quot;. Pour éviter d'avoir une demande de restauration de session, avant de relancer le navigateur, nous supprimerons le fichier ~/.mozilla/firefox/[Nom du profil]/sessionstore.js).</p><p id="r-594986" data-claire-element-id="594986">Nous allons ensuite cacher les barres d'outils ainsi que la barre d'état du navigateur. Pour cela, éditez le fichier ~/.mozilla/firefox/[Nom du profil]/localstore.rdf avec le contenu suivant :</p><pre id="r-594987" data-claire-element-id="594987"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot;?&gt;
&lt;RDF:RDF xmlns:NC=&quot;http://home.netscape.com/NC-rdf#&quot; xmlns:RDF=&quot;http://www.w3.org/1999/02/22-rdf-syntax-ns#&quot;&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul&quot;&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#main-window&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#sidebar-box&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#sidebar-title&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#nav-bar&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#PersonalToolbar&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#toolbar-menubar&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#toggle_taskbar&quot;/&gt;
		&lt;NC:persist RDF:resource=&quot;chrome://browser/content/browser.xul#status-bar&quot;/&gt;
	&lt;/RDF:Description&gt;
	
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#main-window&quot; screenX=&quot;50&quot; screenY=&quot;25&quot; sizemode=&quot;normal&quot; width=&quot;1280&quot; height=&quot;1024&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#PersonalToolbar&quot; currentset=&quot;__empty&quot; collapsed=&quot;true&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#toolbar-menubar&quot; currentset=&quot;__empty&quot; collapsed=&quot;true&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#sidebar-box&quot; collapsed=&quot;true&quot; sidebarcommand=&quot;&quot; width=&quot;&quot; src=&quot;&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#status-bar&quot; hidden=&quot;true&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#nav-bar&quot; currentset=&quot;__empty&quot; collapsed=&quot;true&quot; /&gt;
	&lt;RDF:Description RDF:about=&quot;chrome://browser/content/browser.xul#toggle_taskbar&quot; checked=&quot;false&quot; /&gt;
&lt;/RDF:RDF&gt;</code></pre><p id="r-594988" data-claire-element-id="594988">Pour ne pas rentrer dans les détails de la configuration, on peut dire rapidement que #main-window correspond à la fenêtre du navigateur et qu'on définit ici la largeur ainsi que la hauteur de celle-ci (les paramètres width et height ne fonctionnent pas à cause d'<a href="https://bugs.launchpad.net/firefox/+bug/5104">un bug non résolu</a>). Quand aux autres paramètres, ils permettent de masquer les différentes barres du navigateur.</p><aside id="r-594990" data-claire-element-id="594990" data-claire-semantic="information"><p id="r-594989" data-claire-element-id="594989">A noter que toolbar-menubar correspond à la barre des menus, paramètre de configuration que j'ai deviné étant donné qu'il n'est pas possible, apparemment, dans la GUI, de cacher cette barre nativement (elle n'apparaît pas dans &quot;Affichage &gt; Barres d'outils&quot; ni au clic droit sur une des barres d'outils.</p></aside><p id="r-594991" data-claire-element-id="594991">Il le nous reste plus qu'à relancer le navigateur avec la commande indiquée ci-dessous. Pour réaliser la capture d'écran et l'enregistrer par exemple dans ~/screen.png, il suffit d'exécuter la commande suivante : <code data-claire-semantic="console">scrot ~/screen.png</code>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web">Générer des miniatures de pages web à la volée sur votre serveur web</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
Installation du serveur graphique
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
Utilisation d&#039;IceWeasel (Firefox)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
Utilisation d&#039;Opera
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
Utilisation de CutyCapt
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
<span class="arrow"></span>
<span class="next">Installation du serveur graphique</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
<span class="next">Utilisation d&#039;Opera</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisationd039Opera"></a><h2>Utilisation d&#039;Opera</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
<span class="arrow"></span>
<span class="next">Utilisation d&#039;IceWeasel (Firefox)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
<span class="next">Utilisation de CutyCapt</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-594993" data-claire-element-id="594994"><a href="medias/uploads.siteduzero.com_files_185001_186000_185011.jpg"><img id="r-594994" data-claire-element-id="594993" src="medias/uploads.siteduzero.com_thb_185001_186000_185011.jpg" alt="Image utilisateur"/></a>Téléchargez le package d'Opera sur le <a href="http://www.opera.com/">site officiel</a> et installez-le (attention cependant aux dépendances d'Opera qui nécessite la présence des packages suivants : libaudio2 libmng1 libqt3-mt, disponibles sur les dépots officiels de Debian).</p><p id="r-594995" data-claire-element-id="594995">Lors du premier lancement, Opera nous demande l'accepter la <a href="medias/uploads.siteduzero.com_files_185001_186000_185010.png">licence du logiciel</a>. Killez le serveur X (et non pas le processus opera, celui-ci, apparemment ne répondant pas à un SIGTERM et un SIGKILL, pour celui-ci, générant une <a href="medias/uploads.siteduzero.com_files_185001_186000_185040.png">très jolie fenêtre de restauration de session</a> que je n'ai pas réussi à enlever). On supposera ici que vous l'acceptez. Éditez donc le ~/.opera/operaprefs.ini et modifier la section [State] de la manière suivante :</p><pre id="r-594996" data-claire-element-id="594996"><code>[State]
Accept License=1
Reading Plugins=0
Run=0</code></pre><p id="r-594997" data-claire-element-id="594997">Il ne vous reste plus qu'à relancer le serveur X et opera de la manière suivante : <code data-claire-semantic="console">opera -fullscreen [URL] &amp;</code>, qui comporte, à la différence de Firefox, le paramètre pour la mise en plein écran du navigateur lors de son lancement.</p><p id="r-594998" data-claire-element-id="594998">Pour l'utilisation de scrot, c'est expliqué dans la partie précédente, si vous l'avez lue et nous obtenons, par exemple, <a href="medias/uploads.siteduzero.com_files_185001_186000_185041.png">cette capture d'écran</a>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web">Générer des miniatures de pages web à la volée sur votre serveur web</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
Installation du serveur graphique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
Utilisation d&#039;IceWeasel (Firefox)
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
Utilisation d&#039;Opera
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
Utilisation de CutyCapt
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
<span class="arrow"></span>
<span class="next">Utilisation d&#039;IceWeasel (Firefox)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
<span class="next">Utilisation de CutyCapt</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="UtilisationdeCutyCapt"></a><h2>Utilisation de CutyCapt</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
<span class="arrow"></span>
<span class="next">Utilisation d&#039;Opera</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-595000" data-claire-element-id="595001"><a href="medias/uploads.siteduzero.com_files_185001_186000_185468.png"><img id="r-595001" data-claire-element-id="595000" src="medias/uploads.siteduzero.com_thb_185001_186000_185468.png" alt="Image utilisateur"/></a>Nous avons vu précédemment deux solutions assez lourdes, notamment à cause de l'interface utilisateur qui nous est totalement inutile ici. Nous allons ici utiliser <a href="http://cutycapt.sourceforge.net/">CutyCapt</a>, un script libre en C++ utilisant la lib webkit de Qt4. Il est sans préciser que la compilation se fait sur une machine de développement.</p><p id="r-595002" data-claire-element-id="595002">Pour compiler CutyCapt installez les packages subversion libqt4-webkit libqt4-dev g++ make, puis récupérer les sources grâce à la commande :</p><pre id="r-595003" data-claire-element-id="595003"><code data-claire-semantic="console">svn co https://cutycapt.svn.sourceforge.net/svnroot/cutycapt</code></pre><p id="r-595004" data-claire-element-id="595004">Puis, dans le dossier précédemment téléchargé, procéder à la compilation : <code data-claire-semantic="console">qmake &amp;&amp; make</code>.</p><p id="r-595005" data-claire-element-id="595005">Il ne vous reste plus qu'à déplacer la binaire dans le dossier /usr/sbin de votre serveur de production (nécessite tout de même les packages Qt4 précisés ci-dessus), et de l'utiliser de la manière suivante : <code data-claire-semantic="console">CutyCapt --url=[URL] --out=screen.png &amp;</code>.<br/> Pour plus d'informations sur les options disponibles, je vous conseille d'aller sur <a href="http://cutycapt.sourceforge.net/">la page de présentation</a> du script en question.</p><p id="r-595006" data-claire-element-id="595006">Pour terminer, nous allons parler des performances. Il est clair que relancer Firefox pour chaque miniature et relancer le serveur X pour Opera peut être lourd et long. Heureusement, chacun de ses deux programmes comporte les éléments nécessaires afin de pouvoir changer de page web, sans avoir à redémarrer le navigateur.</p><ul id="r-595012" data-claire-element-id="595012"><li id="r-595008" data-claire-element-id="595008"><p id="r-595007" data-claire-element-id="595007">Pour Opera, il vous suffit d'utiliser la commande <code data-claire-semantic="console">opera -remote &quot;openURL([URL])&quot;</code> ;</p></li><li id="r-595011" data-claire-element-id="595011"><p id="r-595009" data-claire-element-id="595009">Pour Firefox, c'est la même commande (<code data-claire-semantic="console">iceweasel -remote &quot;openurl([URL])&quot;</code>), excepté qu'il faut rajouter un paramètre de configuration sinon la page s'ouvre dans un nouvel onglet. Pour cela, éditez le fichier ~/.mozilla/firefox/[Nom du profil]/prefs.js et rajoutez (ou modifiez) le paramètre suivant :</p><pre id="r-595010" data-claire-element-id="595010"><code>user_pref(&quot;browser.link.open_external&quot;, 0);</code></pre></li></ul><aside id="r-595014" data-claire-element-id="595014" data-claire-semantic="information"><p id="r-595013" data-claire-element-id="595013">A noter que ce paramètre prend normalement pour valeur 2 ou 3 et que cette option équivaudrait dans les préférences ces onglets à : &quot;Les nouvelles pages doivent s'ouvrir dans : Onglet actuel&quot;, paramètre qui n'est apparemment pas disponible dans la GUI.</p></aside><p id="r-595015" data-claire-element-id="595015">Et enfin, pour redimensionner la capture d'écran, vous pouvez par exemple utiliser la commande convert, contenue dans le paquet imagemagick, de la manière suivante :</p><pre id="r-595016" data-claire-element-id="595016"><code data-claire-semantic="console">convert ~/screen.png -scale 160x120 screen_160_120.png</code></pre><p id="r-595017" data-claire-element-id="595017">Et si vous souhaitez la rogner, par exemple dans le cas de CutyCapt, vous pouvez utiliser<a href="http://www.imagemagick.org/Usage/crop/index.html"> le paramètre crop</a> de cette même commande.</p><p id="r-595018" data-claire-element-id="595018">Si vous souhaitez utiliser ces différents points techniques en production, il ne vous reste plus qu'à réaliser le script bash correspondant ou un script dans langage de développement que vous utilisez. Le but de ce tutoriel a été d'aborder certains points techniques, après il ne reste plus qu'à décider, notamment comment et quand vous allez lancer le serveur graphique pour générer vos miniatures, par exemple la nuit où la charge des machines est moins élevée. Il est conseillé par ailleurs si vous en avez beaucoup à générer, d'utiliser une autre machine afin de ne pas perturber les services habituels.</p><p id="r-595019" data-claire-element-id="595019">Pour plus d'informations, je vous conseille d'aller lire (liste non exhaustive) :</p><ul id="r-595032" data-claire-element-id="595032"><li id="r-595021" data-claire-element-id="595021"><p id="r-595020" data-claire-element-id="595020"><a href="http://www.manpagez.com/man/1/Xvfb/">Le man de Xvfb</a> ;</p></li><li id="r-595023" data-claire-element-id="595023"><p id="r-595022" data-claire-element-id="595022"><a href="http://www.mozilla.org/unix/remote.html">La documentation du remote de mozilla</a> ;</p></li><li id="r-595025" data-claire-element-id="595025"><p id="r-595024" data-claire-element-id="595024"><a href="http://www.opera.com/docs/switches/">La documentation du remote d'Opéra</a> ;</p></li><li id="r-595027" data-claire-element-id="595027"><p id="r-595026" data-claire-element-id="595026"><a href="http://www.commentcamarche.net/faq/sujet-6120-imagemagick-manipuler-les-images-en-ligne-de-commande">Sur tutoriel (CCM) sur ImageMagick</a> ;</p></li><li id="r-595029" data-claire-element-id="595029"><p id="r-595028" data-claire-element-id="595028"><a href="http://www.imagemagick.org/Usage/crop/index.html">Utilisation de crop (ImageMagick)</a> ;</p></li><li id="r-595031" data-claire-element-id="595031"><p id="r-595030" data-claire-element-id="595030"><a href="http://cutycapt.sourceforge.net/">CutyCapt sur SourceForge</a>.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web">Générer des miniatures de pages web à la volée sur votre serveur web</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/installation-du-serveur-graphique">
Installation du serveur graphique
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-iceweasel-firefox">
Utilisation d&#039;IceWeasel (Firefox)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
Utilisation d&#039;Opera
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-de-cutycapt">
Utilisation de CutyCapt
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web/utilisation-d-opera">
<span class="arrow"></span>
<span class="next">Utilisation d&#039;Opera</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 03:31:54 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/generer-des-miniatures-de-pages-web-a-la-volee-sur-votre-serveur-web.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:43:24 GMT -->
</html>
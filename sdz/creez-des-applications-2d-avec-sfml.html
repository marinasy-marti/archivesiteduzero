<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-applications-2d-avec-sfml.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:54:39 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creez-des-applications-2d-avec-sfml.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:38:21 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Créez des applications 2D avec SFML</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/creez-des-applications-2d-avec-sfml.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Créez des applications 2D avec SFML</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Crezdesapplications2DavecSFML">Créez des applications 2D avec SFML</a><br/><a href="#InstallationdelaSFML">Installation de la SFML</a><br/><a href="#Unebibliothquemultimdia">Une bibliothèque multimédia</a><br/><a href="#TlchargementdelaSFML">Téléchargement de la SFML</a><br/><a href="#Installation">Installation</a><br/><a href="#Apprenezmanipulerlesimages">Apprenez à manipuler les images</a><br/><a href="#Lapremirefentre">La première fenêtre</a><br/><a href="#Utilisationdeformesgomtriques">Utilisation de formes géométriques</a><br/><a href="#Afficheretmodifierdesimages">Afficher et modifier des images</a><br/><a href="#TPUneballerebondissante1">(TP) Une balle rebondissante (1)</a><br/><a href="#Lagestiondesvnements">La gestion des évènements</a><br/><a href="#Unpeudethorie">Un peu de théorie</a><br/><a href="#Leclavier">Le clavier</a><br/><a href="#Lasouris">La souris</a><br/><a href="#Gestionavance">Gestion avancée</a><br/><a href="#TPUneballerebondissante2">(TP) Une balle rebondissante (2)</a><br/><a href="#Ajoutezdutextedansvosprogrammes">Ajoutez du texte dans vos programmes</a><br/><a href="#Lespolicesetfontes">Les polices et fontes</a><br/><a href="#Afficherdutexte">Afficher du texte</a><br/><a href="#TPSplashscreen">(TP) Splash screen</a><br/><a href="#Lagestiondutemps">La gestion du temps</a><br/><a href="#Grerlavitessed039uneapplication">Gérer la vitesse d&#039;une application</a><br/><a href="#Mesurerletempsaveclestimers">Mesurer le temps avec les timers</a><br/><a href="#TPRalisationd039unchronomtre">(TP) Réalisation d&#039;un chronomètre</a><br/><a href="#Ajouterdelamusiqueaveclemoduleaudio">Ajouter de la musique avec le module audio</a><br/><a href="#Liredesfichiersaudio">Lire des fichiers audio</a><br/><a href="#Laspatialisationpourdirigerleson">La spatialisation pour diriger le son</a><br/><a href="#Lagestiondelavue">La gestion de la vue</a><br/><a href="#Utiliserlechampdevision">Utiliser le champ de vision</a><br/><a href="#TPUnecamraenmouvement">(TP) Une caméra en mouvement</a><br/></div>
<a name="Crezdesapplications2DavecSFML"></a><h2>Créez des applications 2D avec SFML</h2><div class="content" role="article">
<p id="r-510359" data-claire-element-id="510359">Bonjour à tous !</p><p id="r-510360" data-claire-element-id="510360">Vous allez ici apprendre à créer des fenêtres graphiques, manipuler des images, du texte et plein d'autres choses. Tout cela en partant de zéro !</p><p id="r-510361" data-claire-element-id="510361">SFML signifie &quot;Simple and Fast Multimedia Library&quot; soit &quot;Bibliothèque multimédia simple et rapide&quot;.</p><p id="r-510362" data-claire-element-id="510362">Pour vous donner un aperçu des possibilités, voilà des images de jeux que j'ai réalisé avec la SFML :</p><p id="r-510363" data-claire-element-id="510367"><a href="medias/uploads.siteduzero.com_files_253001_254000_253763.jpg"><img id="r-510367" data-claire-element-id="510366" src="medias/uploads.siteduzero.com_thb_253001_254000_253763.jpg" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_253001_254000_253766.jpg"><img id="r-510366" data-claire-element-id="510365" src="medias/uploads.siteduzero.com_thb_253001_254000_253766.jpg" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_253001_254000_253765.jpg"><img id="r-510365" data-claire-element-id="510364" src="medias/uploads.siteduzero.com_thb_253001_254000_253765.jpg" alt="Image utilisateur"/></a><a href="medias/uploads.siteduzero.com_files_253001_254000_253764.jpg"><img id="r-510364" data-claire-element-id="510363" src="medias/uploads.siteduzero.com_thb_253001_254000_253764.jpg" alt="Image utilisateur"/></a></p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="InstallationdelaSFML"></a><h2>Installation de la SFML</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
<span class="next">Une bibliothèque multimédia</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-510378" data-claire-element-id="510378">Pour commencer, il faut installer la SFML sur votre disque dur et paramétrer vos EDI.</p>
</div><a name="Unebibliothquemultimdia"></a><h2>Une bibliothèque multimédia</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">
<span class="arrow"></span>
<span class="next">Installation de la SFML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
<span class="next">Téléchargement de la SFML</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-les-bibliotheques-multimedias" data-claire-element-id="510406">Les bibliothèques multimédias</h2><p id="r-510379" data-claire-element-id="510379"><cite>Citation : Wikipédia</cite></p><blockquote id="r-510381" data-claire-element-id="510381"><p id="r-510380" data-claire-element-id="510380">En informatique, une bibliothèque ou librairie logicielle (ou encore, bibliothèque de programmes) est un ensemble de fonctions utilitaires, regroupées et mises à disposition afin de pouvoir être utilisées sans avoir à les réécrire.</p></blockquote><p id="r-510382" data-claire-element-id="510382">La SFML est donc un ensemble d'outils. De plus, elle est multimédias car elle gère les images et le son.</p><aside id="r-510384" data-claire-element-id="510384" data-claire-semantic="warning"><p id="r-510383" data-claire-element-id="510383">La SFML n'est pas la seule bibliothèque multimédia, il existe notamment la SDL qui est aussi très utilisée.</p></aside><div id="r-510386" data-claire-element-id="510386" data-claire-semantic="question"><p id="r-510385" data-claire-element-id="510385">Quelle est la différence entre ces deux bibliothèques ?</p></div><p id="r-510387" data-claire-element-id="510387">La SDL est écrite en langage C alors que la SFML est écrite en langage C++. La première est donc faite pour programmer en C (langage impératif), alors que la seconde est faite pour programmer en C++ (langage orienté objet).</p><p id="r-510388" data-claire-element-id="510388">Ce que cela implique :</p><ul id="r-510395" data-claire-element-id="510395"><li id="r-510390" data-claire-element-id="510390"><p id="r-510389" data-claire-element-id="510389">Il est obligatoire de connaître le langage adéquat à la bibliothèque de votre choix (rien ne vous empêche de connaître les deux ;) ) ;</p></li><li id="r-510392" data-claire-element-id="510392"><p id="r-510391" data-claire-element-id="510391">Les notions à apprendre sont donc différentes et chacune a ses avantages et inconvénients ;</p></li><li id="r-510394" data-claire-element-id="510394"><p id="r-510393" data-claire-element-id="510393">Le niveau requis pour utiliser la SFML est un peu plus haut que celui pour la SDL, vu que le C++ requiert des notions plus avancées que le langage C. Néanmoins, nous verrons plus tard les avantages d'un tel langage.</p></li></ul><p id="r-510396" data-claire-element-id="510396">Si vous n'êtes pas au courant, le site du zéro propose des tutoriels pour apprendre ces langages :</p><ul id="r-510403" data-claire-element-id="510403"><li id="r-510398" data-claire-element-id="510398"><p id="r-510397" data-claire-element-id="510397"><a href="http://www.siteduzero.com/tutoriel-3-14189-apprenez-a-programmer-en-c.html">Tutoriel sur le langage C</a></p></li><li id="r-510400" data-claire-element-id="510400"><p id="r-510399" data-claire-element-id="510399">La partie 3 de ce tutoriel est consacrée à la SDL</p></li><li id="r-510402" data-claire-element-id="510402"><p id="r-510401" data-claire-element-id="510401"><a href="http://www.siteduzero.com/tutoriel-3-11406-apprenez-a-programmer-en-c.html">Tutoriel sur le langage C++</a></p></li></ul><aside id="r-510405" data-claire-element-id="510405" data-claire-semantic="information"><p id="r-510404" data-claire-element-id="510404">En plus d'être écrite en C++ l’efficacité de la SFML vient aussi du fait qu'elle utilise OpenGL, une bibliothèque spécialisée dans la 3D. Cette bibliothèque, aussi puissante que complexe, ne sera pas étudiée dans ce tutoriel.</p></aside><h2 id="r-fonctionnalites-de-la-sfml" data-claire-element-id="510441">Fonctionnalités de la SFML</h2><p id="r-510407" data-claire-element-id="510407">Voici les principales capacités de la SFML :</p><h3 id="r-caracteristiques-principales" data-claire-element-id="510417">Caractéristiques principales</h3><ul id="r-510416" data-claire-element-id="510416"><li id="r-510409" data-claire-element-id="510409"><p id="r-510408" data-claire-element-id="510408">Fonctionne sur différentes plateformes comme Windows (98, 2000, XP, Vista, 7), Unix (Linux, Mac OS X) ;</p></li><li id="r-510411" data-claire-element-id="510411"><p id="r-510410" data-claire-element-id="510410">Disponible dans les langages C++, C, .Net (C#, VB.Net, C++/CLI, ...), Python, D, Ruby ;</p></li><li id="r-510413" data-claire-element-id="510413"><p id="r-510412" data-claire-element-id="510412">Contient tous les modules pour gérer les images, l'audio, les évènements et bien d'autres. Vous n'avez donc qu'un seul SDK (kit de développement) à télécharger ;</p></li><li id="r-510415" data-claire-element-id="510415"><p id="r-510414" data-claire-element-id="510414">Intégrable à d'autres GUI (bibliothèques d'interface graphiques) comme Qt, wxWidgets, MFC et autres.</p></li></ul><h3 id="r-caracteristiques-graphiques" data-claire-element-id="510429">Caractéristiques graphiques</h3><ul id="r-510428" data-claire-element-id="510428"><li id="r-510419" data-claire-element-id="510419"><p id="r-510418" data-claire-element-id="510418">Gère les formats d'image standards : BMP, JPEG, PNG, TGA, PSD, DDS ;</p></li><li id="r-510421" data-claire-element-id="510421"><p id="r-510420" data-claire-element-id="510420">Peut utiliser des outils similaires à la 3D (zoomer, déplacement de la caméra, rotation de la scène) ;</p></li><li id="r-510423" data-claire-element-id="510423"><p id="r-510422" data-claire-element-id="510422">Effets modernes, disponibles en accélérés (si le matériel supporte l'accélération matérielle) : alpha-blending, rotations, shaders, et autres ;</p></li><li id="r-510425" data-claire-element-id="510425"><p id="r-510424" data-claire-element-id="510424">Utilisation facile des textes ;</p></li><li id="r-510427" data-claire-element-id="510427"><p id="r-510426" data-claire-element-id="510426">Les polices suivantes sont supportées : TTF, CFF, PCF, FNT, BDF, PFR, SFNT.</p></li></ul><h3 id="r-caracteristiques-audio" data-claire-element-id="510440">Caractéristiques audio</h3><ul id="r-510436" data-claire-element-id="510436"><li id="r-510431" data-claire-element-id="510431"><p id="r-510430" data-claire-element-id="510430">Peut charger et sauvegarder les formats audio standards : WAV, OGG, etc. La SFML ne peut pas gérer les formats MP3 car ceux-ci sont soumis à une licence Thompson Multimédia ;</p></li><li id="r-510433" data-claire-element-id="510433"><p id="r-510432" data-claire-element-id="510432">Utilise l'accélération matérielle si elle est disponible ;</p></li><li id="r-510435" data-claire-element-id="510435"><p id="r-510434" data-claire-element-id="510434">Supporte les formats multi-canaux (mono, stéréo, 4.0, 5.1, 6.1, 7.1).</p></li></ul><p id="r-510437" data-claire-element-id="510437">La SFML permet donc de <strong>lire</strong>, de <strong>modifier</strong>, d'<strong>afficher</strong> et d'<strong>enregistrer</strong> différentes ressources. Elle gère aussi les événements et le temps que nous étudierons plus tard.</p><aside id="r-510439" data-claire-element-id="510439" data-claire-semantic="warning"><p id="r-510438" data-claire-element-id="510438">Ne vous inquiétez pas si vous n'avez pas compris toutes les fonctionnalités, c'est normal nous les verrons au fur et à mesure. Je ne les ai d'ailleurs pas toutes mentionnées, et c'est bien normal vu leur nombre ! Pour les plus curieux, je vous renvoie à la page de présentation officielle des fonctionnalités de la SFML : <a href="http://www.sfml-dev.org/features-fr.php">Site de la SFML</a></p></aside><h2 id="r-licence-d-utilisation" data-claire-element-id="510445">Licence d'utilisation</h2><p id="r-510442" data-claire-element-id="510442"><cite>Citation : Site officiel de la SFML</cite></p><blockquote id="r-510444" data-claire-element-id="510444"><p id="r-510443" data-claire-element-id="510443">SFML est complètement gratuite pour toute utilisation, commerciale ou non, open-source ou non. C'est-à-dire que vous pouvez utiliser la SFML dans vos projets sans aucune restriction.<br/> Une indication que vous utilisez la SFML n'est pas obligatoire, mais serait appréciée.</p></blockquote>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">
<span class="arrow"></span>
<span class="next">Installation de la SFML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
<span class="next">Téléchargement de la SFML</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TlchargementdelaSFML"></a><h2>Téléchargement de la SFML</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
<span class="arrow"></span>
<span class="next">Une bibliothèque multimédia</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510447" data-claire-element-id="510447">Pour commencer, rendez-vous sur la page de téléchargement du site officiel :</p><p id="r-510448" data-claire-element-id="510448"><a href="http://www.sfml-dev.org/index-fr.php">Site officiel de la SFML</a></p><figure id="r-510450" data-claire-element-id="510451"><img id="r-510449" data-claire-element-id="510449" src="medias/uploads.siteduzero.com_files_253001_254000_253814.jpg" alt="Image utilisateur"/></figure><p id="r-510452" data-claire-element-id="510452">Une fois dans la page des téléchargements, rendez-vous dans la partie &quot;<strong>Bibliothèques SFML officielles</strong>&quot; et placez-vous sur le tableau concernant le langage C++ :</p><figure id="r-510454" data-claire-element-id="510455"><img id="r-510453" data-claire-element-id="510453" src="medias/uploads.siteduzero.com_files_253001_254000_253815.jpg" alt="Image utilisateur"/></figure><aside id="r-510457" data-claire-element-id="510457" data-claire-semantic="information"><p id="r-510456" data-claire-element-id="510456">Quand vous téléchargez une bibliothèque, choisissez la version &quot;SDK&quot; si elle existe, car elle contient la documentation et souvent de très bons exemples d'utilisation.</p></aside><h2 id="r-utilisateurs-de-windows-1" data-claire-element-id="510461">Utilisateurs de Windows</h2><p id="r-510458" data-claire-element-id="510458">Si vous avez l'EDI Visual Studio, prenez la version Visual C++ correspondante à votre version du logiciel.<br/> Pour les autres, prenez la version MinGW.</p><aside id="r-510460" data-claire-element-id="510460" data-claire-semantic="warning"><p id="r-510459" data-claire-element-id="510459">Pour ceux qui utilisent le compilateur MinGW, assurez-vous dès maintenant de l'avoir installé avec votre EDI (Code::Blocks, Dev C++, etc)!</p></aside><h2 id="r-utilisateurs-de-linux-et-mac-os-x" data-claire-element-id="510463">Utilisateurs de Linux et Mac OS X</h2><p id="r-510462" data-claire-element-id="510462">Pour vous rien de plus simple ;) : vous choisissez la version de votre système d'exploitation (32 ou 64 bits).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
<span class="arrow"></span>
<span class="next">Une bibliothèque multimédia</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installation"></a><h2>Installation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
<span class="arrow"></span>
<span class="next">Téléchargement de la SFML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">
<span class="next">Apprenez à manipuler les images</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510465" data-claire-element-id="510465">Vous allez maintenant apprendre à configurer des projets SFML dans votre EDI.</p><h2 id="r-conseils-11" data-claire-element-id="510472">Conseils</h2><h3 id="r-le-dossier-d-installation" data-claire-element-id="510467">Le dossier d'installation</h3><p id="r-510466" data-claire-element-id="510466">Personnellement j'installe toujours les bibliothèques dans un dossier leur étant réservé. Cela peut éviter d'avoir à retélécharger la bibliothèque si vous l'avez mise dans un dossier qu'un autre programme peut modifier, pour une mise à jour par exemple.</p><h3 id="r-lier-une-bibliotheque-a-un-executable" data-claire-element-id="510471">Lier une bibliothèque à un exécutable</h3><p id="r-510468" data-claire-element-id="510468">Comme je le disais dans l'introduction, une bibliothèque est un ensemble de fonctions, stockées dans des fichiers dont l'ensemble constitue la bibliothèque. Vu que nous utilisons les fonctions de la SFML, nos programmes ont besoin de savoir où se situent les fichiers de la bibliothèque : c'est ce qu'on appelle le <strong>linkage</strong>, le fait de lier une bibliothèque ! <br/> Si je vous parle de tout ça, c'est qu'il existe deux façons de lier une bibliothèque : soit statiquement, soit dynamiquement. Je ne vais pas rentrer dans les détails, mais juste vous prévenir que nous opterons ici pour la méthode dynamique, plus souvent utilisée et plus utile dans la plupart des cas. Néanmoins rien ne vous empêche de lier la SFML statiquement ;) .</p><aside id="r-510470" data-claire-element-id="510470" data-claire-semantic="information"><p id="r-510469" data-claire-element-id="510469">Dans cette partie, je vais souvent parler de &quot;modules&quot; comme le module &quot;graphics&quot;, &quot;audio&quot; ou autres. Les modules sont des parties de la bibliothèque, comme si la SFML était un ensemble de sous-bibliothèques, appelées donc modules.</p></aside><h2 id="r-plateforme-windows" data-claire-element-id="510543">Plateforme Windows</h2><h3 id="r-pour-les-utilisateurs-du-compilateur-visual-c-visual-studio" data-claire-element-id="510503">Pour les utilisateurs du compilateur Visual C++ (Visual Studio)</h3><p id="r-510473" data-claire-element-id="510473">Placez le dossier <strong>SFML-x.y</strong> où vous le souhaitez. Maintenant, Visual Studio va avoir besoin des dossiers <strong>lib</strong> et <strong>include</strong> de ce répertoire. Vous devez soit les placer dans le répertoire de Visual Studio, soit lui indiquer où ces dossiers se trouvent.</p><p id="r-510474" data-claire-element-id="510474">Installation dans le répertoire de l'EDI :</p><ul id="r-510479" data-claire-element-id="510479"><li id="r-510476" data-claire-element-id="510476"><p id="r-510475" data-claire-element-id="510475">Copiez le dossier &quot;<strong>SFML-x.y\include\SFML</strong>&quot; vers le répertoire &quot;<strong>VC\include</strong>&quot; ;</p></li><li id="r-510478" data-claire-element-id="510478"><p id="r-510477" data-claire-element-id="510477">Copiez tous les fichiers .lib du dossier &quot;<strong>SFML-x.y\lib</strong>&quot; vers le répertoire &quot;<strong>VC\lib</strong>&quot;.</p></li></ul><p id="r-510480" data-claire-element-id="510480">Installation dans un autre répertoire :</p><p id="r-510481" data-claire-element-id="510481">Ouvrez Visual Studio. Allez dans le menu <strong>Tools -&gt; Options</strong>, puis dans <strong>Projects and Solutions -&gt; VC++ Directories</strong></p><figure id="r-510483" data-claire-element-id="510484"><img id="r-510482" data-claire-element-id="510482" src="medias/uploads.siteduzero.com_files_253001_254000_253819.png" alt="Image utilisateur"/></figure><p id="r-510485" data-claire-element-id="510485">Dans la liste déroulante <strong>Show directories fo</strong>r, choisissez <strong>Include files</strong>, cliquez sur l'icône Parcourir et sélectionnez ensuite votre dossier &quot;<strong>SFML-x.y\include</strong>&quot;.<br/> Choisissez ensuite <strong>Library files</strong>, et faites la même opération que précédemment en ajoutant cette fois-ci le dossier &quot;<strong>SFML-x.y\lib</strong>&quot;.</p><figure id="r-510487" data-claire-element-id="510488"><img id="r-510486" data-claire-element-id="510486" src="medias/uploads.siteduzero.com_files_256001_257000_256600.png" alt="Image utilisateur"/></figure><p id="r-510489" data-claire-element-id="510489"><strong>Configuration de la compilation (Linkage)</strong> :</p><p id="r-510490" data-claire-element-id="510490">Nous allons maintenant créer un projet SFML. Allez dans <strong>Fichier -&gt; Créer Nouveau projet -&gt; Win32 console application</strong>.</p><p id="r-510491" data-claire-element-id="510491">Allez ensuite dans les options de votre projet, puis dans le menu <strong>Linker -&gt; Input</strong>. Assurez-vous que <strong>Active(Release)</strong> soit choisi dans Configuration. Ensuite sur la ligne &quot;<strong>Additional dependencies</strong>&quot; nous allons ajouter le module image : <strong>sfml-graphics.lib</strong> . Nous ajouterons au fur et à mesure du tutoriel les autres modules que nous voudrons utiliser.</p><figure id="r-510493" data-claire-element-id="510494"><img id="r-510492" data-claire-element-id="510492" src="medias/uploads.siteduzero.com_files_256001_257000_256609.png" alt="Image utilisateur"/></figure><p id="r-510495" data-claire-element-id="510495">Il faut ensuite lier de la même façon Visual Studio avec les versions de débogage des modules SFML, qui sont suffixées par &quot;-d&quot; : <br/><strong>sfml-graphics-d.lib</strong> par exemple. Choisissez le mode <strong>Active(Debug)</strong> pour configurer les linkers des modules et n'oubliez pas les &quot;-d&quot; : les oublier en mode <strong>Debug</strong> peut faire planter l'application :) .</p><aside id="r-510497" data-claire-element-id="510497" data-claire-semantic="warning"><p id="r-510496" data-claire-element-id="510496">Vu que nous utiliserons les versions dynamiques des modules, vous devrez définir la macro <strong>SFML_DYNAMIC</strong> dans vos projets :</p></aside><figure id="r-510499" data-claire-element-id="510500"><img id="r-510498" data-claire-element-id="510498" src="medias/uploads.siteduzero.com_files_256001_257000_256512.png" alt="Image utilisateur"/></figure><aside id="r-510502" data-claire-element-id="510502" data-claire-semantic="warning"><p id="r-510501" data-claire-element-id="510501">Quelques précisions : Les fichiers .DLL de Windows sont nécessaires vu que nous lions la SFML dynamiquement. Vous devrez à chaque fois les mettre dans le dossier de vos projets (où se trouve l'exécutable) ou les placer dans &quot;<strong>Windows/System32</strong>&quot; mais cette dernière option est déconseillée.</p></aside><h3 id="r-pour-les-utilisateurs-du-compilateur-mingw-code-blocks" data-claire-element-id="510542">Pour les utilisateurs du compilateur MinGW (Code::Blocks)</h3><p id="r-510504" data-claire-element-id="510504">Placez le dossier <strong>SFML-x.y</strong> où vous le souhaitez. Maintenant, Code::Blocks va avoir besoin des dossiers <strong>lib</strong> et <strong>include</strong> de ce répertoire. Vous devez soit les placer dans le répertoire de Code::Blocks, soit lui indiquer où ces dossiers se trouvent.</p><p id="r-510505" data-claire-element-id="510505">Installation dans le répertoire de l'EDI :</p><ul id="r-510510" data-claire-element-id="510510"><li id="r-510507" data-claire-element-id="510507"><p id="r-510506" data-claire-element-id="510506">Copiez le dossier &quot;<strong>SFML-x.y\include\SFML</strong>&quot; vers le répertoire &quot;<strong>MinGW\include</strong>&quot; ;</p></li><li id="r-510509" data-claire-element-id="510509"><p id="r-510508" data-claire-element-id="510508">Copiez tous les fichiers .a du dossier &quot;<strong>SFML-x.y\lib</strong>&quot; vers le répertoire &quot;<strong>MinGW\lib</strong>&quot;.</p></li></ul><aside id="r-510512" data-claire-element-id="510512" data-claire-semantic="information"><p id="r-510511" data-claire-element-id="510511">Le dossier MinGW se situe souvent dans le dossier d'installation de Code::Blocks</p></aside><p id="r-510513" data-claire-element-id="510513">Installation dans un autre répertoire :</p><p id="r-510514" data-claire-element-id="510514">Ouvrez Code::Blocks et allez dans le menu <strong>Settings / Compiler and debugger</strong>, puis dans <strong>Global compiler settings / Search directories</strong>. Suivez ensuite ces instructions :</p><ul id="r-510519" data-claire-element-id="510519"><li id="r-510516" data-claire-element-id="510516"><p id="r-510515" data-claire-element-id="510515">Dans Compiler, ajoutez &quot;<strong>SFML-x.y\include</strong>&quot; ;</p></li><li id="r-510518" data-claire-element-id="510518"><p id="r-510517" data-claire-element-id="510517">Dans Linker, ajoutez &quot;<strong>SFML-x.y\lib</strong>&quot;.</p></li></ul><figure id="r-510521" data-claire-element-id="510522"><img id="r-510520" data-claire-element-id="510520" src="medias/uploads.siteduzero.com_files_260001_261000_260740.png" alt="Image utilisateur"/></figure><figure id="r-510524" data-claire-element-id="510525"><img id="r-510523" data-claire-element-id="510523" src="medias/uploads.siteduzero.com_files_253001_254000_253881.png" alt="Image utilisateur"/></figure><p id="r-510526" data-claire-element-id="510526"><strong>Configuration de la compilation (Linkage)</strong> :</p><p id="r-510527" data-claire-element-id="510527">Nous allons maintenant créer un projet SFML. Allez dans <strong>File -&gt; New Project -&gt; Console application</strong>.</p><p id="r-510528" data-claire-element-id="510528">Allez ensuite dans <strong>Project -&gt; Build options</strong>, puis cliquez sur Release à gauche. Ensuite ajoutez le module image dans le menu <strong>Linker settings -&gt; Other linker options</strong>.</p><aside id="r-510530" data-claire-element-id="510530" data-claire-semantic="warning"><p id="r-510529" data-claire-element-id="510529">Il y a des dépendances entre ces modules ! Les modules audio et graphics dépendent du module window, qui lui dépend du module system :-° . Il faut toujours rajouter les modules dont dépendent les modules que l'on veut utiliser. L'ordre suivant est donc important (pour le moment, ne liez pas le module audio) :</p></aside><figure id="r-510532" data-claire-element-id="510533"><img id="r-510531" data-claire-element-id="510531" src="medias/uploads.siteduzero.com_files_260001_261000_260256.jpg" alt="Image utilisateur"/></figure><p id="r-510534" data-claire-element-id="510534">Il faut ensuite lier de la même façon Code::Blocks avec les versions de débogage des modules SFML, qui sont suffixées par &quot;-d&quot; : <br/> -lsfml-system-d par exemple. Choisissez le mode <strong>Debug</strong> sur la gauche pour configurer de la même façon les linkers des modules et n'oubliez pas les &quot;-d&quot; : les oublier en mode <strong>Debug</strong> peut faire planter l'application :) !</p><aside id="r-510536" data-claire-element-id="510536" data-claire-semantic="warning"><p id="r-510535" data-claire-element-id="510535">Vu que nous utiliserons les versions dynamiques des modules, vous devrez définir la macro <strong>SFML_DYNAMIC</strong> dans les options des projets SFML :</p></aside><figure id="r-510538" data-claire-element-id="510539"><img id="r-510537" data-claire-element-id="510537" src="medias/uploads.siteduzero.com_files_256001_257000_256596.png" alt="Image utilisateur"/></figure><aside id="r-510541" data-claire-element-id="510541" data-claire-semantic="warning"><p id="r-510540" data-claire-element-id="510540">Quelques précisions : comme énoncé plus haut, les fichiers .DLL (les bibliothèques dynamiques) de Windows sont nécessaires à l’exécution du programme, puisque nous lions la SFML dynamiquement. Vous devrez donc les ajouter dans le même dossier que l'exécutable. L'exécutable pouvant être compilé en mode debug ou release, il faudra mettre les versions des .DLL correspondantes au mode choisi (les .DLL pour le mode debug finissent par &quot;-d&quot; comme expliqué plus haut).</p></aside><h2 id="r-systemes-linux-compilateur-gcc" data-claire-element-id="510587">Systèmes Linux (compilateur gcc)</h2><p id="r-510544" data-claire-element-id="510544">Une fois votre dossier SFML installé où vous le souhaitez, placez vous dans celui-ci et tapez la commande :</p><pre id="r-510545" data-claire-element-id="510545"><code data-claire-semantic="console">sudo make install</code></pre><aside id="r-510547" data-claire-element-id="510547" data-claire-semantic="warning"><p id="r-510546" data-claire-element-id="510546">Beaucoup de paquets doivent être préinstallés sur Linux avant de faire marcher la SFML. Par exemple si OpenGL n'est pas installé sur votre plateforme, il est nécessaire de télécharger et d'installer celui-ci avec la commande suivante :</p></aside><pre id="r-510548" data-claire-element-id="510548"><code data-claire-semantic="console">sudo apt-get install libglu1-mesa-dev</code></pre><p id="r-510549" data-claire-element-id="510549">Suivez ensuite les informations qui s'affichent dans la console.</p><p id="r-510550" data-claire-element-id="510550">Voici la liste des paquets nécessaires au fonctionnement de la SFML :</p><ul id="r-510571" data-claire-element-id="510571"><li id="r-510552" data-claire-element-id="510552"><p id="r-510551" data-claire-element-id="510551">libgl1-mesa-dev ;</p></li><li id="r-510554" data-claire-element-id="510554"><p id="r-510553" data-claire-element-id="510553">libglu1-mesa-dev ;</p></li><li id="r-510556" data-claire-element-id="510556"><p id="r-510555" data-claire-element-id="510555">libopenal-dev ;</p></li><li id="r-510558" data-claire-element-id="510558"><p id="r-510557" data-claire-element-id="510557">libopenal1-dbg ;</p></li><li id="r-510560" data-claire-element-id="510560"><p id="r-510559" data-claire-element-id="510559">libsndfile1-dev ;</p></li><li id="r-510562" data-claire-element-id="510562"><p id="r-510561" data-claire-element-id="510561">libx11-dev ;</p></li><li id="r-510564" data-claire-element-id="510564"><p id="r-510563" data-claire-element-id="510563">libx11-6-dbg ;</p></li><li id="r-510566" data-claire-element-id="510566"><p id="r-510565" data-claire-element-id="510565">libfreetype6-dev ;</p></li><li id="r-510568" data-claire-element-id="510568"><p id="r-510567" data-claire-element-id="510567">libxrandr-dev ;</p></li><li id="r-510570" data-claire-element-id="510570"><p id="r-510569" data-claire-element-id="510569">libxrandr2-dbg ;</p></li></ul><p id="r-510572" data-claire-element-id="510572"><strong>Configuration de la compilation</strong> :</p><p id="r-510573" data-claire-element-id="510573">Pour compiler n'importe quel programme SFML avec gcc, il suffit d'utiliser les commandes habituelles ;) :</p><pre id="r-510574" data-claire-element-id="510574"><code data-claire-semantic="console">g++ -c clock.cpp
g++ -o clock clock.o</code></pre><aside id="r-510576" data-claire-element-id="510576" data-claire-semantic="warning"><p id="r-510575" data-claire-element-id="510575">Je rappelle que la SFML utilise différents modules (fenêtrage, image, audio, réseau, ..). Pour lier ces modules, il faut les rajouter dans la deuxième ligne de commandes. De plus, ces modules sont dépendants entre eux : graphics et audio dépendent de window qui dépend de system.</p></aside><p id="r-510577" data-claire-element-id="510577">Si vous voulez utiliser tous ces modules il faudra donc écrire à la deuxième ligne :</p><pre id="r-510578" data-claire-element-id="510578"><code data-claire-semantic="console">g++ -o clock clock.o -lsfml-audio -lsfml-graphics -lsfml-window -lsfml-system</code></pre><aside id="r-510580" data-claire-element-id="510580" data-claire-semantic="warning"><p id="r-510579" data-claire-element-id="510579">Si vous utilisez les modules Graphics ou Audio, vous devez d'abord installer les bibliothèques externes utilisées par chaque module.</p></aside><ul id="r-510585" data-claire-element-id="510585"><li id="r-510582" data-claire-element-id="510582"><p id="r-510581" data-claire-element-id="510581">Le module graphics requiert la bibliothèque freetype ;</p></li><li id="r-510584" data-claire-element-id="510584"><p id="r-510583" data-claire-element-id="510583">Le module audio requiert lui libsndfile et openal.</p></li></ul><p id="r-510586" data-claire-element-id="510586">Ces bibliothèques externes sont citées dans la liste plus haut. Si vous rencontrez des problèmes avec une version d'OpenAL (ce qui arrive souvent étant donné que l'implémentation Linux est peu stable), vous pouvez la remplacer par l'implémentation OpenAL-Soft.</p><h2 id="r-systemes-mac-os-x-xcode" data-claire-element-id="510595">Systèmes Mac OS X (Xcode)</h2><p id="r-510588" data-claire-element-id="510588">Une fois que vous avez placé votre dossier SFML où vous le souhaitez, copiez le contenu du dossier &quot;<strong>SFML-x.y/lib</strong>&quot; (ou lib64 dans le cas de la version 64 bits) dans le répertoire &lt;Racine Disque&gt;/Bibliothèque/Frameworks. Rendez-vous ensuite dans le dossier &quot;<strong>SFML-x.y/extlibs/bin</strong>&quot;. Si vous avez choisi la version 32 bits, copiez les dossiers OpenAL.framework et sndfile.framework dans le répertoire &quot;<strong>/Bibliothèque/Frameworks</strong>&quot;. Dans le cas de la version 64 bits, copiez uniquement le contenu du dossier x86_64.</p><p id="r-510589" data-claire-element-id="510589">Nous allons ensuite utiliser des modèles de projets (templates) pour Xcode. Pour cela, copiez les dossiers &quot;<strong>SFML Window-based Application</strong>&quot; et &quot;<strong>SFML Graphics-based Application</strong>&quot; du dossier &quot;<strong>SFML-x.y/build/xcode/templates</strong>&quot; dans &quot;<strong>&lt;Racine Disque&gt;/Developer/Library/Xcode/Project Templates/Application</strong>&quot;, et le dossier &quot;SFML Tool&quot; dans &quot;<strong>/Developer/Library/Xcode/Project Templates/Command Line Utility</strong>&quot;.</p><p id="r-510590" data-claire-element-id="510590">En lançant Xcode puis <strong>File -&gt; New Project -&gt; Applications</strong>, vous devriez voir les templates SFML dans la liste :</p><figure id="r-510592" data-claire-element-id="510593"><img id="r-510591" data-claire-element-id="510591" src="medias/uploads.siteduzero.com_files_253001_254000_253938.png" alt="Image utilisateur"/></figure><p id="r-510594" data-claire-element-id="510594">Maintenant vous êtes prêts à programmer votre premières application SFML : les EDI peuvent maintenant compiler, lier des modules et exécuter des programmes tranquillement ;) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
<span class="arrow"></span>
<span class="next">Téléchargement de la SFML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">
<span class="next">Apprenez à manipuler les images</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Apprenezmanipulerlesimages"></a><h2>Apprenez à manipuler les images</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
<span class="next">La première fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-510598" data-claire-element-id="510598">Dans cette partie, vous allez programmer votre première application SFML.</p>
</div><a name="Lapremirefentre"></a><h2>La première fenêtre</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">
<span class="arrow"></span>
<span class="next">Apprenez à manipuler les images</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
<span class="next">Utilisation de formes géométriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510599" data-claire-element-id="510599">Tout d'abord, lancez votre EDI et créez un nouveau projet SFML. Paramétrez votre projet pour qu'il n'utilise que les modules system, window et graphics.</p><p id="r-510600" data-claire-element-id="510600">Si vous devez utiliser plusieurs modules, il faut toujours les mettre dans le bon ordre, car ils sont dépendants :</p><ul id="r-510607" data-claire-element-id="510607"><li id="r-510602" data-claire-element-id="510602"><p id="r-510601" data-claire-element-id="510601">graphics (utilise window et system)</p></li><li id="r-510604" data-claire-element-id="510604"><p id="r-510603" data-claire-element-id="510603">window (utilise system)</p></li><li id="r-510606" data-claire-element-id="510606"><p id="r-510605" data-claire-element-id="510605">system</p></li></ul><p id="r-510608" data-claire-element-id="510608">Voilà, on peut commencer à programmer !</p><h2 id="r-initialisation-de-la-fenetre" data-claire-element-id="510625">Initialisation de la fenêtre</h2><p id="r-510609" data-claire-element-id="510609">Il faut inclure le module graphique et l'espace de nommage sf :</p><pre id="r-510610" data-claire-element-id="510610"><code data-claire-semantic="cpp">// main.cpp
#include &lt;SFML/Graphics.hpp&gt;

using namespace sf;</code></pre><p id="r-510611" data-claire-element-id="510611">L'espace de nommage permet au compilateur de reconnaître directement les types (attributs, fonctions, classes, ..) de la SFML. Si vous ne le mettez pas, il vous faudra écrire &quot;sf::&quot; devant chaque type de la bibliothèque. Si vous n'êtes pas au point sur les namespace, lisez le tutoriel de Vanger <a href="http://www.siteduzero.com/tutoriel-3-31296-les-espaces-de-noms-namespace.html">les espaces de noms namespace</a>.</p><aside id="r-510613" data-claire-element-id="510613" data-claire-semantic="warning"><p id="r-510612" data-claire-element-id="510612">Il est fortement déconseillé d'utiliser les espaces de nommage dans les fichiers headers &quot;.h&quot; ou &quot;.hpp&quot; etc.. Cela peut poser des problèmes de compilation. Il vaut mieux utiliser &quot;sf::&quot; pour les types SFML uniquement dans les headers.</p></aside><p id="r-510614" data-claire-element-id="510614">Ensuite, on crée la fonction principale du programme et on initialise la fenêtre :</p><pre id="r-510615" data-claire-element-id="510615"><code data-claire-semantic="cpp">int main()
{
    RenderWindow app(VideoMode(800, 600, 32), &quot;Ma premiere fenetre SFML ! &quot;);

    // ...</code></pre><p id="r-510616" data-claire-element-id="510616">Passons en revue cette ligne de code :</p><ul id="r-510621" data-claire-element-id="510621"><li id="r-510618" data-claire-element-id="510618"><p id="r-510617" data-claire-element-id="510617"><code data-claire-semantic="cpp">VideoMode(800, 600, 32)</code> donne à la fenêtre une largeur de 800 pixels, une longueur de 600 pixels et un affichage 32 bits ;</p></li><li id="r-510620" data-claire-element-id="510620"><p id="r-510619" data-claire-element-id="510619">Le dernier paramètre est le nom de l'application.</p></li></ul><p id="r-510622" data-claire-element-id="510622">Rappel : Si vous n'avez pas mis l'espace de nommage, le type de la fenêtre devient alors <code data-claire-semantic="cpp">sf::RenderWindow</code>.</p><p id="r-510623" data-claire-element-id="510623">Si vous voulez instancier votre fenêtre plus tard dans le programme ou en créer une nouvelle, vous pouvez utiliser la fonction suivante :</p><pre id="r-510624" data-claire-element-id="510624"><code data-claire-semantic="cpp">app.Create(sf::VideoMode(800, 600, 32), &quot;Ma premiere fenetre SFML ! &quot;);</code></pre><h2 id="r-les-styles-de-fenetre" data-claire-element-id="510643">Les styles de fenêtre</h2><p id="r-510626" data-claire-element-id="510626">Une fenêtre peut posséder plusieurs éléments et caractéristiques :</p><ul id="r-510635" data-claire-element-id="510635"><li id="r-510628" data-claire-element-id="510628"><p id="r-510627" data-claire-element-id="510627">Redimensionnement = Style::Resize ;</p></li><li id="r-510630" data-claire-element-id="510630"><p id="r-510629" data-claire-element-id="510629">Barre de titre = Style::Titlebar ;</p></li><li id="r-510632" data-claire-element-id="510632"><p id="r-510631" data-claire-element-id="510631">Bouton de fermeture = Style::Close ;</p></li><li id="r-510634" data-claire-element-id="510634"><p id="r-510633" data-claire-element-id="510633">Mode plein écran = Style::Fullscreen.</p></li></ul><p id="r-510636" data-claire-element-id="510636">On va maintenant voir comment appliquer ces différents styles aux fenêtres :</p><pre id="r-510637" data-claire-element-id="510637"><code data-claire-semantic="cpp">RenderWindow app(VideoMode(800, 600, 32), &quot;Ma premiere fenetre SFML ! &quot;, Style::Close | Style::Titlebar );</code></pre><p id="r-510638" data-claire-element-id="510638">L'opérateur &quot;|&quot; permet de combiner plusieurs styles. Dans cet exemple la fenêtre aura un bouton pour se fermer (<code data-claire-semantic="cpp">Style::Close</code>) et une barre de titre (<code data-claire-semantic="cpp">Style::Titlebar</code>). Il suffit juste de mettre dans les paramètres les styles que l'on souhaite (en indiquant <code data-claire-semantic="cpp">Style::</code> devant ).</p><aside id="r-510640" data-claire-element-id="510640" data-claire-semantic="information"><p id="r-510639" data-claire-element-id="510639">Par défaut, une fenêtre possède un bouton de fermeture et peut se redimensionner. Si on ne met pas le troisième paramètre ça revient à écrire <code data-claire-semantic="cpp">Style::Resize | Style::Close</code></p></aside><aside id="r-510642" data-claire-element-id="510642" data-claire-semantic="warning"><p id="r-510641" data-claire-element-id="510641">Si vous voulez mettre le mode plein écran, il faudra remplacer le constructeur de VideoMode par <code data-claire-semantic="cpp">VideoMode::GetMode(0)</code> : Le mode 0 est toujours le mieux supporté.</p></aside><h2 id="r-affichage-et-boucle-de-rendu" data-claire-element-id="510657">Affichage et boucle de rendu</h2><p id="r-510644" data-claire-element-id="510644">On affiche notre fenêtre à l'écran :</p><pre id="r-510645" data-claire-element-id="510645"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;SFML/Graphics.hpp&gt; 

using namespace sf;

int main()
{
    RenderWindow app(VideoMode(800, 600, 32), &quot;Ma premiere fenetre SFML ! &quot;);

    // Boucle principale
    while (app.IsOpened())
    {
        Event event;

        while (app.GetEvent(event))
        {
            if (event.Type == Event::Closed)
                app.Close();
        }

        // Remplissage de l'écran (couleur noire par défaut)
        app.Clear();

        // Affichage de la fenêtre à l'écran
        app.Display();
    }
    return EXIT_SUCCESS;
}</code></pre><aside id="r-510647" data-claire-element-id="510647" data-claire-semantic="information"><p id="r-510646" data-claire-element-id="510646">Ne vous inquiétez pas si vous n'avez pas compris la boucle <code data-claire-semantic="cpp">while(app.GetEvent(event))</code>, elle sert a gérer la fermeture de la fenêtre. On reviendra plus tard en détail sur les évènements !</p></aside><p id="r-510648" data-claire-element-id="510648">La boucle principale fait tourner le programme tant que la fenêtre est ouverte :</p><pre id="r-510649" data-claire-element-id="510649"><code data-claire-semantic="cpp">while (app.IsOpened())
{
    // ...</code></pre><p id="r-510650" data-claire-element-id="510650">Pour ce qui est de l'affichage, à chaque tour on efface l'ancien écran :</p><pre id="r-510651" data-claire-element-id="510651"><code data-claire-semantic="cpp">app.Clear();</code></pre><p id="r-510652" data-claire-element-id="510652">et on affiche le nouveau rendu :</p><pre id="r-510653" data-claire-element-id="510653"><code data-claire-semantic="cpp">app.Display();</code></pre><p id="r-510654" data-claire-element-id="510654">La suite est assez logique, pour fermer l'application il faut fermer la fenêtre !</p><pre id="r-510655" data-claire-element-id="510655"><code data-claire-semantic="cpp">app.Close();</code></pre><p id="r-510656" data-claire-element-id="510656">Voilà vous savez maintenant comment créer une fenêtre avec la SFML !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">
<span class="arrow"></span>
<span class="next">Apprenez à manipuler les images</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
<span class="next">Utilisation de formes géométriques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisationdeformesgomtriques"></a><h2>Utilisation de formes géométriques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
<span class="arrow"></span>
<span class="next">La première fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
<span class="next">Afficher et modifier des images</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510659" data-claire-element-id="510659">Dans cette partie nous verrons comment ajouter des formes géométriques comme des points, lignes, carrés ou triangles. Nous allons aussi apprendre à colorer ces formes et les mettre en mouvement.</p><p id="r-510660" data-claire-element-id="510660">Pour commencer, il faut créer une forme en SFML :</p><pre id="r-510661" data-claire-element-id="510661"><code data-claire-semantic="cpp">Shape point;</code></pre><p id="r-510662" data-claire-element-id="510662">Shape signifie &quot;Forme&quot; en français. On va maintenant ajouter un point à cette forme :</p><h2 id="r-creer-un-point" data-claire-element-id="510681">Créer un point</h2><pre id="r-510663" data-claire-element-id="510663"><code data-claire-semantic="cpp">point.AddPoint(Vector2f(x, y), Color(r, g, b), Color(r, g, b));</code></pre><p id="r-510664" data-claire-element-id="510664">Les paramètres sont la position du point à l'écran, sa couleur, et celle de sa bordure.</p><p id="r-510665" data-claire-element-id="510665">Vous avez du remarquer la présence d'un vecteur.</p><aside id="r-510667" data-claire-element-id="510667" data-claire-semantic="information"><p id="r-510666" data-claire-element-id="510666">Un vecteur n'est pas forcément composé de deux nombres, il peut en avoir une infinité !</p></aside><p id="r-510668" data-claire-element-id="510668">Tout cela pour dire qu'un vecteur ne représente pas qu'une direction. Il peut par exemple représenter une position dans n'importe quelle dimension. Dans notre cas, c'est en dimension 2, d'où le &quot;Vector2f&quot;, et f signifiant &quot;float&quot;.</p><p id="r-510669" data-claire-element-id="510669">Pour activer l'affichage des bordures d'une forme, on doit utiliser la fonction suivante :</p><pre id="r-510670" data-claire-element-id="510670"><code data-claire-semantic="cpp">Shape forme;
forme.EnableOutline(true);</code></pre><aside id="r-510672" data-claire-element-id="510672" data-claire-semantic="warning"><p id="r-510671" data-claire-element-id="510671">La SFML inverse le repère en Y :</p></aside><figure id="r-510674" data-claire-element-id="510675"><img id="r-510673" data-claire-element-id="510673" src="medias/uploads.siteduzero.com_files_254001_255000_254030.jpg" alt="Image utilisateur"/></figure><p id="r-510676" data-claire-element-id="510676">Il y a deux façons de gérer les couleurs. Soit on utilise les couleurs comme &quot;Color::White&quot; ou &quot;Color::Purple&quot; pour blanc ou violet, soit avec la méthode &quot;RGB&quot;. RGB signifie &quot;Red Green Blue&quot;. Avec les 3 couleurs en RGB, on peut en réaliser une infinité d'autres. Il suffit d'ouvrir un logiciel de dessin comme Paint pour vous donner un exemple :</p><figure id="r-510678" data-claire-element-id="510679"><img id="r-510677" data-claire-element-id="510677" src="medias/uploads.siteduzero.com_files_254001_255000_254034.jpg" alt="Image utilisateur"/></figure><p id="r-510680" data-claire-element-id="510680">Vous pouvez vous servir de Paint ou d'un équivalent pour trouver les couleurs RGB.</p><h2 id="r-modification-d-une-forme" data-claire-element-id="510687">Modification d'une forme</h2><p id="r-510682" data-claire-element-id="510682">Pour changer les valeurs d'une forme il y a trois fonctions à connaitre :</p><pre id="r-510683" data-claire-element-id="510683"><code data-claire-semantic="cpp">forme.SetPointPosition(1, Vector2f(50, 100));
forme.SetPointColor(1, Color::Black);
forme.SetPointOutlineColor(1, Color(0, 128, 128));</code></pre><p id="r-510684" data-claire-element-id="510684">Le premier paramètre est, pour chacune des fonctions, un point de la forme. Si vous mettez 1, vous allez modifier les valeurs du deuxième point que vous avez ajouté (car la liste commence à zéro). On aurait donc du marquer 0 pour modifier le premier point si vous avez suivis ;) .</p><p id="r-510685" data-claire-element-id="510685">Vous pouvez aussi activer/désactiver la bordure d'un point et le remplissage de la forme, et de donner une taille en pixels aux bordures d'un polygone :</p><pre id="r-510686" data-claire-element-id="510686"><code data-claire-semantic="cpp">// Définit une bordure d'épaisseur 10
polygone.SetOutlineWidth(10);

// Désactive le remplissage de la forme
polygone.EnableFill(false);

// Active l'affichage de sa bordure
polygone.EnableOutline(true);</code></pre><h2 id="r-affichage-d-une-forme" data-claire-element-id="510690">Affichage d'une forme</h2><p id="r-510688" data-claire-element-id="510688">Tout comme n'importe quel objet affichable en SFML, il faut utiliser la fonction suivante :</p><pre id="r-510689" data-claire-element-id="510689"><code data-claire-semantic="cpp">app.Draw(objetAffichable);</code></pre><h2 id="r-exercice-creation-d-un-polygone" data-claire-element-id="510716">(Exercice) Création d'un polygone</h2><p id="r-510691" data-claire-element-id="510691">On va maintenant créer un carré et l'afficher à l'écran. C'est assez simple et pas trop long à faire !<br/> Voici les objectifs de l'exercice :</p><h3 id="r-cahier-des-charges-24" data-claire-element-id="510706">Cahier des charges</h3><ul id="r-510704" data-claire-element-id="510704"><li id="r-510693" data-claire-element-id="510693"><p id="r-510692" data-claire-element-id="510692">Notre carré devra avoir 200 pixels de côté ;</p></li><li id="r-510695" data-claire-element-id="510695"><p id="r-510694" data-claire-element-id="510694">Les deux premiers points devront être jaunes et les deux autres de couleur cyan ;</p></li><li id="r-510697" data-claire-element-id="510697"><p id="r-510696" data-claire-element-id="510696">Son sommet d'en haut à gauche devra se situer à la position (200, 200) ;</p></li><li id="r-510699" data-claire-element-id="510699"><p id="r-510698" data-claire-element-id="510698">Les bordures devront être blanches, rouges, bleues et vertes (dans l'ordre que vous voulez) ;</p></li><li id="r-510701" data-claire-element-id="510701"><p id="r-510700" data-claire-element-id="510700">L'épaisseur des bordures devra être de 20 pixels ;</p></li><li id="r-510703" data-claire-element-id="510703"><p id="r-510702" data-claire-element-id="510702">Le remplissage devra être activé.</p></li></ul><p id="r-510705" data-claire-element-id="510705">Bon, si vous n'y arrivez pas (essayez quand même de compiler un essai !) je mets la solution :</p><h3 id="r-correction-169" data-claire-element-id="510715">Correction</h3><div id="r-510709" data-claire-element-id="510709"><p id="r-510707" data-claire-element-id="510707"><strong><em>Main.cpp</em></strong></p><pre id="r-510708" data-claire-element-id="510708"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;SFML/Graphics.hpp&gt;

using namespace sf;

int main()
{
    // Fenêtre de rendu
    RenderWindow app(VideoMode(600, 600, 32), &quot;Mon superbe polygone SFML !&quot;);

    Shape carre;
    carre.AddPoint(200, 200, Color(255, 255, 0), Color(255,255,255));
    carre.AddPoint(400, 200, Color(255, 255, 0), Color(255,0,0));
    carre.AddPoint(400, 400, Color(0, 255, 255), Color(0,255,0));
    carre.AddPoint(200, 400, Color(0, 255, 255), Color(0,0,255));
    carre.EnableFill(true); // Remplissage activé
    carre.EnableOutline(true); // Bordures activées
    carre.SetOutlineWidth(20); // Bordures de taille 20 pixels

    // Boucle principale
    while (app.IsOpened())
    {
        Event event;
        while (app.GetEvent(event))
        {
            // Fenêtre fermée : on quitte
            if (event.Type == Event::Closed)
                app.Close();
        }

        // Efface l'écran (remplissage avec du noir)
        app.Clear();

        // Affichage de notre carre dans la fenêtre
        app.Draw(carre);

        // Affichage du contenu de la fenêtre à l'écran
        app.Display();

    }

    return EXIT_SUCCESS;
}</code></pre></div><p id="r-510710" data-claire-element-id="510710">Bravo si vous y êtes arrivés !</p><p id="r-510711" data-claire-element-id="510711">Capture d'écran du polygone :</p><figure id="r-510713" data-claire-element-id="510714"><img id="r-510712" data-claire-element-id="510712" src="medias/uploads.siteduzero.com_files_254001_255000_254040.jpg" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
<span class="arrow"></span>
<span class="next">La première fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
<span class="next">Afficher et modifier des images</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Afficheretmodifierdesimages"></a><h2>Afficher et modifier des images</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
<span class="arrow"></span>
<span class="next">Utilisation de formes géométriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
<span class="next">(TP) Une balle rebondissante (1)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510718" data-claire-element-id="510718">Généralement une image est un fichier contenu dans la mémoire de l'ordinateur. Pour manipuler ces images, la SFML dispose de deux classes : la classe Image et la classe Sprite. Il ne faut pas confondre un fichier image avec la classe Image de la bibliothèque.</p><p id="r-510719" data-claire-element-id="510719">La classe Image est un <strong>utilitaire</strong> servant à charger les images (elle peut aussi servir à en créer, mais nous ne l'étudierons pas dans ce tutoriel).<br/> Les objets de la classe Image <strong>ne sont pas</strong> des objets affichables.</p><p id="r-510720" data-claire-element-id="510720">C'est donc la classe sprite qui permet d'afficher les images !</p><h2 id="r-les-sprites-7" data-claire-element-id="510745">Les sprites</h2><p id="r-510721" data-claire-element-id="510721">Dans le domaine des jeux vidéos, un sprite est une ressource graphique. Ils sont notamment beaucoup utilisés pour les animations, qui sont en fait une suite d'images. Ces animations sont souvent situées dans une <strong>feuille de sprites</strong>.</p><aside id="r-510723" data-claire-element-id="510723" data-claire-semantic="warning"><p id="r-510722" data-claire-element-id="510722">Les objets de la classe Image sont des ressources très lentes à charger, il faut donc éviter de les copier. On peut résoudre ce problème en utilisant des pointeurs ou des références. Néanmoins la meilleure méthode est d'utiliser les sprites qui sont eux des ressources légères et qui peuvent donc être passés en paramètre par copie.</p></aside><h3 id="r-les-feuilles-de-sprites" data-claire-element-id="510744">Les feuilles de sprites</h3><p id="r-510724" data-claire-element-id="510724">Voici une feuille de sprites pour l'animation de simples boutons :</p><p id="r-510725" data-claire-element-id="510725">boutons.png</p><figure id="r-510727" data-claire-element-id="510728"><img id="r-510726" data-claire-element-id="510726" src="medias/uploads.siteduzero.com_files_254001_255000_254171.png" alt="Image utilisateur"/></figure><p id="r-510729" data-claire-element-id="510729">Ici si l'utilisateur passe la souris au dessus du bouton play qui est initialement bleu, sa couleur passera au violet et idem pour le bouton quit.</p><div id="r-510731" data-claire-element-id="510731" data-claire-semantic="question"><p id="r-510730" data-claire-element-id="510730">Pourquoi il y a cette couleur verte ?</p></div><p id="r-510732" data-claire-element-id="510732">Elle est utilisée pour le masque de transparence, qui rend transparent une couleur choisie (ici le vert).</p><p id="r-510733" data-claire-element-id="510733">Il y plusieurs choses importantes pour réaliser une bonne feuille de sprites :</p><ul id="r-510738" data-claire-element-id="510738"><li id="r-510735" data-claire-element-id="510735"><p id="r-510734" data-claire-element-id="510734">Les éléments de l'animation doivent être alignés (horizontalement ou verticalement) ;</p></li><li id="r-510737" data-claire-element-id="510737"><p id="r-510736" data-claire-element-id="510736">Il faut choisir une bonne couleur de transparence : nous avons choisi ici le vert car c'est une couleur qui n'est pas utilisée par les autres éléments de l'image.</p></li></ul><aside id="r-510740" data-claire-element-id="510740" data-claire-semantic="warning"><p id="r-510739" data-claire-element-id="510739">Si vous voulez créer une feuille de sprites vous même ou si vous voulez la télécharger sur Internet, faites attention à la compression de l'image. La compression dénature les couleurs pour que l'image prenne moins de place. Il faut éviter les formats JPEG qui compressent souvent les images (privilégiez plutôt les formats BMP ou PNG par exemple).</p></aside><div id="r-510742" data-claire-element-id="510742" data-claire-semantic="question"><p id="r-510741" data-claire-element-id="510741">Comment sont organisés les sprites dans notre programme ?</p></div><p id="r-510743" data-claire-element-id="510743">Dans l'exemple des boutons, il y a deux sprites, et non quatre. Un sprite correspond à l'ensemble de l'animation, ou à un élément de notre programme (animé ou non). Comme il y a deux boutons, il y aura deux sprites dans notre programme !</p><h2 id="r-charger-une-image-2" data-claire-element-id="510747">Charger une image</h2><pre id="r-510746" data-claire-element-id="510746"><code data-claire-semantic="cpp">Image image;
Sprite sprite;

if (!image.LoadFromFile(&quot;image.jpg&quot;)) // Si le chargement du fichier a échoué
{
    cout&lt;&lt;&quot;Erreur durant le chargement de l'image&quot;&lt;&lt;endl;
    return EXIT_FAILURE; // On ferme le programme
}
else // Si le chargement de l'image a réussi
{
    sprite.SetImage(image); 
}</code></pre><h2 id="r-afficher-un-sprite" data-claire-element-id="510751">Afficher un sprite</h2><p id="r-510748" data-claire-element-id="510748">Rappel : tous les objets affichables en SFML sont affichés par la même et unique fonction.</p><p id="r-510749" data-claire-element-id="510749">Pour les sprites ça s'écrit :</p><pre id="r-510750" data-claire-element-id="510750"><code data-claire-semantic="cpp">app.Draw(sprite);</code></pre><h2 id="r-modification-d-un-sprite" data-claire-element-id="510761">Modification d'un sprite</h2><p id="r-510752" data-claire-element-id="510752">Dans le dernier chapitre, on a vu une méthode pour positionner et modifier des formes, en modifiant point par point des objets. Cette méthode n'est pas utilisable avec des sprites, vu qu'un sprite est un obligatoirement un rectangle. Par contre la SFML dispose de méthodes communes aux classes Sprite et Shape (ces deux classes héritant de la classe Drawable) :</p><pre id="r-510753" data-claire-element-id="510753"><code data-claire-semantic="cpp">objet.SetPosition(Vector2f(x, y)); // Positionnement
objet.Move(Vector2f(x, y)); // Translation
objet.Scale(Vector2f(x, y)); // Redimensionnement
objet.SetColor(Color(r, g, b, a)); // Coloration
objet.Rotate(degrés); // Rotation</code></pre><aside id="r-510755" data-claire-element-id="510755" data-claire-semantic="information"><p id="r-510754" data-claire-element-id="510754">Le paramètre 'a' du constructeur de Color est facultatif, il représente la transparence alpha de l'objet (sa valeur peut varier de 0 à 255).</p></aside><p id="r-510756" data-claire-element-id="510756">Pour les rotations, les objets tournent dans le sens trigonométrique :</p><figure id="r-510758" data-claire-element-id="510759"><img id="r-510757" data-claire-element-id="510757" src="medias/uploads.siteduzero.com_files_254001_255000_254427.png" alt="Image utilisateur"/></figure><p id="r-510760" data-claire-element-id="510760">La taille d'un sprite augmente avec la rotation : le cadre bleu original (qui était la couleur de fond) est plus petit que l'image qui a subi la rotation. Après une rotation, il faut donc recalculer la largeur et la hauteur de l'image si on se base sur celles-ci, pour par exemple positionner un sprite.</p><h2 id="r-recuperer-la-position-d-un-sprite-a-l-ecran" data-claire-element-id="510764">Récupérer la position d'un sprite à l'écran</h2><p id="r-510762" data-claire-element-id="510762">La SFML a aussi des accesseurs pour récupérer les informations d'un objet. Pour récupérer la position d'un objet c'est assez simple :</p><pre id="r-510763" data-claire-element-id="510763"><code data-claire-semantic="cpp">Vector2f pos = objet.GetPosition();</code></pre><h2 id="r-selectionner-une-partie-d-une-image" data-claire-element-id="510775">Sélectionner une partie d'une image</h2><p id="r-510765" data-claire-element-id="510765">Pour associer un sprite à une partie de l'image seulement, il faut utiliser les SubRects :</p><pre id="r-510766" data-claire-element-id="510766"><code data-claire-semantic="cpp">Sprite.SetSubRect(IntRect(x1, y1, x2, y2));</code></pre><p id="r-510767" data-claire-element-id="510767">Les IntRect sont des structures de données permettant notamment de stocker deux points d'un rectangle. Les deux premiers paramètres sont des coordonnées entières, représentant le point en haut à gauche du rectangle. Les deux autres concernent le point en bas à droite. Pour illustrer le principe des sous-rectangles, voilà un exemple concret :</p><figure id="r-510769" data-claire-element-id="510770"><img id="r-510768" data-claire-element-id="510768" src="medias/uploads.siteduzero.com_files_254001_255000_254205.png" alt="Image utilisateur"/></figure><p id="r-510771" data-claire-element-id="510771">Devient :</p><figure id="r-510773" data-claire-element-id="510774"><img id="r-510772" data-claire-element-id="510772" src="medias/uploads.siteduzero.com_files_254001_255000_254206.png" alt="Image utilisateur"/></figure><h2 id="r-appliquer-un-masque-de-couleur-a-une-image" data-claire-element-id="510778">Appliquer un masque de couleur à une image</h2><p id="r-510776" data-claire-element-id="510776">Comme je le disais, le masque de transparence s'applique sur une image et non sur un sprite, car elle concerne tout un fichier. Il faut donc appliquer le masque sur l'image avant d'associer cette dernière à un sprite. On utilise cette fonction :</p><pre id="r-510777" data-claire-element-id="510777"><code data-claire-semantic="cpp">image.CreateMaskFromColor(Color(r, g, b));</code></pre><h2 id="r-rendre-une-image-transparente-transparence-alpha" data-claire-element-id="510816">Rendre une image transparente (transparence alpha)</h2><p id="r-510779" data-claire-element-id="510779">Pour rendre toute l'image transparente, il faut utiliser la transparence alpha. L'ajout de la transparence consiste à attribuer au sprite et non à l'image une couleur munie d'un paramètre alpha compris entre 0 et 255 :</p><pre id="r-510780" data-claire-element-id="510780"><code data-claire-semantic="cpp">sprite.SetColor(Color(255,255,255,&lt;alpha&gt;));</code></pre><p id="r-510781" data-claire-element-id="510781">alpha = 255</p><figure id="r-510783" data-claire-element-id="510784"><img id="r-510782" data-claire-element-id="510782" src="medias/uploads.siteduzero.com_files_257001_258000_257292.png" alt="alpha = 255"/></figure><p id="r-510785" data-claire-element-id="510785">alpha = 128</p><figure id="r-510787" data-claire-element-id="510788"><img id="r-510786" data-claire-element-id="510786" src="medias/uploads.siteduzero.com_files_257001_258000_257293.png" alt="alpha = 128"/></figure><p id="r-510789" data-claire-element-id="510789">(Exercice) Taillons zozor en pièces !</p><p id="r-510790" data-claire-element-id="510790">Le but est d'obtenir le résultat suivant :</p><figure id="r-510792" data-claire-element-id="510793"><img id="r-510791" data-claire-element-id="510791" src="medias/uploads.siteduzero.com_files_254001_255000_254218.png" alt="Image utilisateur"/></figure><h3 id="r-objectifs-18" data-claire-element-id="510800">Objectifs</h3><ul id="r-510798" data-claire-element-id="510798"><li id="r-510795" data-claire-element-id="510795"><p id="r-510794" data-claire-element-id="510794">La première partie (celle à gauche) devra se situer à la position (150, 150) ;</p></li><li id="r-510797" data-claire-element-id="510797"><p id="r-510796" data-claire-element-id="510796">Les deux autres parties devront se suivre sur la droite et se coller comme l'indique la capture d'écran. Je vous laisse trouver les coordonnées X des deux autres parties ! Pour les coordonnées Y vous faites comme vous voulez, personnellement j'ai pris 200 pour la deuxième partie et 50 pour la troisième.</p></li></ul><p id="r-510799" data-claire-element-id="510799"><a href="medias/uploads.siteduzero.com_files_254001_255000_254219.png">Téléchargez ici l'image originale de zozor</a></p><h3 id="r-conseils-12" data-claire-element-id="510807">Conseils</h3><p id="r-510801" data-claire-element-id="510801">Pour commencer, il faut découper l'image en trois parties égales. Après l'image initiale a une largeur de <strong>285</strong> pixels et une hauteur de <strong>320</strong> pixels. N'oubliez pas d'utiliser des constantes pour les dimensions fixes et pour les positions des parties de zozor, ça rendra le code plus lisible.</p><p id="r-510802" data-claire-element-id="510802">Maintenant que vous êtes prêts, découpez-moi tout ça !</p><p id="r-510803" data-claire-element-id="510803">Correction :</p><p id="r-510804" data-claire-element-id="510804"></p><div id="r-510806" data-claire-element-id="510806"><pre id="r-510805" data-claire-element-id="510805"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;

using namespace sf;
using namespace std;

// Constantes
const int LARGEUR_ZOZOR = 285;
const int HAUTEUR_ZOZOR = 320;

int main()
{
    // Fenêtre de rendu
    RenderWindow app(VideoMode(600, 600, 32), &quot;Taillons zozor en pieces!&quot;);

    Image image;
    Sprite zozor1, zozor2, zozor3; // Les trois parties 

    if (!image.LoadFromFile(&quot;zozor.png&quot;)) // Si le chargement a échoué
    {
        cout&lt;&lt;&quot;Erreur durant le chargement de l'image&quot;&lt;&lt;endl;
        return EXIT_SUCCESS; // On ferme le programme
    }
    else // Si le chargement de l'image a réussi
    {
        zozor1.SetImage(image);
        zozor2.SetImage(image);
        zozor3.SetImage(image);
    }

    zozor1.SetSubRect(IntRect(0, 0, LARGEUR_ZOZOR / 3, HAUTEUR_ZOZOR));
    zozor2.SetSubRect(IntRect(LARGEUR_ZOZOR / 3, 0, LARGEUR_ZOZOR / 3 * 2, HAUTEUR_ZOZOR));
    zozor3.SetSubRect(IntRect(LARGEUR_ZOZOR / 3 * 2, 0, LARGEUR_ZOZOR, HAUTEUR_ZOZOR));

    zozor1.SetPosition(150, 150);
    zozor2.SetPosition(150 + LARGEUR_ZOZOR / 3, 200);
    zozor3.SetPosition(150 + LARGEUR_ZOZOR / 3 * 2, 50);

    // Boucle principale
    while (app.IsOpened())
    {
        Event event;
        while (app.GetEvent(event))
        {
            // Fenêtre fermée : on quitte
            if (event.Type == Event::Closed)
                app.Close();
        }

        // Efface l'écran (remplissage avec du noir)
        app.Clear();

        // Affichage de nos parties de zozor
        app.Draw(zozor1);
        app.Draw(zozor2);
        app.Draw(zozor3);

        // Affichage du contenu de la fenêtre à l'écran
        app.Display();
    }
    
    return EXIT_SUCCESS;
}</code></pre></div><h3 id="r-explications-41" data-claire-element-id="510815">Explications</h3><p id="r-510808" data-claire-element-id="510808">Il fallait utiliser trois sprites. Vu qu'on doit découper une image en trois parties, un sprite ne peut pas contenir trois sous-rectangles à lui tout seul.<br/> Ensuite il fallait calculer les bonnes coordonnées. Pour trouver la largeur d'une partie, il fallait diviser la largeur totale de l'image par 3.</p><p id="r-510809" data-claire-element-id="510809">Ensuite, il suffisait de trouver les autres coordonnées en ajoutant les largeurs des parties (ou en les multipliant par 2 comme dans mon code).</p><p id="r-510810" data-claire-element-id="510810">Voici un schéma expliquant comment calculer les positions des sous-rectangles :</p><figure id="r-510812" data-claire-element-id="510813"><img id="r-510811" data-claire-element-id="510811" src="medias/uploads.siteduzero.com_files_254001_255000_254408.png" alt="Image utilisateur"/></figure><p id="r-510814" data-claire-element-id="510814">Maintenant, prêts pour le TP ?</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
<span class="arrow"></span>
<span class="next">Utilisation de formes géométriques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
<span class="next">(TP) Une balle rebondissante (1)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPUneballerebondissante1"></a><h2>(TP) Une balle rebondissante (1)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
<span class="arrow"></span>
<span class="next">Afficher et modifier des images</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">
<span class="next">La gestion des évènements</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510818" data-claire-element-id="510818">On va augmenter un peu le niveau ;) !</p><h2 id="r-cahier-des-charges-25" data-claire-element-id="510821">Cahier des charges</h2><p id="r-510819" data-claire-element-id="510819">On va créer une balle rebondissante sur les côtés de l'écran et sur deux barres.</p><p id="r-510820" data-claire-element-id="510820">Pour résumer le principe, la balle partira du milieu de l'écran avec un déplacement initial, et lorsqu'elle touchera une partie de l'écran ou une barre, elle rebondira et ira dans l'autre sens. On va commencer par apprendre comment on fait bouger la balle.</p><h2 id="r-donner-un-mouvement-a-un-objet" data-claire-element-id="510826">Donner un mouvement à un objet</h2><p id="r-510822" data-claire-element-id="510822">La fonction Move est là pour ça !</p><pre id="r-510823" data-claire-element-id="510823"><code data-claire-semantic="cpp">objet.Move(10, 5); // Déplace l'objet de 10 en X et de 5 en Y</code></pre><p id="r-510824" data-claire-element-id="510824">Note : On peut aussi utiliser les &quot;Vector2f&quot; en paramètre de la fonction Move, comme expliqué dans les chapitres précédents.</p><p id="r-510825" data-claire-element-id="510825">Si on exécute ce code à chaque tour de boucle, on donne un mouvement linéaire à l'objet. Ici, il se déplacera de 10 pixels en X (donc vers la droite) et de 5 pixels en Y (donc vers le bas) par tour de boucle.</p><h2 id="r-conseils-13" data-claire-element-id="510846">Conseils</h2><ul id="r-510833" data-claire-element-id="510833"><li id="r-510828" data-claire-element-id="510828"><p id="r-510827" data-claire-element-id="510827">Utilisez les avantages du langage orienté objet !</p></li><li id="r-510830" data-claire-element-id="510830"><p id="r-510829" data-claire-element-id="510829">N'oubliez pas qu'il faut éviter de copier des images, ce sont des ressources très lentes à charger</p></li><li id="r-510832" data-claire-element-id="510832"><p id="r-510831" data-claire-element-id="510831">Essayez de rendre le code le plus compréhensible possible. Évitez par exemple les coordonnées de positions qui n'évoquent rien à l'œil nu.</p></li></ul><h3 id="r-controler-la-vitesse-de-l-application" data-claire-element-id="510845">Contrôler la vitesse de l'application</h3><p id="r-510834" data-claire-element-id="510834">Ici on va parler des FPS !</p><div id="r-510836" data-claire-element-id="510836" data-claire-semantic="question"><p id="r-510835" data-claire-element-id="510835">C'est quoi les FPS :euh: ?</p></div><p id="r-510837" data-claire-element-id="510837">FPS = &quot;First Person Shooter&quot;, soit jeu de tir subjectif.</p><p id="r-510838" data-claire-element-id="510838">FPS = &quot;Frames Per Second&quot;, soit images par seconde.</p><p id="r-510839" data-claire-element-id="510839">Si vous ne contrôlez pas le nombre d'images affichées par seconde, votre processeur sera surchargé par votre application. Cela n'est dangereux, mais votre ordinateur supportera moins le fonctionnement de plusieurs programmes en même temps.</p><div id="r-510841" data-claire-element-id="510841" data-claire-semantic="question"><p id="r-510840" data-claire-element-id="510840">Comment contrôler les FPS ?</p></div><p id="r-510842" data-claire-element-id="510842">La première méthode est la limitation simple des fps. Il suffit de placer le code suivant juste après la création d'une fenêtre :</p><pre id="r-510843" data-claire-element-id="510843"><code data-claire-semantic="cpp">app.SetFramerateLimit(60); // Limite la fenêtre à 60 images par seconde</code></pre><p id="r-510844" data-claire-element-id="510844">Une fréquence de 60 images par seconde est conseillée. En fait, la carte graphique permet de synchroniser les FPS d'une application, et celles de nos écrans. On appelle cela la synchronisation verticale. Cette synchronisation peut ralentir une application, mais vous pouvez la désactiver dans les paramètres de votre carte graphique. Les écrans ont souvent une fréquence de 60 FPS, c'est donc conseillé de limiter les applications à cette fréquence.</p><h2 id="r-apercu-du-jeu" data-claire-element-id="510852">Aperçu du jeu</h2><p id="r-510847" data-claire-element-id="510847">Pour vous donner une idée du résultat avant de commencer, je vous mets une capture d'écran de la correction du TP :</p><figure id="r-510849" data-claire-element-id="510850"><img id="r-510848" data-claire-element-id="510848" src="medias/uploads.siteduzero.com_files_254001_255000_254615.png" alt="Image utilisateur"/></figure><p id="r-510851" data-claire-element-id="510851">Pour ce qui est de la position initiale de la balle, faites comme vous voulez. Essayez de modifier sa vitesse, la position des barres, en gros faites ce que vous voulez avec ! Et concernant les rebonds, il faut tester si la balle est en Collision avec les éléments, et lui changer son mouvement en X et Y en conséquence !</p><h2 id="r-images-du-tp-a-telecharger" data-claire-element-id="510855">Images du TP à télécharger</h2><p id="r-510853" data-claire-element-id="510853"><a href="medias/uploads.siteduzero.com_files_254001_255000_254617.png">Fond d'écran</a><br/><a href="medias/uploads.siteduzero.com_files_254001_255000_254618.png">Feuille de sprites (Masque de couleur Blanc )</a></p><p id="r-510854" data-claire-element-id="510854">Bonne chance !</p><h2 id="r-correction-170" data-claire-element-id="510874">Correction</h2><aside id="r-510857" data-claire-element-id="510857" data-claire-semantic="warning"><p id="r-510856" data-claire-element-id="510856">Il y a plusieurs méthodes pour programmer ce TP. Ma correction n'est pas parfaite : si votre programme marche c'est très bien, mais regardez-la quand même, c'est possible que vous appreniez quelque chose.</p></aside><p id="r-510858" data-claire-element-id="510858"></p><div id="r-510873" data-claire-element-id="510873"><p id="r-510859" data-claire-element-id="510859"><em>Ball.hpp :</em></p><pre id="r-510860" data-claire-element-id="510860"><code data-claire-semantic="cpp">#ifndef BALLE_H
#define BALLE_H

#include &lt;SFML/Graphics.hpp&gt;

class Ball
{
public :

    Ball(const std::string &amp; filePath, sf::IntRect subRect, sf::Vector2f position, int size, int speed);

    void MoveX();
    void MoveY();
    void ReverseDX(); // Inverse le mouvement en X
    void ReverseDY(); // Inverse le mouvement en Y

    sf::Sprite GetSprite();
    sf::IntRect GetBoundingBox() const; // Retourne la boîte englobante de l'image de la balle

private :

    sf::Image myImage;
    sf::Sprite mySprite;

    int mySize; // Taille
    int myDX; // Déplacement en X
    int myDY; // Déplacement en Y
    int mySpeed; // Vitesse
};

#endif</code></pre><p id="r-510861" data-claire-element-id="510861"><em>Ball.cpp :</em></p><pre id="r-510862" data-claire-element-id="510862"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
#include &quot;Ball.hpp&quot;

using namespace std;
using namespace sf;

Ball::Ball(const string &amp;filePath, IntRect subRect, Vector2f position, int size, int speed)
: mySize(size), myDX(speed), myDY(speed), mySpeed(speed)
{
    if(!myImage.LoadFromFile(filePath)) // Si le chargement a échoué
    {
        cerr&lt;&lt;&quot;Error during import &quot;&lt;&lt;filePath&lt;&lt;endl; // On affiche l'erreur
    }
    else // Si le chargement de l'image a réussi
    {
        myImage.CreateMaskFromColor(Color::White); // Masque de transparence
        mySprite.SetImage(myImage);
        mySprite.SetSubRect(subRect); // Sous rectangle
        mySprite.SetPosition(position);
    }
}

void Ball::MoveX()
{
    mySprite.Move(myDX, 0);
}

void Ball::MoveY()
{
    mySprite.Move(0, myDY);
}

void Ball::ReverseDX()
{
    myDX *= -1; // Inversement du mouvement en X
}

void Ball::ReverseDY()
{
    myDY *= -1; // Inversement du mouvement en Y
}

Sprite Ball::GetSprite()
{
    return mySprite;
}

IntRect Ball::GetBoundingBox() const
{
    IntRect boundingBox;
    boundingBox.Left = (int)mySprite.GetPosition().x;
    boundingBox.Right = boundingBox.Left + mySize / 2;
    boundingBox.Top = (int)mySprite.GetPosition().y;
    boundingBox.Bottom = boundingBox.Top + mySize / 2;

    return boundingBox;
}</code></pre><p id="r-510863" data-claire-element-id="510863"><em>Bar.hpp :</em></p><pre id="r-510864" data-claire-element-id="510864"><code data-claire-semantic="cpp">#ifndef BAR_H
#define BAR_H

#include &lt;SFML/Graphics.hpp&gt;

class Bar
{
public :

    Bar(const std::string &amp; filePath, sf::IntRect subRect, sf::Vector2f position, int width, int height);

    sf::Sprite GetSprite();
    sf::IntRect GetBoundingBox() const; // Retourne la boîte englobante de l'image de la barrre

private :

    sf::Image myImage;
    sf::Sprite mySprite;

    int myWidth; // Largeur
    int myHeight; // Hauteur
};

#endif</code></pre><p id="r-510865" data-claire-element-id="510865"><em>Bar.cpp :</em></p><pre id="r-510866" data-claire-element-id="510866"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
#include &quot;Bar.hpp&quot;

using namespace std;
using namespace sf;

Bar::Bar(const string &amp;filePath, IntRect subRect, Vector2f position, int width, int height)
: myWidth(width), myHeight(height)
{
    if (!myImage.LoadFromFile(filePath)) // Si le chargement a échoué
    {
        cerr&lt;&lt;&quot;Error during import &quot;&lt;&lt;filePath&lt;&lt;endl;
    }
    else // Si le chargement de l'image a réussi
    {
        myImage.CreateMaskFromColor(Color::White); // Masque de couleur
        mySprite.SetImage(myImage);
        mySprite.SetSubRect(subRect); // Sous rectangle

        mySprite.SetPosition(position);
    }
}

Sprite Bar::GetSprite()
{
    return mySprite;
}

IntRect Bar::GetBoundingBox() const
{
    IntRect boundingBox;
    boundingBox.Left = (int)mySprite.GetPosition().x;
    boundingBox.Right = boundingBox.Left + (int)mySprite.GetSize().x;
    boundingBox.Top = (int)mySprite.GetPosition().y;
    boundingBox.Bottom = boundingBox.Top + (int)mySprite.GetSize().y;

    return boundingBox;
}</code></pre><p id="r-510867" data-claire-element-id="510867"><em>CollisionManager.hpp :</em></p><pre id="r-510868" data-claire-element-id="510868"><code data-claire-semantic="cpp">#ifndef COLLISIONMANAGER_H
#define COLLISIONMANAGER_H

#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Bar.hpp&quot;
#include &quot;Ball.hpp&quot;

class CollisionManager
{
public :

    CollisionManager(Ball &amp; ball, Bar &amp; bar1, Bar &amp; bar2, sf::Vector2f windowSize);

    void ManageCollisionsX();
    void ManageCollisionsY();

private :

    Ball &amp; myBall;
    Bar &amp; myBar1, &amp; myBar2;

    sf::Vector2f myWindowSize; // Taille de la fenêtre
};

bool Collision(const sf::IntRect &amp; a, const sf::IntRect &amp; b); // Collisions entre deux rectangles

#endif</code></pre><p id="r-510869" data-claire-element-id="510869"><em>CollisionManager.cpp :</em></p><pre id="r-510870" data-claire-element-id="510870"><code data-claire-semantic="cpp">#include &quot;CollisionManager.hpp&quot;

using namespace std;
using namespace sf;

bool Collision(const IntRect &amp; a, const IntRect &amp; b)
{
    if (a.Bottom &lt;= b.Top)
        return false;
    if (a.Top &gt;= b.Bottom)
        return false;
    if (a.Right &lt;= b.Left)
        return false;
    if (a.Left &gt;= b.Right)
        return false;

    return true;
}

CollisionManager::CollisionManager(Ball &amp; ball, Bar &amp; bar1, Bar &amp; bar2, Vector2f windowSize)
: myBall(ball), myBar1(bar1), myBar2(bar2), myWindowSize(windowSize)
{}

void CollisionManager::ManageCollisionsX()
{
    // Récupération de la boîte englobante de la balle
    IntRect ballRect = myBall.GetBoundingBox();

    // Récupération des boîtes englobantes des barres
    IntRect bar1Rect, bar2Rect;
    bar1Rect = myBar1.GetBoundingBox();
    bar2Rect = myBar2.GetBoundingBox();

    // Test des Collisions en X
    if(Collision(ballRect, bar1Rect) || Collision(ballRect, bar2Rect) || ballRect.Left &lt; 0 || ballRect.Right &gt; myWindowSize.x )
    {
        // On annule le mouvement de la balle et on lui inverse son mouvement en X
        myBall.ReverseDX();
        myBall.MoveX();
    }
}

void CollisionManager::ManageCollisionsY()
{
    // Récupération de la boîte englobante de la balle
    IntRect ballRect = myBall.GetBoundingBox();

    // Récupération des boîtes englobantes des barres
    IntRect bar1Rect, bar2Rect;
    bar1Rect = myBar1.GetBoundingBox();
    bar2Rect = myBar2.GetBoundingBox();

    // Test des Collisions en Y
    if(Collision(ballRect, bar1Rect) || Collision(ballRect, bar2Rect) || ballRect.Top &lt; 0 || ballRect.Bottom &gt; myWindowSize.y )
    {
        // On annule le mouvement de la balle et on lui inverse son mouvement en Y
        myBall.ReverseDY();
        myBall.MoveY();
    }
}</code></pre><p id="r-510871" data-claire-element-id="510871"><em>main.cpp :</em></p><pre id="r-510872" data-claire-element-id="510872"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Bar.hpp&quot;
#include &quot;Ball.hpp&quot;
#include &quot;CollisionManager.hpp&quot;

using namespace std;
using namespace sf;

// Constantes

// Chemin de la feuille de sprites
const string SPRITES_FILE_PATH = &quot;graphics.bmp&quot;;

// Taille de l'écran
const Vector2f WINDOW_SIZE(800,600);

// Taille de la balle
const int BALL_SIZE = 12;

// Vitesse de la balle
const int BALL_SPEED = 8;

// Balle initialement centrée en haut
const Vector2f BALL_POS_INIT(WINDOW_SIZE.x / 2 - BALL_SIZE / 2, WINDOW_SIZE.y / 3 - BALL_SIZE / 2);

// Taille des barres
const int BAR_WIDTH = 12;
const int BAR_HEIGHT = 45;

// Barre 1 à gauche, barre 2 à droite
const Vector2f BAR1_POS_INIT(WINDOW_SIZE.x / 3 - BAR_WIDTH / 2, WINDOW_SIZE.y / 2 - BAR_HEIGHT / 2);
const Vector2f BAR2_POS_INIT(WINDOW_SIZE.x / 3 * 2 - BAR_WIDTH / 2, WINDOW_SIZE.y / 2 - BAR_HEIGHT / 2);

// Sous rectangles dans la feuille de sprites (positions obtenues avec un logiciel de dessin)
const IntRect BALL_SUBRECT(28,0,40,12);
const IntRect BAR_1_SUBRECT(0,0,12,45);
const IntRect BAR_2_SUBRECT(14,0,26,45);

int main()
{
    // Fenêtre
    RenderWindow app(VideoMode((int)WINDOW_SIZE.x, (int)WINDOW_SIZE.y, 32), &quot;TP Ball rebondissante&quot;);

    // Frames Per Second (FPS)
    app.SetFramerateLimit(60); // limite la fenêtre à 60 images par seconde

    // Balle
    Ball ball(SPRITES_FILE_PATH, BALL_SUBRECT, BALL_POS_INIT, BALL_SIZE, BALL_SPEED);

    // Barres
    Bar bar1(SPRITES_FILE_PATH, BAR_1_SUBRECT, BAR1_POS_INIT, BAR_WIDTH, BAR_HEIGHT);
    Bar bar2(SPRITES_FILE_PATH, BAR_2_SUBRECT, BAR2_POS_INIT, BAR_WIDTH, BAR_HEIGHT);

    // Traitement des Collisions entre la balle, les deux barres et les bords de l'écran
    CollisionManager colManager(ball, bar1, bar2, WINDOW_SIZE);

    // Fond d'écran
    Image image;
    Sprite background;

    if(!image.LoadFromFile(&quot;background.bmp&quot;))
    {
        cerr&lt;&lt;&quot;Error during import &quot;&lt;&lt;&quot;background.bmp&quot;&lt;&lt;endl;
        return EXIT_FAILURE; // On ferme le programme
    }
    else
    {
        background.SetImage(image);
    }

    // Boucle principale
    while (app.IsOpened())
    {
        Event event;

        while (app.GetEvent(event))
        {
            if (event.Type == Event::Closed)
                app.Close();
        }

        // Mouvements et Collisions

        ball.MoveX();
        colManager.ManageCollisionsX();

        ball.MoveY();
        colManager.ManageCollisionsY();

        // Affichages
        app.Clear();

        app.Draw(background);
        app.Draw(ball.GetSprite());
        app.Draw(bar1.GetSprite());
        app.Draw(bar2.GetSprite());

        app.Display();
    }

    return EXIT_SUCCESS;
}</code></pre></div><h2 id="r-explications-42" data-claire-element-id="510885">Explications</h2><p id="r-510875" data-claire-element-id="510875">Une chose a peut-être pu vous étonner : la classe ColisionManager.<br/> Cette classe sert à gérer les Collisions, elle a un algorithme simple pour vérifier une Collision entre deux rectangles. Si vous voulez être plus au point sur les Collisions, je vous conseille le tutoriel de <strong>Fvirtman</strong> sur la <a href="http://www.siteduzero.com/tutoriel-3-254492-theorie-des-Collisions.html">Théorie des Collisions</a>.</p><p id="r-510876" data-claire-element-id="510876">Ensuite pour le principe du rebond, j'ai géré ça en deux étapes :</p><ul id="r-510881" data-claire-element-id="510881"><li id="r-510878" data-claire-element-id="510878"><p id="r-510877" data-claire-element-id="510877">Premièrement on avance la balle en X. Si la balle entre en Collision avec les côtés de l'écran ou une barre, on inverse son mouvement et on le remet à sa dernière position (afin qu'il ne reste pas dans le mur)</p></li><li id="r-510880" data-claire-element-id="510880"><p id="r-510879" data-claire-element-id="510879">Ensuite on le déplace en Y et on effectue la même opération</p></li></ul><p id="r-510882" data-claire-element-id="510882">Cette méthode est souvent utilisée mais elle présente des défauts. Une balle peut traverser une barre si elle a une vitesse trop élevée : la Collision n'aura pas été détectée car la balle sera par exemple passée d'un seul coup de 10px à 30px sur l'axe X. Pour régler ça, il faudrait en fait tracer une ligne -imaginaire bien sûr- entre la position de l'objet et la suivante, et vérifier qu'il n'y ait aucun obstacle entre ces deux positions.</p><p id="r-510883" data-claire-element-id="510883">Dans le prochain chapitre, on va apprendre à faire bouger les deux barres avec le clavier !</p><p id="r-510884" data-claire-element-id="510884">Vous connaissez maintenant les bases de la manipulation des images et des sprites, passons à la suite ;) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
<span class="arrow"></span>
<span class="next">Afficher et modifier des images</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">
<span class="next">La gestion des évènements</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lagestiondesvnements"></a><h2>La gestion des évènements</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
<span class="arrow"></span>
<span class="next">(TP) Une balle rebondissante (1)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
<span class="next">Un peu de théorie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-510888" data-claire-element-id="510888">Nous allons apprendre comment gérer le clavier et la souris !</p>
</div><a name="Unpeudethorie"></a><h2>Un peu de théorie</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">
<span class="arrow"></span>
<span class="next">La gestion des évènements</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
<span class="next">Le clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510889" data-claire-element-id="510889">Avant de contrôler un programme, nous allons comprendre comment les évènements fonctionnent.</p><div id="r-510891" data-claire-element-id="510891" data-claire-semantic="question"><p id="r-510890" data-claire-element-id="510890">Qu'est-ce qu'un évènement ?</p></div><p id="r-510892" data-claire-element-id="510892">Par exemple, lorsque l'utilisateur appuie sur une touche du clavier, cela est un évènement.</p><aside id="r-510894" data-claire-element-id="510894" data-claire-semantic="information"><p id="r-510893" data-claire-element-id="510893">Initialement, les évènements sont gérables par l'API native d'un système d'exploitation. Le module &quot;Window&quot; de la SFML permet de les gérer plus facilement.</p></aside><h2 id="r-recuperer-les-evenements" data-claire-element-id="510899">Récupérer les evènements</h2><p id="r-510895" data-claire-element-id="510895">Dans le chapitre précédent, on a utilisé un évènement : la fermeture du programme. Je vous rappelle les quelques lignes qui suffisent à faire ça :</p><pre id="r-510896" data-claire-element-id="510896"><code data-claire-semantic="cpp">while(app.IsOpened()) // Boucle principale
{
    Event event;
    while (app.GetEvent(event)) // Boucle des évènements
    {
        if (event.Type == Event::Closed) // Croix en haut à droite
            app.Close(); // Fermeture du programme
    }
    // ...</code></pre><p id="r-510897" data-claire-element-id="510897">On déclare une instance de la classe Event. Cet objet va nous servir à savoir quels évènements attendent d'être traités, comme une file d'attente. La fonction &quot;GetEvent&quot; renvoie un booléen indiquant si des évènements sont en attente ou non. S'il y a des évènements à traiter, on les récupère dans la boucle des évènements jusqu'à qu'il n'y en ai plus.</p><p id="r-510898" data-claire-element-id="510898">Ici, quand l'utilisateur appuie sur une touche du clavier, l'évènement ne sera pas géré. Par contre nous gérons l'évènement &quot;Closed&quot;, donc si on clique sur le bouton de fermeture l'évènement sera traité et on sortira bien de la boucle.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">
<span class="arrow"></span>
<span class="next">La gestion des évènements</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
<span class="next">Le clavier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leclavier"></a><h2>Le clavier</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
<span class="arrow"></span>
<span class="next">Un peu de théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
<span class="next">La souris</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510901" data-claire-element-id="510901">La SFML a des types d'évènements qui permettent de gérer la plupart des interactions possibles avec un utilisateur.</p><div id="r-510903" data-claire-element-id="510903" data-claire-semantic="question"><p id="r-510902" data-claire-element-id="510902">Quels types d'interactions peut-il y avoir entre l'utilisateur et le clavier ?</p></div><p id="r-510904" data-claire-element-id="510904">Deux seulement : L'appui sur une touche et le relâchement de celle-ci.</p><p id="r-510905" data-claire-element-id="510905">Cette partie du chapitre va donc être très rapide !</p><h2 id="r-appui-sur-une-touche-du-clavier" data-claire-element-id="510921">Appui sur une touche du clavier</h2><p id="r-510906" data-claire-element-id="510906">Regardons ce code plutôt utile :</p><pre id="r-510907" data-claire-element-id="510907"><code data-claire-semantic="cpp">// ... Dans la fonction principale :
while(app.IsOpened())
{
    Event event;
    while (app.GetEvent(event)) // Boucle des évènements en attente
    {
        switch (event.Type) // Type de l'évènement
        {
            case Event::Closed : // Bouton de fermeture
                app.Close();
                break;

            case Event::KeyPressed : // Appui sur une touche du clavier
            {
                switch (event.Key.Code) // La touche qui a été appuyée
                {
                    case Key::Escape : // Echap
                        app.Close();
                        break;

                    default :
                        break;
                }
            }
            break;

            default :
                break;
        }
    }
    // ...</code></pre><p id="r-510908" data-claire-element-id="510908">Dans cet exemple, on gère l'évènement de fermeture du programme et l'appui sur la touche Echap.</p><p id="r-510909" data-claire-element-id="510909">Vous avez sûrement remarqué qu'il y a deux &quot;switch&quot; imbriqués. En fait le premier regarde si l'évènement concerne le clavier, la souris, ou la fenêtre.</p><div id="r-510911" data-claire-element-id="510911" data-claire-semantic="question"><p id="r-510910" data-claire-element-id="510910">Pourquoi avoir utilisé deux switch pour gérer deux évènements seulement ?</p></div><p id="r-510912" data-claire-element-id="510912">Lorsqu'on développe une application, il faut toujours prévoir qu'il y aura sûrement des ajouts de fonctionnalités. Parfois il faut donc privilégier la lecture du code plutôt que ses performances.</p><p id="r-510913" data-claire-element-id="510913">Ensuite, regardons cette ligne :</p><pre id="r-510914" data-claire-element-id="510914"><code data-claire-semantic="cpp">switch (event.Key.Code)</code></pre><p id="r-510915" data-claire-element-id="510915">&quot;Key&quot; signifie touche (du clavier en l'occurrence). &quot;Code&quot; correspond lui aux touches disponibles : a, z, e, r, t, y etc..</p><p id="r-510916" data-claire-element-id="510916">Note : Pour savoir si les touches Alt, Control (Ctrl), et Shift sont appuyées nous ne passerons pas par le membre &quot;Code&quot; mais par :</p><pre id="r-510917" data-claire-element-id="510917"><code data-claire-semantic="cpp">if(event.Key.Alt)
{
    // ...</code></pre><p id="r-510918" data-claire-element-id="510918">Cette méthode permet de vérifier plus facilement si ces touches spéciales sont appuyées ou non.</p><p id="r-510919" data-claire-element-id="510919">Pour les autres, on il faut faire comme ça :</p><pre id="r-510920" data-claire-element-id="510920"><code data-claire-semantic="cpp">if(event.Key.Code == Key::A)
{
    // ...</code></pre><h2 id="r-relachement-des-touches" data-claire-element-id="510923">Relâchement des touches</h2><p id="r-510922" data-claire-element-id="510922">Il suffit juste de remplacer &quot;KeyPressed&quot; par &quot;KeyReleased&quot;.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
<span class="arrow"></span>
<span class="next">Un peu de théorie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
<span class="next">La souris</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lasouris"></a><h2>La souris</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
<span class="arrow"></span>
<span class="next">Le clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
<span class="next">Gestion avancée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510925" data-claire-element-id="510925">Voici désormais les types d'évènements que nous allons apprendre à gérer :</p><ul id="r-510932" data-claire-element-id="510932"><li id="r-510927" data-claire-element-id="510927"><p id="r-510926" data-claire-element-id="510926">Mouvement de la souris = MouseMoved ;</p></li><li id="r-510929" data-claire-element-id="510929"><p id="r-510928" data-claire-element-id="510928">Appui et relâchement d'un bouton = MouseButtonPressed, MouseButtonReleased ;</p></li><li id="r-510931" data-claire-element-id="510931"><p id="r-510930" data-claire-element-id="510930">Mouvement de la molette = MouseWheelMoved.</p></li></ul><h2 id="r-recuperer-la-position-de-la-souris" data-claire-element-id="510937">Récupérer la position de la souris</h2><p id="r-510933" data-claire-element-id="510933">On récupère les coordonnées ainsi :</p><pre id="r-510934" data-claire-element-id="510934"><code data-claire-semantic="cpp">// ... Dans la boucle des évènements

switch(event.Type) // Suivant le type de l'évènement en attente
{
    // ... 

    case Event::MouseMoved : // Mouvement de la souris
    {
        int MouseX = event.MouseMove.X;
        int MouseY = event.MouseMove.Y;
    }
    break;

    //...</code></pre><aside id="r-510936" data-claire-element-id="510936" data-claire-semantic="information"><p id="r-510935" data-claire-element-id="510935">Nous apprendrons dans la partie 2 une autre méthode, plus efficace, pour récupérer ces coordonnées.</p></aside><h2 id="r-appui-et-relachement-des-boutons" data-claire-element-id="510943">Appui et relâchement des boutons</h2><p id="r-510938" data-claire-element-id="510938">Le type d'évènement est MouseButtonPressed lorsqu'un bouton est appuyé et MouseButtonReleased lorsqu'il est relâché.</p><h3 id="r-recuperer-le-bouton-concernant-l-evenement" data-claire-element-id="510942">Récupérer le bouton concernant l'évènement</h3><p id="r-510939" data-claire-element-id="510939">La SFML propose une structure de données pour reconnaître le bouton sur lequel l'utilisateur a cliqué. Nous pouvons utiliser cette structure comme cela :</p><pre id="r-510940" data-claire-element-id="510940"><code data-claire-semantic="cpp">// Si l'évènement concerne un bouton de la souris
if(event.Type == Event::MouseButtonReleased || event.Type == Event::MouseButtonPressed ) 
{
    Mouse::Button button = event.MouseButton.Button;

    if (button == Mouse::Left) // Bouton gauche
    {
        cout&lt;&lt;&quot;L'évènement concerne le bouton gauche&quot;&lt;&lt;endl;
    }
    else if (button == Mouse::Middle) // Molette
    {
        cout&lt;&lt;&quot;L'évènement concerne le bouton de la molette&quot;&lt;&lt;endl;
    }
    else if(button == Mouse::Right)
    {
        cout&lt;&lt;&quot;L'évènement concerne le bouton droit&quot;&lt;&lt;endl;
    }
}</code></pre><p id="r-510941" data-claire-element-id="510941">Ceci affiche dans la console le bouton avec lequel l'utilisateur interagit.</p><h2 id="r-recuperer-le-roulement-de-la-molette" data-claire-element-id="510947">Récupérer le roulement de la molette</h2><pre id="r-510944" data-claire-element-id="510944"><code data-claire-semantic="cpp">// ... Dans la boucle des évènements

switch(event.Type)
{
    // ... 

    case MouseWheelMoved : 
        int wheelMove = event.MouseWheel.Delta;
        break;
    
    // ...</code></pre><aside id="r-510946" data-claire-element-id="510946" data-claire-semantic="warning"><p id="r-510945" data-claire-element-id="510945">Ce mouvement est positif si on tourne la molette vers l'avant, et négatif vers l'arrière.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
<span class="arrow"></span>
<span class="next">Le clavier</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
<span class="next">Gestion avancée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gestionavance"></a><h2>Gestion avancée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
<span class="arrow"></span>
<span class="next">La souris</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
<span class="next">(TP) Une balle rebondissante (2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510949" data-claire-element-id="510949">Dans les chapitres précédents, on a vu ce qu'est le <strong>polling</strong> : une file d'attente pour évènements. Dans cette partie on va étudier un concept plus avancé : récupérer les informations du clavier et de la souris à un instant T, ce qui permettra de <strong>gérer plusieurs évènements en même temps</strong>. Avec les méthodes précédentes, un délai existait entre chaque traitement des évènements. C'est le système d'exploitation qui impose ce délai. Par exemple, ouvrez un éditeur de texte (bloc notes ou autre) et laissez appuyée la touche &quot;a&quot; pendant quelques secondes. Vous remarquerez qu'il y a une attente entre la première écriture de &quot;a&quot; et les suivantes.</p><p id="r-510950" data-claire-element-id="510950">C'est la classe <strong>Input</strong> qui va nous permettre de savoir si une touche est appuyée ou non à un instant T. Input signifie &quot;entrée de données&quot;. On va donc récupérer les entrées, mais en temps réel !</p><h2 id="r-utilisation-de-la-classe-input" data-claire-element-id="510968">Utilisation de la classe Input</h2><p id="r-510951" data-claire-element-id="510951">La classe Input est rattachée à la fenêtre du programme, elle ne peut pas exister sans cette fenêtre.</p><pre id="r-510952" data-claire-element-id="510952"><code data-claire-semantic="cpp">const Input &amp; input = app.GetInput(); // référence constante</code></pre><aside id="r-510954" data-claire-element-id="510954" data-claire-semantic="warning"><p id="r-510953" data-claire-element-id="510953">Cette classe est non copiable et pour interdire cela, nous sommes obligés de récupérer une référence constante vers l'objet Input de notre fenêtre.</p></aside><h3 id="r-recuperer-les-evenements-du-clavier" data-claire-element-id="510962">Récupérer les évènements du clavier</h3><p id="r-510955" data-claire-element-id="510955"><strong>Exemple</strong> :</p><pre id="r-510956" data-claire-element-id="510956"><code data-claire-semantic="cpp">while(app.IsOpened()) // Boucle principale
{
    Event event;

    while(app.GetEvent(event)) // Boucle des évènements
    {
        switch(event.Type)
        {
            case Event::Closed : // Croix de fermeture
                app.Close();
                break;
                
            case Event::KeyPressed : // Appui sur une touche
            {
                switch(event.Key.Code)
                {
                    case Key::Escape : // Touche echap
                        app.Close();
                        break;

                    case sf::Key::F1 : // Touche F1
                        // Traitement de la touche F1
                        break;
                }
            }
            break;
        }
    }

    const Input &amp; input = app.GetInput(); // input : référence constante

    if(input.IsKeyDown(Key::Left)) // Flèche gauche appuyée
    {
        // Traitement de la flèche gauche
    }

    if(input.IsKeyDown(Key::Right)) // Flèche droite appuyée
    {
        // Traitement de la flèche droite
    }
 
    if(input.IsKeyDown(Key::Up)) // Flèche du haut appuyée
    {
        // Traitement de la flèche du haut
    }

    if(input.IsKeyDown(Key::Down)) // Flèche du bas appuyée
    {
        // Traitement de la flèche du bas
    }

    // ...
}</code></pre><p id="r-510957" data-claire-element-id="510957">On remarque ici plusieurs choses. Tout d'abord on traite les évènements classiques mais aussi les évènements en temps réel.</p><div id="r-510959" data-claire-element-id="510959" data-claire-semantic="question"><p id="r-510958" data-claire-element-id="510958">Pourquoi traiter les évènements classiques si on peut traiter les évènements en temps réel ?</p></div><p id="r-510960" data-claire-element-id="510960">Tout simplement parce que certains évènements ne nécessitent pas d'être traités en temps réel. Par exemple dans le code précédent les touches &quot;echap&quot; et &quot;F1&quot; sont traitées classiquement. Comme ces évènements ne concernent pas la fluidité du programme et qu'ils seront de toute façon traités, il n'y a aucune raison de les traiter en temps réel.</p><p id="r-510961" data-claire-element-id="510961">Par contre dans la partie utilisant la classe Input, on traite bien les flèches du clavier. Il n'y a plus de &quot;case&quot; mais des &quot;if&quot; : on veut connaître l'état global du clavier. Il n'y a plus 1 seul traitement par tour mais autant qu'on le souhaite. En fait à chaque fois que le programme reçoit un évènement, il met à jour l'état du clavier de l'objet input.</p><h3 id="r-recuperer-les-evenements-de-la-souris" data-claire-element-id="510967">Récupérer les évènements de la souris</h3><p id="r-510963" data-claire-element-id="510963">Les boutons de la souris :</p><pre id="r-510964" data-claire-element-id="510964"><code data-claire-semantic="cpp">if (input.IsMouseButtonDown(Mouse::Right) // Bouton droit appuyé
{
    // Traitement du bouton droit de la souris
}</code></pre><p id="r-510965" data-claire-element-id="510965">La position de la souris :</p><pre id="r-510966" data-claire-element-id="510966"><code data-claire-semantic="cpp">int mouseX = input.GetMouseX(); // Coordonnée X de la souris
int mouseY = input.GetMouseY(); // Coordonnée Y de la souris</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
<span class="arrow"></span>
<span class="next">La souris</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
<span class="next">(TP) Une balle rebondissante (2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPUneballerebondissante2"></a><h2>(TP) Une balle rebondissante (2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
<span class="arrow"></span>
<span class="next">Gestion avancée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">
<span class="next">Ajoutez du texte dans vos programmes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-510970" data-claire-element-id="510970">C'est parti pour améliorer le TP 1 ! Les deux barres qui étaient statiques seront maintenant contrôlées par le clavier.</p><p id="r-510971" data-claire-element-id="510971">Dans l'ancien TP, lorsque la balle touchait le bord gauche ou droit de l'écran elle repartait dans l'autre sens. Ici l'objectif c'est de faire un jeu &quot;1 VS 1&quot;. Le joueur gauche doit marquer à droite, et inversement. Il doit aussi éviter que la balle touche le mur de son côté, il doit donc la renvoyer chez l'adversaire avec l'aide de sa barre.</p><aside id="r-510973" data-claire-element-id="510973" data-claire-semantic="information"><p id="r-510972" data-claire-element-id="510972">Ce jeu, Pong, a été développé par Atari en 1972. C'est un des tout premiers et un des plus connus de l'époque. Vu qu'il est assez simple à réaliser, beaucoup de personnes ont commencé à programmer avec ce jeu !</p></aside><h2 id="r-cahier-des-charges-26" data-claire-element-id="510981">Cahier des charges</h2><ul id="r-510980" data-claire-element-id="510980"><li id="r-510975" data-claire-element-id="510975"><p id="r-510974" data-claire-element-id="510974">Lorsque la balle atteindra un côté de l'écran, elle se replacera au centre de l'écran. Le jeu redémarrera ensuite, après un appui sur la touche espace. Les deux joueurs doivent être prêts avant que la partie recommence : ils doivent pouvoir se replacer pendant que la partie est sur pause ;</p></li><li id="r-510977" data-claire-element-id="510977"><p id="r-510976" data-claire-element-id="510976">Les barres se situeront à 40 pixels des côtés de l'écran ;</p></li><li id="r-510979" data-claire-element-id="510979"><p id="r-510978" data-claire-element-id="510978">Les barres ne pourront pas sortir de l'écran. Il faudra donc les bloquer afin d'éviter qu'on ne les voit plus.</p></li></ul><h2 id="r-conseils-14" data-claire-element-id="510992">Conseils</h2><ul id="r-510990" data-claire-element-id="510990"><li id="r-510983" data-claire-element-id="510983"><p id="r-510982" data-claire-element-id="510982">Pour les mouvements de la barre 1 j'ai choisi les touches Z (monter) et S (descendre). Pour ceux de la deuxième barre, j'ai utilisé les flèches haut et bas pour monter et descendre</p></li><li id="r-510985" data-claire-element-id="510985"><p id="r-510984" data-claire-element-id="510984">La vitesse des barres doit être un peu supérieure à celle de la balle pour pouvoir la rattraper</p></li><li id="r-510987" data-claire-element-id="510987"><p id="r-510986" data-claire-element-id="510986">Profitez des avantages du C++ ! L'ancien code est assez maintenable pour que vous n'ayez pas trop de choses à changer</p></li><li id="r-510989" data-claire-element-id="510989"><p id="r-510988" data-claire-element-id="510988">Vérifiez à ce que votre code soit optimisé : ne testez pas tous les évènements possibles lorsque le jeu est sur pause, l'évènement &quot;appui sur la touche espace&quot; suffira.</p></li></ul><p id="r-510991" data-claire-element-id="510991">Bonne chance !</p><h2 id="r-correction-171" data-claire-element-id="511011">Correction</h2><aside id="r-510994" data-claire-element-id="510994" data-claire-semantic="information"><p id="r-510993" data-claire-element-id="510993">Il y aura toujours une meilleure conception possible. Si vous avez eu des difficultés, tentez de comprendre les choix de conception de ma correction.</p></aside><p id="r-510995" data-claire-element-id="510995"></p><div id="r-511010" data-claire-element-id="511010"><p id="r-510996" data-claire-element-id="510996"><em>Ball.hpp</em></p><pre id="r-510997" data-claire-element-id="510997"><code data-claire-semantic="cpp">#ifndef BALLE_H
#define BALLE_H

#include &lt;SFML/Graphics.hpp&gt;

class Ball
{
public :

    Ball(const std::string &amp; filePath, sf::IntRect subRect, sf::Vector2f position, int size, int speed);

    void MoveX();
    void MoveY();
    void ReverseDX(); // Inverse le mouvement en X
    void ReverseDY(); // Inverse le mouvement en Y
    void SetPosition(sf::Vector2f position);

    sf::Sprite GetSprite();
    sf::IntRect GetBoundingBox() const; // Retourne la boîte englobante de l'image de la balle

private :

    sf::Image myImage;
    sf::Sprite mySprite;

    int mySize; // Taille
    int myDX; // Déplacement en X
    int myDY; // Déplacement en Y
    int mySpeed; // Vitesse
};

#endif</code></pre><p id="r-510998" data-claire-element-id="510998"><em>Ball.cpp</em></p><pre id="r-510999" data-claire-element-id="510999"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
#include &quot;Ball.hpp&quot;

using namespace std;
using namespace sf;

Ball::Ball(const string &amp;filePath, IntRect subRect, Vector2f position, int size, int speed)
    : mySize(size), myDX(speed), myDY(speed), mySpeed(speed) 
{
    if(!myImage.LoadFromFile(filePath)) // Si le chargement a échoué
    {
        cerr&lt;&lt;&quot;Error during import &quot;&lt;&lt;filePath&lt;&lt;endl; // On récupère le chemin du fichier
    }
    else // Si le chargement de l'image a réussi
    {
        myImage.CreateMaskFromColor(Color::White); // Masque de transparence
        mySprite.SetImage(myImage);
        mySprite.SetSubRect(subRect); // Sous rectangle
        mySprite.SetPosition(position);
    }
}

void Ball::MoveX()
{
    mySprite.Move(myDX, 0);
}

void Ball::MoveY()
{
    mySprite.Move(0, myDY);
}

void Ball::ReverseDX()
{
    myDX *= -1; // Inversement du mouvement en X
}

void Ball::ReverseDY()
{
    myDY *= -1; // Inversement du mouvement en Y
}

void Ball::SetPosition(Vector2f position)
{
    mySprite.SetPosition(position);
}

Sprite Ball::GetSprite()
{
    return mySprite;
}

IntRect Ball::GetBoundingBox() const
{
    IntRect boundingBox;
    boundingBox.Left = (int)mySprite.GetPosition().x;
    boundingBox.Right = boundingBox.Left + mySize / 2;
    boundingBox.Top = (int)mySprite.GetPosition().y;
    boundingBox.Bottom = boundingBox.Top + mySize / 2;

    return boundingBox;
}</code></pre><p id="r-511000" data-claire-element-id="511000"><em>Bar.hpp</em></p><pre id="r-511001" data-claire-element-id="511001"><code data-claire-semantic="cpp">#ifndef BAR_H
#define BAR_H

#include &lt;SFML/Graphics.hpp&gt;

class Bar
{
public :

    Bar(const std::string &amp; filePath, sf::IntRect subRect, sf::Vector2f position, int width, int height, int speed);

    enum Direction {Top, Bottom};

    void Move(Direction direction);

    sf::Sprite GetSprite();
    sf::IntRect GetBoundingBox() const; // Retourne la boîte englobante de l'image de la barre

private :

    sf::Image myImage;
    sf::Sprite mySprite;

    int mySpeed;
};

#endif</code></pre><p id="r-511002" data-claire-element-id="511002"><em>Bar.cpp</em></p><pre id="r-511003" data-claire-element-id="511003"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
#include &quot;Bar.hpp&quot;

using namespace std;
using namespace sf;

Bar::Bar(const string &amp;filePath, IntRect subRect, Vector2f position, int speed)
: mySpeed(speed)
{
    if (!myImage.LoadFromFile(filePath)) // Si le chargement a échoué
    {
        cerr&lt;&lt;&quot;Error during import &quot;&lt;&lt;filePath&lt;&lt;endl;
    }
    else // Si le chargement de l'image a réussi
    {
        myImage.CreateMaskFromColor(Color::White); // Masque de couleur
        mySprite.SetImage(myImage);
        mySprite.SetSubRect(subRect); // Sous rectangle

        mySprite.SetPosition(position);
    }
}

Sprite Bar::GetSprite()
{
    return mySprite;
}

IntRect Bar::GetBoundingBox() const
{
    IntRect boundingBox;
    boundingBox.Left = (int)mySprite.GetPosition().x;
    boundingBox.Right = boundingBox.Left + (int)mySprite.GetSize().x;
    boundingBox.Top = (int)mySprite.GetPosition().y;
    boundingBox.Bottom = boundingBox.Top + (int)mySprite.GetSize().y;

    return boundingBox;
}

void Bar::Move(Direction direction)
{
    if(direction == Top)
    {
        mySprite.Move(0, - mySpeed);
    }
    else // direction == Bottom
    {
        mySprite.Move(0, mySpeed);
    }
}</code></pre><p id="r-511004" data-claire-element-id="511004"><em>CollisionManager.hpp</em></p><pre id="r-511005" data-claire-element-id="511005"><code data-claire-semantic="cpp">#ifndef COLLISIONMANAGER_H
#define COLLISIONMANAGER_H

#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Bar.hpp&quot;
#include &quot;Ball.hpp&quot;

class CollisionManager
{
public :

    CollisionManager(Ball &amp; ball, Bar &amp; bar1, Bar &amp; bar2, sf::Vector2f windowSize);

    void ManageCollisionsX(bool &amp; pause);
    void ManageCollisionsY();
    void LockBars();

private :

    Ball &amp; myBall;
    Bar &amp; myBar1, &amp; myBar2;

    sf::Vector2f myWindowSize; // Taille de la fenêtre
};

bool Collision(const sf::IntRect &amp; a, const sf::IntRect &amp; b); // Collisions entre deux rectangles

#endif</code></pre><p id="r-511006" data-claire-element-id="511006"><em>CollisionManager.cpp</em></p><pre id="r-511007" data-claire-element-id="511007"><code data-claire-semantic="cpp">#include &quot;CollisionManager.hpp&quot;

using namespace std;
using namespace sf;

bool Collision(const IntRect &amp; a, const IntRect &amp; b)
{
    if (a.Bottom &lt;= b.Top)
        return false;
    if (a.Top &gt;= b.Bottom)
        return false;
    if (a.Right &lt;= b.Left)
        return false;
    if (a.Left &gt;= b.Right)
        return false;

    return true;
}

CollisionManager::CollisionManager(Ball &amp; ball, Bar &amp; bar1, Bar &amp; bar2, Vector2f windowSize)
: myBall(ball), myBar1(bar1), myBar2(bar2), myWindowSize(windowSize)
{}

void CollisionManager::ManageCollisionsX(bool &amp; pause)
{
    // Récupération de la boîte englobante de la balle
    IntRect ballRect = myBall.GetBoundingBox();

    // Récupération des boîtes englobantes des barres
    IntRect bar1Rect, bar2Rect;
    bar1Rect = myBar1.GetBoundingBox();
    bar2Rect = myBar2.GetBoundingBox();

    // Test des Collisions en X
    if(Collision(ballRect, bar1Rect) || Collision(ballRect, bar2Rect))
    {
        // On annule le mouvement de la balle et on lui inverse son mouvement en X
        myBall.ReverseDX();
        myBall.MoveX();
    }

    else if(ballRect.Left &lt; 0 || ballRect.Right &gt; myWindowSize.x )
    {
        pause = true;
    }
}

void CollisionManager::ManageCollisionsY()
{
    // Récupération de la boîte englobante de la ball
    IntRect ballRect = myBall.GetBoundingBox();

    // Récupération des boîtes englobantes des barres
    IntRect bar1Rect, bar2Rect;
    bar1Rect = myBar1.GetBoundingBox();
    bar2Rect = myBar2.GetBoundingBox();

    // Test des Collisions en Y
    if(Collision(ballRect, bar1Rect) || Collision(ballRect, bar2Rect) || ballRect.Top &lt; 0 || ballRect.Bottom &gt; myWindowSize.y )
    {
        // On annule le mouvement de la ball et on lui inverse son mouvement en Y
        myBall.ReverseDY();
        myBall.MoveY();
    }
}

void CollisionManager::LockBars()
{
    // Récupération des boîtes englobantes des barres
    IntRect bar1Rect, bar2Rect;
    bar1Rect = myBar1.GetBoundingBox();
    bar2Rect = myBar2.GetBoundingBox();

    // Bloquage de la barre 1
    if(bar1Rect.Top &lt; 0)
    {
        myBar1.Move(Bar::Bottom);
    }
    else if(bar1Rect.Bottom &gt; myWindowSize.y)
    {
        myBar1.Move(Bar::Top);
    }

    // Bloquage de la barre 2
    if(bar2Rect.Top &lt; 0)
    {
        myBar2.Move(Bar::Bottom);
    }
    else if(bar2Rect.Bottom &gt; myWindowSize.y)
    {
        myBar2.Move(Bar::Top);
    }
}</code></pre><p id="r-511008" data-claire-element-id="511008"><em>main.cpp</em></p><pre id="r-511009" data-claire-element-id="511009"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Bar.hpp&quot;
#include &quot;Ball.hpp&quot;
#include &quot;CollisionManager.hpp&quot;

using namespace std;
using namespace sf;

// Constantes

// Chemin de la feuille de sprites
const string SPRITES_FILE_PATH = &quot;graphics.bmp&quot;;

// Taille de l'écran
const Vector2f WINDOW_SIZE(800,600);

// Taille de la balle
const int BALL_SIZE = 12;

// Vitesse de la balle
const int BALL_SPEED = 4;

// Vitesse des barres
const int BAR_SPEED = 6;

// Balle initialement centrée en haut
const Vector2f BALL_POS_INIT(WINDOW_SIZE.x / 2 - BALL_SIZE / 2, WINDOW_SIZE.y / 2 - BALL_SIZE / 2);

// Taille des barres
const int BAR_WIDTH = 12;
const int BAR_HEIGHT = 45;

// Barre 1 à gauche, barre 2 à droite
const Vector2f BAR1_POS_INIT(40 - BAR_WIDTH / 2, WINDOW_SIZE.y / 2 - BAR_HEIGHT / 2);
const Vector2f BAR2_POS_INIT(WINDOW_SIZE.x - 40 - BAR_WIDTH / 2, WINDOW_SIZE.y / 2 - BAR_HEIGHT / 2);

// Sous rectangles dans la feuille de sprites (positions obtenues avec un logiciel de dessin)
const IntRect BALL_SUBRECT(28,0,40,12);
const IntRect BAR_1_SUBRECT(0,0,12,45);
const IntRect BAR_2_SUBRECT(14,0,26,45);

int main()
{
    bool pause = false;

    // Fenêtre
    RenderWindow app(VideoMode((int)WINDOW_SIZE.x, (int)WINDOW_SIZE.y, 32), &quot;TP Ball rebondissante&quot;);

    // Frames Per Second (FPS)
    app.SetFramerateLimit(60); // limite la fenêtre à 60 images par seconde

    // Balle
    Ball ball(SPRITES_FILE_PATH, BALL_SUBRECT, BALL_POS_INIT, BALL_SIZE, BALL_SPEED);

    // Barres
    Bar bar1(SPRITES_FILE_PATH, BAR_1_SUBRECT, BAR1_POS_INIT, BAR_WIDTH, BAR_HEIGHT, BAR_SPEED);
    Bar bar2(SPRITES_FILE_PATH, BAR_2_SUBRECT, BAR2_POS_INIT, BAR_WIDTH, BAR_HEIGHT, BAR_SPEED);

    // Traitement des Collisions entre la balle, les deux barres et les bords de l'écran
    CollisionManager colManager(ball, bar1, bar2, WINDOW_SIZE);

    // Fond d'écran
    Image image;
    Sprite background;

    if(!image.LoadFromFile(&quot;background.bmp&quot;))
    {
        cerr&lt;&lt;&quot;Erreur durement le chargement du fond d'ecran&quot;&lt;&lt;endl;
        return EXIT_FAILURE; // On ferme le programme
    }
    else
    {
        background.SetImage(image);
    }

    while (app.IsOpened()) // Boucle principale
    {
        Event event;

        if(pause) // Si le jeu est en pause
        {
            while(app.GetEvent(event)) // Boucle des évènements de la partie pause
            {
                if(event.Type == Event::KeyPressed &amp;&amp; event.Key.Code == Key::Space) // Appui sur la touche espace
                {
                    pause = false; // On réactive le jeu
                }
            }
        }
        else // Si le jeu n'est pas en pause
        {
            while (app.GetEvent(event)) // Boucle des évènements du jeu
            {
                switch (event.Type)
                {
                    case Event::Closed : // Croix de fermeture du programme
                        app.Close();
                        break;

                    case Event::KeyPressed : // Appui sur une touche
                    {
                        switch(event.Key.Code)
                        {
                            case Key::Escape : // Touche echap
                                app.Close();
                                break;

                            default :
                                break;
                        }
                    }
                    break;

                    default :
                        break;
                }
            }
        }

        // Mouvement des barres

        const Input &amp; input = app.GetInput(); // Référence constante

        if(input.IsKeyDown(Key::Z))
        {
            bar1.Move(Bar::Top);
        }

        if(input.IsKeyDown(Key::S))
        {
            bar1.Move(Bar::Bottom);
        }

        if(input.IsKeyDown(Key::Up))
        {
            bar2.Move(Bar::Top);
        }

        if(input.IsKeyDown(Key::Down))
        {
            bar2.Move(Bar::Bottom);
        }

        // Bloquage des barres
        colManager.LockBars();

        // Mouvement de la balle et Collisions

        // Mouvement en X
        ball.MoveX();

        // Collisions en X
        colManager.ManageCollisionsX(pause);

        if(pause) // On remets la balle à sa position initiale dès qu'on mets le jeu en pause
        {
            ball.SetPosition(BALL_POS_INIT);
        }

        // Mouvement en Y
        ball.MoveY();

        // Collisions en Y
        colManager.ManageCollisionsY();

        // Affichages
        app.Clear();

        app.Draw(background);
        app.Draw(ball.GetSprite());
        app.Draw(bar1.GetSprite());
        app.Draw(bar2.GetSprite());

        app.Display();
    }

    return EXIT_SUCCESS;
}</code></pre></div><h2 id="r-explications-43" data-claire-element-id="511016">Explications</h2><p id="r-511012" data-claire-element-id="511012">Pour bloquer les barres, il fallait utiliser à peu près le même principe que pour les Collisions de la balle : lorsque les barres sortent de l'écran, on les remet immédiatement à leurs dernières positions, ce qui donne l'impression qu'elles ne sont jamais sorties de la fenêtre.</p><p id="r-511013" data-claire-element-id="511013">Il fallait ajouter un booléen pour bloquer le jeu après un but, jusqu'à ce qu'un joueur appui sur la touche espace. <br/> Ce booléen est passé en paramètre de la méthode ManageCollisionsX. Comme cette méthode s'occupe de gérer les Collisions de notre balle en X, et donc des côtés de l'écran, c'est elle qui reconnaît le moment où le jeu doit être mis en pause.</p><p id="r-511014" data-claire-element-id="511014">On devait aussi ajouter la méthode SetPosition à la classe Ball, car on devait réinitialiser la position de la balle au centre de l'écran lorsqu'il y avait un but.</p><p id="r-511015" data-claire-element-id="511015">Cette partie est assez importante donc si vous l'avez bien compris, c'est pas mal !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
<span class="arrow"></span>
<span class="next">Gestion avancée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">
<span class="next">Ajoutez du texte dans vos programmes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajoutezdutextedansvosprogrammes"></a><h2>Ajoutez du texte dans vos programmes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
<span class="arrow"></span>
<span class="next">(TP) Une balle rebondissante (2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
<span class="next">Les polices et fontes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511019" data-claire-element-id="511019">Dans cette partie vous allez apprendre à charger des textes avec des styles personnalisés, les afficher et les modifier !</p>
</div><a name="Lespolicesetfontes"></a><h2>Les polices et fontes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">
<span class="arrow"></span>
<span class="next">Ajoutez du texte dans vos programmes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
<span class="next">Afficher du texte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511020" data-claire-element-id="511020"><cite>Citation : Wikipédia</cite></p><blockquote id="r-511022" data-claire-element-id="511022"><p id="r-511021" data-claire-element-id="511021">Une fonte de caractères est un ensemble de glyphes, c’est-à-dire de représentations visuelles de caractères, d’une même police d’écriture, de même style, corps et graisse. Le terme « fonte » vient du fait que les premières fontes de caractères étaient faites d’un alliage de plomb et d’antimoine fondu afin de reproduire plusieurs caractères identiques à partir d’un moule unique.</p></blockquote><div id="r-511024" data-claire-element-id="511024" data-claire-semantic="question"><p id="r-511023" data-claire-element-id="511023">Après ces détails, quel est le rapport avec l'informatique ?</p></div><p id="r-511025" data-claire-element-id="511025">Les fontes sont stockées dans des fichiers, il faut donc les trouver et les charger.</p><h2 id="r-trouver-des-fontes" data-claire-element-id="511043">Trouver des fontes</h2><p id="r-511026" data-claire-element-id="511026">Sur la capture d'écran suivante, vous apercevrez le nom de la fonte choisie par le programme :</p><figure id="r-511028" data-claire-element-id="511029"><img id="r-511027" data-claire-element-id="511027" src="medias/uploads.siteduzero.com_files_261001_262000_261903.png" alt="Image utilisateur"/></figure><p id="r-511030" data-claire-element-id="511030">Ces fontes sont <strong>commerciales</strong>, elles sont pour la plupart payantes ou inaccessibles en dehors de packs, de systèmes d'exploitation, etc. Toutes les fontes que vos éditeurs utilisent se trouvent donc quelque part sur votre disque dur.</p><p id="r-511031" data-claire-element-id="511031">Si vous voulez trouvez des fontes gratuites et originales, je vous conseille les sites suivants :</p><p id="r-511032" data-claire-element-id="511032">Fontes fantaisistes :<br/><a href="http://www.dafont.com/fr/">DaFont (Fr)</a></p><figure id="r-511034" data-claire-element-id="511035"><img id="r-511033" data-claire-element-id="511033" src="medias/uploads.siteduzero.com_files_261001_262000_261749.png" alt="Image utilisateur"/></figure><p id="r-511036" data-claire-element-id="511036">Fontes design :<br/><a href="http://www.smashingmagazine.com/tag/typography/">Smashing Magazine</a></p><figure id="r-511038" data-claire-element-id="511039"><img id="r-511037" data-claire-element-id="511037" src="medias/uploads.siteduzero.com_files_261001_262000_261748.png" alt="Image utilisateur"/></figure><aside id="r-511041" data-claire-element-id="511041" data-claire-semantic="information"><p id="r-511040" data-claire-element-id="511040">La couleur des fontes n'est pas importante, vous pouvez modifier celle-ci avec la SFML !</p></aside><p id="r-511042" data-claire-element-id="511042">On peut donc utiliser ces fontes gratuitement pour des projets.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">
<span class="arrow"></span>
<span class="next">Ajoutez du texte dans vos programmes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
<span class="next">Afficher du texte</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Afficherdutexte"></a><h2>Afficher du texte</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
<span class="arrow"></span>
<span class="next">Les polices et fontes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
<span class="next">(TP) Splash screen</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-la-sfml-et-les-fontes" data-claire-element-id="511047">La SFML et les fontes</h2><p id="r-511045" data-claire-element-id="511045">La fonction pour charger les fichiers de fontes est la même que celle des images :</p><pre id="r-511046" data-claire-element-id="511046"><code data-claire-semantic="cpp">Font font;

// Chargement à partir d'un fichier sur le disque
if(!font.LoadFromFile(&quot;Arial.ttf&quot;))
{
    // Traitement de l'erreur
}</code></pre><h2 id="r-creer-un-texte" data-claire-element-id="511059">Créer un texte</h2><p id="r-511048" data-claire-element-id="511048">On va maintenant instancier la classe String, c'est-à-dire créer un objet de cette classe. C'est cette classe qui permet d'afficher, de redimensionner, de déplacer et de faire plein d'autres manipulations sur les textes.</p><p id="r-511049" data-claire-element-id="511049">Pour créer un texte affichable, il faut faire comme ça :</p><pre id="r-511050" data-claire-element-id="511050"><code data-claire-semantic="cpp">String text(&quot;Salut les zéros !&quot;, font, 20); // Les paramètres sont le texte à afficher, la fonte, et la taille du texte</code></pre><aside id="r-511052" data-claire-element-id="511052" data-claire-semantic="warning"><p id="r-511051" data-claire-element-id="511051">Il ne faut pas confondre la classe String de la SFML et la classe std::string. String est une image, un objet affichable et ne possède pas de méthodes pour manipuler les chaines de caractères.</p></aside><p id="r-511053" data-claire-element-id="511053">Si on veut paramétrer un texte après avoir déclaré l'objet, on peut aussi faire comme ça :</p><pre id="r-511054" data-claire-element-id="511054"><code data-claire-semantic="cpp">String text;

text.SetText(&quot;Salut les zéros !&quot;); // Texte
text.SetFont(font); // Fonte
text.SetSize(20); // Taille de police</code></pre><aside id="r-511056" data-claire-element-id="511056" data-claire-semantic="information"><p id="r-511055" data-claire-element-id="511055"><strong>Note</strong> : Il est préférable de charger les polices avec une taille au moins aussi élevée que celle des textes. Sinon, les caractères seront redimensionnés et seront plus flous sur les contours. Évitez aussi d'utiliser des tailles de fontes trop grandes quand vous affichez des textes très petits, car les caractères seront trop redimensionnés et leur qualité dégradée.</p></aside><p id="r-511057" data-claire-element-id="511057">D'ailleurs comme je le disais, un objet de la classe String a des méthodes en commun avec les images :</p><pre id="r-511058" data-claire-element-id="511058"><code data-claire-semantic="cpp">text.SetPosition(vector2f(x, y)); // Positionnement
text.Move(Vector2f(x, y)); // Translation
text.Scale(Vector2f(x, y)); // Redimensionnement
text.SetColor(Color(r, g, b, a)); // Coloration
text.Rotate(degré); // Rotation</code></pre><h2 id="r-afficher-du-texte-9" data-claire-element-id="511062">Afficher du texte</h2><p id="r-511060" data-claire-element-id="511060">Pour afficher un texte une fois qu'il est paramétré :</p><pre id="r-511061" data-claire-element-id="511061"><code data-claire-semantic="cpp">app.Draw(text);</code></pre><h2 id="r-operations-courantes-sur-les-textes" data-claire-element-id="511088">Opérations courantes sur les textes</h2><h3 id="r-donner-un-style-a-la-police-gras-italique-souligne" data-claire-element-id="511078">Donner un style à la police (gras, italique, souligné)</h3><p id="r-511063" data-claire-element-id="511063">Il y a différents styles :</p><ul id="r-511072" data-claire-element-id="511072"><li id="r-511065" data-claire-element-id="511065"><p id="r-511064" data-claire-element-id="511064">String::Bold (gras) ;</p></li><li id="r-511067" data-claire-element-id="511067"><p id="r-511066" data-claire-element-id="511066">String::Italic (italique) ;</p></li><li id="r-511069" data-claire-element-id="511069"><p id="r-511068" data-claire-element-id="511068">String::Underlined (souligné) ;</p></li><li id="r-511071" data-claire-element-id="511071"><p id="r-511070" data-claire-element-id="511070">String::Regular (normal, par défaut).</p></li></ul><p id="r-511073" data-claire-element-id="511073">Pour appliquer un style à un texte, il faut utiliser cette fonction :</p><pre id="r-511074" data-claire-element-id="511074"><code data-claire-semantic="cpp">text.SetStyle(String::Regular); // Mode par défaut</code></pre><p id="r-511075" data-claire-element-id="511075">On peut aussi combiner les styles avec la technique suivante (comme pour les styles de fenêtre ) :</p><pre id="r-511076" data-claire-element-id="511076"><code data-claire-semantic="cpp">text.SetStyle(sf::String::Bold | sf::String::Italic | sf::String::Underlined);</code></pre><p id="r-511077" data-claire-element-id="511077">Le texte sera gras, italique et souligné.</p><h3 id="r-recuperer-la-taille-des-caracteres" data-claire-element-id="511081">Récupérer la taille des caractères</h3><p id="r-511079" data-claire-element-id="511079">Pour récupérer la taille qu'on a donné au texte (et pas à la fonte !) :</p><pre id="r-511080" data-claire-element-id="511080"><code data-claire-semantic="cpp">int taille = text.GetSize(); // Taille de la police</code></pre><h3 id="r-recuperer-la-taille-d-un-texte-largeur-hauteur" data-claire-element-id="511084">Récupérer la taille d'un texte (largeur, hauteur)</h3><p id="r-511082" data-claire-element-id="511082">Il faut premièrement récupérer le rectangle englobant le texte et ensuite accéder à ses attributs :</p><pre id="r-511083" data-claire-element-id="511083"><code data-claire-semantic="cpp">int largeurTexte = text.GetRect().GetWidth(); // Largeur du texte
int hauteurTexte = text.GetRect().GetHeight(); // Hauteur du texte</code></pre><h3 id="r-recuperer-la-position-d-un-caractere-sur-l-ecran" data-claire-element-id="511087">Récupérer la position d'un caractère sur l'écran</h3><p id="r-511085" data-claire-element-id="511085">Le code suivant donne la position (de type Vector2f) du quatrième caractère du texte à l'écran :</p><pre id="r-511086" data-claire-element-id="511086"><code data-claire-semantic="cpp">Vector2f Position = text.GetCharacterPos(4); // Position du quatrième caractère</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
<span class="arrow"></span>
<span class="next">Les polices et fontes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
<span class="next">(TP) Splash screen</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPSplashscreen"></a><h2>(TP) Splash screen</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
<span class="arrow"></span>
<span class="next">Afficher du texte</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">
<span class="next">La gestion du temps</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511090" data-claire-element-id="511090">Dans cette partie, on va voir comment réaliser un &quot;splash screen&quot;, qui est une fenêtre d'attente au début d'un programme. Ça peut servir pour n'importe quel programme et ça va vous entrainer pour gérer les textes !</p><h2 id="r-cahier-des-charges-27" data-claire-element-id="511102">Cahier des charges</h2><ul id="r-511101" data-claire-element-id="511101"><li id="r-511092" data-claire-element-id="511092"><p id="r-511091" data-claire-element-id="511091">Notre fenêtre aura une particularité : elle n'aura pas de bordure</p></li><li id="r-511094" data-claire-element-id="511094"><p id="r-511093" data-claire-element-id="511093">Un texte devra se former au milieu de la fenêtre. Ce texte présentera par exemple votre nom ou le nom de votre application</p></li><li id="r-511096" data-claire-element-id="511096"><p id="r-511095" data-claire-element-id="511095">Quatre textes devront venir des quatre côtés de l'écran, et viendront se superposer au milieu de celui-ci pour former le texte évoqué juste avant;</p></li><li id="r-511098" data-claire-element-id="511098"><p id="r-511097" data-claire-element-id="511097">Ces quatre textes devront être transparents et en se superposant, le texte aura une couleur opaque (non-transparente).</p></li><li id="r-511100" data-claire-element-id="511100"><p id="r-511099" data-claire-element-id="511099">Le but de ce menu est d'être maintenable : vous devez pouvoir l'utiliser dans n'importe quel projet SFML.</p></li></ul><h2 id="r-conseils-15" data-claire-element-id="511108">Conseils</h2><p id="r-511103" data-claire-element-id="511103">Avant de se lancer de le code, il faut souvent réfléchir un bon moment en s'aidant par exemple d'une feuille et d'un crayon. Ça permet d'éviter pas mal d'erreurs et d'être sur de la méthode choisie.</p><p id="r-511104" data-claire-element-id="511104">Pour le fond d'écran j'ai choisi simplement du noir, mais vous faites comme vous voulez !</p><aside id="r-511106" data-claire-element-id="511106" data-claire-semantic="warning"><p id="r-511105" data-claire-element-id="511105">Vérifiez bien que le texte peut atteindre la bonne position : si cette position contient une coordonnée décimale, et que la position du texte est toujours un entier, ce texte n'atteindra jamais la bonne position! Trouvez donc une solution pour éviter ce problème.</p></aside><p id="r-511107" data-claire-element-id="511107">Lorsque tous les textes seront centrés, laissez un peu de temps pour que la fenêtre ne disparaisse pas directement.</p><h2 id="r-correction-172" data-claire-element-id="511115">Correction</h2><p id="r-511109" data-claire-element-id="511109"><em>DynamicMenu.hpp</em></p><pre id="r-511110" data-claire-element-id="511110"><code data-claire-semantic="cpp">#ifndef DYNAMIC_MENU
#define DYNAMIC_MENU

#include &lt;SFML/Graphics.hpp&gt;

class DynamicMenu
{

public:
    enum Place{GAUCHE, HAUT, DROITE, BAS};

    // Constructeur
    DynamicMenu();

    // Lance le menu
    void Run();

private:

    static const int MENU_WIDTH=300; // Largeur du menu
    static const int MENU_HEIGHT=300; // Hauteur du menu
    static const int NB_TEXTS=4; // Nombre de textes
    static const int FONT_SIZE=14; // Taille de la fonte

    sf::RenderWindow myWindow;

    // Texte
    sf::String myText;
    sf::Font myFont;

    // Les positions des quatre textes
    sf::Vector2f myTextPositions[NB_TEXTS];

    // La position finale que doivent avoir les quatre textes
    sf::Vector2f centerForTexts;

    bool AllTextsCentred() const;
    bool IsCentred(const sf::Vector2f &amp;position) const;
};

#endif</code></pre><p id="r-511111" data-claire-element-id="511111"><em>DynamicMenu.cpp</em></p><pre id="r-511112" data-claire-element-id="511112"><code data-claire-semantic="cpp">#include &lt;iostream&gt;
#include &quot;DynamicMenu.hpp&quot;

using namespace sf;
using namespace std;

DynamicMenu::DynamicMenu()
    :myWindow(VideoMode(MENU_WIDTH, MENU_HEIGHT, 32), &quot;Mon menu dynamique&quot;, Style::None)
{
    myWindow.SetFramerateLimit(60);

    // Chargement de la fonte
    if (!myFont.LoadFromFile(&quot;Ressources/Fonts/intro.ttf&quot;,FONT_SIZE))
    {
        cerr&lt;&lt;&quot;ERROR when loading dynamicMenu font file&quot;&lt;&lt;endl;
    }
    else
    {
        myText.SetText(&quot;Les textes avec la SFML&quot;);
        myText.SetFont(myFont);
        myText.SetSize(FONT_SIZE);
        myText.SetColor(Color(255,255,255,120));

        // Positions initiales des quatre textes
        myTextPositions[GAUCHE].x = (int)(0 - myText.GetRect().GetWidth());
        myTextPositions[GAUCHE].y = (int)(MENU_HEIGHT/2 - FONT_SIZE/2);

        myTextPositions[HAUT].x = (int)(MENU_WIDTH/2 - myText.GetRect().GetWidth()/2);
        myTextPositions[HAUT].y = 0;

        myTextPositions[DROITE].x = (int)(MENU_WIDTH);
        myTextPositions[DROITE].y = (int)(MENU_HEIGHT/2 - FONT_SIZE/2);

        myTextPositions[BAS].x = (int)(MENU_WIDTH/2 - myText.GetRect().GetWidth()/2);
        myTextPositions[BAS].y = (int)(MENU_HEIGHT);

        // Position centrale à atteindre
        centerForTexts.x = (int)(MENU_WIDTH/2 - myText.GetRect().GetWidth()/2);
        centerForTexts.y = (int)(MENU_HEIGHT/2 - FONT_SIZE/2);
    }
}

void
DynamicMenu::Run()
{
    bool quit = AllTextsCentred();
    // Tant que tous les textes ne sont pas centrés
    while (!quit)
    {
        if (myWindow.IsOpened())
        {
            // Gestion des évènements
            Event event;
            while (myWindow.GetEvent(event))
            {
                switch (event.Type)
                {
                    case Event::KeyPressed: // Touche Clavier :
                    {
                        switch (event.Key.Code)
                        {
                            case Key::Escape: // Echap
                            {
                                quit = true;
                            }
                            break;

                            default:
                                break;
                        }
                    }
                    break;

                    default:
                        break;
                }
            }

            // Gestion du positionnement des textes

            // Texte à gauche
            if(!IsCentred(myTextPositions[GAUCHE]))
            {
                myTextPositions[GAUCHE].x += 0.5f;
            }

            // Texte en haut
            if(!IsCentred(myTextPositions[HAUT]))
            {
                myTextPositions[HAUT].y += 0.5;
            }

            // Texte à droite
            if(!IsCentred(myTextPositions[DROITE]))
            {
                myTextPositions[DROITE].x -= 0.5;
            }

            // Texte en bas
            if(!IsCentred(myTextPositions[BAS]))
            {
                myTextPositions[BAS].y -= 0.5;
            }

            // Affichages

            // Remplissage de l'écran en couleur noir
            myWindow.Clear();

            for(int i=0; i&lt;NB_TEXTS; i++) {
                myText.SetPosition(myTextPositions[i]);
                myWindow.Draw(myText);
            }

            myWindow.Display();

            quit = AllTextsCentred();
        }
    }

    sf::Sleep(2.0f);
    myWindow.Close();
}

bool
DynamicMenu::AllTextsCentred() const
{
    int i=0;
    bool textsCentred = true;

    while(i&lt;NB_TEXTS &amp;&amp; textsCentred==true)
    {
        if(!IsCentred(myTextPositions[i]))
        {
            textsCentred = false;
        }
        i++;
    }

    return textsCentred;
}

bool
DynamicMenu::IsCentred(const Vector2f &amp;position) const
{
    if(position == centerForTexts)
    {
        return true;
    }
    else
    {
        return false;
    }
}</code></pre><p id="r-511113" data-claire-element-id="511113"><em>main.cpp</em></p><pre id="r-511114" data-claire-element-id="511114"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;SFML/Graphics.hpp&gt;
#include &quot;DynamicMenu.hpp&quot;

int main()
{
    DynamicMenu dynamicMenu;
    dynamicMenu.Run();
    
    return EXIT_SUCCESS;
}</code></pre><h2 id="r-explications-44" data-claire-element-id="511135">Explications</h2><p id="r-511116" data-claire-element-id="511116">Tout d'abord il ne faut pas stocker quatre textes uniquement pour leurs positions différentes, un seul suffit.</p><aside id="r-511118" data-claire-element-id="511118" data-claire-semantic="information"><p id="r-511117" data-claire-element-id="511117">On aurait pu avoir quatre textes différents si par exemple chaque texte avait sa propre couleur.</p></aside><p id="r-511119" data-claire-element-id="511119">Comme je le disais au début, la position à atteindre risque de posséder des coordonnées décimales. La meilleure solution est je pense, de convertir les coordonnées décimales possibles en entiers.</p><div id="r-511121" data-claire-element-id="511121" data-claire-semantic="question"><p id="r-511120" data-claire-element-id="511120">Comment la position peut elle contenir des décimales ?</p></div><p id="r-511122" data-claire-element-id="511122">Vu qu'on divise deux nombres entiers le résultat peu être décimal. Il faut donc &quot;caster&quot; le résultat des divisions avec l'opérateur de transtypage &quot;(int)&quot; les nombres flottants en entiers.</p><aside id="r-511124" data-claire-element-id="511124" data-claire-semantic="information"><p id="r-511123" data-claire-element-id="511123">Note : Les cast servent à transtyper, c'est-à-dire transformer le type d'une variable.</p></aside><h3 id="r-positionnement-du-texte-final" data-claire-element-id="511134">Positionnement du texte final</h3><figure id="r-511126" data-claire-element-id="511127"><img id="r-511125" data-claire-element-id="511125" src="medias/uploads.siteduzero.com_files_263001_264000_263888.jpg" alt="Image utilisateur"/></figure><p id="r-511128" data-claire-element-id="511128">Il faut retenir deux choses :</p><ul id="r-511133" data-claire-element-id="511133"><li id="r-511130" data-claire-element-id="511130"><p id="r-511129" data-claire-element-id="511129">La classe Font : Sert à charger des fontes de caractères. Les fontes sont des fichiers qui contiennent une police d'écriture ;</p></li><li id="r-511132" data-claire-element-id="511132"><p id="r-511131" data-claire-element-id="511131">La classe String : Sert à afficher des chaine de caractères.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
<span class="arrow"></span>
<span class="next">Afficher du texte</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">
<span class="next">La gestion du temps</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lagestiondutemps"></a><h2>La gestion du temps</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
<span class="arrow"></span>
<span class="next">(TP) Splash screen</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
<span class="next">Gérer la vitesse d&#039;une application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511138" data-claire-element-id="511138">On va ici apprendre des choses simples mais assez importantes. On va voir comment gérer correctement la vitesse d'un programme, utiliser des timers pour répéter des actions toutes les X secondes et contrôler la vitesse d'affichage des fenêtres.</p>
</div><a name="Grerlavitessed039uneapplication"></a><h2>Gérer la vitesse d&#039;une application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">
<span class="arrow"></span>
<span class="next">La gestion du temps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
<span class="next">Mesurer le temps avec les timers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-frequence-de-rafraichissement-et-images-par-seconde-frame-rate-et-fps" data-claire-element-id="511141">Fréquence de rafraichissement et images par seconde (Frame rate et FPS)</h2><p id="r-511139" data-claire-element-id="511139">Le Frame rate ou frame frequency est la fréquence de rafraichissement d'un écran. Ce taux peut se mesurer en Hertz ou en FPS.</p><p id="r-511140" data-claire-element-id="511140">Le FPS (images par seconde) est une <strong>unité de mesure</strong> mesurant le nombre d'images affichées en une seconde.</p><h2 id="r-vitesse-d-affichage-et-utilisation-du-processeur" data-claire-element-id="511150">Vitesse d'affichage et utilisation du processeur</h2><h3 id="r-motion-blur-et-fluidite-d-un-mouvement" data-claire-element-id="511147">Motion blur et fluidité d'un mouvement</h3><p id="r-511142" data-claire-element-id="511142">Tout d'abord, l’œil humain ne perçoit pas un nombre précis d'images par secondes mais un flux continu de lumière. Pourtant, quelques images affichées à partir d'une certaine fréquence sur un écran peuvent donner l'impression d'un mouvement.</p><p id="r-511143" data-claire-element-id="511143">En fait, la plupart des films sont à 24 FPS, mais cela ne s'applique pas aux jeux vidéos. Pourquoi ? <br/> Le &quot;motion blur&quot; (flou cinétique en français) est utilisé dans les films pour avoir une succession d'images fluide lors des mouvements, avec seulement 18 FPS. On a seulement choisit 24 FPS pour ajouter les bandes sonores sur les pellicules.</p><p id="r-511144" data-claire-element-id="511144">Concernant les jeux vidéos, vu qu'on souhaite quand même avoir des images nettes, les constructeurs de cartes graphiques ont tenté d'implémenter le &quot;motion blur&quot;. Pour les jeux vidéo qui n'utilisent pas cette technique on peut dire qu'un mouvement, même rapide, est totalement fluide à partir de 60 images par seconde. Mais ça dépend évidemment de la rapidité des mouvements et des capacités visuelles de chaque personne.</p><p id="r-511145" data-claire-element-id="511145">Donc plus il y a d'images affichées par secondes, meilleur est le rendu d'une animation. Par contre, tous les écrans ont des limites d'affichage : le frame rate.</p><p id="r-511146" data-claire-element-id="511146">Plus un ordinateur est puissant, plus il pourra afficher des images par seconde. Pourtant, on doit prévoir qu'une animation se déroule à la même vitesse, et cela sur n'importe quelle machine. On verra plus bas comment remédier à ce problème.</p><h3 id="r-synchronisation-verticale" data-claire-element-id="511149">Synchronisation verticale</h3><p id="r-511148" data-claire-element-id="511148">Si on active la <strong>synchronisation verticale</strong>, les FPS seront au maximum égaux à la fréquence de rafraichissement de l'écran.<br/> L'intérêt est d'éviter de créer des problèmes visuels quand le frame rate d'un jeu varie beaucoup. La cadence de rafraichissement des écrans la plus commune est de 60 images par seconde, mais cela ne doit pas limiter les FPS car cette limite évoluera surement un jour.</p><h2 id="r-la-sfml-et-les-fps" data-claire-element-id="511169">La SFML et les FPS</h2><h3 id="r-connaitre-les-fps" data-claire-element-id="511156">Connaitre les FPS</h3><p id="r-511151" data-claire-element-id="511151">Il faut utiliser une fonction qui permet de récupérer le temps écoulé depuis le dernier affichage :</p><pre id="r-511152" data-claire-element-id="511152"><code data-claire-semantic="cpp">float timeElapsed = app.GetFrameTime();</code></pre><p id="r-511153" data-claire-element-id="511153">Après il suffit d'inverser le temps écoulé depuis le dernier affichage :</p><pre id="r-511154" data-claire-element-id="511154"><code data-claire-semantic="cpp">float FPS = 1.f / timeElapsed;</code></pre><p id="r-511155" data-claire-element-id="511155">C'est logique vu que l'image par seconde est une unité de mesure. C'est comme si on passait des km/h aux h/km : il faut inverser la fraction.</p><h3 id="r-limiter-les-fps" data-claire-element-id="511168">Limiter les FPS</h3><pre id="r-511157" data-claire-element-id="511157"><code data-claire-semantic="cpp">app.SetFramerateLimit(60); // Limite à 60 images par seconde</code></pre><pre id="r-511158" data-claire-element-id="511158"><code data-claire-semantic="cpp">app.UseVerticalSync(true); // Limite en fonction du framerate de l'écran</code></pre><p id="r-511159" data-claire-element-id="511159"><strong>Rappels</strong> :</p><ul id="r-511164" data-claire-element-id="511164"><li id="r-511161" data-claire-element-id="511161"><p id="r-511160" data-claire-element-id="511160">Ces deux appels donneront souvent le même résultat car en général les écrans d'ordinateurs ont un framerate de 60 ;</p></li><li id="r-511163" data-claire-element-id="511163"><p id="r-511162" data-claire-element-id="511162">La synchronisation verticale est désactivée par défaut.</p></li></ul><aside id="r-511166" data-claire-element-id="511166" data-claire-semantic="warning"><p id="r-511165" data-claire-element-id="511165">Si la limitation d'images par seconde permet de ralentir ou d'accélérer une application, il est fortement déconseillé de l'utiliser pour gérer le mouvement des éléments.</p></aside><p id="r-511167" data-claire-element-id="511167">Si notre ordinateur a moins de choses à afficher (si il y a une limite de FPS) il tournera plus rapidement. On pourrait donc penser qu'on peut régler la vitesse des mouvements des objets en faisant varier les FPS. Cela est une mauvaise habitude à prendre car la vitesse des mouvements dépendra alors de la puissance des ordinateurs. Nous allons donc apprendre à gérer ce problème embêtant avec la <strong>méthode du temps écoulé</strong>.</p><h2 id="r-la-methode-du-temps-ecoule-elapsed-time" data-claire-element-id="511188">La méthode du temps écoulé (elapsed time)</h2><p id="r-511170" data-claire-element-id="511170">Les FPS étant rarement fixes, il ne faut pas se baser sur eux pour régler la vitesse de déplacement de nos éléments. La méthode du temps écoulé consiste à multiplier le mouvement par le temps écoulé depuis le dernier affichage. Un exemple simple pour mieux expliquer le concept :</p><p id="r-511171" data-claire-element-id="511171">Un objet se déplace de 3 pixels en X à chaque tour de boucle.<br/> L'ordinateur 1 met 4ms pour afficher une image.<br/> L'ordinateur 2 met 5ms pour l'afficher.</p><p id="r-511172" data-claire-element-id="511172">L'ordinateur 1 est donc plus rapide que l'ordinateur 2 et il peut donc déplacer plus vite son objet. Pour contrer ce problème, on va multiplier le déplacement de l'objet par le temps écoulé. Ainsi, à chaque tour de boucle on aura :</p><pre id="r-511173" data-claire-element-id="511173"><code data-claire-semantic="cpp">const int deplacement = 3;
int elapsedTime = app.GetFrameTime();

objet.X += deplacement * elapsedTime;</code></pre><p id="r-511174" data-claire-element-id="511174">Toutes les 4ms, l'objet se déplacera de 3*4 = 12 pixels sur l'ordinateur 1.<br/> Toutes les 5ms, l'objet se déplacera de 3*5 = 15 pixels sur l'ordinateur 2.</p><p id="r-511175" data-claire-element-id="511175">Pour vérifier ces calculs, il faut regarder de combien de pixels s'est déplacé l'objet sur les deux ordinateurs en une seconde :</p><p id="r-511176" data-claire-element-id="511176">1 seconde = 1000 millisecondes</p><p id="r-511177" data-claire-element-id="511177">Nombre de déplacements de l'objet en une seconde :</p><p id="r-511178" data-claire-element-id="511178">- Ordinateur 1 :</p><p id="r-511179" data-claire-element-id="511179">\frac{1000}{4} = 250 déplacements en une seconde.</p><p id="r-511180" data-claire-element-id="511180">- Ordinateur 2 :</p><p id="r-511181" data-claire-element-id="511181">\frac{1000}{5} = 200 déplacements en une seconde.</p><p id="r-511182" data-claire-element-id="511182">Nombre de pixels sur lesquels l'objet s'est déplacé en une seconde :</p><p id="r-511183" data-claire-element-id="511183">- Ordinateur 1 :</p><p id="r-511184" data-claire-element-id="511184">250 imes 12 = 3000 pixels parcourus en une seconde.</p><p id="r-511185" data-claire-element-id="511185">- Ordinateur 2 :</p><p id="r-511186" data-claire-element-id="511186">200 imes 15 = 3000 pixels parcourus en une seconde.</p><p id="r-511187" data-claire-element-id="511187">Avec cette méthode les objets se sont déplacés de la même façon avec une vitesse d'affichage différente !</p><h2 id="r-pour-aller-plus-loin-42" data-claire-element-id="511190">Pour aller plus loin</h2><p id="r-511189" data-claire-element-id="511189">Vous pouvez par exemple appliquer ces modifications au jeu Pong des TPs précédents, et tester la vitesse de déplacement des barres et de la balle avec deux configurations différentes !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">
<span class="arrow"></span>
<span class="next">La gestion du temps</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
<span class="next">Mesurer le temps avec les timers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Mesurerletempsaveclestimers"></a><h2>Mesurer le temps avec les timers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
<span class="arrow"></span>
<span class="next">Gérer la vitesse d&#039;une application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
<span class="next">(TP) Réalisation d&#039;un chronomètre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511192" data-claire-element-id="511192">Cette partie va être rapide vu que les timers de base de la SFML sont très simples à comprendre et à utiliser :) .</p><p id="r-511193" data-claire-element-id="511193">La SFML possède la classe Clock qui est en fait un timer.</p><div id="r-511195" data-claire-element-id="511195" data-claire-semantic="question"><p id="r-511194" data-claire-element-id="511194">Qu'est ce qu'un timer ?</p></div><p id="r-511196" data-claire-element-id="511196">Timer signifie tout simplement chronomètre : les timers mesurent le temps écoulé.</p><p id="r-511197" data-claire-element-id="511197">En SFML lorsqu'on remets à zéro un timer, celui ci se relance directement. On ne peut pas stopper un timer, mais nous verrons plus tard comment le faire ;) .</p><p id="r-511198" data-claire-element-id="511198">Un timer se déclare simplement comme ça :</p><pre id="r-511199" data-claire-element-id="511199"><code data-claire-semantic="cpp">Clock clock;</code></pre><aside id="r-511201" data-claire-element-id="511201" data-claire-semantic="warning"><p id="r-511200" data-claire-element-id="511200">Rappel :Dès qu'on déclare un timer ou qu'on le relance, le temps est directement mesuré !</p></aside><p id="r-511202" data-claire-element-id="511202">Pour remettre à zéro un timer :</p><pre id="r-511203" data-claire-element-id="511203"><code data-claire-semantic="cpp">clock.Reset();</code></pre><p id="r-511204" data-claire-element-id="511204">Pour accéder au temps écoulé depuis la déclaration du timer ou depuis qu'il a été remis à zéro :</p><pre id="r-511205" data-claire-element-id="511205"><code data-claire-semantic="cpp">float time = clock.GetElapsedTime();</code></pre><p id="r-511206" data-claire-element-id="511206">Et voilà c'est tout ce que vous avez à savoir avec les timers, mais on va un peu approfondir tout ça dans le prochain TP ;) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
<span class="arrow"></span>
<span class="next">Gérer la vitesse d&#039;une application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
<span class="next">(TP) Réalisation d&#039;un chronomètre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPRalisationd039unchronomtre"></a><h2>(TP) Réalisation d&#039;un chronomètre</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
<span class="arrow"></span>
<span class="next">Mesurer le temps avec les timers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">
<span class="next">Ajouter de la musique avec le module audio</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511208" data-claire-element-id="511208">Comme je le disais dans la partie précédente, la classe Clock proposée par la SFML n'a pas de fonction &quot;pause&quot;. Nous allons donc essayer de créer un chronomètre :p .</p><h2 id="r-cahier-des-charges-28" data-claire-element-id="511225">Cahier des charges</h2><p id="r-511209" data-claire-element-id="511209">Dans la SFML le timer se lance dès sa construction, alors qu'ici vous devrez le mettre en état de pause dès le début. Voici la liste des fonctionnalités du chronomètre que vous devez implémenter :</p><ul id="r-511218" data-claire-element-id="511218"><li id="r-511211" data-claire-element-id="511211"><p id="r-511210" data-claire-element-id="511210">Une fonction <strong>pause</strong> ;</p></li><li id="r-511213" data-claire-element-id="511213"><p id="r-511212" data-claire-element-id="511212">Une fonction <strong>lancer</strong> ;</p></li><li id="r-511215" data-claire-element-id="511215"><p id="r-511214" data-claire-element-id="511214">Une fonction <strong>réinitialiser</strong> ;</p></li><li id="r-511217" data-claire-element-id="511217"><p id="r-511216" data-claire-element-id="511216">Notre chronomètre devra être affiché sur une fenêtre SFML et non sur la console. On pourra par exemple le lancer en appuyant sur la touche <strong>S</strong> (Start), le stopper avec la touche <strong>P</strong> (Pause), et le réinitialiser avec la touche <strong>R</strong>.</p></li></ul><aside id="r-511220" data-claire-element-id="511220" data-claire-semantic="information"><p id="r-511219" data-claire-element-id="511219">Note : j'ai choisi de n'afficher que la partie entière du temps dans mon programme. Libre à vous de faire comme moi ou non, il suffit juste de caster un float en int.</p></aside><h3 id="r-ressources-a-telecharger" data-claire-element-id="511224">Ressources à télécharger</h3><p id="r-511221" data-claire-element-id="511222"><a href="medias/uploads.siteduzero.com_files_264001_265000_264323.png"><img id="r-511222" data-claire-element-id="511221" src="medias/uploads.siteduzero.com_thb_264001_265000_264323.png" alt="Image utilisateur"/></a></p><p id="r-511223" data-claire-element-id="511223">Si vous voulez un peu de réalisme j'ai choisi cette <a href="http://img.dafont.com/dl/?f=digital_7">fonte</a> sur le site <a href="http://www.dafont.com/fr/">Dafont</a> :p .</p><h2 id="r-conseils-16" data-claire-element-id="511231">Conseils</h2><p id="r-511226" data-claire-element-id="511226">Le seul conseil que je puisse vous donner est de vous proposer un bon moment de réflexion, vu que la seule difficulté ici ne réside pas dans la compréhension de la SFML mais dans la logique à adopter. De plus, si vous ne voulez pas avoir de mauvaises surprises, imaginez plusieurs méthodes avant de vous lancer dans le code ;) .</p><p id="r-511227" data-claire-element-id="511227">Vous aurez aussi sûrement besoin de cette fonction si vous voulez convertir un nombre en <strong>std::string</strong>. Avec les templates, ce nombre peut être un <strong>int</strong>, <strong>float</strong> ou <strong>double</strong>. Si vous ne connaissez pas les templates, je vous conseille de regarder le <a href="http://www.siteduzero.com/tutoriel-3-36523-c-les-templates.html">tutoriel de foester</a> à leur sujet.</p><pre id="r-511228" data-claire-element-id="511228"><code data-claire-semantic="cpp">template &lt;class T&gt; string nb2String(T nb)
{
    ostringstream s;

    s &lt;&lt; nb;

    return s.str();
}</code></pre><p id="r-511229" data-claire-element-id="511229">Et n'oubliez pas la ligne suivante si vous voulez que la fonction précédente compile :</p><pre id="r-511230" data-claire-element-id="511230"><code data-claire-semantic="cpp">#include &lt;sstream&gt;</code></pre><h2 id="r-correction-173" data-claire-element-id="511239">Correction</h2><div id="r-511238" data-claire-element-id="511238"><p id="r-511232" data-claire-element-id="511232"><em>Timer.hpp</em></p><pre id="r-511233" data-claire-element-id="511233"><code data-claire-semantic="cpp">#ifndef TIMER_HPP
#define TIMER_HPP

#include &lt;SFML/System.hpp&gt;

class Timer {
public:

    Timer();

    void Start();
    void Pause();
    void Reinitialize();

    float GetTime();

private:
    enum State {Started, Paused};

    sf::Clock myClock;

    State myState;
    float myElapsedTime;
};

#endif</code></pre><p id="r-511234" data-claire-element-id="511234"><em>Timer.cpp</em></p><pre id="r-511235" data-claire-element-id="511235"><code data-claire-semantic="cpp">#include &quot;Timer.hpp&quot;

Timer::Timer() : myElapsedTime(0.0f), myState(Paused)
{}

void Timer::Start()
{
    if(myState != Started) // On ne lance pas le timer si il est déja lancé
    {
        myClock.Reset();
        myState = Started;
    }
}

void Timer::Pause()
{
    if(myState != Paused) // On ne mets pas en pause le timer si il est déja en pause
    {
        myState = Paused;
        myElapsedTime += myClock.GetElapsedTime();
    }
}

void Timer::Reinitialize()
{
    myClock.Reset();
    Pause();
    myElapsedTime = 0.0f;
}

float Timer::GetTime()
{
    float time;

    if(myState == Paused)
    {
        time = myElapsedTime;
    }
    else
    {
        time = myClock.GetElapsedTime() + myElapsedTime;
    }

    return time;
}</code></pre><p id="r-511236" data-claire-element-id="511236"><em>main.cpp</em></p><pre id="r-511237" data-claire-element-id="511237"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;
#include &lt;sstream&gt;
#include &quot;Timer.hpp&quot;

using namespace sf;
using namespace std;

const int FONT_SIZE = 80;
const int SCREEN_WIDTH = 400;
const int SCREEN_HEIGHT = 200;

template &lt;class T&gt; string nb2String(T nb)
{
    ostringstream s;

    s &lt;&lt; nb;

    return s.str();
}

int main()
{
    RenderWindow app(VideoMode(SCREEN_WIDTH, SCREEN_HEIGHT, 32), &quot;Chronomètre&quot;);
    app.SetFramerateLimit(60);

    Timer timer;
    timer.Start();

    Font font;
    String text;
    if(!font.LoadFromFile(&quot;digital-7.ttf&quot;, FONT_SIZE)) //, 30.0f))
    {
        cerr&lt;&lt;&quot;Erreur durant le chargement de la fonte&quot;&lt;&lt;endl;
    }
    else
    {
        text.SetFont(font);
        text.SetColor(Color::Red);
        text.SetSize(FONT_SIZE);
    }

    while(app.IsOpened())
    {
        // Gestion des évènements
        Event event;
        while (app.GetEvent(event))
        {
            switch (event.Type)
            {
                case Event::Closed :
                    app.Close();
                    break;

                case Event::KeyPressed : // Touche Clavier :
                {
                    switch (event.Key.Code)
                    {
                        case Key::Escape : // Echap
                            app.Close();
                            break;

                        case Key::P :
                            timer.Pause();
                            break;

                        case Key::S :
                            timer.Start();
                            break;

                        case Key::R :
                            timer.Reinitialize();
                            break;

                        default:
                            break;
                    }
                }
                break;

                default:
                    break;
            }
        }

        text.SetText(nb2String((int)timer.GetTime()));
        text.SetPosition(SCREEN_WIDTH/2 - text.GetRect().GetWidth()/2, SCREEN_HEIGHT/2 - text.GetRect().GetHeight()/2);

        app.Clear();
        app.Draw(text);

        app.Display();
    }

    return EXIT_SUCCESS;
}</code></pre></div><h2 id="r-explications-45" data-claire-element-id="511254">Explications</h2><p id="r-511240" data-claire-element-id="511240">Premièrement nous initialisons notre chronomètre à l'état de pause.</p><p id="r-511241" data-claire-element-id="511241">Ensuite lorsque on le lance avec la fonction &quot;Start&quot;, on réinitialise le timer de la classe mère (sf::Clock) et on met notre chronomètre à l'état &quot;Started&quot;.</p><div id="r-511243" data-claire-element-id="511243" data-claire-semantic="question"><p id="r-511242" data-claire-element-id="511242">Pourquoi on réinitialise le chronomètre si le timer était déjà lancé, on veut juste qu'il continue ?!</p></div><p id="r-511244" data-claire-element-id="511244">Ne vous inquiétez pas, le rôle de l'attribut myElapsedTime sert justement à enregistrer le temps qui s'est écoulé avant ;) .</p><p id="r-511245" data-claire-element-id="511245">Ensuite, si l'utilisateur met le chronomètre sur pause, on rajoute le temps qui vient de s'écouler à myElapsedTime.</p><p id="r-511246" data-claire-element-id="511246">Pour obtenir le temps du chronomètre, il faut appeler la fonction GetTime(). Voici le principe de cette fonction :</p><ul id="r-511251" data-claire-element-id="511251"><li id="r-511248" data-claire-element-id="511248"><p id="r-511247" data-claire-element-id="511247">Si le chronomètre est sur pause, on renvoie myTimeElapsed qui a stocké le temps du chronomètre.</p></li><li id="r-511250" data-claire-element-id="511250"><p id="r-511249" data-claire-element-id="511249">Si le chronomètre est lancé, on renvoie le temps du chronomètre stocké plus le temps écoulé depuis le dernier appel à Start.</p></li></ul><p id="r-511252" data-claire-element-id="511252">Alors, pas si simple hein :p ?</p><p id="r-511253" data-claire-element-id="511253">Vous devez maintenant savoir comment contrôler le taux de rafraichissement d'une fenêtre et comment manipuler les timers !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
<span class="arrow"></span>
<span class="next">Mesurer le temps avec les timers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">
<span class="next">Ajouter de la musique avec le module audio</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajouterdelamusiqueaveclemoduleaudio"></a><h2>Ajouter de la musique avec le module audio</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
<span class="arrow"></span>
<span class="next">(TP) Réalisation d&#039;un chronomètre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
<span class="next">Lire des fichiers audio</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511257" data-claire-element-id="511257">Cette nouvelle partie se consacrera donc à l'ajout de sons et de musiques pour vos applications ! La SFML propose des classes pour les manipuler très simplement, et l'apprentissage des fonctions ne devrait pas vous poser de gros problèmes ;) .</p>
</div><a name="Liredesfichiersaudio"></a><h2>Lire des fichiers audio</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">
<span class="arrow"></span>
<span class="next">Ajouter de la musique avec le module audio</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
<span class="next">La spatialisation pour diriger le son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-generalites-24" data-claire-element-id="511266">Généralités</h2><p id="r-511258" data-claire-element-id="511258">Dans cette partie, il ne faudra pas oublier d'inclure le module audio et de linker les bonnes librairies en fonction de votre compilateur. Pensez donc à rajouter la ligne suivante quand vous souhaitez utiliser un son dans un fichier :</p><pre id="r-511259" data-claire-element-id="511259"><code data-claire-semantic="cpp">#include &lt;SFML/Audio.hpp&gt;</code></pre><p id="r-511260" data-claire-element-id="511260">Vous devez d'abord vous demander ce qui diffère d'un son ou d'une musique. En fait, la SFML différencie théoriquement les deux par la durée, un son est court (quelques secondes) et une musique longue (une ou plusieurs minutes). Je dis bien théoriquement car vous pouvez très bien choisir d'utiliser un son comme une musique et vice-versa, mais les résultats ne seront pas très performants. Ce qui se cache derrière tout ça sont les tampons (ensembles de données sonores), qui seront chargés différemment. Pour un son de petite taille, on chargera tout d'un coup, alors qu'on chargera une musique petit à petit afin de répartir les temps de chargement.</p><p id="r-511261" data-claire-element-id="511261">L'utilisation des sons et de la musique est basée sur le même principe que celle des sprites et des images. Il faut en effet charger les données via une classe spécifique, et les instancier via une autre classe. Si vous vous souvenez bien, la classe image nous permettait uniquement de charger les données, et la classe sprite de les afficher.</p><aside id="r-511263" data-claire-element-id="511263" data-claire-semantic="warning"><p id="r-511262" data-claire-element-id="511262">La SFML ne lit pas le format MP3, la licence pour faire cela n'étant pas gratuite. Privilégiez donc les formats OGG ou WAV ;) .</p></aside><p id="r-511264" data-claire-element-id="511264">Sachez aussi que les sons peuvent être structurés différemment pour obtenir divers résultats. Un son peut être composé d'un ou plusieurs canaux, les combinaisons les plus connues étant <strong>mono</strong> (un seul canal) et <strong>stéréo</strong> (deux canaux). Si vous avez par exemple deux sorties (une pour chaque enceinte) et que vos données ont un seul canal, les deux enceintes produiront exactement le même son, alors que si vous avez deux canaux vous pourriez avoir des sons différents.</p><p id="r-511265" data-claire-element-id="511265">Passons maintenant dans le vif du sujet :)</p><h2 id="r-les-sons-2" data-claire-element-id="511304">Les sons</h2><h3 id="r-charger-un-son" data-claire-element-id="511270">Charger un son</h3><p id="r-511267" data-claire-element-id="511267">Il faut utiliser la classe <code data-claire-semantic="cpp">sf::SoundBuffer</code> (en français tampon sonore) :</p><pre id="r-511268" data-claire-element-id="511268"><code data-claire-semantic="cpp">SoundBuffer buffer;

if (!buffer.LoadFromFile(&quot;sound.wav&quot;))
{
    // Erreur...
}</code></pre><p id="r-511269" data-claire-element-id="511269">Rien de très compliqué donc ^^ .</p><h3 id="r-jouer-un-son" data-claire-element-id="511280">Jouer un son</h3><p id="r-511271" data-claire-element-id="511271">C'est maintenant la classe <code data-claire-semantic="cpp">sf::Sound</code> qui va nous être la plus utile :</p><pre id="r-511272" data-claire-element-id="511272"><code data-claire-semantic="cpp">Sound sound;
sound.SetBuffer(buffer);</code></pre><p id="r-511273" data-claire-element-id="511273">Il faut donc qu'on lie le tampon chargé précédemment à notre instance de <code data-claire-semantic="cpp">sf::Sound</code>. Cela ne vous rappelle rien ? On faisait la même chose avec sprite.SetImage :p !</p><aside id="r-511275" data-claire-element-id="511275" data-claire-semantic="warning"><p id="r-511274" data-claire-element-id="511274">Les tampons sont l'instar des images d'importantes ressources chargées, il faut donc les manipuler avec précaution. Parallèlement, la classe Sound peut être manipulée comme la classe Sprite : elles ne risque pas de ralentir vos programmes.</p></aside><p id="r-511276" data-claire-element-id="511276">Ensuite il ne nous reste plus qu'a jouer le son quand on le souhaite :</p><pre id="r-511277" data-claire-element-id="511277"><code data-claire-semantic="cpp">sound.Play();</code></pre><p id="r-511278" data-claire-element-id="511278">On peut aussi le mettre en pause ou le stopper définitivement :</p><pre id="r-511279" data-claire-element-id="511279"><code data-claire-semantic="cpp">sound.Pause();
sound.Stop();</code></pre><h3 id="r-operations-courantes-sur-les-sons" data-claire-element-id="511303">Opérations courantes sur les sons</h3><p id="r-511281" data-claire-element-id="511281">Connaitre le nombre de canaux</p><pre id="r-511282" data-claire-element-id="511282"><code data-claire-semantic="cpp">unsigned int channels = buffer.GetChannelsCount();</code></pre><p id="r-511283" data-claire-element-id="511283">Récupérer la durée du son</p><pre id="r-511284" data-claire-element-id="511284"><code data-claire-semantic="cpp">float duration = buffer.GetDuration();</code></pre><p id="r-511285" data-claire-element-id="511285">Modifier le volume</p><pre id="r-511286" data-claire-element-id="511286"><code data-claire-semantic="cpp">sound.SetVolume(50.f);</code></pre><aside id="r-511288" data-claire-element-id="511288" data-claire-semantic="information"><p id="r-511287" data-claire-element-id="511287"><strong>Note :</strong> Le volume varie entre 0 et 100, 100 étant la valeur par défaut.</p></aside><p id="r-511289" data-claire-element-id="511289">Vous pouvez aussi récupérer à tout moment le volume d'un son :</p><pre id="r-511290" data-claire-element-id="511290"><code data-claire-semantic="cpp">float volume = sound.GetVolume();</code></pre><p id="r-511291" data-claire-element-id="511291">Mettre en boucle un son</p><pre id="r-511292" data-claire-element-id="511292"><code data-claire-semantic="cpp">sound.SetLoop(true);</code></pre><p id="r-511293" data-claire-element-id="511293">Idem que pour le volume, pour savoir si un son est en boucle ou non :</p><pre id="r-511294" data-claire-element-id="511294"><code data-claire-semantic="cpp">bool loop = sound.GetLoop();</code></pre><p id="r-511295" data-claire-element-id="511295">Connaitre l'état d'un son (joué, en pause ou stoppé)</p><pre id="r-511296" data-claire-element-id="511296"><code data-claire-semantic="cpp">Sound::Status status = sound.GetStatus();</code></pre><p id="r-511297" data-claire-element-id="511297">Vous remarquerez qu'un type de donné spécial a été créé pour stocker l'état d'un son ;) . Un son peut être Playing (en lecture), Paused (en pause) ou Stopped (stoppé). On peut donc utiliser la classe Status (en fait c'est une énumération ^^) de la sorte :</p><pre id="r-511298" data-claire-element-id="511298"><code data-claire-semantic="cpp">switch(status)
{
    case Sound::Status::Playing :
        // Le son est en train d'être joué
    break;

    case Sound::Status::Paused :
        // Le son est en pause
    break;

    case Sound::Status::Stopped :
        // Le son est stoppé
    break;
}</code></pre><p id="r-511299" data-claire-element-id="511299">Récupérer la position de lecture courante</p><pre id="r-511300" data-claire-element-id="511300"><code data-claire-semantic="cpp">float position = sound.GetPlayingOffset();</code></pre><aside id="r-511302" data-claire-element-id="511302" data-claire-semantic="information"><p id="r-511301" data-claire-element-id="511301"><strong>Note :</strong> La position est exprimée en secondes.</p></aside><h2 id="r-les-musiques-1" data-claire-element-id="511311">Les musiques</h2><p id="r-511305" data-claire-element-id="511305">Leur fonctionnement est exactement le même que les sons, car la classe <code data-claire-semantic="cpp">sf::Music</code><strong>hérite</strong> de <code data-claire-semantic="cpp">sf::Sound</code> !</p><h3 id="r-charger-une-musique" data-claire-element-id="511307">Charger une musique</h3><pre id="r-511306" data-claire-element-id="511306"><code data-claire-semantic="cpp">sf::Music music;

if (!music.OpenFromFile(&quot;music.ogg&quot;))
{
    // Erreur...
}</code></pre><h3 id="r-jouer-une-musique" data-claire-element-id="511310">Jouer une musique</h3><pre id="r-511308" data-claire-element-id="511308"><code data-claire-semantic="cpp">music.Play();</code></pre><p id="r-511309" data-claire-element-id="511309">Vous pouvez aussi utiliser les fonctions Stop, Pause, et toutes les autres présentées plus haut pour les classes <code data-claire-semantic="cpp">sf::Buffer</code> et <code data-claire-semantic="cpp">sf::Sound</code> ;) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">
<span class="arrow"></span>
<span class="next">Ajouter de la musique avec le module audio</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
<span class="next">La spatialisation pour diriger le son</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Laspatialisationpourdirigerleson"></a><h2>La spatialisation pour diriger le son</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
<span class="arrow"></span>
<span class="next">Lire des fichiers audio</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">
<span class="next">La gestion de la vue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511313" data-claire-element-id="511313">La SFML permet d'utiliser une technique qui connait un essor important aujourd'hui : La spatialisation du son. Elle consiste à créer l'illusion que des sons proviennent de divers endroits d'une scène. Dans beaucoup de jeux, vous sentez que l'amplitude d'un son augmente quand vous vous rapprochez d'une source sonore. En plus de cela, la spatialisation permet de donner une direction aux sons.</p><p id="r-511314" data-claire-element-id="511314">Voici un petit schéma illustrant rapidement le principe :</p><figure id="r-511316" data-claire-element-id="511317"><img id="r-511315" data-claire-element-id="511315" src="medias/uploads.siteduzero.com_files_284001_285000_284537.png" alt="Image utilisateur"/></figure><h2 id="r-la-spatialisation-avec-la-sfml" data-claire-element-id="511342">La spatialisation avec la SFML</h2><p id="r-511318" data-claire-element-id="511318"><strong>L'écouteur :</strong><br/> C'est celui qui entendra les sons depuis sa position en tenant compte de son orientation. L'écouteur est unique dans la scène, et la SFML propose une classe contenant uniquement des méthodes statiques, et qui n'a donc pas besoin d'être instanciée. Si vous n'êtes pas à l'aise avec ses notions, ce n'est pas très grave, mais une connaissance des méthodes statiques serait un plus, je vous renvoi donc à ce <a href="http://www.siteduzero.com/tutoriel-3-11231-elements-statiques-et-constants.html#ss_part_2">tutoriel sur le c++ de m@téo21</a> dans la partie portant sur les méthodes statiques ;) .</p><h3 id="r-donner-une-position-a-l-ecouteur" data-claire-element-id="511323">Donner une position à l'écouteur</h3><pre id="r-511319" data-claire-element-id="511319"><code data-claire-semantic="cpp">Listener::SetPosition(10.f, 10.f, 10.f);</code></pre><p id="r-511320" data-claire-element-id="511320">L'écouteur sera ici à la position (10, 10, 10). Vous remarquerez que j'ai rajouté des &quot;.f&quot; à la fin des variables x, y et z. Cela dit au compilateur que nos variables sont des nombres flottants, c'est à dire décimaux. Il s'agit ici de positionner l'écouteur dans un espace à trois dimensions (x, y, z).</p><aside id="r-511322" data-claire-element-id="511322" data-claire-semantic="information"><p id="r-511321" data-claire-element-id="511321">Si votre application est en 2D, vous n'avez juste qu'à mettre la variable Y à 0.</p></aside><h3 id="r-orienter-l-ecouteur" data-claire-element-id="511329">Orienter l'écouteur</h3><p id="r-511324" data-claire-element-id="511324">Il faut en fait donner une cible à notre écouteur. Si nous voulons qu'il regarde dans l'axe des x, il suffit de lui donner une cible(1, 0, 0). Logique non :p ? Si on veut que notre écouteur regarde un objet dans une scène, il suffit de lui donner la position de cet objet, grâce à la fonction :</p><pre id="r-511325" data-claire-element-id="511325"><code data-claire-semantic="cpp">Listener::SetTarget(10.f, 10.f, 15.f);</code></pre><p id="r-511326" data-claire-element-id="511326">(Les valeurs sont ici données en exemple)</p><aside id="r-511328" data-claire-element-id="511328" data-claire-semantic="information"><p id="r-511327" data-claire-element-id="511327">Par défaut l'écouteur regarde le long de l'axe -Z (0, 0, -1).</p></aside><h3 id="r-positionner-un-son" data-claire-element-id="511333">Positionner un son</h3><p id="r-511330" data-claire-element-id="511330">Nous pouvons positionner aussi bien les sons que les musiques, vu que ces dernières hérite de la classe sf::Sound.</p><p id="r-511331" data-claire-element-id="511331">Voyons comment procéder :</p><pre id="r-511332" data-claire-element-id="511332"><code data-claire-semantic="cpp">Sound sound;
sound.SetPosition(3.f, 2.f, 6.f);</code></pre><h3 id="r-le-facteur-d-attenuation-du-son" data-claire-element-id="511341">Le facteur d'atténuation du son</h3><p id="r-511334" data-claire-element-id="511334">Ce facteur va nous permettre de régler l'atténuation de nos sons. Est-ce que l'on souhaite qu'on entende plus un son si un s'éloigne très peu, ou qu'on l'entende du fond d'une caverne :D ?</p><p id="r-511335" data-claire-element-id="511335">Par défaut ce facteur est à 1. Difficile de préciser ce que cela signifie, vu que c'est relatif aux positions de nos éléments dans une scène. Pour changer de facteur, la SFML nous donne cette fonction :</p><pre id="r-511336" data-claire-element-id="511336"><code data-claire-semantic="cpp">3DSound.SetAttenuation(10.f);</code></pre><aside id="r-511338" data-claire-element-id="511338" data-claire-semantic="information"><p id="r-511337" data-claire-element-id="511337">Si l'on souhaite ne pas avoir d'atténuation, il faut mettre le facteur à 0.</p></aside><p id="r-511339" data-claire-element-id="511339">Voilà comment rendre très simplement vos applications plus réalistes ^^ .</p><p id="r-511340" data-claire-element-id="511340">Voilà, avec ce dernier chapitre vous pouvez maintenant faire une application très complète :) .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
<span class="arrow"></span>
<span class="next">Lire des fichiers audio</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">
<span class="next">La gestion de la vue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lagestiondelavue"></a><h2>La gestion de la vue</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
<span class="arrow"></span>
<span class="next">La spatialisation pour diriger le son</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
<span class="next">Utiliser le champ de vision</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-511345" data-claire-element-id="511345">Dans cette partie nous verrons une fonctionnalité très pratique de la SFML : les vues. Celles ci permettent notamment de zoomer et de se déplacer facilement dans un espace 2D.</p>
</div><a name="Utiliserlechampdevision"></a><h2>Utiliser le champ de vision</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">
<span class="arrow"></span>
<span class="next">La gestion de la vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
<span class="next">(TP) Une caméra en mouvement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511346" data-claire-element-id="511346">Le principal intérêt des vues est de pouvoir zoomer et se déplacer dans une scène (un ensemble d'éléments graphiques) facilement. En effet, si l'on avait voulu faire cela sans les vues de la bibliothèque, il aurait fallu redimensionner chaque élément et/ou les déplacer, ce qui peut être fastidieux si une scène contient de nombreux éléments (décor, personnages, etc..). Vous l'aurez compris, les vues sont un peu les caméras 2D de la SFML ;) .</p><p id="r-511347" data-claire-element-id="511347">La SFML a donc pensé à tout, alors rentrons tout de suite dans les détails !</p><h2 id="r-principe-general-et-utilisation" data-claire-element-id="511368">Principe général et utilisation</h2><p id="r-511348" data-claire-element-id="511348">Il faut tout d'abord préciser que les vues doivent être liées à une fenêtre d'une application. Chaque objet dessiné dans cette fenêtre (avec la fonction <em>Draw</em>, ndlr) sera affecté par les propriétés de la vue (sa taille, son emplacement etc).</p><h3 id="r-declarer-une-vue" data-claire-element-id="511355">Déclarer une vue</h3><p id="r-511349" data-claire-element-id="511349">Pour déclarer une vue, il faut préciser des paramètres assez spécifiques qui formeront le champ de vision :</p><pre id="r-511350" data-claire-element-id="511350"><code data-claire-semantic="cpp">Vector2f centre(1000, 1000);
Vector2f demiTaille(400, 300);

View vue(centre, demiTaille);</code></pre><p id="r-511351" data-claire-element-id="511351">Ici, la vue sera centrée sur la coordonnée <em>centre</em>. Ensuite, sa taille sera fixée par la <em>demi-taille</em>, c'est à dire la moitié de sa largeur et de sa hauteur.</p><p id="r-511352" data-claire-element-id="511352">En fait, on donne la demi-taille et non la taille totale du rectangle observé, car il ne faut pas oublier que la vue est centrée sur un point précis. En effet, le premier paramètre de la demi-taille sera donc la largeur à droite et à gauche du centre, et le deuxième sera la hauteur au dessus et au dessous du centre.</p><aside id="r-511354" data-claire-element-id="511354" data-claire-semantic="warning"><p id="r-511353" data-claire-element-id="511353">L'utilisation d'une vue peut déformer l'affichage vu que le champ de vision se redimensionnera aux dimensions de la fenêtre.</p></aside><h3 id="r-attribuer-une-vue-a-une-application" data-claire-element-id="511358">Attribuer une vue à une application</h3><p id="r-511356" data-claire-element-id="511356">Pour cela, rien de plus simple :</p><pre id="r-511357" data-claire-element-id="511357"><code data-claire-semantic="cpp">app.SetView(vue);</code></pre><h3 id="r-modifier-le-champ-de-vision-d-une-vue" data-claire-element-id="511367">Modifier le champ de vision d'une vue</h3><p id="r-511359" data-claire-element-id="511359">Pour rétrécir le champ de vision, c'est à dire se rapprocher du centre, il faut zoomer :</p><pre id="r-511360" data-claire-element-id="511360"><code data-claire-semantic="cpp">vue.Zoom(2.f);   // Zoom d'un facteur 2 (zoome pour rendre la vue 2x plus petite)</code></pre><p id="r-511361" data-claire-element-id="511361">Si vous voulez agrandir la vue, et s'éloigner de la cible, il faut dé-zoomer :</p><pre id="r-511362" data-claire-element-id="511362"><code data-claire-semantic="cpp">vue.Zoom(0.5f);   // Zoom d'un facteur 1/2 (dé-zoome pour rendre la vue 2x plus grande)</code></pre><p id="r-511363" data-claire-element-id="511363">Pour finir, on peut déplacer une vue. Pour cela, c'est encore très simple :</p><pre id="r-511364" data-claire-element-id="511364"><code data-claire-semantic="cpp">vue.Move(10, -5);</code></pre><aside id="r-511366" data-claire-element-id="511366" data-claire-semantic="information"><p id="r-511365" data-claire-element-id="511365">On peut aussi déplacer une vue en lui donnant un nouveau centre</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">
<span class="arrow"></span>
<span class="next">La gestion de la vue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
<span class="next">(TP) Une caméra en mouvement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPUnecamraenmouvement"></a><h2>(TP) Une caméra en mouvement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
<span class="arrow"></span>
<span class="next">Utiliser le champ de vision</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-511370" data-claire-element-id="511370">On va essayer ici de récapituler les quelques notions que nous avons vu juste avant. Pour cela, rien de mieux qu'un petit jeu pour nous entrainer ;) !</p><p id="r-511371" data-claire-element-id="511371">Le but de ce TP va être de suivre une voiture de course sur un circuit. La voiture doit au moins être capable d'avancer, de tourner à droite et à gauche.</p><p id="r-511372" data-claire-element-id="511372">Par exemple, si on appuie sur la flèche gauche, la voiture tournera de 2 degrés dans le sens trigonométrique et inversement pour la flèche droite. Il faudra aussi que la voiture avance en fonction de son angle. Si vous ne savez pas comment faire, <em>Google</em> ou le forum C++ seront d’excellents moyens pour se former à ce types de soucis :p .</p><p id="r-511373" data-claire-element-id="511373">Voilà une capture d'écran pour vous donner un ordre d'idée :</p><figure id="r-511375" data-claire-element-id="511376"><img id="r-511374" data-claire-element-id="511374" src="medias/uploads.siteduzero.com_files_329001_330000_329271.png" alt="Image utilisateur"/></figure><p id="r-511377" data-claire-element-id="511377">Vous pouvez si vous en avez l'envie mettre en place le recul et l'accélération de la voiture, ou tout ce qui vous passe par la tête ;) .</p><p id="r-511378" data-claire-element-id="511378">Voici les ressources dont vous aurez besoin :</p><p id="r-511379" data-claire-element-id="511379"><a href="medias/uploads.siteduzero.com_files_329001_330000_329276.png">voiture</a><br/><a href="medias/uploads.siteduzero.com_files_329001_330000_329272.png">fond d'écran</a></p><p id="r-511380" data-claire-element-id="511380">Comme vous pourrez le constater, le sprite de la voiture est trop grand par rapport au circuit, il faudra donc utiliser la fonction <em>Scale</em> sur ce dernier.</p><p id="r-511381" data-claire-element-id="511381"></p><div id="r-511383" data-claire-element-id="511383"><p id="r-511382" data-claire-element-id="511382">Pour ma part, j'ai utilisé une échelle de 1/2 ;) .</p></div><p id="r-511384" data-claire-element-id="511384">Bonne chance !</p><h2 id="r-correction-174" data-claire-element-id="511392">Correction</h2><div id="r-511391" data-claire-element-id="511391"><h3 id="r-car-hpp" data-claire-element-id="511386">Car.hpp</h3><pre id="r-511385" data-claire-element-id="511385"><code data-claire-semantic="cpp">#ifndef CAR_HPP
#define CAR_HPP

class Car
{
	public:
	Car(float x, float y, float angle, float speed);

	float getX() const;
	float getY() const;
	float getAngle() const;

	void move();
	void turnLeft();
	void turnRight();
	void speedUp();
	void speedDown();

	private:
        float _x, _y;
        float _angle;
        float _speed;
};

#endif</code></pre><h3 id="r-car-cpp" data-claire-element-id="511388">Car.cpp</h3><pre id="r-511387" data-claire-element-id="511387"><code data-claire-semantic="cpp">#include &lt;cmath&gt;
#include &quot;Car.hpp&quot;

Car::Car(float x, float y, float angle, float speed)
: _x(x), _y(y), _angle(angle), _speed(speed)
{}

float
Car::getX() const
{
    return _x;
}

float
Car::getY() const
{
    return _y;
}

float
Car::getAngle() const
{
    return _angle;
}

void
Car::move()
{
    _x += cos(_angle * M_PI / 180.0) * _speed;
    _y -= sin(_angle * M_PI / 180.0) * _speed;
}

void
Car::turnLeft()
{
    _angle += 2.f;
}

void
Car::turnRight()
{
    _angle -= 2.f;
}

void
Car::speedUp()
{
    if(_speed &lt; 3.f)
        _speed += 0.05f;
}

void
Car::speedDown()
{
    if(_speed &gt; 0.f)
        _speed -= 0.05f;
}</code></pre><h3 id="r-main-cpp-10" data-claire-element-id="511390">main.cpp</h3><pre id="r-511389" data-claire-element-id="511389"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Car.hpp&quot;

using namespace std;
using namespace sf;

const Vector2f WINDOW_SIZE(800, 600);

int main()
{
	// Fenêtre
	RenderWindow app(VideoMode(WINDOW_SIZE.x, WINDOW_SIZE.y, 32), &quot;TP Caméra&quot;);

	// Frames Per Second (FPS)
	app.SetFramerateLimit(60); // limite la fenêtre à 60 images par seconde

	// Fond d'écran
	Image backgroundImage, carImage;
	Sprite backgroundSprite, carSprite;

	if(!backgroundImage.LoadFromFile(&quot;img/background.png&quot;))
	{
		cerr &lt;&lt; &quot;Erreur pendant le chargement du fond d'ecran&quot; &lt;&lt; endl;
		return EXIT_FAILURE; // On ferme le programme
	}
	else
	{
		backgroundSprite.SetImage(backgroundImage);
	}

	if(!carImage.LoadFromFile(&quot;img/car.png&quot;))
	{
		cerr &lt;&lt; &quot;Erreur pendant le chargement du fond d'ecran&quot; &lt;&lt; endl;
		return EXIT_FAILURE; // On ferme le programme
	}
	else
	{
		carSprite.SetImage(carImage);
		carSprite.SetCenter(20, 34);
		carSprite.SetScale(0.5, 0.5);
	}

	Car car(790, 1215, 0, 0);

	Vector2f center(car.getX(), car.getY());
	Vector2f halfSize(WINDOW_SIZE.x/4, WINDOW_SIZE.y/4);
	View view(center, halfSize);
	app.SetView(view);

	while(app.IsOpened())  // Boucle principale
	{
		Event event;
		while(app.GetEvent(event)) // Boucle des évènements de la partie pause
		{
			if((event.Type == Event::KeyPressed &amp;&amp; event.Key.Code == Key::Escape)
					|| event.Type == Event::Closed)
			{
				app.Close();
			}
		}

		car.move();
		view.SetCenter(car.getX(), car.getY());

		const sf::Input&amp; input = app.GetInput();

		if(input.IsKeyDown(Key::Left))
		{
			car.turnLeft();
			carSprite.SetRotation(car.getAngle());
		}

		if(input.IsKeyDown(Key::Right))
		{
			car.turnRight();
			carSprite.SetRotation(car.getAngle());
		}

		if(input.IsKeyDown(Key::Up))
		{
			car.speedUp();
		}
		else
		{
			car.speedDown();
		}

		// Affichages
		app.Clear();
		app.Draw(backgroundSprite);

		carSprite.SetPosition(car.getX(), car.getY());
		app.Draw(carSprite);

		app.Display();
	}

	return EXIT_SUCCESS;
}</code></pre></div><pre id="r-511393" data-claire-element-id="511393"><code data-claire-semantic="cpp">#ifndef CAR_HPP
#define CAR_HPP

class Car
{
	public:
	Car(float x, float y, float angle, float speed);

	float getX() const;
	float getY() const;
	float getAngle() const;

	void move();
	void turnLeft();
	void turnRight();
	void speedUp();
	void speedDown();

	private:
        float _x, _y;
        float _angle;
        float _speed;
};

#endif</code></pre><h3 id="r-car-cpp-1" data-claire-element-id="511395">Car.cpp</h3><pre id="r-511394" data-claire-element-id="511394"><code data-claire-semantic="cpp">#include &lt;cmath&gt;
#include &quot;Car.hpp&quot;

Car::Car(float x, float y, float angle, float speed)
: _x(x), _y(y), _angle(angle), _speed(speed)
{}

float
Car::getX() const
{
    return _x;
}

float
Car::getY() const
{
    return _y;
}

float
Car::getAngle() const
{
    return _angle;
}

void
Car::move()
{
    _x += cos(_angle * M_PI / 180.0) * _speed;
    _y -= sin(_angle * M_PI / 180.0) * _speed;
}

void
Car::turnLeft()
{
    _angle += 2.f;
}

void
Car::turnRight()
{
    _angle -= 2.f;
}

void
Car::speedUp()
{
    if(_speed &lt; 3.f)
        _speed += 0.05f;
}

void
Car::speedDown()
{
    if(_speed &gt; 0.f)
        _speed -= 0.05f;
}</code></pre><h3 id="r-main-cpp-11" data-claire-element-id="511397">main.cpp</h3><pre id="r-511396" data-claire-element-id="511396"><code data-claire-semantic="cpp">#include &lt;cstdlib&gt;
#include &lt;iostream&gt;
#include &lt;SFML/Graphics.hpp&gt;

#include &quot;Car.hpp&quot;

using namespace std;
using namespace sf;

const Vector2f WINDOW_SIZE(800, 600);

int main()
{
	// Fenêtre
	RenderWindow app(VideoMode(WINDOW_SIZE.x, WINDOW_SIZE.y, 32), &quot;TP Caméra&quot;);

	// Frames Per Second (FPS)
	app.SetFramerateLimit(60); // limite la fenêtre à 60 images par seconde

	// Fond d'écran
	Image backgroundImage, carImage;
	Sprite backgroundSprite, carSprite;

	if(!backgroundImage.LoadFromFile(&quot;img/background.png&quot;))
	{
		cerr &lt;&lt; &quot;Erreur pendant le chargement du fond d'ecran&quot; &lt;&lt; endl;
		return EXIT_FAILURE; // On ferme le programme
	}
	else
	{
		backgroundSprite.SetImage(backgroundImage);
	}

	if(!carImage.LoadFromFile(&quot;img/car.png&quot;))
	{
		cerr &lt;&lt; &quot;Erreur pendant le chargement du fond d'ecran&quot; &lt;&lt; endl;
		return EXIT_FAILURE; // On ferme le programme
	}
	else
	{
		carSprite.SetImage(carImage);
		carSprite.SetCenter(20, 34);
		carSprite.SetScale(0.5, 0.5);
	}

	Car car(790, 1215, 0, 0);

	Vector2f center(car.getX(), car.getY());
	Vector2f halfSize(WINDOW_SIZE.x/4, WINDOW_SIZE.y/4);
	View view(center, halfSize);
	app.SetView(view);

	while(app.IsOpened())  // Boucle principale
	{
		Event event;
		while(app.GetEvent(event)) // Boucle des évènements de la partie pause
		{
			if((event.Type == Event::KeyPressed &amp;&amp; event.Key.Code == Key::Escape)
					|| event.Type == Event::Closed)
			{
				app.Close();
			}
		}

		car.move();
		view.SetCenter(car.getX(), car.getY());

		const sf::Input&amp; input = app.GetInput();

		if(input.IsKeyDown(Key::Left))
		{
			car.turnLeft();
			carSprite.SetRotation(car.getAngle());
		}

		if(input.IsKeyDown(Key::Right))
		{
			car.turnRight();
			carSprite.SetRotation(car.getAngle());
		}

		if(input.IsKeyDown(Key::Up))
		{
			car.speedUp();
		}
		else
		{
			car.speedDown();
		}

		// Affichages
		app.Clear();
		app.Draw(backgroundSprite);

		carSprite.SetPosition(car.getX(), car.getY());
		app.Draw(carSprite);

		app.Display();
	}

	return EXIT_SUCCESS;
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml">Créez des applications 2D avec SFML</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Introduction à SFML
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-de-la-sfml">Installation de la SFML</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/une-bibliotheque-multimedia">
Une bibliothèque multimédia
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/telechargement-de-la-sfml">
Téléchargement de la SFML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/installation-73">
Installation
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/apprenez-a-manipuler-les-images">Apprenez à manipuler les images</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-premiere-fenetre-1">
La première fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utilisation-de-formes-geometriques">
Utilisation de formes géométriques
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-et-modifier-des-images">
Afficher et modifier des images
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-1">
(TP) Une balle rebondissante (1)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-des-evenements-5">La gestion des évènements</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/un-peu-de-theorie-10">
Un peu de théorie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/le-clavier-7">
Le clavier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-souris-5">
La souris
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gestion-avancee">
Gestion avancée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-balle-rebondissante-2">
(TP) Une balle rebondissante (2)
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajoutez-du-texte-dans-vos-programmes">Ajoutez du texte dans vos programmes</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/les-polices-et-fontes">
Les polices et fontes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/afficher-du-texte-10">
Afficher du texte
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-splash-screen">
(TP) Splash screen
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-du-temps-2">La gestion du temps</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/gerer-la-vitesse-d-une-application">
Gérer la vitesse d&#039;une application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/mesurer-le-temps-avec-les-timers">
Mesurer le temps avec les timers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-realisation-d-un-chronometre">
(TP) Réalisation d&#039;un chronomètre
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/ajouter-de-la-musique-avec-le-module-audio">Ajouter de la musique avec le module audio</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/lire-des-fichiers-audio">
Lire des fichiers audio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-spatialisation-pour-diriger-le-son">
La spatialisation pour diriger le son
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/la-gestion-de-la-vue">La gestion de la vue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
Utiliser le champ de vision
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/tp-une-camera-en-mouvement">
(TP) Une caméra en mouvement
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creez-des-applications-2d-avec-sfml/utiliser-le-champ-de-vision">
<span class="arrow"></span>
<span class="next">Utiliser le champ de vision</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/creez-des-applications-2d-avec-sfml.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:55:45 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creez-des-applications-2d-avec-sfml.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:38:30 GMT -->
</html>
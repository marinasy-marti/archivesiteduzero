<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/utiliser-qt-avec-visual-studio-2010.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:06:24 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/utiliser-qt-avec-visual-studio-2010.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:37:12 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Utiliser Qt avec Visual Studio 2010</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Utiliser Qt avec Visual Studio 2010</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#UtiliserQtavecVisualStudio2010">Utiliser Qt avec Visual Studio 2010</a><br/><a href="#CompilerQt">Compiler Qt</a><br/><a href="#ConfigurationdeVisualStudio">Configuration de Visual Studio</a><br/><a href="#Gestiondevotreprojet">Gestion de votre projet</a><br/></div>
<a name="UtiliserQtavecVisualStudio2010"></a><h2>Utiliser Qt avec Visual Studio 2010</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
<span class="next">Compiler Qt</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-447343" data-claire-element-id="447343">Bonjour à tous !</p><p id="r-447344" data-claire-element-id="447344">Qui a déjà utilisé Visual Studio pour programmer ? Et qui a été contraint de le quitter pour un autre IDE quand vous vouliez vous mettre à Qt ?</p><p id="r-447345" data-claire-element-id="447345">En effet, jusqu'à la version 4.3.1, Qt était (officiellement) seulement compatible avec le compilateur MinGW. Depuis la version 4.3.2, Trolltech a officialisé la compatibilité avec Visual Studio et son compilateur.</p><p id="r-447346" data-claire-element-id="447346">Depuis que <a href="http://www.siteduzero.com/news-62-21366-petits-rachats-entre-amis.html">Nokia à racheté Trolltech</a>, ils ont développé un plugin pour Visual Studio permettant d'utiliser très simplement l'IDE de Microsoft.</p><p id="r-447347" data-claire-element-id="447347">L'utilisation de Visual Studio implique également que les sources de Qt soient compilées avec le compilateur de Visual. Dans sa grande générosité, Nokia fournit ces sources compilées avec Visual Studio 2008.</p><p id="r-447348" data-claire-element-id="447348">Leur plugin, Visual Studio Add-in, est lui aussi seulement compatible avec les versions 2005 et 2008 de l'IDE.</p><p id="r-447349" data-claire-element-id="447349">Malheureusement, pour utiliser Visual Studio dans sa version 2010, il faut effectuer cette compilation manuellement et faire toute la configuration de l'IDE.</p><p id="r-447350" data-claire-element-id="447350">C'est ce que je vous propose de vous apprendre au travers de ce tutoriel.</p><p id="r-447351" data-claire-element-id="447351">Vous êtes prêts ? Alors en avant :pirate: !</p>
</div><a name="CompilerQt"></a><h2>Compiler Qt</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
<span class="next">Configuration de Visual Studio</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-447352" data-claire-element-id="447352">Bien, avant de pouvoir compiler Qt, il faut d'abord télécharger les sources.</p><p id="r-447353" data-claire-element-id="447353">Ça se passe sur le site de Nokia, et plus précisément <a href="http://qt.nokia.com/downloads">ici</a>. Il faut se rendre dans l'onglet &quot;LGPL&quot;. Comme nous voulons seulement les sources, il faut sélectionner &quot;Qt libraries 4.7.0 for Windows&quot; (MinGW 4.4 ou VS 2008, c'est au choix). Sur la page suivante, le téléchargement automatique va se lancer. Annulez-le. En effet, ce téléchargement est en fait les sources déjà compilés. Sur cette page, il y a marqué &quot;<em>Source code available on this link:</em>&quot;. C'est cette archive qu'il faut télécharger (environ 230 Mo).</p><p id="r-447354" data-claire-element-id="447354">Je pense que vous avez deviné qu'on va utiliser la version gratuite de Visual C++, nommée Visual C++ 2010 Express. Vous pouvez la télécharger sur le <a href="http://msdn.microsoft.com/fr-fr/express/aa975050.aspx">site de Microsoft</a>.</p><p id="r-447355" data-claire-element-id="447355">Pour l'installation de Visual C++, si jamais ça n'est pas encore fait, c'est très simple. Le petit installateur que vous avez téléchargé depuis le site de Microsoft va en fait se connecter sur leurs serveurs pour télécharger les fichiers qu'ils faut. Veillez donc à rester connecté à internet ;) .</p><p id="r-447356" data-claire-element-id="447356">Pour Qt, il suffit de décompresser le contenu du dossier &quot;qt-everywhere-opensource-src-4.7.0&quot; de l'archive. L'endroit où se trouve le contenu décompressée sur le disque n'a aucune importance. Personnellement, je les aient mis dans C:\Qt\4.7.0.</p><aside id="r-447358" data-claire-element-id="447358" data-claire-semantic="warning"><p id="r-447357" data-claire-element-id="447357">Dans l'archive, les sources ne sont pas directement à la racine, mais dans un dossier &quot;qt-everywhere-opensource-src-4.7.0&quot;. C'est le contenu de ce dossier qu'il faut extraire.</p></aside><aside id="r-447360" data-claire-element-id="447360" data-claire-semantic="information"><p id="r-447359" data-claire-element-id="447359">Pour la suite du tutoriel, je considérerai que Qt est dans C:\Qt\4.7.0.</p></aside><p id="r-447361" data-claire-element-id="447361">Pendant cette décompression, on va créer quelques variables d'environnement pour la compilation.</p><h3 id="r-sous-vista-7" data-claire-element-id="447363">Sous Vista / 7</h3><p id="r-447362" data-claire-element-id="447362">Allez dans Panneau de configuration -&gt; Système -&gt; Paramètres système avancés -&gt; onglet Paramètres système avancés. Cliquez sur Variables d'environnement.</p><h3 id="r-sous-xp" data-claire-element-id="447399">Sous XP</h3><p id="r-447364" data-claire-element-id="447364">Allez dans Panneau de configuration -&gt; Système -&gt; onglet Avancé. Cliquez sur Variables d'environnement.</p><p id="r-447365" data-claire-element-id="447365">Dans la partie supérieure de la fenêtre, on va créer deux nouvelles variables. Cliquez sur Nouvelle.... Dans Nom de la variable rentrez QMAKESPEC, et dans Valeur de la variable mettez win32-msvc2010.</p><p id="r-447366" data-claire-element-id="447366">Cette variable va indiquer à qmake quel compilateur utiliser, pour créer les bons makefile.</p><p id="r-447367" data-claire-element-id="447367">Rebelote pour la deuxième variable qui a pour nom QTDIR et pour valeur le chemin d'installation de Qt. Par défaut, c'est C:\Qt\4.7.0. Cette variable est nécessaire au compilateur pour savoir où chercher les fichiers sources.</p><p id="r-447368" data-claire-element-id="447368">Vous devriez donc avoir ça pour le moment :</p><figure id="r-447370" data-claire-element-id="447371"><img id="r-447369" data-claire-element-id="447369" src="medias/uploads.siteduzero.com_files_269001_270000_269262.png" alt="Image utilisateur"/></figure><p id="r-447372" data-claire-element-id="447372">Bien : maintenant, il faut éditer une variable système déjà existante : la variable <code>path</code>. Elle se trouve dans le cadre en bas de la fenêtre. Sélectionnez-la et cliquez sur Modifier.... À la fin de cette variable, rajoutez ;%QTDIR%\bin\.</p><aside id="r-447374" data-claire-element-id="447374" data-claire-semantic="warning"><p id="r-447373" data-claire-element-id="447373">Veillez à ne pas oublier le ; à la fin avant de rajouter %QTDIR% !</p></aside><p id="r-447375" data-claire-element-id="447375">On a fait cela pour pouvoir utiliser les différentes commandes de Qt (qmake, uic, ...) en ligne de commande sans avoir à aller dans le dossier contenant les exécutables.</p><p id="r-447376" data-claire-element-id="447376">Pour être sûr que ces modifications des variables d'environnement sont bien pris en compte, ouvrez la console de Windows (démarrer -&gt; Accessoires -&gt; Invite de commandes) et tapez <code data-claire-semantic="console">echo %QTDIR%</code> puis <code data-claire-semantic="console">echo %QMAKESPEC%</code> et enfin <code data-claire-semantic="console">echo %path%</code> : vous devriez lire ce que vous avez entré précédemment.</p><p id="r-447377" data-claire-element-id="447377">Si ce n'est pas le cas, redémarrez votre ordinateur et revérifier.</p><p id="r-447378" data-claire-element-id="447378">Bien : passons maintenant à la compilation des sources.</p><p id="r-447379" data-claire-element-id="447379">Pour la compilation, ça se passe dans la console avec 3 petites commandes. Elles sont très vite tapées, mais sont extrêmement longues à se terminer.</p><aside id="r-447381" data-claire-element-id="447381" data-claire-semantic="warning"><p id="r-447380" data-claire-element-id="447380">Ne lancez les commandes que quand je vous le dirai !</p></aside><p id="r-447382" data-claire-element-id="447382">Ces trois commandes sont : configure, nmake et nmake clean.</p><p id="r-447383" data-claire-element-id="447383">La première, configure, sert à préparer le terrain à la compilation. Cette commande peut mettre de 10 à 30 minutes pour se terminer. C'est avec cette commande qu'on peut spécifier le compilateur à utiliser avec l'option <code data-claire-semantic="console">-platform</code> (nous on l'a fait avec la variable d'environnement QMAKESPEC, qui est utilisée par défaut) ainsi que le mode de compilation : en <em>debug </em>ou en <em>release</em>. Nous, on va compiler en <em>debug</em>. En effet, si on compile en release, on ne peux pas débugger notre programme...</p><p id="r-447384" data-claire-element-id="447384">La seconde, nmake lance la compilation proprement dite. Tous les fichiers sont ainsi compilés avec le compilateur de Visual Studio. C'est durant cette opération que qmake, Qt Designer et les autres les autres logiciels habituellement fournis sont compilés. C'est la phase la plus longue : de 2 à 4 heures.</p><p id="r-447385" data-claire-element-id="447385">Enfin, la dernière commande, nmake clean sert à supprimer tous les fichiers générés lors de la compilation, et il y en a un paquet : pas moins de 3 giga-octets :o ! Elle dure environ 10 à 20 minutes.</p><p id="r-447386" data-claire-element-id="447386">Maintenant, on va lancer ces 3 commandes, mais d'abord, il faut lancer la console de Visual Studio : démarrer -&gt; Visual Studio 2010 Express -&gt; Invite de commandes de Visual Studio (2010) et se rendre dans le répertoire où se trouvent les sources avec la commande cd. Pour y aller, on va utiliser notre variable d'environnement QTDIR. La commande à taper est <code data-claire-semantic="console">cd %QTDIR%</code>. Pour lancer la compilation, tapez : <code data-claire-semantic="console">configure &amp; nmake &amp; nmake clean</code>. Cela lancera les 3 commandes successivement après avoir demandé le type de licence à utiliser. Dans notre cas, c'est la licence gratuite. Ensuite, il faut bien évidement accepter cette licence. Après cela, il n'y a plus aucune intervention de votre part.</p><p id="r-447387" data-claire-element-id="447387">Vous devriez avoir ceci maintenant :</p><figure id="r-447389" data-claire-element-id="447390"><img id="r-447388" data-claire-element-id="447388" src="medias/uploads.siteduzero.com_files_271001_272000_271856.png" alt="Image utilisateur"/></figure><p id="r-447391" data-claire-element-id="447391">Maintenant, vous pouvez aller au cinéma, à la piscine, voire même aux deux, ou bien regarder défiler tous les fichiers en train d'être compilés...</p><p id="r-447392" data-claire-element-id="447392">Si vous avez choisit de regarder défiler les fichiers, vous vous apercevrez que parfois il y a des <em>warning</em>. Ne vous en occupez pas.</p><aside id="r-447394" data-claire-element-id="447394" data-claire-semantic="information"><p id="r-447393" data-claire-element-id="447393">Les durées que je donne sont données à titre indicatives et dépendent de votre PC. A titre informatif, l'ensemble des 3 opérations ont durée un peu plus de 3 heures sur un Intel Core i7 870...</p></aside><aside id="r-447396" data-claire-element-id="447396" data-claire-semantic="warning"><p id="r-447395" data-claire-element-id="447395">Veillez à avoir au moins 4 giga-octets de libre sur votre disque dur !</p></aside><p id="r-447397" data-claire-element-id="447397"><em>4 heures plus tard...</em></p><p id="r-447398" data-claire-element-id="447398">Maintenant que la compilation est terminée, on peut passer à la configuration de l'IDE (en fait, il n'y a pas besoin d'attendre la fin de la compilation ;) ).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010">Utiliser Qt avec Visual Studio 2010</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
Compiler Qt
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
Configuration de Visual Studio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/gestion-de-votre-projet">
Gestion de votre projet
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
<span class="next">Configuration de Visual Studio</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfigurationdeVisualStudio"></a><h2>Configuration de Visual Studio</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
<span class="arrow"></span>
<span class="next">Compiler Qt</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/gestion-de-votre-projet">
<span class="next">Gestion de votre projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-447401" data-claire-element-id="447401">Nous voilà maintenant dans la partie de configuration. L'ennui c'est qu'il faudra faire ce qui va suivre pour chaque nouveau projet. Heureusement, ça ne prend pas plus de deux minutes.</p><h2 id="r-creation-d-un-projet-3" data-claire-element-id="447434">Création d'un projet</h2><p id="r-447402" data-claire-element-id="447402">Tout d'abord, il faut créer un nouveau projet, mais pas de projet &quot;Console&quot; comme vous en aviez l'habitude. Maintenant, il faut créer un projet &quot;Makefile&quot;. Dans l'assistant de création de projets, cliquez sur Général et choisissez Projet Makefile.</p><figure id="r-447404" data-claire-element-id="447405"><img id="r-447403" data-claire-element-id="447403" src="medias/uploads.siteduzero.com_files_269001_270000_269265.png" alt="Image utilisateur"/></figure><p id="r-447406" data-claire-element-id="447406">Entrez un nom pour le projet et cliquez sur OK.<br/> Une nouvelle fenêtre apparaît :</p><figure id="r-447408" data-claire-element-id="447409"><img id="r-447407" data-claire-element-id="447407" src="medias/uploads.siteduzero.com_files_269001_270000_269261.png" alt="Image utilisateur"/></figure><p id="r-447410" data-claire-element-id="447410">Cliquez sur Suivant.</p><p id="r-447411" data-claire-element-id="447411">On arrive dans la partie configuration de la génération Debug. C'est la version qui est utilisée par le développeur pour le déboggage de l'application.</p><p id="r-447412" data-claire-element-id="447412">C'est ici qu'il va falloir renseigner quelques champs, ceux de la partie de gauche pour être exact.</p><p id="r-447413" data-claire-element-id="447413">Nous allons renseigner les commandes de compilation que nous devrions taper à la main dans la console.</p><p id="r-447414" data-claire-element-id="447414">Pour le premier champ, Ligne de commande Build, il faut mettre : qmake &amp; nmake. Dans Ligne de commande ReBuild, il faut mettre qmake -project &amp; qmake &amp; nmake. Ces commandes seront appelées lors de la génération du projet.<br/> Dans le champ Commandes de nettoyage, ne mettez rien, en tout cas, pour l'instant. En effet, en temps normal, je vous aurais dit de mettre nmake clean, pour effacer les fichiers générés lors de la compilation et qui sont inutiles pour la suite. Cependant, il y a un bug connu de Visual Studio 2010 qui fait qu'il n'arrive pas a exécuter la commande. Ca devrais être corrigé dans le prochain service pack.<br/> Enfin, dans Sortie, mettez avant le nom de l'exécutable Debug\. Si vous ne mettez pas cela, et si vous essayez de lancer le déboggage, vous aurez ceci :</p><figure id="r-447416" data-claire-element-id="447417"><img id="r-447415" data-claire-element-id="447415" src="medias/uploads.siteduzero.com_files_269001_270000_269263.png" alt="Image utilisateur"/></figure><p id="r-447418" data-claire-element-id="447418">Donc, si vous avez tout bien suivi, vous avez ceci devant vos yeux :</p><figure id="r-447420" data-claire-element-id="447421"><img id="r-447419" data-claire-element-id="447419" src="medias/uploads.siteduzero.com_files_269001_270000_269429.png" alt="Image utilisateur"/></figure><p id="r-447422" data-claire-element-id="447422">Bien. Cliquez sur Suivant. Ici, c'est pour la version Release. C'est la version destinée à la distribution. Comme il n'y a pas d'informations pour le déboggage, cette version est un peu moins lourde.</p><p id="r-447423" data-claire-element-id="447423">Ici, c'est très simple : ce sont les même paramètres que précédemment, à la différence près que nmake devient nmake release, et que le répertoire pour le fichier de sortie est Release\.</p><p id="r-447424" data-claire-element-id="447424">Vous devez donc avoir ceci :</p><figure id="r-447426" data-claire-element-id="447427"><img id="r-447425" data-claire-element-id="447425" src="medias/uploads.siteduzero.com_files_269001_270000_269430.png" alt="Image utilisateur"/></figure><p id="r-447428" data-claire-element-id="447428">Tout est presque prêt. Il y a juste une manipulation à connaître pour pouvoir compiler. Pour compiler (Build), l'IDE va exécuter la commande <code data-claire-semantic="console">qmake &amp; nmake</code>. Seulement, lors de la toute première compilation, le fichier .pro n'existe pas encore. C'est la commande <code data-claire-semantic="console">qmake -project</code> qui génère ce fichier. Avant de lancer la première génération, il faut regénérer (ReBuild) le projet.</p><div id="r-447430" data-claire-element-id="447430" data-claire-semantic="question"><p id="r-447429" data-claire-element-id="447429">Mais pourquoi ne pas mettre <em>qmake -project</em> dans la commande de génération ?</p></div><p id="r-447431" data-claire-element-id="447431">Eh bien tout simplement parce que le fichier .pro serait écrasé à chaque compilation, ce qui entraînerait la perte des ajouts effectués à la main, comme le chargement de modules (WebKit, ...).</p><aside id="r-447433" data-claire-element-id="447433" data-claire-semantic="warning"><p id="r-447432" data-claire-element-id="447432">Si vous effectué une regénération, pour rajouter les nouveaux fichiers au fichier .pro, il faudra rajouter manuellement les éventuelles modifications déjà effectués, comme le chargement de modules.</p></aside><h2 id="r-configuration-du-projet-1" data-claire-element-id="447462">Configuration du projet</h2><p id="r-447435" data-claire-element-id="447435">Avant de pouvoir commencer à développez, il faut pouvoir compiler. Pour que Visual Studio y arrive, il faut lui dire où se trouvent les fichiers sources de Qt. Pour faire cela, cliquez droit sur le projet et sélectionner Propriétés, comme ceci :</p><figure id="r-447437" data-claire-element-id="447438"><img id="r-447436" data-claire-element-id="447436" src="medias/uploads.siteduzero.com_files_269001_270000_269266.png" alt="Image utilisateur"/></figure><p id="r-447439" data-claire-element-id="447439">Ensuite, sélectionnez Propriétés de configuration puis Répertoires VC++. Dans la liste déroulante &quot;Configuration&quot;, sélectionnez &quot;Toutes les configurations&quot;. En pratique, cela sert à avoir une configuration différente si on travaille en mode Debug ou Release. Pour nous, comme c'est pour réussir la compilation, c'est les mêmes paramètres.</p><p id="r-447440" data-claire-element-id="447440">Vous avez normalement ceci devant vos yeux :</p><figure id="r-447442" data-claire-element-id="447443"><img id="r-447441" data-claire-element-id="447441" src="medias/uploads.siteduzero.com_files_269001_270000_269267.png" alt="Image utilisateur"/></figure><p id="r-447444" data-claire-element-id="447444">Bien. Maintenant, dans la liste, sélectionnez le premier : Répertoires d'exécutables, et cliquez sur &quot;&lt;Modifier...&gt;&quot;.</p><p id="r-447445" data-claire-element-id="447445">Ici, nous allons ajouter un nouveau chemin, car oui, ce qu'il y figure sont des chemins d'accès pour chercher des fichiers exécutables, comme qmake par exemple. En fait, ça correspond à la variable path qu'on a modifiée tout à l'heure.</p><p id="r-447446" data-claire-element-id="447446">Pour ajouter un nouveau chemin, cliquez sur</p><figure id="r-447448" data-claire-element-id="447449"><img id="r-447447" data-claire-element-id="447447" src="medias/uploads.siteduzero.com_files_127001_128000_127553.png" alt="Image utilisateur"/></figure><p id="r-447450" data-claire-element-id="447450">et tapez $(QTDIR)\bin.</p><div id="r-447452" data-claire-element-id="447452" data-claire-semantic="question"><p id="r-447451" data-claire-element-id="447451">Pourquoi $(QTDIR) ?</p></div><p id="r-447453" data-claire-element-id="447453">Eh bien, vous vous souvenez, on a défini une nouvelle variable d'environnement. On l'avait appelée QTDIR. Ici, $(QTDIR) va être remplacée par le contenu de cette variable. Mais si vous mettez par exemple C:\Qt\4.7.0\bin ça marchera aussi, à condition que Qt soit installé dans ce répertoire.</p><p id="r-447454" data-claire-element-id="447454">C'est là tout l'intérêt des variables d'environnement. Une fois définie, elle est la même chez tout le monde, indépendamment du répertoire d'installation.</p><p id="r-447455" data-claire-element-id="447455">Après validation, sélectionnez Répertoires Include. Vous l'aurez deviné, on va maintenant dire à Visual Studio où chercher les fichiers d'include correspondant à Qt.</p><p id="r-447456" data-claire-element-id="447456">Pour Qt, ces fichiers sont dans C:\Qt\4.7.0\include si vous avez mis les fichiers dans ce répertoire-là.</p><div id="r-447458" data-claire-element-id="447458" data-claire-semantic="question"><p id="r-447457" data-claire-element-id="447457">Eh, mais on ne peut pas utiliser notre variable d'environnement ?</p></div><p id="r-447459" data-claire-element-id="447459">C'est bien :) ! Bien sûr que l'on peut, et on va même le faire.<br/> Donc, comme avant, créez une nouvelle ligne et rentrez &quot;$(QTDIR)\include&quot;.</p><p id="r-447460" data-claire-element-id="447460">Maintenant, il nous faut encore créer une dernière variable : celle pour les bibliothèques (les fameux fichiers .lib ;) ).<br/> Dans la liste déroulante, sélectionnez Répertoires de bibliothèques. Ceux-ci se trouvent dans $(QTDIR)\lib.</p><p id="r-447461" data-claire-element-id="447461">Bien, tout est prêt, vous pouvez cliquer sur Appliquer puis Ok et commencer à coder :p .</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010">Utiliser Qt avec Visual Studio 2010</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
Compiler Qt
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
Configuration de Visual Studio
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/gestion-de-votre-projet">
Gestion de votre projet
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
<span class="arrow"></span>
<span class="next">Compiler Qt</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/gestion-de-votre-projet">
<span class="next">Gestion de votre projet</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gestiondevotreprojet"></a><h2>Gestion de votre projet</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
<span class="arrow"></span>
<span class="next">Configuration de Visual Studio</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-447464" data-claire-element-id="447464">Maintenant, quelques petites précisions et astuces pour votre projet.</p><h2 id="r-intellisense-1" data-claire-element-id="447474">IntelliSense</h2><p id="r-447465" data-claire-element-id="447465">Normalement, si vous essayez de compiler ce code, et s'il n'y a pas d'erreur, cela voudra dire que les étapes précédentes ont bien fonctionné.</p><pre id="r-447466" data-claire-element-id="447466"><code data-claire-semantic="cpp">#include &lt;QtGui/qapplication.h&gt;
#include &lt;QtGui/qpushButton.h&gt;

int main(int argc, char *argv[])
{
	QApplication app(argc, argv);

	QPushButton bouton(&quot;Bonjour les Zéros !&quot;);
	bouton.show();

	QObject::connect(&amp;bouton, SIGNAL(clicked()), &amp;app, SLOT(quit()));

	return app.exec();
}</code></pre><div id="r-447468" data-claire-element-id="447468" data-claire-semantic="question"><p id="r-447467" data-claire-element-id="447467">Pourquoi dans les includes, tu mets QtGui/ avant le nom de classe ?</p></div><p id="r-447469" data-claire-element-id="447469">Eh bien, c'est la seule façon de bénéficier de l'IntelliSense de Visual Studio. L'IntelliSense est l'auto-complétion de Visual Studio. Cela permet d'afficher les méthodes disponibles pour un objet en tapant par exemple <code data-claire-semantic="cpp">bouton. </code> juste après sa création. On verra alors à l'écran :</p><figure id="r-447471" data-claire-element-id="447472"><img id="r-447470" data-claire-element-id="447470" src="medias/uploads.siteduzero.com_files_269001_270000_269264.png" alt="Image utilisateur"/></figure><p id="r-447473" data-claire-element-id="447473">La seule condition pour que ça fonctionne est qu'il faut générer la solution (touche F7) lors de chaque ajout d'include. En fait, le QtGui est le module où se trouve le fichier d'include. Pour connaitre le module, il suffit de regarder dans la documentation de la classe.</p><h2 id="r-les-dll" data-claire-element-id="447484">Les DLL</h2><p id="r-447475" data-claire-element-id="447475">Vous n'êtes pas sans savoir que pour utiliser un programme Qt, il faut plusieurs DLL. 2 sont obligatoires : QtGui4.dll et QtCore4.dll et une DLL de MinGW si vous utilisez ce compilateur-là. Pour le compilateur de Visual Studio, il y en a également 2, mais cela dépend si le projet est généré en mode Debug ou en mode Release.</p><p id="r-447476" data-claire-element-id="447476">Si c'est en mode Debug, il faut utiliser les DLL qui se terminent par la lettre d (comme debug).<br/> Pour la génération en mode Release, ce sont les DLL qui ne se terminent pas par la lettre d.</p><p id="r-447477" data-claire-element-id="447477">Elles se trouvent toutes dans le répertoire C:\Qt\4.7.0.</p><p id="r-447478" data-claire-element-id="447478">Si vous lancez votre logiciel en mode déboggage depuis Visual Studio, vous n'avez pas besoin de ces DLL.</p><p id="r-447479" data-claire-element-id="447479">Eh bien, ce n'était pas très dur, mais long !</p><p id="r-447480" data-claire-element-id="447480">Vous pouvez maintenant utiliser votre IDE favori avec Qt.</p><p id="r-447481" data-claire-element-id="447481"><cite>Citation : Xavinou</cite></p><blockquote id="r-447483" data-claire-element-id="447483"><p id="r-447482" data-claire-element-id="447482">Au revoir et à bientôt !</p></blockquote>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010">Utiliser Qt avec Visual Studio 2010</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/compiler-qt">
Compiler Qt
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
Configuration de Visual Studio
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/gestion-de-votre-projet">
Gestion de votre projet
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/utiliser-qt-avec-visual-studio-2010/configuration-de-visual-studio">
<span class="arrow"></span>
<span class="next">Configuration de Visual Studio</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/utiliser-qt-avec-visual-studio-2010.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:07:15 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/utiliser-qt-avec-visual-studio-2010.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:37:14 GMT -->
</html>
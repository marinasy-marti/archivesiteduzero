<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/creer-des-interfaces-graphiques-en-c-avec-gtkmm.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:40:27 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creer-des-interfaces-graphiques-en-c-avec-gtkmm.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:11:40 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Créer des interfaces graphiques en C++ avec gtkmm !</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Créer des interfaces graphiques en C++ avec gtkmm !</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#CrerdesinterfacesgraphiquesenCavecgtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a><br/><a href="#Introduction">Introduction</a><br/><a href="#Qu039est-cequeGTKgtkmm">Qu&#039;est-ce que GTK+ ? gtkmm ?</a><br/><a href="#Leswidgets">Les widgets</a><br/><a href="#Installationdegtkmm">Installation de gtkmm</a><br/><a href="#Compilervotrepremireapplication">Compiler votre première application !</a><br/><a href="#Votrepremirefentre">Votre première fenêtre</a><br/><a href="#Quelquesmotssurlesinclude...">Quelques mots sur les #include...</a><br/><a href="#Explicationducodedebase">Explication du code de base</a><br/><a href="#Modifierunwidget">Modifier un widget</a><br/><a href="#Ajoutd039unwidgetlafentre">Ajout d&#039;un widget à la fenêtre</a><br/><a href="#Utiliserl039hritage">Utiliser l&#039;héritage !</a><br/><a href="#LessignauxetlesfonctionsderappelPartie1_2">Les signaux et les fonctions de rappel (Partie 1/2)</a><br/><a href="#Fonctionnementdessignaux">Fonctionnement des signaux</a><br/><a href="#Connexiond039unsignalunefonctionderappel">Connexion d&#039;un signal à une fonction de rappel</a><br/><a href="#Exemple">Exemple</a><br/><a href="#LessignauxetlesfonctionsderappelPartie2_2">Les signaux et les fonctions de rappel (Partie 2/2)</a><br/><a href="#Crezvospropresfonctionsderappel">Créez vos propres fonctions de rappel</a><br/><a href="#Crezvospropressignaux">Créez vos propres signaux</a><br/><a href="#Exemple">Exemple</a><br/><a href="#Organiservosfentresaveclesconteneurs">Organiser vos fenêtres avec les conteneurs</a><br/><a href="#Lesdiffrentsconteneurs">Les différents conteneurs</a><br/><a href="#Leconteneurd039alignement">Le conteneur d&#039;alignement</a><br/><a href="#Lesbotes">Les boîtes</a><br/><a href="#Lesbotespourlesboutons">Les boîtes pour les boutons</a><br/><a href="#Lestableaux">Les tableaux</a><br/><a href="#Labarred039onglets">La barre d&#039;onglets</a><br/><a href="#Lesbarresdedfilement">Les barres de défilement</a><br/><a href="#Lesbotesdedialogue">Les boîtes de dialogue</a><br/><a href="#Lesbotesdedialoguedemessage">Les boîtes de dialogue de message</a><br/><a href="#Botededialoguedeslectiondecouleur">Boîte de dialogue de sélection de couleur</a><br/><a href="#Botededialoguedeslectiondepolice">Boîte de dialogue de sélection de police</a><br/><a href="#Botededialoguedeslectiondefichiers">Boîte de dialogue de sélection de fichier(s)</a><br/><a href="#Labotededialoguepropos">La boîte de dialogue À propos</a><br/><a href="#Botededialoguepersonnalise">Boîte de dialogue personnalisée</a><br/><a href="#Lesprincipauxwidgets">Les principaux widgets</a><br/><a href="#Lesdiffrentsboutons">Les différents boutons</a><br/><a href="#Widgetsd039affichage">Widgets d&#039;affichage</a><br/><a href="#Widgetsdesaisie">Widgets de saisie</a><br/><a href="#Menusbarresd039outilsbarred039tat">Menus, barres d&#039;outils, barre d&#039;état</a><br/><a href="#Lesmenus">Les menus</a><br/><a href="#Lesbarresd039outils">Les barres d&#039;outils</a><br/><a href="#Legestionnaired039interfaceutilisateur">Le gestionnaire d&#039;interface utilisateur</a><br/><a href="#Labarred039tat">La barre d&#039;état</a><br/></div>
<a name="CrerdesinterfacesgraphiquesenCavecgtkmm"></a><h2>Créer des interfaces graphiques en C++ avec gtkmm !</h2><div class="content" role="article">
<p id="r-397139" data-claire-element-id="397139">Vous voulez créer des interfaces graphiques en C++ avec GTK+ ?<br/> Eh bien, c'est votre jour de chance !<br/> Vous voici sur un tutoriel expliquant comment créer de A à Z une <em>interface graphique</em> avec gtkmm !</p><p id="r-397140" data-claire-element-id="397140">Gtkmm vous permet de créer des <em>interfaces graphiques</em> avec des boutons, des menus, des barres d'outils et beaucoup d'autres <em>widgets</em> facilement.</p><p id="r-397141" data-claire-element-id="397141">Vous ne connaissez rien à la conception d'<em>interfaces graphiques</em> ?<br/> Eh bien, ce n'est pas grave du tout, car, ici, nous apprenons tout à partir de zéro !</p><aside id="r-397143" data-claire-element-id="397143" data-claire-semantic="warning"><p id="r-397142" data-claire-element-id="397142">Pour suivre ce tutoriel, vous devez avoir des connaissances en C++ et en programmation orientée objet.<br/> Si vous n'en avez pas, allez lire les deux premières parties (au moins) du <a href="http://www.siteduzero.com/tutoriel-3-11406-apprenez-a-programmer-en-c.html">tutoriel sur le C++ de M@teo21 et de Nanoc</a>.</p></aside><aside id="r-397145" data-claire-element-id="397145" data-claire-semantic="warning"><p id="r-397144" data-claire-element-id="397144">Attention aux utilisateurs de Windows.<br/> La nouvelle version de ce tutoriel présente gtkmm 3.<br/> Cependant, à l’heure où j’écris ces lignes, la version 3 de gtkmm pour Windows n’est pas encore sortie. Par conséquent, certaines parties de ce tutoriel risquent de ne pas fonctionner.<br/> Il faudra donc attendre que cette version sorte pour tester l’ensemble des programmes de ce tutoriel.</p></aside>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Introduction"></a><h2>Introduction</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
<span class="next">Qu&#039;est-ce que GTK+ ? gtkmm ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-397148" data-claire-element-id="397148">Vous ne connaissez pas du tout gtkmm ?<br/> Vous ne savez même pas ce qu'est un <em>widget</em> ?<br/> Pas de problème, car c'est ici que ça commence !</p><p id="r-397149" data-claire-element-id="397149">Dans ce chapitre, vous découvrirez GTK+ et gtkmm, vous apprendrez ce que sont les <em>widgets</em> et, par-dessus tout, vous compilerez votre première application utilisant gtkmm !</p><p id="r-397150" data-claire-element-id="397150">Ça ne donne pas faim, cela ? :p</p>
</div><a name="Qu039est-cequeGTKgtkmm"></a><h2>Qu&#039;est-ce que GTK+ ? gtkmm ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">
<span class="arrow"></span>
<span class="next">Introduction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
<span class="next">Les widgets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-qu-est-ce-que-gtk-gtkmm" data-claire-element-id="397215">Qu'est-ce que GTK+ ? gtkmm ?</h4><h5 id="r-presentation-de-gtk" data-claire-element-id="397164">Présentation de GTK+</h5><h6 id="r-presentation-generale-3" data-claire-element-id="397155">Présentation générale</h6><p id="r-397151" data-claire-element-id="397151">GTK+ est un <em>ensemble de bibliothèques</em> permettant de créer des <em>interfaces graphiques</em>, donc des applications fenêtrées, en C.</p><p id="r-397152" data-claire-element-id="397152">Au début, GTK+ avait été créé pour le logiciel GIMP, d'où son nom d'ailleurs :) .</p><p id="r-397153" data-claire-element-id="397153">GTK+ est <strong>libre</strong>, ce qui vous permet de créer des logiciels propriétaires sans contrainte.</p><p id="r-397154" data-claire-element-id="397154">De plus, GTK+ est <strong>portable</strong> ; il fonctionne sur la plupart des systèmes d'exploitation : GNU/Linux, Mac OS X et Windows.</p><h6 id="r-presentation-technique" data-claire-element-id="397160">Présentation technique</h6><p id="r-397156" data-claire-element-id="397156">GTK+ utilise la <em>programmation orientée objet</em> même si elle est programmée en C.</p><p id="r-397157" data-claire-element-id="397157">Elle est utilisable dans de nombreux autres langages tels C++, PHP, Java et Python pour ne citer que ceux-ci.</p><p id="r-397158" data-claire-element-id="397158">Pour vous convaincre d'utiliser cette bibliothèque, sachez que GTK+ est utilisée par de nombreux projets de qualité comme GIMP (bien sûr :-° ) et le fameux gestionnaire de bureau GNOME.</p><p id="r-397159" data-claire-element-id="397159">Étant donné que ces projets sérieux utilisent GTK+ et qu'elle existe depuis plus d'une décennie, vous pouvez être sûr que cette bibliothèque est de qualité.</p><h6 id="r-possibilites-de-gtk" data-claire-element-id="397163">Possibilités de GTK+</h6><p id="r-397161" data-claire-element-id="397161">Cette bibliothèque vous permettra de créer des fenêtres avec des boutons, des images, des menus, des barres d'outils, des barres d'état, des zones de texte, etc.</p><p id="r-397162" data-claire-element-id="397162">Elle gère également les <em>événements</em>, les <em>threads</em> et bien d'autres choses que nous verrons plus tard.</p><h5 id="r-les-differentes-bibliotheques-de-gtk" data-claire-element-id="397182">Les différentes bibliothèques de GTK+</h5><p id="r-397165" data-claire-element-id="397165">GTK+ est basée sur plusieurs bibliothèques :</p><ul id="r-397178" data-claire-element-id="397178"><li id="r-397167" data-claire-element-id="397167"><p id="r-397166" data-claire-element-id="397166">GLib : la <strong>base</strong> de GTK+ (boucle d'événements, threads, système orienté objet, etc.) ;</p></li><li id="r-397169" data-claire-element-id="397169"><p id="r-397168" data-claire-element-id="397168">Pango : pour le <strong>texte</strong> (mise en forme, internationalisation) ;</p></li><li id="r-397171" data-claire-element-id="397171"><p id="r-397170" data-claire-element-id="397170">Cairo : pour le <strong>dessin 2D</strong> ;</p></li><li id="r-397173" data-claire-element-id="397173"><p id="r-397172" data-claire-element-id="397172">Glade : pour la création d'<em>interfaces graphiques</em> avec un <strong>logiciel</strong> ;</p></li><li id="r-397175" data-claire-element-id="397175"><p id="r-397174" data-claire-element-id="397174">ATK : pour l'<strong>accessibilité</strong> (lecteurs d'écran, loupes, ...) ;</p></li><li id="r-397177" data-claire-element-id="397177"><p id="r-397176" data-claire-element-id="397176">et quelques autres.</p></li></ul><p id="r-397179" data-claire-element-id="397179">Il est certain que je vais vous parler des 4 premières.<br/> Cependant, n'ayant jamais utilisé ATK, je ne pourrai pas vous en parler.</p><aside id="r-397181" data-claire-element-id="397181" data-claire-semantic="warning"><p id="r-397180" data-claire-element-id="397180">ATTENTION !<br/> Bien qu'il existe un logiciel pour créer ses propres fenêtres, il est préférable de savoir en créer en C++ avant.</p></aside><h5 id="r-presentation-de-gtkmm" data-claire-element-id="397214">Présentation de gtkmm</h5><p id="r-397183" data-claire-element-id="397183">Gtkmm est une surcouche de GTK+ pour le langage C++.</p><p id="r-397184" data-claire-element-id="397184">Elle permet de créer des <em>interfaces graphiques</em> en utilisant les mécanismes du C++ plutôt que ceux du C.</p><p id="r-397185" data-claire-element-id="397185">Elle utilise, bien sûr, la <em>programmation orientée objet</em> (héritage, polymorphisme, etc.).</p><p id="r-397186" data-claire-element-id="397186">Il existe également les surcouches des autres bibliothèques présentées plus haut :</p><ul id="r-397193" data-claire-element-id="397193"><li id="r-397188" data-claire-element-id="397188"><p id="r-397187" data-claire-element-id="397187">glibmm ;</p></li><li id="r-397190" data-claire-element-id="397190"><p id="r-397189" data-claire-element-id="397189">libglademm ;</p></li><li id="r-397192" data-claire-element-id="397192"><p id="r-397191" data-claire-element-id="397191">etc.</p></li></ul><div id="r-397195" data-claire-element-id="397195" data-claire-semantic="question"><p id="r-397194" data-claire-element-id="397194">Pourquoi utiliser gtkmm à la place de GTK+ ?</p></div><p id="r-397196" data-claire-element-id="397196">Premièrement, cela vous permet de programmer en C++ avec la <em>programmation orientée objet</em>.</p><p id="r-397197" data-claire-element-id="397197">Autre point important : le compilateur C++ détectera des erreurs non détectées en C.</p><p id="r-397198" data-claire-element-id="397198">De plus, vous pouvez utiliser l'<em>héritage</em> pour créer de nouveaux <em>widgets</em> (nous verrons dans la prochaine sous-partie ce que c'est) à partir de ceux existants.</p><p id="r-397199" data-claire-element-id="397199">Enfin, le code à écrire en C++ est plus court qu'en C.</p><div id="r-397201" data-claire-element-id="397201" data-claire-semantic="question"><p id="r-397200" data-claire-element-id="397200">Pourquoi utiliser gtkmm à la place de Qt (la bibliothèque graphique expliquée dans le cours de M@teo21) ?</p></div><p id="r-397202" data-claire-element-id="397202">Gtkmm est écrit dans un style plus proche du C++ que Qt.</p><p id="r-397203" data-claire-element-id="397203">Par exemple, Qt utilise la classe <code data-claire-semantic="cpp">QVector</code> au lieu <code data-claire-semantic="cpp">std::vector</code>, classe présente dans la bibliothèque standard.</p><p id="r-397204" data-claire-element-id="397204">Donc, si vous connaissez cette dernière, inutile d'en réapprendre une nouvelle.</p><p id="r-397205" data-claire-element-id="397205">De plus, gtkmm ne modifie pas le langage C++ comme le fait Qt avec ses <em>signaux</em> et ses <em>slots</em>.</p><p id="r-397206" data-claire-element-id="397206">Finalement, vous pouvez avoir une bonne intégration avec le bureau GNOME.</p><div id="r-397208" data-claire-element-id="397208" data-claire-semantic="question"><p id="r-397207" data-claire-element-id="397207">À quoi ressemble un programme utilisant gtkmm ?</p></div><p id="r-397209" data-claire-element-id="397209">Je vais vous montrer un programme qui affiche une fenêtre à l'écran :</p><pre id="r-397210" data-claire-element-id="397210"><code data-claire-semantic="cpp">#include &lt;gtkmm.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397211" data-claire-element-id="397211">Court, n'est-ce pas :soleil: ?</p><aside id="r-397213" data-claire-element-id="397213" data-claire-semantic="warning"><p id="r-397212" data-claire-element-id="397212">Je vous ai montré ce code pour vous montrer à quoi ressemble gtkmm.<br/> Ne vous en faites pas si vous n'y comprenez rien (c'est tout à fait normal ;) ) ; je vais vous expliquer tout cela lors du prochain chapitre.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">
<span class="arrow"></span>
<span class="next">Introduction</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
<span class="next">Les widgets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leswidgets"></a><h2>Les widgets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce que GTK+ ? gtkmm ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
<span class="next">Installation de gtkmm</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-widgets-6" data-claire-element-id="397286">Les widgets</h4><h5 id="r-que-sont-les-widgets" data-claire-element-id="397220">Que sont les <em>widgets</em> ?</h5><p id="r-397216" data-claire-element-id="397216">Un <em>widget</em> est un <strong>composant</strong> dans une <em>interface graphique</em>.</p><p id="r-397217" data-claire-element-id="397217">Sans widget, il n'y aurait rien dans les fenêtres de vos applications...<br/> il n'y aurait même pas de fenêtre... :D</p><p id="r-397218" data-claire-element-id="397218">Il y a des <em>widgets</em> avec lesquels l'utilisateur peut <strong>interagir</strong> comme les boutons et les zones de texte.</p><p id="r-397219" data-claire-element-id="397219">D'autres widgets servent à <strong>afficher des informations</strong> ou à <strong>arranger</strong> des widgets selon un ordre précis.</p><h5 id="r-widgets-fournis-par-gtkmm" data-claire-element-id="397285"><em>Widgets</em> fournis par gtkmm</h5><p id="r-397221" data-claire-element-id="397221">Il y a une pléthore de <em>widgets</em> utilisable avec gtkmm.<br/> Eh oui, tant que ça :lol: .</p><p id="r-397222" data-claire-element-id="397222">Je vais vous présenter les principaux.</p><h6 id="r-le-bouton-3" data-claire-element-id="397228">Le bouton</h6><p id="r-397223" data-claire-element-id="397223">Je pense que vous savez ce que c'est, je me trompe :euh: ?</p><p id="r-397224" data-claire-element-id="397224">Voici tout de même une image d'un <strong>bouton</strong> :</p><figure id="r-397226" data-claire-element-id="397227"><img id="r-397225" data-claire-element-id="397225" src="medias/uploads.siteduzero.com_files_240001_241000_240881.png" alt="Image utilisateur"/></figure><h6 id="r-la-case-a-cocher-1" data-claire-element-id="397234">La case à cocher</h6><p id="r-397229" data-claire-element-id="397229">Une <strong>case à cocher</strong> est un bouton à deux états : activé (coché) et désactivé (décoché) :</p><figure id="r-397231" data-claire-element-id="397232"><img id="r-397230" data-claire-element-id="397230" src="medias/uploads.siteduzero.com_files_240001_241000_240882.png" alt="Image utilisateur"/></figure><p id="r-397233" data-claire-element-id="397233">Cette case est cochée.</p><h6 id="r-la-fenetre-1" data-claire-element-id="397240">La fenêtre</h6><p id="r-397235" data-claire-element-id="397235">Je pense que vous savez très bien ce que c'est :</p><figure id="r-397237" data-claire-element-id="397238"><img id="r-397236" data-claire-element-id="397236" src="medias/uploads.siteduzero.com_files_240001_241000_240884.png" alt="Image utilisateur"/></figure><p id="r-397239" data-claire-element-id="397239">Les <strong>fenêtres</strong> que vous programmerez prendront l'apparence du système.</p><h6 id="r-le-menu-5" data-claire-element-id="397245">Le menu</h6><p id="r-397241" data-claire-element-id="397241">Un <strong>menu</strong> est un <em>widget</em> présentant plusieurs éléments que l'utilisateur peut choisir :</p><figure id="r-397243" data-claire-element-id="397244"><img id="r-397242" data-claire-element-id="397242" src="medias/uploads.siteduzero.com_files_240001_241000_240890.png" alt="Image utilisateur"/></figure><h6 id="r-la-barre-d-outils-3" data-claire-element-id="397250">La barre d'outils</h6><p id="r-397246" data-claire-element-id="397246">La <strong>barre d'outils</strong> sert à rendre plus accessibles certains des éléments les plus utilisés du <strong>menu</strong> :</p><figure id="r-397248" data-claire-element-id="397249"><img id="r-397247" data-claire-element-id="397247" src="medias/uploads.siteduzero.com_files_240001_241000_240893.png" alt="Image utilisateur"/></figure><h6 id="r-la-barre-d-etat-3" data-claire-element-id="397255">La barre d'état</h6><p id="r-397251" data-claire-element-id="397251">La <strong>barre d'état</strong> affiche des informations que nous savons déjà :lol: :</p><figure id="r-397253" data-claire-element-id="397254"><img id="r-397252" data-claire-element-id="397252" src="medias/uploads.siteduzero.com_files_241001_242000_241150.png" alt="Image utilisateur"/></figure><h6 id="r-les-zones-de-texte-uniligne-et-multiligne" data-claire-element-id="397265">Les zones de texte uniligne et multiligne</h6><p id="r-397256" data-claire-element-id="397256">Les <strong>zones de texte</strong> permettent à l'utilisateur d'entrer du texte.</p><p id="r-397257" data-claire-element-id="397257">Voici une <strong>zone de texte uniligne</strong> :</p><figure id="r-397259" data-claire-element-id="397260"><img id="r-397258" data-claire-element-id="397258" src="medias/uploads.siteduzero.com_files_241001_242000_241154.png" alt="Image utilisateur"/></figure><p id="r-397261" data-claire-element-id="397261">Et voici une <strong>zone de texte multiligne</strong> :</p><figure id="r-397263" data-claire-element-id="397264"><img id="r-397262" data-claire-element-id="397262" src="medias/uploads.siteduzero.com_files_241001_242000_241158.png" alt="Image utilisateur"/></figure><h6 id="r-la-barre-de-progression-1" data-claire-element-id="397270">La barre de progression</h6><p id="r-397266" data-claire-element-id="397266">La <strong>barre de progression</strong> indique à l'utilisateur l'avancement d'une opération plus ou moins longue :</p><figure id="r-397268" data-claire-element-id="397269"><img id="r-397267" data-claire-element-id="397267" src="medias/uploads.siteduzero.com_files_241001_242000_241163.png" alt="Image utilisateur"/></figure><h6 id="r-la-barre-d-onglets" data-claire-element-id="397275">La barre d'onglets</h6><p id="r-397271" data-claire-element-id="397271">La <strong>barre d'onglets</strong> permet d'afficher un seul <em>widget</em> à la fois, dans une <strong>fenêtre</strong> ayant une barre d'onglets :</p><figure id="r-397273" data-claire-element-id="397274"><img id="r-397272" data-claire-element-id="397272" src="medias/uploads.siteduzero.com_files_241001_242000_241167.png" alt="Image utilisateur"/></figure><h6 id="r-l-etiquette" data-claire-element-id="397284">L'étiquette</h6><p id="r-397276" data-claire-element-id="397276">Une <strong>étiquette</strong> affiche simplement du texte pour dire, par exemple, ce qu'il faut écrire dans une <strong>zone de texte</strong>.<br/> Elle sert donc à donner des informations utiles à l'utilisateur.</p><p id="r-397277" data-claire-element-id="397277">En voici une :</p><figure id="r-397279" data-claire-element-id="397280"><img id="r-397278" data-claire-element-id="397278" src="medias/uploads.siteduzero.com_files_241001_242000_241166.png" alt="Image utilisateur"/></figure><p id="r-397281" data-claire-element-id="397281">Cela fait le tour de tous les <em>widgets</em><em>quelques widgets</em> de gtkmm.</p><p id="r-397282" data-claire-element-id="397282">Je vous ai montré cela pour que vous sachiez à quoi vous attendre.</p><p id="r-397283" data-claire-element-id="397283">Passons dès maintenant à l'installation de gtkmm !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce que GTK+ ? gtkmm ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
<span class="next">Installation de gtkmm</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installationdegtkmm"></a><h2>Installation de gtkmm</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
<span class="arrow"></span>
<span class="next">Les widgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
<span class="next">Compiler votre première application !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-de-gtkmm" data-claire-element-id="397323">Installation de gtkmm</h4><h5 id="r-sous-linux-19" data-claire-element-id="397296">Sous Linux...</h5><p id="r-397287" data-claire-element-id="397287">Je vais détailler l'installation sous Ubuntu ; pour les autres distributions, ce devrait être semblable.</p><p id="r-397288" data-claire-element-id="397288">Pour ceux qui veulent installer gtkmm depuis les sources, <a href="http://developer.gnome.org/gtkmm-tutorial/unstable/sec-install-unix-and-linux.html.fr#sec-install-from-source">cliquez ici</a>.</p><p id="r-397289" data-claire-element-id="397289">Donc, sous Ubuntu, si vous n'avez pas de compilateur C++ (ça ne devrait pas être le cas), lancez la commande suivante :</p><pre id="r-397290" data-claire-element-id="397290"><code data-claire-semantic="console">sudo apt-get install g++</code></pre><p id="r-397291" data-claire-element-id="397291">Ceci installera le compilateur g++.</p><p id="r-397292" data-claire-element-id="397292">Ensuite, vous devez installer gtkmm avec la commande :</p><pre id="r-397293" data-claire-element-id="397293"><code data-claire-semantic="console">sudo apt-get install libgtkmm-3.0-dev</code></pre><p id="r-397294" data-claire-element-id="397294">L'installation prend quelques minutes.</p><p id="r-397295" data-claire-element-id="397295">Ce devrait être bon.<br/> Rendez-vous à la prochaine sous-partie pour la compilation de votre premier programme.</p><h5 id="r-sous-windows-27" data-claire-element-id="397322">Sous Windows...</h5><aside id="r-397298" data-claire-element-id="397298" data-claire-semantic="warning"><p id="r-397297" data-claire-element-id="397297">Gtkmm 3 (dernière version de gtkmm expliquée dans ce cours) n’est toujours pas sortie sous Windows. Par conséquent, il se peut que certains codes ne compilent pas chez vous.<br/> Il vous faudra donc patienter en attendant sa sortie.</p></aside><h6 id="r-telechargement-22" data-claire-element-id="397300">Téléchargement</h6><p id="r-397299" data-claire-element-id="397299">Veuillez télécharger gtkmm depuis le site officiel de GNOME.<br/><a href="http://ftp.gnome.org/pub/GNOME/binaries/win32/gtkmm/">Cliquez ici</a>, puis choisissez la dernière version (2.22 à l'heure où j'écris ces lignes) et téléchargez le fichier gtkmm-win32-devel-x.y.z.exe.</p><h6 id="r-installation-49" data-claire-element-id="397321">Installation</h6><p id="r-397301" data-claire-element-id="397301">Double-cliquez sur le fichier téléchargé et installez le programme.</p><p id="r-397302" data-claire-element-id="397302">Pour ce faire, choisissez la langue et vous devriez arriver sur une fenêtre semblable à celle-ci :</p><figure id="r-397304" data-claire-element-id="397305"><img id="r-397303" data-claire-element-id="397303" src="medias/uploads.siteduzero.com_files_241001_242000_241231.png" alt="Image utilisateur"/></figure><p id="r-397306" data-claire-element-id="397306">Ensuite, cliquez sur Suivant, J'accepte, Suivant et vous devriez arriver sur une fenêtre vous demandant dans quel dossier doit se trouver gtkmm.<br/> Vous pouvez garder celui par défaut ou le modifier à votre guise.</p><p id="r-397307" data-claire-element-id="397307">Cliquez sur Suivant et vous devriez arriver sur une fenêtre ayant plusieurs cases à cocher :</p><figure id="r-397309" data-claire-element-id="397310"><img id="r-397308" data-claire-element-id="397308" src="medias/uploads.siteduzero.com_files_241001_242000_241232.png" alt="Image utilisateur"/></figure><p id="r-397311" data-claire-element-id="397311">Sauf si vous savez ce que vous faites, gardez toutes les cases cochés.</p><p id="r-397312" data-claire-element-id="397312">Cliquez sur Suivant et enfin sur Installer.<br/> L'installation devrait durer quelques minutes :</p><figure id="r-397314" data-claire-element-id="397315"><img id="r-397313" data-claire-element-id="397313" src="medias/uploads.siteduzero.com_files_241001_242000_241235.png" alt="Image utilisateur"/></figure><p id="r-397316" data-claire-element-id="397316">À la fin de l'installation, cliquez sur Fermer :</p><figure id="r-397318" data-claire-element-id="397319"><img id="r-397317" data-claire-element-id="397317" src="medias/uploads.siteduzero.com_files_241001_242000_241237.png" alt="Image utilisateur"/></figure><p id="r-397320" data-claire-element-id="397320">Voilà, tout est installé, rendez-vous à la prochaine sous-partie pour tester votre installation toute fraîche, toute belle. :p</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
<span class="arrow"></span>
<span class="next">Les widgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
<span class="next">Compiler votre première application !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Compilervotrepremireapplication"></a><h2>Compiler votre première application !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
<span class="arrow"></span>
<span class="next">Installation de gtkmm</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">
<span class="next">Votre première fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-compiler-votre-premiere-application" data-claire-element-id="397411">Compiler votre première application !</h4><p id="r-397324" data-claire-element-id="397324">Le premier programme que vous allez compiler affichera une fenêtre de 200px par 200px.</p><p id="r-397325" data-claire-element-id="397325">Super :D !</p><p id="r-397326" data-claire-element-id="397326">Commençons tout de suite.</p><p id="r-397327" data-claire-element-id="397327">Veuillez copier-coller le code source suivant (il sera détaillé au prochain chapitre) :</p><pre id="r-397328" data-claire-element-id="397328"><code data-claire-semantic="cpp">#include &lt;gtkmm.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><h5 id="r-sous-linux-20" data-claire-element-id="397358">Sous Linux…</h5><p id="r-397329" data-claire-element-id="397329">Sous linux, j'utilise la ligne de commande ; si ce n'est pas votre cas, vous devrez configurer votre EDI.</p><aside id="r-397331" data-claire-element-id="397331" data-claire-semantic="warning"><p id="r-397330" data-claire-element-id="397330">Si vous utilisez Code::Blocks, allez voir la compilation sous Window et suivez ces instructions, car elles devraient être semblables.</p></aside><p id="r-397332" data-claire-element-id="397332">Rendez-vous au répertoire de votre fichier .cpp :</p><pre id="r-397333" data-claire-element-id="397333"><code data-claire-semantic="console">cd vers/dossier/de/mon/projet</code></pre><p id="r-397334" data-claire-element-id="397334">Ensuite, il vous suffit d'entrer la commande suivante pour compiler votre projet (si votre fichier ne s'appelle pas main.cpp, veuillez adapter la commande en conséquence, je vous fait confiance :) ) :</p><pre id="r-397335" data-claire-element-id="397335"><code data-claire-semantic="console">g++ main.cpp -o Fenetre `pkg-config gtkmm-3.0 --cflags --libs`</code></pre><aside id="r-397338" data-claire-element-id="397338" data-claire-semantic="warning"><p id="r-397336" data-claire-element-id="397336">ATTENTION !<br/> Il faut utiliser les accents graves (`) et non de simples apostrophes (') autour de <code data-claire-semantic="console">pkg-config gtkmm-3.0 --cflags --libs</code> pour que ce soit exécuté comme une commande.</p><p id="r-397337" data-claire-element-id="397337">De plus, si ça ne fonctionne pas, veuillez recopier cette ligne à la main, car il peut y avoir des problèmes avec les tirets.</p></aside><p id="r-397339" data-claire-element-id="397339">Pour ceux qui ne savent pas ce que fait cette commande, je vais la détailler un peu.</p><p id="r-397340" data-claire-element-id="397340">Après g++, il faut mettre les fichiers sources (.cpp) ; ici, il n'y en a qu'un : main.cpp.</p><p id="r-397341" data-claire-element-id="397341">Ensuite, après -o, il faut donner un nom à notre exécutable ; ici, je l'ai appelé Fenetre.</p><p id="r-397342" data-claire-element-id="397342">À la fin, c'est ce qu'il y a de nouveau :</p><pre id="r-397343" data-claire-element-id="397343"><code data-claire-semantic="console">`pkg-config gtkmm-3.0 --cflags --libs`</code></pre><p id="r-397344" data-claire-element-id="397344">Cela permet de dire au compilateur que nous allons utiliser gtkmm.</p><aside id="r-397346" data-claire-element-id="397346" data-claire-semantic="information"><p id="r-397345" data-claire-element-id="397345">Si vous voulez, vous pouvez utiliser <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">la nouvelle norme C++ 2011</a> en ajoutant l’argument <code data-claire-semantic="console">-std=c++0x</code> :</p></aside><pre id="r-397347" data-claire-element-id="397347"><code data-claire-semantic="console">g++ main.cpp -o Fenetre -std=c++0x `pkg-config gtkmm-3.0 --cflags --libs`</code></pre><p id="r-397348" data-claire-element-id="397348">Après la compilation, exécutez votre premier programme (<code data-claire-semantic="console">./Fenetre</code>) et vous devriez obtenir, à quelques détails près, ceci :</p><figure id="r-397350" data-claire-element-id="397351"><img id="r-397349" data-claire-element-id="397349" src="medias/uploads.siteduzero.com_files_240001_241000_240884.png" alt="Image utilisateur"/></figure><p id="r-397352" data-claire-element-id="397352">Votre première fenêtre :D !</p><h6 id="r-utilisation-de-gtkmm-avec-cmake" data-claire-element-id="397357">Utilisation de gtkmm avec CMake</h6><p id="r-397353" data-claire-element-id="397353">Si vous utilisez <a href="http://www.siteduzero.com/tutoriel-3-256838-introduction-aux-systemes-de-construction-logicielle-avec-cmake.html">CMake</a>, vous pouvez utilisez un fichier semblable à celui-ci :</p><pre id="r-397354" data-claire-element-id="397354"><code data-claire-semantic="bash">cmake_minimum_required(VERSION 2.6)

project(Fenetre)

find_package(PkgConfig)
pkg_check_modules(GTKMM gtkmm-3.0)

if(NOT GTKMM_FOUND)
    message(FATAL_ERROR &quot;gtkmm-3.0 not found!&quot;)
endif()

link_directories(
    ${GTKMM_LIBRARY_DIRS}
)
include_directories(
    ${GTKMM_INCLUDE_DIRS}
)

file(
    GLOB_RECURSE
    source_files
    src/*
)

add_executable(
    Fenetre
    ${source_files}
)

target_link_libraries(
    Fenetre
    ${GTKMM_LIBRARIES}
)</code></pre><p id="r-397355" data-claire-element-id="397355">Vos fichiers sources devront se trouver dans le répertoire src/.<br/> Vous pouvez par exemple utiliser ce fichier comme suit :</p><pre id="r-397356" data-claire-element-id="397356"><code data-claire-semantic="console">cd vers/le/dossier/contenant/CMakeLists.txt
mkdir build &amp;&amp; cd build
cmake ..
make
./Fenetre</code></pre><h5 id="r-sous-windows-28" data-claire-element-id="397410">Sous Windows…</h5><h6 id="r-compilation-8" data-claire-element-id="397378">Compilation</h6><p id="r-397359" data-claire-element-id="397359">Je vais détailler la compilation pour Code::Blocks ; si vous utilisez un autre EDI, vous devrez adapter les prochaines manipulations en conséquence.</p><p id="r-397360" data-claire-element-id="397360">Créez un nouveau projet C++ en console.<br/> Copiez le code source que je vous ai donné plus haut et coller-le dans le fichier main.cpp.</p><p id="r-397361" data-claire-element-id="397361">Une fois que c'est fait, enregistrez et aller dans le menu <em>Project-&gt;Properties…</em><br/> Ensuite, allez dans l'onglet <em>Build target</em>.<br/> À droite de <em>Type:</em>, choisissez <em>GUI application</em> dans la liste déroulante.<br/> Validez.</p><p id="r-397362" data-claire-element-id="397362">Ensuite, allez dans le menu <em>Project-&gt;Build options…</em> et allez dans l'onglet <em>Other options</em> de la deuxième barre d'onglets.<br/> Dans la grande zone de texte, ajoutez la ligne suivante :</p><pre id="r-397363" data-claire-element-id="397363"><code data-claire-semantic="console">`pkg-config gtkmm-2.4 --cflags`</code></pre><aside id="r-397367" data-claire-element-id="397367" data-claire-semantic="warning"><p id="r-397364" data-claire-element-id="397364">ATTENTION !<br/> Il faut utiliser les accents graves (`) et non de simples apostrophes (') autour de <code data-claire-semantic="console">pkg-config gtkmm-2.4 --cflags</code> pour que ce soit exécuté comme une commande.</p><p id="r-397365" data-claire-element-id="397365">De plus, si ça ne fonctionne pas, veuillez recopier cette ligne à la main, car il peut y avoir des problèmes avec les tirets.</p><p id="r-397366" data-claire-element-id="397366">Et un dernier point :<br/> si vous utilisez un Windows 64 bits, vous devez ajouter -m32 devant le premier accent grave :<br/><code data-claire-semantic="console">-m32 `pkg-config gtkmm-2.4 --cflags`</code><br/> (Merci à <a href="http://www.siteduzero.com/membres-294-146565.html">paul161</a> pour l'astuce.)</p></aside><p id="r-397368" data-claire-element-id="397368">Enfin, allez dans l'onglet <em>Linker settings</em> et collez cette ligne dans la zone de texte intitulée <em>Other linker options</em> :</p><pre id="r-397369" data-claire-element-id="397369"><code data-claire-semantic="console">`pkg-config gtkmm-2.4 --libs`</code></pre><p id="r-397370" data-claire-element-id="397370">Validez et vous pouvez enfin compiler votre application et la lancer :</p><figure id="r-397372" data-claire-element-id="397373"><img id="r-397371" data-claire-element-id="397371" src="medias/uploads.siteduzero.com_files_242001_243000_242388.png" alt="Image utilisateur"/></figure><aside id="r-397377" data-claire-element-id="397377" data-claire-semantic="information"><p id="r-397374" data-claire-element-id="397374">Pour ne pas avoir à refaire tout le temps les mêmes manipulations, vous pouvez enregistrer le projet en tant que <em>template</em>.</p><p id="r-397375" data-claire-element-id="397375">Pour ce faire, cliquez sur le menu <em>File-&gt;Save project as template…</em>, entrez un nom (par exemple, gtkmm) et validez.</p><p id="r-397376" data-claire-element-id="397376">Lorsque vous créerez un nouveau projet utilisant gtkmm, vous n'aurez qu'à cliquer sur l'icône <em>New file</em>, choisir <em>From template…</em>, choisir votre nouveau <em>template</em> (gtkmm) et valider.</p></aside><h6 id="r-distribution-de-votre-application" data-claire-element-id="397409">Distribution de votre application</h6><p id="r-397379" data-claire-element-id="397379">Pour distribuer votre application à d'autres personnes, vous devrez leur fournir des dll.</p><p id="r-397380" data-claire-element-id="397380">Pour cela, votre application devra avoir une structure particulière (la même que GIMP).</p><p id="r-397381" data-claire-element-id="397381">Si votre programme est dans un dossier Fenetre, votre structure sera celle-ci :</p><ul id="r-397390" data-claire-element-id="397390"><li id="r-397383" data-claire-element-id="397383"><p id="r-397382" data-claire-element-id="397382">Fenetre\bin\</p></li><li id="r-397385" data-claire-element-id="397385"><p id="r-397384" data-claire-element-id="397384">Fenetre\etc\</p></li><li id="r-397387" data-claire-element-id="397387"><p id="r-397386" data-claire-element-id="397386">Fenetre\lib\</p></li><li id="r-397389" data-claire-element-id="397389"><p id="r-397388" data-claire-element-id="397388">Fenetre\share\</p></li></ul><p id="r-397391" data-claire-element-id="397391">Votre exécutable devra se trouver dans le dossier bin\.<br/> De plus, dans tous ces dossiers, il devra y avoir des dll et quelques autres fichiers.</p><p id="r-397392" data-claire-element-id="397392">Voici toutes les fichiers que vous devez ajouter (vous trouverez ces fichiers dans votre dossier d'installation de gtkmm - ici, c'est C:\gtkmm\) :</p><ul id="r-397403" data-claire-element-id="397403"><li id="r-397394" data-claire-element-id="397394"><p id="r-397393" data-claire-element-id="397393">C:\gtkmm edist\*.dll ;</p></li><li id="r-397396" data-claire-element-id="397396"><p id="r-397395" data-claire-element-id="397395">C:\gtkmm\etc\* ;</p></li><li id="r-397398" data-claire-element-id="397398"><p id="r-397397" data-claire-element-id="397397">C:\gtkmm\lib\gtk-2.0\2.10.0\* ;</p></li><li id="r-397400" data-claire-element-id="397400"><p id="r-397399" data-claire-element-id="397399">C:\gtkmm\share hemes\* ;</p></li><li id="r-397402" data-claire-element-id="397402"><p id="r-397401" data-claire-element-id="397401">C:\gtkmm\share\locale\*.</p></li></ul><p id="r-397404" data-claire-element-id="397404">Lorsque j'écris *.dll, ça signifie que vous devez copier tous les fichiers ayant l'extension .dll.<br/> Lorsque j'écris *, vous copier tout, y compris les dossiers et sous-dossiers.</p><p id="r-397405" data-claire-element-id="397405">Les fichiers du dossier redist\ devront se trouver dans le dossier Fenetre\bin\ de votre programme.<br/> Les autres vont dans leur répertoire respectif (etc\ dans Fenetre\etc\, lib\ dans Fenetre\lib\, …).</p><p id="r-397406" data-claire-element-id="397406">Vous devez faire une telle structure pour chaque projet que vous voulez distribuer, car vos clients n'ont probablement pas installé gtkmm.</p><p id="r-397407" data-claire-element-id="397407">Vous êtes maintenant prêtes et prêts pour commencer votre apprentissage sur la création d'<em>interfaces graphiques</em> avec gtkmm !</p><p id="r-397408" data-claire-element-id="397408">Dans le prochain chapitre, vous créerez une fenêtre et apprendrez à modifier son titre, sa taille, etc.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
<span class="arrow"></span>
<span class="next">Installation de gtkmm</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">
<span class="next">Votre première fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Votrepremirefentre"></a><h2>Votre première fenêtre</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
<span class="arrow"></span>
<span class="next">Compiler votre première application !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
<span class="next">Quelques mots sur les #include...</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-397413" data-claire-element-id="397413">Après une brève introduction, c'est maintenant le temps de commencer.<br/> Vous n'avez encore rien fait et vous commencerez lentement, mais sûrement, en modifiant la fenêtre que vous avez créée lors du chapitre précédent.</p><p id="r-397414" data-claire-element-id="397414">Au programme, modification du titre de la fenêtre, de son icône et autres et ajout d'un <em>widget</em> à la fenêtre.</p><p id="r-397415" data-claire-element-id="397415">Cela vous donnera des bases pour pouvoir modifier tous les <em>widgets</em>, car je ne peux vous dire tout ce qu'il est possible de faire (la documentation est là pour cela).</p>
</div><a name="Quelquesmotssurlesinclude..."></a><h2>Quelques mots sur les #include...</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">
<span class="arrow"></span>
<span class="next">Votre première fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
<span class="next">Explication du code de base</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-quelques-mots-sur-les-include" data-claire-element-id="397445">Quelques mots sur les #include...</h4><p id="r-397416" data-claire-element-id="397416">Dans le chapitre précédent, je vous ai fait compiler un programme qui avait l'include suivant :</p><pre id="r-397417" data-claire-element-id="397417"><code data-claire-semantic="cpp">#include &lt;gtkmm.h&gt;</code></pre><p id="r-397418" data-claire-element-id="397418">Cependant, ce n'est pas du tout adapté, car cela inclut <em>toutes les classes</em> de gtkmm.</p><p id="r-397419" data-claire-element-id="397419">Il est préférable d'inclure seulement ce dont nous avons besoin pour nos projets.</p><p id="r-397420" data-claire-element-id="397420">Par exemple, à la place de ce code :</p><pre id="r-397421" data-claire-element-id="397421"><code data-claire-semantic="cpp">#include &lt;gtkmm.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397422" data-claire-element-id="397422">nous devrions écrire celui-ci :</p><pre id="r-397423" data-claire-element-id="397423"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397424" data-claire-element-id="397424">Vous voyez ?<br/> Nous avons remplacé <code data-claire-semantic="cpp">#include &lt;gtkmm.h&gt;</code> par <code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;</code> et <code data-claire-semantic="cpp">#include &lt;gtkmm/window.h&gt;</code>.</p><p id="r-397425" data-claire-element-id="397425">De cette manière, nous n'incluons pas toutes les classes de gtkmm, mais seulement celles nécessaires.</p><div id="r-397427" data-claire-element-id="397427" data-claire-semantic="question"><p id="r-397426" data-claire-element-id="397426">En quoi est-ce plus adapté ?<br/> Je trouve que cela va faire un code beaucoup plus gros si nous devons ajouter une ligne par <em>widget</em> utilisé.</p></div><p id="r-397428" data-claire-element-id="397428">Si nous incluons seulement le nécessaire, l'exécutable sera plus petit et la compilation, moins longue.</p><p id="r-397429" data-claire-element-id="397429">Par exemple, pour le programme que vous avez fait au chapitre précédent, si j'inclus seulement le nécessaire, l'exécutable est près de 2 fois plus petit et la compilation, près d'une demi-fois moins longue.</p><p id="r-397430" data-claire-element-id="397430">Vous n'aimez pas attendre pendant la compilation, n'est-ce pas :lol: ?<br/> Alors, faites ce que je dit. ;)</p><p id="r-397431" data-claire-element-id="397431">En outre, un exécutable moins gros dit un téléchargement moins long pour les utilisateurs de vos logiciels.<br/> C'est merveilleux. ^^</p><div id="r-397433" data-claire-element-id="397433" data-claire-semantic="question"><p id="r-397432" data-claire-element-id="397432">D'accord, je comprends maintenant.<br/> Mais, comment vais-je faire pour savoir quelles classes inclure ?</p></div><p id="r-397434" data-claire-element-id="397434">Dans ce tutoriel, je vous dirai quelles classes inclure.</p><p id="r-397435" data-claire-element-id="397435">Mais, je vais également vous donner un petit truc.</p><p id="r-397436" data-claire-element-id="397436">Dans le code donné plus haut, il y a cette ligne :</p><pre id="r-397437" data-claire-element-id="397437"><code data-claire-semantic="cpp">Gtk::Main app(argc, argv);</code></pre><p id="r-397438" data-claire-element-id="397438">Cela signifie que nous créons un objet <code data-claire-semantic="cpp">Main</code> de l'espace de noms <code data-claire-semantic="cpp">Gtk</code>.</p><p id="r-397439" data-claire-element-id="397439">Pour utiliser cette classe, il faut l'inclure :</p><pre id="r-397440" data-claire-element-id="397440"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;</code></pre><p id="r-397441" data-claire-element-id="397441">C'est la même chose pour <code data-claire-semantic="cpp">#include &lt;gtkmm/window.h&gt;</code> qui inclut le nécessaire pour cette ligne :</p><pre id="r-397442" data-claire-element-id="397442"><code data-claire-semantic="cpp">Gtk::Window fenetre;</code></pre><p id="r-397443" data-claire-element-id="397443">La classe <code data-claire-semantic="cpp">Window</code> de l'espace de noms <code data-claire-semantic="cpp">Gtk</code>.</p><p id="r-397444" data-claire-element-id="397444">Pour conclure, il est préférable d'inclure seulement les classes qui sont nécessaires au projet.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">
<span class="arrow"></span>
<span class="next">Votre première fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
<span class="next">Explication du code de base</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Explicationducodedebase"></a><h2>Explication du code de base</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
<span class="arrow"></span>
<span class="next">Quelques mots sur les #include...</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
<span class="next">Modifier un widget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-explication-du-code-de-base" data-claire-element-id="397469">Explication du code de base</h4><p id="r-397446" data-claire-element-id="397446">Je vais vous expliquer ce que fait le code que vous avez vu dans la sous-partie précédente, à savoir, ce code :</p><pre id="r-397447" data-claire-element-id="397447"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397448" data-claire-element-id="397448">Premièrement, nous incluons ce qui est nécessaire au bon fonctionnement de ce programme (explications de la dernière sous-partie).</p><p id="r-397449" data-claire-element-id="397449">Ensuite, nous devons prendre les arguments donnés au programme, c'est pourquoi la fonction main est déclarée comme suit :</p><pre id="r-397450" data-claire-element-id="397450"><code data-claire-semantic="cpp">int main(int argc, char* argv[]) {</code></pre><p id="r-397451" data-claire-element-id="397451">Ces arguments peuvent être utiles à gtkmm, car certains arguments peuvent lui être destinés.</p><p id="r-397452" data-claire-element-id="397452">Ces arguments seront enlevés et ceux qu'il ne connaît pas resteront dans le tableau de telle sorte que vous pourrez les traiter par la suite.</p><p id="r-397453" data-claire-element-id="397453">Ensuite, il faut initialiser gtkmm avec la ligne suivante :</p><pre id="r-397454" data-claire-element-id="397454"><code data-claire-semantic="cpp">Gtk::Main app(argc, argv);</code></pre><p id="r-397455" data-claire-element-id="397455">De surcroît, on lui passe les arguments par cette ligne.</p><aside id="r-397457" data-claire-element-id="397457" data-claire-semantic="error"><p id="r-397456" data-claire-element-id="397456">Si vous ne lui donnez pas les arguments, le programme compilera, mais plantera.</p></aside><p id="r-397458" data-claire-element-id="397458">La ligne suivante crée une fenêtre :</p><pre id="r-397459" data-claire-element-id="397459"><code data-claire-semantic="cpp">Gtk::Window fenetre;</code></pre><p id="r-397460" data-claire-element-id="397460">Et la dernière instruction avant le <code data-claire-semantic="cpp">return</code> affiche la fenêtre et entre dans le boucle principale :</p><pre id="r-397461" data-claire-element-id="397461"><code data-claire-semantic="cpp">Gtk::Main::run(fenetre);</code></pre><div id="r-397463" data-claire-element-id="397463" data-claire-semantic="question"><p id="r-397462" data-claire-element-id="397462">Qu'est-ce que la boucle principale ?</p></div><p id="r-397464" data-claire-element-id="397464">Pour que l'application puisse tourner en continu, c'est-à-dire pour qu'elle ne se ferme pas lorsque toutes les instructions sont effectuées, il faut qu'il y ait une boucle infinie.</p><aside id="r-397466" data-claire-element-id="397466" data-claire-semantic="information"><p id="r-397465" data-claire-element-id="397465">Cette boucle s'arrêtera lorsque l'utilisateur fermera le programme en cliquant sur la petite croix se trouvant sur la barre de titre de votre fenêtre.<br/> Elle peut également s'arrêter lors d'une autre action que vous aurez prédéfinie (par exemple : lors du clic sur ce bouton, le programme doit se fermer - vous apprendrez à gérer les événements dans le prochain chapitre).</p></aside><p id="r-397467" data-claire-element-id="397467">C'est tout pour les explications du code de base.</p><p id="r-397468" data-claire-element-id="397468">Passons maintenant à la modification de votre fenêtre.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
<span class="arrow"></span>
<span class="next">Quelques mots sur les #include...</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
<span class="next">Modifier un widget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifierunwidget"></a><h2>Modifier un widget</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
<span class="arrow"></span>
<span class="next">Explication du code de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
<span class="next">Ajout d&#039;un widget à la fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-modifier-un-widget" data-claire-element-id="397524">Modifier un widget</h4><p id="r-397470" data-claire-element-id="397470">Pour modifier un <em>widget</em>, il suffit d'appeler des méthodes qui font tout ce qu'on veut (ou presque :D ).</p><p id="r-397471" data-claire-element-id="397471">Pour modifier notre fenêtre, il faudra appeler des méthodes de la classe <a href="http://library.gnome.org/devel/gtkmm/unstable/classGtk_1_1Window.html">Gtk::Window</a>.</p><h5 id="r-modifier-le-titre-de-votre-fenetre" data-claire-element-id="397481">Modifier le titre de votre fenêtre</h5><p id="r-397472" data-claire-element-id="397472">Pour modifier le titre de votre fenêtre, celui dans la barre de titre située en haut de votre fenêtre, il faut appeler la méthode <code data-claire-semantic="cpp">set_title()</code>.</p><p id="r-397473" data-claire-element-id="397473">Après avoir créer un objet <code data-claire-semantic="cpp">fenetre</code> de type <code data-claire-semantic="cpp">Gtk::Window</code>, nous pouvons donc l'appeler :</p><pre id="r-397474" data-claire-element-id="397474"><code data-claire-semantic="cpp">fenetre.set_title(&quot;Ma belle fenêtre !&quot;);</code></pre><p id="r-397475" data-claire-element-id="397475">Cela modifiera le titre pour &quot;Ma belle fenêtre !&quot;.</p><p id="r-397476" data-claire-element-id="397476">Pour obtenir le titre de votre fenêtre, il faut appeler la méthode <code data-claire-semantic="cpp">get_title()</code> (je suis sûr que vous l'aviez deviné :p ).</p><p id="r-397477" data-claire-element-id="397477">Exemple :</p><pre id="r-397478" data-claire-element-id="397478"><code data-claire-semantic="cpp">std::string titre = fenetre.get_title();</code></pre><p id="r-397479" data-claire-element-id="397479">Et vous pouvez ensuite l'afficher dans la console comme n'importe quel objet <code data-claire-semantic="cpp">string</code> :</p><pre id="r-397480" data-claire-element-id="397480"><code data-claire-semantic="cpp">std::cout &lt;&lt; titre &lt;&lt; std::endl;</code></pre><h5 id="r-modifier-l-icone-de-votre-fenetre" data-claire-element-id="397491">Modifier l'icône de votre fenêtre</h5><p id="r-397482" data-claire-element-id="397482">Pour modifier l'icône de votre fenêtre, il faudra... appeler une autre méthode.</p><p id="r-397483" data-claire-element-id="397483">En l'occurrence, il s'agit de <code data-claire-semantic="cpp">set_icon_from_file()</code> avec comme paramètre le chemin vers votre icône.</p><p id="r-397484" data-claire-element-id="397484">Exemple :</p><pre id="r-397485" data-claire-element-id="397485"><code data-claire-semantic="cpp">fenetre.set_icon_from_file(&quot;icone.png&quot;);</code></pre><p id="r-397486" data-claire-element-id="397486">C'est simple, non :) ?</p><p id="r-397487" data-claire-element-id="397487">L'icône apparaîtra, la plupart du temps, en haut à gauche de la fenêtre et dans la barre des tâches :</p><figure id="r-397489" data-claire-element-id="397490"><img id="r-397488" data-claire-element-id="397488" src="medias/uploads.siteduzero.com_files_242001_243000_242411.png" alt="Image utilisateur"/></figure><h5 id="r-minimiser-maximiser-etc" data-claire-element-id="397508">Minimiser, maximiser, etc.</h5><h6 id="r-minimiser" data-claire-element-id="397494">Minimiser</h6><p id="r-397492" data-claire-element-id="397492">Pour minimiser la fenêtre (réduire dans la barre des tâches), c'est-à-dire la rendre invisible jusqu'à temps que l'utilisateur appuie sur son nom dans la barre des tâches, il faut appeler la méthode <code data-claire-semantic="cpp">iconify()</code>.</p><p id="r-397493" data-claire-element-id="397493">Pour faire l'opération inversion, donc pour la rendre de nouveau visible, appelez la méthode <code data-claire-semantic="cpp">deiconify()</code>.</p><h6 id="r-maximiser-1" data-claire-element-id="397500">Maximiser</h6><p id="r-397495" data-claire-element-id="397495">Je suis sûr que vous pouvez deviner le nom de la méthode pour maximiser la fenêtre :</p><pre id="r-397496" data-claire-element-id="397496"><code data-claire-semantic="cpp">fenetre.maximize();</code></pre><p id="r-397497" data-claire-element-id="397497">Cela donne la taille maximale à la fenêtre de telle sorte qu'elle prend toute la taille de l'écran.</p><p id="r-397498" data-claire-element-id="397498">L'opération inverse lui rend sa taille d'avant :</p><pre id="r-397499" data-claire-element-id="397499"><code data-claire-semantic="cpp">fenetre.unmaximize();</code></pre><h6 id="r-mode-plein-ecran" data-claire-element-id="397507">Mode plein écran</h6><p id="r-397501" data-claire-element-id="397501">Pour que la fenêtre soit en mode plein écran, vous devez appeler la méthode <code data-claire-semantic="cpp">fullscreen()</code> et pour qu'elle redevienne comme avant, <code data-claire-semantic="cpp">unfullscreen()</code>.</p><pre id="r-397502" data-claire-element-id="397502"><code data-claire-semantic="cpp">fenetre.fullscreen();
fenetre.unfullscreen();</code></pre><p id="r-397503" data-claire-element-id="397503">Ce code ne fait rien tellement les actions sont rapides.</p><aside id="r-397506" data-claire-element-id="397506" data-claire-semantic="warning"><p id="r-397504" data-claire-element-id="397504">ATTENTION !<br/> En mode plein écran, votre fenêtre n'a pas de bordures de telle sorte qu'il est impossible de la fermer en cliquant sur le X.<br/> Pour la fermer, vous pouvez faire CTRL-ALT-DELETE ou ALT-TAB.</p><p id="r-397505" data-claire-element-id="397505">Dans vos applications, il faudra prévoir cela et afficher un bouton pour quitter le mode plein écran ou quitter l'application.<br/> Nous verrons comment faire cela dans le prochain chapitre.</p></aside><h5 id="r-redimensionner-la-fenetre-et-la-deplacer" data-claire-element-id="397523">Redimensionner la fenêtre et la déplacer</h5><p id="r-397509" data-claire-element-id="397509">Pour redimensionner la fenêtre, appelez la méthode <code data-claire-semantic="cpp">resize(int largeur, int hauteur)</code>.</p><p id="r-397510" data-claire-element-id="397510">Pour la déplacer à une position précise, il faudra appeler la méthode <code data-claire-semantic="cpp">move(int x, int y)</code>.<br/> Cette position est relative au coin en haut à gauche de l'écran.</p><p id="r-397511" data-claire-element-id="397511">Exemple pour les deux méthodes précédente :</p><pre id="r-397512" data-claire-element-id="397512"><code data-claire-semantic="cpp">fenetre.resize(640, 480); //Redimensionner la fenêtre : nouvelle largeur = 640px, nouvelle hauteur = 480px.
fenetre.move(100, 50); //Déplacer la fenêtre à la position (100, 50).</code></pre><div id="r-397514" data-claire-element-id="397514" data-claire-semantic="question"><p id="r-397513" data-claire-element-id="397513">Comment faire pour déplacer la fenêtre au centre de l'écran ?</p></div><p id="r-397515" data-claire-element-id="397515">Il faudra utiliser une autre méthode. ^^ <br/> Cette méthode s'appelle <code data-claire-semantic="cpp">set_position()</code> et elle prend une constante en paramètre.</p><p id="r-397516" data-claire-element-id="397516">Pour centrer la fenêtre, appelez-la comme ceci :</p><pre id="r-397517" data-claire-element-id="397517"><code data-claire-semantic="cpp">fenetre.set_position(Gtk::WIN_POS_CENTER);</code></pre><p id="r-397518" data-claire-element-id="397518">Pour connaître les autres constantes, <a href="http://library.gnome.org/devel/gtkmm/unstable/group__gtkmmEnums.html#gabfa67443f852c48477b2d55b15982e21">cliquez ici</a>.</p><aside id="r-397521" data-claire-element-id="397521" data-claire-semantic="warning"><p id="r-397519" data-claire-element-id="397519">Évitez d'appeler les méthodes <code data-claire-semantic="cpp">move()</code> et <code data-claire-semantic="cpp">set_position()</code> l'une à la suite de l'autre parce qu'un seul des deux appels fonctionnera.</p><p id="r-397520" data-claire-element-id="397520">D'ailleurs, il serait illogique de vouloir placer la fenêtre en même temps au centre et à (100, 50). :lol:</p></aside><p id="r-397522" data-claire-element-id="397522">Il existe beaucoup, beaucoup d'autres méthodes, mais je ne peux pas vous les apprendre, car ce serait long et... inutile o_O .</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
<span class="arrow"></span>
<span class="next">Explication du code de base</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
<span class="next">Ajout d&#039;un widget à la fenêtre</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Ajoutd039unwidgetlafentre"></a><h2>Ajout d&#039;un widget à la fenêtre</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
<span class="arrow"></span>
<span class="next">Modifier un widget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
<span class="next">Utiliser l&#039;héritage !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ajout-d-un-widget-a-la-fenetre" data-claire-element-id="397591">Ajout d'un widget à la fenêtre</h4><p id="r-397525" data-claire-element-id="397525">Pour ajouter un <em>widget</em> à notre fenêtre, nous devrons... appeler une méthode (je pense que vous commencez à comprendre le principe :lol: ).</p><p id="r-397526" data-claire-element-id="397526">Mais avant, nous devrons créer un <em>widget</em>.<br/> Pour cet exemple, nous allons afficher un bouton (Gtk::Button).</p><div id="r-397528" data-claire-element-id="397528" data-claire-semantic="question"><p id="r-397527" data-claire-element-id="397527">Cela veut-il dire que nous devrons ajouter un <code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;</code> ?</p></div><p id="r-397529" data-claire-element-id="397529">Oui !<br/> Vous comprenez bien le principe :)</p><p id="r-397530" data-claire-element-id="397530">Donc, ajoutez cette ligne en haut de votre fichier main.cpp.</p><p id="r-397531" data-claire-element-id="397531">Ensuite, il faudra créer un objet de type Gtk::Button.<br/> Nous allons lui passer un paramètre : son texte.</p><p id="r-397532" data-claire-element-id="397532">Voici comment faire :</p><pre id="r-397533" data-claire-element-id="397533"><code data-claire-semantic="cpp">Gtk::Button bouton(&quot;Clique-moi !&quot;);</code></pre><p id="r-397534" data-claire-element-id="397534">Cela créera un bouton sur lequel est affiché le texte &quot;Clique-moi !&quot;.</p><div id="r-397536" data-claire-element-id="397536" data-claire-semantic="question"><p id="r-397535" data-claire-element-id="397535">Hé ! J'ai compilé mon programme en ajoutant cette ligne et ma fenêtre est toujours vide...<br/> Quel est le problème ?</p></div><p id="r-397537" data-claire-element-id="397537">Le problème, c'est que vous êtes impatients :D qu'il faut l'ajouter à la fenêtre.</p><p id="r-397538" data-claire-element-id="397538">Pour ce faire, appelez la fonction <code data-claire-semantic="cpp">add()</code> sur la fenêtre avec comme paramètre le <em>widget</em> à ajouter :</p><pre id="r-397539" data-claire-element-id="397539"><code data-claire-semantic="cpp">fenetre.add(bouton);</code></pre><div id="r-397541" data-claire-element-id="397541" data-claire-semantic="question"><p id="r-397540" data-claire-element-id="397540">Tu me fais marcher, non ?<br/> Je ne vois toujours rien dans cette fenêtre...</p></div><p id="r-397542" data-claire-element-id="397542">Il reste une dernière étape pour voir le <em>widget</em> :<br/> l'afficher :-° !</p><p id="r-397543" data-claire-element-id="397543">Pour afficher chacun des <em>widgets</em> de votre fenêtre, il faut, pour chacun, appeler leur méthode <code data-claire-semantic="cpp">show()</code>.</p><p id="r-397544" data-claire-element-id="397544">Donc, pour résumer, voici un code complet :</p><pre id="r-397545" data-claire-element-id="397545"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main kit(argc, argv); //Initialise gtkmm et regarde dans les arguments du programme.
    
    Gtk::Window fenetre; //Création de la fenêtre.
    fenetre.set_title(&quot;Ma belle fenêtre !&quot;); //Modifier le titre de la fenêtre.
    fenetre.set_border_width(10); //Ajouter une bordure (invisible) de 10px à la fenêtre.
    
    Gtk::Button bouton(&quot;Clique-moi !&quot;); //Création d'un bouton.
    fenetre.add(bouton); //Ajout du bouton à la fenêtre.
    
    bouton.show(); //Afficher le bouton.
    
    Gtk::Main::run(fenetre); //Affiche la fenêtre et démarre la boucle, qui se terminera lorsqu'on fermera le programme.
    
    return 0;
}</code></pre><p id="r-397546" data-claire-element-id="397546">Je me suis permis d'ajouter une bordure intérieure (invisible) à la fenêtre pour qu'il y ait un peu d'espace autour du bouton.<br/> Enlevez cette instruction pour voir la différence.</p><p id="r-397547" data-claire-element-id="397547">Le code précédent donne ceci :</p><figure id="r-397549" data-claire-element-id="397550"><img id="r-397548" data-claire-element-id="397548" src="medias/uploads.siteduzero.com_files_242001_243000_242433.png" alt="Image utilisateur"/></figure><div id="r-397552" data-claire-element-id="397552" data-claire-semantic="question"><p id="r-397551" data-claire-element-id="397551">Mais, c'est quoi ce truc affreux sur le bouton ?</p></div><p id="r-397553" data-claire-element-id="397553">Cela indique que le bouton a le <em>focus</em>.</p><p id="r-397554" data-claire-element-id="397554">Lorsqu'un <em>widget</em> a le <em>focus</em>, cela veut dire que l'utilisateur peut l'utiliser.<br/> Par exemple, appuyez sur la touche Entrée lorsqu'un bouton a le <em>focus</em> et cela fera la même chose que si vous aviez cliqué dessus avec la souris.</p><p id="r-397555" data-claire-element-id="397555">Si une zone de texte a le <em>focus</em>, cela signifie que vous pouvez écrire dedans.</p><p id="r-397556" data-claire-element-id="397556">Pour qu'un <em>widget</em> ne puisse pas avoir le focus, appelez la méthode suivante :</p><pre id="r-397557" data-claire-element-id="397557"><code data-claire-semantic="cpp">bouton.set_can_focus(false);</code></pre><p id="r-397558" data-claire-element-id="397558">Voilà le résultat :</p><figure id="r-397560" data-claire-element-id="397561"><img id="r-397559" data-claire-element-id="397559" src="medias/uploads.siteduzero.com_files_242001_243000_242435.png" alt="Image utilisateur"/></figure><p id="r-397562" data-claire-element-id="397562">C'est mieux ainsi, non ?</p><aside id="r-397564" data-claire-element-id="397564" data-claire-semantic="warning"><p id="r-397563" data-claire-element-id="397563">Empêcher une zone de texte d'avoir le focus empêche l'utilisateur d'écrire dedans !<br/> Faites attention à ce que vous faites.</p></aside><div id="r-397566" data-claire-element-id="397566" data-claire-semantic="question"><p id="r-397565" data-claire-element-id="397565">J'ai essayé d'ajouter un deuxième bouton à la fenêtre et j'ai obtenu une erreur à l'exécution me disant que je ne peux mettre qu'un seul <em>widget</em> à la fois dans une fenêtre.<br/> C'est nul, si c'est vrai !<br/> Comment faire pour en mettre plusieurs ?</p></div><p id="r-397567" data-claire-element-id="397567">En effet, nous ne pouvons mettre qu'un seul <em>widget</em> dans une fenêtre ; un deuxième appel à la méthode <code data-claire-semantic="cpp">add()</code> provoquera une erreur.</p><p id="r-397568" data-claire-element-id="397568">Pour afficher plusieurs <em>widgets</em>, il faudra utiliser des <strong>conteneurs</strong> ; je vous présenterai ceci dans trois chapitres.</p><h5 id="r-les-stock-items-1" data-claire-element-id="397590">Les <em>Stock Items</em></h5><p id="r-397569" data-claire-element-id="397569">Les <em>Stock Items</em> sont très utiles pour développer des applications sans aller chercher des icônes un peu partout à travers le Net.</p><p id="r-397570" data-claire-element-id="397570">En effet, grâce à eux, nous pouvons créer des boutons, mais aussi des éléments dans un menu et dans une barre d'outils, avec une <em>étiquette</em> (son texte) et une <em>icône</em>prédéfinies.</p><p id="r-397571" data-claire-element-id="397571">Cela signifie que vous codez d'une certaine façon et vous n'avez pas besoin de fournir les icônes avec l'exécutable.<br/> Super, non :) ?</p><aside id="r-397573" data-claire-element-id="397573" data-claire-semantic="information"><p id="r-397572" data-claire-element-id="397572">De plus, les Stock Items gèrent les raccourcis des éléments dans un menu.<br/> Vous n'avez donc pas à vous en faire avec cela.</p></aside><p id="r-397574" data-claire-element-id="397574">Pour créer un bouton avec une étiquette et une icône prédéfinie, il faudra utiliser une surcharge de son constructeur.<br/> À la place de lui donner un objet de type <code data-claire-semantic="cpp">std::string</code>, nous allons lui donner une constante de type Gtk::Stock.</p><p id="r-397575" data-claire-element-id="397575">Par exemple, pour créer un bouton ayant pour texte &quot;Annuler&quot; et l'icône qui va avec, faites comme ceci :</p><pre id="r-397576" data-claire-element-id="397576"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt; //Ne pas oublier d'inclure ce fichier pour pouvoir utiliser les Stock Items.
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre; //Création de la fenêtre.
    
    Gtk::Button bouton(Gtk::Stock::CANCEL); //Création d'un bouton à partir d'un Stock Item.
    fenetre.add(bouton); //Ajout du bouton à la fenêtre.
    bouton.set_can_focus(false); //Empêcher le bouton d'avoir le focus.
    bouton.show(); //Afficher le bouton.
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><aside id="r-397578" data-claire-element-id="397578" data-claire-semantic="error"><p id="r-397577" data-claire-element-id="397577">Il ne faut pas oublier d'ajouter la ligne <code data-claire-semantic="cpp">#include &lt;gtkmm/stock.h&gt;</code> !</p></aside><p id="r-397579" data-claire-element-id="397579">Voici le résultat :</p><figure id="r-397581" data-claire-element-id="397582"><img id="r-397580" data-claire-element-id="397580" src="medias/uploads.siteduzero.com_files_242001_243000_242449.png" alt="Image utilisateur"/></figure><div id="r-397584" data-claire-element-id="397584" data-claire-semantic="question"><p id="r-397583" data-claire-element-id="397583">Comment faire pour savoir quelles sont les constantes prédéfinies ?</p></div><p id="r-397585" data-claire-element-id="397585">Regardez la documentation !<br/><a href="http://library.gnome.org/devel/gtkmm/2.20/namespaceGtk_1_1Stock.html">C'est ici</a>, plus précisément.<br/> Elles se trouvent sous le titre <strong>Variables</strong>.</p><p id="r-397586" data-claire-element-id="397586">Cliquez sur l'une d'elle, par exemple CANCEL, pour voir à quoi l'icône ressemble.<br/> Elle peut être différente selon les systèmes d'exploitation et les thèmes.</p><div id="r-397588" data-claire-element-id="397588" data-claire-semantic="question"><p id="r-397587" data-claire-element-id="397587">Il ne se passe rien lorsque je clique sur le bouton.<br/> Comment ajouter un événement lors du clic ?</p></div><p id="r-397589" data-claire-element-id="397589">Pour cela, il faudra utiliser les signaux et les fonctions de rappel.<br/> Je vous présente cela au prochain chapitre (je sens que vous avez hâte :D ).</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
<span class="arrow"></span>
<span class="next">Modifier un widget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
<span class="next">Utiliser l&#039;héritage !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utiliserl039hritage"></a><h2>Utiliser l&#039;héritage !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
<span class="arrow"></span>
<span class="next">Ajout d&#039;un widget à la fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">
<span class="next">Les signaux et les fonctions de rappel (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utiliser-l-heritage" data-claire-element-id="397678">Utiliser l'héritage !</h4><p id="r-397592" data-claire-element-id="397592">Pour terminer ce second chapitre, parlons de l'héritage dans gtkmm.</p><p id="r-397593" data-claire-element-id="397593">Comme je l'ai mentionné plus tôt, nous pouvons utiliser l'héritage pour créer de nouveaux <em>widgets</em>.<br/> Ces <em>widgets</em> dériveront des <em>widgets</em> existants.</p><h5 id="r-une-classe-pour-la-fenetre-principale" data-claire-element-id="397625">Une classe pour la fenêtre principale</h5><p id="r-397594" data-claire-element-id="397594">Pour un vrai projet, nous allons créer une classe pour la fenêtre principale.<br/> C'est dans celle-ci que nous modifierons son titre, son icône et que nous y ajouterons des <em>widgets</em>.</p><p id="r-397595" data-claire-element-id="397595">Cela permet de mieux organiser le code.</p><p id="r-397596" data-claire-element-id="397596">Voyons à quoi cela ressemble.</p><h6 id="r-le-fichier-main-cpp-2" data-claire-element-id="397600">Le fichier main.cpp</h6><p id="r-397597" data-claire-element-id="397597">Ce fichier restera toujours identique :</p><pre id="r-397598" data-claire-element-id="397598"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397599" data-claire-element-id="397599">Comme vous pouvez le constater, nous utilisons une classe <code data-claire-semantic="cpp">Fenetre</code> que nous allons créer à l'instant.</p><h6 id="r-le-fichier-fenetre-hpp" data-claire-element-id="397609">Le fichier Fenetre.hpp</h6><p id="r-397601" data-claire-element-id="397601">C'est dans ce fichier que nous allons créer la classe <code data-claire-semantic="cpp">Fenetre</code> :</p><pre id="r-397602" data-claire-element-id="397602"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
};

#endif</code></pre><p id="r-397603" data-claire-element-id="397603">Je crois que quelques explications s'imposent.</p><p id="r-397604" data-claire-element-id="397604">Premièrement, nous écrivons toujours la protection avec <code data-claire-semantic="cpp">#ifndef</code>, <code data-claire-semantic="cpp">#define</code> et <code data-claire-semantic="cpp">#endif</code>.</p><p id="r-397605" data-claire-element-id="397605">Ensuite, nous incluons seulement le nécessaire (si nous aurions utilisé un bouton, il aurait fallu ajouter un <code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;</code>).</p><p id="r-397606" data-claire-element-id="397606">Ensuite, nous créons notre classe <code data-claire-semantic="cpp">Fenetre</code>, qui hérite de <code data-claire-semantic="cpp">Gtk::Window</code>, de façon <code data-claire-semantic="cpp">public</code>.</p><p id="r-397607" data-claire-element-id="397607">Nous pouvons donc dire que <code data-claire-semantic="cpp">Fenetre</code> est une <code data-claire-semantic="cpp">Gtk::Window</code> (c'est vrai, je vous le jure ;) ).</p><p id="r-397608" data-claire-element-id="397608">Ensuite, il y a le constructeur ; vous devriez en avoir l'habitude.</p><h6 id="r-le-fichier-fenetre-cpp" data-claire-element-id="397624">Le fichier Fenetre.cpp</h6><p id="r-397610" data-claire-element-id="397610">Enfin, voici le fichier Fenetre.cpp.<br/> C'est dans ce fichier que nous allons modifier notre fenêtre et ajouter des <strong>fonctions de rappel</strong> (nous verrons plus tard ce que c'est - leur prototype étant, bien sûr, dans le fichier Fenetre.hpp).</p><p id="r-397611" data-claire-element-id="397611">Le voici :</p><pre id="r-397612" data-claire-element-id="397612"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() {
    //Modification de la fenêtre.
    set_title(&quot;Ma fenêtre héritée !&quot;);
    //Autres modifications de la fenêtre.
}</code></pre><p id="r-397613" data-claire-element-id="397613">Nous ne sommes plus obligé d'écrire <code data-claire-semantic="cpp">fenetre.</code> devant un appel de méthode, car ce sont des méthodes de la classe même.</p><aside id="r-397615" data-claire-element-id="397615" data-claire-semantic="warning"><p id="r-397614" data-claire-element-id="397614">Sous Linux, si vous utilisez la ligne de commande, n'oubliez pas d'ajouter le fichier Fenetre.cpp après main.cpp, sinon cela ne compilera pas !</p></aside><div id="r-397617" data-claire-element-id="397617" data-claire-semantic="question"><p id="r-397616" data-claire-element-id="397616">Mais, c'est la même fenêtre qu'avant.<br/> Quelle est la différence ?</p></div><p id="r-397618" data-claire-element-id="397618">La différence, c'est que c'est plus lisible pour vous (et ça, je peux vous dire que c'est une grande différence lors d'un grand projet :D ).</p><div id="r-397620" data-claire-element-id="397620" data-claire-semantic="question"><p id="r-397619" data-claire-element-id="397619">J'ai une autre question.<br/> J'ai ajouté un bouton dans le constructeur, mais rien ne s'affiche.<br/> J'ai pourtant appelé les méthodes <code data-claire-semantic="cpp">add(bouton)</code> et <code data-claire-semantic="cpp">bouton.show()</code>.<br/> Quel est le problème ?</p></div><p id="r-397621" data-claire-element-id="397621">Lorsque nous utilisons l'héritage avec gtkmm, nous ne pouvons plus créer des <em>widgets</em> comme avant.</p><p id="r-397622" data-claire-element-id="397622">La bibliothèque gtkmm permet aux programmeurs de contrôler la durée de vie des <em>widgets</em> de la même manière qu'en C++.</p><p id="r-397623" data-claire-element-id="397623">Il y a plusieurs façons de créer des <em>widgets</em> dans une classe et je vais vous en montrer deux.</p><h5 id="r-ajout-d-un-widget-a-la-fenetre-1" data-claire-element-id="397677">Ajout d'un <em>widget</em> à la fenêtre</h5><h6 id="r-declarer-les-widgets-en-tant-que-attribut" data-claire-element-id="397640">Déclarer les <em>widgets</em> en tant que attribut</h6><p id="r-397626" data-claire-element-id="397626">La méthode la plus simple est de déclarer les <em>widgets</em> en tant que attribut.</p><p id="r-397627" data-claire-element-id="397627">Et lorsque nous déclarons un objet en tant que attribut, il faut l'initialiser dans la liste d'initialisation du constructeur.</p><p id="r-397628" data-claire-element-id="397628">De cette façon, les <em>widgets</em> seront détruits en même temps que la fenêtre.</p><p id="r-397629" data-claire-element-id="397629">Voyons le nouveau fichier Fenetre.hpp :</p><pre id="r-397630" data-claire-element-id="397630"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
    
    private :
        Gtk::Button bouton; //Déclaration du bouton.
};

#endif</code></pre><p id="r-397631" data-claire-element-id="397631">Et le nouveau fichier Fenetre.cpp :</p><pre id="r-397632" data-claire-element-id="397632"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(&quot;Mon bouton !&quot;) { //Initialisation du bouton dans la liste d'initialisation.
    //Modification de la fenêtre.
    set_title(&quot;Ma fenêtre héritée !&quot;);
    //Autres modifications de la fenêtre.
    
    bouton.show(); //Ne pas oublier l'affichage du bouton.
    bouton.set_can_focus(false); //Nous pouvons aussi modifier le bouton.
    add(bouton); //Ajouter le bouton à la fenêtre.
}</code></pre><p id="r-397633" data-claire-element-id="397633">Le fichier main.cpp reste toujours le même.</p><div id="r-397635" data-claire-element-id="397635" data-claire-semantic="question"><p id="r-397634" data-claire-element-id="397634">Pourquoi ne pas créer une classe pour le bouton ?</p></div><p id="r-397636" data-claire-element-id="397636">Il aurait été possible de le faire.<br/> Mais comme nous ne l'utilisons qu'une seule fois, cela n'est pas vraiment nécessaire et n'améliore pas vraiment la lisibilité du code.</p><p id="r-397637" data-claire-element-id="397637">Créez seulement une classe lorsque cela améliore la lisibilité de votre code ou que vous voulez créer un <em>widget</em> différent de ceux qui existent.</p><p id="r-397638" data-claire-element-id="397638">Par exemple, si vous créez une boîte de dialogue personnalisée (nous verrons plus tard ce que c'est et comment en créer une), il est beaucoup plus lisible de faire une classe pour ce <em>widget</em>.</p><p id="r-397639" data-claire-element-id="397639">Nous voyons là toute la puissance de l'<strong>héritage</strong>.</p><h6 id="r-creer-des-pointeurs-sur-des-widgets" data-claire-element-id="397676">Créer des pointeurs sur des <em>widgets</em></h6><p id="r-397641" data-claire-element-id="397641">La deuxième méthode consiste à créer des pointeurs sur des <em>widgets</em>.</p><p id="r-397642" data-claire-element-id="397642">De cette façon, il faudra détruire nous-même les <em>widgets</em>.</p><p id="r-397643" data-claire-element-id="397643">Voici le nouveau fichier Fenetre.hpp :</p><pre id="r-397644" data-claire-element-id="397644"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        ~Fenetre(); //Le destructeur pour pouvoir détruire le bouton.
    
    private :
        Gtk::Button* bouton; //Création du pointeur sur bouton.
};

#endif</code></pre><p id="r-397645" data-claire-element-id="397645">C'est le même fichier que précédemment, sauf que nous créons un pointeur sur <code data-claire-semantic="cpp">Gtk::Button</code> à la place d'un objet <code data-claire-semantic="cpp">Gtk::Button</code>.</p><p id="r-397646" data-claire-element-id="397646">En outre, nous ajoutons un destructeur pour pouvoir détruire le bouton à la destruction de la fenêtre.</p><p id="r-397647" data-claire-element-id="397647">Voici le nouveau fichier Fenetre.cpp :</p><pre id="r-397648" data-claire-element-id="397648"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() {
    bouton = new Gtk::Button(&quot;Hello World!&quot;);
    bouton-&gt;show();
    add(*bouton);
}

Fenetre::~Fenetre() {
    delete bouton;
}</code></pre><p id="r-397649" data-claire-element-id="397649">Puisque nous utilisons un pointeur, nous devons utiliser <code data-claire-semantic="cpp">new</code> dans le constructeur et <code data-claire-semantic="cpp">delete</code> dans le destructeur (pour le détruire en même temps que la fenêtre).</p><aside id="r-397651" data-claire-element-id="397651" data-claire-semantic="warning"><p id="r-397650" data-claire-element-id="397650">La méthode <code data-claire-semantic="cpp">add()</code> prend un <code data-claire-semantic="cpp">Gtk::Widget</code> et non un pointeur ; c'est pourquoi nous ajoutons une étoile (*) devant le pointeur.</p></aside><p id="r-397652" data-claire-element-id="397652">Cependant, il y a un moyen de faire plus rapide que l'exemple précédent.<br/> Dans l'exemple précédent, nous détruisons le <em>widget</em> en même que la fenêtre.<br/> Il y a un moyen d'automatiser cela.</p><p id="r-397653" data-claire-element-id="397653">Le fichier Fenetre.hpp devient très simple :</p><pre id="r-397654" data-claire-element-id="397654"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
};

#endif</code></pre><p id="r-397655" data-claire-element-id="397655">Je n'ai rien à dire sur ce code.</p><p id="r-397656" data-claire-element-id="397656">Et le fichier Fenetre.cpp est également plus court :</p><pre id="r-397657" data-claire-element-id="397657"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() {
    Gtk::Button* bouton = Gtk::manage(new Gtk::Button(&quot;Hello World!&quot;));
    add(*bouton);
    bouton-&gt;show();
}</code></pre><p id="r-397658" data-claire-element-id="397658">Nous créons le pointeur en utilisant la fonction <code data-claire-semantic="cpp">Gtk::manage()</code>.<br/> Nous ajoutons le bouton, encore une fois, en ajoutant une étoile (*) pour obtenir l'objet et non le pointeur.<br/> Puis, nous l'affichons.</p><p id="r-397659" data-claire-element-id="397659">Nous n'avons plus besoin de détruire le widget ; gtkmm le détruira en même temps que son conteneur, à savoir la fenêtre.</p><p id="r-397660" data-claire-element-id="397660">De plus, cela nous permet de créer facilement un nombre indéterminé (à la compilation) de <em>widgets</em>.</p><div id="r-397662" data-claire-element-id="397662" data-claire-semantic="question"><p id="r-397661" data-claire-element-id="397661">Dans quel cas ne connaissons-nous pas le nombre de widgets à la compilation ?</p></div><p id="r-397663" data-claire-element-id="397663">Présentement, vous utilisez un navigateur Web.<br/> Ceux qui ont conçu ce logiciel ne savaient pas combien d’onglets vous allez ouvrir. Par conséquent, ils ne pouvaient pas utiliser un attribut par onglet.<br/> Donc, quand vous utiliserez des <em>widgets</em> dont le nombre peut varier, vous devrez bien souvent vous servir de <code data-claire-semantic="cpp">Gtk::manage()</code>.</p><p id="r-397664" data-claire-element-id="397664">Dans ce tutoriel, pour que le code soit plus clair, j'utiliserai la première façon de faire (les widgets déclarés en tant que attribut) sauf lorsque ce sera impossible.</p><p id="r-397665" data-claire-element-id="397665">Vous savez maintenant créer et modifier votre fenêtre à votre guise (ou presque :D ). Il suffit d'utiliser des méthodes déjà écrites par d'autres. C'est simple, non ?</p><div id="r-397667" data-claire-element-id="397667" data-claire-semantic="question"><p id="r-397666" data-claire-element-id="397666">Mais... il y a pleins d'autres choses que je voudrais faire avec ma fenêtre... par exemple, empêcher l'utilisateur de la redimensionner, ou bien enlever les bordures du système. Y a-t-il un moyen de faire cela ?</p></div><p id="r-397668" data-claire-element-id="397668">Mais bien sûr. :) <br/> Cependant, je ne peux guère tout vous apprendre sur la création d'<em>interfaces graphiques</em> avec gtkmm. :(</p><p id="r-397669" data-claire-element-id="397669">C'est tellement immense... et je ne connais pas tout sur cette bibliothèque.</p><div id="r-397671" data-claire-element-id="397671" data-claire-semantic="question"><p id="r-397670" data-claire-element-id="397670">Alors, comment vais-je faire pour le savoir ?</p></div><p id="r-397672" data-claire-element-id="397672">Vous devrez lire la documentation !</p><p id="r-397673" data-claire-element-id="397673">(Dites donc, pourquoi tout le monde est parti. :-° )</p><p id="r-397674" data-claire-element-id="397674">N'ayez pas peur, je vais vous apprendre à la lire.<br/> Elle vous dira tout ce dont vous avez besoin de savoir.</p><p id="r-397675" data-claire-element-id="397675">Pour ceux qui veulent savoir tout de suite à quoi elle ressemble, <a href="http://www.gtkmm.org/documentation.shtml">cliquez ici</a> (en anglais, comme toujours :euh: ).<br/> Pour les autres, je vous apprendrai, dans un chapitre ultérieur, à lire la documentation.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
<span class="arrow"></span>
<span class="next">Ajout d&#039;un widget à la fenêtre</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">
<span class="next">Les signaux et les fonctions de rappel (Partie 1/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LessignauxetlesfonctionsderappelPartie1_2"></a><h2>Les signaux et les fonctions de rappel (Partie 1/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
<span class="arrow"></span>
<span class="next">Utiliser l&#039;héritage !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
<span class="next">Fonctionnement des signaux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-397680" data-claire-element-id="397680">Dans le chapitre précédent, vous avez ajouté un bouton dans votre fenêtre.<br/> Cependant, il ne se passait rien lorsqu'on cliquait dessus.</p><p id="r-397681" data-claire-element-id="397681">Il va falloir modifier un peu cela pour que, par exemple, la fenêtre se ferme lorsque l'utilisateur clique sur le bouton.</p><p id="r-397682" data-claire-element-id="397682">Avec l'utilisation des <em>signaux</em>, vous verrez que c'est facile de rendre votre application interactive.</p><p id="r-397683" data-claire-element-id="397683">Les <em>signaux</em> sont le cœur d'une <em>interface graphique</em>. Vous ne pouvez pas vous en passer.</p><p id="r-397684" data-claire-element-id="397684">Mettons un peu d'interactivité à votre fenêtre !</p><p id="r-397685" data-claire-element-id="397685">Dans le but de l'alléger, notre étude des signaux et des fonctions de rappel se fera en deux chapitres.</p>
</div><a name="Fonctionnementdessignaux"></a><h2>Fonctionnement des signaux</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">
<span class="arrow"></span>
<span class="next">Les signaux et les fonctions de rappel (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
<span class="next">Connexion d&#039;un signal à une fonction de rappel</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-fonctionnement-des-signaux" data-claire-element-id="397697">Fonctionnement des signaux</h4><h5 id="r-definition-52" data-claire-element-id="397696">Définition</h5><p id="r-397686" data-claire-element-id="397686">Un <strong>signal</strong> est un message envoyé par un <em>widget</em> lorsqu'un événement s'est produit sur ce dernier (par exemple, lorsque l'utilisateur clique sur un bouton).</p><p id="r-397687" data-claire-element-id="397687">Pour traiter les événements, nous devons connecter un signal à une <strong>fonction de rappel</strong>.</p><p id="r-397688" data-claire-element-id="397688">Ce peut être n'importe quelle fonction, qui prend des paramètres ou non.<br/> Ce peut également être une méthode d'une classe.</p><aside id="r-397691" data-claire-element-id="397691" data-claire-semantic="warning"><p id="r-397689" data-claire-element-id="397689">Il est à noter que chaque signal a un prototype de fonction de rappel.<br/> En connectant un signal à une telle fonction, nous devons vérifier qu'il envoie autant de paramètres que son prototype en contient.</p><p id="r-397690" data-claire-element-id="397690">Toutefois, il existe une méthode pour ajouter des paramètres supplémentaires à un signal.<br/> Je vais vous montrer cette technique dans ce chapitre.</p></aside><p id="r-397692" data-claire-element-id="397692">Pour gérer les événements, nous utiliserons la bibliothèque sigc++ que vous avez installée (sans vous en rendre compte :lol: ) en même temps que gtkmm.</p><p id="r-397693" data-claire-element-id="397693">Cette bibliothèque détecte des erreurs de type à la compilation, ce qui permet d'éviter des bogues qu'il est possible d'avoir avec Gtk+.</p><p id="r-397694" data-claire-element-id="397694">Elle vérifie aussi le nombre de paramètres envoyés par le signal et reçus par la fonction de rappel à la compilation.</p><p id="r-397695" data-claire-element-id="397695">Nous pouvons donc détecter des erreurs à la compilation.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">
<span class="arrow"></span>
<span class="next">Les signaux et les fonctions de rappel (Partie 1/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
<span class="next">Connexion d&#039;un signal à une fonction de rappel</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Connexiond039unsignalunefonctionderappel"></a><h2>Connexion d&#039;un signal à une fonction de rappel</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
<span class="arrow"></span>
<span class="next">Fonctionnement des signaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
<span class="next">Exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-connexion-d-un-signal-a-une-fonction-de-rappel" data-claire-element-id="397768">Connexion d'un signal à une fonction de rappel</h4><h5 id="r-connexion-a-une-fonction-de-rappel-sans-parametre" data-claire-element-id="397722">Connexion à une fonction de rappel sans paramètre</h5><p id="r-397698" data-claire-element-id="397698">Notre premier exemple sera de connecter le clic sur un bouton à la fermeture du programme.</p><p id="r-397699" data-claire-element-id="397699">Créez-moi donc une fenêtre qui ressemble à ceci :</p><figure id="r-397701" data-claire-element-id="397702"><img id="r-397700" data-claire-element-id="397700" src="medias/uploads.siteduzero.com_files_243001_244000_243326.png" alt="Image utilisateur"/></figure><p id="r-397703" data-claire-element-id="397703">Vous devriez être capable. :-° <br/> Cependant, lorsque nous cliquons dessus, le programme ne se ferme pas.<br/> C'est pourtant ce que nous voulions faire en utilisant ce <em>Stock Item</em> :euh: .</p><p id="r-397704" data-claire-element-id="397704">Avant de vous dire comment connecter un signal à une fonction de rappel, je vais vous donner la méthode qui fait arrêter le programme (cette fonction termine la boucle du programme) :</p><pre id="r-397705" data-claire-element-id="397705"><code data-claire-semantic="cpp">Gtk::Main::quit();</code></pre><p id="r-397706" data-claire-element-id="397706">Mais, où devons-nous placer ce code pour que le programme se ferme lorsque l'utilisateur clique sur le bouton ?</p><p id="r-397707" data-claire-element-id="397707">Voici la ligne qu'il faut ajouter :</p><pre id="r-397708" data-claire-element-id="397708"><code data-claire-semantic="cpp">boutonQuitter.signal_clicked().connect(sigc::ptr_fun(&amp;Gtk::Main::quit));</code></pre><p id="r-397709" data-claire-element-id="397709">Je vous l'explique à l'instant.</p><p id="r-397710" data-claire-element-id="397710">Après <code data-claire-semantic="cpp">boutonQuitter.signal_</code>, il faut mettre le signal que nous souhaitons connecter à une fonction de rappel.<br/> Ici, c'est <code data-claire-semantic="cpp">clicked()</code> (ce qui signifie que ce signal est émis lorsque l'utilisateur clique sur le bouton).</p><p id="r-397711" data-claire-element-id="397711">Ensuite, nous connectons (<code data-claire-semantic="cpp">connect()</code>) le signal à la fonction de rappel.</p><p id="r-397712" data-claire-element-id="397712">Puis, nous indiquons <code data-claire-semantic="cpp">sigc::ptr_fun()</code> pour dire que nous connectons le signal à une fonction et non à une méthode.</p><p id="r-397713" data-claire-element-id="397713">Pour info, <code data-claire-semantic="cpp">sigc::ptr_fun()</code> retourne un foncteur.<br/> À la fin, il y a le nom de la fonction, sans parenthèses, précédé d'une esperluette (&amp;).</p><aside id="r-397715" data-claire-element-id="397715" data-claire-semantic="warning"><p id="r-397714" data-claire-element-id="397714">Dans le but d'alléger le code, je vous montre un projet qui ne contient qu'un seul fichier — main.cpp.<br/> Mais, vous, dans vos projets, vous créerez une classe pour votre fenêtre (comme je vous ai montré au chapitre précédent).</p></aside><p id="r-397716" data-claire-element-id="397716">Voici un code complet :</p><pre id="r-397717" data-claire-element-id="397717"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    
    Gtk::Button bouton(Gtk::Stock::QUIT); //Création d'un bouton.
    fenetre.add(bouton); //Ajout du bouton à la fenêtre.
    
    bouton.show(); //Ne pas oublier d'afficher le bouton.
    bouton.set_can_focus(false); //Empêcher le bouton d'avoir le focus.
    
    bouton.signal_clicked().connect(sigc::ptr_fun(&amp;Gtk::Main::quit)); //Connexion du signal clicked() à la fonction Gtk::Main::quit() qui ferme le programme.
    
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397718" data-claire-element-id="397718">Dans ce code, nous construisons la fenêtre en y ajoutant un bouton <em>Quitter</em>.<br/> Ensuite, nous connectons le signal <code data-claire-semantic="cpp">clicked()</code> du bouton à la méthode <code data-claire-semantic="cpp">Gtk::Main::quit()</code>, ce qui a pour effet de fermer le programme.<br/> Votre bouton fait enfin ce pour quoi il a été conçu. ^^</p><aside id="r-397720" data-claire-element-id="397720" data-claire-semantic="information"><p id="r-397719" data-claire-element-id="397719">Ce code avec <code data-claire-semantic="cpp">sigc::ptr_fun()</code> peut rapidement devenir compliqué.<br/> Il est possible de le simplifier si vous utilisez la <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">nouvelle norme C++ 2011</a>, grâce aux fonctions anonymes et aux fermetures.<br/> La ligne de connexion du signal devient :</p></aside><pre id="r-397721" data-claire-element-id="397721"><code data-claire-semantic="cpp">bouton.signal_clicked().connect([]() { Gtk::Main::quit(); });</code></pre><h5 id="r-connexion-a-une-methode-sans-parametre" data-claire-element-id="397749">Connexion à une méthode sans paramètre</h5><p id="r-397723" data-claire-element-id="397723">Mettez votre fenêtre en plein écran en appelant <code data-claire-semantic="cpp">fullscreen()</code> dans le constructeur de la classe <code data-claire-semantic="cpp">Fenetre</code>.</p><p id="r-397724" data-claire-element-id="397724">Changez le Stock Item de votre bouton pour <code data-claire-semantic="cpp">Gtk::Stock::LEAVE_FULLSCREEN</code>.</p><p id="r-397725" data-claire-element-id="397725">Voici ce que nous voulons faire maintenant :<br/> quitter le mode plein écran en cliquant sur le bouton.</p><p id="r-397726" data-claire-element-id="397726">Cependant, la méthode <code data-claire-semantic="cpp">unfullscreen()</code> appartient à la classe <code data-claire-semantic="cpp">Gtk::Window</code>.</p><div id="r-397728" data-claire-element-id="397728" data-claire-semantic="question"><p id="r-397727" data-claire-element-id="397727">Je le sais !<br/> Et si nous essayions ceci :<br/><code data-claire-semantic="cpp">boutonQuitter.signal_clicked().connect(sigc::ptr_fun(&amp;unfullscreen));</code><br/> La classe Fenetre hérite de Gtk::Window, il ne devrait pas y avoir de problème, non ?</p></div><p id="r-397729" data-claire-element-id="397729">Malheureusement, le compilateur n'aime pas trop...<br/> Et comment saurait-il quel objet doit appeler cette méthode ?<br/> En effet, nous pouvons connecter un signal à une méthode de n'importe quel objet.</p><p id="r-397730" data-claire-element-id="397730">Au lieu d'utiliser <code data-claire-semantic="cpp">ptr_fun()</code>, nous utiliserons <code data-claire-semantic="cpp">mem_fun()</code>.<br/> Le premier paramètre est l'objet et le deuxième, la méthode.</p><p id="r-397731" data-claire-element-id="397731">Voici ce qu'il faut écrire pour qu'un clic sur le bouton quitte le mode plein écran :</p><pre id="r-397732" data-claire-element-id="397732"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::unfullscreen));</code></pre><p id="r-397733" data-claire-element-id="397733">Ceci appelle la méthode <code data-claire-semantic="cpp">unfullscreen()</code> de l'objet <code data-claire-semantic="cpp">this</code> qui est de type Fenetre.</p><p id="r-397734" data-claire-element-id="397734">Pour ceux qui utilisent <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">C++ 2011</a>, ce code fait la même chose :</p><pre id="r-397735" data-claire-element-id="397735"><code data-claire-semantic="cpp">bouton.signal_clicked().connect([this]() { unfullscreen(); });</code></pre><p id="r-397736" data-claire-element-id="397736">Il ne faut pas oublier de capturer <code data-claire-semantic="cpp">this</code> pour que la fonction puisse appeler <code data-claire-semantic="cpp">unfullscreen()</code> sur la fenêtre courante.</p><div id="r-397738" data-claire-element-id="397738" data-claire-semantic="question"><p id="r-397737" data-claire-element-id="397737">Est-il possible de connecter un même signal à deux fonctions de rappel ?</p></div><p id="r-397739" data-claire-element-id="397739">Oui, ceci est tout à fait possible :</p><pre id="r-397740" data-claire-element-id="397740"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::fullscreen));
bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::unfullscreen));</code></pre><p id="r-397741" data-claire-element-id="397741">Bien que ce code ne fasse rien d'exceptionnel, ça fonctionne. ^^</p><aside id="r-397748" data-claire-element-id="397748" data-claire-semantic="error"><p id="r-397742" data-claire-element-id="397742">Si vous avez une erreur incompréhensible à la compilation, c'est que vous avez fait une erreur lors d'une connexion d'un signal à une fonction de rappel.</p><p id="r-397743" data-claire-element-id="397743">L'erreur la plus courante est l'irrespect des paramètres transmis par le signal et ceux reçus par la fonction de rappel.</p><p id="r-397744" data-claire-element-id="397744">Vous aurez une erreur semble à celle-ci :</p><div id="r-397746" data-claire-element-id="397746"><pre id="r-397745" data-claire-element-id="397745"><code data-claire-semantic="console">In file included from /usr/include/sigc++-2.0/sigc++/functors/slot.h:7,
                 from /usr/include/sigc++-2.0/sigc++/signal_base.h:28,
                 from /usr/include/sigc++-2.0/sigc++/signal.h:8,
                 from /usr/include/sigc++-2.0/sigc++/sigc++.h:23,
                 from /usr/include/glibmm-2.4/glibmm/signalproxy.h:13,
                 from /usr/include/glibmm-2.4/glibmm/objectbase.h:23,
                 from /usr/include/glibmm-2.4/glibmm/wrap.h:26,
                 from /usr/include/glibmm-2.4/glibmm/containerhandle_shared.h:25,
                 from /usr/include/glibmm-2.4/glibmm/arrayhandle.h:23,
                 from /usr/include/glibmm-2.4/glibmm.h:82,
                 from /usr/include/gtkmm-2.4/gtkmm/main.h:7,
                 from Fenetre.hpp:4,
                 from Fenetre.cpp:1:
/usr/include/sigc++-2.0/sigc++/adaptors/adaptor_trait.h: In member function ‘typename sigc::adaptor_functor&lt;T_functor&gt;::result_type sigc::adaptor_functor&lt;T_functor&gt;::operator()() const [with T_functor = sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;]’:
/usr/include/sigc++-2.0/sigc++/functors/slot.h:103:   instantiated from ‘static T_return sigc::internal::slot_call0&lt;T_functor, T_return&gt;::call_it(sigc::internal::slot_rep*) [with T_functor = sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;, T_return = void]’
/usr/include/sigc++-2.0/sigc++/functors/slot.h:110:   instantiated from ‘static void* (* sigc::internal::slot_call0&lt;T_functor, T_return&gt;::address())(void*) [with T_functor = sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;, T_return = void]’
/usr/include/sigc++-2.0/sigc++/functors/slot.h:454:   instantiated from ‘sigc::slot0&lt;T_return&gt;::slot0(const T_functor&amp;) [with T_functor = sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;, T_return = void]’
/usr/include/sigc++-2.0/sigc++/functors/slot.h:1130:   instantiated from ‘sigc::slot&lt;T_return, sigc::nil, sigc::nil, sigc::nil, sigc::nil, sigc::nil, sigc::nil, sigc::nil&gt;::slot(const T_functor&amp;) [with T_functor = sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;, T_return = void]’
Fenetre.cpp:11:   instantiated from here
/usr/include/sigc++-2.0/sigc++/adaptors/adaptor_trait.h:251: error: no match for call to ‘(sigc::bound_mem_functor1&lt;void, Fenetre, const Glib::ustring&amp;&gt;) ()’
/usr/include/sigc++-2.0/sigc++/functors/mem_fun.h:1850: note: candidates are: T_return sigc::bound_mem_functor1&lt;T_return, T_obj, T_arg1&gt;::operator()(typename sigc::type_trait&lt;T_arg3&gt;::take) const [with T_return = void, T_obj = Fenetre, T_arg1 = const Glib::ustring&amp;]
/usr/include/sigc++-2.0/sigc++/adaptors/adaptor_trait.h:251: error: return-statement with a value, in function returning 'void'</code></pre></div><p id="r-397747" data-claire-element-id="397747">Pour corriger l'erreur, il faudra aller voir dans la documentation pour vérifier le prototype de la fonction de rappel du signal en question.<br/> Je vous apprendrai comment vérifier cela lorsque je vous apprendrai à lire la documentation.</p></aside><h5 id="r-connexion-a-une-methode-avec-parametre-s" data-claire-element-id="397767">Connexion à une méthode avec paramètre(s)</h5><p id="r-397750" data-claire-element-id="397750">Maintenant, nous voulons que le clic sur le bouton modifie le titre de la fenêtre.<br/> Pour modifier ceci, il faut appeler set_title(), mais avec un argument.</p><p id="r-397751" data-claire-element-id="397751">Comment allons nous faire ?</p><p id="r-397752" data-claire-element-id="397752">Le problème c'est que le signal <code data-claire-semantic="cpp">clicked()</code> n'envoie aucun paramètre à la fonction de rappel.<br/> Il faut donc en ajouter un.</p><p id="r-397753" data-claire-element-id="397753">Pour cela, il faudra lier le paramètre avec <code data-claire-semantic="cpp">sigc::bind()</code>.</p><p id="r-397754" data-claire-element-id="397754">Donc, nous allons faire ceci :</p><pre id="r-397755" data-claire-element-id="397755"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::bind&lt;std::string&gt;(sigc::mem_fun(*this, &amp;Fenetre::set_title), &quot;Titre de la fenêtre&quot;));</code></pre><p id="r-397756" data-claire-element-id="397756">Entre les chevrons se trouve le type du paramètre que nous envoyons.<br/><code data-claire-semantic="cpp">&quot;Titre de la fenêtre&quot;</code> est bien de type <code data-claire-semantic="cpp">std::string</code>.</p><p id="r-397757" data-claire-element-id="397757">Dans un code complet, ça donne ceci :</p><pre id="r-397758" data-claire-element-id="397758"><code data-claire-semantic="cpp">#include &lt;string&gt;

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    fenetre.set_title(&quot;&quot;); //Cacher le titre de la fenêtre.
    
    Gtk::Button bouton(&quot;Afficher le titre !&quot;);
    fenetre.add(bouton); //Ajout du bouton à la fenêtre.
    
    bouton.show(); //Ne pas oublier d'afficher le bouton.
    bouton.set_can_focus(false); //Empêcher le bouton d'avoir le focus.
    
    bouton.signal_clicked().connect(sigc::bind&lt;std::string&gt;(sigc::mem_fun(fenetre, &amp;Gtk::Window::set_title), &quot;Titre de la fenêtre&quot;)); //Lorsque l'utilisateur cliquera sur le bouton, le titre de la fenêtre changera.
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-397759" data-claire-element-id="397759">Encore une fois, nous créons une fenêtre avec un bouton.<br/> Dans la connexion du signal à la méthode <code data-claire-semantic="cpp">set_title()</code>, notez que nous indiquons <code data-claire-semantic="cpp">&amp;Gtk::Window::set_title</code> au lieu de <code data-claire-semantic="cpp">&amp;Fenetre::set_title</code>, car nous n'avons pas créer de classe <code data-claire-semantic="cpp">Fenetre</code> dans ce code.</p><p id="r-397760" data-claire-element-id="397760">Encore une fois, c’est bien plus simple avec la <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">nouvelle norme</a> :</p><pre id="r-397761" data-claire-element-id="397761"><code data-claire-semantic="cpp">bouton.signal_clicked().connect([&amp;fenetre]() { fenetre.set_title(&quot;Titre de la fenêtre&quot;); });</code></pre><p id="r-397762" data-claire-element-id="397762">Il ne faut pas oublier de capturer la fenêtre <em><strong>par référence</strong></em>.</p><aside id="r-397764" data-claire-element-id="397764" data-claire-semantic="information"><p id="r-397763" data-claire-element-id="397763">Si nous voulons envoyer plusieurs paramètres, il suffit de les séparer par des virgules aux deux endroits (entre les chevrons et après le nom de la fonction de rappel).<br/> Vous verrez un exemple de transmission de plusieurs paramètres dans le prochain chapitre.</p></aside><p id="r-397765" data-claire-element-id="397765">Essayez !<br/> Maintenant, si nous cliquons sur le bouton, le titre de la fenêtre s'affiche !</p><p id="r-397766" data-claire-element-id="397766">Transmettre un paramètre est également utile lorsque nous utilisons un même signal pour plusieurs <em>widgets</em>.<br/> Nous pouvons envoyer le <em>widget</em> en paramètre pour savoir que c'est lui qui a émis le signal.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
<span class="arrow"></span>
<span class="next">Fonctionnement des signaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
<span class="next">Exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Exemple"></a><h2>Exemple</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
<span class="arrow"></span>
<span class="next">Connexion d&#039;un signal à une fonction de rappel</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">
<span class="next">Les signaux et les fonctions de rappel (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exemple-96" data-claire-element-id="397802">Exemple</h4><p id="r-397769" data-claire-element-id="397769">Pour terminer ce chapitre, nous allons concevoir un petit programme qui utilise les signaux.</p><p id="r-397770" data-claire-element-id="397770">Ce programme sera très simple et, bien que inutile, vous fera pratiquer ce que vous avez vu dans ce chapitre.</p><p id="r-397771" data-claire-element-id="397771">Le programme affichera un bouton :</p><figure id="r-397773" data-claire-element-id="397774"><img id="r-397772" data-claire-element-id="397772" src="medias/uploads.siteduzero.com_files_244001_245000_244801.png" alt="Image utilisateur"/></figure><p id="r-397775" data-claire-element-id="397775">Et lorsque l'utilisateur cliquera dessus, nous allons modifier le texte sur le bouton et le titre sur la fenêtre :</p><figure id="r-397777" data-claire-element-id="397778"><img id="r-397776" data-claire-element-id="397776" src="medias/uploads.siteduzero.com_files_244001_245000_244802.png" alt="Image utilisateur"/></figure><p id="r-397779" data-claire-element-id="397779">Si vous vous sentez capable, essayez de faire ce programme par vous-même.</p><p id="r-397780" data-claire-element-id="397780">Je vous donne la correction.</p><h6 id="r-le-fichier-main-cpp-3" data-claire-element-id="397783">Le fichier main.cpp</h6><pre id="r-397781" data-claire-element-id="397781"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397782" data-claire-element-id="397782">Ce fichier est toujours le même.</p><h6 id="r-le-fichier-fenetre-hpp-1" data-claire-element-id="397786">Le fichier Fenetre.hpp</h6><pre id="r-397784" data-claire-element-id="397784"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;string&gt;

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
    
    private :
        Gtk::Button bouton;
};

#endif</code></pre><p id="r-397785" data-claire-element-id="397785">Nous créons la fenêtre et le bouton ; il n'y a rien de bien compliqué.</p><h6 id="r-le-fichier-fenetre-cpp-1" data-claire-element-id="397801">Le fichier Fenetre.cpp</h6><pre id="r-397787" data-claire-element-id="397787"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

using namespace std;

Fenetre::Fenetre() : bouton(&quot;Hello World!&quot;) {
    set_title(&quot;Hello World!&quot;);
    set_border_width(10);
    
    add(bouton);
    bouton.show();
    bouton.set_can_focus(false);
    
    bouton.signal_clicked().connect(sigc::bind&lt;string&gt;(sigc::mem_fun(*this, &amp;Fenetre::set_title), &quot;Bonjour le monde !&quot;)); //Lorsque l'utilisateur clique sur le bouton, modifier le titre et...
    bouton.signal_clicked().connect(sigc::bind&lt;string&gt;(sigc::mem_fun(bouton, &amp;Gtk::Button::set_label), &quot;Bonjour le monde !&quot;)); //... le texte sur le bouton.
}</code></pre><p id="r-397788" data-claire-element-id="397788">Lui aussi est très simple.</p><p id="r-397789" data-claire-element-id="397789">Nous commençons par modifier un peu la fenêtre (titre, bordure).<br/> Puis, nous ajoutons le bouton à la fenêtre.</p><p id="r-397790" data-claire-element-id="397790">Enfin, nous connectons le signal <code data-claire-semantic="cpp">clicked()</code> du bouton à deux fonctions de rappel.</p><p id="r-397791" data-claire-element-id="397791">La première connexion se charge de modifier le titre de la fenêtre avec <code data-claire-semantic="cpp">set_title()</code>.<br/> La deuxième modifie le texte sur le bouton avec <code data-claire-semantic="cpp">set_label()</code>.</p><p id="r-397792" data-claire-element-id="397792">Dans les deux cas, nous ajoutons un paramètre avec <code data-claire-semantic="cpp">sigc::bind</code>.</p><p id="r-397793" data-claire-element-id="397793">Voilà, c'est très simple, n'est-ce pas ?</p><p id="r-397794" data-claire-element-id="397794">Et la version <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">C++ 2011</a> est encore plus simple :</p><pre id="r-397795" data-claire-element-id="397795"><code data-claire-semantic="cpp">bouton.signal_clicked().connect([this, &amp;bouton]() {
    set_title(&quot;Bonjour le monde !&quot;);
    bouton.set_label(&quot;Bonjour le monde !&quot;);
});</code></pre><p id="r-397796" data-claire-element-id="397796">Que de nouveautés dans ce chapitre.<br/> C'est un gros morceau que vous venez de voir, là.</p><p id="r-397797" data-claire-element-id="397797">Vous savez maintenant comment connecter un <em>signal</em> à une fonction de telle sorte que celle-ci soit appelée lorsque l'utilisateur effectue une action pré-déterminée.</p><p id="r-397798" data-claire-element-id="397798">Il existe d'autres signaux que <code data-claire-semantic="cpp">clicked() </code>; il en existe beaucoup d'autres.<br/> Vous n'avez donc pas vu tous les signaux existants (vous n'en avez vu qu'un seul, en fait :lol: ), mais, au fur et à mesure que vous avancerez dans ce tutoriel, vous en apprendrez d'autres.</p><p id="r-397799" data-claire-element-id="397799">Si vous voulez en connaître qui ne sont pas expliqués dans ce tutoriel, il faudra aller dans la doc'.</p><p id="r-397800" data-claire-element-id="397800">Dans le prochain chapitre, nous terminerons notre étude des signaux et des fonctions de rappel en voyant comment en créer.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
<span class="arrow"></span>
<span class="next">Connexion d&#039;un signal à une fonction de rappel</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">
<span class="next">Les signaux et les fonctions de rappel (Partie 2/2)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LessignauxetlesfonctionsderappelPartie2_2"></a><h2>Les signaux et les fonctions de rappel (Partie 2/2)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
<span class="arrow"></span>
<span class="next">Exemple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
<span class="next">Créez vos propres fonctions de rappel</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-397804" data-claire-element-id="397804">Après avoir vu comment connecter un signal à une fonction de rappel, nous allons voir comment en créer.</p><p id="r-397805" data-claire-element-id="397805">Dans vos projets, vous créerez plus souvent des fonctions de rappel que des signaux, mais il est bon de savoir comment créer les deux.</p>
</div><a name="Crezvospropresfonctionsderappel"></a><h2>Créez vos propres fonctions de rappel</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">
<span class="arrow"></span>
<span class="next">Les signaux et les fonctions de rappel (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
<span class="next">Créez vos propres signaux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creez-vos-propres-fonctions-de-rappel" data-claire-element-id="397847">Créez vos propres fonctions de rappel</h4><p id="r-397806" data-claire-element-id="397806">Maintenant que nous sommes capables de connecter des signaux à des fonctions de rappel, nous allons apprendre à en créer.</p><p id="r-397807" data-claire-element-id="397807">Commençons par les fonctions de rappel et nous finirons avec la création de signaux (gardons le meilleur pour la fin :D ).</p><h5 id="r-la-fonction-de-rappel" data-claire-element-id="397822">La fonction de rappel</h5><p id="r-397808" data-claire-element-id="397808">Une fonction de rappel est une fonction comme les autres.<br/> Elle retourne une valeur et a des paramètres.</p><p id="r-397809" data-claire-element-id="397809">Pour cette sous-partie, nous allons utiliser une fonction de rappel qui agrandit la taille de la fenêtre.<br/> Voici son prototype (que vous pouvez ajouter dans le fichier Fenetre.hpp) :</p><pre id="r-397810" data-claire-element-id="397810"><code data-claire-semantic="cpp">void augmenterTaille();</code></pre><p id="r-397811" data-claire-element-id="397811">Créez également un bouton dans ce fichier.</p><p id="r-397812" data-claire-element-id="397812">Nous allons maintenant écrire son contenu dans le fichier Fenetre.cpp :</p><pre id="r-397813" data-claire-element-id="397813"><code data-claire-semantic="cpp">void Fenetre::augmenterTaille() {
    int largeur(0);
    int hauteur(0);
    get_size(largeur, hauteur);
    resize(largeur + 10, hauteur + 10);
}</code></pre><p id="r-397814" data-claire-element-id="397814">Je vous explique ce qui se passe.</p><p id="r-397815" data-claire-element-id="397815">Premièrement, nous créons des variables pour conteneur la largeur et la hauteur actuelles de la fenêtre.</p><p id="r-397816" data-claire-element-id="397816">Nous obtenons ces données en envoyant ces variables en paramètre à la méthode <code data-claire-semantic="cpp">get_size()</code>.</p><p id="r-397817" data-claire-element-id="397817">Ensuite, nous redimensionnons la fenêtre grâce à la méthode <code data-claire-semantic="cpp">resize()</code> (nous ajoutons 10px à la taille actuelle).</p><p id="r-397818" data-claire-element-id="397818">C'est très simple, n'est-ce pas ?</p><p id="r-397819" data-claire-element-id="397819">Il ne vous reste plus qu'à connecter un signal à cette fonction et le tour est joué :</p><pre id="r-397820" data-claire-element-id="397820"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::augmenterTaille));</code></pre><p id="r-397821" data-claire-element-id="397821">À chaque clic sur un bouton, la fenêtre s'agrandit de 10px.</p><h5 id="r-la-fonction-de-rappel-avec-des-parametres" data-claire-element-id="397846">La fonction de rappel avec des paramètres</h5><aside id="r-397824" data-claire-element-id="397824" data-claire-semantic="warning"><p id="r-397823" data-claire-element-id="397823">Notez qu'il est impossible de surcharger une fonction de rappel, car il y aurait ambiguïté.</p></aside><p id="r-397825" data-claire-element-id="397825">Modifions le prototype de notre fonction de rappel pour celui-ci :</p><pre id="r-397826" data-claire-element-id="397826"><code data-claire-semantic="cpp">void augmenterTaille(int augmentationLargeur, int augmentationHauteur);</code></pre><p id="r-397827" data-claire-element-id="397827">Cette fois, nous allons envoyer à cette fonction la largeur et la hauteur que nous voulons ajouter à la fenêtre.</p><p id="r-397828" data-claire-element-id="397828">Vous devriez être capable de modifier la méthode, mais je vous la donne tout de même (que je suis gentil :p ) :</p><pre id="r-397829" data-claire-element-id="397829"><code data-claire-semantic="cpp">void Fenetre::augmenterTaille(int augmentationLargeur, int augmentationHauteur) {
    int largeur(0);
    int hauteur(0);
    get_size(largeur, hauteur);
    resize(largeur + augmentationLargeur, hauteur + augmentationHauteur);
}</code></pre><p id="r-397830" data-claire-element-id="397830">Et comme vous avez appris plus haut comment appeler une fonction de rappel qui ne comprend pas les mêmes paramètres que le signal, vous devriez être capable d'écrire la connexion.<br/> Je vous la donne également :</p><pre id="r-397831" data-claire-element-id="397831"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::bind&lt;int, int&gt;(sigc::mem_fun(*this, &amp;Fenetre::augmenterTaille), 130, 140));</code></pre><aside id="r-397833" data-claire-element-id="397833" data-claire-semantic="information"><p id="r-397832" data-claire-element-id="397832">Comme il y a plusieurs paramètres, nous devons les séparer par des virgules.</p></aside><p id="r-397834" data-claire-element-id="397834">À chaque clic sur le bouton, la fenêtre s'agrandira de 130 pixels horizontalement et 140 verticalement.</p><p id="r-397835" data-claire-element-id="397835">Cette fois, je vous donne un code complet avec 3 fichiers (main.cpp, Fenetre.cpp et Fenetre.hpp).</p><h6 id="r-main-cpp-6" data-claire-element-id="397838">main.cpp</h6><pre id="r-397836" data-claire-element-id="397836"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397837" data-claire-element-id="397837">Ce code est toujours le même.</p><h6 id="r-fenetre-hpp" data-claire-element-id="397841">Fenetre.hpp</h6><pre id="r-397839" data-claire-element-id="397839"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public:
        Fenetre();
        
    private:
        Gtk::Button bouton;
        
        void augmenterTaille(int augmentationLargeur, int augmentationHauteur);
};

#endif</code></pre><p id="r-397840" data-claire-element-id="397840">C'est la classe de la fenêtre.<br/> Nous créons le prototype de notre fonction de rappel (qui prend des paramètres) et notre bouton.</p><h6 id="r-fenetre-cpp" data-claire-element-id="397845">Fenetre.cpp</h6><pre id="r-397842" data-claire-element-id="397842"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(&quot;Agrandir&quot;) {
    set_default_size(200, 200); //Déterminer la taille par défaut de la fenêtre.
    set_border_width(10); //Ajouter une bordure de 10px autour du bouton.
    add(bouton);
    
    //Connexion du signal clicked() du bouton à la méthode augmenterTaille() de la présente fenêtre.
    //Nous lui passons deux paramètres.
    bouton.signal_clicked().connect(sigc::bind&lt;int, int&gt;(sigc::mem_fun(*this, &amp;Fenetre::augmenterTaille), 130, 140));
    show_all();
}

void Fenetre::augmenterTaille(int augmentationLargeur, int augmentationHauteur) {
    int largeur(0);
    int hauteur(0);
    get_size(largeur, hauteur);
    resize(largeur + augmentationLargeur, hauteur + augmentationHauteur);
}</code></pre><p id="r-397843" data-claire-element-id="397843">À la ligne 10, nous connectons le signal clicked() (encore lui :colere2: ) du bouton à notre fonction de rappel <code data-claire-semantic="cpp">augmenterTaille()</code> ; nous lui transmettons les deux paramètres demandés par cette dernière.<br/> À la ligne 14, il y a notre fonction de rappel.<br/> Je viens de vous expliquer son principe ; je ne me répèterai pas. ^^</p><p id="r-397844" data-claire-element-id="397844">Passons à la création de signaux.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">
<span class="arrow"></span>
<span class="next">Les signaux et les fonctions de rappel (Partie 2/2)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
<span class="next">Créez vos propres signaux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crezvospropressignaux"></a><h2>Créez vos propres signaux</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
<span class="arrow"></span>
<span class="next">Créez vos propres fonctions de rappel</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
<span class="next">Exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creez-vos-propres-signaux" data-claire-element-id="397916">Créez vos propres signaux</h4><h5 id="r-creer-un-signal-1" data-claire-element-id="397858">Créer un signal</h5><p id="r-397848" data-claire-element-id="397848">Un signal est un objet de type <code data-claire-semantic="cpp">sigc::signal</code>.</p><p id="r-397849" data-claire-element-id="397849">Lorsque nous utilisons <code data-claire-semantic="cpp">sigc::signal</code>, nous ajouterons toujours des chevrons après pour indiquer le type de retour et celui des paramètres.</p><p id="r-397850" data-claire-element-id="397850">Par exemple, si nous voulons créer un signal qui ne renvoie rien et n'envoie aucun paramètre, nous le créerons comme ceci :</p><pre id="r-397851" data-claire-element-id="397851"><code data-claire-semantic="cpp">sigc::signal&lt;void&gt; signal_nom;</code></pre><p id="r-397852" data-claire-element-id="397852">Cependant, cela ne crée pas le signal comme ceux dans gtkmm.</p><p id="r-397853" data-claire-element-id="397853">Pour l'utiliser, nous ne devrons pas ajouter de parenthèses.</p><p id="r-397854" data-claire-element-id="397854">Par exemple, pour le signal <code data-claire-semantic="cpp">clicked()</code> d'un bouton, nous faisons comme ceci :</p><pre id="r-397855" data-claire-element-id="397855"><code data-claire-semantic="cpp">bouton.signal_clicked().connect()</code></pre><p id="r-397856" data-claire-element-id="397856">Pour le signal que nous venons de créer nous devons faire cela :</p><pre id="r-397857" data-claire-element-id="397857"><code data-claire-semantic="cpp">objet.signal_nom.connect()</code></pre><h5 id="r-un-signal-avec-des-parentheses" data-claire-element-id="397884">Un signal avec des parenthèses</h5><p id="r-397859" data-claire-element-id="397859">Pour ajouter des parenthèses, nous allons devoir créer un attribut (variable membre) qui sera retournée par une méthode.</p><div id="r-397861" data-claire-element-id="397861" data-claire-semantic="question"><p id="r-397860" data-claire-element-id="397860">Pourquoi devons-nous faire cela ?<br/> C'est un peu une perte de temps, non ?</p></div><p id="r-397862" data-claire-element-id="397862">C'est ce que je me disais aussi. :-°</p><p id="r-397863" data-claire-element-id="397863">En utilisant un accesseur, ne saurons que c'est un signal lorsque nous l'émettrons et lorsque nous le connecterons à une fonction de rappel.<br/> En outre, si d'autres personnes lisent votre code, ils sauront immédiatement que c'est un signal.</p><p id="r-397864" data-claire-element-id="397864">Voyons comment faire cela.</p><p id="r-397865" data-claire-element-id="397865">Ce qui suit se situe dans la partie <code data-claire-semantic="cpp">public</code> de votre classe <code data-claire-semantic="cpp">Fenetre</code>.</p><p id="r-397866" data-claire-element-id="397866">Premièrement, comme le type de retour et celui des paramètres peut parfois être long à écrire, nous commencerons par créer un <code data-claire-semantic="cpp">typedef</code> :</p><pre id="r-397867" data-claire-element-id="397867"><code data-claire-semantic="cpp">typedef sigc::signal&lt;void&gt; type_signal_nom;</code></pre><pre id="r-397868" data-claire-element-id="397868"><code data-claire-semantic="cpp">type_signal_nom</code></pre><p id="r-397869" data-claire-element-id="397869">est maintenant l'équivalent de <code data-claire-semantic="cpp">sigc::signal&lt;void&gt;</code>.</p><p id="r-397870" data-claire-element-id="397870">Dans ce cas-ci, ce n'est pas vraiment un gain niveau longueur, mais, parfois, ce sera le cas.<br/> C'est au moins un gain niveau lisibilité.</p><p id="r-397871" data-claire-element-id="397871">Ensuite, nous pouvons créer notre accesseur :</p><pre id="r-397872" data-claire-element-id="397872"><code data-claire-semantic="cpp">type_signal_nom signal_nom();</code></pre><p id="r-397873" data-claire-element-id="397873">Vous voyez, l'accesseur retourne un objet de type type_signal_nom, donc notre signal.</p><p id="r-397874" data-claire-element-id="397874">Dans la partie <code data-claire-semantic="cpp">protected</code>, nous allons créer notre signal :</p><pre id="r-397875" data-claire-element-id="397875"><code data-claire-semantic="cpp">type_signal_nom m_signal_nom;</code></pre><p id="r-397876" data-claire-element-id="397876">Vous voyez, nous l'utilisons souvent, ce <code data-claire-semantic="cpp">typedef</code> (il n'est donc pas si inutile que ça :o ).</p><p id="r-397877" data-claire-element-id="397877">Enfin, nous devons créer l'accesseur dans le fichier Fenetre.cpp :</p><pre id="r-397878" data-claire-element-id="397878"><code data-claire-semantic="cpp">Fenetre::type_signal_nom Fenetre::signal_nom() { //Cette méthode retourne le signal.
	return m_signal_nom;
}</code></pre><p id="r-397879" data-claire-element-id="397879">Maintenant, nous pouvons utiliser notre signal avec des parenthèses, comme ceci :</p><pre id="r-397880" data-claire-element-id="397880"><code data-claire-semantic="cpp">signal_nom().connect(...);</code></pre><p id="r-397881" data-claire-element-id="397881">Comme c'est un signal de notre fenêtre, nous n'avons pas besoin d'écrire le nom d'un objet devant <code data-claire-semantic="cpp">signal_nom()</code>.</p><aside id="r-397883" data-claire-element-id="397883" data-claire-semantic="information"><p id="r-397882" data-claire-element-id="397882">Il est tout à fait possible de créer des signaux pour d'autres <em>widgets</em> ; il faut juste créer une classe héritant de ce <em>widget</em> et faire ce je viens de vous montrer.</p></aside><h5 id="r-emettre-un-signal" data-claire-element-id="397887">Émettre un signal</h5><p id="r-397885" data-claire-element-id="397885">Pour émettre un signal, il suffit d'appeler la méthode <code data-claire-semantic="cpp">emit()</code> de ce signal :</p><pre id="r-397886" data-claire-element-id="397886"><code data-claire-semantic="cpp">signal_nom().emit();</code></pre><h5 id="r-un-signal-qui-transmet-des-parametres" data-claire-element-id="397900">Un signal qui transmet des paramètres</h5><p id="r-397888" data-claire-element-id="397888">Si nous voulons que notre signal transmette des paramètres à la fonction de rappel, nous devons modifier deux choses :</p><ul id="r-397893" data-claire-element-id="397893"><li id="r-397890" data-claire-element-id="397890"><p id="r-397889" data-claire-element-id="397889">Ajouter un type lors de la création du <code data-claire-semantic="cpp">typedef</code> :</p></li><li id="r-397892" data-claire-element-id="397892"><p id="r-397891" data-claire-element-id="397891">Envoyer un argument à la fonction <code data-claire-semantic="cpp">emit()</code>.</p></li></ul><h6 id="r-la-creation-du-typedef" data-claire-element-id="397896">La création du <code data-claire-semantic="cpp">typedef</code></h6><p id="r-397894" data-claire-element-id="397894">Pour la création, il faut ajouter le type de l'argument qui sera transmis.<br/> Si c'est un <code data-claire-semantic="cpp">std::string</code> qui est transmis, nous devons faire ceci :</p><pre id="r-397895" data-claire-element-id="397895"><code data-claire-semantic="cpp">typedef sigc::signal&lt;void, std::string&gt; type_signal_nom;</code></pre><h6 id="r-l-emission-du-signal" data-claire-element-id="397899">L'émission du signal</h6><p id="r-397897" data-claire-element-id="397897">Il suffit d'ajouter un argument de type <code data-claire-semantic="cpp">std::string</code> à la méthode <code data-claire-semantic="cpp">emit()</code> :</p><pre id="r-397898" data-claire-element-id="397898"><code data-claire-semantic="cpp">signal_nom().emit(&quot;Texte&quot;);</code></pre><h5 id="r-exemple-97" data-claire-element-id="397915">Exemple</h5><p id="r-397901" data-claire-element-id="397901">Pour l'exemple, nous allons reprendre notre fonction de rappel <code data-claire-semantic="cpp">augmenterTaille()</code> (celle sans paramètre) et allons émettre un signal lorsque la taille de la fenêtre est supérieure ou égale à 200px (car nous trouvons que c'est assez gros, un bouton de 200px :p ).</p><p id="r-397902" data-claire-element-id="397902">Voici les fichiers :</p><h6 id="r-main-cpp-7" data-claire-element-id="397905">main.cpp</h6><pre id="r-397903" data-claire-element-id="397903"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-397904" data-claire-element-id="397904">Rien de spécial, comme à l'accoutumée.</p><h6 id="r-fenetre-hpp-1" data-claire-element-id="397908">Fenetre.hpp</h6><pre id="r-397906" data-claire-element-id="397906"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public:
        Fenetre();
        void augmenterTaille();
        
        typedef sigc::signal&lt;void&gt; type_signal_taille_max;
        type_signal_taille_max signal_taille_max();
        
    protected:
        type_signal_taille_max signalTailleMax;
        
    private:
        Gtk::Button bouton;
};

#endif</code></pre><p id="r-397907" data-claire-element-id="397907">Dans ce fichier, nous créons notre signal (typedef, attribut et accesseur).</p><h6 id="r-fenetre-cpp-1" data-claire-element-id="397914">Fenetre.cpp</h6><pre id="r-397909" data-claire-element-id="397909"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(&quot;Agrandir la fenêtre&quot;) {
    set_default_size(200, 200);
    set_border_width(10);
    
    bouton.set_can_focus(false);
    add(bouton);
    
    //Connexion du signal clicked() du bouton à la fonction de rappel augmenterTaille().
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::augmenterTaille));
    //Connexion de notre signal perso à la fonction resize().
    signal_taille_max().connect(sigc::bind&lt;int, int&gt;(sigc::mem_fun(*this, &amp;Fenetre::resize), 100, 100));
    show_all();
}

void Fenetre::augmenterTaille() {
    int largeur(0);
    int hauteur(0);
    get_size(largeur, hauteur);
    int nouvelleLargeur(largeur + 10);
    int nouvelleHauteur(hauteur + 10);
    resize(nouvelleLargeur, nouvelleHauteur);
    
    if(nouvelleLargeur &gt;= 200 or nouvelleHauteur &gt;= 200) {
        signal_taille_max().emit();
    }
}

Fenetre::type_signal_taille_max Fenetre::signal_taille_max() {
    return signalTailleMax;
}</code></pre><p id="r-397910" data-claire-element-id="397910">Dans le constructeur, nous configurons notre fenêtre et nous connectons le signal <code data-claire-semantic="cpp">clicked()</code> et notre signal perso à des fonctions de rappel (nous ajoutons des paramètres à l'une d'elle avec <code data-claire-semantic="cpp">sigc::bind</code>).</p><p id="r-397911" data-claire-element-id="397911">Puis, nous avons notre fonction de rappel <code data-claire-semantic="cpp">augmenterFenetre()</code> que j'ai modifié un peu.<br/><em>Après</em> avoir redimensionné la fenêtre — pas avant, car le code n'aurait aucun effet à cause que la méthode resize() connectée au signal <code data-claire-semantic="cpp">taille_max()</code> serait appelé <em>avant</em> la méthode <code data-claire-semantic="cpp">resize()</code> de la présente fonction de rappel —, nous émettons le signal perso.</p><p id="r-397912" data-claire-element-id="397912">Enfin, nous avons notre accesseur.</p><p id="r-397913" data-claire-element-id="397913">Après deux chapitres très riche en nouveautés, je pense qu'un exemple qui regroupe la plupart de celles-ci vous ferait le plus grand bien. :-°</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
<span class="arrow"></span>
<span class="next">Créez vos propres fonctions de rappel</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
<span class="next">Exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Exemple"></a><h2>Exemple</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
<span class="arrow"></span>
<span class="next">Créez vos propres signaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">
<span class="next">Organiser vos fenêtres avec les conteneurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-exemple-98" data-claire-element-id="397978">Exemple</h4><p id="r-397917" data-claire-element-id="397917">Nous allons faire un programme qui utilise une barre de progression.</p><p id="r-397918" data-claire-element-id="397918">Lorsque cette barre de progression atteindra 50%, nous émettrons un signal qui ne transmet pas d'argument.</p><p id="r-397919" data-claire-element-id="397919">Lorsque cette barre atteindra 100%, nous émettrons un signal qui transmet un argument.</p><p id="r-397920" data-claire-element-id="397920">Avec cet exemple, nous pratiquerons tout ce que nous avons vu lors de ce chapitre et du précédent.</p><p id="r-397921" data-claire-element-id="397921">Voici le résultat :</p><figure id="r-397923" data-claire-element-id="397924"><img id="r-397922" data-claire-element-id="397922" src="medias/uploads.siteduzero.com_files_243001_244000_243497.png" alt="Image utilisateur"/></figure><h5 id="r-le-fichier-main-cpp-4" data-claire-element-id="397927">Le fichier main.cpp</h5><p id="r-397925" data-claire-element-id="397925">Il est toujours identique :</p><pre id="r-397926" data-claire-element-id="397926"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><h5 id="r-le-fichier-fenetre-hpp-2" data-claire-element-id="397947">Le fichier Fenetre.hpp</h5><p id="r-397928" data-claire-element-id="397928">Nous allons voir ce fichier petit à petit.</p><p id="r-397929" data-claire-element-id="397929">Commençons par le début :</p><pre id="r-397930" data-claire-element-id="397930"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;string&gt;

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/progressbar.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;</code></pre><p id="r-397931" data-claire-element-id="397931">L'habituelle protection est présente et nous ajoutons ensuite les entêtes nécessaires au programme.</p><aside id="r-397933" data-claire-element-id="397933" data-claire-semantic="warning"><p id="r-397932" data-claire-element-id="397932">Dans cet exemple, nous utiliserons un conteneur.<br/> Nous verrons comment utiliser les conteneurs dans le prochain chapitre.<br/> Nous vous attardez donc pas à cette partie du code.</p></aside><p id="r-397934" data-claire-element-id="397934">Ensuite, nous créons la classe :</p><pre id="r-397935" data-claire-element-id="397935"><code data-claire-semantic="cpp">class Fenetre : public Gtk::Window {
	public :
		Fenetre();</code></pre><p id="r-397936" data-claire-element-id="397936">Rien de nouveau...</p><p id="r-397937" data-claire-element-id="397937">Puis, nous créons nos deux signaux et nous créons une fonction de rappel :</p><pre id="r-397938" data-claire-element-id="397938"><code data-claire-semantic="cpp">//
        typedef sigc::signal&lt;void&gt; type_signal_pourcentage_moitie; //Création d'un typedef pour le type du signal.
        type_signal_pourcentage_moitie signal_pourcentage_moitie(); //Création de la méthode qui retourne le signal.
        
        typedef sigc::signal&lt;void, std::string&gt; type_signal_pourcentage_max;
        type_signal_pourcentage_max signal_pourcentage_max();
        
        void ajouterPourcentage(); //Création d'une fonction de rappel.</code></pre><p id="r-397939" data-claire-element-id="397939">Nous créons, comme à l'accoutumée, un <code data-claire-semantic="cpp">typedef</code> pour le type de chacun des signaux.<br/> En dessous de ces <code data-claire-semantic="cpp">typedef</code>s, nous créons les prototypes des accesseurs pour les signaux.</p><p id="r-397940" data-claire-element-id="397940">Plus bas, dans <code data-claire-semantic="cpp">protected</code>, nous créons les-dits signaux :</p><pre id="r-397941" data-claire-element-id="397941"><code data-claire-semantic="cpp">//
    protected :
        type_signal_pourcentage_moitie signalPourcentageMoitie; //Création du signal.
        type_signal_pourcentage_max signalPourcentageMax;</code></pre><p id="r-397942" data-claire-element-id="397942">Le signal <code data-claire-semantic="cpp">pourcentage_moitie()</code> sera émis lorsque la barre de progression atteint 50% et <code data-claire-semantic="cpp">pourcentage_max()</code>, lorsqu'elle atteindra 100%.</p><p id="r-397943" data-claire-element-id="397943">Finalement, nous créons les <em>widgets</em> nécessaires au projet et terminons la classe :</p><pre id="r-397944" data-claire-element-id="397944"><code data-claire-semantic="cpp">//
    private :
        Gtk::ProgressBar barreProgression; //Création d'une barre de progression.
        Gtk::VButtonBox boiteV;
        Gtk::Button bouton;
        Gtk::Label etiquette;
};

#endif</code></pre><p id="r-397945" data-claire-element-id="397945">Voici le fichier Fenetre.hpp au complet :</p><pre id="r-397946" data-claire-element-id="397946"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;string&gt;

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/progressbar.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        
        typedef sigc::signal&lt;void&gt; type_signal_pourcentage_moitie; //Création d'un typedef pour le type du signal.
        type_signal_pourcentage_moitie signal_pourcentage_moitie(); //Création de la méthode qui retourne le signal.
        
        typedef sigc::signal&lt;void, std::string&gt; type_signal_pourcentage_max;
        type_signal_pourcentage_max signal_pourcentage_max();
        
        void ajouterPourcentage(); //Création d'une fonction de rappel.
        
    protected :
        type_signal_pourcentage_moitie signalPourcentageMoitie; //Création du signal.
        type_signal_pourcentage_max signalPourcentageMax;
        
    private :
        Gtk::ProgressBar barreProgression; //Création d'une barre de progression.
        Gtk::VButtonBox boiteV;
        Gtk::Button bouton;
        Gtk::Label etiquette;
};

#endif</code></pre><h5 id="r-le-fichier-fenetre-cpp-2" data-claire-element-id="397977">Le fichier Fenetre.cpp</h5><p id="r-397948" data-claire-element-id="397948">Voici le début de ce fichier :</p><pre id="r-397949" data-claire-element-id="397949"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boiteV(Gtk::BUTTONBOX_SPREAD), bouton(Gtk::Stock::ADD) {
    add(boiteV);
    
    boiteV.pack_start(bouton);
    bouton.set_can_focus(false);
    boiteV.pack_start(barreProgression);
    boiteV.pack_start(etiquette);
    
    //Connexions des signaux aux fonction de rappel.
    //...
    //...

    //Affichage des widgets.
    show_all();
}</code></pre><p id="r-397950" data-claire-element-id="397950">J'ai volontairement passé la partie de connexion des signaux pour vous la montrer plus tard.<br/> Ne vous attardez pas au code ci-dessus, car il utilise des notions que vous n'avez pas encore vues (les conteneurs).</p><p id="r-397951" data-claire-element-id="397951">Passons à notre fonction de rappel :</p><pre id="r-397952" data-claire-element-id="397952"><code data-claire-semantic="cpp">void Fenetre::ajouterPourcentage() {
    double nouveauPourcentage(barreProgression.get_fraction() + 0.1);
    
    if(std::abs(nouveauPourcentage - 0.5) &lt; 0.00001) {
        signal_pourcentage_moitie().emit(); //Émettre notre signal perso.
    }
    else if(std::abs(nouveauPourcentage - 1) &lt; 0.00001) {
        signal_pourcentage_max().emit(&quot;Le pourcentage est 100%.&quot;); //Émettre notre signal perso avec un paramètre.
    }
    
    if(nouveauPourcentage &lt;= 1.00001) {
        barreProgression.set_fraction(nouveauPourcentage);
    }
    else {
        barreProgression.set_fraction(0);
    }
}</code></pre><p id="r-397953" data-claire-element-id="397953">Cette fonction sera appelée lorsque l'utilisateur (donc vous :p ) cliquera sur le bouton <em>Ajouter</em>.<br/> Premièrement, nous récupérons le pourcentage actuel avec <code data-claire-semantic="cpp">get_fraction()</code> et nous lui ajoutons 0.1 (10%).</p><p id="r-397954" data-claire-element-id="397954">Ensuite, nous émettons nos signaux aux pourcentages voulus.<br/> N'oubliez pas que le signal <code data-claire-semantic="cpp">pourcentage_max()</code> prend un paramètre !</p><p id="r-397955" data-claire-element-id="397955">Puis, si le pourcentage actuel est inférieur à 100%, nous pouvons mettre à jour la barre de progression avec <code data-claire-semantic="cpp">set_fraction()</code>.</p><p id="r-397956" data-claire-element-id="397956">Si le pourcentage est égal à 100%, nous remettons la barre de progression à 0% (pour tester plusieurs fois ce merveilleux programme :lol: ).</p><p id="r-397957" data-claire-element-id="397957">Voyons les accesseurs :</p><pre id="r-397958" data-claire-element-id="397958"><code data-claire-semantic="cpp">Fenetre::type_signal_pourcentage_moitie Fenetre::signal_pourcentage_moitie() { //Cette méthode retourne le signal.
    return signalPourcentageMoitie;
}

Fenetre::type_signal_pourcentage_max Fenetre::signal_pourcentage_max() {
    return signalPourcentageMax;
}</code></pre><p id="r-397959" data-claire-element-id="397959">Je n'ai rien à vous dire sur cette partie du code.<br/> Ces accesseurs retournent les signaux appropriés.</p><p id="r-397960" data-claire-element-id="397960">Voyons maintenant les connexions des signaux aux fonctions de rappel (dans le constructeur) :</p><pre id="r-397961" data-claire-element-id="397961"><code data-claire-semantic="cpp">//
    //Connexion du signal clicked() à une fonction de rappel.
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::ajouterPourcentage));
    //Connexion du signal pourcentage_moitie() à une fonction de rappel en ajoutant un paramètre.
    signal_pourcentage_moitie().connect(sigc::bind&lt;std::string&gt;(sigc::mem_fun(etiquette, &amp;Gtk::Label::set_text), &quot;Le pourcentage est 50%.&quot;));
    //Cette fois, pas besoin d'ajouter un paramètre, car le signal le transmet automatiquement.
    signal_pourcentage_max().connect(sigc::mem_fun(etiquette, &amp;Gtk::Label::set_text));</code></pre><p id="r-397962" data-claire-element-id="397962">Nous connectons le signal <code data-claire-semantic="cpp">clicked()</code> du bouton à notre fonction de rappel <code data-claire-semantic="cpp">ajouterPourcentage()</code> (à chaque fois que l'utilisateur clique sur le bouton, le pourcentage de la barre de progression augmente de 10%).</p><p id="r-397963" data-claire-element-id="397963">Ensuite, nous connectons notre signal <code data-claire-semantic="cpp">pourcentage_moitie()</code> à la fonction de rappel <code data-claire-semantic="cpp">set_text()</code>.<br/> Comme notre signal <code data-claire-semantic="cpp">pourcentage_moitie()</code> ne transmet aucun paramètre à la fonction de rappel, nous devons en ajouter un avec <code data-claire-semantic="cpp">sigc::bind</code>.</p><p id="r-397964" data-claire-element-id="397964">Finalement, nous connectons notre autre signal (<code data-claire-semantic="cpp">pourcentage_max()</code>) à la fonction de rappel <code data-claire-semantic="cpp">set_text()</code>.<br/> Cette fois, pas besoin d'ajouter un paramètre, car le signal le transmet (au moment de l'émission).</p><p id="r-397965" data-claire-element-id="397965">Lorsque la barre de progression atteint 50% et 100%, un message s'affiche dans le bas de la fenêtre.</p><p id="r-397966" data-claire-element-id="397966">La version <a href="http://www.siteduzero.com/tutoriel-3-497647-introduction-a-c-2011-c-0x.html">C++ 2011</a> se fait comme ceci :</p><pre id="r-397967" data-claire-element-id="397967"><code data-claire-semantic="cpp">bouton.signal_clicked().connect([this]() { this-&gt;ajouterPourcentage(); });
signal_pourcentage_moitie().connect([&amp;etiquette]() { etiquette.set_text(&quot;Le pourcentage est 50%.&quot;); });
signal_pourcentage_max().connect([&amp;etiquette](std::string texte) { etiquette.set_text(texte); });</code></pre><p id="r-397968" data-claire-element-id="397968">Seule la dernière ligne pouvait vous poser des problèmes.<br/> En effet, étant donné que le signal pourcentage_max() transmet un paramètre, il fallait que notre fermeture en reçoive un pour pouvoir l’utiliser.</p><p id="r-397969" data-claire-element-id="397969">Voici le fichier Fenetre.cpp au complet :</p><pre id="r-397970" data-claire-element-id="397970"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boiteV(Gtk::BUTTONBOX_SPREAD), bouton(Gtk::Stock::ADD) {
    add(boiteV);
    
    boiteV.pack_start(bouton);
    bouton.set_can_focus(false);
    boiteV.pack_start(barreProgression);
    boiteV.pack_start(etiquette);
    
    //Connexion du signal clicked() à une fonction de rappel.
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::ajouterPourcentage));
    //Connexion du signal pourcentage_moitie() à une fonction de rappel en ajoutant un paramètre.
    signal_pourcentage_moitie().connect(sigc::bind&lt;std::string&gt;(sigc::mem_fun(etiquette, &amp;Gtk::Label::set_text), &quot;Le pourcentage est 50%.&quot;));
    //Cette fois, pas besoin d'ajouter un paramètre, car le signal le transmet automatiquement.
    signal_pourcentage_max().connect(sigc::mem_fun(etiquette, &amp;Gtk::Label::set_text));
    
    //Affichage des widgets.
    show_all();
}

void Fenetre::ajouterPourcentage() {
    double nouveauPourcentage(barreProgression.get_fraction() + 0.1);
    
    if(std::abs(nouveauPourcentage - 0.5) &lt; 0.00001) {
        signal_pourcentage_moitie().emit(); //Émettre notre signal perso.
    }
    else if(std::abs(nouveauPourcentage - 1) &lt; 0.00001) {
        signal_pourcentage_max().emit(&quot;Le pourcentage est 100%.&quot;); //Émettre notre signal perso avec un paramètre.
    }
    
    if(nouveauPourcentage &lt;= 1.00001) {
        barreProgression.set_fraction(nouveauPourcentage);
    }
    else {
        barreProgression.set_fraction(0);
    }
}

Fenetre::type_signal_pourcentage_moitie Fenetre::signal_pourcentage_moitie() { //Cette méthode retourne le signal.
    return signalPourcentageMoitie;
}

Fenetre::type_signal_pourcentage_max Fenetre::signal_pourcentage_max() {
    return signalPourcentageMax;
}</code></pre><p id="r-397971" data-claire-element-id="397971">Voilà, vous savez maintenant beaucoup de choses sur la gestion des événements.<br/> Si vous avez de la difficulté à comprendre, relisez ce chapitre et faites des essais par vous-même ; c'est comme cela que vous progresserez.</p><p id="r-397972" data-claire-element-id="397972">En parlant de faire des essais :p , je vais vous faire travailler :<br/> Comme vous pouvez le constater, les messages indiquant que la barre de progression est rendue à 50% et 100% demeurent présents lorsque la barre de progression est rendue à 60% et 0%.<br/> Je vous demande d'effacer ces messages lorsqu'elle est rendue à ces pourcentages.<br/> C'est un bon exercice pour vous pratiquer. :)</p><p id="r-397973" data-claire-element-id="397973">Passons aux Q.C.M. :)</p><p id="r-397974" data-claire-element-id="397974">Dans ce chapitre, vous avez appris à créer vos propres signaux pour gérer tous les évènements possibles !</p><p id="r-397975" data-claire-element-id="397975">Maintenant, vous avez une bonne base pour pouvoir gérer la plupart les événements des différents <em>widgets</em>.</p><p id="r-397976" data-claire-element-id="397976">Ne vous inquiétez pas, nous verrons d'autres signaux au cours de ce tutoriel pour gérer d'autres événements.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
<span class="arrow"></span>
<span class="next">Créez vos propres signaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">
<span class="next">Organiser vos fenêtres avec les conteneurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Organiservosfentresaveclesconteneurs"></a><h2>Organiser vos fenêtres avec les conteneurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
<span class="arrow"></span>
<span class="next">Exemple</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
<span class="next">Les différents conteneurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-397980" data-claire-element-id="397980">Vous vous êtes rendu compte, il y a deux chapitres, qu'il était impossible d'ajouter plus d'un <em>widget</em> dans une fenêtre.</p><p id="r-397981" data-claire-element-id="397981">Si c'était vraiment le cas, ce serait vraiment difficile de faire de jolies fenêtres. :euh: C'est pourquoi les <strong>conteneurs</strong> ont été inventés.</p><p id="r-397982" data-claire-element-id="397982">Dans ceux-ci, nous pouvons mettre une infinité de <em>widgets</em> (en théorie :D ).</p><p id="r-397983" data-claire-element-id="397983">Voyons, à l'instant, comment ils fonctionnent.</p>
</div><a name="Lesdiffrentsconteneurs"></a><h2>Les différents conteneurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">
<span class="arrow"></span>
<span class="next">Organiser vos fenêtres avec les conteneurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
<span class="next">Le conteneur d&#039;alignement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-differents-conteneurs" data-claire-element-id="398057">Les différents conteneurs</h4><p id="r-397984" data-claire-element-id="397984">Dans un premier temps, voyons ce que sont les <strong>conteneurs</strong>.</p><p id="r-397985" data-claire-element-id="397985">Les conteneurs permettent d'ajouter un ou plusieurs <em>widgets</em> dans une fenêtre. Donc, c’est une façon d’organiser des <em>widgets</em>.</p><aside id="r-397987" data-claire-element-id="397987" data-claire-semantic="information"><p id="r-397986" data-claire-element-id="397986">La plupart des conteneurs positionnent leurs <em>widgets</em> de façon relative de telle sorte que nous ne devons pas préciser une valeur précise en pixel.<br/> Nous devrons dire, par exemple, qu’un <em>widget</em> est le premier d’une ligne.<br/> Cette façon de positionner les <em>widgets</em> a des avantages et des inconvénients. Un avantage est que la disposition des widgets reste belle même en modifiant la taille de la fenêtre.<br/> Un inconvénient est que nous ne pouvons pas indiquer précisément la position d’un <em>widget</em>.</p></aside><p id="r-397988" data-claire-element-id="397988">Certains conteneurs ne peuvent contenir qu'un seul <em>widget</em>.<br/> D'autres, ceux que nous utiliserons la plupart du temps, permettent d'en contenir plusieurs.</p><p id="r-397989" data-claire-element-id="397989">Cela nous permet d'organiser la façon dont les <em>widgets</em> sont disposés dans la fenêtre.</p><aside id="r-397991" data-claire-element-id="397991" data-claire-semantic="information"><p id="r-397990" data-claire-element-id="397990">Les <em>widgets</em> faisant partie d'un conteneur sont également appelés <em>widgets</em> enfants.</p></aside><p id="r-397992" data-claire-element-id="397992">Voyons les conteneurs que nous étudierons lors de ce chapitre.<br/> Ensuite, nous verrons d'autres conteneurs qui ne feront pas l'objet de ce chapitre (vous pourrez toutefois savoir comment vous en servir grâce à la documentation).</p><h5 id="r-principaux-conteneurs" data-claire-element-id="398017">Principaux conteneurs</h5><h6 id="r-le-conteneur-d-alignement" data-claire-element-id="397997">Le conteneur d'alignement</h6><p id="r-397993" data-claire-element-id="397993">Il permet d'aligner un <em>widget</em> à un endroit précis (en bas à droite, au centre, etc.) :</p><figure id="r-397995" data-claire-element-id="397996"><img id="r-397994" data-claire-element-id="397994" src="medias/uploads.siteduzero.com_files_242001_243000_242708.png" alt="Image utilisateur"/></figure><h6 id="r-la-barre-d-onglets-1" data-claire-element-id="398002">La barre d'onglets</h6><p id="r-397998" data-claire-element-id="397998">Vous l'avez vue lors du premier chapitre :</p><figure id="r-398000" data-claire-element-id="398001"><img id="r-397999" data-claire-element-id="397999" src="medias/uploads.siteduzero.com_files_241001_242000_241167.png" alt="Image utilisateur"/></figure><h6 id="r-les-barres-de-defilement-1" data-claire-element-id="398006">Les barres de défilement</h6><figure id="r-398004" data-claire-element-id="398005"><img id="r-398003" data-claire-element-id="398003" src="medias/uploads.siteduzero.com_files_242001_243000_242710.png" alt="Image utilisateur"/></figure><h6 id="r-les-boites" data-claire-element-id="398012">Les boîtes</h6><p id="r-398007" data-claire-element-id="398007">Elles permettent d'aligner plusieurs <em>widgets</em>.</p><p id="r-398008" data-claire-element-id="398008">En voici une (spécialisée pour les boutons) :</p><figure id="r-398010" data-claire-element-id="398011"><img id="r-398009" data-claire-element-id="398009" src="medias/uploads.siteduzero.com_files_242001_243000_242933.png" alt="Image utilisateur"/></figure><h6 id="r-les-tableaux-28" data-claire-element-id="398016">Les tableaux</h6><figure id="r-398014" data-claire-element-id="398015"><img id="r-398013" data-claire-element-id="398013" src="medias/uploads.siteduzero.com_files_243001_244000_243166.png" alt="Image utilisateur"/></figure><h5 id="r-autres-conteneurs-1" data-claire-element-id="398056">Autres conteneurs</h5><h6 id="r-le-cadre" data-claire-element-id="398021">Le cadre</h6><figure id="r-398019" data-claire-element-id="398020"><img id="r-398018" data-claire-element-id="398018" src="medias/uploads.siteduzero.com_files_243001_244000_243225.png" alt="Image utilisateur"/></figure><h6 id="r-le-cadre-d-apparence" data-claire-element-id="398026">Le cadre d'apparence</h6><p id="r-398022" data-claire-element-id="398022">Même chose que le conteneur précédent, mais il garde une proportion entre la largeur et la hauteur :</p><figure id="r-398024" data-claire-element-id="398025"><img id="r-398023" data-claire-element-id="398023" src="medias/uploads.siteduzero.com_files_243001_244000_243226.png" alt="Image utilisateur"/></figure><h6 id="r-l-icone-d-extension" data-claire-element-id="398036">L'icône d'extension</h6><p id="r-398027" data-claire-element-id="398027">Ce conteneur cache son <em>widget</em> enfant ; il faut cliquer sur une petite flèche (ou un plus, dans le cas présent) pour qu'il s'affiche.</p><p id="r-398028" data-claire-element-id="398028">Lorsque le <em>widget</em> est caché :</p><figure id="r-398030" data-claire-element-id="398031"><img id="r-398029" data-claire-element-id="398029" src="medias/uploads.siteduzero.com_files_243001_244000_243230.png" alt="Image utilisateur"/></figure><p id="r-398032" data-claire-element-id="398032">Lorsqu'il est affiché :</p><figure id="r-398034" data-claire-element-id="398035"><img id="r-398033" data-claire-element-id="398033" src="medias/uploads.siteduzero.com_files_243001_244000_243231.png" alt="Image utilisateur"/></figure><h6 id="r-les-panneaux" data-claire-element-id="398041">Les panneaux</h6><p id="r-398037" data-claire-element-id="398037">Nous pouvons y mettre deux <em>widgets</em> que nous pouvons redimensionner à l'aide d'une &quot;poignée&quot; situé entre les deux <em>widget</em>:</p><figure id="r-398039" data-claire-element-id="398040"><img id="r-398038" data-claire-element-id="398038" src="medias/uploads.siteduzero.com_files_243001_244000_243232.png" alt="Image utilisateur"/></figure><h6 id="r-le-widget-detachable" data-claire-element-id="398046">Le <em>widget</em> détachable</h6><p id="r-398042" data-claire-element-id="398042">Ce conteneur peut se séparer de la fenêtre.</p><figure id="r-398044" data-claire-element-id="398045"><img id="r-398043" data-claire-element-id="398043" src="medias/uploads.siteduzero.com_files_243001_244000_243227.png" alt="Image utilisateur"/></figure><h6 id="r-le-widget-fixe" data-claire-element-id="398055">Le <em>widget</em> fixé</h6><p id="r-398047" data-claire-element-id="398047">Ce conteneur contient des <em>widgets</em> dont la position est fixe :</p><figure id="r-398049" data-claire-element-id="398050"><img id="r-398048" data-claire-element-id="398048" src="medias/uploads.siteduzero.com_files_243001_244000_243228.png" alt="Image utilisateur"/></figure><aside id="r-398052" data-claire-element-id="398052" data-claire-semantic="warning"><p id="r-398051" data-claire-element-id="398051">Faites attention en utilisant ce <em>widget</em>.<br/> Si votre fenêtre est belle chez vous, cela ne signifie par qu'elle le sera chez votre voisin, car les <em>widgets</em> ont une position absolue au lieu de relative.</p></aside><p id="r-398053" data-claire-element-id="398053">Cela fait le tour de beaucoup de conteneurs.</p><p id="r-398054" data-claire-element-id="398054">Voyons comment les principaux fonctionnent.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">
<span class="arrow"></span>
<span class="next">Organiser vos fenêtres avec les conteneurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
<span class="next">Le conteneur d&#039;alignement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Leconteneurd039alignement"></a><h2>Le conteneur d&#039;alignement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
<span class="arrow"></span>
<span class="next">Les différents conteneurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
<span class="next">Les boîtes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-conteneur-d-alignement-1" data-claire-element-id="398107">Le conteneur d'alignement</h4><p id="r-398058" data-claire-element-id="398058">Le premier conteneur que nous allons apprendre à utiliser ne peut contenir qu'un seul <em>widget</em>.</p><p id="r-398059" data-claire-element-id="398059">Par contre, après avoir vu les autres conteneurs de ce chapitre (en particulier les boîtes), vous saurez en mettre plusieurs.<br/> Mais, nous verrons que, parfois, il sera inutile d'utiliser le conteneur d'alignement.</p><p id="r-398060" data-claire-element-id="398060">Le conteneur d'alignement permet d'aligner un <em>widget</em> à un endroit précis, par exemple en bas à droite de la fenêtre..</p><h5 id="r-creation-d-un-conteneur-d-alignement" data-claire-element-id="398089">Création d'un conteneur d'alignement</h5><p id="r-398061" data-claire-element-id="398061">Avant toute utilisation, ajoutez cette ligne à votre projet :</p><pre id="r-398062" data-claire-element-id="398062"><code data-claire-semantic="cpp">#include &lt;gtkmm/alignment.h&gt;</code></pre><p id="r-398063" data-claire-element-id="398063">Voici le prototype de son constructeur :</p><pre id="r-398064" data-claire-element-id="398064"><code data-claire-semantic="cpp">Gtk::Alignment::Alignment(Align xalign, Align yalign = Gtk::ALIGN_CENTER, float xscale = 1.0, float yscale = 1.0);</code></pre><aside id="r-398066" data-claire-element-id="398066" data-claire-semantic="error"><p id="r-398065" data-claire-element-id="398065">Attention au nom de la classe !<br/> C'est <code data-claire-semantic="cpp">Alignment</code> - sans 'e' - et non <code data-claire-semantic="cpp">Alignement</code>, car alignement, en anglais, c'est <em>alignment</em>.</p></aside><p id="r-398067" data-claire-element-id="398067">Détaillons les paramètres.</p><h6 id="r-xalign" data-claire-element-id="398079">xalign</h6><p id="r-398068" data-claire-element-id="398068">Ce paramètre indique l'alignement horizontal du <em>widget</em>.<br/> Il faut donner une des constantes suivantes :</p><ul id="r-398075" data-claire-element-id="398075"><li id="r-398070" data-claire-element-id="398070"><p id="r-398069" data-claire-element-id="398069">Gtk::ALIGN_START, pour l'aligner à gauche ou en haut ;</p></li><li id="r-398072" data-claire-element-id="398072"><p id="r-398071" data-claire-element-id="398071">Gtk::ALIGN_CENTER, pour l'aligner au centre ;</p></li><li id="r-398074" data-claire-element-id="398074"><p id="r-398073" data-claire-element-id="398073">Gtk::ALIGN_END, pour l'aligner à droite ou en bas.</p></li></ul><div id="r-398077" data-claire-element-id="398077" data-claire-semantic="question"><p id="r-398076" data-claire-element-id="398076">Est-il possible d'aligner un <em>widget</em> entre la gauche et le centre ?</p></div><p id="r-398078" data-claire-element-id="398078">Oui.<br/> Pour cela, il faudra donner une valeur de 0.0 (gauche) à 1.0 (droite).<br/> Par exemple, si nous indiquons 0.25, le <em>widget</em> sera exactement centré entre la gauche (0.0) et le centre (0.5).</p><h6 id="r-yalign" data-claire-element-id="398082">yalign</h6><p id="r-398080" data-claire-element-id="398080">C'est comme xalign, mais c'est pour l'alignement vertical.</p><p id="r-398081" data-claire-element-id="398081">Les constantes sont les mêmes.<br/> Il est également possible de donner une valeur de 0.0 (haut) à 1.0 (bas).</p><h6 id="r-xscale" data-claire-element-id="398086">xscale</h6><p id="r-398083" data-claire-element-id="398083">Ce paramètre indique l'espace horizontal que prend le <em>widget</em> dans son espacement alloué (de 0.0, le minimum, à 1.0, le maximum).</p><p id="r-398084" data-claire-element-id="398084">Donc, si nous indiquons 0.5, le <em>widget</em> prendra la moitié de l'espace qui lui est alloué.</p><p id="r-398085" data-claire-element-id="398085">Si nous voulons que le <em>widget</em> soit aligné, il faut que cette valeur soit inférieure à 1, sinon, comme il prendra tout l'espace disponible, il ne semblera pas aligné à un endroit précis.</p><h6 id="r-yscale" data-claire-element-id="398088">yscale</h6><p id="r-398087" data-claire-element-id="398087">Identique au précédent, sauf que cela concerne l'espace vertical.</p><h5 id="r-exemple-99" data-claire-element-id="398102">Exemple</h5><p id="r-398090" data-claire-element-id="398090">Je pense qu'un exemple vous serait très utile :) .</p><aside id="r-398092" data-claire-element-id="398092" data-claire-semantic="warning"><p id="r-398091" data-claire-element-id="398091">Pour que j'aie moins de code à vous montrer, je ne vais qu'utiliser un fichier main.cpp.<br/> Mais, vous, dans vos projets, vous créerez une classe pour votre fenêtre.</p></aside><pre id="r-398093" data-claire-element-id="398093"><code data-claire-semantic="cpp">#include &lt;gtkmm/alignment.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    
    fenetre.set_border_width(10);
    fenetre.set_default_size(200, 150); //Définir la taille par défaut de la fenêtre.
    
    Gtk::Alignment alignement(Gtk::ALIGN_END, Gtk::ALIGN_END, 0, 0); //Création d'un conteneur d'alignement.
    //L'alignement se fera en bas à droite.
    //Il faut mettre 0, 0 comme derniers paramètres pour que le widget prenne le moins d'espace possible.
    
    fenetre.add(alignement);
    
    Gtk::Button bouton(&quot;Clique-moi !&quot;);
    bouton.set_can_focus(false);
    
    alignement.add(bouton); //Ajouter un bouton au conteneur d'alignement.
    
    fenetre.show_all(); //Afficher tous les widgets de la fenêtre. Cela évite d'avoir à appeler show() pour chaque widget à afficher.
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-398094" data-claire-element-id="398094">Donc, nous créons le conteneur d'alignement à la ligne 14.<br/> Nous l'ajoutons à la fenêtre, comme n'importe quel <em>widget</em>, avec la méthode <code data-claire-semantic="cpp">add()</code> (ligne 18).<br/> Le <em>widget</em> contenu dans ce dernier sera aligné en bas à droite et prendra le moins d'espace possible.</p><p id="r-398095" data-claire-element-id="398095">Nous ajoutons ce <em>widget</em> (un bouton) à la ligne 23 le plus normalement possible : avec un <code data-claire-semantic="cpp">add()</code>.</p><p id="r-398096" data-claire-element-id="398096">Dernier point important à remarquer :<br/> j'utilise la méthode <code data-claire-semantic="cpp">show_all()</code> pour afficher tous les <em>widgets</em> de la fenêtre.<br/> Cela m'évite d'avoir à appeler la méthode <code data-claire-semantic="cpp">show()</code> pour chaque <em>widget</em>.</p><p id="r-398097" data-claire-element-id="398097">Nous utiliserons toujours cette méthode lorsque c'est possible.</p><p id="r-398098" data-claire-element-id="398098">Voici le résultat :</p><figure id="r-398100" data-claire-element-id="398101"><img id="r-398099" data-claire-element-id="398099" src="medias/uploads.siteduzero.com_files_242001_243000_242708.png" alt="Image utilisateur"/></figure><h5 id="r-modification-des-parametres-du-constructeur" data-claire-element-id="398106">Modification des paramètres du constructeur</h5><p id="r-398103" data-claire-element-id="398103">Si vous voulez, après avoir appelé le constructeur, modifié les valeurs de xalign, yalign et compagnie, vous pouvez appeler la méthode set() avec les mêmes paramètres que le constructeur :</p><pre id="r-398104" data-claire-element-id="398104"><code data-claire-semantic="cpp">void Gtk::Alignment::set(Align xalign, Align yalign = Gtk::ALIGN_CENTER, float xscale = 1.0, float yscale = 1.0);</code></pre><p id="r-398105" data-claire-element-id="398105">C'est tout ; passons maintenant à des conteneurs qui permettent d'ajouter plusieurs <em>widgets</em>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
<span class="arrow"></span>
<span class="next">Les différents conteneurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
<span class="next">Les boîtes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbotes"></a><h2>Les boîtes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
<span class="arrow"></span>
<span class="next">Le conteneur d&#039;alignement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
<span class="next">Les boîtes pour les boutons</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-boites-1" data-claire-element-id="398176">Les boîtes</h4><p id="r-398108" data-claire-element-id="398108">Les <strong>boîtes</strong> permettent d'aligner des <em>widgets</em> soit horizontalement, soit verticalement.</p><p id="r-398109" data-claire-element-id="398109">Pour utiliser les boîtes, vous devez inclure le fichier approprié :</p><pre id="r-398110" data-claire-element-id="398110"><code data-claire-semantic="cpp">#include &lt;gtkmm/box.h&gt;</code></pre><h5 id="r-les-boites-verticales" data-claire-element-id="398120">Les boîtes verticales</h5><p id="r-398111" data-claire-element-id="398111">Ce sont les <code data-claire-semantic="cpp">Gtk::VBox</code>.</p><p id="r-398112" data-claire-element-id="398112">Il est possible d'en créer une comme ceci :</p><pre id="r-398113" data-claire-element-id="398113"><code data-claire-semantic="cpp">Gtk::VBox boiteV;</code></pre><p id="r-398114" data-claire-element-id="398114">Il est également possible d'en créer une avec des paramètres.<br/> Le premier est un booléen qui indique si oui ou non les <em>widgets</em> prendront le même espace.</p><p id="r-398115" data-claire-element-id="398115">Donc, si le premier paramètre vaut <code data-claire-semantic="cpp">true</code>, chaque <em>widget</em> occupera un espace identique aux autres de la même boîte.</p><p id="r-398116" data-claire-element-id="398116">Le deuxième paramètre indique la taille minimale (une marge) entre chaque <em>widget</em> (en pixel).</p><p id="r-398117" data-claire-element-id="398117">Exemple :</p><pre id="r-398118" data-claire-element-id="398118"><code data-claire-semantic="cpp">Gtk::VBox boiteV(false, 10);</code></pre><p id="r-398119" data-claire-element-id="398119">Cela créera une boîte verticale dont les <em>widgets</em> ne prennent pas le même espace, mais qui ont au moins 10px entre eux.</p><h5 id="r-les-boites-horizontales" data-claire-element-id="398122">Les boîtes horizontales</h5><p id="r-398121" data-claire-element-id="398121">Ces boîtes se créent et s'utilisent de la même manière que les boîte verticales, donc je ne vais pas m'étendre sur leur fonctionnement.<br/> Ce sont les <code data-claire-semantic="cpp">Gtk::HBox</code> (ah oui :p ?).</p><h5 id="r-ajout-de-widgets-dans-une-boite" data-claire-element-id="398152">Ajout de <em>widgets</em> dans une boîte</h5><p id="r-398123" data-claire-element-id="398123">Il y a deux méthodes pour ajouter un <em>widget</em> dans une boîte.</p><h6 id="r-pack-start-et-pack-end" data-claire-element-id="398140"><code data-claire-semantic="cpp">pack_start()</code> et <code data-claire-semantic="cpp">pack_end()</code></h6><p id="r-398124" data-claire-element-id="398124">Ces méthodes prennent au moins un paramètre : le <em>widget</em> à ajouter à la boîte.</p><p id="r-398125" data-claire-element-id="398125">L'une d'elle en ajoute un à partir du début (<code data-claire-semantic="cpp">pack_start()</code>) et l'autre en ajoute un à partir de la fin (<code data-claire-semantic="cpp">pack_end()</code>).</p><p id="r-398126" data-claire-element-id="398126">La plupart du temps, nous utiliserons <code data-claire-semantic="cpp">pack_start()</code>, mais nous pouvons utiliser <code data-claire-semantic="cpp">pack_end()</code> pour être sûr qu'un <em>widget</em> se retrouvera à la fin.</p><p id="r-398127" data-claire-element-id="398127">Étant donné que le principe est difficile à comprendre, je vais vous l'expliquer avec un schéma :</p><figure id="r-398129" data-claire-element-id="398130"><img id="r-398128" data-claire-element-id="398128" src="medias/uploads.siteduzero.com_files_242001_243000_242847.png" alt="Image utilisateur"/></figure><p id="r-398131" data-claire-element-id="398131">À gauche se trouve une partie du code et à droite, le résultat.</p><p id="r-398132" data-claire-element-id="398132">Pour commencer (1), nous ajoutons une étiquette à partir de la fin. C'est pourquoi elle se trouve à la fin dans le résultat final.</p><p id="r-398133" data-claire-element-id="398133">Ensuite (2), nous en ajoutons une autre à partir du début ; elle se trouve donc au début.</p><p id="r-398134" data-claire-element-id="398134">Jusque là, c'est facile à comprendre.</p><p id="r-398135" data-claire-element-id="398135">Puis (3), nous ajoutons une autre étiquette à partir de la fin.<br/> Alors, elle est au-dessus de la première étiquette, car nous l'ajoutons à partir de la fin.<br/> Cela signifie que la première étiquette ajoutée avec <code data-claire-semantic="cpp">pack_end()</code> se trouve à la fin, la deuxième, au-dessus de cette dernière, la troisième au-dessus de la deuxième et ainsi de suite.</p><p id="r-398136" data-claire-element-id="398136">Après (4), nous ajoutons une autre étiquette, mais, cette fois, à partir du début.<br/> Elle se trouve donc après l'étiquette 2, car nous l'ajoutons à partir du début, mais après l'étiquette 2.</p><p id="r-398137" data-claire-element-id="398137">Et ainsi de suite.</p><aside id="r-398139" data-claire-element-id="398139" data-claire-semantic="information"><p id="r-398138" data-claire-element-id="398138">Il est également possible d'ajouter une boîte dans une boîte de telle sorte que nous pouvons les imbriquer les unes dans les autres pour organiser nos <em>widgets</em> d'une façon plus complexe.</p></aside><h6 id="r-avec-d-autres-parametres" data-claire-element-id="398151">Avec d'autres paramètres</h6><p id="r-398141" data-claire-element-id="398141">Il est possible d'utiliser <code data-claire-semantic="cpp">pack_start()</code> et <code data-claire-semantic="cpp">pack_end()</code> avec d'autres paramètres.</p><p id="r-398142" data-claire-element-id="398142">Le deuxième paramètre est une constante définissant le comportement du <em>widget</em> lorsque le conteneur (donc la fenêtre) est redimensionné.<br/> Nous pouvons utiliser l'une des trois constantes suivantes :</p><ul id="r-398149" data-claire-element-id="398149"><li id="r-398144" data-claire-element-id="398144"><p id="r-398143" data-claire-element-id="398143">Gtk::PACK_SHRINK : le <em>widget</em> ne prend que l'espace nécessaire ;</p></li><li id="r-398146" data-claire-element-id="398146"><p id="r-398145" data-claire-element-id="398145">Gtk::PACK_EXPAND_PADDING : le <em>widget</em> ne prend que l'espace nécessaire, mais, lorsque la fenêtre s'agrandit, la marge autour du <em>widget</em> s'agrandit également ;</p></li><li id="r-398148" data-claire-element-id="398148"><p id="r-398147" data-claire-element-id="398147">Gtk::PACK_EXPAND_WIDGET : le <em>widget</em> prend tout l'espace qui lui est donné.</p></li></ul><p id="r-398150" data-claire-element-id="398150">Le troisième paramètre est un espace supplémentaire (marge) autour de ce <em>widget</em> (en plus de l'espace défini à la création de la boîte).</p><h5 id="r-exemple-100" data-claire-element-id="398169">Exemple</h5><pre id="r-398153" data-claire-element-id="398153"><code data-claire-semantic="cpp">#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    
    Gtk::VBox boiteV(false, 10); //Création d'une boîte verticale. Il y aura un minimum de 10px entre chaque widget.
    
    Gtk::Label etiquette4(&quot;Mot écrit en trois langues différentes.&quot;); //Création d'une étiquette.
    boiteV.pack_end(etiquette4); //Ajout d'un widget à la fin de la boîte.
    
    Gtk::HBox boiteH(true); //Création d'une boîte horizontale. Les widgets prendront le même espace.
    boiteV.pack_start(boiteH); //Ajout d'une boîte horizontale au début d'une boîte verticale (donc avant etiquette4).
    
    Gtk::Label etiquette1(&quot;Bonjour&quot;);
    Gtk::Label etiquette2(&quot;Hello&quot;);
    Gtk::Label etiquette3(&quot;Hola&quot;);
    
    boiteH.pack_start(etiquette1); //Ajout d'un widget au début de la boîte.
    boiteH.pack_start(etiquette2); //Ajout d'un widget après le premier.
    boiteH.pack_start(etiquette3, Gtk::PACK_SHRINK); //L'argument Gtk::PACK_SHRINK est ignoré puisque chaque widget a le même espace.
    
    fenetre.add(boiteV); //Ajout de la boîte à la fenêtre.
    
    fenetre.show_all(); //Afficher tous les widgets.
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-398154" data-claire-element-id="398154">Voilà ce que ça donne :</p><figure id="r-398156" data-claire-element-id="398157"><img id="r-398155" data-claire-element-id="398155" src="medias/uploads.siteduzero.com_files_242001_243000_242867.png" alt="Image utilisateur"/></figure><p id="r-398158" data-claire-element-id="398158">À la ligne 11, nous créons une boîte verticale dont les <em>widgets</em> n'ont pas nécessairement la même taille et dont il y a un espace d'un minimum de 10px entre chaque <em>widget</em>.</p><p id="r-398159" data-claire-element-id="398159">À la ligne 14, nous ajoutons un <em>widget</em> à cette boîte à partir de la fin.</p><p id="r-398160" data-claire-element-id="398160">À l'instruction suivante, nous créons une boîte horizontale dont tous les <em>widgets</em> ont la même taille.<br/> Ça ne paraît pas vraiment, mais mettez false (par défaut, c'est false) et vous verrez une petite différence.<br/> Pour vraiment la voir, essayez avec des boutons au lieu d'étiquettes.</p><p id="r-398161" data-claire-element-id="398161">Le reste est facile à comprendre (si vous avez bien suivi :p ).</p><p id="r-398162" data-claire-element-id="398162">Sauf peut-être à la ligne 25.<br/> À cette ligne, nous demandons à ce que le <em>widget</em> prenne le moins d'espace possible (<code data-claire-semantic="cpp">Gtk::PACK_SHRINK</code>), mais, lorsque nous avons créé la boîte, nous avions dit que nous voulions que tous les <em>widgets</em> aient la même taille.<br/> Donc, ce paramètre (<code data-claire-semantic="cpp">Gtk::PACK_SHRINK</code>) est ignoré.</p><p id="r-398163" data-claire-element-id="398163">En effet, le <em>widget</em> ne prend pas l'espace minimum, car il a une bordure invisible autour de lui.<br/> S'il n'y avait pas cette bordure, le mot &quot;Hola&quot; serait collé au bord droit de la fenêtre (essayez pour mieux comprendre).</p><p id="r-398164" data-claire-element-id="398164">Pour bien comprendre le principe de boîtes imbriquées, j'ai coloré l'image précédente :</p><figure id="r-398166" data-claire-element-id="398167"><img id="r-398165" data-claire-element-id="398165" src="medias/uploads.siteduzero.com_files_242001_243000_242868.png" alt="Image utilisateur"/></figure><p id="r-398168" data-claire-element-id="398168">En rouge, nous voyons la boîte verticale et en bleu, la boîte horizontale.</p><h5 id="r-exercice-30" data-claire-element-id="398175">Exercice</h5><p id="r-398170" data-claire-element-id="398170">Je vais vous faire travailler un petit peu.</p><p id="r-398171" data-claire-element-id="398171">Essayez de reproduire cette fenêtre en utilisant des boîtes imbriquées :</p><figure id="r-398173" data-claire-element-id="398174"><img id="r-398172" data-claire-element-id="398172" src="medias/uploads.siteduzero.com_files_242001_243000_242862.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
<span class="arrow"></span>
<span class="next">Le conteneur d&#039;alignement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
<span class="next">Les boîtes pour les boutons</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbotespourlesboutons"></a><h2>Les boîtes pour les boutons</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
<span class="arrow"></span>
<span class="next">Les boîtes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
<span class="next">Les tableaux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-boites-pour-les-boutons-1" data-claire-element-id="398251">Les boîtes pour les boutons</h4><h5 id="r-le-probleme-des-boutons" data-claire-element-id="398189">Le problème des boutons</h5><p id="r-398177" data-claire-element-id="398177">Si vous utilisez les boîtes que nous avons vues dans la sous-partie précédente pour y mettre des boutons, cela n'est pas très... esthétique :euh: .</p><p id="r-398178" data-claire-element-id="398178">Le problème est surtout lorsque nous redimensionnons la boîte.</p><p id="r-398179" data-claire-element-id="398179">Voyons ce que cela peut donner :</p><figure id="r-398181" data-claire-element-id="398182"><img id="r-398180" data-claire-element-id="398180" src="medias/uploads.siteduzero.com_files_242001_243000_242929.png" alt="Image utilisateur"/></figure><p id="r-398183" data-claire-element-id="398183">Les boutons s'agrandissent.</p><p id="r-398184" data-claire-element-id="398184">Même en utilisant Gtk::PACK_SHRINK, ce n'est pas super :</p><figure id="r-398186" data-claire-element-id="398187"><img id="r-398185" data-claire-element-id="398185" src="medias/uploads.siteduzero.com_files_242001_243000_242930.png" alt="Image utilisateur"/></figure><p id="r-398188" data-claire-element-id="398188">Les boutons s'agrandissent horizontalement et laissent un espace vide en bas.</p><h5 id="r-utilisons-les-boites-faites-pour-les-boutons" data-claire-element-id="398209">Utilisons les boîtes faites pour les boutons !</h5><p id="r-398190" data-claire-element-id="398190">Il y a des boîtes qui sont faites exprès pour les boutons : les <code data-claire-semantic="cpp">Gtk::ButtonBox</code>.</p><p id="r-398191" data-claire-element-id="398191">Il en existe deux sortes :</p><ul id="r-398196" data-claire-element-id="398196"><li id="r-398193" data-claire-element-id="398193"><p id="r-398192" data-claire-element-id="398192"><code data-claire-semantic="cpp">Gtk::HButtonBox</code> ;</p></li><li id="r-398195" data-claire-element-id="398195"><p id="r-398194" data-claire-element-id="398194"><code data-claire-semantic="cpp">Gtk::VButtonBox</code>.</p></li></ul><p id="r-398197" data-claire-element-id="398197">Ce sont ces deux dernières que nous allons utiliser pour créer des boîtes contenant des boutons.</p><p id="r-398198" data-claire-element-id="398198">Il faut inclure la classe :</p><pre id="r-398199" data-claire-element-id="398199"><code data-claire-semantic="cpp">#include &lt;gtkmm/buttonbox.h&gt;</code></pre><p id="r-398200" data-claire-element-id="398200">Vous pouvez utiliser ces boîtes comme celles de la sous-partie précédente.<br/> Voici un résultat possible :</p><figure id="r-398202" data-claire-element-id="398203"><img id="r-398201" data-claire-element-id="398201" src="medias/uploads.siteduzero.com_files_242001_243000_242933.png" alt="Image utilisateur"/></figure><p id="r-398204" data-claire-element-id="398204">C'est beaucoup mieux, n'est-ce pas ?</p><aside id="r-398206" data-claire-element-id="398206" data-claire-semantic="information"><p id="r-398205" data-claire-element-id="398205">Il est possible d'utiliser ces boîtes avec d'autres <em>widgets</em> que les boutons.</p></aside><p id="r-398207" data-claire-element-id="398207">Pour créer une boîte horizontale pour les boutons, faites comme ceci :</p><pre id="r-398208" data-claire-element-id="398208"><code data-claire-semantic="cpp">Gtk::HButtonBox boiteBoutonsH;</code></pre><h5 id="r-modification-de-l-arrangement-des-boutons" data-claire-element-id="398240">Modification de l'arrangement des boutons</h5><h6 id="r-set-layout-1" data-claire-element-id="398232">set_layout()</h6><p id="r-398210" data-claire-element-id="398210">Ceci permet de modifier l'arrangement des boutons dans la boîte.<br/> Nous pouvons décider, par exemple, des les centrer ou de les mettre à la fin.</p><p id="r-398211" data-claire-element-id="398211">Pour que les boutons soient à la fin de la boîte (à droite ou en bas), appelez-la comme ceci :</p><pre id="r-398212" data-claire-element-id="398212"><code data-claire-semantic="cpp">boiteBoutonsH.set_layout(Gtk::BUTTONBOX_END);</code></pre><p id="r-398213" data-claire-element-id="398213">Il est possible d'appeler le constructeur différemment pour ne pas avoir besoin d'appeler ensuite <code data-claire-semantic="cpp">set_layout()</code> :</p><pre id="r-398214" data-claire-element-id="398214"><code data-claire-semantic="cpp">Gtk::HButtonBox boiteBoutonsH(Gtk::BUTTONBOX_END, 10);</code></pre><p id="r-398215" data-claire-element-id="398215">Le premier paramètre indique l'arrangement des boutons et le deuxième (lui aussi facultatif), l'espacement entre ces derniers.</p><p id="r-398216" data-claire-element-id="398216">Cela donne (si nous ajoutons des boutons avec <code data-claire-semantic="cpp">pack_start()</code> ou <code data-claire-semantic="cpp">pack_end()</code>) :</p><figure id="r-398218" data-claire-element-id="398219"><img id="r-398217" data-claire-element-id="398217" src="medias/uploads.siteduzero.com_files_242001_243000_242935.png" alt="Image utilisateur"/></figure><p id="r-398220" data-claire-element-id="398220">Voici les autres constantes :</p><ul id="r-398231" data-claire-element-id="398231"><li id="r-398222" data-claire-element-id="398222"><p id="r-398221" data-claire-element-id="398221">Gtk::BUTTONBOX_SPREAD : les boutons prennent tout l’espace, mais ils ne collent pas les bords de la fenêtre ;</p></li><li id="r-398224" data-claire-element-id="398224"><p id="r-398223" data-claire-element-id="398223">Gtk::BUTTONBOX_EDGE : style par défaut, les boutons prennent tout l’espace ;</p></li><li id="r-398226" data-claire-element-id="398226"><p id="r-398225" data-claire-element-id="398225">Gtk::BUTTONBOX_START : les boutons sont au début de la boîte (haut ou gauche) ;</p></li><li id="r-398228" data-claire-element-id="398228"><p id="r-398227" data-claire-element-id="398227">Gtk::BUTTONBOX_END : les boutons sont à la fin de la boîte (droite ou bas) ;</p></li><li id="r-398230" data-claire-element-id="398230"><p id="r-398229" data-claire-element-id="398229">Gtk::BUTTONBOX_CENTER : les boutons sont au centre de la boîte.</p></li></ul><h6 id="r-set-child-secondary-1" data-claire-element-id="398239">set_child_secondary()</h6><p id="r-398233" data-claire-element-id="398233">Cette méthode permet de rendre un <em>widget</em> secondaire.</p><p id="r-398234" data-claire-element-id="398234">Par exemple, si nous utilisons Gtk::BUTTONBOX_END, tous les boutons seront à la fin, sauf ceux secondaires (ceux-ci seront au début).</p><p id="r-398235" data-claire-element-id="398235">Cette méthode s'utilise comme ceci :</p><pre id="r-398236" data-claire-element-id="398236"><code data-claire-semantic="cpp">boiteBoutonsH.set_child_secondary(boutonOptions);</code></pre><aside id="r-398238" data-claire-element-id="398238" data-claire-semantic="error"><p id="r-398237" data-claire-element-id="398237">ATTENTION !<br/> Vous devez ajouter le <em>widget</em><strong>avant</strong> de le rendre secondaire, sinon cela ne fonctionnera pas !</p></aside><h5 id="r-exemple-101" data-claire-element-id="398250">Exemple</h5><p id="r-398241" data-claire-element-id="398241">Voyons un exemple complexe complet :</p><pre id="r-398242" data-claire-element-id="398242"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    
    //Création d'une boîte pour les boutons (situés à la fin de la boîte) dont l'espacement entre ceux-ci est de 10px.
    Gtk::HButtonBox boiteBoutonsH(Gtk::BUTTONBOX_END, 10);
    
    Gtk::Button boutonOptions(&quot;Options&quot;);
    boutonOptions.set_can_focus(false);
    Gtk::Button boutonAide(&quot;Aide&quot;);
    boutonAide.set_can_focus(false);
    Gtk::Button boutonFermer(&quot;Fermer&quot;);
    boutonFermer.set_can_focus(false);
    
    //Ajout de boutons à la boîte.
    boiteBoutonsH.pack_start(boutonOptions);
    boiteBoutonsH.pack_start(boutonAide);
    boiteBoutonsH.pack_start(boutonFermer);
    
    //Rendre un bouton secondaire, donc à part des autres. ATTENTION, ce widget doit déjà être ajouté à la boîte pour que cela fonctionne.
    boiteBoutonsH.set_child_secondary(boutonOptions);
    
    fenetre.add(boiteBoutonsH); //Ajout de la boîte à la fenêtre.
    
    fenetre.show_all();
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-398243" data-claire-element-id="398243">Il n'y a rien de bien compliqué ; je vous ai tout expliqué ce qui se passe.</p><p id="r-398244" data-claire-element-id="398244">Avec les commentaires, vous devriez comprendre. ;)</p><p id="r-398245" data-claire-element-id="398245">Voici ce que ça donne :</p><figure id="r-398247" data-claire-element-id="398248"><img id="r-398246" data-claire-element-id="398246" src="medias/uploads.siteduzero.com_files_242001_243000_242959.png" alt="Image utilisateur"/></figure><p id="r-398249" data-claire-element-id="398249">Le bouton Options (à gauche) est secondaire.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
<span class="arrow"></span>
<span class="next">Les boîtes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
<span class="next">Les tableaux</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lestableaux"></a><h2>Les tableaux</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
<span class="arrow"></span>
<span class="next">Les boîtes pour les boutons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
<span class="next">La barre d&#039;onglets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-tableaux-29" data-claire-element-id="398324">Les tableaux</h4><p id="r-398252" data-claire-element-id="398252">Les tableaux permettent d'organiser les <em>widgets</em> à la manière d'un... tableau.</p><h5 id="r-creation-d-un-tableau-1" data-claire-element-id="398262">Création d'un tableau</h5><p id="r-398253" data-claire-element-id="398253">N'oubliez pas d'inclure la classe appropriée :</p><pre id="r-398254" data-claire-element-id="398254"><code data-claire-semantic="cpp">#include &lt;gtkmm/table.h&gt;</code></pre><p id="r-398255" data-claire-element-id="398255">Pour créer un tableau, nous devons lui dire combien de colonnes et de rangées il aura :</p><pre id="r-398256" data-claire-element-id="398256"><code data-claire-semantic="cpp">Gtk::Table tableau(1, 2);</code></pre><p id="r-398257" data-claire-element-id="398257">Ceci crée un tableau d'une rangée et de deux colonnes.</p><h6 id="r-redimensionnement-3" data-claire-element-id="398261">Redimensionnement</h6><p id="r-398258" data-claire-element-id="398258">Il est possible de redimensionner un tableau après sa création avec la méthode <code data-claire-semantic="cpp">resize()</code> :</p><pre id="r-398259" data-claire-element-id="398259"><code data-claire-semantic="cpp">tableau.resize(2, 2);</code></pre><p id="r-398260" data-claire-element-id="398260">Le tableau possède maintenant deux rangées et deux colonnes.</p><h5 id="r-ajout-de-widgets-au-tableau" data-claire-element-id="398315">Ajout de <em>widgets</em> au tableau</h5><p id="r-398263" data-claire-element-id="398263">Pour bien comprendre comment ajouter des <em>widgets</em> à un tableau, vous devrez comprendre ceci :<br/>À l'instar d'un graphique mathématique, un tableau a des coordonnées.<br/> Son point de départ est (0, 0) et est situé en haut à gauche (comme le quadrant 4 d'un graphique en valeurs absolues).<br/> Si vous comprenez ceci, vous n'aurez aucun problème ;) .</p><p id="r-398264" data-claire-element-id="398264">Voici une image pour illustrer le tout :</p><figure id="r-398266" data-claire-element-id="398267"><img id="r-398265" data-claire-element-id="398265" src="medias/uploads.siteduzero.com_files_243001_244000_243166.png" alt="Image utilisateur"/></figure><p id="r-398268" data-claire-element-id="398268">Le point (0, 0) se trouve en haut à gauche du premier bouton.<br/> Le point (1, 1) se trouve en bas à droite de ce même bouton.</p><p id="r-398269" data-claire-element-id="398269">Les coordonnées d'un <em>widget</em> sont de (x1, y1) à (x2, y2).<br/> Dans le cas du premier bouton, c'est de (0, 0) à (1, 1).</p><p id="r-398270" data-claire-element-id="398270">Voyons le prototype de la méthode pour ajouter un bouton :</p><pre id="r-398271" data-claire-element-id="398271"><code data-claire-semantic="cpp">void Gtk::Table::attach(Widget&amp; child, guint left_attach, guint right_attach, guint top_attach, guint bottom_attach, AttachOptions xoptions = FILL|EXPAND, AttachOptions yoptions = FILL|EXPAND, guint xpadding = 0, guint ypadding = 0);</code></pre><p id="r-398272" data-claire-element-id="398272">Aïe Caramba :p !</p><p id="r-398273" data-claire-element-id="398273">Je vais vous détailler tout ceci :</p><ul id="r-398292" data-claire-element-id="398292"><li id="r-398275" data-claire-element-id="398275"><p id="r-398274" data-claire-element-id="398274"><strong>child</strong> est le <em>widget</em> que nous voulons ajouter au tableau ;</p></li><li id="r-398277" data-claire-element-id="398277"><p id="r-398276" data-claire-element-id="398276"><strong>left_attach</strong> est la coordonnée x1 (le côté gauche du <em>widget</em>) ;</p></li><li id="r-398279" data-claire-element-id="398279"><p id="r-398278" data-claire-element-id="398278"><strong>right_attach</strong> est la coordonnée x2 (le côté droit du <em>widget</em>) ;</p></li><li id="r-398281" data-claire-element-id="398281"><p id="r-398280" data-claire-element-id="398280"><strong>top_attach</strong> est la coordonnée y1 (le côté haut du <em>widget</em>) ;</p></li><li id="r-398283" data-claire-element-id="398283"><p id="r-398282" data-claire-element-id="398282"><strong>bottom_attach</strong> est la coordonnée y2 (le côté bas du <em>widget</em>) ;</p></li><li id="r-398285" data-claire-element-id="398285"><p id="r-398284" data-claire-element-id="398284"><strong>xoptions</strong> décrit le comportement du <em>widget</em> lorsqu'il est redimensionné horizontalement ;</p></li><li id="r-398287" data-claire-element-id="398287"><p id="r-398286" data-claire-element-id="398286"><strong>yoptions</strong> décrit le comportement du <em>widget</em> lorsqu'il est redimensionné verticalement ;</p></li><li id="r-398289" data-claire-element-id="398289"><p id="r-398288" data-claire-element-id="398288"><strong>xpadding</strong> est la marge (en px) à gauche et à droite du <em>widget</em> ;</p></li><li id="r-398291" data-claire-element-id="398291"><p id="r-398290" data-claire-element-id="398290"><strong>ypadding</strong> est la marge (en px) en haut et en bas du <em>widget</em>.</p></li></ul><p id="r-398293" data-claire-element-id="398293">Un exemple ne vous ferait pas de mal, je crois. :lol:</p><p id="r-398294" data-claire-element-id="398294">Mais avant, je vais vous dire ce que nous pouvons donner comme <strong>xoptions</strong> et <strong>yoptions</strong> :</p><ul id="r-398301" data-claire-element-id="398301"><li id="r-398296" data-claire-element-id="398296"><p id="r-398295" data-claire-element-id="398295">Gtk::FILL : le <em>widget</em> prend l'espace qui lui est alloué ;</p></li><li id="r-398298" data-claire-element-id="398298"><p id="r-398297" data-claire-element-id="398297">Gtk::EXPAND : le <em>widget</em> prend l'espace non utilisé autour de lui ;</p></li><li id="r-398300" data-claire-element-id="398300"><p id="r-398299" data-claire-element-id="398299">Gtk::SHRINK : le <em>widget</em> prend le moins d'espace possible.</p></li></ul><p id="r-398302" data-claire-element-id="398302">Nous pouvons combiner les deux premiers avec un |.</p><p id="r-398303" data-claire-element-id="398303">Si nous voulons que notre <em>widget</em> ne prenne qu'une seule rangée de large et une seule colonne de haut et qu'il se trouve en haut à gauche, nous devrons faire comme ceci :</p><pre id="r-398304" data-claire-element-id="398304"><code data-claire-semantic="cpp">tableau.attach(bouton1, 0, 1, 0, 1);</code></pre><p id="r-398305" data-claire-element-id="398305">Le <em>widget</em> est de (0, 0) à (1, 1).</p><p id="r-398306" data-claire-element-id="398306">Et si nous voulons qu'il prenne le moins d'espace possible, ce serait comme ceci :</p><pre id="r-398307" data-claire-element-id="398307"><code data-claire-semantic="cpp">tableau.attach(bouton1, 0, 1, 0, 1, Gtk::SHRINK, Gtk::SHRINK);</code></pre><p id="r-398308" data-claire-element-id="398308">Si nous voulons qu'il soit à la troisième rangée et à la deuxième colonne et qu'il prenne deux rangées de large, nous ferons :</p><pre id="r-398309" data-claire-element-id="398309"><code data-claire-semantic="cpp">tableau.attach(bouton1, 2, 4, 1, 2);</code></pre><p id="r-398310" data-claire-element-id="398310">Le <em>widget</em> est de (2, 1) à (4, 2).</p><aside id="r-398312" data-claire-element-id="398312" data-claire-semantic="warning"><p id="r-398311" data-claire-element-id="398311">N'oubliez pas que ça commence à 0.<br/> La première coordonnée est (0, 0), comme dans un graphique.</p></aside><p id="r-398313" data-claire-element-id="398313">Et si nous voulons qu'il ait un espace horizontal de 5px et vertical de 10px, ce serait :</p><pre id="r-398314" data-claire-element-id="398314"><code data-claire-semantic="cpp">tableau.attach(bouton1, 2, 4, 1, 2, Gtk::FILL | Gtk::EXPAND, Gtk::FILL | Gtk::EXPAND, 5, 10);</code></pre><h5 id="r-exemple-102" data-claire-element-id="398323">Exemple</h5><p id="r-398316" data-claire-element-id="398316">Voyons un exemple qui mélange tout ce que nous avons vu pour les tableaux :</p><pre id="r-398317" data-claire-element-id="398317"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/table.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    
    Gtk::Table tableau(1, 2); //Création d'un tableau de 1 case par 2 cases, dont les cases ne sont pas nécessairement de même grandeur.
    tableau.resize(2, 2); //Redimensionner le tableau (2 par 2).
    fenetre.add(tableau);
    
    Gtk::Button bouton1(&quot;Bouton 1&quot;);
    Gtk::Button bouton2(&quot;Bouton 2&quot;);
    Gtk::Button bouton3(&quot;Bouton 3&quot;);
    bouton1.set_can_focus(false);
    bouton2.set_can_focus(false);
    bouton3.set_can_focus(false);
    
    tableau.attach(bouton1, 0, 1, 0, 1, Gtk::SHRINK, Gtk::SHRINK); //Ajout d'un widget dans le tableau : ce widget sera de (0, 0) à (1, 1). Le widget prend le moins d'espace possible.
    tableau.attach(bouton2, 1, 2, 0, 1); //Le widget prend l'espace qui lui est alloué et tout autre espace additionnel.
    tableau.attach(bouton3, 0, 2, 1, 2, Gtk::FILL, Gtk::FILL, 25, 10); //Le widget prend l'espace qui lui est alloué. Ajout d'espace (25px horizontal et 10px vertical) autour du widget.
    
    fenetre.show_all(); //L'habituel show_all() pour afficher tous les widgets.
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-398318" data-claire-element-id="398318">Nous redimensionnons le tableau tout de suite après l'avoir créé, ce qui est tout à fait inutile (c'était pour l'exemple :p ).<br/> Vous devriez bien comprendre avec les commentaires et ce screenshot :</p><figure id="r-398320" data-claire-element-id="398321"><img id="r-398319" data-claire-element-id="398319" src="medias/uploads.siteduzero.com_files_243001_244000_243175.png" alt="Image utilisateur"/></figure><p id="r-398322" data-claire-element-id="398322">Faites des tests pour bien comprendre comment les tableaux fonctionnent.<br/> Je vous assure que cela pourrait vous aider. :-°</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
<span class="arrow"></span>
<span class="next">Les boîtes pour les boutons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
<span class="next">La barre d&#039;onglets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Labarred039onglets"></a><h2>La barre d&#039;onglets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
<span class="arrow"></span>
<span class="next">Les tableaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
<span class="next">Les barres de défilement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-barre-d-onglets-2" data-claire-element-id="398447">La barre d'onglets</h4><p id="r-398325" data-claire-element-id="398325">La barre d'onglets ne permet d'afficher qu'un seul <em>widget</em> à la fois.</p><p id="r-398326" data-claire-element-id="398326">Cependant, en cliquant sur un autre onglet, nous pouvons voir un autre <em>widget</em>.</p><p id="r-398327" data-claire-element-id="398327">Vous les utilisez probablement avec votre navigateur Web (en tout cas, moi, je les utilise :D ).</p><p id="r-398328" data-claire-element-id="398328">C'est très pratique pour pouvoir visualiser ou éditer plusieurs documents &quot;en même temps&quot;.</p><h5 id="r-creation-d-une-barre-d-onglets" data-claire-element-id="398333">Création d'une barre d'onglets</h5><p id="r-398329" data-claire-element-id="398329">Avant tout, vous devez inclure la classe <code data-claire-semantic="cpp">Gtk::Notebook</code> :</p><pre id="r-398330" data-claire-element-id="398330"><code data-claire-semantic="cpp">#include &lt;gtkmm/notebook.h&gt;</code></pre><p id="r-398331" data-claire-element-id="398331">C'est très simple ; il vous suffit de créer un objet de type <code data-claire-semantic="cpp">Gtk::Notebook</code> :</p><pre id="r-398332" data-claire-element-id="398332"><code data-claire-semantic="cpp">Gtk::Notebook barreOnglets;</code></pre><h5 id="r-quelques-methodes-utiles-1" data-claire-element-id="398392">Quelques méthodes utiles</h5><h6 id="r-set-scrollable" data-claire-element-id="398343">set_scrollable()</h6><p id="r-398334" data-claire-element-id="398334">Lorsqu'il y a trop d'onglets, la fenêtre s'agrandit.<br/> Cela peut devenir problématique.</p><p id="r-398335" data-claire-element-id="398335">En appelant cette méthode, des flèches se rajouteront pour naviguer dans les onglets, donc la fenêtre peut être plus petite.</p><p id="r-398336" data-claire-element-id="398336">Exemple d'une barre d'onglets utilisant set_scrollable() :</p><figure id="r-398338" data-claire-element-id="398339"><img id="r-398337" data-claire-element-id="398337" src="medias/uploads.siteduzero.com_files_243001_244000_243111.png" alt="Image utilisateur"/></figure><p id="r-398340" data-claire-element-id="398340">Vous voyez, il y a des flèches à gauche et à droite pour naviguer.</p><p id="r-398341" data-claire-element-id="398341">Cette méthode s'appelle le plus simplement du monde :</p><pre id="r-398342" data-claire-element-id="398342"><code data-claire-semantic="cpp">barreOnglets.set_scrollable();</code></pre><h6 id="r-popup-enable" data-claire-element-id="398351">popup_enable()</h6><p id="r-398344" data-claire-element-id="398344">Cette méthode ajoute un menu contextuel.<br/> Lors d'un clic-droit sur la barre d'onglets, un menu contextuel apparaîtra et permettra à l'utilisateur de se rendre immédiatement à un onglet de la barre.</p><p id="r-398345" data-claire-element-id="398345">Cette méthode s'appelle également très simplement :</p><pre id="r-398346" data-claire-element-id="398346"><code data-claire-semantic="cpp">barreOnglets.popup_enable();</code></pre><p id="r-398347" data-claire-element-id="398347">Le résultat :</p><figure id="r-398349" data-claire-element-id="398350"><img id="r-398348" data-claire-element-id="398348" src="medias/uploads.siteduzero.com_files_243001_244000_243114.png" alt="Image utilisateur"/></figure><h6 id="r-set-group-name" data-claire-element-id="398356">set_group_name()</h6><p id="r-398352" data-claire-element-id="398352">Cette méthode permet de définir le groupe d'une barre d'onglets.<br/> Deux barres d'un même groupe peuvent s'échanger des onglets.<br/> Cela peut être pratique. :)</p><p id="r-398353" data-claire-element-id="398353">Cette méthode prend un paramètre :<br/> une chaîne de caractères représentant le nom du groupe.</p><pre id="r-398354" data-claire-element-id="398354"><code data-claire-semantic="cpp">barreOnglets.set_group(&quot;onglets&quot;);
barreOnglets2.set_group(&quot;onglets&quot;);</code></pre><p id="r-398355" data-claire-element-id="398355">Les deux barre d'onglets pourront s'échanger des onglets si ceux-ci sont <em>détachables</em> (nous verrons plus bas comment faire).</p><h6 id="r-append-page" data-claire-element-id="398365">append_page()</h6><p id="r-398357" data-claire-element-id="398357">Le plus important. ;)</p><p id="r-398358" data-claire-element-id="398358">Cela permet d'ajouter une page à la barre d'onglets.</p><p id="r-398359" data-claire-element-id="398359">Cette méthode prend au minimum un paramètre : le <em>widget</em> à ajouter.</p><p id="r-398360" data-claire-element-id="398360">Exemple :</p><pre id="r-398361" data-claire-element-id="398361"><code data-claire-semantic="cpp">barreOnglets.append_page(texte1);</code></pre><p id="r-398362" data-claire-element-id="398362">Le texte écrit sur l'onglet sera &quot;Page 1&quot; si c'est le premier <em>widget</em> à être ajouté, &quot;Page 2&quot; si c'est le deuxième, etc.</p><p id="r-398363" data-claire-element-id="398363">Il existe aussi d'autres méthodes pour ajouter un <em>widget</em>, dont <code data-claire-semantic="cpp">prepend_page()</code> et <code data-claire-semantic="cpp">insert_page()</code>, respectivement pour ajouter un <em>widget</em> au début et en ajouter un à un position précise.</p><p id="r-398364" data-claire-element-id="398364">Dans le prochain exemple, je vous détaillerai l'utilisation de <code data-claire-semantic="cpp">append_page()</code> avec d'autre paramètres.</p><h6 id="r-remove-page" data-claire-element-id="398370">remove_page()</h6><p id="r-398366" data-claire-element-id="398366">Cette méthode enlève un onglet et son <em>widget</em> de la barre d'onglets.</p><p id="r-398367" data-claire-element-id="398367">Elle prend en paramètre soit le numéro de la page de l'onglet, soit le <em>widget</em> lui-même.</p><aside id="r-398369" data-claire-element-id="398369" data-claire-semantic="error"><p id="r-398368" data-claire-element-id="398368">ATTENTION !<br/> Comme pour les tableaux, les numéros de page débutent à 0.</p></aside><h6 id="r-set-tab-reorderable" data-claire-element-id="398373">set_tab_reorderable()</h6><p id="r-398371" data-claire-element-id="398371">Cette méthode permet à l'utilisateur de réordonner un <em>widget</em> (modifier sa position) en utilisant le glisser-déposer.</p><p id="r-398372" data-claire-element-id="398372">Elle prend un paramètre : le <em>widget</em>.</p><h6 id="r-set-tab-detachable" data-claire-element-id="398378">set_tab_detachable()</h6><p id="r-398374" data-claire-element-id="398374">Cette méthode permet à l'utilisateur de détacher un <em>widget</em>, c'est-à-dire de l'enlever de la barre d'onglets pour le mettre dans une autre.</p><p id="r-398375" data-claire-element-id="398375">Elle prend elle aussi un paramètre : le <em>widget</em>.</p><aside id="r-398377" data-claire-element-id="398377" data-claire-semantic="warning"><p id="r-398376" data-claire-element-id="398376">Ne pas oublier que les deux barres d'onglets doivent avoir le même groupe pour pouvoir s'échanger des pages !</p></aside><h6 id="r-next-page-et-prev-page" data-claire-element-id="398380">next_page() et prev_page()</h6><p id="r-398379" data-claire-element-id="398379"><code data-claire-semantic="cpp">next_page()</code> avance à la prochaine page de l'onglet et <code data-claire-semantic="cpp">prev_page()</code> va à la page précédente.</p><h6 id="r-set-action-widget" data-claire-element-id="398391">set_action_widget()</h6><p id="r-398381" data-claire-element-id="398381">Voici la dernière méthode que nous verrons dans cette sous-partie.</p><p id="r-398382" data-claire-element-id="398382">Elle permet d'ajouter un <em>widget</em> à gauche ou à droite des onglets.<br/> Rien ne nous empêche d'appeler deux fois cette méthode pour en avoir un à gauche et un à droite.</p><p id="r-398383" data-claire-element-id="398383">Elle prend un pointeur sur le <em>widget</em> et l'une des deux constantes suivantes :</p><ul id="r-398388" data-claire-element-id="398388"><li id="r-398385" data-claire-element-id="398385"><p id="r-398384" data-claire-element-id="398384">Gtk::PACK_START : à gauche des onglets ;</p></li><li id="r-398387" data-claire-element-id="398387"><p id="r-398386" data-claire-element-id="398386">Gtk::PACK_END : à droite des onglets.</p></li></ul><aside id="r-398390" data-claire-element-id="398390" data-claire-semantic="error"><p id="r-398389" data-claire-element-id="398389">Il faut afficher <strong>manuellement</strong> ce <em>widget</em> avec <code data-claire-semantic="cpp">show()</code> sinon il n'apparaîtra pas !</p></aside><h5 id="r-exemple-103" data-claire-element-id="398444">Exemple</h5><p id="r-398393" data-claire-element-id="398393">Cette fois, nous allons utiliser trois fichiers (main.cpp, Fenetre.cpp et Fenetre.hpp).</p><h6 id="r-main-cpp-8" data-claire-element-id="398396">main.cpp</h6><p id="r-398394" data-claire-element-id="398394">Il est comme à l'accoutumée :</p><pre id="r-398395" data-claire-element-id="398395"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><h6 id="r-fenetre-hpp-2" data-claire-element-id="398402">Fenetre.hpp</h6><pre id="r-398397" data-claire-element-id="398397"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/image.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/notebook.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void modifierTitre(Gtk::Widget* page, int numPage);
        
    private :
        Gtk::Notebook barreOnglets;
        Gtk::Notebook barreOnglets2;
        Gtk::HButtonBox boiteBoutonsH;
        Gtk::VBox boiteV;
        Gtk::Button boutonNouvelOnglet;
        Gtk::Button boutonPrecedent;
        Gtk::Button boutonSuivant;
        Gtk::Button boutonSupprimerOnglet;
        Gtk::Image imageNouveau;
        Gtk::Image imageSupprimer;
        Gtk::Label texte1;
        Gtk::Label texte2;
        Gtk::Label texte3;
        Gtk::Label texte4;
        Gtk::Label texte5;
        Gtk::Label texte6;
        Gtk::Label texte7;
};

#endif</code></pre><p id="r-398398" data-claire-element-id="398398">Voici quelques explications :<br/><code data-claire-semantic="cpp">modifierTitre()</code> est une fonction de rappel.<br/> Elle modifiera le titre lors du changement d'onglets de la première barre d'onglets.</p><p id="r-398399" data-claire-element-id="398399">Ceci crée une image :</p><pre id="r-398400" data-claire-element-id="398400"><code data-claire-semantic="cpp">Gtk::Image imageNouveau;</code></pre><p id="r-398401" data-claire-element-id="398401">Cette image sera créée à partir d'un <em>Stock Item</em> (une image prédéfinie).</p><h6 id="r-fenetre-cpp-2" data-claire-element-id="398410">Fenetre.cpp</h6><p id="r-398403" data-claire-element-id="398403">C'est un assez gros fichier (n'ayez pas peur, je vais vous l'expliquer ^^ ) :</p><pre id="r-398404" data-claire-element-id="398404"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boutonPrecedent(Gtk::Stock::GO_BACK), boutonSuivant(Gtk::Stock::GO_FORWARD), texte1(&quot;Ceci est la première page de l'onglet.&quot;), texte2(&quot;Ceci est la deuxième page de l'onglet.&quot;), texte3(&quot;Ceci est la troisième page de l'onglet.&quot;), texte4(&quot;Ceci est la quatrième page de l'onglet.&quot;), texte5(&quot;Ceci est la cinquième page de l'onglet.&quot;), texte6(&quot;Ceci est la sixième page de l'onglet.&quot;), texte7(&quot;Ceci est la septième page de l'onglet.&quot;), imageNouveau(Gtk::Stock::NEW, Gtk::ICON_SIZE_BUTTON), imageSupprimer(Gtk::Stock::DELETE, Gtk::ICON_SIZE_BUTTON) {
    add(boiteV);

    boutonPrecedent.set_can_focus(false);
    boiteBoutonsH.pack_start(boutonPrecedent);

    boutonSuivant.set_can_focus(false);
    boiteBoutonsH.pack_start(boutonSuivant);

    boiteV.pack_start(boiteBoutonsH);

    /*
    * Création de la barre d'onglets
    * */

    //S'il y a trop d'onglets, nous pouvons naviguer à l'aide de flèche.
    barreOnglets.set_scrollable();
    //Ajouter un menu contextuel lors du clic-droit pour la navigation.
    barreOnglets.popup_enable();
    //Empêcher la barre d'avoir le focus.
    barreOnglets.set_can_focus(false);

    //Définir le groupe de la barre d'onglets (pour pouvoir échanger des onglets avec d'autres barre d'onglets).
    barreOnglets.set_group_name(&quot;onglets&quot;);

    //Ajout d'une page
    //Ajout de texte1 avec &quot;Page 1&quot; écrit sur l'onglet.
    barreOnglets.append_page(texte1);
    barreOnglets.set_tab_reorderable(texte1); //Cet onglet peut être réordonné.
    barreOnglets.set_tab_detachable(texte1); //Cet onglet peut être détaché.

    //Ajout de texte2 avec &quot;Page 2&quot; écrit sur l'onglet.
    barreOnglets.append_page(texte2);
    barreOnglets.set_tab_reorderable(texte2);
    barreOnglets.set_tab_detachable(texte2);

    //Ajout de texte3 avec &quot;Onglet 3&quot; écrit sur l'onglet.
    barreOnglets.append_page(texte3, &quot;Onglet 3&quot;);
    //Cet onglet ne peut pas être réordonné, ni détaché.

    //Ajout de texte4 avec &quot;Page 4&quot; écrit sur l'onglet. Un clic sur Alt-4 nous amène à cet onglet.
    barreOnglets.append_page(texte4, &quot;Page _4&quot;, true);
    //Le trait de soulignement (_) est situé devant le raccourci.
    barreOnglets.set_tab_reorderable(texte4);
    barreOnglets.set_tab_detachable(texte4);

    barreOnglets.append_page(texte5, &quot;Page 5&quot;);
    barreOnglets.set_tab_reorderable(texte5);
    barreOnglets.set_tab_detachable(texte5);

    barreOnglets.append_page(texte6, &quot;Page 6&quot;);
    barreOnglets.set_tab_reorderable(texte6);
    barreOnglets.set_tab_detachable(texte6);

    //Enlever le 6e onglet. Il est aussi possible de donner le widget en paramètre.
    barreOnglets.remove_page(5);

    /*
    * Création d'un bouton d'action.
    * */
    boutonNouvelOnglet.set_can_focus(false);
    boutonNouvelOnglet.set_image(imageNouveau); //Modifier l'image du bouton.

    boutonSupprimerOnglet.set_can_focus(false);
    boutonSupprimerOnglet.set_image(imageSupprimer); //Modifier l'image du bouton.

    //Ajout d'un widget d'action à la fin de la barre d'onglets.
    barreOnglets.set_action_widget(&amp;boutonNouvelOnglet, Gtk::PACK_END);

    //Ajout d'un widget d'action au début de la barre d'onglets.
    barreOnglets.set_action_widget(&amp;boutonSupprimerOnglet, Gtk::PACK_START);

    boutonNouvelOnglet.show(); //Il ne faut pas oublier de l'afficher manuellement.
    boutonSupprimerOnglet.show();
    /*
    * Création d'un bouton d'action.
    * */

    boiteV.pack_start(barreOnglets);

    /*
    * Création de la barre d'onglets
    * */

    /*
    * Création d'une deuxième barre d'onglets
    * */


    barreOnglets2.set_scrollable();
    barreOnglets2.popup_enable();
    barreOnglets2.set_can_focus(false);
    barreOnglets2.set_group_name(&quot;onglets&quot;);

    barreOnglets2.append_page(texte7, &quot;Page 7&quot;);
    barreOnglets2.set_tab_reorderable(texte7);
    barreOnglets2.set_tab_detachable(texte7);

    boiteV.pack_start(barreOnglets2);

    /*
    * Création d'une deuxième barre d'onglets
    * */

    //Connexions
    boutonPrecedent.signal_clicked().connect(sigc::mem_fun(barreOnglets, &amp;Gtk::Notebook::prev_page));
    boutonSuivant.signal_clicked().connect(sigc::mem_fun(barreOnglets, &amp;Gtk::Notebook::next_page));
    barreOnglets.signal_switch_page().connect(sigc::mem_fun(*this, &amp;Fenetre::modifierTitre));

    show_all();
}

void Fenetre::modifierTitre(Gtk::Widget* page, int numPage) {
    //Modifier le titre de la fenêtre selon l'onglet choisi.
    set_title(barreOnglets.get_tab_label_text(*barreOnglets.get_nth_page(numPage)));
}</code></pre><p id="r-398405" data-claire-element-id="398405">Voici le résultat :</p><figure id="r-398407" data-claire-element-id="398408"><img id="r-398406" data-claire-element-id="398406" src="medias/uploads.siteduzero.com_files_243001_244000_243132.png" alt="Image utilisateur"/></figure><p id="r-398409" data-claire-element-id="398409">Vous commencez à faire des fenêtre de plus en plus complexes.<br/> Que d'explications s'imposent. :-°</p><h6 id="r-la-liste-d-initialisation" data-claire-element-id="398416">La liste d'initialisation</h6><p id="r-398411" data-claire-element-id="398411">À la ligne 3, nous commençons la liste d'initialisation en créant deux boutons à partir de Stock Item.</p><p id="r-398412" data-claire-element-id="398412">Ces boutons permettront à l'utilisateur de naviguer dans les onglets.</p><p id="r-398413" data-claire-element-id="398413">Toujours dans la liste d’initialisation, nous créons les <em>widgets</em> qui seront dans les onglets.</p><p id="r-398414" data-claire-element-id="398414">À la fin de cette liste, nous créons des images... à partir de <em>Stock Item</em>.</p><p id="r-398415" data-claire-element-id="398415">Le premier paramètre est le <em>Stock Item</em> et le deuxième, la taille de l'image.</p><h6 id="r-ajout-de-widgets" data-claire-element-id="398419">Ajout de <em>widgets</em></h6><p id="r-398417" data-claire-element-id="398417">Ensuite, nous ajoutons une boîte verticale à la fenêtre et des boutons à une autre boîte.</p><p id="r-398418" data-claire-element-id="398418">Nous ajoutons la boîte pour les boutons dans la boîte verticale.</p><h6 id="r-la-premiere-barre-d-onglets" data-claire-element-id="398426">La première barre d'onglets</h6><p id="r-398420" data-claire-element-id="398420">Par la suite, nous créons une barre d'onglet, puis, nous la modifions quelque peu.</p><p id="r-398421" data-claire-element-id="398421">Notez que le troisième onglet ne peut pas être déplacé, ni détaché (essayez de le faire :p ).</p><p id="r-398422" data-claire-element-id="398422">Le quatrième onglet est ajouté d'une façon différente ; nous envoyons un troisième paramètre qui vaut <code data-claire-semantic="cpp">true</code>.<br/> Cela signifie que nous voulons lui ajouter une mnémonique.<br/> Cette mnémonique permettra d’accéder à l’onglet avec le combinaison de touches <kbd>Alt</kbd> + le caractère précédé d'un trait de soulignement (_).<br/> Pour &quot;Page _4&quot;, le raccourci est donc <kbd>Alt-4</kbd>.</p><p id="r-398423" data-claire-element-id="398423">À la ligne 58, nous enlevons le 6e onglet ainsi que son <em>widget</em>.</p><p id="r-398424" data-claire-element-id="398424">Plus loin, nous ajoutons une image différente pour chaque bouton avec <code data-claire-semantic="cpp">set_image()</code> et nous ajoutons les boutons à la barre d'onglets avec <code data-claire-semantic="cpp">set_action_widget()</code>.<br/> Il ne faut pas oublier des afficher avec <code data-claire-semantic="cpp">show()</code> !</p><p id="r-398425" data-claire-element-id="398425">Nous faisons de même avec un second bouton.</p><h6 id="r-la-deuxieme-barre-d-onglets" data-claire-element-id="398428">La deuxième barre d'onglets</h6><p id="r-398427" data-claire-element-id="398427">Nous la créons et la modifions ; vous devriez comprendre facilement.</p><h6 id="r-connexions-des-signaux-aux-fonctions-de-rappel" data-claire-element-id="398443">Connexions des signaux aux fonctions de rappel</h6><p id="r-398429" data-claire-element-id="398429">Aux lignes 108 et 109, nous connectons le clic sur chacun des boutons à une méthode de <code data-claire-semantic="cpp">Gtk::Notebook</code> qui permet d'avancer et de reculer dans la barre d'onglets.</p><p id="r-398430" data-claire-element-id="398430">À la ligne 110, nous voyons un nouveau signal (nous n'avons pas vraiment eu l'occasion d'en voir d'autres dans ce chapitre :( ) :<br/><code data-claire-semantic="cpp">switch_page()</code></p><p id="r-398431" data-claire-element-id="398431">Ce signal est émis lorsqu'il y a un changement de page.<br/> Nous le connectons à notre fonction de rappel personnalisé (<code data-claire-semantic="cpp">modifierTitre()</code>).</p><p id="r-398432" data-claire-element-id="398432">Enfin, nous affichons tous les <em>widgets</em> avec <code data-claire-semantic="cpp">show_all()</code>.</p><p id="r-398433" data-claire-element-id="398433">Voyons notre fonction de rappel qui comporte quelques nouveautés :</p><pre id="r-398434" data-claire-element-id="398434"><code data-claire-semantic="cpp">void Fenetre::modifierTitre(Gtk::Widget* page, int numPage) {
    //Modifier le titre de la fenêtre selon l'onglet choisi.
    set_title(barreOnglets.get_tab_label_text(*barreOnglets.get_nth_page(numPage)));
}</code></pre><p id="r-398435" data-claire-element-id="398435">Elle appelle <code data-claire-semantic="cpp">set_title()</code> afin de modifier le titre de la fenêtre.</p><p id="r-398436" data-claire-element-id="398436">En paramètre, nous avons... un gros morceau :</p><pre id="r-398437" data-claire-element-id="398437"><code data-claire-semantic="cpp">barreOnglets.get_tab_label_text(*barreOnglets.get_nth_page(numPage))</code></pre><p id="r-398438" data-claire-element-id="398438">La méthode <code data-claire-semantic="cpp">get_tab_label_text()</code> nous donne le texte présent sur l'onglet d'un <em>widget</em> particulier.<br/> Et <code data-claire-semantic="cpp">get_nth_page()</code> nous donne un pointeur vers le <em>widget</em> de la page <code data-claire-semantic="cpp">numPage</code>.<br/><code data-claire-semantic="cpp">numPage</code> est un paramètre transmis par le signal pour nous dire à quelle page la barre d'onglets est.</p><p id="r-398439" data-claire-element-id="398439">Veuillez noter que nous aurions pu également utiliser cette ligne :</p><pre id="r-398440" data-claire-element-id="398440"><code data-claire-semantic="cpp">set_title(barreOnglets.get_tab_label_text(*page));</code></pre><p id="r-398441" data-claire-element-id="398441">Elle est plus courte, mais elle vous montre moins de méthodes. :-°</p><p id="r-398442" data-claire-element-id="398442">C'est tout, mais je vous demande un petit exercice. :diable:</p><h5 id="r-exercice-31" data-claire-element-id="398446">Exercice</h5><p id="r-398445" data-claire-element-id="398445">Modifiez le code ci-dessus pour que les boutons à gauche et à droite de la barre d'onglet enlèvent et ajoutent des onglets.<br/> Pensez à utiliser <code data-claire-semantic="cpp"><a href="http://www.siteduzero.com/tutoriel-3-277418-votre-premiere-fenetre.html#ss_part_5">Gtk::manage()</a></code>, car vous devez gérer un nombre indéterminé de <em>widgets</em>.<br/> Ça ne devrait pas vous causer des problèmes.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
<span class="arrow"></span>
<span class="next">Les tableaux</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
<span class="next">Les barres de défilement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbarresdedfilement"></a><h2>Les barres de défilement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
<span class="arrow"></span>
<span class="next">La barre d&#039;onglets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">
<span class="next">Les boîtes de dialogue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-barres-de-defilement-2" data-claire-element-id="398490">Les barres de défilement</h4><p id="r-398448" data-claire-element-id="398448">Si un <em>widget</em> prend trop de place pour être affiché au complet, nous pouvons utiliser les barres de défilement pour n'afficher qu'une partie de ce <em>widget</em>, mais avec des barres de défilement pour se déplacer sur ce <em>widget</em>.</p><p id="r-398449" data-claire-element-id="398449">Vous avez un exemple sous les yeux :<br/> Eh oui ! Votre navigateur web utilise des barres de défilement, car la plupart des pages Web sont trop grandes pour être affichées dans la fenêtre sans ces barres.<br/> Vous pouvez, grâces à elles, vous déplacer dans la page Web.</p><h5 id="r-utilisation-49" data-claire-element-id="398464">Utilisation</h5><p id="r-398450" data-claire-element-id="398450">Avant toute utilisation, il faut inclure la bonne classe :</p><pre id="r-398451" data-claire-element-id="398451"><code data-claire-semantic="cpp">#include &lt;gtkmm/scrolledwindow.h&gt;</code></pre><p id="r-398452" data-claire-element-id="398452">Les barres de défilement s'utilise le plus simplement du monde.</p><p id="r-398453" data-claire-element-id="398453">Il suffit de créer un objet de type <code data-claire-semantic="cpp">Gtk::ScrolledWindow</code> et d'y ajouter un <em>widget</em>.</p><p id="r-398454" data-claire-element-id="398454">C'est un autre conteneur à enfant unique (il ne peut contenir qu'un seul <em>widget</em>).</p><p id="r-398455" data-claire-element-id="398455">Exemple :</p><pre id="r-398456" data-claire-element-id="398456"><code data-claire-semantic="cpp">Gtk::ScrolledWindow barresDeDefilement;</code></pre><p id="r-398457" data-claire-element-id="398457">Une de ses méthodes mérite votre attention :</p><pre id="r-398458" data-claire-element-id="398458"><code data-claire-semantic="cpp">void Gtk::ScrolledWindow::set_policy(PolicyType hscrollbar_policy, PolicyType vscrollbar_policy);</code></pre><p id="r-398459" data-claire-element-id="398459">Cela permet de dire au <em>widget</em> si vous voulez toujours voir les barres de défilement, seulement lorsque nécessaire ou jamais.</p><p id="r-398460" data-claire-element-id="398460">Personnellement, j'aime bien les afficher seulement lorsque nécessaire.</p><p id="r-398461" data-claire-element-id="398461">Afficher les barres de défilement seulement lorsque c'est nécessaire signifie qu'elles seront absentes (invisibles) lorsque nous pouvons voir au complet le <em>widget</em>.</p><p id="r-398462" data-claire-element-id="398462">Il faut donc appeler la méthode comme ceci pour ce faire :</p><pre id="r-398463" data-claire-element-id="398463"><code data-claire-semantic="cpp">barresDeDefilement.set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);</code></pre><h5 id="r-exemple-104" data-claire-element-id="398489">Exemple</h5><p id="r-398465" data-claire-element-id="398465">Voyons un exemple :</p><pre id="r-398466" data-claire-element-id="398466"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/scrolledwindow.h&gt;
#include &lt;gtkmm/textview.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    
    Gtk::Window fenetre;
    fenetre.set_border_width(10);
    
    //Création d'un conteneur ayant des barres de défilement.
    Gtk::ScrolledWindow barresDeDefilement;
    //Afficher les barres de défilement seulement lorsque c'est nécessaire.
    barresDeDefilement.set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
    
    fenetre.add(barresDeDefilement);
    
    Gtk::TextView zoneDeTexte; //Création d'une zone de texte.
    
    barresDeDefilement.add(zoneDeTexte); //Ajout de la zone de texte au conteneur.
    
    fenetre.show_all();
    
    Gtk::Main::run(fenetre);
    
    return 0;
}</code></pre><p id="r-398467" data-claire-element-id="398467">À la ligne 13, nous créons le <em>widget</em> de type <code data-claire-semantic="cpp">Gtk::ScrolledWindow</code>.<br/> À l’instruction suivante, nous appelons la méthode <code data-claire-semantic="cpp">set_policy()</code> pour que les barres de défilement ne s'affichent que lorsque le <em>widget</em> n'est pas visible au complet dans la fenêtre.</p><p id="r-398468" data-claire-element-id="398468">Dans cet exemple, nous affichons une zone de texte multiligne.<br/> Pour voir les barres de défilement, il faut entrer du texte jusqu'au bord de la fenêtre.</p><p id="r-398469" data-claire-element-id="398469">Cela donne ceci :</p><figure id="r-398471" data-claire-element-id="398472"><img id="r-398470" data-claire-element-id="398470" src="medias/uploads.siteduzero.com_files_242001_243000_242710.png" alt="Image utilisateur"/></figure><aside id="r-398475" data-claire-element-id="398475" data-claire-semantic="error"><p id="r-398473" data-claire-element-id="398473">Si nous n'avions pas utilisé les barres de défilement pour afficher la zone de texte, la fenêtre se serait vu agrandir au fur et à mesure que nous ajoutons du texte.</p><p id="r-398474" data-claire-element-id="398474">Cela devient gênant lorsque celle-ci devient plus grande que l'écran :lol: .</p></aside><p id="r-398476" data-claire-element-id="398476">Avec les conteneurs, vous pouvez vraiment organiser vos fenêtres comme vous le voulez.</p><p id="r-398477" data-claire-element-id="398477">Après avoir vu deux notions importantes (les signaux et les conteneurs), nous allons relaxer un peu en voyant de nouveaux <em>widgets</em> (donc, pas de nouvelles notions :soleil: ).</p><p id="r-398478" data-claire-element-id="398478">Maintenant, de nombreuses possibilités de conception de fenêtres s'offrent à vous.</p><p id="r-398479" data-claire-element-id="398479">Je vous lance un petit défi : créez-moi un jeu de morpion (Tic-tac-toe).<br/> Cela mettra en pratique vos notions de signaux et de conteneurs.</p><p id="r-398480" data-claire-element-id="398480">Si vous n'êtes pas capable d'implémenter une petite intelligence artificielle pour pouvoir jouer contre, faites un morpion à deux joueurs humains.</p><p id="r-398481" data-claire-element-id="398481">Si vous êtes capables d'implémenter une IA, faites les deux modes de jeux. :diable:</p><p id="r-398482" data-claire-element-id="398482">Le jeu final peut ressembler à ceci :</p><figure id="r-398484" data-claire-element-id="398485"><img id="r-398483" data-claire-element-id="398483" src="medias/uploads.siteduzero.com_files_243001_244000_243233.png" alt="Image utilisateur"/></figure><div id="r-398487" data-claire-element-id="398487" data-claire-semantic="question"><p id="r-398486" data-claire-element-id="398486">Comment vais-je faire pour savoir quel bouton a été cliqué par l'utilisateur ?<br/> Dois-je créer une fonction de rappel par bouton ?</p></div><p id="r-398488" data-claire-element-id="398488">Non, ce serait beaucoup trop lourd.<br/> Vous vous rappelez le chapitre sur les signaux (moi, oui :p ) ?<br/> Eh bien, vous devrez créer une fonction de rappel qui prend un paramètre (un <code data-claire-semantic="cpp">Gtk::Button</code>) que vous lierez avec <code data-claire-semantic="cpp">sigc::bind</code>, comme vous l'avez appris.<br/> De cette façon, vous pourrez savoir quel bouton a été cliqué sans avoir à faire 9 fonctions de rappel.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
<span class="arrow"></span>
<span class="next">La barre d&#039;onglets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">
<span class="next">Les boîtes de dialogue</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbotesdedialogue"></a><h2>Les boîtes de dialogue</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
<span class="arrow"></span>
<span class="next">Les barres de défilement</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
<span class="next">Les boîtes de dialogue de message</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-398492" data-claire-element-id="398492">Un des moyens pour interagir avec l'utilisateur est d'utiliser les <strong>boîtes de dialogue</strong>.</p><p id="r-398493" data-claire-element-id="398493">Les boîtes de dialogue peuvent afficher des informations, des erreurs, demander une question, une police d'écriture, etc.</p><p id="r-398494" data-claire-element-id="398494">Voyons comment cela fonctionne.</p>
</div><a name="Lesbotesdedialoguedemessage"></a><h2>Les boîtes de dialogue de message</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">
<span class="arrow"></span>
<span class="next">Les boîtes de dialogue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
<span class="next">Boîte de dialogue de sélection de couleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-boites-de-dialogue-de-message" data-claire-element-id="398610">Les boîtes de dialogue de message</h4><p id="r-398495" data-claire-element-id="398495">Les boîtes de dialogue de message servent à afficher des informations ou à demander des questions.</p><p id="r-398496" data-claire-element-id="398496">Il en existe de quatre types :</p><ul id="r-398505" data-claire-element-id="398505"><li id="r-398498" data-claire-element-id="398498"><p id="r-398497" data-claire-element-id="398497">Information</p></li><li id="r-398500" data-claire-element-id="398500"><p id="r-398499" data-claire-element-id="398499">Avertissement</p></li><li id="r-398502" data-claire-element-id="398502"><p id="r-398501" data-claire-element-id="398501">Erreur</p></li><li id="r-398504" data-claire-element-id="398504"><p id="r-398503" data-claire-element-id="398503">Question</p></li></ul><h5 id="r-information-11" data-claire-element-id="398535">Information</h5><p id="r-398506" data-claire-element-id="398506">Avant d'utiliser une de ces quatre boîtes de dialogue, vous devez inclure l'entête suivant :</p><pre id="r-398507" data-claire-element-id="398507"><code data-claire-semantic="cpp">#include &lt;gtkmm/messagedialog.h&gt;</code></pre><p id="r-398508" data-claire-element-id="398508">Voici une boîte de dialogue d'information :</p><figure id="r-398510" data-claire-element-id="398511"><img id="r-398509" data-claire-element-id="398509" src="medias/uploads.siteduzero.com_files_244001_245000_244863.png" alt="Image utilisateur"/></figure><h6 id="r-creation-17" data-claire-element-id="398520">Création</h6><p id="r-398512" data-claire-element-id="398512">Pour créer une boîte de dialogue d'information, vous devez créer un objet de type <code data-claire-semantic="cpp">Gtk::MessageDialog</code> :</p><pre id="r-398513" data-claire-element-id="398513"><code data-claire-semantic="cpp">Gtk::MessageDialog dialogue(*this, &quot;&lt;big&gt;&lt;b&gt;Ceci&lt;/b&gt; est un message d'information.&lt;/big&gt;&quot;, true);</code></pre><p id="r-398514" data-claire-element-id="398514">Le premier paramètre est le parent (en l'occurrence, la fenêtre de l'application).<br/> Le deuxième paramètre est le texte écrit sur la boîte de dialogue et le troisième est un booléen qui indique si nous voulons utiliser le <em>Pango Markup Language</em>.</p><div id="r-398516" data-claire-element-id="398516" data-claire-semantic="question"><p id="r-398515" data-claire-element-id="398515">Qu'est-ce que ce langage ?</p></div><p id="r-398517" data-claire-element-id="398517">C'est un langage de balisage qui permet de mettre en forme le texte.<br/> Par exemple, le texte se trouvant entre <code data-claire-semantic="html">&lt;b&gt;</code> et <code data-claire-semantic="html">&lt;/b&gt;</code> sera en <strong>gras</strong>.</p><p id="r-398518" data-claire-element-id="398518">Pour connaître toutes les balises de ce langage, <a href="http://library.gnome.org/devel/pango/stable/PangoMarkupFormat.html">cliquez ici</a> (en anglais).<br/> Dans le prochain chapitre, je vous présenterai la plupart de ces balises.</p><p id="r-398519" data-claire-element-id="398519">Si nous mettons <code data-claire-semantic="cpp">false</code> au troisième paramètre (par défaut), nous ne pouvons pas utiliser ce langage.</p><h6 id="r-methodes-23" data-claire-element-id="398534">Méthodes</h6><p id="r-398521" data-claire-element-id="398521">Comme ces boîtes de dialogue héritent de <code data-claire-semantic="cpp">Gtk::Window</code>, nous pouvons utiliser des méthodes de cette classe.</p><p id="r-398522" data-claire-element-id="398522">Par exemple, pour modifier le titre de la boîte de dialogue, nous pouvons faire ceci :</p><pre id="r-398523" data-claire-element-id="398523"><code data-claire-semantic="cpp">dialogue.set_title(&quot;Information&quot;);</code></pre><p id="r-398524" data-claire-element-id="398524">Une autre méthode mérite votre attention :</p><pre id="r-398525" data-claire-element-id="398525"><code data-claire-semantic="cpp">dialogue.set_secondary_text(&quot;Et &lt;i&gt;ceci&lt;/i&gt; est le texte secondaire qui explique quelque chose.&quot;, true);</code></pre><p id="r-398526" data-claire-element-id="398526">Cette méthode permet d'ajouter un texte secondaire.</p><p id="r-398527" data-claire-element-id="398527">Sans mise en forme, il est plus petit que le texte passé au constructeur et il se situe en bas de ce dernier.<br/> Nous devons envoyer <code data-claire-semantic="cpp">true</code> au deuxième paramètre pour pouvoir utiliser le <em>Pango Markup Language</em>.</p><p id="r-398528" data-claire-element-id="398528">Enfin, nous devons lancer la boîte de dialogue pour qu'elle s'affiche :</p><pre id="r-398529" data-claire-element-id="398529"><code data-claire-semantic="cpp">dialogue.run();</code></pre><p id="r-398530" data-claire-element-id="398530">Voici une méthode qui affiche une boîte de dialogue :</p><pre id="r-398531" data-claire-element-id="398531"><code data-claire-semantic="cpp">void Fenetre::afficherInfo() {
    //Création d'une boîte de dialogue d'information.
    Gtk::MessageDialog dialogue(*this, &quot;&lt;big&gt;&lt;b&gt;Ceci&lt;/b&gt; est un message d'information.&lt;/big&gt;&quot;, true);
    //Comme cette classe hérite de Gtk::Window, il est possible d'appeler des méthodes de cette dernière classe.
    dialogue.set_title(&quot;Information&quot;);
    //Ajouter un texte secondaire.
    dialogue.set_secondary_text(&quot;Et &lt;i&gt;ceci&lt;/i&gt; est le texte secondaire qui explique quelque chose.&quot;, true);
    dialogue.run(); //Lancer la boîte de dialogue.
}</code></pre><aside id="r-398533" data-claire-element-id="398533" data-claire-semantic="warning"><p id="r-398532" data-claire-element-id="398532">La plupart du temps, les utilisateurs ne liront pas vos messages s’ils sont trop long. Par conséquent, je vous recommande d’afficher des messages très courts dans vos boîtes de dialogues ou de mettre vos messages dans une barre d’état (nous verront ceci dans 2 chapitres).</p></aside><h5 id="r-avertissement-2" data-claire-element-id="398545">Avertissement</h5><p id="r-398536" data-claire-element-id="398536">Les autres boîtes de dialogue s'utilisent de la même manière, sauf que nous devons ajouter un paramètre au constructeur pour indiquer de quelle boîte de dialogue il s'agit.</p><p id="r-398537" data-claire-element-id="398537">Cette boîte ressemble à ceci :</p><figure id="r-398539" data-claire-element-id="398540"><img id="r-398538" data-claire-element-id="398538" src="medias/uploads.siteduzero.com_files_245001_246000_245054.png" alt="Image utilisateur"/></figure><p id="r-398541" data-claire-element-id="398541">Voici comment créer une boîte de dialogue d'avertissement :</p><pre id="r-398542" data-claire-element-id="398542"><code data-claire-semantic="cpp">Gtk::MessageDialog dialogue(*this, &quot;&lt;big&gt;&lt;b&gt;&lt;i&gt;Ceci&lt;/i&gt; est un message d'alerte.&lt;/b&gt;&lt;/big&gt;&quot;, true, Gtk::MESSAGE_WARNING);</code></pre><p id="r-398543" data-claire-element-id="398543">Nous ajoutons une constante à la fin pour indiquer de quelle boîte de dialogue il s'agit.</p><p id="r-398544" data-claire-element-id="398544">Nous pouvons, bien sûr, appeler les méthodes <code data-claire-semantic="cpp">set_title()</code> et <code data-claire-semantic="cpp">set_secondary_text()</code>.<br/> Et nous devons toujours appeler la méthode <code data-claire-semantic="cpp">run()</code> pour l'afficher.</p><h5 id="r-erreur" data-claire-element-id="398557">Erreur</h5><p id="r-398546" data-claire-element-id="398546">Cette fois, la constante est <code data-claire-semantic="cpp">Gtk::MESSAGE_ERROR</code>.</p><p id="r-398547" data-claire-element-id="398547">Cette boîte ressemble à ceci :</p><figure id="r-398549" data-claire-element-id="398550"><img id="r-398548" data-claire-element-id="398548" src="medias/uploads.siteduzero.com_files_245001_246000_245056.png" alt="Image utilisateur"/></figure><p id="r-398551" data-claire-element-id="398551">Pour toutes ces boîtes de dialogue, nous pouvons choisir quel(s) bouton(s) nous voulons voir afficher.<br/> Pour cela, nous devons ajouter un paramètre dans le constructeur.</p><p id="r-398552" data-claire-element-id="398552">Par exemple, pour créer une boîte de dialogue d'erreur avec un bouton Fermer, nous devons la créer comme ceci :</p><pre id="r-398553" data-claire-element-id="398553"><code data-claire-semantic="cpp">Gtk::MessageDialog dialogue(*this, &quot;Erreur fatale !&quot;, false, Gtk::MESSAGE_ERROR, Gtk::BUTTONS_CLOSE);</code></pre><p id="r-398554" data-claire-element-id="398554">Ici, j'ai mis le troisième paramètre à <code data-claire-semantic="cpp">false</code>, car nous n'utilisons pas le <em>Pango Markup Language</em>.</p><p id="r-398555" data-claire-element-id="398555">Voici une méthode qui affiche cette boîte de dialogue, la personnalise et ferme l'application lorsque l'utilisateur ferme cette boîte :</p><pre id="r-398556" data-claire-element-id="398556"><code data-claire-semantic="cpp">void Fenetre::afficherErreur() {
    //Utilisation d'un bouton Fermer à la place de Valider.
    Gtk::MessageDialog dialogue(*this, &quot;Erreur fatale !&quot;, false, Gtk::MESSAGE_ERROR, Gtk::BUTTONS_CLOSE);
    dialogue.set_title(&quot;Erreur fatale&quot;);
    dialogue.set_secondary_text(&quot;Veuillez redémarrer !&quot;);
    dialogue.run();
    Gtk::Main::quit(); //Fermeture du programme
}</code></pre><h5 id="r-question" data-claire-element-id="398609">Question</h5><p id="r-398558" data-claire-element-id="398558">Pour terminer cette sous-partie, voyons la boîte de dialogue de question.</p><p id="r-398559" data-claire-element-id="398559">Elle ressemble à ceci :</p><figure id="r-398561" data-claire-element-id="398562"><img id="r-398560" data-claire-element-id="398560" src="medias/uploads.siteduzero.com_files_245001_246000_245057.png" alt="Image utilisateur"/></figure><p id="r-398563" data-claire-element-id="398563">D'habitude, lorsque quelqu'un nous pose une question simple, nous répondons par &quot;Oui&quot; ou par &quot;Non&quot;.<br/> Eh bien, nous pouvons faire pareil avec une boîte de dialogue. :lol:</p><p id="r-398564" data-claire-element-id="398564">Au lieu d'utiliser la constante <code data-claire-semantic="cpp">Gtk::BUTTONS_CLOSE</code>, nous devrons utiliser <code data-claire-semantic="cpp">Gtk::BUTTONS_YES_NO</code>.</p><p id="r-398565" data-claire-element-id="398565">Voici toutes les constantes :</p><ul id="r-398578" data-claire-element-id="398578"><li id="r-398567" data-claire-element-id="398567"><p id="r-398566" data-claire-element-id="398566">Gtk::BUTTONS_NONE : Aucun bouton ;</p></li><li id="r-398569" data-claire-element-id="398569"><p id="r-398568" data-claire-element-id="398568">Gtk::BUTTONS_OK : Valider ;</p></li><li id="r-398571" data-claire-element-id="398571"><p id="r-398570" data-claire-element-id="398570">Gtk::BUTTONS_CLOSE : Fermer ;</p></li><li id="r-398573" data-claire-element-id="398573"><p id="r-398572" data-claire-element-id="398572">Gtk::BUTTONS_CANCEL : Annuler ;</p></li><li id="r-398575" data-claire-element-id="398575"><p id="r-398574" data-claire-element-id="398574">Gtk::BUTTONS_YES_NO : Oui | Non ;</p></li><li id="r-398577" data-claire-element-id="398577"><p id="r-398576" data-claire-element-id="398576">Gtk::BUTTONS_OK_CANCEL : Valider | Annuler.</p></li></ul><p id="r-398579" data-claire-element-id="398579">Cette boîte de dialogue s'utilise exactement comme les autres.<br/> Cette fois, la constante est <code data-claire-semantic="cpp">Gtk::MESSAGE_QUESTION</code>.</p><div id="r-398581" data-claire-element-id="398581" data-claire-semantic="question"><p id="r-398580" data-claire-element-id="398580">Mais comment faire pour savoir si l'utilisateur a appuyé sur &quot;Oui&quot; ou sur &quot;Non&quot; ?</p></div><p id="r-398582" data-claire-element-id="398582">Nous devons vérifier la valeur que renvoie la méthode <code data-claire-semantic="cpp">run()</code>.<br/> Eh oui, cette méthode renvoie une valeur.</p><p id="r-398583" data-claire-element-id="398583">Nous ne l'avons pas récupéré jusqu'à présent, car elle nous était inutile, mais là, nous n'avons plus le choix.</p><p id="r-398584" data-claire-element-id="398584">Donc, nous devons appeler la méthode <code data-claire-semantic="cpp">run()</code> en récupérant ce qu'elle retourne :</p><pre id="r-398585" data-claire-element-id="398585"><code data-claire-semantic="cpp">int resultat = dialogue.run();</code></pre><p id="r-398586" data-claire-element-id="398586">Ensuite, nous devons vérifier cette valeur.</p><p id="r-398587" data-claire-element-id="398587">Encore une fois, il y a des constantes pour vérifier ce que retourne cette méthode :</p><ul id="r-398598" data-claire-element-id="398598"><li id="r-398589" data-claire-element-id="398589"><p id="r-398588" data-claire-element-id="398588">Gtk::RESPONSE_OK ;</p></li><li id="r-398591" data-claire-element-id="398591"><p id="r-398590" data-claire-element-id="398590">Gtk::RESPONSE_CANCEL ;</p></li><li id="r-398593" data-claire-element-id="398593"><p id="r-398592" data-claire-element-id="398592">Gtk::RESPONSE_CLOSE ;</p></li><li id="r-398595" data-claire-element-id="398595"><p id="r-398594" data-claire-element-id="398594">Gtk::RESPONSE_YES ;</p></li><li id="r-398597" data-claire-element-id="398597"><p id="r-398596" data-claire-element-id="398596">Gtk::RESPONSE_NO ;</p></li></ul><p id="r-398599" data-claire-element-id="398599">Vous pouvez trouver <a href="http://developer.gnome.org/gtkmm/unstable/group__gtkmmEnums.html#ga407d25a7b827dbdb685077de442e9b38">la liste complète ici</a>.</p><p id="r-398600" data-claire-element-id="398600">Voici une méthode qui affiche la boîte de dialogue :</p><pre id="r-398601" data-claire-element-id="398601"><code data-claire-semantic="cpp">void Fenetre::afficherQuestion() {
    Gtk::MessageDialog dialogue(*this, &quot;Voulez-vous fermer le programme ?&quot;, false, Gtk::MESSAGE_QUESTION, Gtk::BUTTONS_YES_NO);
    dialogue.set_title(&quot;Quitter ?&quot;);
    dialogue.set_secondary_text(&quot;Si vous répondez Oui, vous perdrez vos documents non enregistrés.&quot;);
    
    int resultat = dialogue.run(); //Cette méthode retourne le bouton sur lequel l'utilisateur a cliqué.
    if(resultat == Gtk::RESPONSE_YES) { //S'il a cliqué sur Oui.
        Gtk::Main::quit();
    }
    else if(resultat == Gtk::RESPONSE_NO) { //S'il a cliqué sur Non.
        dialogue.hide(); //Cacher l'autre boîte de dialogue pour faire plus professionnel.
        //Afficher une autre boîte de dialogue pour rire de l'utilisateur.
        Gtk::MessageDialog dialog(*this, &quot;Ha Ha Ha !&quot;);
        dialog.set_title(&quot;Mdr&quot;);
        dialog.set_secondary_text(&quot;Je ne t'écoute pas !&quot;);
        dialog.run();
        Gtk::Main::quit();
    }
}</code></pre><p id="r-398602" data-claire-element-id="398602">Au début, nous créons la boîte de dialogue de question et nous la personnalisons.</p><p id="r-398603" data-claire-element-id="398603">Ensuite, nous récupérons la valeur que retourne la méthode <code data-claire-semantic="cpp">run()</code>.</p><p id="r-398604" data-claire-element-id="398604">Puis, nous vérifions ce qu'elle vaut.</p><p id="r-398605" data-claire-element-id="398605">Si elle vaut <code data-claire-semantic="cpp">Gtk::RESPONSE_YES</code>, cela signifie que l'utilisateur a cliqué sur le bouton Oui.<br/> Dans ce cas, nous fermons le programme avec <code data-claire-semantic="cpp">Gtk::Main::quit();</code>.</p><p id="r-398606" data-claire-element-id="398606">S'il a cliqué sur Non, nous cachons la boîte de dialogue avec la méthode <code data-claire-semantic="cpp">hide()</code>, nous nous moquons de l'utilisateur et fermons tout de même le programme. :lol:</p><p id="r-398607" data-claire-element-id="398607">Voilà, c'est tout pour les boîtes de dialogue de message.</p><p id="r-398608" data-claire-element-id="398608">Passons à la suite.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">
<span class="arrow"></span>
<span class="next">Les boîtes de dialogue</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
<span class="next">Boîte de dialogue de sélection de couleur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Botededialoguedeslectiondecouleur"></a><h2>Boîte de dialogue de sélection de couleur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
<span class="arrow"></span>
<span class="next">Les boîtes de dialogue de message</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
<span class="next">Boîte de dialogue de sélection de police</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-boite-de-dialogue-de-selection-de-couleur" data-claire-element-id="398658">Boîte de dialogue de sélection de couleur</h4><p id="r-398611" data-claire-element-id="398611">Dans gtkmm, il existe d'autres boîtes de dialogue déjà prêtes à utiliser par le programmeur.</p><p id="r-398612" data-claire-element-id="398612">Dans cette sous-partie, nous verrons une boîte de dialogue qui permet à l'utilisateur de choisir une couleur.</p><h5 id="r-le-constructeur-16" data-claire-element-id="398617">Le constructeur</h5><p id="r-398613" data-claire-element-id="398613">Le constructeur ne prend qu'un seul paramètre, une chaîne de caractères indiquant le titre de la boîte de dialogue :</p><pre id="r-398614" data-claire-element-id="398614"><code data-claire-semantic="cpp">Gtk::ColorSelectionDialog dialogue(&quot;Sélection d'une couleur&quot;);</code></pre><p id="r-398615" data-claire-element-id="398615">Pour utiliser cette classe, vous devez l'inclure :</p><pre id="r-398616" data-claire-element-id="398616"><code data-claire-semantic="cpp">#include &lt;gtkmm/colorselection.h&gt;</code></pre><h5 id="r-methodes-24" data-claire-element-id="398657">Méthodes</h5><h6 id="r-get-color-selection" data-claire-element-id="398633">get_color_selection()</h6><p id="r-398618" data-claire-element-id="398618">Cette méthode nous permet d'obtenir le <em>widget</em> de sélection de couleur.<br/> Nous devons l'utiliser comme ceci :</p><pre id="r-398619" data-claire-element-id="398619"><code data-claire-semantic="cpp">Gtk::ColorSelection* selectionCouleur = dialogue.get_color_selection();</code></pre><div id="r-398621" data-claire-element-id="398621" data-claire-semantic="question"><p id="r-398620" data-claire-element-id="398620">À quoi ça sert d'obtenir ce <em>widget</em> ?</p></div><p id="r-398622" data-claire-element-id="398622">Ça nous permet d'obtenir la couleur que l'utilisateur a choisie, son opacité ainsi que d'autres informations comme la couleur précédente.</p><p id="r-398623" data-claire-element-id="398623">Ensuite, nous pouvons obtenir la couleur sélectionnée avec <code data-claire-semantic="cpp">get_current_rgba()</code> :</p><pre id="r-398624" data-claire-element-id="398624"><code data-claire-semantic="cpp">selectionCouleur-&gt;get_current_rgba();</code></pre><p id="r-398625" data-claire-element-id="398625">Cette méthode nous donne un objet de type <code data-claire-semantic="cpp">Gdk::RGBA</code>.</p><div id="r-398627" data-claire-element-id="398627" data-claire-semantic="question"><p id="r-398626" data-claire-element-id="398626">Que pouvons-nous faire de cet objet ?</p></div><p id="r-398628" data-claire-element-id="398628">Nous pouvons, par exemple, modifier la couleur du texte sur une étiquette :</p><pre id="r-398629" data-claire-element-id="398629"><code data-claire-semantic="cpp">etiquette.override_color(selectionCouleur-&gt;get_current_rgba(), Gtk::STATE_FLAG_NORMAL);</code></pre><p id="r-398630" data-claire-element-id="398630">Voyons un exemple complet :</p><aside id="r-398632" data-claire-element-id="398632" data-claire-semantic="warning"><p id="r-398631" data-claire-element-id="398631">Je ne vous donne plus le fichier main.cpp, car il est toujours le même.</p></aside><h6 id="r-fenetre-hpp-3" data-claire-element-id="398638">Fenetre.hpp</h6><pre id="r-398634" data-claire-element-id="398634"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/colorselection.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void dialogueCouleur();
        
    private :
        Gtk::VBox boiteV;
        Gtk::Button bouton;
        Gdk::RGBA couleur;
        Gtk::Label etiquette;
};

#endif</code></pre><p id="r-398635" data-claire-element-id="398635">Nous créons une fonction de rappel (<code data-claire-semantic="cpp">dialogueCouleur()</code>) qui affichera la boîte de sélection de couleur.</p><p id="r-398636" data-claire-element-id="398636">De plus, nous créons une boîte verticale, un bouton et une étiquette.</p><p id="r-398637" data-claire-element-id="398637">Enfin, nous créons un objet de type <code data-claire-semantic="cpp">Gdk::RGBA</code> pour retenir la couleur choisie par l'utilisateur.</p><h6 id="r-fenetre-cpp-3" data-claire-element-id="398656">Fenetre.cpp</h6><pre id="r-398639" data-claire-element-id="398639"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(Gtk::Stock::SELECT_COLOR), etiquette(&quot;Texte coloré&quot;) {
    set_position(Gtk::WIN_POS_CENTER);
    
    add(boiteV);
    
    bouton.set_can_focus(false);
    
    boiteV.pack_start(bouton, Gtk::PACK_SHRINK);
    boiteV.pack_start(etiquette);
    
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueCouleur));
    
    show_all();
}

void Fenetre::dialogueCouleur() {
    Gtk::ColorSelectionDialog dialogue(&quot;Sélection d'une couleur&quot;);
    
    //Récupérer le widget de sélection de couleur.
    Gtk::ColorSelection* selectionCouleur = dialogue.get_color_selection();
    //Modifier la couleur du widget se sélection de couleur.
    selectionCouleur-&gt;set_current_rgba(couleur);
    
    int resultat = dialogue.run();
    //Si l'utilisateur clique sur Valider.
    if(resultat == Gtk::RESPONSE_OK) {
        //Obtenir la couleur sélectionnée.
        couleur = selectionCouleur-&gt;get_current_rgba();
        //Modifier la couleur de l'étiquette.
        etiquette.override_color(couleur, Gtk::STATE_FLAG_NORMAL);
    }
}</code></pre><p id="r-398640" data-claire-element-id="398640">Dans le constructeur, nous modifions les widgets à afficher, les ajoutons dans la boîte verticale et connectons le bouton à notre fonction de rappel personnalisée.</p><p id="r-398641" data-claire-element-id="398641">Dans cette fonction, nous commençons par créer une boîte de dialogue de sélection de couleur.</p><p id="r-398642" data-claire-element-id="398642">Ensuite, nous récupérons le widget de sélection de couleur et modifions la couleur actuellement choisie avec la méthode <code data-claire-semantic="cpp">set_current_rgba()</code>.<br/> Nous lui transmettons en paramètre un objet de type Gdk::RGBA, une couleur.</p><div id="r-398644" data-claire-element-id="398644" data-claire-semantic="question"><p id="r-398643" data-claire-element-id="398643">Pourquoi modifions-nous la couleur choisie dans ce widget ?</p></div><p id="r-398645" data-claire-element-id="398645">Nous faisons cela, car nous voulons que la couleur choisie lorsque nous ouvrons la fenêtre soit celle que nous avons choisie la fois précédente.</p><p id="r-398646" data-claire-element-id="398646">En d'autres termes, si nous choisissons une couleur rouge la première fois que nous ouvrons cette boîte de dialogue, nous voulons que la deuxième fois, la couleur rouge soit déjà sélectionnée.</p><p id="r-398647" data-claire-element-id="398647">Puis, si l'utilisateur clique sur Valider, nous enregistrons la couleur qu'il a choisie avec la méthode <code data-claire-semantic="cpp">get_current_rgba()</code> dans notre attribut.<br/> En enregistrant cette couleur, nous pouvons, comme dit précédemment, modifier la couleur choisie sur le widget de sélection de couleur (ça en fait, des couleurs, dans cette phrase :lol: ).</p><p id="r-398648" data-claire-element-id="398648">Puis, nous modifions la couleur du texte de l'étiquette avec :</p><pre id="r-398649" data-claire-element-id="398649"><code data-claire-semantic="cpp">etiquette.override_color(couleur, Gtk::STATE_FLAG_NORMAL);</code></pre><p id="r-398650" data-claire-element-id="398650">Voilà ce que ça donne :</p><figure id="r-398652" data-claire-element-id="398653"><img id="r-398651" data-claire-element-id="398651" src="medias/uploads.siteduzero.com_files_245001_246000_245058.png" alt="Image utilisateur"/></figure><aside id="r-398655" data-claire-element-id="398655" data-claire-semantic="information"><p id="r-398654" data-claire-element-id="398654">Notez qu'il existe un bouton (<code data-claire-semantic="cpp">Gtk::ColorButton</code>) qui affiche cette boîte de dialogue.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
<span class="arrow"></span>
<span class="next">Les boîtes de dialogue de message</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
<span class="next">Boîte de dialogue de sélection de police</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Botededialoguedeslectiondepolice"></a><h2>Boîte de dialogue de sélection de police</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de couleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
<span class="next">Boîte de dialogue de sélection de fichier(s)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-boite-de-dialogue-de-selection-de-police" data-claire-element-id="398691">Boîte de dialogue de sélection de police</h4><p id="r-398659" data-claire-element-id="398659">Il existe une boîte de dialogue qui permet à l'utilisateur de choisir une police.</p><p id="r-398660" data-claire-element-id="398660">Voyons comment elle fonctionne.</p><h5 id="r-constructeur-8" data-claire-element-id="398665">Constructeur</h5><p id="r-398661" data-claire-element-id="398661">Il prend le même paramètre que la boîte de dialogue de sélection de couleur :</p><pre id="r-398662" data-claire-element-id="398662"><code data-claire-semantic="cpp">Gtk::FontChooserDialog dialogue(&quot;Sélection d'une police&quot;);</code></pre><p id="r-398663" data-claire-element-id="398663">Vous devez inclure l'entête :</p><pre id="r-398664" data-claire-element-id="398664"><code data-claire-semantic="cpp">#include &lt;gtkmm/fontchooserdialog.h&gt;</code></pre><h5 id="r-methodes-25" data-claire-element-id="398671">Méthodes</h5><p id="r-398666" data-claire-element-id="398666">La méthode <code data-claire-semantic="cpp">get_font_desc()</code> permet d'obtenir la police choisie par l'utilisateur.<br/> Cette méthode retourne un objet <code data-claire-semantic="cpp">Pango::FontDescription</code> :</p><pre id="r-398667" data-claire-element-id="398667"><code data-claire-semantic="cpp">Pango::FontDescription police = dialogue.get_font_desc();</code></pre><p id="r-398668" data-claire-element-id="398668">Ensuite, nous pouvons modifier la police de l'étiquette avec la méthode <code data-claire-semantic="cpp">override_font()</code>.</p><p id="r-398669" data-claire-element-id="398669">Cette méthode prend un objet de type <code data-claire-semantic="cpp">Pango::FontDescription</code> (le même que celui retourné par <code data-claire-semantic="cpp">get_font_desc()</code>).<br/> Pour utiliser cet objet, vous devez inclure l'entête :</p><pre id="r-398670" data-claire-element-id="398670"><code data-claire-semantic="cpp">#include &lt;pangomm/fontdescription.h&gt;</code></pre><h5 id="r-exemple-105" data-claire-element-id="398690">Exemple</h5><p id="r-398672" data-claire-element-id="398672">Je vous explique comment utiliser cet objet avec un exemple.</p><h6 id="r-fenetre-hpp-4" data-claire-element-id="398675">Fenetre.hpp</h6><pre id="r-398673" data-claire-element-id="398673"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/fontchooserdialog.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

#include &lt;pangomm/fontdescription.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void dialoguePolice();
        
    private :
        Gtk::VBox boiteV;
        Gtk::Button bouton;
        Gtk::Label etiquette;
        Pango::FontDescription police;
};

#endif</code></pre><p id="r-398674" data-claire-element-id="398674">C'est très semblable à l'exemple précédent, sauf que, cette fois, ce n'est pas un objet <code data-claire-semantic="cpp">Gdk::RGBA</code>, mais <code data-claire-semantic="cpp">Pango::FontDescription</code>.</p><h6 id="r-fenetre-cpp-4" data-claire-element-id="398689">Fenetre.cpp</h6><pre id="r-398676" data-claire-element-id="398676"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(Gtk::Stock::SELECT_FONT), etiquette(&quot;Texte formatté&quot;) {
    add(boiteV);
    
    bouton.set_can_focus(false);
    
    boiteV.pack_start(bouton, Gtk::PACK_SHRINK);
    boiteV.pack_start(etiquette);
    
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialoguePolice));
    
    show_all();
}

void Fenetre::dialoguePolice() {
    //Création d'une boîte de dialogue de sélection de police.
    Gtk::FontChooserDialog dialogue(&quot;Sélection d'une police&quot;);
    //Modifier la police.
    dialogue.set_font_desc(police);
    
    int resultat = dialogue.run();
    //Si l'utilisateur clique sur Valider.
    if(resultat == Gtk::RESPONSE_OK) {
        //Obtenir la police de caractères.
        police = dialogue.get_font_desc();
        //Modifier la police de l'étiquette.
        etiquette.override_font(police);
    }
}</code></pre><p id="r-398677" data-claire-element-id="398677">Encore une fois, nous allons nous intéresser à la fonction de rappel.</p><p id="r-398678" data-claire-element-id="398678">Après avoir créer la boîte de dialogue, nous modifions la police choisie avec :</p><pre id="r-398679" data-claire-element-id="398679"><code data-claire-semantic="cpp">dialogue.set_font_desc(police);</code></pre><p id="r-398680" data-claire-element-id="398680">Comme pour l'exemple précédent, nous voulons que la police du texte soit la police affichée par la boîte de dialogue.</p><p id="r-398681" data-claire-element-id="398681">Ensuite, si l'utilisateur clique sur Valider, nous obtenons la police :</p><pre id="r-398682" data-claire-element-id="398682"><code data-claire-semantic="cpp">police = dialogue.get_font_desc();</code></pre><p id="r-398683" data-claire-element-id="398683">Nous enregistrons cette police dans notre attribut, puis nous modifions la police de l'étiquette.</p><p id="r-398684" data-claire-element-id="398684">Voici ce que ça donne :</p><figure id="r-398686" data-claire-element-id="398687"><img id="r-398685" data-claire-element-id="398685" src="medias/uploads.siteduzero.com_files_245001_246000_245065.png" alt="Image utilisateur"/></figure><p id="r-398688" data-claire-element-id="398688">C'est tout pour cette boîte de dialogue.<br/> Comme pour la boîte de sélection de couleur, il existe aussi un bouton qui affiche une boîte de sélection de police : <code data-claire-semantic="cpp">Gtk::FontButton</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de couleur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
<span class="next">Boîte de dialogue de sélection de fichier(s)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Botededialoguedeslectiondefichiers"></a><h2>Boîte de dialogue de sélection de fichier(s)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de police</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
<span class="next">La boîte de dialogue À propos</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-boite-de-dialogue-de-selection-de-fichier-s" data-claire-element-id="398820">Boîte de dialogue de sélection de fichier(s)</h4><p id="r-398692" data-claire-element-id="398692">Les boîtes de dialogue de sélection de fichier(s) permettent de choisir un fichier ou des fichiers pour l'ouverture et un pour la sauvegarde.<br/> Elles permettent également l'ouverture et la création de dossier(s).</p><h5 id="r-constructeur-9" data-claire-element-id="398710">Constructeur</h5><p id="r-398693" data-claire-element-id="398693">Avant tout, il faut inclure le bon entête :</p><pre id="r-398694" data-claire-element-id="398694"><code data-claire-semantic="cpp">#include &lt;gtkmm/filechooserdialog.h&gt;</code></pre><p id="r-398695" data-claire-element-id="398695">Ceci crée une boîte de dialogue d'ouverture de fichier(s) :</p><pre id="r-398696" data-claire-element-id="398696"><code data-claire-semantic="cpp">Gtk::FileChooserDialog dialogue(*this, &quot;Ouverture d'un fichier&quot;);</code></pre><p id="r-398697" data-claire-element-id="398697">Si nous voulons créer une boîte de dialogue pour la sauvegarde, la création ou l'ouverture de dossier(s), nous devons ajouter un troisième paramètre :</p><pre id="r-398698" data-claire-element-id="398698"><code data-claire-semantic="cpp">Gtk::FileChooserDialog dialogue(*this, &quot;Sauvegarde d'un fichier&quot;, Gtk::FILE_CHOOSER_ACTION_SAVE);</code></pre><p id="r-398699" data-claire-element-id="398699">Ceci crée une boîte de dialogue de sauvegarde de fichier.</p><p id="r-398700" data-claire-element-id="398700">Voici toutes les constantes possibles :</p><ul id="r-398709" data-claire-element-id="398709"><li id="r-398702" data-claire-element-id="398702"><p id="r-398701" data-claire-element-id="398701">Gtk::FILE_CHOOSER_ACTION_OPEN : ouverture de fichier(s) (par défaut) ;</p></li><li id="r-398704" data-claire-element-id="398704"><p id="r-398703" data-claire-element-id="398703">Gtk::FILE_CHOOSER_ACTION_SAVE : sauvegarde d'un fichier ;</p></li><li id="r-398706" data-claire-element-id="398706"><p id="r-398705" data-claire-element-id="398705">Gtk::FILE_CHOOSER_ACTION_SELECT_FOLDER : sélection d'un dossier</p></li><li id="r-398708" data-claire-element-id="398708"><p id="r-398707" data-claire-element-id="398707">Gtk::FILE_CHOOSER_ACTION_CREATE_FOLDER : création de dossier(s).</p></li></ul><h5 id="r-methodes-26" data-claire-element-id="398776">Méthodes</h5><h6 id="r-pour-l-ouverture-de-fichier-s" data-claire-element-id="398712">Pour l'ouverture de fichier(s)</h6><p id="r-398711" data-claire-element-id="398711">La méthode <code data-claire-semantic="cpp">set_select_multiple()</code> permet la sélection de plusieurs fichiers.</p><h6 id="r-pour-la-sauvegarde-de-fichier" data-claire-element-id="398715">Pour la sauvegarde de fichier</h6><p id="r-398713" data-claire-element-id="398713">La méthode <code data-claire-semantic="cpp">set_do_overwrite_confirmation()</code> demande la confirmation de l'utilisateur lorsqu'il est sur le point d'écraser un fichier existant.</p><p id="r-398714" data-claire-element-id="398714">La méthode <code data-claire-semantic="cpp">set_create_folders()</code> permet la création de dossier(s).</p><h6 id="r-pour-tous-les-types-de-dialogue-de-selection-de-fichier-s-dossier" data-claire-element-id="398775">Pour tous les types de dialogue de sélection de fichier(s)/dossier</h6><p id="r-398716" data-claire-element-id="398716">La méthode dialogue.get_filename() renvoie le chemin abosolu du fichier sélectionné.</p><p id="r-398717" data-claire-element-id="398717">Lorsque nous pouvons sélectionner plusieurs fichiers, nous devons récupérer la liste des fichiers sélectionnés de cette manière :</p><pre id="r-398718" data-claire-element-id="398718"><code data-claire-semantic="cpp">std::vector&lt;std::string&gt; liste(dialogue.get_filenames());</code></pre><aside id="r-398720" data-claire-element-id="398720" data-claire-semantic="warning"><p id="r-398719" data-claire-element-id="398719">Cette fois, c'est get_filenames() avec un 's' à la fin, car nous pouvons sélectionner plusieurs fichiers.</p></aside><p id="r-398721" data-claire-element-id="398721">La méthode <code data-claire-semantic="cpp">set_show_hidden()</code> affiche les fichiers cachés.</p><p id="r-398722" data-claire-element-id="398722">La méthode <code data-claire-semantic="cpp">set_current_folder()</code> permet de modifier le dossier actuel.</p><p id="r-398723" data-claire-element-id="398723">L'utilisation la plus commune est probablement celle-ci :</p><pre id="r-398724" data-claire-element-id="398724"><code data-claire-semantic="cpp">dialogue.set_current_folder(Glib::get_home_dir());</code></pre><p id="r-398725" data-claire-element-id="398725">La boîte de dialogue de sélection de fichier(s) sera au répertoire personnel de l'utilisateur.</p><p id="r-398726" data-claire-element-id="398726">Par défaut, une boîte de dialogue de sélection de fichier(s)/dossier n'a aucun bouton.<br/> Nous devons donc les ajouter nous-mêmes.</p><p id="r-398727" data-claire-element-id="398727">Il y a une méthode faite exprès pour cela : <code data-claire-semantic="cpp">add_button()</code>.<br/> Le premier paramètre peut être soit un objet <code data-claire-semantic="cpp">std::string</code>, soit un <em>Stock Item</em>.<br/> Le deuxième doit être une des constantes de réponse que j'ai listées plus haut.</p><p id="r-398728" data-claire-element-id="398728">Pour rappel, les revoici :</p><ul id="r-398739" data-claire-element-id="398739"><li id="r-398730" data-claire-element-id="398730"><p id="r-398729" data-claire-element-id="398729">Gtk::RESPONSE_OK ;</p></li><li id="r-398732" data-claire-element-id="398732"><p id="r-398731" data-claire-element-id="398731">Gtk::RESPONSE_CANCEL ;</p></li><li id="r-398734" data-claire-element-id="398734"><p id="r-398733" data-claire-element-id="398733">Gtk::RESPONSE_CLOSE ;</p></li><li id="r-398736" data-claire-element-id="398736"><p id="r-398735" data-claire-element-id="398735">Gtk::RESPONSE_YES ;</p></li><li id="r-398738" data-claire-element-id="398738"><p id="r-398737" data-claire-element-id="398737">Gtk::RESPONSE_NO.</p></li></ul><p id="r-398740" data-claire-element-id="398740">Par exemple, ceci ajoute un bouton Annuler et un Ouvrir :</p><pre id="r-398741" data-claire-element-id="398741"><code data-claire-semantic="cpp">dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
dialogue.add_button(Gtk::Stock::OPEN, Gtk::RESPONSE_OK);</code></pre><div id="r-398743" data-claire-element-id="398743" data-claire-semantic="question"><p id="r-398742" data-claire-element-id="398742">Pourquoi mets-tu <code data-claire-semantic="cpp">Gtk::RESPONSE_OK</code> au lieu de <code data-claire-semantic="cpp">Gtk::RESPONSE_OPEN</code> ?</p></div><p id="r-398744" data-claire-element-id="398744">Parce que cette dernière n'existe pas. :p<br/> Nous ne sommes pas obligés de respecter les noms, nous pouvons mettre n'importe quelle constante ; nous pourrions même mettre un <code data-claire-semantic="cpp">int</code>.</p><p id="r-398745" data-claire-element-id="398745">Comme pour les autre boîtes de dialogue, nous devons récupérer ce que retourne la méthode <code data-claire-semantic="cpp">run()</code>, puis l'évaluer :</p><pre id="r-398746" data-claire-element-id="398746"><code data-claire-semantic="cpp">int resultat = dialogue.run();
if(resultat == Gtk::RESPONSE_OK) {
}</code></pre><p id="r-398747" data-claire-element-id="398747">La dernière méthode que je vais vous montrer permet d'ajouter un filtre sur les fichiers.</p><div id="r-398749" data-claire-element-id="398749" data-claire-semantic="question"><p id="r-398748" data-claire-element-id="398748">Qu'est-ce qu'un filtre</p></div><p id="r-398750" data-claire-element-id="398750">En utilisant un filtre, nous pouvons, par exemple, demander à ce que la boîte de dialogue n'affiche que les fichiers ayant l'extension .c, .cpp et .h.</p><p id="r-398751" data-claire-element-id="398751">Ça nous permet d'afficher seulement les fichiers que nous voulons.</p><div id="r-398753" data-claire-element-id="398753" data-claire-semantic="question"><p id="r-398752" data-claire-element-id="398752">Pouvons-nous utiliser plusieurs filtres ?</p></div><p id="r-398754" data-claire-element-id="398754">Mais bien sûr. :D <br/> Premièrement, ajoutez cet entête dans votre fichier Fenetre.hpp :</p><pre id="r-398755" data-claire-element-id="398755"><code data-claire-semantic="cpp">#include &lt;gtkmm/filefilter.h&gt;</code></pre><p id="r-398756" data-claire-element-id="398756">Ceci crée un filtre :</p><pre id="r-398757" data-claire-element-id="398757"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreFichierCCPP = Gtk::FileFilter::create();</code></pre><p id="r-398758" data-claire-element-id="398758">Après avoir créé un filtre, nous devons lui donner un nom :</p><pre id="r-398759" data-claire-element-id="398759"><code data-claire-semantic="cpp">filtreFichierCCPP-&gt;set_name(&quot;Fichiers C/C++&quot;);</code></pre><p id="r-398760" data-claire-element-id="398760">Ce nom sera affiché dans la liste déroulante.</p><p id="r-398761" data-claire-element-id="398761">Ensuite, nous devons ajouter des <a href="http://fr.wikipedia.org/wiki/Type_MIME">types MIME</a>.<br/> Par exemple, pour les fichiers C/C++ :</p><pre id="r-398762" data-claire-element-id="398762"><code data-claire-semantic="cpp">filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c&quot;);
filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c++&quot;);
filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c-header&quot;);</code></pre><p id="r-398763" data-claire-element-id="398763">Finalement, nous devons ajouter le filtre à la boîte de dialogue :</p><pre id="r-398764" data-claire-element-id="398764"><code data-claire-semantic="cpp">dialogue.add_filter(filtreFichierCCPP);</code></pre><p id="r-398765" data-claire-element-id="398765">Nous pouvons maintenant voir notre filtre dans une liste déroulante près des boutons :</p><figure id="r-398767" data-claire-element-id="398768"><img id="r-398766" data-claire-element-id="398766" src="medias/uploads.siteduzero.com_files_247001_248000_247745.png" alt="Image utilisateur"/></figure><div id="r-398770" data-claire-element-id="398770" data-claire-semantic="question"><p id="r-398769" data-claire-element-id="398769">Et si nous voulons créer un filtre pour tous les fichiers, comment faire ?</p></div><pre id="r-398771" data-claire-element-id="398771"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreTout = Gtk::FileFilter::create();
filtreTout-&gt;set_name(&quot;Tous les fichiers&quot;);
filtreTout-&gt;add_pattern(&quot;*&quot;);
dialogue.add_filter(filtreTout);</code></pre><p id="r-398772" data-claire-element-id="398772">Cette fois, nous utilisons <code data-claire-semantic="cpp">add_pattern()</code>.<br/> Il faut lui fournir une expression correspondant aux fichiers que nous voulons afficher.</p><p id="r-398773" data-claire-element-id="398773">L’étoile (*) signifie n’importe quelle combinaison de caractères.</p><p id="r-398774" data-claire-element-id="398774">Il existe d’autres symboles tels que le point d’interrogation (?) qui signifie n’importe quel caractère.<br/> Il est possible d’utiliser les crochets ([ et ]) à la manière des expressions rationnelles :<br/> Par exemple, &quot;[0-9]&quot; signifie n’importe quel chiffre.</p><h5 id="r-exemple-106" data-claire-element-id="398819">Exemple</h5><p id="r-398777" data-claire-element-id="398777">Voyons un exemple qui fonctionne.</p><h6 id="r-fenetre-hpp-5" data-claire-element-id="398784">Fenetre.hpp</h6><pre id="r-398778" data-claire-element-id="398778"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;fstream&gt;
#include &lt;vector&gt;

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/filechooserdialog.h&gt;
#include &lt;gtkmm/filefilter.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/messagedialog.h&gt;
#include &lt;gtkmm/scrolledwindow.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/textbuffer.h&gt;
#include &lt;gtkmm/textview.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void dialogueOuvrirFichier();
        void dialogueOuvrirFichiers();
        void dialogueEnregistrerFichier();
        void ouvrirFichier(std::string nomFichier);
        
    private :
        Gtk::ScrolledWindow barresDeDefilement;
        Gtk::HButtonBox boiteH;
        Gtk::VBox boiteV;
        Gtk::Button boutonEnregistrer;
        Gtk::Button boutonOuvrir;
        Gtk::Button boutonOuvrirFichiers;
        Gtk::TextView zoneTexte;
};

#endif</code></pre><p id="r-398779" data-claire-element-id="398779">Il n'y a pratiquement rien de nouveau pour vous dans ce fichier ; vous n'avez alors pas besoin de mes explications.</p><aside id="r-398781" data-claire-element-id="398781" data-claire-semantic="information"><p id="r-398780" data-claire-element-id="398780">Un objet de type <code data-claire-semantic="cpp">Gtk::TextView</code> est une zone de texte multiligne.</p></aside><p id="r-398782" data-claire-element-id="398782">Dans cet exemple, je ne vais que vous écrire la méthode pour ouvrir un fichier.</p><p id="r-398783" data-claire-element-id="398783">Vous devrez écrire les deux autres dans le prochain TP (celle pour enregistrer un fichier et celle pour ouvrir plusieurs fichiers).</p><h6 id="r-fenetre-cpp-5" data-claire-element-id="398818">Fenetre.cpp</h6><p id="r-398785" data-claire-element-id="398785">Comme ce fichier comporte plus de 100 lignes, je vais vous le donner méthode par méthode.</p><p id="r-398786" data-claire-element-id="398786">Commençons par le début :</p><pre id="r-398787" data-claire-element-id="398787"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boutonEnregistrer(Gtk::Stock::SAVE), boutonOuvrir(Gtk::Stock::OPEN), boutonOuvrirFichiers(&quot;Ouverture de fichiers&quot;) {
    //Configurer la fenêtre.
    set_position(Gtk::WIN_POS_CENTER);
    set_default_size(480, 360);
    add(boiteV);
    
    //Empêcher les boutons d'avoir le focus.
    boutonOuvrir.set_can_focus(false);
    boutonOuvrirFichiers.set_can_focus(false);
    boutonEnregistrer.set_can_focus(false);
    
    //Configurer les barres de défilement.
    barresDeDefilement.set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
    barresDeDefilement.add(zoneTexte);
    
    //Ajout de widgets dans les boîtes.
    boiteV.pack_start(barresDeDefilement);
    boiteV.pack_start(boiteH, Gtk::PACK_SHRINK);
    
    boiteH.pack_start(boutonOuvrir);
    boiteH.pack_start(boutonOuvrirFichiers);
    boiteH.pack_start(boutonEnregistrer);
    
    //Connexion des signaux aux fonctions de rappel.
    boutonOuvrir.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueOuvrirFichier));
    boutonOuvrirFichiers.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueOuvrirFichiers));
    boutonEnregistrer.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueEnregistrerFichier));
    
    show_all();
}</code></pre><p id="r-398788" data-claire-element-id="398788">Dans la liste d'initialisation, nous créons les boutons à partir de <em>Stock Item</em> ou de <code data-claire-semantic="cpp">string</code>.</p><p id="r-398789" data-claire-element-id="398789">Ensuite, nous ajoutons les widgets dans la fenêtre ; vous devriez bien comprendre.<br/> Enfin, nous connectons le signal <code data-claire-semantic="cpp">clicked()</code> de chaque bouton à une fonction de rappel perso.</p><p id="r-398790" data-claire-element-id="398790">Voici la prochaine méthode :</p><pre id="r-398791" data-claire-element-id="398791"><code data-claire-semantic="cpp">void Fenetre::dialogueOuvrirFichier() {
    //Création d'une boîte de dialogue d'ouverture de fichier.
    Gtk::FileChooserDialog dialogue(*this, &quot;Ouverture d'un fichier&quot;);
    
    //Ajout de filtres.
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreFichierTexte = Gtk::FileFilter::create(); //Création du filtre.
    filtreFichierTexte-&gt;set_name(&quot;Fichiers textes&quot;); //Lui donner un nom.
    filtreFichierTexte-&gt;add_mime_type(&quot;text/plain&quot;); //Ajouter un type MIME.
    dialogue.add_filter(filtreFichierTexte); //Ajouter le filtre au dialogue.
    
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreFichierCCPP = Gtk::FileFilter::create();
    filtreFichierCCPP-&gt;set_name(&quot;Fichiers C/C++&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c++&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c-header&quot;);
    dialogue.add_filter(filtreFichierCCPP);
    
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreTout = Gtk::FileFilter::create();
    filtreTout-&gt;set_name(&quot;Tous les fichiers&quot;);
    filtreTout-&gt;add_pattern(&quot;*&quot;); //Ajout d'une expression.
    dialogue.add_filter(filtreTout);
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::OPEN, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    if(resultat == Gtk::RESPONSE_OK) {
        //Obtenir le nom du fichier.
        std::string nomFichier = dialogue.get_filename();
        ouvrirFichier(nomFichier);
    }
}</code></pre><p id="r-398792" data-claire-element-id="398792">Cette méthode affiche une boîte de dialogue d'ouverture de fichier.</p><p id="r-398793" data-claire-element-id="398793">Premièrement, nous créons la boîte de dialogue.<br/> Deuxièmement, nous créons des filtres pour les fichiers texte, les fichiers C/C++ et un pour tous les fichiers.<br/> Puis, nous ajoutons des boutons et, si l'utilisateur clique sur Ouvrir, nous ouvrons le fichier avec une méthode que nous verrons plus bas.</p><p id="r-398794" data-claire-element-id="398794">Voici la prochaine méthode :</p><pre id="r-398795" data-claire-element-id="398795"><code data-claire-semantic="cpp">void Fenetre::dialogueOuvrirFichiers() {
    //Création d'une boîte de dialogue d'ouverture de fichiers.
    Gtk::FileChooserDialog dialogue(*this, &quot;Ouverture de fichiers&quot;);
    
    //Permettre à l'utilisateur de sélectionner plusieurs fichiers.
    dialogue.set_select_multiple();
    dialogue.set_show_hidden(); //Afficher les fichiers cachés.
    //Se rendre au dossier personnel de l'utilisateur
    dialogue.set_current_folder(Glib::get_home_dir());
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::OPEN, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    //Affichage de la liste des fichiers sélectionnés.
    if(resultat == Gtk::RESPONSE_OK) {
        std::vector&lt;std::string&gt; liste(dialogue.get_filenames());
        std::string texte;
        
        for(std::vector&lt;std::string&gt;::iterator it(liste.begin()) ; it != liste.end() ; ++it) {
            texte += *it + &quot;\n&quot;;
        }
        
        dialogue.hide();
        
        Gtk::MessageDialog dialog(*this, &quot;Voici les fichiers sélectionnés :&quot;);
        dialog.set_secondary_text(texte);
        dialog.run();
    }
}</code></pre><p id="r-398796" data-claire-element-id="398796">Cette méthode n'ouvre pas plusieurs fichiers ; elle ne fait qu'afficher la liste des fichiers sélectionnés par l'utilisateur dans une boîte de dialogue de message.</p><p id="r-398797" data-claire-element-id="398797">Au début, nous créons la boîte de dialogue.<br/> Ensuite, nous la configurons un peu.</p><p id="r-398798" data-claire-element-id="398798">N'oubliez pas que <code data-claire-semantic="cpp">Glib::get_home_dir()</code> retourne le dossier personnel de l'utilisateur.</p><p id="r-398799" data-claire-element-id="398799">Puis, nous ajoutons les mêmes boutons que précédemment.</p><p id="r-398800" data-claire-element-id="398800">Si l'utilisateur clique sur Ouvrir, nous créons une liste des fichiers sélectionnés.</p><p id="r-398801" data-claire-element-id="398801">À partir de cette liste, nous créons la variable <code data-claire-semantic="cpp">texte</code> et nous l'affichons dans une boîte de message.</p><p id="r-398802" data-claire-element-id="398802">Voici la prochaine méthode :</p><pre id="r-398803" data-claire-element-id="398803"><code data-claire-semantic="cpp">void Fenetre::dialogueEnregistrerFichier() {
    //Création d'une boîte de dialogue de sauvegarde de fichier.
    Gtk::FileChooserDialog dialogue(*this, &quot;Sauvegarde d'un fichier&quot;, Gtk::FILE_CHOOSER_ACTION_SAVE);
    
    //Demande de confirmation lors du remplacement d'un fichier existant.
    dialogue.set_do_overwrite_confirmation();
    //Permettre la création de dossiers.
    dialogue.set_create_folders();
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::SAVE, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    if(resultat == Gtk::RESPONSE_OK) {
        Gtk::MessageDialog dialog(*this, &quot;Sauvegarde du fichier réussie&quot;);
        dialog.run();
    }
}</code></pre><p id="r-398804" data-claire-element-id="398804">Encore une fois, cette méthode n'enregistre pas un fichier :-° ; elle affiche simplement un message à l'utilisateur lorsque celui-ci clique sur Enregistrer.</p><p id="r-398805" data-claire-element-id="398805">Après avoir créé la boîte de dialogue, nous la modifions un peu.</p><p id="r-398806" data-claire-element-id="398806">Ensuite, nous ajoutons les boutons et affichons un message si l'utilisateur clique sur Enregistrer.</p><p id="r-398807" data-claire-element-id="398807">Voici la dernière méthode (celle-ci fait vraiment quelque chose :lol: ) :</p><pre id="r-398808" data-claire-element-id="398808"><code data-claire-semantic="cpp">void Fenetre::ouvrirFichier(std::string nomFichier) {
    std::ifstream fichier(nomFichier.c_str(), std::ios::in);
    
    std::string texte, ligne;
    if(fichier) {
        
        while(getline(fichier, ligne)) {
            texte += ligne + &quot;\n&quot;;
        }
        
        fichier.close();
    }
    else {
        Gtk::MessageDialog dialogue(*this, &quot;Erreur lors de l'ouverture du fichier &quot; + nomFichier + &quot;.&quot;, false, Gtk::MESSAGE_INFO);
        dialogue.run();
    }
    
    //Obtenir le buffer de la zone de texte.
    Glib::RefPtr&lt;Gtk::TextBuffer&gt; buffer = zoneTexte.get_buffer();
    buffer-&gt;set_text(texte); //Modifier le texte du buffer.
}</code></pre><p id="r-398809" data-claire-element-id="398809">Nous ouvrons le fichier et mettons son contenu dans la variable <code data-claire-semantic="cpp">texte</code>.<br/> Enfin, nous modifions la zone de texte pour y afficher le texte (cette partie du code sera expliquée dans le prochain chapitre).</p><p id="r-398810" data-claire-element-id="398810">Voici le fichier au complet :</p><pre id="r-398811" data-claire-element-id="398811"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boutonEnregistrer(Gtk::Stock::SAVE), boutonOuvrir(Gtk::Stock::OPEN), boutonOuvrirFichiers(&quot;Ouverture de fichiers&quot;) {
    //Configurer la fenêtre.
    set_position(Gtk::WIN_POS_CENTER);
    set_default_size(480, 360);
    add(boiteV);
    
    //Empêcher les boutons d'avoir le focus.
    boutonOuvrir.set_can_focus(false);
    boutonOuvrirFichiers.set_can_focus(false);
    boutonEnregistrer.set_can_focus(false);
    
    //Configurer les barres de défilement.
    barresDeDefilement.set_policy(Gtk::POLICY_AUTOMATIC, Gtk::POLICY_AUTOMATIC);
    barresDeDefilement.add(zoneTexte);
    
    //Ajout de widgets dans les boîtes.
    boiteV.pack_start(barresDeDefilement);
    boiteV.pack_start(boiteH, Gtk::PACK_SHRINK);
    
    boiteH.pack_start(boutonOuvrir);
    boiteH.pack_start(boutonOuvrirFichiers);
    boiteH.pack_start(boutonEnregistrer);
    
    //Connexion des signaux aux fonctions de rappel.
    boutonOuvrir.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueOuvrirFichier));
    boutonOuvrirFichiers.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueOuvrirFichiers));
    boutonEnregistrer.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::dialogueEnregistrerFichier));
    
    show_all();
}

void Fenetre::dialogueOuvrirFichier() {
    //Création d'une boîte de dialogue d'ouverture de fichier.
    Gtk::FileChooserDialog dialogue(*this, &quot;Ouverture d'un fichier&quot;);
    
    //Ajout de filtres.
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreFichierTexte = Gtk::FileFilter::create(); //Création du filtre.
    filtreFichierTexte-&gt;set_name(&quot;Fichiers textes&quot;); //Lui donner un nom.
    filtreFichierTexte-&gt;add_mime_type(&quot;text/plain&quot;); //Ajouter un type MIME.
    dialogue.add_filter(filtreFichierTexte); //Ajouter le filtre au dialogue.
    
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreFichierCCPP = Gtk::FileFilter::create();
    filtreFichierCCPP-&gt;set_name(&quot;Fichiers C/C++&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c++&quot;);
    filtreFichierCCPP-&gt;add_mime_type(&quot;text/x-c-header&quot;);
    dialogue.add_filter(filtreFichierCCPP);
    
    Glib::RefPtr&lt;Gtk::FileFilter&gt; filtreTout = Gtk::FileFilter::create();
    filtreTout-&gt;set_name(&quot;Tous les fichiers&quot;);
    filtreTout-&gt;add_pattern(&quot;*&quot;); //Ajout d'une expression.
    dialogue.add_filter(filtreTout);
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::OPEN, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    if(resultat == Gtk::RESPONSE_OK) {
        //Obtenir le nom du fichier.
        std::string nomFichier = dialogue.get_filename();
        ouvrirFichier(nomFichier);
    }
}

void Fenetre::dialogueOuvrirFichiers() {
    //Création d'une boîte de dialogue d'ouverture de fichiers.
    Gtk::FileChooserDialog dialogue(*this, &quot;Ouverture de fichiers&quot;);
    
    //Permettre à l'utilisateur de sélectionner plusieurs fichiers.
    dialogue.set_select_multiple();
    dialogue.set_show_hidden(); //Afficher les fichiers cachés.
    //Se rendre au dossier personnel de l'utilisateur
    dialogue.set_current_folder(Glib::get_home_dir());
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::OPEN, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    //Affichage de la liste des fichiers sélectionnés.
    if(resultat == Gtk::RESPONSE_OK) {
        std::vector&lt;std::string&gt; liste(dialogue.get_filenames());
        std::string texte;
        
        for(std::vector&lt;std::string&gt;::iterator it(liste.begin()) ; it != liste.end() ; ++it) {
            texte += *it + &quot;\n&quot;;
        }
        
        dialogue.hide();
        
        Gtk::MessageDialog dialog(*this, &quot;Voici les fichiers sélectionnés :&quot;);
        dialog.set_secondary_text(texte);
        dialog.run();
    }
}

void Fenetre::dialogueEnregistrerFichier() {
    //Création d'une boîte de dialogue de sauvegarde de fichier.
    Gtk::FileChooserDialog dialogue(*this, &quot;Sauvegarde d'un fichier&quot;, Gtk::FILE_CHOOSER_ACTION_SAVE);
    
    //Demande de confirmation lors du remplacement d'un fichier existant.
    dialogue.set_do_overwrite_confirmation();
    //Permettre la création de dossiers.
    dialogue.set_create_folders();
    
    //Ajout de boutons.
    dialogue.add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    dialogue.add_button(Gtk::Stock::SAVE, Gtk::RESPONSE_OK);
    
    int resultat = dialogue.run();
    
    if(resultat == Gtk::RESPONSE_OK) {
        Gtk::MessageDialog dialog(*this, &quot;Sauvegarde du fichier réussie&quot;);
        dialog.run();
    }
}

void Fenetre::ouvrirFichier(std::string nomFichier) {
    std::ifstream fichier(nomFichier.c_str(), std::ios::in);
    
    std::string texte, ligne;
    if(fichier) {
        
        while(getline(fichier, ligne)) {
            texte += ligne + &quot;\n&quot;;
        }
        
        fichier.close();
    }
    else {
        Gtk::MessageDialog dialogue(*this, &quot;Erreur lors de l'ouverture du fichier &quot; + nomFichier + &quot;.&quot;, false, Gtk::MESSAGE_INFO);
        dialogue.run();
    }
    
    //Obtenir le buffer de la zone de texte.
    Glib::RefPtr&lt;Gtk::TextBuffer&gt; buffer = zoneTexte.get_buffer();
    buffer-&gt;set_text(texte); //Modifier le texte du buffer.
}</code></pre><p id="r-398812" data-claire-element-id="398812">Ça en fait des lignes. o_O</p><p id="r-398813" data-claire-element-id="398813">Voici le résultat :</p><figure id="r-398815" data-claire-element-id="398816"><img id="r-398814" data-claire-element-id="398814" src="medias/uploads.siteduzero.com_files_245001_246000_245079.png" alt="Image utilisateur"/></figure><p id="r-398817" data-claire-element-id="398817">Un fichier que nous n'avez jamais vu. :lol:</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de police</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
<span class="next">La boîte de dialogue À propos</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Labotededialoguepropos"></a><h2>La boîte de dialogue À propos</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de fichier(s)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
<span class="next">Boîte de dialogue personnalisée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-boite-de-dialogue-a-propos" data-claire-element-id="398868">La boîte de dialogue À propos</h4><p id="r-398821" data-claire-element-id="398821">La boîte de dialogue À propos affiche des informations sur le programme tels son nom, son logo, son site web, ...</p><h5 id="r-creation-18" data-claire-element-id="398826">Création</h5><p id="r-398822" data-claire-element-id="398822">Le constructeur ne prend aucun paramètre :</p><pre id="r-398823" data-claire-element-id="398823"><code data-claire-semantic="cpp">Gtk::AboutDialog dialogue;</code></pre><p id="r-398824" data-claire-element-id="398824">N'oubliez pas de l'inclure :</p><pre id="r-398825" data-claire-element-id="398825"><code data-claire-semantic="cpp">#include &lt;gtkmm/aboutdialog.h&gt;</code></pre><h5 id="r-methodes-27" data-claire-element-id="398867">Méthodes</h5><p id="r-398827" data-claire-element-id="398827">Pour afficher des informations sur cette boîte, nous allons exclusivement appeler des méthodes de la classe <code data-claire-semantic="cpp">Gtk::AboutDialog</code>.</p><h6 id="r-le-nom-du-programme" data-claire-element-id="398829">Le nom du programme</h6><pre id="r-398828" data-claire-element-id="398828"><code data-claire-semantic="cpp">dialogue.set_program_name(&quot;gtkmm&quot;);</code></pre><h6 id="r-la-version-du-programme" data-claire-element-id="398831">La version du programme</h6><pre id="r-398830" data-claire-element-id="398830"><code data-claire-semantic="cpp">dialogue.set_version(&quot;0.1&quot;);</code></pre><h6 id="r-le-copyright-du-programme" data-claire-element-id="398833">Le copyright du programme</h6><pre id="r-398832" data-claire-element-id="398832"><code data-claire-semantic="cpp">dialogue.set_copyright(&quot;© 2010&quot;);</code></pre><h6 id="r-des-commentaires" data-claire-element-id="398836">Des commentaires</h6><pre id="r-398834" data-claire-element-id="398834"><code data-claire-semantic="cpp">dialogue.set_comments(&quot;Gtkmm est une surcouche de la bibliothèque GTK+ !&quot;);</code></pre><p id="r-398835" data-claire-element-id="398835">C'est le texte qui sera affiché pour décrire brièvement le programme.</p><h6 id="r-la-licence" data-claire-element-id="398839">La licence</h6><pre id="r-398837" data-claire-element-id="398837"><code data-claire-semantic="cpp">dialogue.set_license(&quot;GNU/GPL&quot;);</code></pre><p id="r-398838" data-claire-element-id="398838">Bien sûr, il faut mettre la licence, pas son nom. :D</p><h6 id="r-le-site-web-1" data-claire-element-id="398841">Le site Web</h6><pre id="r-398840" data-claire-element-id="398840"><code data-claire-semantic="cpp">dialogue.set_website(&quot;http://www.gtkmm.org/&quot;);</code></pre><h6 id="r-le-texte-remplacant-l-adresse-du-site-web" data-claire-element-id="398844">Le texte remplaçant l'adresse du site Web</h6><pre id="r-398842" data-claire-element-id="398842"><code data-claire-semantic="cpp">dialogue.set_website_label(&quot;gtkmm&quot;);</code></pre><p id="r-398843" data-claire-element-id="398843">Sur le bouton, il sera affiché &quot;gtkmm&quot; à la place de &quot;http://www.gtkmm.org/&quot;.<br/> En passant, c'est un site à mettre dans ses favoris. :D</p><h6 id="r-le-logo-5" data-claire-element-id="398847">Le logo</h6><pre id="r-398845" data-claire-element-id="398845"><code data-claire-semantic="cpp">dialogue.set_logo(Gdk::Pixbuf::create_from_file(&quot;gtk.png&quot;));</code></pre><p id="r-398846" data-claire-element-id="398846">Nous devons donner un <code data-claire-semantic="cpp">Gdk::Pixbuf</code> à la méthode <code data-claire-semantic="cpp">set_logo()</code>.</p><h6 id="r-les-auteurs-du-programme" data-claire-element-id="398853">Les auteurs du programme</h6><pre id="r-398848" data-claire-element-id="398848"><code data-claire-semantic="cpp">std::vector&lt;Glib::ustring&gt; listeAuteurs;
listeAuteurs.push_back(&quot;antoyo&quot;);
dialogue.set_authors(listeAuteurs);</code></pre><p id="r-398849" data-claire-element-id="398849">Premièrement, nous créons un <code data-claire-semantic="cpp">std::vector</code> de <code data-claire-semantic="cpp">Glib::ustring</code>.</p><aside id="r-398851" data-claire-element-id="398851" data-claire-semantic="information"><p id="r-398850" data-claire-element-id="398850"><code data-claire-semantic="cpp">Glib::ustring</code> ressemble beaucoup à <code data-claire-semantic="cpp">std::string</code>, mais fait la gestion de l’Unicode.</p></aside><p id="r-398852" data-claire-element-id="398852">Puis, nous ajoutons un auteur à la liste avec <code data-claire-semantic="cpp">push_back()</code>.<br/> Enfin, nous ajoutons les auteurs à la boîte de dialogue avec set_authors.</p><h6 id="r-les-documentateurs" data-claire-element-id="398856">Les documentateurs</h6><pre id="r-398854" data-claire-element-id="398854"><code data-claire-semantic="cpp">dialogue.set_documenters(listeDocumentateurs);</code></pre><p id="r-398855" data-claire-element-id="398855">Encore une fois, nous devons donner un <code data-claire-semantic="cpp">std::vector</code> de <code data-claire-semantic="cpp">Glib::ustring</code>.</p><h6 id="r-les-graphistes" data-claire-element-id="398866">Les graphistes</h6><pre id="r-398857" data-claire-element-id="398857"><code data-claire-semantic="cpp">dialogue.set_artists(listeGraphistes);</code></pre><pre id="r-398858" data-claire-element-id="398858"><code data-claire-semantic="cpp">listeGraphistes</code></pre><p id="r-398859" data-claire-element-id="398859">est également un <code data-claire-semantic="cpp">std::vector</code> de <code data-claire-semantic="cpp">Glib::ustring</code>.</p><p id="r-398860" data-claire-element-id="398860">Il ne faut surtout pas oublier d’appeler la méthode suivante pour afficher la fenêtre :</p><pre id="r-398861" data-claire-element-id="398861"><code data-claire-semantic="cpp">dialogue.run();</code></pre><p id="r-398862" data-claire-element-id="398862">Donc, il suffit d'appeler des méthodes pour remplir cette boîte de dialogue :</p><figure id="r-398864" data-claire-element-id="398865"><img id="r-398863" data-claire-element-id="398863" src="medias/uploads.siteduzero.com_files_245001_246000_245072.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
<span class="arrow"></span>
<span class="next">Boîte de dialogue de sélection de fichier(s)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
<span class="next">Boîte de dialogue personnalisée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Botededialoguepersonnalise"></a><h2>Boîte de dialogue personnalisée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
<span class="arrow"></span>
<span class="next">La boîte de dialogue À propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">
<span class="next">Les principaux widgets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-boite-de-dialogue-personnalisee" data-claire-element-id="398914">Boîte de dialogue personnalisée</h4><p id="r-398869" data-claire-element-id="398869">Dans cette sous-partie, nous allons créer notre propre boîte de dialogue.</p><p id="r-398870" data-claire-element-id="398870">Celle-ci contiendra une étiquette et une zone de texte et une méthode retournera son contenu.</p><h5 id="r-creation-19" data-claire-element-id="398913">Création</h5><p id="r-398871" data-claire-element-id="398871">Nous allons nous créer une classe <code data-claire-semantic="cpp">Dialogue</code> (panne d'inspiration :p ) pour notre boîte de dialogue personnalisée.</p><p id="r-398872" data-claire-element-id="398872">Voici le fichier Dialogue.hpp :</p><pre id="r-398873" data-claire-element-id="398873"><code data-claire-semantic="cpp">#ifndef DEF_DIALOGUE
#define DEF_DIALOGUE

#include &lt;string&gt;

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/dialog.h&gt;
#include &lt;gtkmm/entry.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Dialogue : public Gtk::Dialog {
    public :
        Dialogue(std::string titre, Gtk::Window* parent, std::string message);
        std::string get_texte();
        void set_texte(std::string texte);
        
    private :
        Gtk::Box* boiteV;
        Gtk::Label etiquette;
        Gtk::Entry zoneTexte;
};

#endif</code></pre><p id="r-398874" data-claire-element-id="398874">Le constructeur demande le titre de la boîte de dialogue, son parent et un message qui sera le texte affiché sur la boîte de dialogue.</p><div id="r-398876" data-claire-element-id="398876" data-claire-semantic="question"><p id="r-398875" data-claire-element-id="398875">Nous avons vraiment besoin d'avoir tous ces paramètres ?</p></div><p id="r-398877" data-claire-element-id="398877">Non.<br/> Les deux premiers sont obligatoires étant donné que nous devons les transmettre au constructeur de <code data-claire-semantic="cpp">Gtk::Dialog</code>.</p><p id="r-398878" data-claire-element-id="398878">Nous avons deux méthodes : une pour modifier le texte de la zone de texte et une autre pour le récupérer.</p><p id="r-398879" data-claire-element-id="398879">Nous créons un pointeur sur <code data-claire-semantic="cpp">Gtk::Box</code>, car nous allons appeler la méthode <code data-claire-semantic="cpp">get_vbox()</code> de la boîte de dialogue qui retourne un pointeur sur <code data-claire-semantic="cpp">Gtk::Box</code> (bien que cette méthode ne retourne pas une <code data-claire-semantic="cpp">Gtk::VBox*</code>, il s’agit bien d’une boîte verticale).</p><p id="r-398880" data-claire-element-id="398880">Voici le fichier Dialogue.cpp :</p><pre id="r-398881" data-claire-element-id="398881"><code data-claire-semantic="cpp">#include &quot;Dialogue.hpp&quot;

Dialogue::Dialogue(std::string titre, Gtk::Window* parent, std::string message) : Gtk::Dialog(titre, *parent), boiteV(get_vbox()), etiquette(message) { //Récupération de la boîte verticale avec get_vbox().
    boiteV-&gt;pack_start(etiquette);
    boiteV-&gt;pack_start(zoneTexte);

    //Ajout de boutons à la boîte de dialogue.
    add_button(Gtk::Stock::CANCEL, Gtk::RESPONSE_CANCEL);
    add_button(Gtk::Stock::OK, Gtk::RESPONSE_OK);

    show_all();
}

std::string Dialogue::get_texte() {
    return zoneTexte.get_text();
}

void Dialogue::set_texte(std::string texte) {
    zoneTexte.set_text(texte);
}</code></pre><p id="r-398882" data-claire-element-id="398882">Dans la liste d'initialisation, nous appelons le constructeur de la classe <code data-claire-semantic="cpp">Gtk::Dialog</code> ; nous lui transmettons le titre et le parent.</p><p id="r-398883" data-claire-element-id="398883">Ensuite, toujours dans la liste d'initialisation, nous modifions le texte de l'étiquette en fonction du paramètre transmis par le programmeur et récupérons la boîte verticale de la boîte de dialogue.</p><p id="r-398884" data-claire-element-id="398884">Puis, dans le constructeur, nous faisons des actions que vous connaissez bien :<br/> ajout de widgets à la boîte verticale et ajout de boutons à la boîte de dialogue.</p><p id="r-398885" data-claire-element-id="398885">Nous aurions pu transformer la boîte verticale en boîte horizontale avec cette instruction :</p><pre id="r-398886" data-claire-element-id="398886"><code data-claire-semantic="cpp">boiteV-&gt;set_orientation(Gtk::ORIENTATION_HORIZONTAL);</code></pre><aside id="r-398889" data-claire-element-id="398889" data-claire-semantic="information"><p id="r-398887" data-claire-element-id="398887">En gros, pour créer une boîte de dialogue personnalisée, vous n'avez qu'à créer une classe héritant de <code data-claire-semantic="cpp">Gtk::Dialog</code>, récupérer la boîte verticale et la remplir.</p><p id="r-398888" data-claire-element-id="398888">Après, libre à vous d'ajouter vos méthodes.</p></aside><p id="r-398890" data-claire-element-id="398890">La méthode suivante retourne le texte contenu dans la zone de texte.<br/> La dernière modifie le texte sur cette zone de texte.</p><p id="r-398891" data-claire-element-id="398891">Pour utiliser cette boîte de dialogue, nous pouvons créer notre classe Fenetre, dont voici les fichiers :</p><h6 id="r-fenetre-hpp-6" data-claire-element-id="398894">Fenetre.hpp</h6><pre id="r-398892" data-claire-element-id="398892"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/main.h&gt;

#include &quot;Dialogue.hpp&quot;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void afficherDialogue();
        
    private :
        Gtk::VBox boiteV;
        Gtk::Button bouton;
        Gtk::Label etiquette;
};

#endif</code></pre><p id="r-398893" data-claire-element-id="398893">Rien de spécial, à part que nous incluons notre fichier Dialogue.hpp.</p><h6 id="r-fenetre-cpp-6" data-claire-element-id="398899">Fenetre.cpp</h6><pre id="r-398895" data-claire-element-id="398895"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(&quot;Afficher le dialogue&quot;) {
    add(boiteV);
    
    bouton.set_can_focus(false);
    
    boiteV.pack_start(bouton);
    boiteV.pack_start(etiquette);
    
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::afficherDialogue));
    
    show_all();
}

void Fenetre::afficherDialogue() {
    //Création de la boîte de dialogue personnalisée.
    Dialogue dialogue(&quot;Boîte de dialogue personnalisée&quot;, this, &quot;Veuillez entrer du texte :&quot;);
    //Modifier le texte de la zone de texte par celui de l'étiquette.
    dialogue.set_texte(etiquette.get_text());
    
    int reponse = dialogue.run(); //Lancer la boîte de dialogue.
    
    if(reponse == Gtk::RESPONSE_OK) { //Si l'utilisateur clique sur Valider.
        //Modification du texte de l'étiquette par le texte de la zone de texte de la boîte de dialogue.
        etiquette.set_text(dialogue.get_texte());
    }
}</code></pre><p id="r-398896" data-claire-element-id="398896">Dans la fenêtre, il y a un bouton et une étiquette.</p><p id="r-398897" data-claire-element-id="398897">Le bouton affiche la boîte de dialogue et le texte de l'étiquette se modifie lorsque l'utilisateur appuie sur le bouton Valider de cette boîte de dialogue.</p><p id="r-398898" data-claire-element-id="398898">Si vous avez bien suivi ce chapitre et avec les commentaires, vous devriez bien comprendre ce fichier.</p><h6 id="r-main-cpp-9" data-claire-element-id="398912">main.cpp</h6><pre id="r-398900" data-claire-element-id="398900"><code data-claire-semantic="cpp">#include &lt;gtkmm/main.h&gt;

#include &quot;Fenetre.hpp&quot;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Fenetre fenetre;
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-398901" data-claire-element-id="398901">Nous créons notre fenêtre... :waw:</p><p id="r-398902" data-claire-element-id="398902">Voici le résultat :</p><figure id="r-398904" data-claire-element-id="398905"><img id="r-398903" data-claire-element-id="398903" src="medias/uploads.siteduzero.com_files_245001_246000_245449.png" alt="Image utilisateur"/></figure><p id="r-398906" data-claire-element-id="398906">Ça n'a pas l'air de ça, mais la boîte de dialogue est la fenêtre du bas. :-°</p><p id="r-398907" data-claire-element-id="398907">Donc, créer une boîte de dialogue personnalisée n'est pas vraiment plus dur que d’utiliser une autre boîte de dialogue.</p><p id="r-398908" data-claire-element-id="398908">Bref, vous avez appris à afficher des boîtes pour interagir avec l'utilisateur et vous savez maintenant créer vos propres boîtes de dialogue.</p><p id="r-398909" data-claire-element-id="398909">Pour vous entraîner à les utiliser, je vous recommande d'embellir un peu votre morpion que vous avez créé au chapitre précédent (je me trompe :euh: ?).</p><p id="r-398910" data-claire-element-id="398910">Je vous demande d'ajouter une boîte de dialogue de type information qui indiquera, à la fin de la partie, qui a gagné.<br/> Après que l'utilisateur l'ait fermé, je souhaite qu'une de type question s'affiche pour lui demander s'il souhaite jouer une nouvelle partie.<br/> S'il répond non, l'application doit se fermer.</p><p id="r-398911" data-claire-element-id="398911">Allez, au boulot :) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
<span class="arrow"></span>
<span class="next">La boîte de dialogue À propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">
<span class="next">Les principaux widgets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesprincipauxwidgets"></a><h2>Les principaux widgets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
<span class="arrow"></span>
<span class="next">Boîte de dialogue personnalisée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
<span class="next">Les différents boutons</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-398916" data-claire-element-id="398916">Pour pouvoir faire de jolies fenêtres, il faut connaître un minimum de <em>widgets</em>.</p><p id="r-398917" data-claire-element-id="398917">Le but de ce chapitre est de vous apprendre à en utiliser quelques uns, de telle sorte que vous pourrez vous débrouiller dans la plupart des cas.</p>
</div><a name="Lesdiffrentsboutons"></a><h2>Les différents boutons</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">
<span class="arrow"></span>
<span class="next">Les principaux widgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
<span class="next">Widgets d&#039;affichage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-differents-boutons" data-claire-element-id="399055">Les différents boutons</h4><p id="r-398918" data-claire-element-id="398918">Il existe différentes sortes de boutons.</p><p id="r-398919" data-claire-element-id="398919">C'est dans cette sous-partie que nous allons les découvrir.</p><h5 id="r-les-boutons-poussoir" data-claire-element-id="398982">Les boutons-poussoir</h5><p id="r-398920" data-claire-element-id="398920">Ce sont les seuls boutons que nous avons utilisés jusqu'à présent, donc vous les connaissez (ouf, moins d'explications pour moi :p ).</p><h6 id="r-rappels-7" data-claire-element-id="398941">Rappels</h6><p id="r-398921" data-claire-element-id="398921">Nous pouvons créer un bouton de plusieurs façons.</p><p id="r-398922" data-claire-element-id="398922">Ceci crée un bouton vide :</p><pre id="r-398923" data-claire-element-id="398923"><code data-claire-semantic="cpp">Gtk::Button bouton;</code></pre><p id="r-398924" data-claire-element-id="398924">(C'est parfois utile. :euh: )</p><p id="r-398925" data-claire-element-id="398925">Vous devez, bien entendu, inclure l'entête :</p><pre id="r-398926" data-claire-element-id="398926"><code data-claire-semantic="cpp">#include &lt;gtkmm/button.h&gt;</code></pre><p id="r-398927" data-claire-element-id="398927">Nous pouvons créer un bouton avec du texte :</p><pre id="r-398928" data-claire-element-id="398928"><code data-claire-semantic="cpp">Gtk::Button bouton(&quot;Mon bouton&quot;);</code></pre><p id="r-398929" data-claire-element-id="398929">Nous pouvons ajouter une mnémonique à ce bouton de la façon suivante :</p><pre id="r-398930" data-claire-element-id="398930"><code data-claire-semantic="cpp">Gtk::Button bouton(&quot;Mon _bouton&quot;, true);</code></pre><p id="r-398931" data-claire-element-id="398931">Dans ce cas, un clic sur <kbd>Alt-b</kbd> est équivalent à cliquer sur le bouton.</p><aside id="r-398933" data-claire-element-id="398933" data-claire-semantic="information"><p id="r-398932" data-claire-element-id="398932">La mnémonique est constituée de <kbd>Alt</kbd> + la lettre précédée d'un trait de soulignement (_).</p></aside><p id="r-398934" data-claire-element-id="398934">La dernière façon de créer un bouton est d'utiliser les <em>Stock Item</em> que vous connaissez bien (c'est le plus simple) :</p><pre id="r-398935" data-claire-element-id="398935"><code data-claire-semantic="cpp">Gtk::Button bouton(Gtk::Stock::OK);</code></pre><aside id="r-398937" data-claire-element-id="398937" data-claire-semantic="warning"><p id="r-398936" data-claire-element-id="398936">N'oubliez pas d'inclure <code data-claire-semantic="cpp">#include &lt;gtkmm/stock.h&gt;</code> pour pouvoir utiliser les <em>Stock Item</em>.</p></aside><p id="r-398938" data-claire-element-id="398938">Le seul signal que nous avons vu jusqu'à présent est le signal clicked() qui peut s'utiliser comme ceci :</p><pre id="r-398939" data-claire-element-id="398939"><code data-claire-semantic="cpp">bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::maFonctionDeRappel));</code></pre><p id="r-398940" data-claire-element-id="398940">ceci est une connexion à une fonction de rappel de la classe <code data-claire-semantic="cpp">Fenetre</code>.</p><h6 id="r-methodes-28" data-claire-element-id="398981">Méthodes</h6><p id="r-398942" data-claire-element-id="398942">Nous allons voir quelques méthodes qui pourront vous être utiles.</p><p id="r-398943" data-claire-element-id="398943">La méthode <code data-claire-semantic="cpp">set_label()</code> permet de modifier le texte du bouton :</p><pre id="r-398944" data-claire-element-id="398944"><code data-claire-semantic="cpp">bouton.set_label(&quot;Nouveau texte.&quot;);</code></pre><aside id="r-398946" data-claire-element-id="398946" data-claire-semantic="warning"><p id="r-398945" data-claire-element-id="398945">Si le bouton a été créé à partir d'un <em>Stock Item</em>, l'icône disparaîtra en même temps que le texte sera modifié.</p></aside><p id="r-398947" data-claire-element-id="398947">Nous pouvons obtenir le texte écrit sur le bouton avec <code data-claire-semantic="cpp">get_label()</code> :</p><pre id="r-398948" data-claire-element-id="398948"><code data-claire-semantic="cpp">std::string texte = bouton.get_label();</code></pre><aside id="r-398950" data-claire-element-id="398950" data-claire-semantic="error"><p id="r-398949" data-claire-element-id="398949">Faites attention en utilisant cette méthode !<br/> Si votre bouton a été créé à partir d'un Stock Item, le résultat n'est pas ce qui est écrit sur le bouton.<br/> Vous aurez un truc du genre <code data-claire-semantic="cpp">gtk-ok</code>.</p></aside><p id="r-398951" data-claire-element-id="398951">Je vais vous montrer deux autres méthodes.</p><p id="r-398952" data-claire-element-id="398952">La première est <code data-claire-semantic="cpp">set_relief()</code> qui permet de modifier l'apparence du bouton.</p><p id="r-398953" data-claire-element-id="398953">Cette méthode prend l'une des trois constantes suivantes :</p><ul id="r-398960" data-claire-element-id="398960"><li id="r-398955" data-claire-element-id="398955"><p id="r-398954" data-claire-element-id="398954">Gtk::RELIEF_NORMAL ;</p></li><li id="r-398957" data-claire-element-id="398957"><p id="r-398956" data-claire-element-id="398956">Gtk::RELIEF_HALF ;</p></li><li id="r-398959" data-claire-element-id="398959"><p id="r-398958" data-claire-element-id="398958">Gtk::RELIEF_NONE.</p></li></ul><p id="r-398961" data-claire-element-id="398961">Par exemple, voici un bouton sans relief (Gtk::RELIEF_NONE) :</p><figure id="r-398963" data-claire-element-id="398964"><img id="r-398962" data-claire-element-id="398962" src="medias/uploads.siteduzero.com_files_248001_249000_248095.png" alt="Image utilisateur"/></figure><p id="r-398965" data-claire-element-id="398965">Notez que le relief apparaît lorsque la souris est sur le bouton.</p><div id="r-398967" data-claire-element-id="398967" data-claire-semantic="question"><p id="r-398966" data-claire-element-id="398966">Comment se fait-il que l'image du bouton soit en bas du texte au lieu d'à sa gauche ?</p></div><p id="r-398968" data-claire-element-id="398968">C'est la dernière méthode que je souhaite vous montrer. ^^</p><p id="r-398969" data-claire-element-id="398969">La méthode <code data-claire-semantic="cpp">set_image_position()</code> prend l'une des constantes suivantes :</p><ul id="r-398978" data-claire-element-id="398978"><li id="r-398971" data-claire-element-id="398971"><p id="r-398970" data-claire-element-id="398970">Gtk::POS_LEFT (l'image se trouve à gauche du texte) ;</p></li><li id="r-398973" data-claire-element-id="398973"><p id="r-398972" data-claire-element-id="398972">Gtk::POS_RIGHT (à droite du texte) ;</p></li><li id="r-398975" data-claire-element-id="398975"><p id="r-398974" data-claire-element-id="398974">Gtk::POS_TOP (en haut du texte) ;</p></li><li id="r-398977" data-claire-element-id="398977"><p id="r-398976" data-claire-element-id="398976">Gtk::POS_BOTTOM (en bas du texte).</p></li></ul><aside id="r-398980" data-claire-element-id="398980" data-claire-semantic="warning"><p id="r-398979" data-claire-element-id="398979">Je ne compte pas tout vous apprendre sur les boutons (ni sur les autres <em>widgets</em> d'ailleurs), donc si vous voulez en savoir plus, allez dans la documentation de <a href="http://library.gnome.org/devel/gtkmm/unstable/classGtk_1_1Button.html">Gtk::Button</a>.</p></aside><h5 id="r-les-cases-a-cocher-4" data-claire-element-id="399033">Les cases à cocher</h5><p id="r-398983" data-claire-element-id="398983">Les cases à cocher sont des boutons à deux états : activé (coché) et désactivé (décoché).</p><h6 id="r-constructeur-10" data-claire-element-id="398993">Constructeur</h6><p id="r-398984" data-claire-element-id="398984">Avant tout, vous devez inclure l'entête :</p><pre id="r-398985" data-claire-element-id="398985"><code data-claire-semantic="cpp">#include &lt;gtkmm/checkbutton.h&gt;</code></pre><p id="r-398986" data-claire-element-id="398986">Il suffit de créer une instance de <code data-claire-semantic="cpp">Gtk::CheckButton</code> :</p><pre id="r-398987" data-claire-element-id="398987"><code data-claire-semantic="cpp">Gtk::CheckButton caseCocher;</code></pre><p id="r-398988" data-claire-element-id="398988">Il est possible d'en créer d'une autre façon, par exemple en ajoutant un texte (à ajouter dans la liste d'initialisation) :</p><pre id="r-398989" data-claire-element-id="398989"><code data-claire-semantic="cpp">caseCocher(&quot;Afficher le titre&quot;)</code></pre><p id="r-398990" data-claire-element-id="398990">Ou encore en utilisant une mnémonique :</p><pre id="r-398991" data-claire-element-id="398991"><code data-claire-semantic="cpp">caseCocher(&quot;Afficher le _titre&quot;, true)</code></pre><p id="r-398992" data-claire-element-id="398992">Lorsque l'utilisateur appuiera sur Alt-t, la case s'activera ou se désactivera selon les cas.</p><h6 id="r-methodes-29" data-claire-element-id="399014">Méthodes</h6><p id="r-398994" data-claire-element-id="398994">Comme la case à cocher dérive du bouton-poussoir, il est possible d'utiliser les méthodes de ce dernier, par exemple :</p><pre id="r-398995" data-claire-element-id="398995"><code data-claire-semantic="cpp">caseCocher.set_can_focus(false);</code></pre><p id="r-398996" data-claire-element-id="398996">pour enlever le contour désagréable autour du texte de la case à cocher :</p><figure id="r-398998" data-claire-element-id="398999"><img id="r-398997" data-claire-element-id="398997" src="medias/uploads.siteduzero.com_files_249001_250000_249405.png" alt="Image utilisateur"/></figure><p id="r-399000" data-claire-element-id="399000">devient ceci :</p><figure id="r-399002" data-claire-element-id="399003"><img id="r-399001" data-claire-element-id="399001" src="medias/uploads.siteduzero.com_files_249001_250000_249407.png" alt="Image utilisateur"/></figure><p id="r-399004" data-claire-element-id="399004">Mais, ça, vous le savez déjà, donc je ne vais pas m'attarder dessus.</p><p id="r-399005" data-claire-element-id="399005">Voyons de nouvelles méthodes spécifiques aux cases à cocher et au bouton radio (que nous verrons plus loin dans cette sous-partie).</p><p id="r-399006" data-claire-element-id="399006">Pour activer (cocher) un case à cocher, appelez la méthode <code data-claire-semantic="cpp">set_active()</code> :</p><pre id="r-399007" data-claire-element-id="399007"><code data-claire-semantic="cpp">caseCocher.set_active();</code></pre><p id="r-399008" data-claire-element-id="399008">Pour la désactiver (décocher), il faut appelez cette même méthode en lui passant comme seul paramètre <code data-claire-semantic="cpp">false</code> :</p><pre id="r-399009" data-claire-element-id="399009"><code data-claire-semantic="cpp">caseCocher.set_active(false);</code></pre><aside id="r-399011" data-claire-element-id="399011" data-claire-semantic="information"><p id="r-399010" data-claire-element-id="399010">Bien souvent, je vous montre des méthodes qui ne semblent pas prendre de paramètre.<br/> Comme vous pouvez le constater ici, <em>gtkmm</em> utilise les paramètres par défaut ce qui nous permet de ne pas écrire certains paramètres qui reviennent souvent.</p></aside><p id="r-399012" data-claire-element-id="399012">De même, il est possible de savoir si une case est coché ou non avec get_active() :</p><pre id="r-399013" data-claire-element-id="399013"><code data-claire-semantic="cpp">if(caseCocher.get_active()) {
    //La case est cochée.
}
else {
    //La case n'est pas cochée.
}</code></pre><h6 id="r-signal-1" data-claire-element-id="399023">Signal</h6><p id="r-399015" data-claire-element-id="399015">Nous allons voir notre deuxième signal.</p><p id="r-399016" data-claire-element-id="399016">C'est le signal <code data-claire-semantic="cpp">toggled()</code>.<br/> Ce signal est émis lorsque l'état (activé ou désactivé) de la case à cocher est modifié.</p><p id="r-399017" data-claire-element-id="399017">Ce signal peut donc être émis de deux façons différentes :</p><ul id="r-399022" data-claire-element-id="399022"><li id="r-399019" data-claire-element-id="399019"><p id="r-399018" data-claire-element-id="399018">Lorsque l'utilisateur clique sur le bouton (bien sûr :p ) ;</p></li><li id="r-399021" data-claire-element-id="399021"><p id="r-399020" data-claire-element-id="399020">Mais aussi lorsque nous modifions l'état avec <code data-claire-semantic="cpp">set_active()</code> ;</p></li></ul><h6 id="r-exemple-107" data-claire-element-id="399032">Exemple</h6><p id="r-399024" data-claire-element-id="399024">Passons à un exemple pour mieux comprendre comme fonctionne la case à cocher.</p><p id="r-399025" data-claire-element-id="399025"><strong>Fichier Fenetre.hpp</strong></p><pre id="r-399026" data-claire-element-id="399026"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/checkbutton.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
    
    protected :
        void afficherTitre();
        
        Gtk::CheckButton caseCocher;
};

#endif</code></pre><p id="r-399027" data-claire-element-id="399027">Ici, il n'y a rien de bien compliqué.<br/> Nous créons notre case à cocher.</p><p id="r-399028" data-claire-element-id="399028"><strong>Fichier Fenetre.cpp</strong></p><pre id="r-399029" data-claire-element-id="399029"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : caseCocher(&quot;Afficher le _titre&quot;, true) {
    set_border_width(10);
    set_title(&quot;Bouton à cocher&quot;);
    
    caseCocher.set_can_focus(false);
    
    //Lorsque l'utilisateur clique sur la case à cocher, appeler la fonction de rappel afficherTitre.
    caseCocher.signal_toggled().connect(sigc::mem_fun(*this, &amp;Fenetre::afficherTitre));
    caseCocher.set_active(); //Activer la case à cocher.
    
    add(caseCocher);
    
    caseCocher.show();
}

void Fenetre::afficherTitre() {
    if(caseCocher.get_active()) { //Si la case est cochée.
        set_title(&quot;Bouton à cocher&quot;);
    }
    else { //Si elle n'est pas cochée.
        set_title(&quot;&quot;);
    }
}</code></pre><p id="r-399030" data-claire-element-id="399030">Premièrement, dans la liste d'initialisation, nous initialisons notre bouton avec un texte et une mnémonique.<br/> Ensuite, nous modifions un peu la fenêtre et la case à cocher.<br/> Nous connectons le signal <code data-claire-semantic="cpp">toggled()</code> de la case à cocher à notre fonction de rappel <code data-claire-semantic="cpp">afficherTitre()</code> et nous activons le bouton.</p><p id="r-399031" data-claire-element-id="399031">Cette fonction affichera le titre si la case est coché et le cachera si elle ne l'est pas.</p><h5 id="r-les-boutons-radio-2" data-claire-element-id="399054">Les boutons radio</h5><p id="r-399034" data-claire-element-id="399034">Les boutons radio fonctionnent de la même manière que les cases à cocher, à une exception près :<br/> Les boutons radio fonctionnent par groupe.</p><p id="r-399035" data-claire-element-id="399035">C'est-à-dire que si l'utilisateur (ou le programme) active un bouton radio d'un groupe, tous les autres de ce même groupe se désactiveront.</p><p id="r-399036" data-claire-element-id="399036">Donc, la seule chose qu'il faut faire de plus pour utiliser ce bouton est de lui donner un groupe (<code data-claire-semantic="cpp">Gtk::RadioButtonGroup</code>).</p><h6 id="r-utilisation-50" data-claire-element-id="399053">Utilisation</h6><p id="r-399037" data-claire-element-id="399037">Dans notre fichier Fenetre.hpp, section private, nous devons créer notre groupe et nos boutons radio :</p><pre id="r-399038" data-claire-element-id="399038"><code data-claire-semantic="cpp">#include &lt;gtkmm/radiobutton.h&gt;
//...
private :
    Gtk::RadioButtonGroup groupe; //Création d'un groupe.
    Gtk::RadioButton boutonRadio1, boutonRadio2, boutonRadio3; //Création de boutons radio.</code></pre><p id="r-399039" data-claire-element-id="399039">La liste d'initialisation pourrait ressembler à ceci :</p><pre id="r-399040" data-claire-element-id="399040"><code data-claire-semantic="cpp">Fenetre::Fenetre() : boutonRadio1(groupe, &quot;Titre 1&quot;), boutonRadio2(groupe, &quot;Titre 2&quot;), boutonRadio3(groupe, &quot;Titre 3&quot;)</code></pre><p id="r-399041" data-claire-element-id="399041">À part cela, les boutons radio s'utilisent exactement de la même façon que les cases à cocher, car les premiers dérivent des deuxièmes.</p><p id="r-399042" data-claire-element-id="399042">Alors, nous pouvons utiliser <code data-claire-semantic="cpp">set_active()</code>, <code data-claire-semantic="cpp">get_active()</code> ou encore le signal <code data-claire-semantic="cpp">toggled()</code>.</p><p id="r-399043" data-claire-element-id="399043">Par exemple, si nous voulons que le titre de la fenêtre change lorsque l'utilisateur clique sur un bouton radio, nous pourrions faire une fonction de rappel qui contient ceci :</p><pre id="r-399044" data-claire-element-id="399044"><code data-claire-semantic="cpp">if(boutonRadio1.get_active()) {
    set_title(&quot;Titre 1&quot;);
}
else if(boutonRadio2.get_active()) {
    set_title(&quot;Titre 2&quot;);
}
else {
    set_title(&quot;Titre 3&quot;);
}</code></pre><aside id="r-399047" data-claire-element-id="399047" data-claire-semantic="error"><p id="r-399045" data-claire-element-id="399045">Remarquez qu'ici j'ai utilisé <code data-claire-semantic="cpp">else</code> pour faire plus court.<br/> Par contre, si aucune case ne serait cochée le <code data-claire-semantic="cpp">else</code> serait pris en compte (ici, ça n'a aucune important puisque c'est dans une fonction de rappel qui est appelé par le signal <code data-claire-semantic="cpp">toggled()</code>).</p><p id="r-399046" data-claire-element-id="399046">Parfois, ça peut générer des problèmes non prévus si l'utilisateur fait le malin n'active aucun bouton radio.<br/> Alors, prévoyez cela. ;)</p></aside><p id="r-399048" data-claire-element-id="399048">Essayez de reproduire cette fenêtre avec les boutons radio qui modifie le titre lorsque l'utilisateur en choisi un :</p><figure id="r-399050" data-claire-element-id="399051"><img id="r-399049" data-claire-element-id="399049" src="medias/uploads.siteduzero.com_files_249001_250000_249408.png" alt="Image utilisateur"/></figure><p id="r-399052" data-claire-element-id="399052">Le séparateur entre le dernier bouton radio et le bouton Quitter est simplement un <code data-claire-semantic="cpp">Gtk::HSeparator</code> que j'ai ajouté à la boîte verticale.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">
<span class="arrow"></span>
<span class="next">Les principaux widgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
<span class="next">Widgets d&#039;affichage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Widgetsd039affichage"></a><h2>Widgets d&#039;affichage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
<span class="arrow"></span>
<span class="next">Les différents boutons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
<span class="next">Widgets de saisie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-widgets-d-affichage" data-claire-element-id="399219">Widgets d'affichage</h4><h5 id="r-l-etiquette-1" data-claire-element-id="399152">L'étiquette</h5><p id="r-399056" data-claire-element-id="399056">Une étiquette permet d'afficher du texte ; ça vous le savez aussi bien que moi. :D</p><p id="r-399057" data-claire-element-id="399057">Bien que nous en avons déjà parlé, nous n'avons pas vu tout ce qu'elle permet de faire, loin de là.</p><p id="r-399058" data-claire-element-id="399058">Vous devez inclure l'entête :</p><pre id="r-399059" data-claire-element-id="399059"><code data-claire-semantic="cpp">#include &lt;gtkmm/label.h&gt;</code></pre><h6 id="r-construction-28" data-claire-element-id="399083">Construction</h6><p id="r-399060" data-claire-element-id="399060">Il est possible de construire une étiquette sans paramètre, comme ceci :</p><pre id="r-399061" data-claire-element-id="399061"><code data-claire-semantic="cpp">Gtk::Label etiquette;</code></pre><p id="r-399062" data-claire-element-id="399062">Dans ce cas, l'étiquette n'affichera rien, donc vous devrez lui ajouter du texte plus tard.</p><div id="r-399064" data-claire-element-id="399064" data-claire-semantic="question"><p id="r-399063" data-claire-element-id="399063">Alors, pourquoi créer une étiquette vide ?</p></div><p id="r-399065" data-claire-element-id="399065">Ça peut être utile dans deux cas.</p><p id="r-399066" data-claire-element-id="399066">Le premier, c'est lorsque vous ne savez le texte à écrire qu'à l'exécution du programme.</p><p id="r-399067" data-claire-element-id="399067">Le deuxième est lorsque vous voulez utiliser la mise en forme (le <em>Pango Markup Language</em>, ça vous rappelle de quoi ?).</p><p id="r-399068" data-claire-element-id="399068">Il est également possible de créer une étiquette ayant déjà du texte en le passant simplement en paramètre :</p><pre id="r-399069" data-claire-element-id="399069"><code data-claire-semantic="cpp">Gtk::Label etiquette(&quot;Mon texte&quot;);</code></pre><aside id="r-399071" data-claire-element-id="399071" data-claire-semantic="warning"><p id="r-399070" data-claire-element-id="399070">Faites attention.<br/> Dans le constructeur, il n'est pas possible d'utiliser le <em>Pango Markup Language</em>.<br/> Si vous voulez l'utiliser, vous devez créer une étiquette vide.<br/> Je vais bientôt vous montrer comment faire pour utiliser ce langage de balisage.</p></aside><p id="r-399072" data-claire-element-id="399072">Une autre façon de créer une étiquette est de lui envoyer, en plus du texte, les alignements horizontal et vertical du <em>widget</em>, comme s'il était dans un <code data-claire-semantic="cpp">Gtk::Alignment</code>.<br/> Par exemple :</p><pre id="r-399073" data-claire-element-id="399073"><code data-claire-semantic="cpp">Gtk::Label etiquette(&quot;Mon texte&quot;, Gtk::ALIGN_END, Gtk::ALIGN_START);</code></pre><p id="r-399074" data-claire-element-id="399074">L'étiquette (non pas le texte) sera en haut à droite.<br/> Les constantes sont <a href="http://www.siteduzero.com/tutoriel-3-277425-organiser-vos-fenetres-avec-les-conteneurs.html#ss_part_2">les mêmes que pour le conteneur d'alignement</a>.</p><div id="r-399076" data-claire-element-id="399076" data-claire-semantic="question"><p id="r-399075" data-claire-element-id="399075">Pourquoi dis-tu que ce n'est pas le texte qui sera en haut à droite ?<br/> Moi, je trouve qu'il est bien là...</p></div><p id="r-399077" data-claire-element-id="399077">Je dis cela parce qu'il est possible de placer l'étiquette à droite et de centrer le texte.<br/> Ça se voit seulement lorsqu'il y a plusieurs lignes de tailles inégales.</p><p id="r-399078" data-claire-element-id="399078">Voici un exemple pour mieux comprendre :</p><figure id="r-399080" data-claire-element-id="399081"><img id="r-399079" data-claire-element-id="399079" src="medias/uploads.siteduzero.com_files_249001_250000_249033.png" alt="Image utilisateur"/></figure><p id="r-399082" data-claire-element-id="399082">Bien que l'étiquette se trouve à droite, le texte est centré.</p><h6 id="r-methodes-30" data-claire-element-id="399151">Méthodes</h6><p id="r-399084" data-claire-element-id="399084">La méthode <code data-claire-semantic="cpp">set_selectable()</code> permet à l'utilisateur de sélectionner le texte :</p><pre id="r-399085" data-claire-element-id="399085"><code data-claire-semantic="cpp">etiquette.set_selectable();</code></pre><p id="r-399086" data-claire-element-id="399086">Lui permettre de sélectionner le texte lui permet également de copier le texte.</p><p id="r-399087" data-claire-element-id="399087">Voici la fameuse méthode pour centrer le texte :</p><pre id="r-399088" data-claire-element-id="399088"><code data-claire-semantic="cpp">etiquette.set_justify(Gtk::JUSTIFY_CENTER);</code></pre><p id="r-399089" data-claire-element-id="399089">Voici les constantes :</p><ul id="r-399098" data-claire-element-id="399098"><li id="r-399091" data-claire-element-id="399091"><p id="r-399090" data-claire-element-id="399090">Gtk::JUSTIFY_LEFT : aligner le texte à gauche (par défaut) ;</p></li><li id="r-399093" data-claire-element-id="399093"><p id="r-399092" data-claire-element-id="399092">Gtk::JUSTIFY_RIGHT : l'aligner à droite ;</p></li><li id="r-399095" data-claire-element-id="399095"><p id="r-399094" data-claire-element-id="399094">Gtk::JUSTIFY_CENTER : le centrer ;</p></li><li id="r-399097" data-claire-element-id="399097"><p id="r-399096" data-claire-element-id="399096">Gtk::JUSTIFY_FILL : le justifier.</p></li></ul><p id="r-399099" data-claire-element-id="399099">Pour le texte justifié, ça ne fonctionne qu'avec les textes de plusieurs lignes :</p><figure id="r-399101" data-claire-element-id="399102"><img id="r-399100" data-claire-element-id="399100" src="medias/uploads.siteduzero.com_files_249001_250000_249035.png" alt="Image utilisateur"/></figure><p id="r-399103" data-claire-element-id="399103">De plus, vous devez utiliser la méthode <code data-claire-semantic="cpp">set_line_wrap()</code> pour que les lignes puissent être coupées :</p><pre id="r-399104" data-claire-element-id="399104"><code data-claire-semantic="cpp">etiquette.set_line_wrap();
etiquette.set_text(&quot;Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque aliquam nunc eget magna porttitor consequat. In sagittis lorem eget ante molestie vulputate. Suspendisse ut fermentum enim. Nam ac orci id lorem vestibulum cursus vitae et elit. Integer dolor quam, sodales id semper nec, adipiscing quis nisi. Donec purus lorem, aliquam at porttitor eget, feugiat non purus. Fusce nec libero at sem tempus pharetra ut non nulla. In ac magna mi. Integer ullamcorper nibh ac nibh consectetur id lacinia arcu lobortis. Donec egestas lectus ac erat aliquet vitae sagittis nibh vulputate. Phasellus non justo non sem tincidunt congue.&quot;);</code></pre><p id="r-399105" data-claire-element-id="399105">Si vous n'utilisez pas <code data-claire-semantic="cpp">set_line_wrap()</code>, tout le texte sera sur la même ligne (ce que je vous recommande d'éviter :p ).</p><p id="r-399106" data-claire-element-id="399106">La dernière méthode que je vais vous montrer est <code data-claire-semantic="cpp">set_markup()</code>.<br/> Cette méthode modifie le texte, mais, cette fois, vous pouvez utiliser le <em>Pango Markup Language</em> :</p><pre id="r-399107" data-claire-element-id="399107"><code data-claire-semantic="cpp">etiquette.set_markup(&quot;&lt;b&gt;Gras&lt;/b&gt;\n&lt;i&gt;Italique&lt;/i&gt;\n&lt;u&gt;Souligné&lt;/u&gt;\n&lt;s&gt;Barré&lt;/s&gt;\n&lt;big&gt;Gros&lt;/big&gt;\n2&lt;sup&gt;10&lt;/sup&gt;\nCO&lt;sub&gt;2&lt;/sub&gt;\n&lt;small&gt;Petit&lt;/small&gt;\n&lt;tt&gt;Monospace&lt;/tt&gt;&quot;); //Ce texte sera mis en forme.</code></pre><p id="r-399108" data-claire-element-id="399108">Voici quelques balises que vous pouvez utiliser :</p><ul id="r-399129" data-claire-element-id="399129"><li id="r-399110" data-claire-element-id="399110"><p id="r-399109" data-claire-element-id="399109"><code data-claire-semantic="xml">&lt;b&gt;</code> et <code data-claire-semantic="xml">&lt;/b&gt;</code> : gras ;</p></li><li id="r-399112" data-claire-element-id="399112"><p id="r-399111" data-claire-element-id="399111"><code data-claire-semantic="xml">&lt;i&gt;</code> et <code data-claire-semantic="xml">&lt;/i&gt;</code>: italique ;</p></li><li id="r-399114" data-claire-element-id="399114"><p id="r-399113" data-claire-element-id="399113"><code data-claire-semantic="xml">&lt;u&gt;</code> et <code data-claire-semantic="xml">&lt;/u&gt;</code> : souligné ;</p></li><li id="r-399116" data-claire-element-id="399116"><p id="r-399115" data-claire-element-id="399115"><code data-claire-semantic="xml">&lt;s&gt;</code> et <code data-claire-semantic="xml">&lt;/s&gt;</code> : barré ;</p></li><li id="r-399118" data-claire-element-id="399118"><p id="r-399117" data-claire-element-id="399117"><code data-claire-semantic="xml">&lt;big&gt;</code> et <code data-claire-semantic="xml">&lt;/big&gt;</code> : texte un peu plus grand ;</p></li><li id="r-399120" data-claire-element-id="399120"><p id="r-399119" data-claire-element-id="399119"><code data-claire-semantic="xml">&lt;sup&gt;</code> et <code data-claire-semantic="xml">&lt;/sup&gt;</code> : texte en exposant ;</p></li><li id="r-399122" data-claire-element-id="399122"><p id="r-399121" data-claire-element-id="399121"><code data-claire-semantic="xml">&lt;sub&gt;</code> et <code data-claire-semantic="xml">&lt;/sub&gt;</code> : texte en indice ;</p></li><li id="r-399124" data-claire-element-id="399124"><p id="r-399123" data-claire-element-id="399123"><code data-claire-semantic="xml">&lt;small&gt;</code> et <code data-claire-semantic="xml">&lt;/small&gt;</code> : texte un peu plus petit ;</p></li><li id="r-399126" data-claire-element-id="399126"><p id="r-399125" data-claire-element-id="399125"><code data-claire-semantic="xml">&lt;tt&gt;</code> et <code data-claire-semantic="xml">&lt;/tt&gt;</code> : texte utilisant la police Monospace ;</p></li><li id="r-399128" data-claire-element-id="399128"><p id="r-399127" data-claire-element-id="399127"><code data-claire-semantic="xml">&lt;span&gt;</code> et <code data-claire-semantic="xml">&lt;/span&gt;</code> : diverses mises en forme.</p></li></ul><p id="r-399130" data-claire-element-id="399130">Vous pouvez utiliser <code data-claire-semantic="xml"></code> pour les retours à la ligne.</p><p id="r-399131" data-claire-element-id="399131">Avec la balise <code data-claire-semantic="xml">&lt;span&gt;</code>, nous devons utiliser des attributs.<br/> Les attributs sont des informations supplémentaires que nous donnons à la balise.<br/> Chaque attribut doit avoir une valeur, entre guillemets.<br/> Voici un schéma :</p><pre id="r-399132" data-claire-element-id="399132"><code data-claire-semantic="xml">&lt;balise attribut=&quot;valeur&quot;&gt;&lt;/balise&gt;</code></pre><p id="r-399133" data-claire-element-id="399133">Voici quelques attributs de la balise <code data-claire-semantic="xml">&lt;span&gt;</code> :</p><ul id="r-399142" data-claire-element-id="399142"><li id="r-399135" data-claire-element-id="399135"><p id="r-399134" data-claire-element-id="399134">face : la police d'écriture ;</p></li><li id="r-399137" data-claire-element-id="399137"><p id="r-399136" data-claire-element-id="399136">color : la couleur du texte ;</p></li><li id="r-399139" data-claire-element-id="399139"><p id="r-399138" data-claire-element-id="399138">background : la couleur de fond ;</p></li><li id="r-399141" data-claire-element-id="399141"><p id="r-399140" data-claire-element-id="399140">underline : le soulignement.</p></li></ul><p id="r-399143" data-claire-element-id="399143">Voici un exemple :</p><pre id="r-399144" data-claire-element-id="399144"><code data-claire-semantic="cpp">etiquette.set_markup(&quot;&lt;span face='Comic sans MS'&gt;Comic sans MS&lt;/span&gt;\n&lt;span color='green'&gt;Vert&lt;/span&gt;\n&lt;span background='yellow'&gt;Fond jaune&lt;/span&gt;\n&lt;span color='red' underline='error'&gt;Erreur&lt;/span&gt;&quot;);</code></pre><p id="r-399145" data-claire-element-id="399145">Ce qui donne :</p><figure id="r-399147" data-claire-element-id="399148"><img id="r-399146" data-claire-element-id="399146" src="medias/uploads.siteduzero.com_files_249001_250000_249036.png" alt="Image utilisateur"/></figure><p id="r-399149" data-claire-element-id="399149">Il est possible d'utiliser plusieurs attributs sur une balise, ne vous privez pas. :D</p><p id="r-399150" data-claire-element-id="399150">Pour connaître d'autres attributs de la balise <code data-claire-semantic="xml">&lt;span&gt;</code>, vous trouverez votre bonheur dans la <a href="http://library.gnome.org/devel/pango/stable/PangoMarkupFormat.html">documentation</a>.</p><h5 id="r-afficher-des-images-3" data-claire-element-id="399182">Afficher des images</h5><p id="r-399153" data-claire-element-id="399153">Il est très facile d'afficher une image.</p><p id="r-399154" data-claire-element-id="399154">Il vous suffit de créer une instance de <code data-claire-semantic="cpp">Gtk::Image</code> avec comme seul paramètre le chemin vers le fichier.<br/> Ensuite, il ne vous reste qu'à la mettre dans un conteneur est de l'afficher.</p><p id="r-399155" data-claire-element-id="399155">Voici un exemple :</p><pre id="r-399156" data-claire-element-id="399156"><code data-claire-semantic="cpp">#include &lt;gtkmm/image.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    
    Gtk::Image image(&quot;gtk.png&quot;); //Création d'une image à partir d'un fichier.
    fenetre.add(image);
    image.show();
    
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-399157" data-claire-element-id="399157">Bref, rien de bien compliqué.</p><p id="r-399158" data-claire-element-id="399158">Il y a un autre moyen de créer une image qui pourrait vous intéresser :<br/> créer une image à partir d'un <em>Stock Item</em>.</p><p id="r-399159" data-claire-element-id="399159">Pour ce faire, vous devez donner deux paramètres au constructeur :<br/> le <em>Stock Item</em> et la taille de l'image.</p><p id="r-399160" data-claire-element-id="399160">Voici les constantes à utiliser pour la taille de l'image :</p><ul id="r-399173" data-claire-element-id="399173"><li id="r-399162" data-claire-element-id="399162"><p id="r-399161" data-claire-element-id="399161">Gtk::ICON_SIZE_MENU ;</p></li><li id="r-399164" data-claire-element-id="399164"><p id="r-399163" data-claire-element-id="399163">Gtk::ICON_SIZE_SMALL_TOOLBAR ;</p></li><li id="r-399166" data-claire-element-id="399166"><p id="r-399165" data-claire-element-id="399165">Gtk::ICON_SIZE_LARGE_TOOLBAR ;</p></li><li id="r-399168" data-claire-element-id="399168"><p id="r-399167" data-claire-element-id="399167">Gtk::ICON_SIZE_BUTTON ;</p></li><li id="r-399170" data-claire-element-id="399170"><p id="r-399169" data-claire-element-id="399169">Gtk::ICON_SIZE_DND ;</p></li><li id="r-399172" data-claire-element-id="399172"><p id="r-399171" data-claire-element-id="399171">Gtk::ICON_SIZE_DIALOG.</p></li></ul><p id="r-399174" data-claire-element-id="399174">Par exemple, ce code :</p><pre id="r-399175" data-claire-element-id="399175"><code data-claire-semantic="cpp">Gtk::Image image(Gtk::Stock::QUIT, Gtk::ICON_SIZE_DIALOG);</code></pre><p id="r-399176" data-claire-element-id="399176">donne ceci :</p><figure id="r-399178" data-claire-element-id="399179"><img id="r-399177" data-claire-element-id="399177" src="medias/uploads.siteduzero.com_files_249001_250000_249037.png" alt="Image utilisateur"/></figure><aside id="r-399181" data-claire-element-id="399181" data-claire-semantic="error"><p id="r-399180" data-claire-element-id="399180">Pour certaines images, une taille trop grande les rendra floue (car elles seront redimensionnées).</p></aside><h5 id="r-la-barre-de-progression-2" data-claire-element-id="399218">La barre de progression</h5><p id="r-399183" data-claire-element-id="399183">Elle aussi, vous l'avez déjà utilisée.</p><p id="r-399184" data-claire-element-id="399184">Encore une fois, nous irons un peu plus en détails.</p><p id="r-399185" data-claire-element-id="399185">Vous devez inclure ceci :</p><pre id="r-399186" data-claire-element-id="399186"><code data-claire-semantic="cpp">#include &lt;gtkmm/progressbar.h&gt;</code></pre><h6 id="r-construction-29" data-claire-element-id="399189">Construction</h6><p id="r-399187" data-claire-element-id="399187">La construction n'a rien de bien compliqué :-° :</p><pre id="r-399188" data-claire-element-id="399188"><code data-claire-semantic="cpp">Gtk::ProgressBar barreProgression;</code></pre><h6 id="r-methodes-31" data-claire-element-id="399206">Méthodes</h6><p id="r-399190" data-claire-element-id="399190">Nous pouvons modifier le texte sur la barre de progression avec <code data-claire-semantic="cpp">set_text()</code> :</p><pre id="r-399191" data-claire-element-id="399191"><code data-claire-semantic="cpp">barreProgression.set_text(&quot;0 %&quot;);</code></pre><p id="r-399192" data-claire-element-id="399192">Nous pouvons également modifier l'orientation :</p><pre id="r-399193" data-claire-element-id="399193"><code data-claire-semantic="cpp">barreProgression.set_orientation(Gtk::ORIENTATION_VERTICAL);</code></pre><p id="r-399194" data-claire-element-id="399194">Voici toutes les constantes :</p><ul id="r-399199" data-claire-element-id="399199"><li id="r-399196" data-claire-element-id="399196"><p id="r-399195" data-claire-element-id="399195">Gtk::ORIENTATION_HORIZONTAL : barre de progression horizontale (par défaut) ;</p></li><li id="r-399198" data-claire-element-id="399198"><p id="r-399197" data-claire-element-id="399197">Gtk::ORIENTATION_VERTICAL : barre de progression verticale ;</p></li></ul><p id="r-399200" data-claire-element-id="399200">Par défaut, les barres de progression sont de gauche à droite ou de haut en bas.<br/> Mais, il est possible de l’inverser avec :</p><pre id="r-399201" data-claire-element-id="399201"><code data-claire-semantic="cpp">barreProgression.set_inverted();</code></pre><p id="r-399202" data-claire-element-id="399202">Il est possible de récupérer la fraction du pourcentage avec <code data-claire-semantic="cpp">get_fraction()</code> ; cette méthode retourne un nombre de 0.0 à 1.0.</p><p id="r-399203" data-claire-element-id="399203">De même, pour modifier la fraction, il suffit d'appeler <code data-claire-semantic="cpp">set_fraction()</code> :</p><pre id="r-399204" data-claire-element-id="399204"><code data-claire-semantic="cpp">barreProgression.set_fraction(0.5);</code></pre><p id="r-399205" data-claire-element-id="399205">Ceci met la barre de progression à 50%.</p><h6 id="r-exemple-108" data-claire-element-id="399217">Exemple</h6><p id="r-399207" data-claire-element-id="399207"><strong>Fichier Fenetre.hpp</strong></p><pre id="r-399208" data-claire-element-id="399208"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;sstream&gt;
#include &lt;string&gt;

#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/buttonbox.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/progressbar.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void ajouter();
        
    private :
        Gtk::ProgressBar barreProgression; //Barre de progression.
        Gtk::VButtonBox boiteV;
        Gtk::Button boutonAjouter;
};

#endif</code></pre><p id="r-399209" data-claire-element-id="399209">Nous créons les <em>widgets</em> nécessaire au projet.</p><p id="r-399210" data-claire-element-id="399210">Notez que nous ajoutons ceci :</p><pre id="r-399211" data-claire-element-id="399211"><code data-claire-semantic="cpp">#include &lt;sstream&gt;
#include &lt;string&gt;</code></pre><p id="r-399212" data-claire-element-id="399212">pour pouvoir convertir facilement un nombre en <code data-claire-semantic="cpp">std::string</code>.</p><p id="r-399213" data-claire-element-id="399213"><strong>Fenetre.cpp</strong></p><pre id="r-399214" data-claire-element-id="399214"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : boutonAjouter(Gtk::Stock::ADD) {
    add(boiteV);
    
    boutonAjouter.set_can_focus(false);
    
    //Modifier le texte de la barre de progression.
    barreProgression.set_text(&quot;0 %&quot;);
    //Inverser la barre de progression.
    barreProgression.set_inverted();
    
    boiteV.pack_start(boutonAjouter);
    boiteV.pack_start(barreProgression);
    
    //Connexion
    boutonAjouter.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::ajouter));
    
    show_all();
}

void Fenetre::ajouter() {
    //Obtention de la fraction du pourcentage de la barre de progression et ajout de 10%.
    double valeur(barreProgression.get_fraction() + 0.1);
    
    //Conversion du nombre en std::string.
    std::ostringstream flux;
    flux &lt;&lt; valeur * 100;
    
    if(valeur &lt;= 1) {
        barreProgression.set_fraction(valeur); //Modifier la fraction de la barre.
        barreProgression.set_text(flux.str() + &quot; %&quot;);
    }
    else {
        barreProgression.set_fraction(0);
        barreProgression.set_text(&quot;0 %&quot;);
    }
}</code></pre><p id="r-399215" data-claire-element-id="399215">Lorsque l'utilisateur clique sur le bouton, on ajoute 10% à la barre de progression et nous modifions son texte.</p><p id="r-399216" data-claire-element-id="399216">Pour le texte, nous voulons afficher le pourcentage de la barre de progression sur cette dernière.<br/> Nous faisons donc une conversion avant d'appeler <code data-claire-semantic="cpp">set_text()</code>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
<span class="arrow"></span>
<span class="next">Les différents boutons</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
<span class="next">Widgets de saisie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Widgetsdesaisie"></a><h2>Widgets de saisie</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
<span class="arrow"></span>
<span class="next">Widgets d&#039;affichage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">
<span class="next">Menus, barres d&#039;outils, barre d&#039;état</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-widgets-de-saisie" data-claire-element-id="399420">Widgets de saisie</h4><p id="r-399220" data-claire-element-id="399220">Il existe plusieurs <em>widgets</em> qui permettent à l'utilisateur d'entrer des données ou d'en choisir selon une liste.</p><p id="r-399221" data-claire-element-id="399221">Nous en verrons quelques uns tels les zones de texte et la liste déroulante.</p><h5 id="r-la-zone-de-texte-uniligne" data-claire-element-id="399269">La zone de texte uniligne</h5><p id="r-399222" data-claire-element-id="399222">Cette zone de texte permet à l'utilisateur d'entrer une seule ligne de texte.</p><h6 id="r-construction-30" data-claire-element-id="399227">Construction</h6><p id="r-399223" data-claire-element-id="399223">Le constructeur d'une zone de texte est très simple ; il ne prend aucun paramètre :</p><pre id="r-399224" data-claire-element-id="399224"><code data-claire-semantic="cpp">Gtk::Entry zoneTexte;</code></pre><p id="r-399225" data-claire-element-id="399225">N'oubliez pas d'inclure :</p><pre id="r-399226" data-claire-element-id="399226"><code data-claire-semantic="cpp">#include &lt;gtkmm/entry.h&gt;</code></pre><h6 id="r-methodes-32" data-claire-element-id="399260">Méthodes</h6><p id="r-399228" data-claire-element-id="399228">Voyons quelques méthodes.</p><p id="r-399229" data-claire-element-id="399229">Une méthode importante est <code data-claire-semantic="cpp">set_text()</code>.<br/> Cette méthode permet de modifier le texte présent dans la zone de texte :</p><pre id="r-399230" data-claire-element-id="399230"><code data-claire-semantic="cpp">zoneTexte.set_text(&quot;Salut les Zér0 !&quot;);</code></pre><p id="r-399231" data-claire-element-id="399231">Le texte affiché sur la zone de texte sera donc &quot;Salut les Zér0 !&quot; (sans les guillemets, bien sûr).</p><p id="r-399232" data-claire-element-id="399232">De même, il est possible de récupérer le texte avec <code data-claire-semantic="cpp">get_text()</code> :</p><pre id="r-399233" data-claire-element-id="399233"><code data-claire-semantic="cpp">std::string texte = zoneTexte.get_text();</code></pre><p id="r-399234" data-claire-element-id="399234">Une méthode qui peut vous être utile est <code data-claire-semantic="cpp">set_alignment()</code> :</p><pre id="r-399235" data-claire-element-id="399235"><code data-claire-semantic="cpp">zoneTexte.set_alignment(Gtk::ALIGN_CENTER);</code></pre><p id="r-399236" data-claire-element-id="399236">Cette méthode modifie l'alignement horizontal du texte dans la zone de texte.<br/> Elle s'utilise de la même manière que le <em>widget</em> d'alignement, c'est-à-dire avec l'une des constantes suivantes :</p><ul id="r-399243" data-claire-element-id="399243"><li id="r-399238" data-claire-element-id="399238"><p id="r-399237" data-claire-element-id="399237">Gtk::ALIGN_START : à gauche (0) ;</p></li><li id="r-399240" data-claire-element-id="399240"><p id="r-399239" data-claire-element-id="399239">Gtk::ALIGN_CENTER : au centre (0.5) ;</p></li><li id="r-399242" data-claire-element-id="399242"><p id="r-399241" data-claire-element-id="399241">Gtk::ALIGN_END : à droite (1) ;</p></li></ul><p id="r-399244" data-claire-element-id="399244">Vous pouvez également utiliser un nombre de 0 (gauche) à 1 (droite).</p><div id="r-399246" data-claire-element-id="399246" data-claire-semantic="question"><p id="r-399245" data-claire-element-id="399245">Pouvons-nous limiter le nombre de caractères que l'utilisateur peut entrer ?</p></div><p id="r-399247" data-claire-element-id="399247">Oui et c'est avec la méthode <code data-claire-semantic="cpp">set_max_length()</code> avec comme paramètre la nombre maximum de caractères qu'il peut entrer :</p><pre id="r-399248" data-claire-element-id="399248"><code data-claire-semantic="cpp">zoneTexte.set_max_length(10);</code></pre><p id="r-399249" data-claire-element-id="399249">Ceci limite la zone de texte à 10 caractères.</p><div id="r-399251" data-claire-element-id="399251" data-claire-semantic="question"><p id="r-399250" data-claire-element-id="399250">Et si on veut que l'utilisateur entre un mot de passe, y a-t-il un moyen de faire en sorte qu'il ne s'affiche pas ?</p></div><p id="r-399252" data-claire-element-id="399252">Encore une fois, oui. :D</p><p id="r-399253" data-claire-element-id="399253">Vous devez faire comme ceci :</p><pre id="r-399254" data-claire-element-id="399254"><code data-claire-semantic="cpp">zoneTexte.set_visibility(false);</code></pre><p id="r-399255" data-claire-element-id="399255">Vous pouvez faire un tas d'autres choses avec cette zone de texte, comme afficher une image ou une progression, mais je ne peux pas tout vous apprendre.</p><p id="r-399256" data-claire-element-id="399256">Voici ce que ça pourrait donner :</p><figure id="r-399258" data-claire-element-id="399259"><img id="r-399257" data-claire-element-id="399257" src="medias/uploads.siteduzero.com_files_249001_250000_249263.png" alt="Image utilisateur"/></figure><h6 id="r-signal-2" data-claire-element-id="399268">Signal</h6><p id="r-399261" data-claire-element-id="399261">La zone de texte propose un signal qui peut vous être utile :<br/><code data-claire-semantic="cpp">activate()</code></p><p id="r-399262" data-claire-element-id="399262">Ce signal est émis lorsque l'utilisateur appuie sur la touche entrée.<br/> Il peut donc aider à améliorer l'accessibilité à votre application.</p><p id="r-399263" data-claire-element-id="399263">Par exemple, ceci appelle la méthode <code data-claire-semantic="cpp">afficher()</code> lorsque l'utilisateur appuie sur la touche entrée :</p><pre id="r-399264" data-claire-element-id="399264"><code data-claire-semantic="cpp">zoneTexte.signal_activate().connect(sigc::mem_fun(this, &amp;Fenetre::afficher));</code></pre><aside id="r-399266" data-claire-element-id="399266" data-claire-semantic="warning"><p id="r-399265" data-claire-element-id="399265">Pour que ce signal soit émis, l'utilisateur doit appuyé sur la touche Entrée lorsque la zone de texte a le <em>focus</em>.</p></aside><p id="r-399267" data-claire-element-id="399267">Pour vous pratiquer, écrivez la fonction de rappel qui affichera le texte de la zone de texte dans une boîte de dialogue de message.</p><h5 id="r-le-bouton-compteur" data-claire-element-id="399303">Le bouton compteur</h5><p id="r-399270" data-claire-element-id="399270">Le bouton compteur est une zone de texte pour les nombres.<br/> Elle comporte deux petites flèches, une pour augmenter la valeur du nombre et une autre pour la diminuer :</p><figure id="r-399272" data-claire-element-id="399273"><img id="r-399271" data-claire-element-id="399271" src="medias/uploads.siteduzero.com_files_249001_250000_249522.png" alt="Image utilisateur"/></figure><h6 id="r-constructeur-11" data-claire-element-id="399284">Constructeur</h6><p id="r-399274" data-claire-element-id="399274">Pour construire un bouton compteur, nous aurons besoin de créer un <code data-claire-semantic="cpp">Gtk::Adjustment</code>.</p><p id="r-399275" data-claire-element-id="399275">Cet objet possède des informations sur la valeur initiale, maximale et minimale et sur l'incrémentation de cette valeur.</p><p id="r-399276" data-claire-element-id="399276">Nous pouvons créer un tel objet comme ceci :</p><pre id="r-399277" data-claire-element-id="399277"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::Adjustment&gt; ajustement = Gtk::Adjustment::create(60, 0, 100, 5);</code></pre><p id="r-399278" data-claire-element-id="399278">La valeur initiale est 60.<br/> La valeur minimale est 0 et maximale, 100.<br/> L'incrémentation est de 5.</p><p id="r-399279" data-claire-element-id="399279">Lorsque l'utilisateur cliquera sur une flèche, le nombre augmentera ou diminuera de 5.</p><p id="r-399280" data-claire-element-id="399280">Nous pouvons ensuite créer notre bouton compteur :</p><pre id="r-399281" data-claire-element-id="399281"><code data-claire-semantic="cpp">Gtk::SpinButton boutonCompteur(ajustement);</code></pre><p id="r-399282" data-claire-element-id="399282">Il faut inclure ceci :</p><pre id="r-399283" data-claire-element-id="399283"><code data-claire-semantic="cpp">#include &lt;gtkmm/adjustment.h&gt;
#include &lt;gtkmm/spinbutton.h&gt;</code></pre><h6 id="r-methodes-33" data-claire-element-id="399290">Méthodes</h6><p id="r-399285" data-claire-element-id="399285">Voyons quelques méthodes qui pourraient vous être utiles.</p><p id="r-399286" data-claire-element-id="399286">La méthode <code data-claire-semantic="cpp">set_numeric()</code> empêche l'utilisateur d'entrer autre chose que des chiffres :</p><pre id="r-399287" data-claire-element-id="399287"><code data-claire-semantic="cpp">boutonCompteur.set_numeric();</code></pre><p id="r-399288" data-claire-element-id="399288">La méthode <code data-claire-semantic="cpp">get_value()</code> retourne la valeur sous forme d'un <code data-claire-semantic="cpp">double</code> et <code data-claire-semantic="cpp">get_value_as_int()</code>, sous forme d'un <code data-claire-semantic="cpp">int</code>.</p><p id="r-399289" data-claire-element-id="399289">Si vous voulez avoir tout de suite la valeur sous forme de texte, vous pouvez utiliser <code data-claire-semantic="cpp">get_text()</code>, car le bouton compteur dérive de la zone de texte.</p><h6 id="r-signal-3" data-claire-element-id="399292">Signal</h6><p id="r-399291" data-claire-element-id="399291">Un signal qui pourrait vous être utile est <code data-claire-semantic="cpp">value_changed()</code> qui est émis lorsque la valeur est modifiée.</p><h6 id="r-exemple-109" data-claire-element-id="399302">Exemple</h6><p id="r-399293" data-claire-element-id="399293">Voici un exemple qui modifie le texte d'une étiquette lorsque la valeur du bouton compteur est modifiée.</p><p id="r-399294" data-claire-element-id="399294"><strong>Fenetre.hpp</strong></p><pre id="r-399295" data-claire-element-id="399295"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/adjustment.h&gt;
#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/spinbutton.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void modifierTexte();
        
    private :
        Glib::RefPtr&lt;Gtk::Adjustment&gt; ajustement; //Ajustement.
        Gtk::VBox boiteV;
        Gtk::SpinButton boutonCompteur; //Bouton compteur.
        Gtk::Label etiquette;
};

#endif</code></pre><p id="r-399296" data-claire-element-id="399296">Ici, nous déclarons nos <em>widgets</em> ; il n'y a rien de vraiment compliqué.</p><p id="r-399297" data-claire-element-id="399297"><strong>Fenetre.cpp</strong></p><pre id="r-399298" data-claire-element-id="399298"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : ajustement(Gtk::Adjustment::create(60, 0, 100, 5)), boutonCompteur(ajustement), etiquette(&quot;60&quot;) {
    add(boiteV);
    
    boiteV.pack_start(boutonCompteur);
    boiteV.pack_start(etiquette);
    
    boutonCompteur.set_numeric(); //Empêcher l'entrée de lettres ou symboles spéciaux.
    //Lorsque la valeur est modifiée, appeler une fonction de rappel.
    boutonCompteur.signal_value_changed().connect(sigc::mem_fun(*this, &amp;Fenetre::modifierTexte));
    
    show_all();
}

void Fenetre::modifierTexte() {
    //Modifier le texte de l'étiquette à partir de celui du bouton compteur.
    etiquette.set_text(boutonCompteur.get_text());
}</code></pre><p id="r-399299" data-claire-element-id="399299">Dans le constructeur, nous initialisons nos <em>widgets</em> et les ajoutons à la fenêtre.<br/> De plus, nous empêchons l'utilisateur d'entrer autre chose que des chiffres et connectons le signal <code data-claire-semantic="cpp">value_changed()</code> à une fonction de rappel.</p><p id="r-399300" data-claire-element-id="399300">Cette fonction de rappel modifie le texte de l'étiquette à partir de celui du bouton compteur.</p><p id="r-399301" data-claire-element-id="399301">C'est tout, passons à la suite. :)</p><h5 id="r-la-zone-de-texte-multiligne" data-claire-element-id="399359">La zone de texte multiligne</h5><p id="r-399304" data-claire-element-id="399304">La zone de texte multiligne est plus compliquée à utiliser que celle uniligne.</p><p id="r-399305" data-claire-element-id="399305">Pourquoi cela ?<br/> Parce qu'elle permet de faire plus de chose.</p><p id="r-399306" data-claire-element-id="399306">Les zones multilignes de texte de gtkmm séparent les données de la présentation. Il s’agit du design pattern modèle-vue.<br/> Le modèle est un objet <code data-claire-semantic="cpp">Gtk::TextBuffer</code> et la vue est un objet <code data-claire-semantic="cpp">Gtk::TextView</code>.</p><h6 id="r-le-buffer" data-claire-element-id="399311">Le <em>buffer</em></h6><p id="r-399307" data-claire-element-id="399307">Le <em>buffer</em> est un objet qui détient des informations sur une zone de texte et qui permet de modifier cette dernière.</p><p id="r-399308" data-claire-element-id="399308">Chaque zone de texte a son propre <em>buffer</em>.</p><p id="r-399309" data-claire-element-id="399309">Un <em>buffer</em> est représenté par la classe <code data-claire-semantic="cpp">Gtk::TextBuffer</code> que vous devez inclure :</p><pre id="r-399310" data-claire-element-id="399310"><code data-claire-semantic="cpp">#include &lt;gtkmm/textbuffer.h&gt;</code></pre><h6 id="r-construction-de-la-zone-de-texte" data-claire-element-id="399315">Construction de la zone de texte</h6><p id="r-399312" data-claire-element-id="399312">Construire une zone de texte est très facile :</p><pre id="r-399313" data-claire-element-id="399313"><code data-claire-semantic="cpp">#include &lt;gtkmm/textview.h&gt;
Gtk::TextView zoneTexte;</code></pre><p id="r-399314" data-claire-element-id="399314">Il n'y a rien d'autre à faire.</p><h6 id="r-methodes-34" data-claire-element-id="399341">Méthodes</h6><p id="r-399316" data-claire-element-id="399316">Nous allons voir quelques méthodes, mais sachez qu'il en existe beaucoup d'autres.</p><p id="r-399317" data-claire-element-id="399317">Si nous entrons beaucoup de texte sur la même ligne, la fenêtre s'agrandit en largeur.<br/> C'est assez problématique...<br/> Pour régler ce problème, nous pouvons faire en sorte que la ligne continue sur la ligne suivante avec <code data-claire-semantic="cpp">set_wrap_mode()</code> :</p><pre id="r-399318" data-claire-element-id="399318"><code data-claire-semantic="cpp">zoneTexte.set_wrap_mode(Gtk::WRAP_WORD);</code></pre><p id="r-399319" data-claire-element-id="399319">Ceci coupe les lignes au mot près.</p><p id="r-399320" data-claire-element-id="399320">Il est possible de centrer le texte sur la zone de texte avec :</p><pre id="r-399321" data-claire-element-id="399321"><code data-claire-semantic="cpp">zoneTexte.set_justification(Gtk::JUSTIFY_CENTER);</code></pre><p id="r-399322" data-claire-element-id="399322">Les autres constantes sont :</p><ul id="r-399329" data-claire-element-id="399329"><li id="r-399324" data-claire-element-id="399324"><p id="r-399323" data-claire-element-id="399323">Gtk::JUSTIFY_LEFT ;</p></li><li id="r-399326" data-claire-element-id="399326"><p id="r-399325" data-claire-element-id="399325">Gtk::JUSTIFY_RIGHT ;</p></li><li id="r-399328" data-claire-element-id="399328"><p id="r-399327" data-claire-element-id="399327">Gtk::JUSTIFY_FILL.</p></li></ul><p id="r-399330" data-claire-element-id="399330">Pour modifier et obtenir le texte de la zone de texte, il faudra utiliser le <em>buffer</em>.</p><p id="r-399331" data-claire-element-id="399331">Pour obtenir le <em>buffer</em> de la zone de texte, il faut faire comme ceci :</p><pre id="r-399332" data-claire-element-id="399332"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::TextBuffer&gt; buffer = zoneTexte.get_buffer();</code></pre><div id="r-399334" data-claire-element-id="399334" data-claire-semantic="question"><p id="r-399333" data-claire-element-id="399333">Qu'est-ce que c'est, <code data-claire-semantic="cpp">Glib::RefPtr</code> ?</p></div><p id="r-399335" data-claire-element-id="399335">C'est un pointeur intelligent ; il s'utilise pratiquement de la même manière que les pointeurs que vous connaissez.</p><p id="r-399336" data-claire-element-id="399336">Vous pouvez obtenir plus d'informations sur ce pointeur <a href="http://library.gnome.org/devel/gtkmm-tutorial/unstable/chapter-refptr.html.en">dans ce livre sur gtkmm</a>.</p><p id="r-399337" data-claire-element-id="399337">Maintenant que nous avons le <em>buffer</em>, nous pouvons obtenir le texte comme ceci :</p><pre id="r-399338" data-claire-element-id="399338"><code data-claire-semantic="cpp">std::string texte = buffer-&gt;get_text()</code></pre><p id="r-399339" data-claire-element-id="399339">et modifier le texte comme cela :</p><pre id="r-399340" data-claire-element-id="399340"><code data-claire-semantic="cpp">buffer-&gt;set_text(&quot;texte&quot;);</code></pre><h6 id="r-signal-4" data-claire-element-id="399343">Signal</h6><p id="r-399342" data-claire-element-id="399342">Un signal important est <code data-claire-semantic="cpp">changed()</code> ; il est émis par le <em>buffer</em> lorsque le texte est modifié.</p><h6 id="r-exemple-110" data-claire-element-id="399358">Exemple</h6><p id="r-399344" data-claire-element-id="399344">Voyons un exemple de programme qui affiche dans une étiquette le texte de la zone de texte.<br/> Le texte de l'étiquette est modifié à chaque fois que le texte de la zone de texte est modifié.<br/> Un bouton effacera le contenu de la zone de texte.</p><p id="r-399345" data-claire-element-id="399345"><strong>Fenetre.hpp</strong></p><pre id="r-399346" data-claire-element-id="399346"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/label.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/textbuffer.h&gt;
#include &lt;gtkmm/textview.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void texteModifie();
        void vider();
    
    private :
        Gtk::VBox boiteV;
        Gtk::Button bouton;
        Glib::RefPtr&lt;Gtk::TextBuffer&gt; buffer;
        Gtk::Label etiquette;
        Gtk::TextView zoneTexte;
};

#endif</code></pre><p id="r-399347" data-claire-element-id="399347">C'est très simple : nous créons les <em>widgets</em> nécessaires à l'application.</p><p id="r-399348" data-claire-element-id="399348">La fonction de rappel <code data-claire-semantic="cpp">texteModifie()</code> est appelée lorsque le texte de la zone de texte est modifié.</p><p id="r-399349" data-claire-element-id="399349">La fonction de rappel <code data-claire-semantic="cpp">vider()</code> est appelée lorsque l'utilisateur clique sur le bouton.</p><p id="r-399350" data-claire-element-id="399350"><strong>Fenetre.cpp</strong></p><pre id="r-399351" data-claire-element-id="399351"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(Gtk::Stock::CLEAR) {
    buffer = zoneTexte.get_buffer(); //Obtenir le buffer de la zone de texte.
    set_default_size(480, 320);

    add(boiteV);

    bouton.set_can_focus(false);

    etiquette.set_justify(Gtk::JUSTIFY_CENTER);

    //Couper les lignes au mot pour que la fenêtre ne s'agrandisse pas s'il y a trop de texte sur une même ligne.
    zoneTexte.set_wrap_mode(Gtk::WRAP_WORD);
    zoneTexte.set_justification(Gtk::JUSTIFY_CENTER);

    boiteV.pack_start(zoneTexte);
    boiteV.pack_start(etiquette, Gtk::PACK_SHRINK);
    boiteV.pack_start(bouton, Gtk::PACK_SHRINK);

    //Lorsque le texte de la zone de texte est modifié, appel d'une fonction de rappel.
    buffer-&gt;signal_changed().connect(sigc::mem_fun(*this, &amp;Fenetre::texteModifie));
    //Lorsque l'utilisateur appuie sur ce bouton, vider la zone de texte.
    bouton.signal_clicked().connect(sigc::mem_fun(*this, &amp;Fenetre::vider));

    show_all();
}

void Fenetre::texteModifie() {
    //Modifier le texte de l'étiquette à partir de celui de la zone de texte.
    etiquette.set_text(buffer-&gt;get_text());
}

void Fenetre::vider() {
    buffer-&gt;set_text(&quot;&quot;); //Modifier le texte de la zone de texte.
}</code></pre><p id="r-399352" data-claire-element-id="399352">Dans le constructeur, nous obtenons le <em>buffer</em> qui nous servira à modifier le texte de la zone de texte ou l'obtenir.</p><p id="r-399353" data-claire-element-id="399353">Nous modifions un peu les <em>widgets</em>, les ajoutons dans la fenêtre et connectons des signaux à une fonction de rappel.</p><p id="r-399354" data-claire-element-id="399354">Les fonctions de rappel sont très simples.</p><p id="r-399355" data-claire-element-id="399355">La première modifie le texte de l'étiquette et la seconde, celui de la zone de texte.</p><aside id="r-399357" data-claire-element-id="399357" data-claire-semantic="information"><p id="r-399356" data-claire-element-id="399356">Vous pouvez faire beaucoup d'autres choses avec les zones de texte.<br/> Pour en savoir plus, allez dans <a href="http://library.gnome.org/devel/gtkmm/unstable/classGtk_1_1TextView.html">la documentation de la zone de texte</a> et <a href="http://library.gnome.org/devel/gtkmm/unstable/classGtk_1_1TextBuffer.html">celle du <em>buffer</em></a>.</p></aside><h5 id="r-la-liste-deroulante-1" data-claire-element-id="399419">La liste déroulante</h5><p id="r-399360" data-claire-element-id="399360">La liste déroulante permet à l'utilisateur de choisir un élément d'une liste.<br/> Seul l'élément choisi est affiché :</p><figure id="r-399362" data-claire-element-id="399363"><img id="r-399361" data-claire-element-id="399361" src="medias/uploads.siteduzero.com_files_249001_250000_249400.png" alt="Image utilisateur"/></figure><p id="r-399364" data-claire-element-id="399364">Lorsque l'utilisateur clique sur la liste déroulante, les choix apparaissent :</p><figure id="r-399366" data-claire-element-id="399367"><img id="r-399365" data-claire-element-id="399365" src="medias/uploads.siteduzero.com_files_249001_250000_249401.png" alt="Image utilisateur"/></figure><h6 id="r-constructeur-12" data-claire-element-id="399372">Constructeur</h6><p id="r-399368" data-claire-element-id="399368">Vous devez inclure :</p><pre id="r-399369" data-claire-element-id="399369"><code data-claire-semantic="cpp">#include &lt;gtkmm/comboboxtext.h&gt;</code></pre><p id="r-399370" data-claire-element-id="399370">Pour construire une liste déroulante, il suffit de créer un objet de type <code data-claire-semantic="cpp">Gtk::ComboBoxText</code> :</p><pre id="r-399371" data-claire-element-id="399371"><code data-claire-semantic="cpp">Gtk::ComboBoxText listeDeroulante;</code></pre><h6 id="r-methodes-35" data-claire-element-id="399383">Méthodes</h6><p id="r-399373" data-claire-element-id="399373">La première méthode que je vais vous montrer est <code data-claire-semantic="cpp">append()</code>.<br/> Celle-ci permet d'ajouter un élément dans la liste déroulante.</p><p id="r-399374" data-claire-element-id="399374">Voici comment elle s'utilise :</p><pre id="r-399375" data-claire-element-id="399375"><code data-claire-semantic="cpp">listeDeroulante.append(&quot;France&quot;);</code></pre><p id="r-399376" data-claire-element-id="399376">Une autre méthode utile est <code data-claire-semantic="cpp">set_active_text()</code>.<br/> Cette méthode permet de modifier le texte affiché (donc l'élément) sur la liste déroulante.<br/> Il faut mettre une chaîne de caractères qui a déjà été ajoutée par <code data-claire-semantic="cpp">append()</code> ou une autre méthode d'ajout.</p><p id="r-399377" data-claire-element-id="399377">Par exemple, si nous voulons que &quot;France&quot; soit l'élément affiché, il faudra faire :</p><pre id="r-399378" data-claire-element-id="399378"><code data-claire-semantic="cpp">listeDeroulante.set_active_text(&quot;France&quot;);</code></pre><div id="r-399380" data-claire-element-id="399380" data-claire-semantic="question"><p id="r-399379" data-claire-element-id="399379">Que se passe-t-il si le texte &quot;France&quot; n'existe pas ?</p></div><p id="r-399381" data-claire-element-id="399381">Il ne se passe rien du tout.<br/> Donc, ce n'est pas si grave que cela. :D</p><p id="r-399382" data-claire-element-id="399382">La dernière méthode que je souhaite vous montrer est <code data-claire-semantic="cpp">get_active_text()</code> qui retourne le texte affiché sur la liste déroulante.</p><h6 id="r-signal-5" data-claire-element-id="399391">Signal</h6><p id="r-399384" data-claire-element-id="399384">Le signal <code data-claire-semantic="cpp">changed()</code> est émis lorsque l'élément choisi est modifié.</p><p id="r-399385" data-claire-element-id="399385">Il peut l'être de deux façons :</p><ul id="r-399390" data-claire-element-id="399390"><li id="r-399387" data-claire-element-id="399387"><p id="r-399386" data-claire-element-id="399386">Si l'utilisateur en choisi un autre ;</p></li><li id="r-399389" data-claire-element-id="399389"><p id="r-399388" data-claire-element-id="399388">Par la méthode set_active_text().</p></li></ul><h6 id="r-exemple-111" data-claire-element-id="399418">Exemple</h6><p id="r-399392" data-claire-element-id="399392">Voyons un petit exemple pour mieux comprendre.</p><p id="r-399393" data-claire-element-id="399393">Dans cet exemple, des noms de pays seront affichés dans la liste déroulante et lorsque l'élément choisi sera modifié, une boîte de dialogue affichera le nom du pays choisi.</p><p id="r-399394" data-claire-element-id="399394"><strong>Fenetre.hpp</strong></p><pre id="r-399395" data-claire-element-id="399395"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;gtkmm/comboboxtext.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/messagedialog.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public :
        Fenetre();
        void afficher();
    
    private :
        Gtk::ComboBoxText listeDeroulante; //Liste déroulante.
};

#endif</code></pre><p id="r-399396" data-claire-element-id="399396">La méthode <code data-claire-semantic="cpp">afficher()</code> affichera la boîte de dialogue.</p><p id="r-399397" data-claire-element-id="399397"><strong>Fenetre.cpp</strong></p><pre id="r-399398" data-claire-element-id="399398"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() {
    //Ajout de texte à la liste déroulante.
    listeDeroulante.append(&quot;France&quot;);
    listeDeroulante.append(&quot;Québec&quot;);
    listeDeroulante.append(&quot;Maroc&quot;);
    listeDeroulante.append(&quot;Belgique&quot;);
    
    //Lorsque la sélection est modifiée.
    listeDeroulante.signal_changed().connect(sigc::mem_fun(*this, &amp;Fenetre::afficher));
    
    listeDeroulante.set_active_text(&quot;Québec&quot;); //Modifier le texte présentement vu.
    
    add(listeDeroulante);
    listeDeroulante.show();
}

void Fenetre::afficher() {
    //Affiche le texte sélectionné.
    Gtk::MessageDialog dialogue(*this, listeDeroulante.get_active_text());
    dialogue.run();
}</code></pre><p id="r-399399" data-claire-element-id="399399">Dans le constructeur, nous ajoutons des éléments à la liste déroulante.<br/> Ensuite, nous connectons le signal <code data-claire-semantic="cpp">changed()</code> à notre fonction de rappel.<br/> Puis, nous modifions le texte affiché par défaut.<br/> Enfin, nous ajoutons la liste déroulante a la fenêtre.</p><p id="r-399400" data-claire-element-id="399400">La fonction de rappel affiche simplement une boîte de dialogue avec le nom du pays choisi.</p><div id="r-399402" data-claire-element-id="399402" data-claire-semantic="question"><p id="r-399401" data-claire-element-id="399401">Pourquoi une boîte de dialogue s'affiche à l'ouverture de l'application ?</p></div><p id="r-399403" data-claire-element-id="399403">N'oubliez pas que le signal <code data-claire-semantic="cpp">changed()</code> n'est pas seulement émis lorsque l'utilisateur choisi un autre élément, mais aussi lorsque c'est fait par le programme lui-même.</p><p id="r-399404" data-claire-element-id="399404">Ce fut un très gros chapitre et il est plus que probable que vous n'ayez pas tout retenu.</p><p id="r-399405" data-claire-element-id="399405">Mais, comme je ne cesse de le répéter, c'est en forgeant que l'on devient forgeron.</p><p id="r-399406" data-claire-element-id="399406">Maintenant, après la lecture de ce chapitre, vous pouvez faire plusieurs applications intéressantes.<br/> Cela me donne plusieurs idées. :diable:</p><p id="r-399407" data-claire-element-id="399407">Essayez de faire les programmes suivantes :</p><ul id="r-399416" data-claire-element-id="399416"><li id="r-399409" data-claire-element-id="399409"><p id="r-399408" data-claire-element-id="399408">Une calculatrice ;</p></li><li id="r-399411" data-claire-element-id="399411"><p id="r-399410" data-claire-element-id="399410">Plus ou moins (avec une fenêtre, cette fois :p ) ;</p></li><li id="r-399413" data-claire-element-id="399413"><p id="r-399412" data-claire-element-id="399412">Un logiciel de sondage qui permet à l'utilisateur de voter (avec enregistrement des résultats dans un fichier) et qui lui permet de voir les résultats en pourcentage ;</p></li><li id="r-399415" data-claire-element-id="399415"><p id="r-399414" data-claire-element-id="399414">Et toutes autre idées vous venant à l'esprit. ^^</p></li></ul><p id="r-399417" data-claire-element-id="399417">C'est très important de pratiquer, j'insiste. :colere2:</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
<span class="arrow"></span>
<span class="next">Widgets d&#039;affichage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">
<span class="next">Menus, barres d&#039;outils, barre d&#039;état</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Menusbarresd039outilsbarred039tat"></a><h2>Menus, barres d&#039;outils, barre d&#039;état</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
<span class="arrow"></span>
<span class="next">Widgets de saisie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
<span class="next">Les menus</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-399422" data-claire-element-id="399422">La plupart des applications contiennent un menu, une ou des barres d'outils et, parfois, une barre d'état (vous savez, l'endroit situé en bas de la fenêtre qui affiche des informations que nous savons déjà :D ).</p><p id="r-399423" data-claire-element-id="399423">C'est dans ce chapitre que vous apprendrez à créer tout cela.</p>
</div><a name="Lesmenus"></a><h2>Les menus</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">
<span class="arrow"></span>
<span class="next">Menus, barres d&#039;outils, barre d&#039;état</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
<span class="next">Les barres d&#039;outils</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-menus-5" data-claire-element-id="399488">Les menus</h4><h5 id="r-les-classes-5" data-claire-element-id="399457">Les classes</h5><p id="r-399424" data-claire-element-id="399424">Dans cette partie, nous allons créer une barre de menus.</p><p id="r-399425" data-claire-element-id="399425">Pour ce faire, nous allons avoir besoin de plusieurs classes.</p><p id="r-399426" data-claire-element-id="399426">La première est, bien sûr, <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1MenuBar.html">Gtk::MenuBar</a></code>, qui représente une barre de menu.<br/> Une barre de menu contient des étiquettes alignées horizontalement :</p><figure id="r-399428" data-claire-element-id="399429"><img id="r-399427" data-claire-element-id="399427" src="medias/uploads.siteduzero.com_files_353001_354000_353217.png" alt="Image utilisateur"/></figure><p id="r-399430" data-claire-element-id="399430">Barre de menu contenant les menus Fichier et Édition.</p><p id="r-399431" data-claire-element-id="399431">Le menu est représenté par la classe <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1Menu.html">Gtk::Menu</a></code>.<br/> Un menu est un ensemble d’item de menu, représenté verticalement :</p><figure id="r-399433" data-claire-element-id="399434"><img id="r-399432" data-claire-element-id="399432" src="medias/uploads.siteduzero.com_files_353001_354000_353218.png" alt="Image utilisateur"/></figure><p id="r-399435" data-claire-element-id="399435">Un menu comportant divers item de menu (Nouveau, Récents, Ouvrir, …).</p><p id="r-399436" data-claire-element-id="399436">Enfin, les items de menu sont représentés par la classe <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1MenuItem.html">Gtk::MenuItem</a></code>.<br/> Les items de menu sont constitués le plus souvent d’une étiquette (texte) et d’une image.<br/> Nous pouvons attribuer une mnémonique et un raccourci aux items de menu.</p><aside id="r-399439" data-claire-element-id="399439" data-claire-semantic="information"><p id="r-399437" data-claire-element-id="399437">Une mnémonique est une combinaison de touche permettant de naviguer dans les menus. Par exemple, <kbd>Alt-F</kbd> ouvre le menu fichier et <kbd>Alt-Q</kbd> active l’item de menu Quitter (il faut pour cela que le menu fichier soit affiché).</p><p id="r-399438" data-claire-element-id="399438">Un raccourci permet d’activer un item de menu sans le voir.<br/> Par exemple, <kbd>Ctrl-Q</kbd> quitte l’application.</p></aside><p id="r-399440" data-claire-element-id="399440">Plusieurs classes dérivent de <code data-claire-semantic="cpp">Gtk::MenuItem</code> :</p><ul id="r-399451" data-claire-element-id="399451"><li id="r-399442" data-claire-element-id="399442"><p id="r-399441" data-claire-element-id="399441"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ImageMenuItem.html">Gtk::ImageMenuItem</a></code> ;</p></li><li id="r-399444" data-claire-element-id="399444"><p id="r-399443" data-claire-element-id="399443"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1SeparatorMenuItem.html">Gtk::SeparatorMenuItem</a></code> ;</p></li><li id="r-399446" data-claire-element-id="399446"><p id="r-399445" data-claire-element-id="399445"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1CheckMenuItem.html">Gtk::CheckMenuItem</a></code> ;</p></li><li id="r-399448" data-claire-element-id="399448"><p id="r-399447" data-claire-element-id="399447"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1RadioMenuItem.html">Gtk::RadioMenuItem</a></code> ;</p></li><li id="r-399450" data-claire-element-id="399450"><p id="r-399449" data-claire-element-id="399449"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1TearoffMenuItem.html">Gtk::TearoffMenuItem</a></code>.</p></li></ul><p id="r-399452" data-claire-element-id="399452">Nous ne verrons que les deux premiers.<br/> Vous pourrez facilement comprendre les trois autres grâce à la documentation.</p><p id="r-399453" data-claire-element-id="399453">Avant de passer à la suite, voici un schéma représentant les différentes classes sur l’image précédente :</p><figure id="r-399455" data-claire-element-id="399456"><img id="r-399454" data-claire-element-id="399454" src="medias/uploads.siteduzero.com_files_353001_354000_353219.png" alt="Image utilisateur"/></figure><h5 id="r-le-code-15" data-claire-element-id="399482">Le code</h5><h6 id="r-la-barre-de-menu-1" data-claire-element-id="399460">La barre de menu</h6><p id="r-399458" data-claire-element-id="399458">Créer une barre de menu est très simple :</p><pre id="r-399459" data-claire-element-id="399459"><code data-claire-semantic="cpp">Gtk::MenuBar barreMenu;</code></pre><h6 id="r-le-menu-6" data-claire-element-id="399469">Le menu</h6><p id="r-399461" data-claire-element-id="399461">Nous ne pouvons pas ajouter un menu directement à la barre de menu ; il faut ajouter un item de menu à cette dernière (retourner voir le schéma si vous l’avez déjà oublié :p ).</p><p id="r-399462" data-claire-element-id="399462">Donc, nous allons créer un item de menu et l’ajouter à la barre de menu :</p><pre id="r-399463" data-claire-element-id="399463"><code data-claire-semantic="cpp">Gtk::MenuItem menuItemFichier(&quot;Fichier&quot;);
barreMenu.append(menuItemFichier);</code></pre><p id="r-399464" data-claire-element-id="399464">Nous pouvons spécifier une mnémonique à l’item en précédent d’un trait de soulignement (_) le caractères souhaité et en passant <code data-claire-semantic="cpp">true</code> au deuxième paramètre :</p><pre id="r-399465" data-claire-element-id="399465"><code data-claire-semantic="cpp">Gtk::MenuItem menuItemFichier(&quot;_Fichier&quot;, true);</code></pre><p id="r-399466" data-claire-element-id="399466">Ensuite, nous devons créer notre menu et l’ajouter à l’item de menu voulu :</p><pre id="r-399467" data-claire-element-id="399467"><code data-claire-semantic="cpp">Gtk::Menu menuFichier;
menuItemFichier.set_submenu(menuFichier);</code></pre><p id="r-399468" data-claire-element-id="399468">Il faut utiliser <code data-claire-semantic="cpp">set_submenu()</code> pour ajouter un menu à un item.<br/> Cette méthode permet donc de créer des sous-menus (voir l’item de menu Récents de l’exemple).</p><h6 id="r-les-items-de-menu" data-claire-element-id="399478">Les items de menu</h6><p id="r-399470" data-claire-element-id="399470">Maintenant, nous avons un menu, mais il est un peu… :euh: … vide.<br/> Ajoutons-lui des items.</p><p id="r-399471" data-claire-element-id="399471">Vous avez déjà vu comment créer un item de menu lorsque nous avons créé le menu Fichier.<br/> Pour en ajouter un à un menu, c’est exactement la même chose :</p><pre id="r-399472" data-claire-element-id="399472"><code data-claire-semantic="cpp">Gtk::MenuItem menuItemFichiersRecents(&quot;_Récents&quot;, true);
menuFichier.append(menuItemFichiersRecents);</code></pre><p id="r-399473" data-claire-element-id="399473">Mais il est possible de faire plus beau, grâce à la classe <code data-claire-semantic="cpp">Gtk::ImageMenuItem</code>.<br/> Créons un item de menu Nouveau avec une belle petite image à côté (tout cela grâce aux Stock Items :) ) :</p><pre id="r-399474" data-claire-element-id="399474"><code data-claire-semantic="cpp">Gtk::ImageMenuItem menuNouveau(Gtk::Stock::NEW);
menuFichier.append(menuNouveau);</code></pre><aside id="r-399476" data-claire-element-id="399476" data-claire-semantic="information"><p id="r-399475" data-claire-element-id="399475">En utilisant un Stock Item, non seulement l’image et le texte est affiché, mais les raccourci et mnémonique sont également gérés. Merveilleux, non ?</p></aside><p id="r-399477" data-claire-element-id="399477">Le signal à connaître pour les items de menu est <code data-claire-semantic="cpp">activate()</code>, qui est émit lorsque l’item de menu est cliqué ou lors de l’appel de la méthode <code data-claire-semantic="cpp">activate()</code> de l’item.</p><h6 id="r-separateur" data-claire-element-id="399481">Séparateur</h6><p id="r-399479" data-claire-element-id="399479">L’ajout d’un séparateur est très simple :</p><pre id="r-399480" data-claire-element-id="399480"><code data-claire-semantic="cpp">Gtk::SeparatorMenuItem separateur;
menuFichier.append(separateur);</code></pre><h5 id="r-exemple-112" data-claire-element-id="399487">Exemple</h5><p id="r-399483" data-claire-element-id="399483">C’est le temps de voir un exemple :</p><pre id="r-399484" data-claire-element-id="399484"><code data-claire-semantic="cpp">#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/imagemenuitem.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/menu.h&gt;
#include &lt;gtkmm/menubar.h&gt;
#include &lt;gtkmm/menuitem.h&gt;
#include &lt;gtkmm/separatormenuitem.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    fenetre.resize(200, 75);
    
    Gtk::VBox boiteV;
    fenetre.add(boiteV);
    
    //Création d’une barre de menu.
    Gtk::MenuBar barreMenu;
    boiteV.pack_start(barreMenu, Gtk::PACK_SHRINK);
    
    //Création de l’item menu fichier et ajout à la barre de menu.
    Gtk::MenuItem menuItemFichier(&quot;_Fichier&quot;, true);
    barreMenu.append(menuItemFichier);
    
    //Création du menu Fichier et ajout à l’item de menu Fichier.
    Gtk::Menu menuFichier;
    menuItemFichier.set_submenu(menuFichier);
    
    //Création d’un item de menu à partir d’un Stock Item et ajout au menu.
    Gtk::ImageMenuItem menuNouveau(Gtk::Stock::NEW);
    menuFichier.append(menuNouveau);
    
    //Sous-menu : Fichier-&gt;Récents
    Gtk::MenuItem menuItemFichiersRecents(&quot;_Récents&quot;, true);
    menuFichier.append(menuItemFichiersRecents);
    
    //Utilisation de set_submenu() afin de créer un sous-menu.
    Gtk::Menu menuRecents;
    menuItemFichiersRecents.set_submenu(menuRecents);
    
    Gtk::MenuItem fichierRecent1(&quot;Fichier récent 1&quot;);
    menuRecents.append(fichierRecent1);
    Gtk::MenuItem fichierRecent2(&quot;Fichier récent 2&quot;);
    menuRecents.append(fichierRecent2);
    
    //Fichier-&gt;Ouvrir
    Gtk::ImageMenuItem menuOuvrir(Gtk::Stock::OPEN);
    menuFichier.append(menuOuvrir);
    
    //Fichier-&gt;Enregistrer
    Gtk::ImageMenuItem menuEnregistrer(Gtk::Stock::SAVE);
    menuFichier.append(menuEnregistrer);
    
    //Ajout d’un séparateur au menu Fichier.
    Gtk::SeparatorMenuItem separateur;
    menuFichier.append(separateur);
    
    //Fichier-&gt;Fermer
    Gtk::ImageMenuItem menuFermer(Gtk::Stock::CLOSE);
    menuFichier.append(menuFermer);
    
    //Fichier-&gt;Quitter
    Gtk::ImageMenuItem menuQuitter(Gtk::Stock::QUIT);
    //Connexion du clic sur le menu Quitter à la fonction Gtk::Main::quit().
    menuQuitter.signal_activate().connect(sigc::ptr_fun(&amp;Gtk::Main::quit));
    menuFichier.append(menuQuitter);
    
    //Menu édition
    Gtk::MenuItem menuItemEdition(&quot;É_dition&quot;, true);
    barreMenu.append(menuItemEdition);
    
    Gtk::Menu menuEdition;
    menuItemEdition.set_submenu(menuEdition);
    
    fenetre.show_all();
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-399485" data-claire-element-id="399485">Dans cet exemple, nous créons une barre de menu comportant deux items de menu (donc deux menus).<br/> Le menu fichier comporte un item ayant un sous-menu.<br/> En effet, si l’on pointe la souris sur l’item Récents, nous voyons un autre menu s’afficher.</p><p id="r-399486" data-claire-element-id="399486">Passons aux barres d’outils !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">
<span class="arrow"></span>
<span class="next">Menus, barres d&#039;outils, barre d&#039;état</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
<span class="next">Les barres d&#039;outils</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesbarresd039outils"></a><h2>Les barres d&#039;outils</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
<span class="arrow"></span>
<span class="next">Les menus</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
<span class="next">Le gestionnaire d&#039;interface utilisateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-les-barres-d-outils-1" data-claire-element-id="399557">Les barres d'outils</h4><h5 id="r-classes-1" data-claire-element-id="399507">Classes</h5><p id="r-399489" data-claire-element-id="399489">Les classes utiles à la création d’une barre d’outils sont <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1Toolbar.html">Gtk::ToolBar</a></code> et <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ToolButton.html">Gtk::ToolButton</a></code>.</p><h6 id="r-la-barre-d-outils-4" data-claire-element-id="399491">La barre d’outils</h6><p id="r-399490" data-claire-element-id="399490">La barre d’outils est représentée par la classe <code data-claire-semantic="cpp">Gtk::ToolBar</code>.<br/> Une barre d’outils contient des boutons alignés horizontalement.</p><h6 id="r-les-items-de-barre-d-outils" data-claire-element-id="399506">Les items de barre d’outils</h6><p id="r-399492" data-claire-element-id="399492">Les items sont représentés par la classe <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ToolItem.html">Gtk::ToolItem</a></code>.<br/> Mais, bien souvent, nous utiliserons une de ses classes filles :</p><ul id="r-399503" data-claire-element-id="399503"><li id="r-399494" data-claire-element-id="399494"><p id="r-399493" data-claire-element-id="399493"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ToolButton.html">Gtk::ToolButton</a></code> ;</p></li><li id="r-399496" data-claire-element-id="399496"><p id="r-399495" data-claire-element-id="399495"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1SeparatorToolItem.html">Gtk::SeparatorToolItem</a></code> ;</p></li><li id="r-399498" data-claire-element-id="399498"><p id="r-399497" data-claire-element-id="399497"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1MenuToolButton.html">Gtk::MenuToolButton</a></code> ;</p></li><li id="r-399500" data-claire-element-id="399500"><p id="r-399499" data-claire-element-id="399499"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ToggleToolButton.html">Gtk::ToggleToolButton</a></code> ;</p></li><li id="r-399502" data-claire-element-id="399502"><p id="r-399501" data-claire-element-id="399501"><code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1RadioToolButton.html">Gtk::RadioToolButton</a></code>.</p></li></ul><p id="r-399504" data-claire-element-id="399504">Nous verrons les deux premières classes de cette liste.</p><p id="r-399505" data-claire-element-id="399505">Les items sont donc des boutons ou des séparateurs.</p><h5 id="r-le-code-16" data-claire-element-id="399528">Le code</h5><h6 id="r-la-barre-d-outils-5" data-claire-element-id="399510">La barre d’outils</h6><p id="r-399508" data-claire-element-id="399508">Encore une fois, créer une barre d’outils est très simple :</p><pre id="r-399509" data-claire-element-id="399509"><code data-claire-semantic="cpp">Gtk::Toolbar barreOutils;</code></pre><h6 id="r-les-items-1" data-claire-element-id="399517">Les items</h6><p id="r-399511" data-claire-element-id="399511">Il existe plusieurs façon de créer des boutons pour une barre d’outils.<br/> L’une d’entre elles consiste à fournir une chaîne de caractères au constructeur :</p><pre id="r-399512" data-claire-element-id="399512"><code data-claire-semantic="cpp">Gtk::ToolButton boutonCompiler(&quot;Compiler&quot;);</code></pre><p id="r-399513" data-claire-element-id="399513">Pour ajouter un bouton à la barre d’outils, il faut, encore, utiliser la méthode <code data-claire-semantic="cpp">append()</code> :</p><pre id="r-399514" data-claire-element-id="399514"><code data-claire-semantic="cpp">barreOutils.append(boutonCompiler);</code></pre><p id="r-399515" data-claire-element-id="399515">Il est également possible de créer un bouton à partir d’un Stock Item :</p><pre id="r-399516" data-claire-element-id="399516"><code data-claire-semantic="cpp">Gtk::ToolButton boutonNouveau(Gtk::Stock::NEW);</code></pre><h6 id="r-info-bulle-1" data-claire-element-id="399524">Info-bulle</h6><p id="r-399518" data-claire-element-id="399518">Nous pouvons ajouter une info-bulle aux boutons de deux façons.<br/> La première façon consiste à appeler la méthode <code data-claire-semantic="cpp">set_tooltip_text()</code> :</p><pre id="r-399519" data-claire-element-id="399519"><code data-claire-semantic="cpp">boutonNouveau.set_tooltip_text(&quot;Crée un nouveau fichier&quot;);</code></pre><p id="r-399520" data-claire-element-id="399520">Ce texte ne doit pas utiliser le <em>Pango Markup Language</em>.</p><p id="r-399521" data-claire-element-id="399521">Si nous voulons utiliser ce langage, nous devons appeler la méthode suivante :</p><pre id="r-399522" data-claire-element-id="399522"><code data-claire-semantic="cpp">boutonNouveau.set_tooltip_markup(&quot;&lt;b&gt;Nouveau&lt;/b&gt; fichier&quot;);</code></pre><p id="r-399523" data-claire-element-id="399523">Le principal signal à connaître pour ce bouton est <code data-claire-semantic="cpp">clicked()</code>.</p><h6 id="r-le-separateur" data-claire-element-id="399527">Le séparateur</h6><p id="r-399525" data-claire-element-id="399525">Il se crée très simplement, d’une façon très semblable aux séparateurs de menu :</p><pre id="r-399526" data-claire-element-id="399526"><code data-claire-semantic="cpp">Gtk::SeparatorToolItem separateur;
barreOutils.append(separateur);</code></pre><h5 id="r-exemple-113" data-claire-element-id="399534">Exemple</h5><pre id="r-399529" data-claire-element-id="399529"><code data-claire-semantic="cpp">#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/separatortoolitem.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/toolbar.h&gt;
#include &lt;gtkmm/toolbutton.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window window;
    window.resize(200, 75);
    
    Gtk::VBox vBox;
    window.add(vBox);
    
    //Création d’une barre d’outils.
    Gtk::Toolbar barreOutils;
    vBox.pack_start(barreOutils, Gtk::PACK_SHRINK);
    
    //Création d’un bouton à partir d’un Stock Item et ajout à la barre d’outils.
    Gtk::ToolButton boutonNouveau(Gtk::Stock::NEW);
    boutonNouveau.set_tooltip_text(&quot;Crée un nouveau fichier&quot;);
    barreOutils.append(boutonNouveau);
    
    Gtk::ToolButton boutonCompiler(&quot;Compiler&quot;);
    barreOutils.append(boutonCompiler);
    
    //Création d’un séparateur et ajout à la barre d’outils.
    Gtk::SeparatorToolItem separateur;
    barreOutils.append(separateur);
    
    Gtk::ToolButton boutonQuitter(Gtk::Stock::QUIT);
    boutonQuitter.set_tooltip_markup(&quot;&lt;b&gt;&lt;span color='red'&gt;Ferme l’application&lt;/span&gt;&lt;/b&gt;&quot;);
    //Connexion du signal clicked() du bouton à la fonction Gtk::Main::quit().
    boutonQuitter.signal_clicked().connect(sigc::ptr_fun(&amp;Gtk::Main::quit));
    barreOutils.append(boutonQuitter);
    
    window.show_all();
    Gtk::Main::run(window);
    return 0;
}</code></pre><p id="r-399530" data-claire-element-id="399530">Il n’y a rien de compliquer dans ce code ; vous devriez le comprendre facilement avec l’aide des commentaires.</p><div id="r-399532" data-claire-element-id="399532" data-claire-semantic="question"><p id="r-399531" data-claire-element-id="399531">Si l’on utilise les mêmes items pour le menu et la barre d’outils, cette façon de faire duplique beaucoup de code (création d’items pour le menu, connexion des items du menu à des fonctions de rappel, création d’items pour la barre d’outils, connexion des items de la barre d’outils à des fonctions de rappel). Ça devient vite répétitif.<br/> Y a-t-il moyen d’éviter la répétition du code ?</p></div><p id="r-399533" data-claire-element-id="399533">Oui.<br/> Pour cela, il faut utiliser des…</p><h5 id="r-actions" data-claire-element-id="399550">Actions</h5><p id="r-399535" data-claire-element-id="399535">Les actions permettent de créer des items de menu et des items de barre d’outils rapidement.<br/> En utilisant des actions, nous n’aurons pas à créer deux items et faire deux connexions de signal pour chaque item présent dans le menu et la barre d’outils.</p><h6 id="r-creation-20" data-claire-element-id="399542">Création</h6><p id="r-399536" data-claire-element-id="399536">La création de signal peut se faire de plusieurs façons.<br/> Celle permettant de créer un signal à partir d’un Stock Item est :</p><pre id="r-399537" data-claire-element-id="399537"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::Action&gt; actionNouveau = Gtk::Action::create(&quot;nouveau&quot;, Gtk::Stock::NEW);</code></pre><p id="r-399538" data-claire-element-id="399538">Pour créer une action à partir d’une chaîne de caractère (représentant l’étiquette), il faut faire ceci :</p><pre id="r-399539" data-claire-element-id="399539"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::Action&gt; actionCompiler = Gtk::Action::create(&quot;ouvrir&quot;, &quot;Compiler&quot;);</code></pre><p id="r-399540" data-claire-element-id="399540">Nous pouvons également créer une action avec une étiquette différente et une info-bulle de cette façon :</p><pre id="r-399541" data-claire-element-id="399541"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::Action&gt; actionQuitter = Gtk::Action::create(&quot;quitter&quot;, Gtk::Stock::QUIT, &quot;Quitter l’application&quot;, &quot;Ferme l’application&quot;);</code></pre><h6 id="r-signal-6" data-claire-element-id="399545">Signal</h6><p id="r-399543" data-claire-element-id="399543">La connexion du signal d’une action se fait de la même manière qu’avec un item de menu :</p><pre id="r-399544" data-claire-element-id="399544"><code data-claire-semantic="cpp">actionQuitter-&gt;signal_activate().connect(sigc::ptr_fun(&amp;Gtk::Main::quit));</code></pre><h6 id="r-items" data-claire-element-id="399549">Items</h6><p id="r-399546" data-claire-element-id="399546">Après avoir créé l’action, nous pouvons obtenir les items de menu et de barre d’outils comme suit :</p><pre id="r-399547" data-claire-element-id="399547"><code data-claire-semantic="cpp">Gtk::MenuItem* menuItem = actionNouveau-&gt;create_menu_item();
Gtk::ToolItem* toolItem = actionNouveau-&gt;create_tool_item();</code></pre><p id="r-399548" data-claire-element-id="399548">Ensuite, nous pouvons les ajouter au menu et à la barre d’outils.</p><h5 id="r-exemple-114" data-claire-element-id="399556">Exemple</h5><p id="r-399551" data-claire-element-id="399551">Voici un exemple où les actions sont utilisées pour créer un menu et une barre d’outils :</p><pre id="r-399552" data-claire-element-id="399552"><code data-claire-semantic="cpp">#include &lt;gtkmm/action.h&gt;
#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/menu.h&gt;
#include &lt;gtkmm/menubar.h&gt;
#include &lt;gtkmm/menuitem.h&gt;
#include &lt;gtkmm/separatormenuitem.h&gt;
#include &lt;gtkmm/separatortoolitem.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/toolbar.h&gt;
#include &lt;gtkmm/toolbutton.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    fenetre.resize(200, 75);
    
    Gtk::VBox boiteV;
    fenetre.add(boiteV);
    
    /*
     * Actions
     */
    //Création d’une action à partir d’un Stock Item.
    Glib::RefPtr&lt;Gtk::Action&gt; actionNouveau = Gtk::Action::create(&quot;nouveau&quot;, Gtk::Stock::NEW);
    Glib::RefPtr&lt;Gtk::Action&gt; actionOuvrir = Gtk::Action::create(&quot;ouvrir&quot;, Gtk::Stock::OPEN);
    //Création d’une action à partir d’un texte.
    Glib::RefPtr&lt;Gtk::Action&gt; actionCompiler = Gtk::Action::create(&quot;ouvrir&quot;, &quot;Compiler&quot;);
    //Création d’une action avec une info-bulle.
    Glib::RefPtr&lt;Gtk::Action&gt; actionQuitter = Gtk::Action::create(&quot;quitter&quot;, Gtk::Stock::QUIT, &quot;Quitter l’application&quot;, &quot;Ferme l’application&quot;);
    
    //Connexion d’une action à une fonction de rappel.
    actionQuitter-&gt;signal_activate().connect(sigc::ptr_fun(&amp;Gtk::Main::quit));
    
    /*
     * Menu
     */
    Gtk::MenuBar barreMenu;
    boiteV.pack_start(barreMenu, Gtk::PACK_SHRINK);
    
    Gtk::MenuItem menuItemFichier(&quot;Fichier&quot;);
    barreMenu.append(menuItemFichier);
    
    Gtk::Menu menuFichier;
    menuItemFichier.set_submenu(menuFichier);
    
    //Ajout d’actions au menu fichier.
    menuFichier.append(*(actionNouveau-&gt;create_menu_item()));
    menuFichier.append(*(actionOuvrir-&gt;create_menu_item()));
    menuFichier.append(*(actionCompiler-&gt;create_menu_item()));
    
    Gtk::SeparatorMenuItem separateurMenu;
    menuFichier.append(separateurMenu);
    
    menuFichier.append(*(actionQuitter-&gt;create_menu_item()));
    
    /*
     * Barre d’outils
     */
    Gtk::Toolbar barreOutils;
    boiteV.pack_start(barreOutils, Gtk::PACK_SHRINK);
    
    //Ajout d’actions à la barre d’outils.
    barreOutils.append(*(actionNouveau-&gt;create_tool_item()));
    barreOutils.append(*(actionOuvrir-&gt;create_tool_item()));
    barreOutils.append(*(actionCompiler-&gt;create_tool_item()));
    
    //Création d’un séparateur et ajout à la barre d’outils.
    Gtk::SeparatorToolItem separateurBarreOutils;
    barreOutils.append(separateurBarreOutils);
    
    barreOutils.append(*(actionQuitter-&gt;create_tool_item()));
    
    fenetre.show_all();
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre><p id="r-399553" data-claire-element-id="399553">Encore une fois, il n’y a rien de bien compliqué et vous comprendrez facilement avec les commentaires.</p><aside id="r-399555" data-claire-element-id="399555" data-claire-semantic="warning"><p id="r-399554" data-claire-element-id="399554">Si vous comptez utiliser les actions pour des items de type case à cocher ou bouton radio, assurez-vous d’utiliser la bonne classe pour l’action.<br/> Regardez les classe filles d’action telles que <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1ToggleAction.html">Gtk::ToggleAction</a></code> et <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1RadioAction.html">Gtk::RadioAction</a></code>.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
<span class="arrow"></span>
<span class="next">Les menus</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
<span class="next">Le gestionnaire d&#039;interface utilisateur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Legestionnaired039interfaceutilisateur"></a><h2>Le gestionnaire d&#039;interface utilisateur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
<span class="arrow"></span>
<span class="next">Les barres d&#039;outils</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
<span class="next">La barre d&#039;état</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-gestionnaire-d-interface-utilisateur" data-claire-element-id="399620">Le gestionnaire d'interface utilisateur</h4><p id="r-399558" data-claire-element-id="399558">Le gestionnaire d’interface utilisateur est une façon de créer des menus et des barres d’outils à partir d’une description XML.</p><h5 id="r-syntaxe-29" data-claire-element-id="399578">Syntaxe</h5><p id="r-399559" data-claire-element-id="399559">Les balises que nous allons utiliser sont les suivantes :</p><ul id="r-399574" data-claire-element-id="399574"><li id="r-399561" data-claire-element-id="399561"><p id="r-399560" data-claire-element-id="399560"><code data-claire-semantic="xml">&lt;ui&gt;</code> : la balise racine du document XML ;</p></li><li id="r-399563" data-claire-element-id="399563"><p id="r-399562" data-claire-element-id="399562"><code data-claire-semantic="xml">&lt;menubar&gt;</code> : balise représentant une barre de menu ;</p></li><li id="r-399565" data-claire-element-id="399565"><p id="r-399564" data-claire-element-id="399564"><code data-claire-semantic="xml">&lt;menu&gt;</code> : balise représentant un menu ;</p></li><li id="r-399567" data-claire-element-id="399567"><p id="r-399566" data-claire-element-id="399566"><code data-claire-semantic="xml">&lt;menuitem&gt;</code> : balise représentant un item de menu ;</p></li><li id="r-399569" data-claire-element-id="399569"><p id="r-399568" data-claire-element-id="399568"><code data-claire-semantic="xml">&lt;separator/&gt;</code> : balise représentant un séparateur d’items de menu ou de barre d’outils ;</p></li><li id="r-399571" data-claire-element-id="399571"><p id="r-399570" data-claire-element-id="399570"><code data-claire-semantic="xml">&lt;toolbar&gt;</code> : balise représentant une barre d’outils ;</p></li><li id="r-399573" data-claire-element-id="399573"><p id="r-399572" data-claire-element-id="399572"><code data-claire-semantic="xml">&lt;toolitem&gt;</code> : balise représentant un item de barre d’outils.</p></li></ul><p id="r-399575" data-claire-element-id="399575">Nous pouvons préciser l’attribut name pour la barre d’outils et la barre de menu afin de faciliter sa récupération depuis le code C++.<br/> En outre, nous <em>devons</em> préciser l’attribut action des <code data-claire-semantic="xml">&lt;menu&gt;</code>, <code data-claire-semantic="xml">&lt;menuitem&gt;</code> et <code data-claire-semantic="xml">&lt;toolitem&gt;</code>.</p><p id="r-399576" data-claire-element-id="399576">Voici un exemple de ce fichier XML :</p><pre id="r-399577" data-claire-element-id="399577"><code data-claire-semantic="xml">&lt;ui&gt;
    &lt;menubar name=&quot;barreMenu&quot;&gt;
        &lt;menu action=&quot;fichier&quot;&gt;
            &lt;menuitem action=&quot;nouveau&quot;/&gt;
            &lt;menuitem action=&quot;ouvrir&quot;/&gt;
            &lt;separator/&gt;
            &lt;menuitem action=&quot;quitter&quot;/&gt;
        &lt;/menu&gt;
    &lt;/menubar&gt;
    &lt;toolbar name=&quot;barreOutils&quot;&gt;
        &lt;toolitem action=&quot;nouveau&quot;/&gt;
        &lt;toolitem action=&quot;ouvrir&quot;/&gt;
        &lt;separator/&gt;
        &lt;toolitem action=&quot;quitter&quot;/&gt;
    &lt;/toolbar&gt;
&lt;/ui&gt;</code></pre><h5 id="r-gestionnaire-d-interface-utilisateur" data-claire-element-id="399591">Gestionnaire d’interface utilisateur</h5><p id="r-399579" data-claire-element-id="399579">Le gestionnaire d’interface utilisateur est représenté par la classe <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1UIManager.html">Gtk::UIManager</a></code>.<br/> Pour instancier un objet <code data-claire-semantic="cpp">Gtk::UIManager</code>, il suffit de faire :</p><pre id="r-399580" data-claire-element-id="399580"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::UIManager&gt; uiManager = Gtk::UIManager::create();</code></pre><p id="r-399581" data-claire-element-id="399581">Ensuite, nous pouvons lui faire lire le fichier de description XML avec :</p><pre id="r-399582" data-claire-element-id="399582"><code data-claire-semantic="cpp">uiManager-&gt;add_ui_from_file(&quot;menuBarreOutils.ui&quot;);</code></pre><p id="r-399583" data-claire-element-id="399583">Puis, nous pouvons récupérer la barre d’outils et la barre de menu grâce à la méthode <code data-claire-semantic="cpp">get_widget()</code> :</p><pre id="r-399584" data-claire-element-id="399584"><code data-claire-semantic="cpp">Gtk::Widget* barreMenu = uiManager-&gt;get_widget(&quot;/barreMenu&quot;);
Gtk::Widget* barreOutils = uiManager-&gt;get_widget(&quot;/barreOutils&quot;);</code></pre><p id="r-399585" data-claire-element-id="399585">Le paramètre est le chemin vers le widget voulu.<br/> La racine est facultative. Le code suivant est identique :</p><pre id="r-399586" data-claire-element-id="399586"><code data-claire-semantic="cpp">Gtk::Widget* barreOutils = uiManager-&gt;get_widget(&quot;/ui/barreOutils&quot;);</code></pre><p id="r-399587" data-claire-element-id="399587">Le code suivant récupère l’item de barre d’outils Nouveau :</p><pre id="r-399588" data-claire-element-id="399588"><code data-claire-semantic="cpp">Gtk::Widget* toolitemNouveau = uiManager-&gt;get_widget(&quot;/barreOutils/nouveau&quot;);</code></pre><p id="r-399589" data-claire-element-id="399589">Finalement, nous pouvons ajouter les barres à notre boîte verticale :</p><pre id="r-399590" data-claire-element-id="399590"><code data-claire-semantic="cpp">boiteV.pack_start(*barreMenu, Gtk::PACK_SHRINK);
boiteV.pack_start(*barreOutils, Gtk::PACK_SHRINK);</code></pre><h5 id="r-groupe-d-actions" data-claire-element-id="399609">Groupe d’actions</h5><p id="r-399592" data-claire-element-id="399592">Nous avons spécifié des actions dans la description XML.<br/> Par conséquent, il faudra créer les actions ayant pour nom ceux spécifiés dans le XML.<br/> Dans la partie précédente, nous avons créé des actions.<br/> Pour rappel, nous avons fait comme ceci :</p><pre id="r-399593" data-claire-element-id="399593"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::Action&gt; actionNouveau = Gtk::Action::create(&quot;nouveau&quot;, Gtk::Stock::NEW);</code></pre><p id="r-399594" data-claire-element-id="399594">Le premier paramètre de la fonction <code data-claire-semantic="cpp">create()</code> est le nom de l’action.<br/> Le même nom que dans la description XML.</p><p id="r-399595" data-claire-element-id="399595">Les actions créées devront être liées au gestionnaire d’interface utilisateur.<br/> Pour ce faire, nous allons avoir besoin de créer un groupe d’actions.</p><p id="r-399596" data-claire-element-id="399596">Un groupe d’actions ce crée comme ceci :</p><pre id="r-399597" data-claire-element-id="399597"><code data-claire-semantic="cpp">Glib::RefPtr&lt;Gtk::ActionGroup&gt; groupe = Gtk::ActionGroup::create();</code></pre><p id="r-399598" data-claire-element-id="399598">Nous pouvons lier le groupe d’actions avec le gestionnaire de cette façon :</p><pre id="r-399599" data-claire-element-id="399599"><code data-claire-semantic="cpp">uiManager-&gt;insert_action_group(groupe);</code></pre><aside id="r-399601" data-claire-element-id="399601" data-claire-semantic="error"><p id="r-399600" data-claire-element-id="399600">Si vous oublier de lier vos actions au gestionnaire d’interface utilisateur, vos items de menu et de barre d’outils ne seront pas créés.<br/> De plus, vous aurez une erreur comme celle-ci à l’exécution :</p></aside><pre id="r-399602" data-claire-element-id="399602"><code data-claire-semantic="console">(UiManager:2471): Gtk-WARNING **: quitter: missing action quitter</code></pre><p id="r-399603" data-claire-element-id="399603">Après avoir créé le groupe, nous devons y ajouter des actions.<br/> Pour cela, nous devons utiliser la méthode <code data-claire-semantic="cpp">add()</code> :</p><pre id="r-399604" data-claire-element-id="399604"><code data-claire-semantic="cpp">groupe-&gt;add(actionNouveau);</code></pre><p id="r-399605" data-claire-element-id="399605">Bien souvent, comme nous n’utiliserons plus les actions par la suite, nous allons ajouter les actions comme ceci :</p><pre id="r-399606" data-claire-element-id="399606"><code data-claire-semantic="cpp">groupe-&gt;add(Gtk::Action::create(&quot;fichier&quot;, &quot;Fichier&quot;));</code></pre><p id="r-399607" data-claire-element-id="399607">Si nous voulons, en plus d’ajouter l’action au groupe, indiquer la fonction de rappel, nous pouvons ajouter un deuxième paramètre à cette méthode :</p><pre id="r-399608" data-claire-element-id="399608"><code data-claire-semantic="cpp">groupe-&gt;add(Gtk::Action::create(&quot;quitter&quot;, Gtk::Stock::QUIT, &quot;Quitter l’application&quot;, &quot;Ferme l’application&quot;), sigc::ptr_fun(&amp;Gtk::Main::quit));</code></pre><h5 id="r-groupe-d-accelerations" data-claire-element-id="399616">Groupe d’accélérations</h5><p id="r-399610" data-claire-element-id="399610">Un groupe d’accélérations est un groupe de raccourcis clavier.<br/> Bien souvent, un tel groupe sera attaché à une fenêtre.</p><p id="r-399611" data-claire-element-id="399611">Le problème que nous avons en utilisant un gestionnaire d’interface utilisateur est que les raccourcis clavier lui sont propres.<br/> Par conséquent, nous devons les transférer à la fenêtre pour que celle-ci puisse réagir à ces raccourcis.<br/> Pour ce faire, nous allons utiliser la méthode suivante :</p><pre id="r-399612" data-claire-element-id="399612"><code data-claire-semantic="cpp">fenetre.add_accel_group(uiManager-&gt;get_accel_group());</code></pre><p id="r-399613" data-claire-element-id="399613">Ainsi, nous ajoutons le groupe d’accélérations du gestionnaire à la fenêtre.</p><aside id="r-399615" data-claire-element-id="399615" data-claire-semantic="error"><p id="r-399614" data-claire-element-id="399614">Si vous oubliez cette ligne, vos raccourcis ne fonctionneront plus.</p></aside><h5 id="r-exemple-115" data-claire-element-id="399619">Exemple</h5><p id="r-399617" data-claire-element-id="399617">Voici un exemple mettant en application ce que vous venez de voir :</p><pre id="r-399618" data-claire-element-id="399618"><code data-claire-semantic="cpp">#include &lt;gtkmm/action.h&gt;
#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/main.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/uimanager.h&gt;
#include &lt;gtkmm/window.h&gt;

int main(int argc, char* argv[]) {
    Gtk::Main app(argc, argv);
    Gtk::Window fenetre;
    
    Gtk::VBox boiteV;
    fenetre.add(boiteV);
    
    //Création d’un groupe d’actions.
    Glib::RefPtr&lt;Gtk::ActionGroup&gt; groupe = Gtk::ActionGroup::create();
    //Création d’actions et ajout au groupe.
    groupe-&gt;add(Gtk::Action::create(&quot;fichier&quot;, &quot;Fichier&quot;));
    groupe-&gt;add(Gtk::Action::create(&quot;nouveau&quot;, Gtk::Stock::NEW));
    groupe-&gt;add(Gtk::Action::create(&quot;ouvrir&quot;, Gtk::Stock::OPEN));
    //Il est possible de spécifier une fonction de rappel au deuxième paramètre de la méthode add().
    groupe-&gt;add(Gtk::Action::create(&quot;quitter&quot;, Gtk::Stock::QUIT, &quot;Quitter l’application&quot;, &quot;Ferme l’application&quot;), sigc::ptr_fun(&amp;Gtk::Main::quit));
    
    //Création d’un gestionnaire d’interface utilisateur.
    Glib::RefPtr&lt;Gtk::UIManager&gt; uiManager = Gtk::UIManager::create();
    uiManager-&gt;insert_action_group(groupe);
    uiManager-&gt;add_ui_from_file(&quot;menuBarreOutils.ui&quot;);
    //Pour que la fenêtre réagisse aux raccourcis-clavier des actions, il faut lui ajouter un groupe d’accélération (raccourcis).
    fenetre.add_accel_group(uiManager-&gt;get_accel_group());
    
    Gtk::Widget* barreMenu = uiManager-&gt;get_widget(&quot;/barreMenu&quot;);
    boiteV.pack_start(*barreMenu, Gtk::PACK_SHRINK);
    
    Gtk::Widget* barreOutils = uiManager-&gt;get_widget(&quot;/barreOutils&quot;);
    boiteV.pack_start(*barreOutils, Gtk::PACK_SHRINK);
    
    fenetre.show_all();
    
    Gtk::Main::run(fenetre);
    return 0;
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
<span class="arrow"></span>
<span class="next">Les barres d&#039;outils</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
<span class="next">La barre d&#039;état</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Labarred039tat"></a><h2>La barre d&#039;état</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
<span class="arrow"></span>
<span class="next">Le gestionnaire d&#039;interface utilisateur</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-barre-d-etat-4" data-claire-element-id="399659">La barre d'état</h4><p id="r-399621" data-claire-element-id="399621">La barre d’état permet d’afficher des informations sur l’état de l’application.<br/> Elle est représentée par la classe <code data-claire-semantic="cpp"><a href="http://developer.gnome.org/gtkmm/unstable/classGtk_1_1Statusbar.html">Gtk::Statusbar</a></code>.</p><h5 id="r-creation-21" data-claire-element-id="399624">Création</h5><p id="r-399622" data-claire-element-id="399622">La création d’une telle barre se fait assez facilement :</p><pre id="r-399623" data-claire-element-id="399623"><code data-claire-semantic="cpp">Gtk::Statusbar barreEtat;</code></pre><h5 id="r-utilisation-51" data-claire-element-id="399635">Utilisation</h5><p id="r-399625" data-claire-element-id="399625">Nous pouvons ajouter ou enlever des messages dans une barre d’état.</p><p id="r-399626" data-claire-element-id="399626">Pour en ajouter un, il faut utiliser la méthode <code data-claire-semantic="cpp">push()</code> :</p><pre id="r-399627" data-claire-element-id="399627"><code data-claire-semantic="cpp">int messageID = barreEtat.push(&quot;Vous pouvez commencer à utiliser l’application&quot;);</code></pre><p id="r-399628" data-claire-element-id="399628">Comme vous pouvez le constater, cette méthode renvoie un identifiant.<br/> Cela est utile s’il vous prend l’envie de supprimer le message :</p><pre id="r-399629" data-claire-element-id="399629"><code data-claire-semantic="cpp">barreEtat.remove_message(messageID);</code></pre><p id="r-399630" data-claire-element-id="399630">Il est également possible de supprimer tous les messages :</p><pre id="r-399631" data-claire-element-id="399631"><code data-claire-semantic="cpp">barreEtat.remove_all_messages();</code></pre><div id="r-399633" data-claire-element-id="399633" data-claire-semantic="question"><p id="r-399632" data-claire-element-id="399632">Pourquoi supprimer tous les messages ?<br/> Il ne peut y en avoir qu’un qui est affiché à l’écran, non ?</p></div><p id="r-399634" data-claire-element-id="399634">Il ne peut, en effet, qu’y avoir un message à la fois.<br/> Par contre, la barre d’état contient une pile de message.<br/> Par conséquent, le dernier message ajouté (avec <code data-claire-semantic="cpp">push()</code>) sera affiché.<br/> Les autres n’apparaîtront pas.<br/> Si nous enlevons le message affiché, l’avant-dernier message ajouté s’affichera et ainsi de suite.</p><h5 id="r-exemple-116" data-claire-element-id="399658">Exemple</h5><p id="r-399636" data-claire-element-id="399636">Voici un exemple d’utilisation de la barre d’état.<br/> Ce programme affiche un message lorsque l’utilisateur pointe la souris sur le bouton.<br/> Ce message disparaît lorsque le souris ne pointe plus dessus :</p><figure id="r-399638" data-claire-element-id="399639"><img id="r-399637" data-claire-element-id="399637" src="medias/uploads.siteduzero.com_files_353001_354000_353496.png" alt="Image utilisateur"/></figure><h6 id="r-fenetre-hpp-7" data-claire-element-id="399641">Fenetre.hpp</h6><pre id="r-399640" data-claire-element-id="399640"><code data-claire-semantic="cpp">#ifndef DEF_FENETRE
#define DEF_FENETRE

#include &lt;string&gt;

#include &lt;gtkmm/box.h&gt;
#include &lt;gtkmm/button.h&gt;
#include &lt;gtkmm/statusbar.h&gt;
#include &lt;gtkmm/stock.h&gt;
#include &lt;gtkmm/window.h&gt;

class Fenetre : public Gtk::Window {
    public:
        Fenetre();
        
        bool afficherMessageEtat(GdkEventCrossing* event, std::string message);
        bool cacherMessageEtat(GdkEventCrossing* event);
        
    private:
        Gtk::Statusbar barreEtat; //Barre d’état.
        Gtk::VBox boiteV;
        Gtk::Button bouton;
};

#endif</code></pre><h6 id="r-fenetre-cpp-7" data-claire-element-id="399657">Fenetre.cpp</h6><pre id="r-399642" data-claire-element-id="399642"><code data-claire-semantic="cpp">#include &quot;Fenetre.hpp&quot;

Fenetre::Fenetre() : bouton(Gtk::Stock::QUIT) {
    add(boiteV);
    
    //Ajouter un message et récupérer son ID.
    int messageID = barreEtat.push(&quot;Vous pouvez commencer à utiliser l’application&quot;);
    //Enlever le message à partir de son ID.
    barreEtat.remove_message(messageID);
    
    boiteV.pack_start(bouton);
    
    //Connexions de signaux au bouton afin d’afficher un message dans la barre d’état lorsqu’il est survolé.
    bouton.signal_enter_notify_event().connect(sigc::bind&lt;std::string&gt;(sigc::mem_fun(*this, &amp;Fenetre::afficherMessageEtat), &quot;Quitter l’application&quot;));
    bouton.signal_leave_notify_event().connect(sigc::mem_fun(*this, &amp;Fenetre::cacherMessageEtat));
    
    //Un cas d’utilisation de pack_end() est l’ajout d’une barre d’état.
    boiteV.pack_end(barreEtat, Gtk::PACK_SHRINK);
    
    show_all();
}

bool Fenetre::afficherMessageEtat(GdkEventCrossing* event, std::string message) {
    (void)event;
    barreEtat.push(message);
    return true;
}

bool Fenetre::cacherMessageEtat(GdkEventCrossing* event) {
    (void)event;
    barreEtat.remove_all_messages();
    return true;
}</code></pre><p id="r-399643" data-claire-element-id="399643">La seule information que vous ignorez dans ce programme est les signaux utilisés :<br/> Le signal <code data-claire-semantic="cpp">enter_notify_event()</code> est émit lorsque la souris pointe sur le bouton.<br/> Le signal <code data-claire-semantic="cpp">leave_notify_event()</code> est émit, quant à lui, lorsque la souris quitte le bouton.</p><aside id="r-399645" data-claire-element-id="399645" data-claire-semantic="information"><p id="r-399644" data-claire-element-id="399644">Il est très utile d’utiliser la méthode pack_end() afin de s’assurer que la barre d’état se trouvera toujours en bas de la fenêtre.</p></aside><p id="r-399646" data-claire-element-id="399646">Maintenant, vous pouvez vraiment dire que vous savez créer des fenêtres. Vous pouvez pratiquement créer toutes les applications que vous voulez.</p><p id="r-399647" data-claire-element-id="399647">Mais... (je sais que vous l'attendiez, celui-là :-° ).<br/> Pratiquez, pratiquez, pratiquez !</p><p id="r-399648" data-claire-element-id="399648">Modifier votre jeu de morpion (je ne le lâcherai jamais, ce jeu :p ).<br/> Ajoutez-lui un menu qui permet de commencer une nouvelle partie, de quitter le programme (avec une confirmation si la partie n'est pas terminé, bien sûr ^^ ).<br/> Ajoutez-lui une barre d'outils avec les mêmes actions que dans le menu (c'est ce que tout le monde fait, non :lol: ?).<br/> Une barre d’état indiquant l’état du jeu ne serait pas de trop non plus…</p><p id="r-399649" data-claire-element-id="399649">Pratiquez, car dans le prochain chapitre, vous ferez un TP. :o</p><p id="r-399650" data-claire-element-id="399650">Vous venez d'apprendre beaucoup de choses sur la conception d'<em>interfaces graphiques</em>.<br/> C'est une grande partie que vous venez de voir, là.</p><p id="r-399651" data-claire-element-id="399651">Étant donné qu'il y a beaucoup de nouveautés, je vous recommande vraiment de pratiquer. C'est nécessaire.<br/> Ne me dites pas que vous êtes en panne d'idées, car il y a beaucoup de logiciels sur votre ordinateur que vous pouvez imiter. ;)</p><aside id="r-399653" data-claire-element-id="399653" data-claire-semantic="warning"><p id="r-399652" data-claire-element-id="399652">Le tutoriel est en cours de rédaction ; il n'est donc pas terminé.<br/> D'autres chapitres arriveront bientôt.<br/> J'attends vos commentaires pour le début de ce tutoriel.</p></aside><p id="r-399654" data-claire-element-id="399654">Maintenant, vous pouvez créer la plupart des fenêtres que vous voulez.<br/> Si vous ne savez pas comment faire quelque chose, allez dans la <a href="http://www.gtkmm.org/documentation.shtml">documentation</a> (je ne vous le dirai jamais assez :D ).</p><p id="r-399655" data-claire-element-id="399655">Pratiquez pour bien comprendre les principes de création d'<em>interfaces graphiques</em> avec gtkmm.</p><p id="r-399656" data-claire-element-id="399656">Maintenant, vous pouvez vous envoler de vos propres ailes.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm">Créer des interfaces graphiques en C++ avec gtkmm !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Créer vos premiers programmes avec gtkmm !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/introduction-58">Introduction</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/qu-est-ce-que-gtk-gtkmm">
Qu&#039;est-ce que GTK+ ? gtkmm ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-widgets-6">
Les widgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/installation-de-gtkmm">
Installation de gtkmm
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/compiler-votre-premiere-application">
Compiler votre première application !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/votre-premiere-fenetre">Votre première fenêtre</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/quelques-mots-sur-les-include">
Quelques mots sur les #include...
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/explication-du-code-de-base">
Explication du code de base
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/modifier-un-widget">
Modifier un widget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/ajout-d-un-widget-a-la-fenetre">
Ajout d&#039;un widget à la fenêtre
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/utiliser-l-heritage">
Utiliser l&#039;héritage !
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-1-2">Les signaux et les fonctions de rappel (Partie 1/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/fonctionnement-des-signaux">
Fonctionnement des signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/connexion-d-un-signal-a-une-fonction-de-rappel">
Connexion d&#039;un signal à une fonction de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-96">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-signaux-et-les-fonctions-de-rappel-partie-2-2">Les signaux et les fonctions de rappel (Partie 2/2)</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-fonctions-de-rappel">
Créez vos propres fonctions de rappel
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/creez-vos-propres-signaux">
Créez vos propres signaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/exemple-98">
Exemple
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/organiser-vos-fenetres-avec-les-conteneurs">Organiser vos fenêtres avec les conteneurs</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-conteneurs">
Les différents conteneurs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-conteneur-d-alignement-1">
Le conteneur d&#039;alignement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-1">
Les boîtes
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-pour-les-boutons-1">
Les boîtes pour les boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-tableaux-29">
Les tableaux
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-onglets-2">
La barre d&#039;onglets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-de-defilement-2">
Les barres de défilement
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-4">Les boîtes de dialogue</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-boites-de-dialogue-de-message">
Les boîtes de dialogue de message
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-couleur">
Boîte de dialogue de sélection de couleur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-police">
Boîte de dialogue de sélection de police
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-de-selection-de-fichier-s">
Boîte de dialogue de sélection de fichier(s)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-boite-de-dialogue-a-propos">
La boîte de dialogue À propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/boite-de-dialogue-personnalisee">
Boîte de dialogue personnalisée
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-principaux-widgets-1">Les principaux widgets</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-differents-boutons">
Les différents boutons
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-d-affichage">
Widgets d&#039;affichage
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/widgets-de-saisie">
Widgets de saisie
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/menus-barres-d-outils-barre-d-etat">Menus, barres d&#039;outils, barre d&#039;état</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-menus-5">
Les menus
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/les-barres-d-outils-1">
Les barres d&#039;outils
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
Le gestionnaire d&#039;interface utilisateur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/la-barre-d-etat-4">
La barre d&#039;état
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/creer-des-interfaces-graphiques-en-c-avec-gtkmm/le-gestionnaire-d-interface-utilisateur">
<span class="arrow"></span>
<span class="next">Le gestionnaire d&#039;interface utilisateur</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/creer-des-interfaces-graphiques-en-c-avec-gtkmm.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:40:52 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/creer-des-interfaces-graphiques-en-c-avec-gtkmm.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:11:57 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/les-espaces-de-noms-en-php.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 03:24:28 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-espaces-de-noms-en-php.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:42:39 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Les espaces de noms en PHP</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/les-espaces-de-noms-en-php.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Les espaces de noms en PHP</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#LesespacesdenomsenPHP">Les espaces de noms en PHP</a><br/><a href="#Prsentationdesnamespaces">Présentation des namespaces</a><br/><a href="#Dclarerunnamespace">Déclarer un namespace</a><br/><a href="#Crerdesalias">Créer des alias</a><br/></div>
<a name="LesespacesdenomsenPHP"></a><h2>Les espaces de noms en PHP</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
<span class="next">Présentation des namespaces</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-429768" data-claire-element-id="429768">Bonjour à tous. :)</p><p id="r-429769" data-claire-element-id="429769">Je vais ici vous présenter un côté de PHP bien intéressant : il s'agit des <strong>espaces de noms</strong> (ou <strong>namespaces</strong>, c'est d'ailleurs comme ça que je vais les désigner pour la suite du tutoriel). Vous découvrirez comment séparer vos constantes, fonctions et classes dans différents espaces afin d'éviter tout conflit : vous pourrez ainsi avoir plusieurs constantes, fonctions ou classes du même nom dans la même application ! :)</p><aside id="r-429771" data-claire-element-id="429771" data-claire-semantic="error"><p id="r-429770" data-claire-element-id="429770">Les <strong>namespaces</strong> sont disponibles depuis PHP 5.3. Veillez donc bien à avoir cette version, sinon vous aurez une belle erreur de parsage. ;)</p></aside>
</div><a name="Prsentationdesnamespaces"></a><h2>Présentation des namespaces</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
<span class="next">Déclarer un namespace</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-429772" data-claire-element-id="429772">Découvrons ce que sont les namespaces. L'implémentation d'un tel module dans un langage comme PHP ne se fait pas sur un coup de tête.</p><h2 id="r-le-probleme-14" data-claire-element-id="429774">Le problème</h2><p id="r-429773" data-claire-element-id="429773">Ce module a été créé afin de répondre à une problématique toute simple : on ne peut pas créer deux constantes, deux fonctions ou deux classes portant le même nom. En effet, si vous réalisez une telle chose, vous aurez une belle erreur vous indiquant que la constante, la fonction ou la classe a déjà été déclarée. Il a donc fallu trouver un système qui puisse être plus souple et résoudre le problème.</p><h2 id="r-la-solution-14" data-claire-element-id="429782">La solution</h2><p id="r-429775" data-claire-element-id="429775">Nos chers développeurs n'ont pas eu à réfléchir longtemps : d'autres langages (comme le C++) utilisaient déjà un système qui permet ce genre de choses. Ils l'ont donc repris et adapté au langage. Le principe est tout simple, et vous le connaissez déjà plus ou moins : l'idée est la même que l'organisation des fichiers.</p><p id="r-429776" data-claire-element-id="429776">On va s'imaginer votre code PHP représenté sous forme de fichiers. Chaque constante, fonction et classe représente un fichier. Actuellement, ils sont tous placés à la racine. Résultat : si deux constantes, fonctions ou classes ont le même nom, tout plantera, pour la même raison qu'il ne peut y avoir deux fichiers portant le même nom dans un même dossier.</p><p id="r-429777" data-claire-element-id="429777">Comme vous l'aurez donc peut-être compris, le principe est de créer des dossiers puis de mettre la constante, fonction ou classe à l'intérieur. Ainsi, celle-ci pourra s'appeler comme elle le souhaitera, car elle sera dans un dossier à part, donc ne créera pas de conflit avec les autres qui sont à la racine. La seule différence majeure est qu'en PHP on n'appelle pas ça un <strong>dossier</strong>, mais un <strong>namespace</strong> (espace de noms). Comme pour les dossiers, vous pouvez en créer autant que vous voulez, il n'y a aucune limite. Vous pouvez placer à l'intérieur de chacun d'entre eux autant d'éléments que vous le souhaitez, à condition qu'il n'y ait pas deux constantes, fonctions ou classes du même nom dans le même namespace, cela va de soi. ;)</p><div id="r-429779" data-claire-element-id="429779" data-claire-semantic="question"><p id="r-429778" data-claire-element-id="429778">Tout mon site a été réalisé sous une version antérieure à PHP 5.3. Je dois tout réécrire pour spécifier dans quel namespace mes éléments se trouvent ?</p></div><p id="r-429780" data-claire-element-id="429780">Bien sûr que non, encore heureux ! Actuellement, si vous n'avez rien changé, tous vos éléments sont dans l'espace de nom <strong>global</strong>. C'est un peu le dossier racine si vous voulez. Il est donc possible de réaliser tout son site sans spécifier de namespace.</p><p id="r-429781" data-claire-element-id="429781">L'utilisation des namespaces se fait donc pour éviter les conflits. Si vous utilisez différentes bibliothèques, il peut être intéressant de les encapsuler dans des namespaces afin que celles-ci n'entrent pas en conflit. Pour une petite application faite maison, cela n'est pas forcément très utile, mais à partir du moment où vous utilisez des constantes, fonctions ou classes d'un autre script, n'hésitez pas à les isoler. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php">Les espaces de noms en PHP</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
Présentation des namespaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
Déclarer un namespace
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/creer-des-alias-1">
Créer des alias
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
<span class="next">Déclarer un namespace</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dclarerunnamespace"></a><h2>Déclarer un namespace</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
<span class="arrow"></span>
<span class="next">Présentation des namespaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/creer-des-alias-1">
<span class="next">Créer des alias</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-429784" data-claire-element-id="429784">La déclaration d'un namespace se fait généralement dans un fichier à part. Il est déconseillé d'en déclarer plusieurs à l'intérieur d'un seul et même fichier, mais c'est possible.</p><h2 id="r-declaration-d-un-namespace" data-claire-element-id="429803">Déclaration d'un namespace</h2><p id="r-429785" data-claire-element-id="429785">Pour déclarer un namespace, il faut utiliser la commande <strong>namespace</strong> suivi du nom du namespace à créer. Rien ne doit être placé avant, que ce soit du HTML ou un simple retour à la ligne. Aucune instruction ne doit d'ailleurs être écrite avant la déclaration du namespace (sauf l'instruction <strong><a href="http://fr.php.net/manual/fr/control-structures.declare.php">declare</a></strong>). Bref, voici un exemple tout bête :</p><pre id="r-429786" data-claire-element-id="429786"><code data-claire-semantic="html+php">&lt;?php
    namespace MonNamespace; // Déclaration du namespace.
    
    // Toutes les constantes, fonctions et classes déclarées ici feront partie du namespace MonNamespace.
?&gt;</code></pre><p id="r-429787" data-claire-element-id="429787">Afin d'être sûr qu'on a créé un nouveau namespace, on va créer une fonction ayant le même nom qu'une autre fournie par PHP, puis exécuter le code.</p><pre id="r-429788" data-claire-element-id="429788"><code data-claire-semantic="html+php">&lt;?php
    namespace MonNamespace;
    
    function strlen()
    {
        echo 'Hello world !';
    }
?&gt;</code></pre><p id="r-429789" data-claire-element-id="429789">Quand vous ouvrez cette page, aucune erreur n'est lancée ! La fonction strlen() a été créée <strong>dans</strong> notre nouveau namespace. Vous pouvez même l'appeler de cette façon :</p><pre id="r-429790" data-claire-element-id="429790"><code data-claire-semantic="html+php">&lt;?php
    namespace MonNamespace;
    
    function strlen()
    {
        echo 'Hello world !';
    }
    
    strlen();
?&gt;</code></pre><p id="r-429791" data-claire-element-id="429791">Et vous verrez qu'à l'écran s'affichera <em>« Hello world ! »</em>.</p><div id="r-429793" data-claire-element-id="429793" data-claire-semantic="question"><p id="r-429792" data-claire-element-id="429792">Euh attends… Qu'est-ce qui s'est passé là ?</p></div><p id="r-429794" data-claire-element-id="429794">Ce qui s'est passé est très simple. Nous avons créé un nouveau namespace, et tout ce qui suit cette déclaration fait partie de ce namespace, c'est donc pour ça que ce n'est pas la fonction strlen() du namespace global qui a été appelée.</p><div id="r-429796" data-claire-element-id="429796" data-claire-semantic="question"><p id="r-429795" data-claire-element-id="429795">Et si je veux appeler une fonction du namespace global, je fais comment ?</p></div><p id="r-429797" data-claire-element-id="429797">Il vous suffit tout simplement de faire précéder le nom de la fonction d'un backslash (<strong>\</strong>), comme ceci :</p><pre id="r-429798" data-claire-element-id="429798"><code data-claire-semantic="html+php">&lt;?php
    namespace MonNamespace;
    
    function strlen()
    {
        echo 'Hello world !';
    }
    
    echo \strlen('Hello world !');
?&gt;</code></pre><p id="r-429799" data-claire-element-id="429799">Ce qui affiche bien « 13 ».</p><aside id="r-429801" data-claire-element-id="429801" data-claire-semantic="information"><p id="r-429800" data-claire-element-id="429800">Si la constante ou fonction que vous avez appelée dans votre namespace n'existe pas, alors PHP ira chercher dans le namespace global. Si elle n'existe toujours pas dans le namespace global, alors une erreur sera levée. En fait, ce n'est pas toujours le cas, mais j'en reparlerai en temps voulu. Pour les classes, PHP lèvera directement une erreur si il ne la trouve pas dans le namespace actuel, il ne cherchera pas dans le namespace global !</p></aside><p id="r-429802" data-claire-element-id="429802">Si vous incluez ce fichier (que l'on nomme par exemple <strong>MonNamespace.ns.php</strong>) dans un autre (par exemple <strong>index.php</strong>), alors le code contenu dans <strong>index.php</strong> fera partie du namespace global, et non de <strong>MonNamespace</strong> !</p><h2 id="r-declaration-de-plusieurs-namespaces-dans-un-meme-fichier" data-claire-element-id="429817">Déclaration de plusieurs namespaces dans un même fichier</h2><p id="r-429804" data-claire-element-id="429804">C'est déconseillé, mais possible. Vous pouvez déclarer plusieurs namespaces à la suite, comme ceci :</p><pre id="r-429805" data-claire-element-id="429805"><code data-claire-semantic="html+php">&lt;?php
    namespace A;
    
    function quelNamespace()
    {
        echo 'A';
    }
    
    quelNamespace(); // Affiche « A ».
    
    namespace B;
    
    function quelNamespace()
    {
        echo 'B';
    }
    
    quelNamespace(); // Affiche « B ».
?&gt;</code></pre><p id="r-429806" data-claire-element-id="429806">Si vous décidez de déclarer plusieurs namespaces au sein d'un même fichier, il est préférable d'utiliser une autre méthode. En effet, mieux vaut utiliser les accolades :</p><pre id="r-429807" data-claire-element-id="429807"><code data-claire-semantic="html+php">&lt;?php
    namespace A
    {
        function quelNamespace()
        {
            echo 'A';
        }
        
        quelNamespace();
    }
    
    namespace B
    {
        function quelNamespace()
        {
            echo 'B';
        }
        
        quelNamespace();
    }
?&gt;</code></pre><p id="r-429808" data-claire-element-id="429808">Le résultat observé est le même. Sachez aussi qu'aucun code ne peut être écrit en dehors de ces accolades.</p><div id="r-429810" data-claire-element-id="429810" data-claire-semantic="question"><p id="r-429809" data-claire-element-id="429809">Et si je veux écrire du code dans le namespace global, je fais comment ?</p></div><p id="r-429811" data-claire-element-id="429811">Il vous suffit simplement d'ouvrir une nouvelle paire d'accolades, précédée du simple mot <strong>namespace</strong>, comme ceci :</p><pre id="r-429812" data-claire-element-id="429812"><code data-claire-semantic="html+php">&lt;?php
    namespace A
    {
        function quelNamespace()
        {
            echo 'A';
        }
        
        quelNamespace();
    }
    
    namespace B
    {
        function quelNamespace()
        {
            echo 'B';
        }
        
        quelNamespace();
    }
    
    namespace // Le code contenu dans ce namespace fera partie du namespace global.
    {
        echo strlen('Hello world !');
    }
?&gt;</code></pre><p id="r-429813" data-claire-element-id="429813">Et à l'écran s'affichera <em>« AB13 »</em>. Tous les namespaces ont donc bien été exécutés, et le dernier fait bien partie du namespace global puisque strlen() a été correctement appelé.</p><div id="r-429815" data-claire-element-id="429815" data-claire-semantic="question"><p id="r-429814" data-claire-element-id="429814">Tu nous as dit que si une constante, fonction ou classe n'existait pas dans le namespace actuel, alors PHP irait la chercher dans le namespace global. Ta conclusion est donc un peu trop hâtive, non ?</p></div><p id="r-429816" data-claire-element-id="429816">Exact. Puisqu'il vous faut encore plus de preuves et que vous ne me croyez pas, je vais vous présenter une constante magique.</p><h2 id="r-namespace" data-claire-element-id="429823">__NAMESPACE__</h2><p id="r-429818" data-claire-element-id="429818">Cette constante magique est une chaîne de caractères qui contient le nom du namespace dans lequel on se trouve actuellement. Si on est dans l'espace de nom global, alors cette constante est vide.</p><pre id="r-429819" data-claire-element-id="429819"><code data-claire-semantic="html+php">&lt;?php
    namespace A
    {
        echo __NAMESPACE__;
    }
    
    namespace B
    {
    	echo __NAMESPACE__;
    }
    
    namespace
    {
        echo __NAMESPACE__;
    }
?&gt;</code></pre><p id="r-429820" data-claire-element-id="429820">Et à l'écran s'affiche bien « <em>AB</em> ». Le dernier namespace est donc bien le namespace global. Convaincu ? :)</p><aside id="r-429822" data-claire-element-id="429822" data-claire-semantic="information"><p id="r-429821" data-claire-element-id="429821">Pour vérifier mes dires, vous auriez aussi pu écrire une fonction strlen() dans le namespace global. Vous auriez ainsi observé une erreur indiquant que la fonction a déjà été déclarée. C'était plus simple, mais je voulais vous présenter la constante magique <strong>__NAMESPACE__</strong>. :p</p></aside><h2 id="r-declaration-de-sous-namespaces" data-claire-element-id="429832">Déclaration de sous-namespaces</h2><p id="r-429824" data-claire-element-id="429824">Il est dommage de se limiter à la création de simple namespaces, au même titre que de simples dossiers à la racine. Il est donc possible, fort heureusement, de créer des <strong>sous-namespaces</strong> (vous pouvez en créer une infinité).</p><p id="r-429825" data-claire-element-id="429825">Pour créer un namespace à l'intérieur d'un autre, on écrira l'arborescence du namespace. Par arborescence j'entends tous les namespaces parents. Si je veux créer un namespace <strong>B</strong> dans <strong>A</strong>, alors <strong>A</strong> sera le namespace parent de <strong>B</strong>, et il va falloir le spécifier lors de la création de <strong>B</strong>.</p><p id="r-429826" data-claire-element-id="429826">Lorsque vous séparez deux namespaces, il faut les séparer par un backslash (le revoici, celui-là), comme les dossiers sous Windows. Ainsi, si on veut créer <strong>B</strong> dans <strong>A</strong>, on fera comme ça :</p><pre id="r-429827" data-claire-element-id="429827"><code data-claire-semantic="html+php">&lt;?php
    namespace A\B;
    
    echo __NAMESPACE__;
?&gt;</code></pre><p id="r-429828" data-claire-element-id="429828">Et à l'écran s'affiche... « <em>A\B</em> » ! En effet, quand on spécifie un namespace, on part toujours du premier namespace, puis on liste tous les sous-namespaces. Ainsi, le namespace <strong>B</strong> à proprement parler n'existe pas.</p><p id="r-429829" data-claire-element-id="429829">Notez que le namespace <strong>A</strong> est automatiquement créé si on décide de créer le namespace <strong>A\B</strong>. Le namespace <strong>A</strong> est donc vierge et on peut le remplir par la suite :</p><pre id="r-429830" data-claire-element-id="429830"><code data-claire-semantic="html+php">&lt;?php
    namespace A\B
    {
        echo __NAMESPACE__;
    }
    
    namespace A
    {
        echo __NAMESPACE__;
    }
?&gt;</code></pre><p id="r-429831" data-claire-element-id="429831">À l'écran s'affichera bien « <em>A\BA</em> ».</p><h2 id="r-acceder-a-un-element-d-un-namespace-different" data-claire-element-id="429842">Accéder à un élément d'un namespace différent</h2><p id="r-429833" data-claire-element-id="429833">Créer des namespaces c'est bien, mais pouvoir appeler des constantes, fonctions ou classes d'un namespace différent, c'est encore mieux. Pour cela, il suffit de spécifier le namespace auquel appartient l'élément juste avant de l'appeler. Comme pour les fichiers, il y a deux façons de procéder.</p><ul id="r-429838" data-claire-element-id="429838"><li id="r-429835" data-claire-element-id="429835"><p id="r-429834" data-claire-element-id="429834">De façon <strong>relative</strong> : l'appel de l'élément dépendra du namespace dans lequel vous êtes. Celui-ci est <strong>relatif</strong> au namespace courant.</p></li><li id="r-429837" data-claire-element-id="429837"><p id="r-429836" data-claire-element-id="429836">De façon <strong>absolue</strong> : l'appel de l'élément se fait en partant du namespace global puis en listant tous les sous-namespaces jusqu'au namespace souhaité.</p></li></ul><p id="r-429839" data-claire-element-id="429839">Prenons un exemple tout simple :</p><pre id="r-429840" data-claire-element-id="429840"><code data-claire-semantic="html+php">&lt;?php
    namespace A\B
    {
        function getNamespace()
        {
            echo __NAMESPACE__;
        }
    }
    
    namespace A
    {
        B\getNamespace(); // Appel de façon relative.
        \A\B\getNamespace(); // Appel de façon absolue.
    }
?&gt;</code></pre><p id="r-429841" data-claire-element-id="429841">Vous revoyez encore ce backslash. Vous n'avez pas fini de le voir, dans le monde des namespaces sous PHP, c'est lui qui est utilisé pour séparer deux éléments. ;)</p><h2 id="r-un-peu-de-vocabulaire-8" data-claire-element-id="429855">Un peu de vocabulaire</h2><p id="r-429843" data-claire-element-id="429843">Quand vous appelez une constante, fonction ou classe, alors le nom de l'élément que vous appelez est <strong>qualifié</strong> ou <strong>non qualifié</strong>.</p><ul id="r-429848" data-claire-element-id="429848"><li id="r-429845" data-claire-element-id="429845"><p id="r-429844" data-claire-element-id="429844">On dit que le nom de l'élément est qualifié si le namespace dans lequel il se trouve est spécifié. Exemple : B\fonction() et \A\B\fonction() sont tous les deux des éléments qualifiés.</p></li><li id="r-429847" data-claire-element-id="429847"><p id="r-429846" data-claire-element-id="429846">On dit que le nom de l'élément est non qualifié si le namespace dans lequel il se trouve n'est pas spécifié. Exemple : fonction() est un élément non qualifié.</p></li></ul><p id="r-429849" data-claire-element-id="429849">Ceci m'oblige à revenir sur quelque chose que je vous ai dit plus tôt. Je vous avais dit que si la constante ou fonction appelée n'existait pas dans le namespace actuel, alors PHP irait chercher dans le namespace global. En fait, c'est le cas uniquement si le nom de l'élément est non qualifié. S'il est qualifié, alors PHP lèvera une erreur directement, sans aller chercher dans le namespace global. Pour rappel, si vous vous servez d'une classe dans un namespace dans lequel elle n'est pas déclarée, une erreur sera levée, que l'élément soit qualifié ou non. ;)</p><div id="r-429851" data-claire-element-id="429851" data-claire-semantic="question"><p id="r-429850" data-claire-element-id="429850">Donc si je veux appeler un élément du namespace courant, celui-ci sera forcément un élément non qualifié, à moins que je l'appelle de façon absolue, c'est ça ?</p></div><p id="r-429852" data-claire-element-id="429852">Pas vraiment. Il existe un moyen d'appeler un élément du namespace courant de façon relative tout en étant qualifié. Pour cela, il y a le mot-clé <strong>namespace</strong>. Vous le connaissez déjà, c'est lui qui permet de déclarer un nouveau namespace, mais je vais vous présenter ici une autre de ces fonctionnalités : pouvoir appeler un élément de l'espace courant de façon relative tout en étant qualifié. Il s'utilise simplement comme ceci :</p><pre id="r-429853" data-claire-element-id="429853"><code data-claire-semantic="html+php">&lt;?php
    namespace A;
    
    echo strlen('Hello world !'); // Appel relatif, élément non qualifié.
    echo namespace\strlen('Hello world !'); // Appel relatif, élément qualifié. Résultat : erreur fatale car fonction inexistante.
?&gt;</code></pre><p id="r-429854" data-claire-element-id="429854">Comme vous l'aurez peut-être deviné, <strong>namespace</strong> représente le namespace actuel. Pour ceux qui savent programmer orienté objet, le mot-clé <strong>namespace</strong> peut être comparé au mot-clé <strong>self</strong>. L'un représente le namespace, l'autre la classe.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php">Les espaces de noms en PHP</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
Présentation des namespaces
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
Déclarer un namespace
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/creer-des-alias-1">
Créer des alias
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
<span class="arrow"></span>
<span class="next">Présentation des namespaces</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/creer-des-alias-1">
<span class="next">Créer des alias</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crerdesalias"></a><h2>Créer des alias</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
<span class="arrow"></span>
<span class="next">Déclarer un namespace</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-429857" data-claire-element-id="429857">Il est possible d'obtenir une arborescence assez longue. Par exemple, imaginez que vous devez utiliser le namespace A\B\C\D\E\F. L'écrire à chaque fois pour appeler une constante, fonction ou classe peut être lourd. Pour cela, vous pouvez dire à PHP <em>« À chaque fois que j'écrirai nsF <strong>(par exemple)</strong>, tu feras comme si j'avais écrit A\B\C\D\E\F »</em>. On dit dans ce cas-là que <strong>nsF</strong> est un alias de <strong>A\B\C\D\E\F</strong>.</p><p id="r-429858" data-claire-element-id="429858">Pour dire une telle chose à PHP, on utilise la commande <strong>use</strong>, suivie du long namespace (dans notre cas, il s'agit de A\B\C\D\E\F). Ensuite, il faut dire que le nom de l'alias est <strong>nsF</strong>. On va donc placer à la suite de cette commande le mot-clé <strong>as</strong> suivi du nom de l'alias (donc <strong>nsF</strong> dans notre cas).</p><pre id="r-429859" data-claire-element-id="429859"><code data-claire-semantic="html+php">&lt;?php
    use A\B\C\D\E\F as nsF;
?&gt;</code></pre><p id="r-429860" data-claire-element-id="429860">Testons notre code. Dans un fichier <strong>F.ns.php</strong>, placez ceci :</p><pre id="r-429861" data-claire-element-id="429861"><code data-claire-semantic="html+php">&lt;?php
    namespace A\B\C\D\E\F;
    
    function getNamespace()
    {
        echo __NAMESPACE__;
    }
?&gt;</code></pre><p id="r-429862" data-claire-element-id="429862">Dans un autre fichier quelconque, essayez le code suivant :</p><pre id="r-429863" data-claire-element-id="429863"><code data-claire-semantic="html+php">&lt;?php
    require 'F.ns.php';
    
    use A\B\C\D\E\F as nsF;
    
    nsF\getNamespace(); // Se transforme en A\B\C\D\E\F\getNamespace().
?&gt;</code></pre><p id="r-429864" data-claire-element-id="429864">Et à l'écran s'affiche bien « <em>A\B\C\D\E\F</em> ». On a donc bien appelé la fonction getNamespace() du namespace <strong>A\B\C\D\E\F</strong>.</p><p id="r-429865" data-claire-element-id="429865">Vous pouvez créer plusieurs alias en les séparant par une virgule, comme ceci :</p><pre id="r-429866" data-claire-element-id="429866"><code data-claire-semantic="html+php">&lt;?php
    use A\B\C\D\E\F as nsF, G\H\I\J\K\L as nsL;
?&gt;</code></pre><p id="r-429867" data-claire-element-id="429867">Il existe aussi une autre façon d'utiliser <strong>use</strong>. En effet, vous n'êtes pas obligé de spécifier le nom de l'alias avec <strong>as</strong>. Dans ce dernier cas, le nom de l'alias sera le nom du dernier namespace. Exemple :</p><pre id="r-429868" data-claire-element-id="429868"><code data-claire-semantic="html+php">&lt;?php
    use A\B\C\D\E\F;
    // …revient au même que d'écrire :
    use A\B\C\D\E\F as F;
?&gt;</code></pre><p id="r-429869" data-claire-element-id="429869">Afin de vous convaincre, vous n'avez qu'à utiliser ce code :</p><pre id="r-429870" data-claire-element-id="429870"><code data-claire-semantic="html+php">&lt;?php
    require 'F.ns.php';
    
    use A\B\C\D\E\F;
    
    F\getNamespace(); // Se transforme en A\B\C\D\E\F\getNamespace().
?&gt;</code></pre><h2 id="r-importation-de-classes" data-claire-element-id="429878">Importation de classes</h2><p id="r-429871" data-claire-element-id="429871">Nous allons voir une façon d'utiliser <strong>use</strong> qui permet d'importer des classes, et <strong>uniquement</strong> des classes (ça ne fonctionnera pas avec des constantes ou fonctions). Le but est d'importer la classe d'un certain namespace dans le namespace courant. Par exemple, dans le fichier F.ns.php, nous allons créer une classe toute bête :</p><pre id="r-429872" data-claire-element-id="429872"><code data-claire-semantic="html+php">&lt;?php
    namespace A\B\C\D\E\F;
    
    class MaClasse
    {
        public function hello()
        {
            echo 'Hello world !';
        }
    }
?&gt;</code></pre><p id="r-429873" data-claire-element-id="429873">Pour importer la classe, il suffit de taper <strong>use espace\de oms\MaClasse</strong>. Exemple :</p><pre id="r-429874" data-claire-element-id="429874"><code data-claire-semantic="html+php">&lt;?php
    require 'F.ns.php';
    
    use A\B\C\D\E\F\MaClasse;
    
    $a = new MaClasse; // Se transforme en $a = new A\B\C\D\E\F\MaClasse.
    $a-&gt;hello();
?&gt;</code></pre><p id="r-429875" data-claire-element-id="429875">Tout fonctionne bien, à l'écran s'affichera bien « <em>Hello world !</em> ». Vous pouvez bien entendu utiliser le mot-clé <strong>as</strong> afin de modifier le nom de la classe :</p><pre id="r-429876" data-claire-element-id="429876"><code data-claire-semantic="html+php">&lt;?php
    require 'F.ns.php';
    
    use A\B\C\D\E\F\MaClasse as Hello;
    
    $a = new Hello; // Se transforme en $a = new A\B\C\D\E\F\MaClasse.
    $a-&gt;hello();
?&gt;</code></pre><p id="r-429877" data-claire-element-id="429877">Ce tutoriel s'arrête ici. J'espère qu'il aura été utile et agréable à lire. :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php">Les espaces de noms en PHP</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/presentation-des-namespaces">
Présentation des namespaces
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
Déclarer un namespace
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/creer-des-alias-1">
Créer des alias
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-espaces-de-noms-en-php/declarer-un-namespace">
<span class="arrow"></span>
<span class="next">Déclarer un namespace</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/les-espaces-de-noms-en-php.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 03:24:28 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-espaces-de-noms-en-php.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:42:39 GMT -->
</html>
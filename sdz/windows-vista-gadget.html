<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/windows-vista-gadget.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:35:39 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/windows-vista-gadget.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:23:37 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Windows Vista Gadget</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/windows-vista-gadget.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Windows Vista Gadget</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#WindowsVistaGadget">Windows Vista Gadget</a><br/><a href="#WindowsSidebaretsesGadgets">Windows Sidebar et ses Gadgets</a><br/><a href="#Compositiond039ungadget">Composition d&#039;un gadget</a><br/><a href="#Crationd039ungadget">Création d&#039;un gadget</a><br/><a href="#Crerlesoptions">Créer les options</a><br/><a href="#Gadgetmulti-languesetnormalis">Gadget multi-langues et normalisé</a><br/></div>
<a name="WindowsVistaGadget"></a><h2>Windows Vista Gadget</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
<span class="next">Windows Sidebar et ses Gadgets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-451413" data-claire-element-id="451413">Bonjour à tous : vous avez, j'espère, tous entendu parler de ce nouveau système d'exploitation qu'est Windows Vista (Windows NT 6.0) ? Sinon allez <a href="http://fr.wikipedia.org/wiki/Microsoft_Windows_Vista">ici</a> :) .<br/> Bon : pour les autres, nous allons ici apprendre à développer un Gadget pour la Windows Sidebar !!!</p><p id="r-451414" data-claire-element-id="451414">Allez hop, au travail tout de suite les gars, nul besoin d'être un super programmeur pour y arriver (j'en suis la preuve ^^ ) et je vais bien sûr vous assister dans cette péripétie :p .</p>
</div><a name="WindowsSidebaretsesGadgets"></a><h2>Windows Sidebar et ses Gadgets</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
<span class="next">Composition d&#039;un gadget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451415" data-claire-element-id="451415">Voilà : vous venez d'acquérir Windows Vista et vous ne connaissez pas encore tout de votre nouveau système d'exploitation préféré ! Ne vous inquiétez pas, nous allons voir maintenant ce qu'est la Windows Sidebar ainsi que ses fabuleux gadgets ; regardez l'illustration ci-après :</p><figure id="r-451417" data-claire-element-id="451418"><img id="r-451416" data-claire-element-id="451416" src="medias/uploads.siteduzero.com_files_59001_60000_59773.jpg" alt="Ecran Vista"/></figure><p id="r-451419" data-claire-element-id="451419">Remarquez alors sur la droite une barre transparente, c'est la fameuse et toute nouvelle Windows Sidebar !</p><p id="r-451420" data-claire-element-id="451420">Cette barre permet avec le petit plus du haut (au-dessus de l'horloge) d'ajouter des... Gadgets comme ceci :</p><figure id="r-451422" data-claire-element-id="451423"><img id="r-451421" data-claire-element-id="451421" src="medias/uploads.siteduzero.com_files_59001_60000_59772.jpg" alt="Ajoutwidget"/></figure><p id="r-451424" data-claire-element-id="451424">Il ne vous reste plus qu'à sélectionner un gadget et à le glisser sur votre Sidebar personnel.</p><p id="r-451425" data-claire-element-id="451425">Maintenant, regardez bien le gadget nommé GOOGLE Search au milieu et à droite, le gadget avec un logo Google, c'est celui que nous allons apprendre à réaliser tout de suite ;) .</p><p id="r-451426" data-claire-element-id="451426">Ne vous inquiétez pas, ce n'est que du langage HTML, du CSS et un peu de JavaScript : alors, voyons ça tout de suite...</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget">Windows Vista Gadget</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
Windows Sidebar et ses Gadgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
Composition d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
Création d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
Créer les options
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
Gadget multi-langues et normalisé
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
<span class="next">Composition d&#039;un gadget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Compositiond039ungadget"></a><h2>Composition d&#039;un gadget</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
<span class="arrow"></span>
<span class="next">Windows Sidebar et ses Gadgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
<span class="next">Création d&#039;un gadget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451428" data-claire-element-id="451428">Nous allons maintenant voir de quoi est formé un magnifique Gadget : ne vous inquiétez pas, un webmaster saura s'y retrouver très facilement. :)</p><table id="r-451473" data-claire-element-id="451473"><thead id="r-451436" data-claire-element-id="451436"><tr id="r-451435" data-claire-element-id="451435"><th id="r-451430" data-claire-element-id="451430"><p id="r-451429" data-claire-element-id="451429">Type de fichier</p></th><th id="r-451432" data-claire-element-id="451432"><p id="r-451431" data-claire-element-id="451431">Description</p></th><th id="r-451434" data-claire-element-id="451434"><p id="r-451433" data-claire-element-id="451433">Extension</p></th></tr></thead><tbody id="r-451472" data-claire-element-id="451472"><tr id="r-451443" data-claire-element-id="451443"><td id="r-451438" data-claire-element-id="451438"><p id="r-451437" data-claire-element-id="451437">Manifest</p></td><td id="r-451440" data-claire-element-id="451440"><p id="r-451439" data-claire-element-id="451439">Contient les descriptions du gadget tels que l'auteur, son numéro de version...</p></td><td id="r-451442" data-claire-element-id="451442"><p id="r-451441" data-claire-element-id="451441">nom.xml</p></td></tr><tr id="r-451450" data-claire-element-id="451450"><td id="r-451445" data-claire-element-id="451445"><p id="r-451444" data-claire-element-id="451444">Fichier HTML</p></td><td id="r-451447" data-claire-element-id="451447"><p id="r-451446" data-claire-element-id="451446">Contient le code pour l'affichage et pour définir des pages supplémentaires</p></td><td id="r-451449" data-claire-element-id="451449"><p id="r-451448" data-claire-element-id="451448">nom.html</p></td></tr><tr id="r-451457" data-claire-element-id="451457"><td id="r-451452" data-claire-element-id="451452"><p id="r-451451" data-claire-element-id="451451">Fichier des options</p></td><td id="r-451454" data-claire-element-id="451454"><p id="r-451453" data-claire-element-id="451453">Permet de définir les options de votre gadget</p></td><td id="r-451456" data-claire-element-id="451456"><p id="r-451455" data-claire-element-id="451455">Settings.html</p></td></tr><tr id="r-451464" data-claire-element-id="451464"><td id="r-451459" data-claire-element-id="451459"><p id="r-451458" data-claire-element-id="451458">Fichier Javascript</p></td><td id="r-451461" data-claire-element-id="451461"><p id="r-451460" data-claire-element-id="451460">Permet d'interagir avec les événements utilisateur</p></td><td id="r-451463" data-claire-element-id="451463"><p id="r-451462" data-claire-element-id="451462">nom.js</p></td></tr><tr id="r-451471" data-claire-element-id="451471"><td id="r-451466" data-claire-element-id="451466"><p id="r-451465" data-claire-element-id="451465">Images et feuilles de styles</p></td><td id="r-451468" data-claire-element-id="451468"><p id="r-451467" data-claire-element-id="451467">Images à insérer et feuilles de style CSS</p></td><td id="r-451470" data-claire-element-id="451470"><p id="r-451469" data-claire-element-id="451469">nom.png ou nom.css</p></td></tr></tbody></table><p id="r-451474" data-claire-element-id="451474">Vous pouvez donc utiliser tous ces langages pour concevoir votre gadget ou encore utiliser du Flash et de l'Active X, mais je ne traiterai pas de cela ici pour des raisons de simplicité.</p><aside id="r-451476" data-claire-element-id="451476" data-claire-semantic="warning"><p id="r-451475" data-claire-element-id="451475">Le fichier des options doit obligatoirement se nommer Settings.html mais pour les autres dossiers, choisissez leurs noms à votre guise !</p></aside><p id="r-451477" data-claire-element-id="451477">Allez, on attaque les choses sérieuses à la section suivante :pirate: .</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget">Windows Vista Gadget</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
Windows Sidebar et ses Gadgets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
Composition d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
Création d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
Créer les options
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
Gadget multi-langues et normalisé
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
<span class="arrow"></span>
<span class="next">Windows Sidebar et ses Gadgets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
<span class="next">Création d&#039;un gadget</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crationd039ungadget"></a><h2>Création d&#039;un gadget</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
<span class="arrow"></span>
<span class="next">Composition d&#039;un gadget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
<span class="next">Créer les options</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451479" data-claire-element-id="451479">Allez : on attaque tout de suite :-°</p><p id="r-451480" data-claire-element-id="451480">Sous Windows Vista, cliquez sur le menu démarrer puis sur Tous les programmes, Accessoires et enfin Exécuter... (ou plus simplement, sur le bureau, appuyez sur les touches Windows + R).</p><p id="r-451481" data-claire-element-id="451481">Dans la fenêtre qui vient de s'ouvrir, collez cette ligne :</p><pre id="r-451482" data-claire-element-id="451482"><code data-claire-semantic="console">%userprofile%\AppData\Local\Microsoft\Windows Sidebar\Gadgets</code></pre><p id="r-451483" data-claire-element-id="451483">Normalement, vous devriez maintenant avoir ceci :</p><figure id="r-451485" data-claire-element-id="451486"><img id="r-451484" data-claire-element-id="451484" src="medias/uploads.siteduzero.com_files_57001_58000_57678.jpg" alt="Exécuter commande"/></figure><p id="r-451487" data-claire-element-id="451487">Faites OK (si Vista vous demande de confirmer, ne vous inquiétez, pas allez-y).</p><p id="r-451488" data-claire-element-id="451488">Vous arrivez dans un dossier vide, créez-en un nouveau à cet endroit nommé GOOGLESearch.gadget (ce dossier contiendra tous les éléments de notre futur gadget).</p><aside id="r-451490" data-claire-element-id="451490" data-claire-semantic="information"><p id="r-451489" data-claire-element-id="451489">Vous devez obligatoirement donner à votre dossier le suffixe .gadget, sinon Vista ne les verra pas !</p></aside><p id="r-451491" data-claire-element-id="451491">À l'intérieur de ce dossier, créez un fichier nommé gadget.html.</p><pre id="r-451492" data-claire-element-id="451492"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
        &lt;title&gt;Mon premier Gadget Google&lt;/title&gt;
        &lt;style&gt;
                body {
                        width:130px;
                        height:87px;
                     }
        &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
        &lt;span id=&quot;gadgetContent&quot; style=&quot;font-family: Tahoma; font-size: 10pt;&quot;&gt;Mon premier Gadget Google !&lt;/span&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-451493" data-claire-element-id="451493">Bon : si vous vous êtes assoupis durant les cours de M@teo21 sur l'xHTML, il n'y a pas de problème, on ne le dira pas au patron :-° ! Allez : pour rappel <a href="http://www.siteduzero.com/tuto-3-6-0-apprenez-a-creer-votre-site-web.html">c'est par là...</a></p><p id="r-451494" data-claire-element-id="451494">Maintenant créez un second fichier nommé gadget.xml et placez-y ce code à l'intérieur :</p><pre id="r-451495" data-claire-element-id="451495"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;
&lt;gadget&gt;

    &lt;name&gt;GOOGLE Search&lt;/name&gt;
       
    &lt;version&gt;1.0&lt;/version&gt;
       
    &lt;author name=&quot;HuGoBosSCoOL26^^&quot;&gt;
        &lt;info url=&quot;http://hugobosscool26.free.fr&quot; /&gt;
    &lt;/author&gt;
       
    &lt;copyright&gt;2007&lt;/copyright&gt;
       
    &lt;description&gt;Gadget pour rechercher sur google !&lt;/description&gt;
       
        &lt;icons&gt;
                &lt;icon height=&quot;48&quot; width=&quot;48&quot; src=&quot;images/icon.png&quot;/&gt;
        &lt;/icons&gt;
 
    &lt;hosts&gt;
        &lt;host name=&quot;sidebar&quot;&gt;
            &lt;base type=&quot;HTML&quot; apiVersion=&quot;1.0.0&quot; src=&quot;gadget.html&quot; /&gt;
            &lt;permissions&gt;full&lt;/permissions&gt;
            &lt;platform minPlatformVersion=&quot;1&quot; /&gt;
                        &lt;defaultImage src=&quot;images/drag.png&quot;/&gt;
        &lt;/host&gt;
    &lt;/hosts&gt;
&lt;/gadget&gt;</code></pre><p id="r-451496" data-claire-element-id="451496">Maintenant, si vous regardez bien ce fichier XML, il y a :</p><p id="r-451497" data-claire-element-id="451497">-&lt;icon height=&quot;48&quot; width=&quot;48&quot; src=&quot;images/icon.png&quot;/&gt;<br/> -&lt;defaultImage src=&quot;images/drag.png&quot;/&gt;</p><div id="r-451499" data-claire-element-id="451499" data-claire-semantic="question"><p id="r-451498" data-claire-element-id="451498">Quésaco, vous direz-vous ?</p></div><p id="r-451500" data-claire-element-id="451500">- L'image icon.png est en fait l'image qui apparaît dans le sélecteur de gadgets (voir l'illustration précédente).</p><p id="r-451501" data-claire-element-id="451501">- L'image drag.png correspond à l'image qui s'affiche lorsque vous sélectionnez le gadget et le déplacez jusqu'à votre Windows Sidebar !</p><p id="r-451502" data-claire-element-id="451502">Récupérez ces deux images et enregistrez-les dans un nouveau dossier nommé images que vous créez donc dans le dossier GOOGLESearch.gadget : la première étant icon.png et l'autre, ben... l'autre :lol: .</p><figure id="r-451504" data-claire-element-id="451505"><img id="r-451503" data-claire-element-id="451503" src="medias/uploads.siteduzero.com_files_57001_58000_57686.png" alt="icône Google Search"/></figure><figure id="r-451507" data-claire-element-id="451508"><img id="r-451506" data-claire-element-id="451506" src="medias/uploads.siteduzero.com_files_57001_58000_57685.png" alt="drag"/></figure><p id="r-451509" data-claire-element-id="451509">Vous vous demandez peut-être à quoi sert ce fichier XML ? À cela, il renseigne les informations sur votre gadget :</p><figure id="r-451511" data-claire-element-id="451512"><img id="r-451510" data-claire-element-id="451510" src="medias/uploads.siteduzero.com_files_57001_58000_57684.jpg" alt="résultat XML"/></figure><p id="r-451513" data-claire-element-id="451513">Et maintenant, après tant de sueur ? ;)</p><p id="r-451514" data-claire-element-id="451514">Eh bien vous venez de créer votre premier Gadget : F-E-L-I-C-I-T-A-T-I-O-N-S !</p><p id="r-451515" data-claire-element-id="451515">Alors allons le tester : je vous laisse aller dans votre Sidebar, puis cliquer sur le + en haut, sélectionner votre gadget nouvellement créé et le rajouter à votre Sidebar !</p><p id="r-451516" data-claire-element-id="451516">Voilà le résultat que vous devriez obtenir :</p><figure id="r-451518" data-claire-element-id="451519"><img id="r-451517" data-claire-element-id="451517" src="medias/uploads.siteduzero.com_files_57001_58000_57688.jpg" alt="gadgetcréé"/></figure><aside id="r-451521" data-claire-element-id="451521" data-claire-semantic="error"><p id="r-451520" data-claire-element-id="451520">Si vous n'avez pas obtenu cela, vous avez commis une erreur : reprenez les étapes précédentes et surtout faites attention aux chemins relatifs des fichiers.</p></aside><p id="r-451522" data-claire-element-id="451522">Mais... mais ce résultat ne me satisfait pas du tout, là :waw: !</p><p id="r-451523" data-claire-element-id="451523">Oui, bon, maintenant nous allons accélérer la manoeuvre alors, remplacez le contenu de votre fichier gadget.html par :</p><pre id="r-451524" data-claire-element-id="451524"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
        &lt;title&gt;Mon Widget Google ! &lt;/title&gt;
        &lt;style&gt;
        body 
        { 
         width:130px;
         height:87px;
        }
        &lt;/style&gt;
        &lt;script src=&quot;js/search.js&quot; language=&quot;javascript&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;

        &lt;script&gt;
                        System.Gadget.settingsUI = &quot;settings.html&quot;;
                        System.Gadget.Settings.write(&quot;urlMoteur&quot;, &quot;http://www.google.fr/search?q=&quot;);//Moteur de recherche par défaut
        &lt;/script&gt;
&lt;/head&gt;

        &lt;body&gt;
                &lt;img src=&quot;/images/logo.png&quot; /&gt;&lt;span style=&quot;color: #6389D8;font-weight: bold;font-size: 10pt;&quot;&gt; Mots clés:&lt;/span&gt;
                &lt;input id=&quot;txtSearch&quot; type=&quot;text&quot; size=&quot;14&quot; maxlength=&quot;30&quot; /&gt;
                &lt;div align=&quot;right&quot;&gt;&lt;input type=&quot;submit&quot; value=&quot;OK&quot; id=&quot;search&quot; name=&quot;search&quot; onclick=&quot;search()&quot; /&gt;&lt;/div&gt;      
        &lt;/body&gt;

&lt;/html&gt;</code></pre><p id="r-451525" data-claire-element-id="451525">Il vous manque encore cette petite image que vous devez placer dans le dossier images, évidemment sous le nom logo.png :</p><figure id="r-451527" data-claire-element-id="451528"><img id="r-451526" data-claire-element-id="451526" src="medias/uploads.siteduzero.com_files_57001_58000_57691.png" alt="logo"/></figure><p id="r-451529" data-claire-element-id="451529">Maintenant, votre Gadget doit ressembler à cela :</p><aside id="r-451531" data-claire-element-id="451531" data-claire-semantic="warning"><p id="r-451530" data-claire-element-id="451530">N'OUBLIEZ PAS : pour que votre gadget se mette à jour, il faut supprimer l'ancien puis le rajouter à nouveau.</p></aside><figure id="r-451533" data-claire-element-id="451534"><img id="r-451532" data-claire-element-id="451532" src="medias/uploads.siteduzero.com_files_59001_60000_59767.jpg" alt="resultat"/></figure><p id="r-451535" data-claire-element-id="451535">À présent, toujours dans le dossier GOOGLESearch.gadget, créez un nouveau dossier nommé js, puis créez un fichier nommé search.js et collez ce code à l'intérieur :</p><pre id="r-451536" data-claire-element-id="451536"><code data-claire-semantic="javascript">function search()
{
    var moteur = System.Gadget.Settings.read(&quot;urlMoteur&quot;);
    window.open(moteur+txtSearch.value,'window');
}</code></pre><p id="r-451537" data-claire-element-id="451537">Ce code JavaScript se chargera d'ouvrir un navigateur avec le mot clé qui est à rechercher. ;)</p><aside id="r-451539" data-claire-element-id="451539" data-claire-semantic="information"><p id="r-451538" data-claire-element-id="451538">Vous vous demandez peut-être pourquoi je vous fais créer tant de dossiers ? En fait, c'est pour mieux séparer le code et pour qu'il corresponde au standard défini par Microsoft, si vous souhaitez ensuite distribuer votre Gadget.</p></aside><p id="r-451540" data-claire-element-id="451540">Et maintenant que vais-je faire ?</p><p id="r-451541" data-claire-element-id="451541">Mettez à jour votre gadget comme expliqué précédemment, rentrez un mot clé et là, M-I-R-A-C-L-E, un navigateur web démarre avec le moteur de recherche Google par défaut, et en requête, le mot clé rentré précédemment.</p><p id="r-451542" data-claire-element-id="451542">Nous allons maintenant rajouter quelques options à notre gadget : continuons donc notre bonhomme de chemin ensemble...</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget">Windows Vista Gadget</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
Windows Sidebar et ses Gadgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
Composition d&#039;un gadget
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
Création d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
Créer les options
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
Gadget multi-langues et normalisé
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
<span class="arrow"></span>
<span class="next">Composition d&#039;un gadget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
<span class="next">Créer les options</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crerlesoptions"></a><h2>Créer les options</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
<span class="arrow"></span>
<span class="next">Création d&#039;un gadget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
<span class="next">Gadget multi-langues et normalisé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451544" data-claire-element-id="451544">Vous avez sûrement remarqué qu'en faisant un clic droit sur un gadget, il y a un bouton nommé Options :</p><figure id="r-451546" data-claire-element-id="451547"><img id="r-451545" data-claire-element-id="451545" src="medias/uploads.siteduzero.com_files_57001_58000_57695.jpg" alt="Options"/></figure><p id="r-451548" data-claire-element-id="451548">Pour notre gadget, nous n'avons pas ces options, alors créons-les tout de suite : pour ceci, il suffit juste de créer un fichier nommé Settings.html que vous placez à la racine du dossier GOOGLESearch.gadget :</p><pre id="r-451549" data-claire-element-id="451549"><code data-claire-semantic="html">&lt;html&gt;
&lt;head&gt;
        &lt;style&gt;
                body
                { width:300; height:100;}
        &lt;/style&gt;
        &lt;script&gt;
        
                function init()//Initialisation du champ de texte
                {
                        var temp = System.Gadget.Settings.read(&quot;urlMoteur&quot;);
                        
                        if (temp != &quot;&quot;)//On regarde si la variable existe 
                                {
                                 URL.innerText = temp;//si elle existe, alors on met dans la boîte de dialogue d'affichage le moteur de recherche entré
                                }
                }

                System.Gadget.onSettingsClosing = SettingsClosing;
                
                function SettingsClosing(event)//On regarde les actions faites
                {
                       if (event.closeAction == event.Action.commit)//Si le bouton OK de la boîte option est enclenché
                        {
                                System.Gadget.Settings.write(&quot;urlMoteur&quot;, URL.value);//On enregistre la valeur du champ URL dans urlMoteur
                        }
                        event.cancel = false;
                }
        &lt;/script&gt;
&lt;/head&gt;

        &lt;body onload=&quot;init()&quot;&gt;

                Changer de moteur de recherche :&lt;br&gt;
                &lt;input type=&quot;text&quot; id=&quot;URL&quot; length=&quot;100&quot;&gt;

        &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-451550" data-claire-element-id="451550">Bon : pour le code, il est commenté, donc ça devrait aller pour vous, je fais juste ici un récapitulatif du déroulement de l'algorithme.</p><p id="r-451551" data-claire-element-id="451551">Le body est affiché (affichage de : Changer de moteur de recherche) et exécute en même temps au chargement la méthode init() (correspond à : &lt;body onload=&quot;init()&quot;&gt;).</p><p id="r-451552" data-claire-element-id="451552">La méthode init() récupère l'urlMoteur défini dans le fichier gadget.html avec ceci mis par défaut &quot;http://www.google.fr/search?q=&quot;. Comme la variable temp n'est pas vide, on écrit dans la boîte à options l'URL du moteur de recherche.</p><p id="r-451553" data-claire-element-id="451553">La fonction SettingsClosing(event) qui possède en paramètre un événement de l'utilisateur se déclenche lorsque la boîte d'Options est fermée : on teste alors l'origine de cette fermeture, et si elle correspond au bouton OK (if (event.closeAction == event.Action.commit)), on enregistre la nouvelle valeur rentrée par l'utilisateur.</p><p id="r-451554" data-claire-element-id="451554">Vous pouvez par exemple rentrer ceci : <a href="http://fr.wikipedia.org/wiki/Special%3ASearch%3Fsearch%3D">http://fr.wikipedia.org/wiki/Special:Search?search=</a></p><p id="r-451555" data-claire-element-id="451555">Maintenant, votre recherche s'effectuera sur l'encyclopédie Wikipédia :p !</p><p id="r-451556" data-claire-element-id="451556">Allez : encore un petit effort, vous avez bientôt terminé le tutoriel. :ange:</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget">Windows Vista Gadget</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
Windows Sidebar et ses Gadgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
Composition d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
Création d&#039;un gadget
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
Créer les options
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
Gadget multi-langues et normalisé
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
<span class="arrow"></span>
<span class="next">Création d&#039;un gadget</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
<span class="next">Gadget multi-langues et normalisé</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gadgetmulti-languesetnormalis"></a><h2>Gadget multi-langues et normalisé</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
<span class="arrow"></span>
<span class="next">Créer les options</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-451558" data-claire-element-id="451558">Nous allons maintenant parler de la localisation. o_O o_O</p><p id="r-451559" data-claire-element-id="451559">Définition : cela correspond à la langue du système d'exploitation de l'utilisateur :D .</p><p id="r-451560" data-claire-element-id="451560">Si vous souhaitez distribuer à grande échelle votre Gadget, il faudra qu'il corresponde à des normes déterminées par Microsoft et qu'il s'adapte à la langue du système d'exploitation, parce qu'un gadget avec Mots clés ne plaira certainement pas à des anglophones :'( ...</p><p id="r-451561" data-claire-element-id="451561">Bon : pour les normes, nous avons déjà commencé en créant un dossier images en y plaçant les images, un dossier js qui contient nos fichiers JavaScript.</p><p id="r-451562" data-claire-element-id="451562">Maintenant, il faut créer un nouveau dossier à la racine de notre gadget nommé fr-FR : <strong>fr</strong> pour français et <strong>FR</strong> pour France ; en Belgique, cela sera fr-BE, et ainsi de suite...</p><p id="r-451563" data-claire-element-id="451563">À l'intérieur de ce dossier, nous allons insérer notre fichier gadget.html. :lol: Voilà pour les français !</p><p id="r-451564" data-claire-element-id="451564">Pas compliqué direz-vous ; alors, pour les américains, c'est quasiment la même chose, créez un nouveau dossier en-US à la racine de votre gadget, copiez-collez le fichier gadget.html et maintenant, traduisez-le (rien de difficile dans notre cas de transformer <em>mots clés</em> en <em>key words</em> dans le body).</p><p id="r-451565" data-claire-element-id="451565">Pour résumer tout cela :</p><figure id="r-451567" data-claire-element-id="451568"><img id="r-451566" data-claire-element-id="451566" src="medias/uploads.siteduzero.com_files_57001_58000_57698.jpg" alt="résumé"/></figure><p id="r-451569" data-claire-element-id="451569">Nous en avons donc maintenant terminé pour les explications !</p><p id="r-451570" data-claire-element-id="451570">Voilà : je suis ravi de vous avoir fait partager mon petit savoir et j'espère que ce tutoriel vous aura servi pour créer vos propres gadgets. :soleil:</p><p id="r-451571" data-claire-element-id="451571">Pour vous inspirer, vous pouvez aller également <a href="http://microsoftgadgets.com/Forums/">ici</a> ou encore <a href="http://gallery.live.com/results.aspx?l=1">là</a> pour proposer vos Gadgets !</p><p id="r-451572" data-claire-element-id="451572">N'hésitez pas à me poser des questions ou dirigez-vous sur le forum. :)</p><p id="r-451573" data-claire-element-id="451573">P.-S. : puisqu'il faut toujours rendre à César ce qui appartient à César, je me suis inspiré de ces deux sources pour réaliser ce tutoriel : <a href="http://microsoftgadgets.com/Sidebar/DevelopmentOverview.aspx#introduction">lien 1</a> et <a href="http://lgmorand.developpez.com/articles/sidebar-gadget/">lien 2 qui m'a autorisé à m'aider de sa réalisation</a>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget">Windows Vista Gadget</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/windows-sidebar-et-ses-gadgets">
Windows Sidebar et ses Gadgets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/composition-d-un-gadget">
Composition d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creation-d-un-gadget">
Création d&#039;un gadget
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
Créer les options
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/gadget-multi-langues-et-normalise">
Gadget multi-langues et normalisé
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/windows-vista-gadget/creer-les-options">
<span class="arrow"></span>
<span class="next">Créer les options</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/windows-vista-gadget.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:35:44 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/windows-vista-gadget.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:23:39 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/comprendre-et-configurer-x-org.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:24:03 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/comprendre-et-configurer-x-org.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:50:28 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Comprendre et configurer X.org</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/comprendre-et-configurer-x-org.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Comprendre et configurer X.org</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#ComprendreetconfigurerX.org">Comprendre et configurer X.org</a><br/><a href="#InstallationdeX.org">Installation de X.org</a><br/><a href="#ConfigurationdeX.orgprsentationduxorg.conf">Configuration de X.org : présentation du xorg.conf</a><br/><a href="#Scriptsdeconfiguration">Scripts de configuration</a><br/><a href="#Pourallerplusloin">Pour aller plus loin</a><br/></div>
<a name="ComprendreetconfigurerX.org"></a><h2>Comprendre et configurer X.org</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
<span class="next">Installation de X.org</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-371429" data-claire-element-id="371429">Bonjour à tous !</p><p id="r-371430" data-claire-element-id="371430">Vous rencontrez des difficultés à configurer votre affichage sur votre distribution GNU/Linux préférée ? Des problèmes d'accélération graphique ou de résolution d'écran ?</p><p id="r-371431" data-claire-element-id="371431">Il y a beaucoup de chances que dans ce cas, vous soyez obligé de configurer vous même votre X.org. Si cela n'a rien d'impossible (bien au contraire) c'est une opération un peu délicate la première fois. Ce tutoriel a pour but de vous présenter X.org ainsi que de vous aider à le configurer.</p>
</div><a name="InstallationdeX.org"></a><h2>Installation de X.org</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
<span class="next">Configuration de X.org : présentation du xorg.conf</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-presentation-de-x-org" data-claire-element-id="371445">Présentation de X.org</h2><p id="r-371432" data-claire-element-id="371432">X.org est un logiciel libre du type serveur X, la famille des systèmes de fenêtrage la plus connue, pour les systèmes d'exploitation de type UNIX. X.org est l'implémentation officielle du système graphique X Window System.</p><p id="r-371433" data-claire-element-id="371433">C'est donc un serveur graphique, c'est lui qui va faire en sorte que l'on dispose d'autre chose que les ttys sur votre système, il va nous fournir une interface graphique. Seul, il est limité; il n'affiche en effet que des fenêtres, il faudra recourir à l'utilisation d'un gestionnaire de fenêtre ou d'un environnement de bureau si on veut un résultat plus agréable à l'oeil.</p><p id="r-371434" data-claire-element-id="371434">X.org est un programme basé sur une architecture serveur/client :</p><ul id="r-371441" data-claire-element-id="371441"><li id="r-371436" data-claire-element-id="371436"><p id="r-371435" data-claire-element-id="371435">le serveur X est lancé sur une machine possédant un écran, un clavier et une souris (ou d'autres périphériques)</p></li><li id="r-371438" data-claire-element-id="371438"><p id="r-371437" data-claire-element-id="371437">le client X se connecte au serveur afin de lui donner ses requêtes, ce sont des applications graphiques affichées dans une fenêtre du serveur X</p></li><li id="r-371440" data-claire-element-id="371440"><p id="r-371439" data-claire-element-id="371439">le protocole X qui permet l'échange de données entre le serveur et le client</p></li></ul><p id="r-371442" data-claire-element-id="371442">Vous l'aurez compris, sans serveur graphique, impossible d'avoir un rendu autre que celui de la console. Je vous invite donc de ce pas à installer un serveur graphique, si ce n'est déjà fait.</p><aside id="r-371444" data-claire-element-id="371444" data-claire-semantic="information"><p id="r-371443" data-claire-element-id="371443">Bien entendu, si vous êtes en train de lire ces lignes, il y a de très grandes chances que ça soit via une interface graphique, il n'y a alors rien à installer. Les instructions d'installation ne sont valables que dans le cas d'une nouvelle distribution sans interface graphique installée par défaut.</p></aside><h2 id="r-installation-de-x-org" data-claire-element-id="371502">Installation de X.org</h2><p id="r-371446" data-claire-element-id="371446">Il suffit d'installer le paquet xorg avec votre gestionnaire de paquetages favori. On lancera par exemple sous Archlinux</p><pre id="r-371447" data-claire-element-id="371447"><code data-claire-semantic="console"># pacman -S xorg</code></pre><p id="r-371448" data-claire-element-id="371448">Notons que ce paquet (qui est en fait un groupe) contient entre autres</p><table id="r-371500" data-claire-element-id="371500"><tbody id="r-371499" data-claire-element-id="371499"><tr id="r-371453" data-claire-element-id="371453"><td id="r-371450" data-claire-element-id="371450"><p id="r-371449" data-claire-element-id="371449">xf86-video-vesa</p></td><td id="r-371452" data-claire-element-id="371452"><p id="r-371451" data-claire-element-id="371451">Pilote graphique générique, fonctionne avec une majorité de cartes graphiques</p></td></tr><tr id="r-371458" data-claire-element-id="371458"><td id="r-371455" data-claire-element-id="371455"><p id="r-371454" data-claire-element-id="371454">xorg-fonts-100dpi</p></td><td id="r-371457" data-claire-element-id="371457"><p id="r-371456" data-claire-element-id="371456">Police de caractères, définition 100 dpi</p></td></tr><tr id="r-371463" data-claire-element-id="371463"><td id="r-371460" data-claire-element-id="371460"><p id="r-371459" data-claire-element-id="371459">xorg-fonts-75dpi</p></td><td id="r-371462" data-claire-element-id="371462"><p id="r-371461" data-claire-element-id="371461">Police de caractères, définition 75 dpi</p></td></tr><tr id="r-371468" data-claire-element-id="371468"><td id="r-371465" data-claire-element-id="371465"><p id="r-371464" data-claire-element-id="371464">xorg-res-utils</p></td><td id="r-371467" data-claire-element-id="371467"><p id="r-371466" data-claire-element-id="371466">Utilitaire pour gérer les ressources de xorg</p></td></tr><tr id="r-371473" data-claire-element-id="371473"><td id="r-371470" data-claire-element-id="371470"><p id="r-371469" data-claire-element-id="371469">xorg-server</p></td><td id="r-371472" data-claire-element-id="371472"><p id="r-371471" data-claire-element-id="371471">Votre serveur graphique</p></td></tr><tr id="r-371478" data-claire-element-id="371478"><td id="r-371475" data-claire-element-id="371475"><p id="r-371474" data-claire-element-id="371474">xorg-server-utils</p></td><td id="r-371477" data-claire-element-id="371477"><p id="r-371476" data-claire-element-id="371476">Utilitaires indispensables au serveur</p></td></tr><tr id="r-371483" data-claire-element-id="371483"><td id="r-371480" data-claire-element-id="371480"><p id="r-371479" data-claire-element-id="371479">xorg-twm</p></td><td id="r-371482" data-claire-element-id="371482"><p id="r-371481" data-claire-element-id="371481">Gestionnaire de fenêtre par défaut de xorg</p></td></tr><tr id="r-371488" data-claire-element-id="371488"><td id="r-371485" data-claire-element-id="371485"><p id="r-371484" data-claire-element-id="371484">xorg-utils</p></td><td id="r-371487" data-claire-element-id="371487"><p id="r-371486" data-claire-element-id="371486">Utilitaires permettant d'avoir des infos sur le serveur</p></td></tr><tr id="r-371493" data-claire-element-id="371493"><td id="r-371490" data-claire-element-id="371490"><p id="r-371489" data-claire-element-id="371489">xorg-xinit</p></td><td id="r-371492" data-claire-element-id="371492"><p id="r-371491" data-claire-element-id="371491">Script d'initialisation de session (exécuté par startx)</p></td></tr><tr id="r-371498" data-claire-element-id="371498"><td id="r-371495" data-claire-element-id="371495"><p id="r-371494" data-claire-element-id="371494">xterm</p></td><td id="r-371497" data-claire-element-id="371497"><p id="r-371496" data-claire-element-id="371496">Émulateur de terminal par défaut de xorg</p></td></tr></tbody></table><p id="r-371501" data-claire-element-id="371501"><em>Détail du groupe xorg</em><br/> On va maintenant pouvoir configurer notre serveur.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org">Comprendre et configurer X.org</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
Installation de X.org
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
Configuration de X.org : présentation du xorg.conf
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
Scripts de configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
Pour aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
<span class="next">Configuration de X.org : présentation du xorg.conf</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="ConfigurationdeX.orgprsentationduxorg.conf"></a><h2>Configuration de X.org : présentation du xorg.conf</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
<span class="arrow"></span>
<span class="next">Installation de X.org</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
<span class="next">Scripts de configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-apercu-du-xorg-conf" data-claire-element-id="371517">Aperçu du xorg.conf</h2><p id="r-371504" data-claire-element-id="371504">Nous allons maintenant devoir configurer notre serveur graphique pour que tout se passe bien. Que vous installiez une distribution sans interface graphique ou que vous ayez des ennuis avec le serveur graphique que vous utilisez actuellement, il est bon de savoir utiliser un éditeur de texte en ligne de commande. On ne saurait effectivement pas utiliser Kate ou Gedit en cas, vu que l'interface graphique ne fonctionnerait pas. Optez par exemple pour nano qui est simple à utiliser ou pour vim ou emacs, vous savez ce que vous faites dans ce cas là.</p><p id="r-371505" data-claire-element-id="371505">Toute la configuration de X.org se passe au niveau de son fichier de configuration, le xorg.conf. Ce fichier est par défaut situé dans /etc/X11/xorg.conf.</p><p id="r-371506" data-claire-element-id="371506">Aucune précaution n'est inutile, commencez tout d'abord par sauvegarder votre xorg.conf actuel.</p><pre id="r-371507" data-claire-element-id="371507"><code data-claire-semantic="console">cp /etc/X11/xorg.conf /etc/X11/xorg.conf.backup</code></pre><p id="r-371508" data-claire-element-id="371508">Si vous désirez le récupérer, inversez les opérandes de la commande cp.</p><h3 id="r-structure-du-fichier-xorg-conf" data-claire-element-id="371516">Structure du fichier xorg.conf</h3><p id="r-371509" data-claire-element-id="371509">Nous allons maintenant nous attarder sur un exemple de xorg.conf (le mien) et en détailler sa structure. Cette partie est <em>facultative</em> car, comme nous allons le voir, il existe quelques scripts permettant la configuration (semi)automatique d'un fichier valide. Il est quand même utile de savoir comment il est construit, ne serait-ce que si on est amené à le modifier à la main, ou par simple curiosité. Voici donc un xorg.conf valide</p><p id="r-371510" data-claire-element-id="371510"></p><div id="r-371512" data-claire-element-id="371512"><pre id="r-371511" data-claire-element-id="371511"><code data-claire-semantic="console">Section &quot;ServerLayout&quot;
    Identifier     &quot;Layout0&quot;
    Screen      0  &quot;Screen0&quot;
    InputDevice    &quot;Keyboard0&quot; &quot;CoreKeyboard&quot;
    InputDevice    &quot;Mouse0&quot; &quot;CorePointer&quot;
EndSection

Section &quot;Files&quot;
EndSection

Section &quot;InputDevice&quot;
    # generated from default
    Identifier     &quot;Mouse0&quot;
    Driver         &quot;mouse&quot;
    Option         &quot;Protocol&quot; &quot;auto&quot;
    Option         &quot;Device&quot; &quot;/dev/psaux&quot;
    Option         &quot;Emulate3Buttons&quot; &quot;no&quot;
    Option         &quot;ZAxisMapping&quot; &quot;4 5&quot;
EndSection

Section &quot;InputDevice&quot;
    # generated from default
    Identifier     &quot;Keyboard0&quot;
    Driver         &quot;kbd&quot;
EndSection

Section &quot;Monitor&quot;
    Identifier     &quot;Monitor0&quot;
    VendorName     &quot;Unknown&quot;
    ModelName      &quot;Unknown&quot;
    HorizSync       28.0 - 33.0
    VertRefresh     43.0 - 72.0
    Option         &quot;DPMS&quot;
EndSection

Section &quot;Device&quot;
    Identifier     &quot;Device0&quot;
    Driver         &quot;nvidia&quot;
    VendorName     &quot;NVIDIA Corporation&quot;
EndSection

Section &quot;Screen&quot;
    Identifier     &quot;Screen0&quot;
    Device         &quot;Device0&quot;
    Monitor        &quot;Monitor0&quot;
    DefaultDepth    24
    SubSection     &quot;Display&quot;
        Depth       24
    EndSubSection
EndSection</code></pre></div><p id="r-371513" data-claire-element-id="371513">Comme vous le voyez, le fichier est composée de plusieurs sections, chacune définissant les paramètres pour une partie du système. On rencontre ainsi la section qui permet de configurer la carte graphique, celle qui permet de configurer le clavier/la souris, ou encore celle qui gère l'écran. Chaque section admet la syntaxe suivante</p><pre id="r-371514" data-claire-element-id="371514"><code data-claire-semantic="console">Section &quot;nom de la section&quot;
   entrées...
EndSection</code></pre><p id="r-371515" data-claire-element-id="371515">Notons aussi que certaines sections font appel récursivement à d'autres. On va maintenant observer chacune de ces sections en détails.</p><h2 id="r-detail-des-differentes-sections" data-claire-element-id="371539">Détail des différentes sections</h2><p id="r-371518" data-claire-element-id="371518">On va détailler les différentes sections dans l'ordre d'apparition sur mon xorg.conf.</p><h3 id="r-section-serverlayout" data-claire-element-id="371522">Section ServerLayout</h3><p id="r-371519" data-claire-element-id="371519">Dans cette section, on liste tout ce qui est périphérique d'entrée, comme la souris ou le clavier, ainsi que les écrans. Cette section doit au minimum comporter les entrées &quot;Identifier&quot; et Screen.</p><p id="r-371520" data-claire-element-id="371520">Voici un exemple de section ServerLayout</p><pre id="r-371521" data-claire-element-id="371521"><code data-claire-semantic="console">Section &quot;ServerLayout&quot;
    Identifier     &quot;Layout0&quot;
    Screen      0  &quot;Screen0&quot;
    InputDevice    &quot;Keyboard0&quot; &quot;CoreKeyboard&quot;
    InputDevice    &quot;Mouse0&quot; &quot;CorePointer&quot;
EndSection</code></pre><h3 id="r-section-inputdevice" data-claire-element-id="371526">Section InputDevice</h3><p id="r-371523" data-claire-element-id="371523">Dans cette section, on précise les périphériques d'entrées, le clavier et la souris. On les renseigne en même temps que les pilotes à utiliser. Seules les entrées &quot;Identifier&quot; et &quot;Driver&quot; sont obligatoires, le reste est optionnel.</p><p id="r-371524" data-claire-element-id="371524">Voici un exemple de section InputDevice</p><pre id="r-371525" data-claire-element-id="371525"><code data-claire-semantic="console">Section &quot;InputDevice&quot;
    # generated from default
    Identifier     &quot;Keyboard0&quot;
    Driver         &quot;kbd&quot;
EndSection</code></pre><h3 id="r-section-monitor" data-claire-element-id="371530">Section Monitor</h3><p id="r-371527" data-claire-element-id="371527">Cette section contient la description et les options spécifiques à un moniteur, ainsi que les informations sur le mode vidéo. Elle possède une seule entrée obligatoire: Identifier, afin de pouvoir la nommer.</p><p id="r-371528" data-claire-element-id="371528">Voici un exemple de section Monitor</p><pre id="r-371529" data-claire-element-id="371529"><code data-claire-semantic="console">Section &quot;Monitor&quot;
    Identifier     &quot;Monitor0&quot;
    VendorName     &quot;Unknown&quot;
    ModelName      &quot;Unknown&quot;
    HorizSync       28.0 - 33.0
    VertRefresh     43.0 - 72.0
    Option         &quot;DPMS&quot;
EndSection</code></pre><h3 id="r-section-device" data-claire-element-id="371534">Section Device</h3><p id="r-371531" data-claire-element-id="371531">Cette partie contient les informations matérielles de la carte graphique. Tout comme la section InputDevice, elle nécessite au moins deux entrées: Identifier et Driver, les autres entrées sont aussi optionnelles.</p><p id="r-371532" data-claire-element-id="371532">Voici un exemple de section device</p><pre id="r-371533" data-claire-element-id="371533"><code data-claire-semantic="console">Section &quot;Device&quot;
    Identifier     &quot;Device0&quot;
    Driver         &quot;nvidia&quot;
    VendorName     &quot;NVIDIA Corporation&quot;
EndSection</code></pre><h3 id="r-section-screen" data-claire-element-id="371538">Section Screen</h3><p id="r-371535" data-claire-element-id="371535">Cette section est définie par un moniteur et une carte graphique, afin de pouvoir permettre l'affichage, c'est aussi ici que le mode vidéo utilisé est choisi parmi les modes que l'ordinateur peut gérer. Elle possède deux entrées obligatoires: Identifier et Device. Elle est souvent composée d'une sous-section Display possédant au moins une entrée Depth, informant sur la profondeur des couleurs à utiliser.</p><p id="r-371536" data-claire-element-id="371536">Voici un exemple de section Screen</p><pre id="r-371537" data-claire-element-id="371537"><code data-claire-semantic="console">Section &quot;Screen&quot;
    Identifier     &quot;Screen0&quot;
    Device         &quot;Device0&quot;
    Monitor        &quot;Monitor0&quot;
    DefaultDepth    24
    SubSection     &quot;Display&quot;
        Depth       24
    EndSubSection
EndSection</code></pre><h2 id="r-liens-entre-les-differentes-sections" data-claire-element-id="371547">Liens entre les différentes sections</h2><p id="r-371540" data-claire-element-id="371540">Beaucoup de sections sont optionnelles, mais certains sont obligatoires et nécessaires au bon fonctionnement de notre serveur graphique. Imaginons un système tout simple, uniquement constitué d'un écran, d'un clavier et d'une souris.</p><p id="r-371541" data-claire-element-id="371541">L'écran Screen sera défini par une carte graphique: Device et un moniteur: Monitor. Le clavier et la souris seront chacun défini par une section InputDevice. La combinaison de la section Screen et des InputDevice forme un ServerLayout. On peut représenter ceci par un arbre</p><figure id="r-371543" data-claire-element-id="371544"><img id="r-371542" data-claire-element-id="371542" src="medias/uploads.siteduzero.com_files_254001_255000_254901.jpg" alt="Image utilisateur"/></figure><p id="r-371545" data-claire-element-id="371545"><em>Structure générique du fichier de configuration de X.org</em><br/> Un même ServerLayout peut avoir plusieurs écrans, ou bien utiliser plusieurs cartes graphiques, il est donc possible que vous ayez plusieurs sections Device et/ou Monitor. De plus, il est possible de trouver plusieurs ServerLayout au sein de xorg.conf, car plusieurs serveurs X peuvent être lancés simultanément sur une même machine (Par exemple en passant en console tty à l'aide de Ctrl+Alt+F1).</p><p id="r-371546" data-claire-element-id="371546">Vous serez d'accord avec moi que si on doit tout configurer soi-même, ça devient vite assez pénible, sans compter la probabilité élevée de faire une erreur, compromettant ainsi notre belle interface graphique. Il existe des scripts qui génèrent un xorg.conf valide, ils sont l'objet de la section suivante.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org">Comprendre et configurer X.org</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
Installation de X.org
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
Configuration de X.org : présentation du xorg.conf
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
Scripts de configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
Pour aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
<span class="arrow"></span>
<span class="next">Installation de X.org</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
<span class="next">Scripts de configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Scriptsdeconfiguration"></a><h2>Scripts de configuration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
<span class="arrow"></span>
<span class="next">Configuration de X.org : présentation du xorg.conf</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
<span class="next">Pour aller plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-371549" data-claire-element-id="371549">Comme je viens de vous le dire, on est heureusement assisté par des scripts de configuration, on va les présenter ainsi qu'expliquer leur utilisation. Mais avant, on va un peu parler des pilotes.</p><h3 id="r-une-question-de-pilotes" data-claire-element-id="371623">Une question de pilotes</h3><p id="r-371550" data-claire-element-id="371550">Histoire de profiter pleinement de sa carte graphique, il est important d'installer le bon pilote et de le renseigner. Le pilote générique, vesa, est par défaut utilisé. Bien qu'il fonctionnera sur énormément (pour ne pas dire toutes) de cartes graphiques, il a un rendu que vous pourriez juger insuffisant. On préférera donc le substituer par un pilote plus adapté à son matériel.</p><p id="r-371551" data-claire-element-id="371551">Alors, afin de savoir de quelle carte graphique on dispose, et par extension, savoir quel pilote installer, on va lister tous les composants connectés au bus PCI (dont votre carte graphique) et on va filtrer le résultat au moyen de grep, pour ne récolter que les informations nécessaires. On lancera donc la commande suivante</p><pre id="r-371552" data-claire-element-id="371552"><code data-claire-semantic="console">lspci | grep VGA</code></pre><p id="r-371553" data-claire-element-id="371553">dont le résultat est, chez moi</p><pre id="r-371554" data-claire-element-id="371554"><code data-claire-semantic="console">[renaud@renaud-laptop ~]$ lspci | grep VGA
01:00.0 VGA compatible controller: nVidia Corporation G84 [GeForce 9500M GS] (rev a1)</code></pre><p id="r-371555" data-claire-element-id="371555">La conclusion est donc que j'ai une carte nVidia. Il existe trois grandes familles de cartes graphiques :</p><ul id="r-371562" data-claire-element-id="371562"><li id="r-371557" data-claire-element-id="371557"><p id="r-371556" data-claire-element-id="371556">ATI</p></li><li id="r-371559" data-claire-element-id="371559"><p id="r-371558" data-claire-element-id="371558">Intel</p></li><li id="r-371561" data-claire-element-id="371561"><p id="r-371560" data-claire-element-id="371560">nVidia</p></li></ul><p id="r-371563" data-claire-element-id="371563">Suivant la carte graphique dont vous disposez, il faudra installer un pilote différent. Voici les pilotes à installer suivant le type de carte graphique</p><table id="r-371594" data-claire-element-id="371594"><thead id="r-371571" data-claire-element-id="371571"><tr id="r-371570" data-claire-element-id="371570"><th id="r-371565" data-claire-element-id="371565"><p id="r-371564" data-claire-element-id="371564">nVidia</p></th><th id="r-371567" data-claire-element-id="371567"><p id="r-371566" data-claire-element-id="371566">ATI</p></th><th id="r-371569" data-claire-element-id="371569"><p id="r-371568" data-claire-element-id="371568">Intel</p></th></tr></thead><tbody id="r-371593" data-claire-element-id="371593"><tr id="r-371578" data-claire-element-id="371578"><td id="r-371573" data-claire-element-id="371573"><p id="r-371572" data-claire-element-id="371572">nouveau (driver libre)</p></td><td id="r-371575" data-claire-element-id="371575"><p id="r-371574" data-claire-element-id="371574">ati (driver libre)</p></td><td id="r-371577" data-claire-element-id="371577"><p id="r-371576" data-claire-element-id="371576">i810 (driver propriétaire)</p></td></tr><tr id="r-371585" data-claire-element-id="371585"><td id="r-371580" data-claire-element-id="371580"><p id="r-371579" data-claire-element-id="371579">nv (driver libre)</p></td><td id="r-371582" data-claire-element-id="371582"><p id="r-371581" data-claire-element-id="371581">catalyst (driver propriétaire)</p></td><td id="r-371584" data-claire-element-id="371584"><p id="r-371583" data-claire-element-id="371583">i910 (driver propriétaire)</p></td></tr><tr id="r-371592" data-claire-element-id="371592"><td id="r-371587" data-claire-element-id="371587"><p id="r-371586" data-claire-element-id="371586">nvidia (driver propriétaire)</p></td><td id="r-371589" data-claire-element-id="371589"><p id="r-371588" data-claire-element-id="371588">radeon (driver libre)</p></td><td id="r-371591" data-claire-element-id="371591"><p id="r-371590" data-claire-element-id="371590">intel (driver libre)</p></td></tr></tbody></table><p id="r-371595" data-claire-element-id="371595"><em>Tableau non exhaustif de pilotes à installer selon le vendeur de carte graphique</em><br/> Reportez-vous à la documentation officielle de votre distribution pour plus de détails. Une fois que vous êtes certain du pilote à installer, installez-le comme un paquetage classique.</p><h2 id="r-scripts-de-configuration-generiques" data-claire-element-id="371610">Scripts de configuration génériques</h2><p id="r-371596" data-claire-element-id="371596">On va parler des scripts de configuration du serveur X. Notez que si vous disposez d'une carte graphique nVidia ou ATI, il y a des scripts plus adaptés à votre cas. Ils seront évoqués après les scripts génériques.</p><h3 id="r-x-configure" data-claire-element-id="371603">X -configure</h3><p id="r-371597" data-claire-element-id="371597">La façon la plus courante de générer son xorg.conf est de lancer le script X -configure. Loggez-vous en root, et lancez donc la commande suivante</p><pre id="r-371598" data-claire-element-id="371598"><code data-claire-semantic="console"># X -configure</code></pre><p id="r-371599" data-claire-element-id="371599">Testez la configuration générée au moyen de la commande suivante (ctrl+alt+backscape pour tuer le serveur graphique)</p><pre id="r-371600" data-claire-element-id="371600"><code data-claire-semantic="console"># X -config /root/xorg.conf.new</code></pre><p id="r-371601" data-claire-element-id="371601">Si cette configuration vous convient, déplacez donc le fichier créé dans le répertoire personnel de l'utilisateur root à l'endroit approprié.</p><pre id="r-371602" data-claire-element-id="371602"><code data-claire-semantic="console"># mv /root/xorg.conf.new /etc/X11/xorg.conf</code></pre><h3 id="r-xorgconfig" data-claire-element-id="371609">xorgconfig</h3><p id="r-371604" data-claire-element-id="371604">Si la méthode X -configure n'a pas fonctionné, vous pourriez vouloir lancer l'utilitaire xorgconfig.<br/> Il s'agit d'un utilitaire textuel qui va vous poser des questions sur votre matériel, en anglais. Munissez-vous donc de la documentation de votre matériel et prenez votre temps, une erreur vous obligerait à tout recommencer.</p><pre id="r-371605" data-claire-element-id="371605"><code data-claire-semantic="console"># xorgconfig</code></pre><p id="r-371606" data-claire-element-id="371606">Si ça ne fonctionne pas, lancez</p><pre id="r-371607" data-claire-element-id="371607"><code data-claire-semantic="console"># xorgcfg -textmode</code></pre><p id="r-371608" data-claire-element-id="371608">Après avoir répondu aux questions, sauvegardez le fichier à l'endroit conventionnel : /etc/X11/xorg.conf</p><h2 id="r-scripts-de-configuration-specifiques" data-claire-element-id="371622">Scripts de configuration spécifiques</h2><p id="r-371611" data-claire-element-id="371611">On va maintenant expliquer l'utilisation des scripts dédiés aux cartes nVidia et ATI.</p><h3 id="r-carte-nvidia" data-claire-element-id="371615">Carte nVidia</h3><p id="r-371612" data-claire-element-id="371612">Si vous avez une carte nVidia et que vous utilisez le driver propriétaire, qui offre souvent de meilleures performances (mais qui n'est pas libre), alors vous lancerez le script suivant</p><pre id="r-371613" data-claire-element-id="371613"><code data-claire-semantic="console"># nvidia-xconfig</code></pre><p id="r-371614" data-claire-element-id="371614">qui vous générera un xorg.conf prêt à l'emploi.</p><h3 id="r-cartes-ati" data-claire-element-id="371621">Cartes ATI</h3><p id="r-371616" data-claire-element-id="371616">Même remarque que pour les cartes nVidia, si vous utilisez le driver propriétaire, lancez le script suivant</p><pre id="r-371617" data-claire-element-id="371617"><code data-claire-semantic="console"># aticonfig --initial -f</code></pre><p id="r-371618" data-claire-element-id="371618">qui vous générera un xorg.conf prêt à l'emploi.</p><p id="r-371619" data-claire-element-id="371619">Notez qu'en général, il est bon d'aller regarder le xorg.conf généré et d'observer l'entrée Driver de la section InputDevice, pour voir si c'est bien le bon pilote qui est renseigné.</p><p id="r-371620" data-claire-element-id="371620">Si ce n'est pas le cas, modifiez-le manuellement</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org">Comprendre et configurer X.org</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
Installation de X.org
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
Configuration de X.org : présentation du xorg.conf
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
Scripts de configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
Pour aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
<span class="arrow"></span>
<span class="next">Configuration de X.org : présentation du xorg.conf</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
<span class="next">Pour aller plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Pourallerplusloin"></a><h2>Pour aller plus loin</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
<span class="arrow"></span>
<span class="next">Scripts de configuration</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-371625" data-claire-element-id="371625">Maintenant que notre serveur graphique est correctement configuré, on va encore voir 3 dernières petites choses : HAL, startx et l'accélération graphique.</p><h2 id="r-hal" data-claire-element-id="371629">HAL</h2><p id="r-371626" data-claire-element-id="371626">Afin que notre serveur graphique détecte correctement nos périphériques d'entrée, notre souris et notre clavier dans notre cas, il est nécessaire de lancer un daemon qui vont permettre de les reconnaître et de les utiliser.</p><p id="r-371627" data-claire-element-id="371627">On utilisera HAL, acronyme de <em>hardware abstraction layer</em>, pour « couche d'abstraction matérielle » en français, qui assure la communication entre le matériel et les applications.</p><p id="r-371628" data-claire-element-id="371628">Lancez le donc au boot, avec les autres daemons.</p><h2 id="r-startx-configuration-de-xinitrc" data-claire-element-id="371635">startx : configuration de .xinitrc</h2><p id="r-371630" data-claire-element-id="371630">Lorsque vous lancez la commande startx depuis une console, le fichier ~/.xinitrc sera lu. Par défaut, voici ce à quoi il ressemble</p><pre id="r-371631" data-claire-element-id="371631"><code data-claire-semantic="console">#!/bin/sh

#
# ~/.xinitrc
#
# Executed by startx (run your window manager from here)
#

# exec gnome-session
# exec startkde
# exec startxfce4
# exec icewm
# exec openbox
# exec blackbox
# exec fluxbox
# exec ratpoison
# exec dwm
# ... or any other WM of your choosing ...</code></pre><p id="r-371632" data-claire-element-id="371632">Le principe est simple, il suffit de décommenter la ligne correspondant au gestionnaire de fenêtre/environnement de bureau que vous comptez utiliser.</p><p id="r-371633" data-claire-element-id="371633">Si toutefois vous souhaitez tester votre serveur graphique sans avoir recours à ce fichier, alors vous utiliserez</p><pre id="r-371634" data-claire-element-id="371634"><code data-claire-semantic="console">startx /usr/bin/commandeDuWM</code></pre><h2 id="r-l-acceleration-graphique" data-claire-element-id="371648">L'accélération graphique</h2><p id="r-371636" data-claire-element-id="371636">Les cartes graphiques offrent des ressources matérielles afin d'accélérer tous les traitements liés aux graphismes. Ces traitements sont l'affichage de vidéo (décompression mpeg), l'affichage de DVD en plein écran, les images animées 3D (jeux, animations, etc.).</p><p id="r-371637" data-claire-element-id="371637">Pour ce faire, le noyau doit pouvoir dialoguer avec la carte graphique. Ce dialogue est établi par un pilote qui pourra tirer pleinement parti des ressources matérielles disponibles.</p><p id="r-371638" data-claire-element-id="371638">Par la suite, le serveur graphique pourra utiliser ces ressources afin d'accélérer les affichages ou permettre des effets de bureaux spectaculaires.</p><h3 id="r-l-acceleration-est-elle-activee" data-claire-element-id="371642">L'accélération est-elle activée ?</h3><p id="r-371639" data-claire-element-id="371639">Avant de commencer toute manipulation, il est préférable de savoir si l'accélération graphique n'est pas déjà activée. En effet, certaines cartes sont reconnues immédiatement par le système et dès lors, il n'est pas nécessaire de se lancer dans des paramétrages plus avancés. Pour le savoir, lancez donc</p><pre id="r-371640" data-claire-element-id="371640"><code data-claire-semantic="console">glxinfo | grep &quot;direct rendering&quot;</code></pre><p id="r-371641" data-claire-element-id="371641">Si on renvoie yes, alors elle l'est, sinon, elle ne l'est pas.</p><h3 id="r-activation-de-l-acceleration-graphique" data-claire-element-id="371647">Activation de l'accélération graphique</h3><p id="r-371643" data-claire-element-id="371643">Il suffit bien souvent de changer de pilote. Les pilotes propriétaires prennent en charge l'accélération graphique.</p><p id="r-371644" data-claire-element-id="371644">Voila, nous avons terminé de configurer notre xorg.conf.</p><p id="r-371645" data-claire-element-id="371645">On ne devrait normalement plus avoir de soucis. Si tel était toujours le cas, je vous invite à poster votre problème sur le forum, en joignant d'entrée de jeu le contenu du fichier xorg.conf et du fichier /var/log/Xorg.0.log qui contient le log des événements.</p><p id="r-371646" data-claire-element-id="371646">Je suis disponible par <a href="http://www.siteduzero.com/mp-273-158415.html">MP</a> pour toute remarque/question !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org">Comprendre et configurer X.org</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/installation-de-x-org-1">
Installation de X.org
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/configuration-de-x-org-presentation-du-xorg-conf">
Configuration de X.org : présentation du xorg.conf
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
Scripts de configuration
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/pour-aller-plus-loin-25">
Pour aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/comprendre-et-configurer-x-org/scripts-de-configuration">
<span class="arrow"></span>
<span class="next">Scripts de configuration</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/comprendre-et-configurer-x-org.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:24:03 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/comprendre-et-configurer-x-org.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:50:29 GMT -->
</html>
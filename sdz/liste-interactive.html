<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/liste-interactive.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 19:54:45 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/liste-interactive.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:39:51 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Liste Interactive</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/liste-interactive.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Liste Interactive</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#ListeInteractive">Liste Interactive</a><br/><a href="#AffichageparLocate">Affichage par Locate</a><br/><a href="#Contrleetlancement">Contrôle et lancement</a><br/><a href="#LaforceduGetkey">La force du Getkey</a><br/></div>
<a name="ListeInteractive"></a><h2>Liste Interactive</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
<span class="next">Affichage par Locate</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-345445" data-claire-element-id="345445">Bonjour à vous, amis Zér0s !</p><p id="r-345446" data-claire-element-id="345446">Je vois que vous souhaitez concevoir un petit programme sympathique sous Casio.</p><p id="r-345447" data-claire-element-id="345447">Tout d'abord, je tiens à vous renvoyer au <a href="http://www.siteduzero.com/tuto-3-2275-0-apprenez-le-basic-casio.html">tutoriel de Deltod</a> qui, bien qu'encore en chantier, vous montrera quelques fondamentaux à ce sujet. Nous aborderons tout de même ici les différentes techniques dont nous avons besoin, afin de réaliser l'objectif : créer une liste interactive.</p><p id="r-345448" data-claire-element-id="345448">Vous devez savoir que sous TI, ceci est très simple à faire. En Casio aussi, mais il faut utiliser quelques petites astuces.</p>
</div><a name="AffichageparLocate"></a><h2>Affichage par Locate</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
<span class="next">Contrôle et lancement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-345449" data-claire-element-id="345449">Parfois, on laisse certains choix à faire, lors de la création d'un jeu ou d'un tout autre programme sous Casio. Imaginons par exemple, que vous codiez un simple jeu, où un mode &quot;2 joueurs&quot; est disponible, ainsi qu'une aide, et une possibilité de quitter.</p><p id="r-345450" data-claire-element-id="345450">Vous allez logiquement coder :</p><pre id="r-345451" data-claire-element-id="345451"><code>&quot;1: Un joueur&quot;
&quot;2: Deux joueurs&quot;
&quot;3: Aide&quot;
&quot;4: Quitter&quot;?-&gt;A</code></pre><p id="r-345452" data-claire-element-id="345452">Par exemple. Et ceci nous produira un simple affichage qui commencera à la première ligne, premier caractère, et se terminera par le &quot;?&quot; symbolique demandant à notre utilisateur de rentrer la valeur qu'il souhaite, implicitement entre 1 et 4.<br/> Ceci peut se nommer une liste statique.</p><p id="r-345453" data-claire-element-id="345453">Il y a quelques lacunes dans ce code. Dont l'une est le contrôle de la valeur donnée par l'utilisateur. Qu'est-ce qui l'empêche, en effet, de taper un simple 6 ? Ou encore 0 ? Il faut donc contrôler la valeur de sortie, dire &quot;Si A est inférieur à 1 ou supérieur à 4, alors on redemande.&quot;<br/> Nous verrons comment éviter cela.</p><p id="r-345454" data-claire-element-id="345454">De plus, une telle liste est peu agréable à lire. Le texte est collé, et à moins d'insérer de multiples espaces pour le décaler, on ne peut pas y faire grand-chose en codant ainsi.<br/> D'où l'utilisation de Locate.</p><pre id="r-345455" data-claire-element-id="345455"><code>Locate X,Y,Val</code></pre><p id="r-345456" data-claire-element-id="345456">Locate affiche Val aux coordonnées X, Y. Val peut être une chaîne de caractères &quot;Bouh !&quot; ou un nombre, ou encore la valeur d'une variable.<br/> On peut donc parfaitement écrire :</p><pre id="r-345457" data-claire-element-id="345457"><code>8-&gt;A
Locate 3,5,A;
Locate 3,6,&quot;A&quot;</code></pre><p id="r-345458" data-claire-element-id="345458">Ce qui affichera 8 aux coordonnées (3,5), et &quot;A&quot; aux coordonnées (3,6).</p><aside id="r-345460" data-claire-element-id="345460" data-claire-semantic="information"><p id="r-345459" data-claire-element-id="345459">Ne vous préoccupez point du ';' il s'agit du symbole que nous utiliserons pour le retour à la ligne avec arrêt (attente d'une touche). Il s'agit du triangle plein, que l'on trouve en faisant Shift, Prgm, F5.<br/> Ce joli petit symbole arrête momentanément le code, en affichant -Disp- ainsi que la ligne précédente. L'utilisateur doit alors appuyer sur EXE pour que le code continue.</p></aside><p id="r-345461" data-claire-element-id="345461">Quid des coordonnées ?<br/> Vous devez savoir que X représente l'axe des abscisses et Y celui des ordonnées. Pour éclaircir, tracez un tableau de 21 colonnes sur 7 lignes. Il s'agit de l'écran. La première ligne correspond à Y=1. La cinquième colonne représente X=5. Un caractère emplit l'une des cellules de notre tableau.<br/> Écrire &quot;18&quot; à X=4 et Y=2, signifie que vous aurez le &quot;1&quot; à la position (4, 2) et le &quot;8&quot; à la position (5,2).</p><aside id="r-345463" data-claire-element-id="345463" data-claire-semantic="error"><p id="r-345462" data-claire-element-id="345462">Attention !<br/> Comme je vous l'ai dit, l'écran est alors symboliquement constitué de 21 colonnes et 7 lignes, ce qui signifie que X est compris entre 1 et 21 et Y entre 1 et 7. Il est toutefois recommandé de ne rien afficher en Y=1 et Y=7 par Locate.<br/> De plus, si vous tentez d'afficher quelque chose en X=22 ou en Y=8, c'est-à-dire hors des dimensions dites ci-dessus, alors un &quot;Syn Error&quot; vous sera retourné.</p></aside><p id="r-345464" data-claire-element-id="345464">À vous de jouer !<br/> Deux exercices vous sont proposés ici.</p><p id="r-345465" data-claire-element-id="345465">1) Il s'agit de créer un code affichant &quot;Hello Word&quot;, tout simplement, grâce à Locate au centre de l'écran, à la ligne 3 et 4. On doit donc avoir à l'écran, &quot;Hello&quot; à la ligne 3 et World à la ligne 4. Je veux que l'on ait 3 espaces blancs à gauche. Je vous laisse donc deviner la valeur de X.<br/> Mais je veux qu'on ait un arrêt entre l'apparition de &quot;Hello&quot; et celle de &quot;World&quot;. Utilisez donc le triangle plein dont on parlait tout à l'heure.</p><p id="r-345466" data-claire-element-id="345466">2) Il s'agit de reproduire la même liste statique, mais en utilisant, cette fois, Locate. Je veux qu'on ait un décalage de 4 espaces blancs à gauche, et 2 espaces blancs en haut. A noter que vous ne devez pas mettre le '?' dans le Locate.</p><p id="r-345467" data-claire-element-id="345467">AU FAIT : Locate se trouve par : Shift, Prgm, F6 (&gt;), F4 (I/O), F1 (Lcte).</p><p id="r-345468" data-claire-element-id="345468">Pour les initiés, <strong>I/O</strong> signifie <em>Input/Output</em>, Entrée/Sortie... Bref.</p><p id="r-345469" data-claire-element-id="345469">Ça y est ?</p><p id="r-345470" data-claire-element-id="345470">CORRECTION</p><p id="r-345471" data-claire-element-id="345471">Exercice 1</p><div id="r-345475" data-claire-element-id="345475"><div id="r-345474" data-claire-element-id="345474"><pre id="r-345472" data-claire-element-id="345472"><code>Locate 4,3,&quot;HELLO&quot;;
Locate 4,4,&quot;WORLD&quot;</code></pre><p id="r-345473" data-claire-element-id="345473">C'est très simple, comme vous le voyez. Le choix pouvait être ardu, mais n'oubliez pas que nous avons 3 espaces blancs à gauche. Mettre un X=3 n'aurait laissé que 2 espaces blancs à gauche. :)</p></div></div><p id="r-345476" data-claire-element-id="345476">Exercice 2</p><div id="r-345480" data-claire-element-id="345480"><div id="r-345479" data-claire-element-id="345479"><pre id="r-345477" data-claire-element-id="345477"><code>Locate 5,3,&quot;1: Un joueur&quot;
Locate 5,4,&quot;2: Deux joueurs&quot;
Locate 5,5,&quot;3: Aide&quot;
Locate 5,6,&quot;4: Quitter&quot;
?-&gt;A</code></pre><p id="r-345478" data-claire-element-id="345478">Il s'agit encore une fois d'accumuler les Locate. Ne pas oublier de sauter une ligne (rappel : EXE saute simplement une ligne, sans autre forme de procès, et termine la ligne de commande) entre le dernier Locate et le '?'.</p></div></div><p id="r-345481" data-claire-element-id="345481">Vous savez quasiment tout de Locate. Sachez que l'on peut également utiliser des variables pour les Coordonnées.</p><pre id="r-345482" data-claire-element-id="345482"><code>9-&gt;F
3-&gt;K
Locate F,K,&quot;Bouh&quot;;</code></pre><p id="r-345483" data-claire-element-id="345483">Ce simple code, par exemple, stockera 9 en F et 3 en K. Il affiche ensuite &quot;Bouh&quot; aux coordonnées (9,3).</p><p id="r-345484" data-claire-element-id="345484">Locate apporte un effet visuel, mais a aussi une autre petite utilité, comme vous allez le voir. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive">Liste Interactive</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
Affichage par Locate
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
Contrôle et lancement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/la-force-du-getkey-1">
La force du Getkey
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
<span class="next">Contrôle et lancement</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Contrleetlancement"></a><h2>Contrôle et lancement</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
<span class="arrow"></span>
<span class="next">Affichage par Locate</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/la-force-du-getkey-1">
<span class="next">La force du Getkey</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-345486" data-claire-element-id="345486">On a notre liste statique et un peu plus ergonomique. mais pour le moment, c'est tout ce que nous avons de plus.</p><p id="r-345487" data-claire-element-id="345487">Il s'agit à présent et pour le moment de contrôler la valeur entrée par l'utilisateur et de réagir en fonction.</p><pre id="r-345488" data-claire-element-id="345488"><code>?-&gt;A</code></pre><p id="r-345489" data-claire-element-id="345489">Imaginons qu'ainsi, nous avons notre utilisateur qui tape son choix (de 1 à 4, comme nous l'avons vu).</p><p id="r-345490" data-claire-element-id="345490">Si cet utilisateur tape 1, alors on envoie à un autre programme, qui contient, par exemple, le jeu.<br/> De même s'il tape 2. On ne fait que garder la valeur de A.<br/> Si l'utilisateur tape 3, en revanche, on doit l'amener là où il aura ses explications, l'aide sur le jeu.<br/> Et s'il tape 4, on doit stopper le programme sans autre forme de procès.</p><p id="r-345491" data-claire-element-id="345491">Pour contrôler cette valeur, on utilisera simplement l'opérateur d'exécution '<strong>=&gt;</strong>' [shift, Prgm, F3 (jump), F3 (=&gt;)].<br/> Et pour contrôler, un simple A=1, plutôt qu'une longue série de If / Then / Else.</p><p id="r-345492" data-claire-element-id="345492">Je vous renvoie encore au <a href="http://www.siteduzero.com/tuto-3-2275-0-apprenez-le-basic-casio.html">tuto de Deltod</a> si vous avez oublié le fonctionnement des conditions et souhaitez une explication plus claire.</p><p id="r-345493" data-claire-element-id="345493">On aura donc :</p><pre id="r-345494" data-claire-element-id="345494"><code>?-&gt;A
A=1=&gt;&quot;Bouh&quot;;
A=2=&gt;&quot;Blah&quot;;
A=3=&gt;&quot;Burp&quot;;
A=4=&gt;Stop;</code></pre><p id="r-345495" data-claire-element-id="345495">Pour le moment, notre code paraît bien inutile. Intéressons-nous à la dernière ligne. Stop. C'est une commande arrêtant l'exécution du programme. Pratique, puisque si notre utilisateur tape 4, c'est qu'il veut en fait quitter.</p><aside id="r-345497" data-claire-element-id="345497" data-claire-semantic="information"><p id="r-345496" data-claire-element-id="345496">Note : si cet utilisateur tape frénétiquement (deux fois) sur EXE, le programme redémarrera. Ce qui est normal : un EXE sur un écran en mode RUN lance la dernière commande. Que ce soit un calcul, une fonction, ou un programme.</p></aside><p id="r-345498" data-claire-element-id="345498">Pour trouver Stop :<br/>Shift, Prgm, F2 (Ctl), F4 (Stop).</p><p id="r-345499" data-claire-element-id="345499">Et si l'utilisateur tapait 5 ? Ou &quot;Afterburlohdn&quot; ?</p><p id="r-345500" data-claire-element-id="345500">Il suffirait de dire &quot;<strong>SI</strong> A&lt;1 OU A&gt;4 <strong>ALORS</strong> on retourne à l'écran du choix&quot;.<br/> Vous connaissez SI, OU, ALORS.<br/> Ici, nous utiliserons :</p><pre id="r-345501" data-claire-element-id="345501"><code>A&lt;1 Or A&gt;5=&gt;on fait ceci</code></pre><p id="r-345502" data-claire-element-id="345502">Ce Or est introduit dans le <a href="http://www.siteduzero.com/tuto-3-2275-0-apprenez-le-basic-casio.html">tuto de Deltod</a> auquel je vous renvoie une fois encore, en cas d'oubli.</p><p id="r-345503" data-claire-element-id="345503">Mais qu'en est-il du &quot;on fait ceci&quot; ? On veut revenir à l'écran du choix. Et on a justement à notre disposition un outil très efficace pour cela : le Goto.</p><p id="r-345504" data-claire-element-id="345504">Syntaxe :</p><pre id="r-345505" data-claire-element-id="345505"><code>Goto X</code></pre><p id="r-345506" data-claire-element-id="345506">Renvoie au Lbl X.<br/> Par exemple, Goto 3 renverra à l'endroit où est écrit Label 3 (Label = Lbl).<br/> Il faut donc un <em>Label</em> correspondant à chaque fois. Vous pouvez avoir plusieurs Goto sur le même <em>Label</em>, mais pas plusieurs <em>Label</em> pour un même numéro.<br/> Considérez les <em>Label</em> comme des étiquettes, et des Goto comme des &quot;Aller à l'étiquette&quot;.</p><p id="r-345507" data-claire-element-id="345507">Par exemple :</p><pre id="r-345508" data-claire-element-id="345508"><code>Lbl 2
&quot;Tapez 1 pour continuer&quot;?=A
A!=1=&gt;Goto 2
&quot;Yeah !&quot;;</code></pre><p id="r-345509" data-claire-element-id="345509">Ce code produira l'effet suivant :<br/> 1) affichage de &quot;Tapez 1...&quot; ;<br/> 2) l'utilisateur rentre un chiffre au choix ;<br/> 3) si ce chiffre est différent de 1, on renvoie au Lbl 2; sinon, on affiche &quot;Yeah !&quot;.</p><p id="r-345510" data-claire-element-id="345510">Vous voyez qu'on n'a pas besoin d'un If / Then pour un contrôle aussi simple. Le Goto / Lbl est réellement puissant.</p><p id="r-345511" data-claire-element-id="345511">Pour trouver Goto et Label :<br/>SHIFT, PRGM, F3 (JUMP).</p><p id="r-345512" data-claire-element-id="345512">Allez, c'est parti !</p><p id="r-345513" data-claire-element-id="345513">Je veux que vous me fassiez la liste statique de tout à l'heure, avec ces choix conditionnels. Si l'utilisateur tape 1 ou 2, on l'amène au Label 4.<br/> S'il tape 3, au Label 2.<br/> Et s'il tape 4, on arrête le programme.<br/> Enfin, s'il tape autre chose, on le renvoie au Label 1, positionné avant la liste.<br/> Je veux bien sûr que vous repreniez la totalité du code de notre liste statique :</p><pre id="r-345514" data-claire-element-id="345514"><code>Locate 5,3,&quot;1: Un joueur&quot;
Locate 5,4,&quot;2: Deux joueurs&quot;
Locate 5,5,&quot;3: Aide&quot;
Locate 5,6,&quot;4: Quitter&quot;
?-&gt;A</code></pre><p id="r-345515" data-claire-element-id="345515">Voilà, vous avez toutes les clefs en main !</p><p id="r-345516" data-claire-element-id="345516">...</p><p id="r-345517" data-claire-element-id="345517">Ça y est ?</p><p id="r-345518" data-claire-element-id="345518">CORRECTION</p><div id="r-345521" data-claire-element-id="345521"><div id="r-345520" data-claire-element-id="345520"><pre id="r-345519" data-claire-element-id="345519"><code>Lbl 1
Locate 5,3,&quot;1: Un joueur&quot;
Locate 5,4,&quot;2: Deux joueurs&quot;
Locate 5,5,&quot;3: Aide&quot;
Locate 5,6,&quot;4: Quitter&quot;
?-&gt;A
A=1 Or A=2 =&gt; Goto 4
A=3 =&gt; Goto 2
A=4 =&gt; Stop
Goto 1</code></pre></div></div><p id="r-345522" data-claire-element-id="345522">Le principe est simple. Le dernier Goto n'a pas besoin d'une condition : les 4 cas &quot;légaux&quot; (c'est-à-dire dans le cadre du programme) étant déjà sujets à des Goto, le dernier ne sera pris en compte que si l'utilisateur tape autre chose que 1, 2, 3, ou 4.</p><p id="r-345523" data-claire-element-id="345523">Goto et Label sont des outils intéressants, évitant l'utilisation d'une boucle while. Il faut néanmoins se rappeler qu'en ce sens, ce duo n'étant pas une boucle, break ne fonctionne pas, et il faut utiliser un voire plusieurs autres <em>label</em> pour &quot;sortir&quot; de cette &quot;pseudo-boucle&quot;.</p><p id="r-345524" data-claire-element-id="345524">Jusque là, nous avons simplement vu la méthode pour une liste statique. Nous allons à présent attaquer la liste interactive, de plain-pied, avec l'utilisation de Getkey.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive">Liste Interactive</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
Affichage par Locate
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
Contrôle et lancement
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/la-force-du-getkey-1">
La force du Getkey
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
<span class="arrow"></span>
<span class="next">Affichage par Locate</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/la-force-du-getkey-1">
<span class="next">La force du Getkey</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LaforceduGetkey"></a><h2>La force du Getkey</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
<span class="arrow"></span>
<span class="next">Contrôle et lancement</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-345526" data-claire-element-id="345526">Nous allons ici aborder l'utilisation de la Getkey. Il s'agit d'une pseudo-fonction récupérant le code de la touche enfoncée.</p><p id="r-345527" data-claire-element-id="345527">En effet, chaque touche a un code prédéfini. Ce qui permet, entre autres, à la machine de déterminer que faire lorsque telle ou telle touche est pressée. Ce qui permet de dire <em>&quot;en appuyant sur</em>EXE<em>, donner le résultat de l'opération ou exécuter l'instruction le cas échéant&quot;</em>.</p><p id="r-345528" data-claire-element-id="345528">Pour obtenir les codes des touches, je vais vous guider pour la création d'une sorte de &quot;mini-programme&quot; capable de fournir, lorsque l'on appuie sur une touche, le code associé.</p><p id="r-345529" data-claire-element-id="345529">Voici les étapes :<br/> 1) on crée une pseudo-boucle avec Goto / Label<br/> 2) cette boucle continue tant qu'une touche n'est pas pressée ;<br/> 3) si une touche est pressée, on stocke le code de cette touche dans une variable qu'on affiche immédiatement.</p><p id="r-345530" data-claire-element-id="345530">Note de syntaxe :<br/> il suffit de mettre &quot;Getkey&quot; pour que le programme fournisse le code de la touche appuyée.<br/> Donc :</p><pre id="r-345531" data-claire-element-id="345531"><code>Getkey -&gt; A</code></pre><p id="r-345532" data-claire-element-id="345532">stockera le code de la touche appuyée dans A.</p><p id="r-345533" data-claire-element-id="345533">Pour trouver Getkey :<br/>Shift, Prgm, F6, F4 (I/O), F2 (Gtky).</p><p id="r-345534" data-claire-element-id="345534">Vous devriez pouvoir y arriver sans trop de problèmes.</p><p id="r-345535" data-claire-element-id="345535">...</p><p id="r-345536" data-claire-element-id="345536">Correction !!</p><div id="r-345539" data-claire-element-id="345539"><div id="r-345538" data-claire-element-id="345538"><pre id="r-345537" data-claire-element-id="345537"><code>Lbl 0
Getkey -&gt; A;
Goto 0</code></pre></div></div><div id="r-345541" data-claire-element-id="345541" data-claire-semantic="question"><p id="r-345540" data-claire-element-id="345540">Pourquoi une boucle ?</p></div><p id="r-345542" data-claire-element-id="345542">Getkey ne stocke l'appui que lorsque l'utilisateur appuie sur la touche au moment où le Getkey est appelé. Il faut donc mettre un Getkey dans une boucle (ou pseudo-boucle dans notre cas) pour qu'il fonctionne concrètement. De plus, pour afficher A, il nous faut utiliser le triangle plein (marqué ici ';', je vous le rappelle).</p><p id="r-345543" data-claire-element-id="345543">Voilà : ainsi, en appuyant sur une touche, vous obtenez le code de la touche associée. Un tel programme est souvent utile. Même si ces codes de touches sont tous dans le manuel, vous ne l'avez sans doute pas toujours sur vous.</p><p id="r-345544" data-claire-element-id="345544">Nous aurons besoin des codes des touches EXE, &quot;flèche haute&quot; et &quot;flèche basse&quot; pour notre liste interactive.<br/> Vous obtiendrez :<br/>EXE : 31<br/> Flèche haute : 28<br/> Flèche basse : 37.</p><aside id="r-345546" data-claire-element-id="345546" data-claire-semantic="warning"><p id="r-345545" data-claire-element-id="345545">J'ignore cependant si ces codes sont similaires pour tous les modèles de CASIO. Il est possible par exemple que cela change entre la Graph35 (celle que j'utilise) et les autres. D'où l'utilisation de ce mini-programme.</p></aside><p id="r-345547" data-claire-element-id="345547">Nous avons nos codes de touches, l'utilisation de Getkey, et nous savons générer une liste statique. Nous savons également générer un affichage où nous le souhaitons sur l'écran.</p><p id="r-345548" data-claire-element-id="345548">L'assemblage est un peu compliqué à première vue.</p><p id="r-345549" data-claire-element-id="345549">Nous devons créer une pseudo-boucle dans laquelle nous afficherons notre menu.<br/> Nous aurons une variable, nommée C par exemple, qui indiquera la position du &quot;curseur&quot; sur la liste.<br/> Lorsque l'utilisateur appuyera sur la flèche haute (ou basse), on change la valeur de C en fonction. Et lorsqu'il appuie sur EXE, on vérifie la valeur de C, pour diriger notre visiteur selon son choix.</p><p id="r-345550" data-claire-element-id="345550">Imaginons, par exemple, notre liste statique qui sera bientôt interactive. Lorsque C est égal à 1, cela signifie que notre curseur est sur le premier élément de la liste (&quot;1 joueur&quot;, dans notre cas). Pour C=2, c'est &quot;2 joueurs&quot;, C=3 pour &quot;Aide&quot;, C=4 pour &quot;Quitter&quot;.</p><p id="r-345551" data-claire-element-id="345551">En commençant ainsi, vous pouvez voir la structure de notre liste ! :)</p><p id="r-345552" data-claire-element-id="345552">Attention, tout de même. Nous devons bien sûr utiliser un Goto pour sortir de notre pseudo-boucle à chaque fois, mais nous devons également vérifier que notre variable ne passe pas hors des possibilités, c'est-à-dire qu'elle ne soit ni inférieure à 1, ni supérieure à 4. <strong>Cette vérification doit se faire une fois la modification de C en fonction de la Getkey effectuée.</strong></p><p id="r-345553" data-claire-element-id="345553">Imaginons que vous utilisiez le Label 1 pour créer la pseudo-boucle, le Label 2 pour commencer le jeu (que ce soit en 1 ou 2 joueurs), et le Label 3 pour arrêter le jeu.</p><aside id="r-345555" data-claire-element-id="345555" data-claire-semantic="information"><p id="r-345554" data-claire-element-id="345554">Nous utiliserons le symbole &quot;<strong>-&gt;</strong>&quot; en tant que &quot;curseur&quot;. C'est un choix comme un autre. :-°</p></aside><p id="r-345556" data-claire-element-id="345556">Je rappelle qu'il faut, à chaque passage dans la pseudo-boucle, afficher le curseur selon la valeur de C, et uniquement à cet endroit. N'oubliez pas non plus d'initialiser C à une valeur qui nous convient(pourquoi pas 1 ? ;) )</p><p id="r-345557" data-claire-element-id="345557">Je vous laisse essayer. Il est probable que vous n'y arriviez pas directement. Dans ce cas, relisez les parties de ce tuto, une par une, et surtout celle-ci. Car c'est notre dernière ligne droite. :D</p><p id="r-345558" data-claire-element-id="345558">...</p><p id="r-345559" data-claire-element-id="345559">Pas réussi ? Réessayez.</p><p id="r-345560" data-claire-element-id="345560">...</p><p id="r-345561" data-claire-element-id="345561">Toujours pas ? Bien. Voici la correction.</p><div id="r-345564" data-claire-element-id="345564"><div id="r-345563" data-claire-element-id="345563"><pre id="r-345562" data-claire-element-id="345562"><code>1 -&gt; C
Lbl 1
C&lt;1 =&gt; 1 -&gt; C
C&gt;4 =&gt; 4 -&gt; C
C=1 =&gt; Locate 5,3,&quot;-&gt;&quot;
C!=1 =&gt; Locate 5,3,&quot; &quot;
C=2 =&gt; Locate 5,4,&quot;-&gt;&quot;
C!=2 =&gt; Locate 5,4,&quot; &quot;
C=3 =&gt; Locate 5,5,&quot;-&gt;&quot;
C!=3 =&gt; Locate 5,5,&quot; &quot;
C=4 =&gt; Locate 5,6,&quot;-&gt;&quot;
C!=4 =&gt; Locate 5,6,&quot; &quot;
Locate 6,3,&quot;1 joueur&quot;
Locate 6,4,&quot;2 joueurs&quot;
Locate 6,5,&quot;aide&quot;
Locate 6,6,&quot;quitter&quot;
Getkey=31 And C=4 =&gt; Goto 3
Getkey=31 And C=3 =&gt; Stop
Getkey=31 And C=1 =&gt; Goto 2
Getkey=31 And C=2 =&gt; Goto 2
Getkey=28 =&gt; C-1 -&gt; C
Getkey=37 =&gt; C+1 -&gt; C
Goto 1</code></pre></div></div><p id="r-345565" data-claire-element-id="345565">Il ne vous faut pas oublier de positionner les Label 2 et 3, bien entendu. L'avantage d'une telle pseudo-boucle devient évidente. Par exemple, à la fin du texte d'aide, vous pouvez mettre un Goto 1, ramenant ainsi à la liste :) .<br/> La lenteur du curseur et le manque de réactivité sont dûs à la forme de la boucle. Si vous voulez améliorer les performances, insérez les mêmes conditions de Getkey juste avant l'affichage de la liste (donc une seconde fois).</p><p id="r-345566" data-claire-element-id="345566">Il existe quelques façons d'améliorer ce code. Je vais en présenter quelques-unes en annexe ;) .</p><p id="r-345567" data-claire-element-id="345567">Voilà, vous pouvez dès lors créer une simple liste interactive.</p><p id="r-345568" data-claire-element-id="345568">Il est à noter que la manière proposée ici est très loin d'être la seule pour arriver à un résultat semblable. L'usage d'un while est tout aussi possible, avec un peu plus de diversification dans le code (usage de break, par exemple).<br/> Je ferai probablement un autre mini-tuto à ce sujet.</p><p id="r-345569" data-claire-element-id="345569">Si vous avez des critiques ou des suggestions à me faire, n'hésitez pas !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive">Liste Interactive</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/affichage-par-locate">
Affichage par Locate
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
Contrôle et lancement
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/liste-interactive/la-force-du-getkey-1">
La force du Getkey
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/liste-interactive/controle-et-lancement">
<span class="arrow"></span>
<span class="next">Contrôle et lancement</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/liste-interactive.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 19:54:45 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/liste-interactive.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:39:51 GMT -->
</html>
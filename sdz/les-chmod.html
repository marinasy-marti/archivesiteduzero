<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/les-chmod.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:14:54 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-chmod.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:38:02 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Les ChMod</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/les-chmod.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Les ChMod</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#LesChMod">Les ChMod</a><br/><a href="#Prsentationduchmod">Présentation du chmod</a><br/><a href="#Modificationdesdroitssurlesfichiers">Modification des droits sur les fichiers</a><br/><a href="#Lesdroitsdiffrentsentreunrpertoireetunfichier">Les droits différents entre un répertoire et un fichier</a><br/><a href="#D039autresdroits">D&#039;autres droits</a><br/></div>
<a name="LesChMod"></a><h2>Les ChMod</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
<span class="next">Présentation du chmod</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-489303" data-claire-element-id="489303">Vous avez sûrement entendu parler des <strong>chmod</strong> ! Cette commande qui pose souvent problème en PHP.<br/> Eh bien pour commencer, sachez que c'est de la faute de Linux.</p><p id="r-489304" data-claire-element-id="489304">Pour faire simple, je dirai seulement que Linux est un système multi-utilisateurs et donc qu'il ne faut pas que tous les utilisateurs puissent lire les fichiers de tous, sinon, l'intérêt est limité.</p><p id="r-489305" data-claire-element-id="489305">Les <em>chmod</em> définissent les droits d'un utilisateur sur un fichier.</p>
</div><a name="Prsentationduchmod"></a><h2>Présentation du chmod</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
<span class="next">Modification des droits sur les fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-489306" data-claire-element-id="489306">Linux est un système multi-utilisateurs.</p><p id="r-489307" data-claire-element-id="489307">Chaque utilisateur appartient au moins à un groupe.</p><p id="r-489308" data-claire-element-id="489308">Les fichiers ont donc des permissions visant 3 types d'utilisateurs :</p><ul id="r-489315" data-claire-element-id="489315"><li id="r-489310" data-claire-element-id="489310"><p id="r-489309" data-claire-element-id="489309">celle concernant le propriétaire du fichier</p></li><li id="r-489312" data-claire-element-id="489312"><p id="r-489311" data-claire-element-id="489311">celle concernant le groupe du propriétaire du fichier</p></li><li id="r-489314" data-claire-element-id="489314"><p id="r-489313" data-claire-element-id="489313">celle concernant les autres utilisateurs.</p></li></ul><p id="r-489316" data-claire-element-id="489316">Pour chaque type de personnes visées, il y a trois types de droits :</p><ul id="r-489323" data-claire-element-id="489323"><li id="r-489318" data-claire-element-id="489318"><p id="r-489317" data-claire-element-id="489317">r : droit de lecture</p></li><li id="r-489320" data-claire-element-id="489320"><p id="r-489319" data-claire-element-id="489319">w : droit d'écriture</p></li><li id="r-489322" data-claire-element-id="489322"><p id="r-489321" data-claire-element-id="489321">x : droit d'exécution.</p></li></ul><p id="r-489324" data-claire-element-id="489324">A ces types de droits on associe un bit, prenant :</p><ul id="r-489329" data-claire-element-id="489329"><li id="r-489326" data-claire-element-id="489326"><p id="r-489325" data-claire-element-id="489325">la valeur 0 si la personne n'a pas ce droit</p></li><li id="r-489328" data-claire-element-id="489328"><p id="r-489327" data-claire-element-id="489327">la valeur 1 si la personne a ce droit.</p></li></ul><p id="r-489330" data-claire-element-id="489330">On a donc des triplets du genre 111 (par exemple) pour chacun des types d'utilisateurs.</p><p id="r-489331" data-claire-element-id="489331">Ce qui nous donne <strong>111 100 101</strong> (encore par exemple).</p><p id="r-489332" data-claire-element-id="489332">Dans ce cas,</p><ul id="r-489339" data-claire-element-id="489339"><li id="r-489334" data-claire-element-id="489334"><p id="r-489333" data-claire-element-id="489333">le propriétaire a les droits 111, c'est-à-dire lecture, écriture et exécution</p></li><li id="r-489336" data-claire-element-id="489336"><p id="r-489335" data-claire-element-id="489335">le groupe a les droits 100, c'est-à-dire le droit de lecture</p></li><li id="r-489338" data-claire-element-id="489338"><p id="r-489337" data-claire-element-id="489337">les autres ont les droits 101, c'est-à-dire les droits de lecture et d'exécution.</p></li></ul><p id="r-489340" data-claire-element-id="489340">Le fait d'avoir un nombre contenant des 0 et des 1 est ce qu'on appelle un nombre binaire.</p><p id="r-489341" data-claire-element-id="489341">Nous avons pour habitude de compter en <em>décimal</em> avec des chiffres de 0 à 9.</p><p id="r-489342" data-claire-element-id="489342">Mais on peut compter aussi en <em>octal</em> (chiffres de 0 à 7), ou en <em>hexadécimal</em> (de 0 à F, A = 10; B = 11; C = 12 ...; F = 15).</p><p id="r-489343" data-claire-element-id="489343">Or, les nombres binaires vont de 000 à 111, ce qui fait en octal de 0 à 7. Et nous pouvons ainsi donner à chaque type d'utilisateur son droit sous la forme d'un chiffre entre 0 et 7 (0 = aucun droit : 7 = tous les droits).</p><p id="r-489344" data-claire-element-id="489344">Une petite table pour s'y retrouver :</p><figure id="r-489346" data-claire-element-id="489347"><img id="r-489345" data-claire-element-id="489345" src="medias/uploads.siteduzero.com_files_8001_9000_8293.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod">Les ChMod</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
Présentation du chmod
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
Modification des droits sur les fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
Les droits différents entre un répertoire et un fichier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
D&#039;autres droits
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
<span class="next">Modification des droits sur les fichiers</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modificationdesdroitssurlesfichiers"></a><h2>Modification des droits sur les fichiers</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
<span class="arrow"></span>
<span class="next">Présentation du chmod</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
<span class="next">Les droits différents entre un répertoire et un fichier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-489349" data-claire-element-id="489349">Maintenant que nous en savons un peu plus sur les droits, nous allons voir comment les appliquer.</p><p id="r-489350" data-claire-element-id="489350">On peut appliquer les droits sur un fichier de plusieurs façons :</p><ul id="r-489355" data-claire-element-id="489355"><li id="r-489352" data-claire-element-id="489352"><p id="r-489351" data-claire-element-id="489351">de manière symbolique</p></li><li id="r-489354" data-claire-element-id="489354"><p id="r-489353" data-claire-element-id="489353">de manière octale.</p></li></ul><h2 id="r-de-maniere-octale" data-claire-element-id="489365">De manière octale</h2><p id="r-489356" data-claire-element-id="489356">Si je veux changer tous les droits du fichier ou m'assurer qu'ils sont comme je le veux, c'est la meilleure manière.</p><p id="r-489357" data-claire-element-id="489357">Prenons un exemple.</p><p id="r-489358" data-claire-element-id="489358">J'ai un script <em>bash</em> que je veux être le seul à pouvoir modifier, mais que les personnes de mon groupe pourront lire. Et que tous pourront exécuter.</p><p id="r-489359" data-claire-element-id="489359">Je devrais mettre les droits suivants :</p><figure id="r-489361" data-claire-element-id="489362"><img id="r-489360" data-claire-element-id="489360" src="medias/uploads.siteduzero.com_files_8001_9000_8294.png" alt="Image utilisateur"/></figure><p id="r-489363" data-claire-element-id="489363">On va donc exécuter la commande suivante :</p><pre id="r-489364" data-claire-element-id="489364"><code data-claire-semantic="console">chmod 751 script.sh</code></pre><h2 id="r-de-maniere-symbolique" data-claire-element-id="489378">De manière symbolique</h2><p id="r-489366" data-claire-element-id="489366">Si maintenant, je me rends compte que je ne peux pas modifier un fichier texte, ce que pourtant je voudrais.</p><p id="r-489367" data-claire-element-id="489367">Avec la méthode octale, il me faudrait tout décomposer pour seulement supprimer un droit.</p><p id="r-489368" data-claire-element-id="489368">Mais il existe la méthode symbolique.</p><p id="r-489369" data-claire-element-id="489369">Elle est de type : chmod [ugoa][+-][rwx].</p><p id="r-489370" data-claire-element-id="489370">C'est l'une de ces lettres <strong>u</strong> (propriétaire du fichier), <strong>g</strong> (groupe), <strong>o</strong> (les autres), <strong>a</strong> (tout le monde = <strong>u</strong> + <strong>g</strong> + <strong>o</strong>), suivie de + ou - pour respectivement ajouter ou supprimer les permissions, et la forme symbolique des permissions est de la forme <strong>r</strong> (<em>read</em> : lecture), <strong>w</strong> (<em>write</em> : écriture), <strong>x</strong> (exécution).</p><p id="r-489371" data-claire-element-id="489371">Par exemple, pour pouvoir modifier ce fichier texte qui nous appartient :</p><pre id="r-489372" data-claire-element-id="489372"><code data-claire-semantic="console">chmod u+w fich.odt</code></pre><p id="r-489373" data-claire-element-id="489373">on peut mettre plusieurs droits symboliques en les séparant par des virgules :</p><pre id="r-489374" data-claire-element-id="489374"><code data-claire-semantic="console">chmod u+rw,g+r,o+r,a-x fich.odt</code></pre><p id="r-489375" data-claire-element-id="489375">Dans cet exemple, on ajoute les droits en lecture et en écriture au propriétaire, on ajoute les droits de lecture au groupe, les droits de lecture aux autres, et on enlève les droits d'exécution à tous.</p><aside id="r-489377" data-claire-element-id="489377" data-claire-semantic="error"><p id="r-489376" data-claire-element-id="489376">Seul le propriétaire du fichier ou le super-utilisateur <strong>ROOT</strong> peut modifier les droits sur les fichiers et répertoires.</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod">Les ChMod</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
Présentation du chmod
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
Modification des droits sur les fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
Les droits différents entre un répertoire et un fichier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
D&#039;autres droits
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
<span class="arrow"></span>
<span class="next">Présentation du chmod</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
<span class="next">Les droits différents entre un répertoire et un fichier</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lesdroitsdiffrentsentreunrpertoireetunfichier"></a><h2>Les droits différents entre un répertoire et un fichier</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
<span class="arrow"></span>
<span class="next">Modification des droits sur les fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
<span class="next">D&#039;autres droits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-489380" data-claire-element-id="489380">Les droits de lecture et d'écriture sur un fichier ou un répertoire sont facilement conceptualisables.</p><h2 id="r-pour-un-fichier" data-claire-element-id="489388">Pour un fichier</h2><ul id="r-489387" data-claire-element-id="489387"><li id="r-489382" data-claire-element-id="489382"><p id="r-489381" data-claire-element-id="489381"><strong>r</strong> : permission de lire le contenu du fichier</p></li><li id="r-489384" data-claire-element-id="489384"><p id="r-489383" data-claire-element-id="489383"><strong>w</strong> : permission de modifier le contenu du fichier</p></li><li id="r-489386" data-claire-element-id="489386"><p id="r-489385" data-claire-element-id="489385"><strong>x</strong> : sous Windows, le .exe permet d'exécuter un fichier, mais sous Linux, c'est ce droit qui permet de rendre un fichier exécutable.</p></li></ul><h2 id="r-pour-un-repertoire" data-claire-element-id="489396">Pour un répertoire</h2><ul id="r-489395" data-claire-element-id="489395"><li id="r-489390" data-claire-element-id="489390"><p id="r-489389" data-claire-element-id="489389"><strong>r</strong> : permission de lister les fichiers</p></li><li id="r-489392" data-claire-element-id="489392"><p id="r-489391" data-claire-element-id="489391"><strong>w</strong> : permission d'ajouter ou de supprimer des fichiers</p></li><li id="r-489394" data-claire-element-id="489394"><p id="r-489393" data-claire-element-id="489393"><strong>x</strong> : sur un répertoire, ce droit empêche de rentrer dans le répertoire, et donc de lister les fichiers et répertoires qu'il contient.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod">Les ChMod</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
Présentation du chmod
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
Modification des droits sur les fichiers
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
Les droits différents entre un répertoire et un fichier
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
D&#039;autres droits
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
<span class="arrow"></span>
<span class="next">Modification des droits sur les fichiers</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
<span class="next">D&#039;autres droits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="D039autresdroits"></a><h2>D&#039;autres droits</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
<span class="arrow"></span>
<span class="next">Les droits différents entre un répertoire et un fichier</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-489398" data-claire-element-id="489398">Le <em>chmod</em> permet aussi de donner d'autres droits moins connus.</p><ul id="r-489415" data-claire-element-id="489415"><li id="r-489408" data-claire-element-id="489408"><p id="r-489399" data-claire-element-id="489399">Le Sticky bits.</p><p id="r-489400" data-claire-element-id="489400">Il permet :</p><ul id="r-489405" data-claire-element-id="489405"><li id="r-489402" data-claire-element-id="489402"><p id="r-489401" data-claire-element-id="489401">lorsqu'on l'applique à un exécutable, de le garder en mémoire lors de sa première exécution</p></li><li id="r-489404" data-claire-element-id="489404"><p id="r-489403" data-claire-element-id="489403">lorsqu'on l'applique à un répertoire, seul le propriétaire du fichier ou le propriétaire du répertoire a le droit d'effacer les fichiers.</p></li></ul><p id="r-489406" data-claire-element-id="489406">On le met ainsi :</p><pre id="r-489407" data-claire-element-id="489407"><code data-claire-semantic="console">chmod u+t fich</code></pre></li><li id="r-489414" data-claire-element-id="489414"><p id="r-489409" data-claire-element-id="489409">Le SUID, le SGID.</p><p id="r-489410" data-claire-element-id="489410">Le SUID permet d'avoir accès aux droits du propriétaire à l'intérieur du programme, pour avoir accès aux fichiers de configuration, par exemple. Pour des raisons de sécurité, le SUID ne s'applique qu'aux programmes binaires compilés à l'exception des scripts Perl.</p><p id="r-489411" data-claire-element-id="489411">Le SGID permet de déterminer le groupe des fichiers créés dans le répertoire.</p><p id="r-489412" data-claire-element-id="489412">On le met ainsi :</p><pre id="r-489413" data-claire-element-id="489413"><code data-claire-semantic="console">chmod u+s prog ou chmod 4755 prog # Pour le SUID
 
chmod g+s rep/ ou chmod 2755 rep/ # Pour le SGID</code></pre></li></ul><p id="r-489416" data-claire-element-id="489416">Voici donc la fin de cette petite introduction au <em>Chmod</em>.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod">Les ChMod</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/presentation-du-chmod">
Présentation du chmod
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/modification-des-droits-sur-les-fichiers">
Modification des droits sur les fichiers
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
Les droits différents entre un répertoire et un fichier
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-chmod/d-autres-droits">
D&#039;autres droits
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-chmod/les-droits-differents-entre-un-repertoire-et-un-fichier">
<span class="arrow"></span>
<span class="next">Les droits différents entre un répertoire et un fichier</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/les-chmod.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 09:14:54 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-chmod.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:38:03 GMT -->
</html>
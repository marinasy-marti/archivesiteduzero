<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/le-selecteur-de-style-css-de-chris-clark.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:50:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/le-selecteur-de-style-css-de-chris-clark.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:37:21 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Le sélecteur de style CSS de Chris Clark</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Le sélecteur de style CSS de Chris Clark</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#LeslecteurdestyleCSSdeChrisClark">Le sélecteur de style CSS de Chris Clark</a><br/><a href="#Lacrationoumodificationducookie">La création ou modification du cookie</a><br/><a href="#L039appeldelafeuilledestylechoisie">L&#039;appel de la feuille de style choisie</a><br/><a href="#Laslectiondustyle">La sélection du style</a><br/><a href="#Annexequelquesliensutiles">Annexe : quelques liens utiles</a><br/></div>
<a name="LeslecteurdestyleCSSdeChrisClark"></a><h2>Le sélecteur de style CSS de Chris Clark</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
<span class="next">La création ou modification du cookie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-340286" data-claire-element-id="340286">Bonjour à toutes et à tous.</p><p id="r-340287" data-claire-element-id="340287">Je propose ici un tutoriel dans lequel vous apprendrez à mettre en place un <em>style-switcher</em> sur votre site. <br/> Je ne l'ai pas conçu moi-même, il s'agit du sélecteur de style proposé par <a href="http://www.alistapart.com/authors/c/chrisclark/">Chris Clark</a> dans l'article anglophone <a href="http://www.alistapart.com/articles/phpswitch/"><em>Build a PHP Switcher</em></a> (13 octobre 2002). <br/> L'avantage de ce tutoriel, c'est qu'il explique ce style-switcher <strong>en français</strong>. ^^ <em>Il ne s'agit pas d'une traduction de l'article</em>.</p><aside id="r-340289" data-claire-element-id="340289" data-claire-semantic="information"><p id="r-340288" data-claire-element-id="340288"><em>Pour rappel</em>, les <a href="http://www.openweb.eu.org/articles/presentations_alternatives/">feuilles de styles alternatives</a> sont <a href="http://www.la-grange.net/w3c/wcag1/wai-pageauth.html#tech-style-sheets">officiellement un dispositif d'accessibilité</a>. En proposant plusieurs styles différents aux visiteurs, on leur permet de personnaliser leur expérience de navigation (c'est-à-dire ce qu'ils ressentent) et ainsi, de la faciliter, de la rendre plus agréable.</p></aside><p id="r-340290" data-claire-element-id="340290">J'explique <strong>tous</strong> les codes. Les personnes qui ne connaissent rien au PHP pourront donc tout de même comprendre un peu.</p><aside id="r-340292" data-claire-element-id="340292" data-claire-semantic="warning"><p id="r-340291" data-claire-element-id="340291">Je conseille néanmoins <strong>très fortement</strong> d'avoir <a href="http://www.siteduzero.com/tuto-3-4-0-un-site-dynamique-avec-php.html#part_4">des bases</a> dans ce langage de script, notamment à propos des <a href="http://www.siteduzero.com/tuto-3-70-1-les-variables.html">variables</a>.</p></aside><p id="r-340293" data-claire-element-id="340293">La lecture des explications n'est pas forcément nécessaire pour comprendre la manière de mettre en place le sélecteur sur votre site, mais je ne supporte pas de voir des lignes de code sans savoir « comment elles marchent ».</p><p id="r-340294" data-claire-element-id="340294">Je prends ici l'exemple d'un site (www.mon-site.net) ayant toutes ses feuilles de style hébergées à la <a href="http://fr.wikipedia.org/wiki/Répertoire_racine">racine</a>, avec la syntaxe de nom suivante : nomdustyle.css.</p><div id="r-340297" data-claire-element-id="340297"><p id="r-340295" data-claire-element-id="340296">Je m'appelle <a href="http://www.dut-src-mulhouse.fr/">Mathias Poujol-Rost</a> et publie ce tutoriel sous la <a href="http://creativecommons.org/licenses/by-nc/2.0/fr/">licence <img id="r-340296" data-claire-element-id="340295" src="medias/i.creativecommons.org_l_by-nc_2.0_fr_88x31.png" alt="Creative Commons BY-NC"/></a>.</p></div>
</div><a name="Lacrationoumodificationducookie"></a><h2>La création ou modification du cookie</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
<span class="next">L&#039;appel de la feuille de style choisie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340298" data-claire-element-id="340298">Ce sélecteur se base sur un cookie qui stocke le choix de style. Cela signifie que ce sélecteur ne peut pas fonctionner chez les internautes qui refusent les cookies. C'est l'un des rares inconvénients de ce sélecteur (un autre étant qu'il requiert un hébergement sur lequel le PHP est activé).</p><p id="r-340299" data-claire-element-id="340299">Dans cette sous-partie, nous allons voir le code du fichier qui crée ce cookie ou qui le modifie pour « écraser » un choix précédent. Ce code est l'unique contenu du fichier <em>selecteur-style.php</em> hébergé à la racine du site.</p><h2 id="r-notes-d-information" data-claire-element-id="340313">Notes d'information</h2><aside id="r-340301" data-claire-element-id="340301" data-claire-semantic="error"><p id="r-340300" data-claire-element-id="340300">Si le navigateur de l'internaute refuse les cookies, le sélecteur ne fonctionne pas. Des petits malins se disent peut-être : <br/> « Oui, mais ce n'est pas grave, il suffit d'activer les cookies quelques secondes, de choisir son style pour créer le cookie et ensuite, il ne reste qu'à désactiver les cookies pour ne plus être embêté. :p »<br/> Ils ont tort. Si les cookies sont désactivés, ce n'est pas seulement leur création ou modification qui est bloquée, mais aussi leur <strong>lecture</strong>. &gt;_</p></aside><aside id="r-340312" data-claire-element-id="340312" data-claire-semantic="information"><p id="r-340302" data-claire-element-id="340302">Dans un but de transparence avec son lectorat, il est conseillé d'informer l'internaute sur les cookies du site.</p><ul id="r-340311" data-claire-element-id="340311"><li id="r-340304" data-claire-element-id="340304"><p id="r-340303" data-claire-element-id="340303">Dire s'il y en a ou pas, et combien.</p></li><li id="r-340306" data-claire-element-id="340306"><p id="r-340305" data-claire-element-id="340305">Dire si ceux-ci collectent des informations sur les visiteurs, et énumérer lesquelles (informations) si tel est le cas.</p></li><li id="r-340308" data-claire-element-id="340308"><p id="r-340307" data-claire-element-id="340307">Donner un nom explicite aux cookies, par exemple SousdomaineNomDomaine_NomDuCookie.</p></li><li id="r-340310" data-claire-element-id="340310"><p id="r-340309" data-claire-element-id="340309">Indiquer la durée de vie et / ou la date d'expiration de chaque cookie.</p></li></ul></aside><h2 id="r-le-code-du-fichier-selecteur-style-php" data-claire-element-id="340318">Le code du fichier <em>selecteur-style.php</em></h2><pre id="r-340314" data-claire-element-id="340314"><code data-claire-semantic="html+php">&lt;?php
if (isset($_POST['nouveau']) AND $_POST['nouveau'] != NULL)
        {$nouveau = $_POST['nouveau'];} 
elseif (isset($_GET['nouveau']) AND $_GET['nouveau'] != NULL)
        {$nouveau = $_GET['nouveau'];}
 
setcookie ('sousdomainenomdomaine_stylecss', //nom du cookie
$nouveau, //valeur du cookie
time() + 31536000, //durée de vie (31 536 000 secondes = une année)
'/', //répertoire de validité par rapport à la racine
'sousdomaine.nom.domaine', //nom de domaine COMPLET dont sous-domaine
'0'); // 0 = pas sécurisé 
 
header (&quot;Location: &quot;.$_SERVER['HTTP_REFERER']);  // retour à la page précédente
?&gt;</code></pre><p id="r-340315" data-claire-element-id="340315">Ce code comporte deux <em>instructions</em> PHP : setcookie et header. Chacune se termine par un <em>point-virgule</em>.</p><p id="r-340316" data-claire-element-id="340316">Elles sont précédées de deux <a href="http://www.siteduzero.com/tuto-3-100-1-les-conditions.html">conditions</a>. Si vous ne savez pas ce qu'est une structure conditionnelle en PHP, cela ne servirait pas à grand-chose que je vous explique ces quatre lignes, en l'état actuel de vos connaissances en PHP et de la lecture de ce tuto. En effet, ces deux conditions sont directement en lien avec la <a href="#ss_part_3">troisième sous-partie de ce tutoriel</a>.</p><p id="r-340317" data-claire-element-id="340317"><strong>Ne modifiez pas ces 4 lignes de conditions</strong>, sous peine de ne pas voir votre style-switcher fonctionner du tout. Pour ne pas vous laisser sur votre faim d'explications, je vous indique juste que ces 4 lignes permettent de récupérer le choix du style.</p><h2 id="r-explications-du-code-du-fichier-selecteur-style-php" data-claire-element-id="340343">Explications du code du fichier <em>selecteur-style.php</em></h2><p id="r-340319" data-claire-element-id="340319">L'instruction setcookie contient 6 <em>arguments</em> qui déterminent les <strong>conditions de validité</strong> du cookie.</p><ul id="r-340337" data-claire-element-id="340337"><li id="r-340321" data-claire-element-id="340321"><p id="r-340320" data-claire-element-id="340320">sousdomainenomdomaine_stylecss est le nom du cookie ; vous pouvez lui donner le nom que vous voulez, mais celui-ci ne doit pas contenir de caractères spéciaux tels des accents, trémas ou cédilles. En revanche, l'usage des underscores (_) est fréquent.</p></li><li id="r-340323" data-claire-element-id="340323"><p id="r-340322" data-claire-element-id="340322">$nouveau est notre variable, sa valeur (l'information) est le nom du style choisi.</p></li><li id="r-340330" data-claire-element-id="340330"><p id="r-340324" data-claire-element-id="340324">Le troisième argument, c'est la date d'expiration ; il y a plusieurs façons de la configurer :</p><ul id="r-340329" data-claire-element-id="340329"><li id="r-340326" data-claire-element-id="340326"><p id="r-340325" data-claire-element-id="340325">time()+XXXX où XXXX est une durée en secondes ;</p></li><li id="r-340328" data-claire-element-id="340328"><p id="r-340327" data-claire-element-id="340327">time()+(A*B*C*D) où A*B*C*D est un produit (*) dont le résultat est une durée exprimée en secondes.<br/> Exemple : 60*60*24*30 = 60 secondes multipliées par 60 minutes multipliées par 24 heures multipliées par 30 jours = environ un mois de durée de vie. Si vous utilisez time() +, cela veut dire que la date d'expiration est définie comme étant l'instant présent auquel on ajoute une durée de temps (XXXX ou (A*B*C*D)). La date d'expiration est donc définie par rapport à l'instant présent, on ne fait que donner une durée de vie au cookie.</p></li></ul></li><li id="r-340332" data-claire-element-id="340332"><p id="r-340331" data-claire-element-id="340331">'/' est le chemin pour lequel le cookie est valide, à partir de la racine. La mention '/' indique que le cookie est valable (on dit aussi <em>valide</em>) pour <strong>tous</strong> les répertoires du sous-domaine. Sinon, on peut renseigner par exemple '/admin/'.</p></li><li id="r-340334" data-claire-element-id="340334"><p id="r-340333" data-claire-element-id="340333">'sousdomaine.nom.domaine' est le sous-domaine de validité du cookie. Un cookie n'est valide que pour <strong>un et un seul</strong> sous-domaine donné. Dans le cas contraire, n'importe quel site (identifié par son sous-domaine) pourrait modifier des cookies créés par d'autres sites. Il ne faut pas indiquer de répertoire du site pour cet argument, il faut indiquer la racine sans le slash (/) final.</p></li><li id="r-340336" data-claire-element-id="340336"><p id="r-340335" data-claire-element-id="340335">'0' ou '1' indique si le cookie est transmis uniquement si la ligne est sécurisée ('1') ou non ('0'). Cet argument n'est pas obligatoire ; il vaut '0' par défaut.</p></li></ul><p id="r-340338" data-claire-element-id="340338">Il ne faut en aucun cas changer l'ordre des arguments dans ces lignes de code. La structure est la même pour tous les cookies.</p><p id="r-340339" data-claire-element-id="340339">L'instruction header (&quot;Location: &quot;.$_SERVER['HTTP_REFERER']); indique qu'une fois le formulaire envoyé vers le fichier <em>selecteur-style.php</em>, celui-ci traite les informations qu'il a reçues (le nom du style via la variable $nouveau), puis effectue une redirection vers la page depuis laquelle a été envoyé le choix du style. En fait, l'internaute ne verra pas cette page <em>selecteur-style.php</em>, elle sert uniquement à écrire le cookie.</p><aside id="r-340341" data-claire-element-id="340341" data-claire-semantic="warning"><p id="r-340340" data-claire-element-id="340340">La <a href="http://www.siteduzero.com/tuto-3-176-1-les-variables-superglobales.html">variable surperglobale</a>$_SERVER['HTTP_REFERER'], <br/> tout comme son ancêtre $HTTP_REFERER n'a pas <br/> forcément de valeur. (En fait, c'est le navigateur <br/> qui éventuellement en donne une.)</p></aside><p id="r-340342" data-claire-element-id="340342">Pour pallier ce problème, une solution simple existe : créer sur votre site une page dédiée au changement de style, <a href="http://www.siteduzero.com/designs.html">à l'instar du Site du Zéro</a>. <br/> Il suffit d'inclure le code de <em>selecteur-style.php</em> dans une page <em>page-de-changement-de-style.php</em> avant le moindre code XHTML, en ayant remplacé <br/>header (&quot;Location: &quot;.$_SERVER['HTTP_REFERER']);<br/> par <br/>header (&quot;Location: http://www.mon-site.net/page-de-changement-de-style.php&quot;);.</p><h2 id="r-conclusion-de-cette-premiere-sous-partie" data-claire-element-id="340350">Conclusion de cette première sous-partie</h2><p id="r-340344" data-claire-element-id="340344">Voici le code pour la création d'un cookie qui durera un an, sans les commentaires (c'est plus lisible).</p><pre id="r-340345" data-claire-element-id="340345"><code data-claire-semantic="html+php">&lt;?php 
if (isset($_POST['nouveau']) AND $_POST['nouveau'] != NULL)
        {$nouveau = $_POST['nouveau'];} 
elseif (isset($_GET['nouveau']) AND $_GET['nouveau'] != NULL)
        {$nouveau = $_GET['nouveau'];}
 
setcookie ('sousdomainenomdomaine_stylecss', $nouveau, time() + 31536000, '/', 'sousdomaine.nom.domaine', '0'); 
 
header(&quot;Location: &quot;.$_SERVER['HTTP_REFERER']); 
?&gt;</code></pre><p id="r-340346" data-claire-element-id="340346">ou :</p><pre id="r-340347" data-claire-element-id="340347"><code data-claire-semantic="html+php">&lt;?php 
if (isset($_POST['nouveau']) AND $_POST['nouveau'] != NULL)
        {$nouveau = $_POST['nouveau'];}
elseif (isset($_GET['nouveau']) AND $_GET['nouveau'] != NULL)
        {$nouveau = $_GET['nouveau'];}
 
setcookie ('sousdomainenomdomaine_stylecss', $nouveau, time() + 31536000, '/', 'sousdomaine.nom.domaine', '0'); 
 
header(&quot;Location: http://www.mon-site.net/page-de-changement-de-style.php&quot;); 
?&gt;</code></pre><p id="r-340348" data-claire-element-id="340348">(Entre ces deux codes, seule la dernière ligne varie.)</p><p id="r-340349" data-claire-element-id="340349">Vous venez de créer un cookie. Soit. Mais dans l'absolu, cela ne sert à rien. :euh: Voyons comment exploiter ce cookie.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark">Le sélecteur de style CSS de Chris Clark</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
La création ou modification du cookie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
L&#039;appel de la feuille de style choisie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
La sélection du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
Annexe : quelques liens utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
<span class="next">L&#039;appel de la feuille de style choisie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039appeldelafeuilledestylechoisie"></a><h2>L&#039;appel de la feuille de style choisie</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
<span class="arrow"></span>
<span class="next">La création ou modification du cookie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
<span class="next">La sélection du style</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340352" data-claire-element-id="340352">Poursuivons avec la ligne de code XHTML qui fait le lien vers la feuille de style.</p><h2 id="r-l-ancienne-ligne-de-code-xhtml" data-claire-element-id="340354">L'ancienne ligne de code XHTML</h2><pre id="r-340353" data-claire-element-id="340353"><code data-claire-semantic="html">&lt;link href=&quot;http://www.mon-site.net/nomdustyle.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; title=&quot;le style que j'ai choisi&quot; /&gt;</code></pre><h2 id="r-comment-lire-le-choix-stocke-dans-le-cookie-code-php" data-claire-element-id="340358">Comment lire le choix stocké dans le cookie ? Code PHP</h2><p id="r-340355" data-claire-element-id="340355">Nous remplaçons juste nomdustyle du nom de fichier CSS « entier » nomdustyle.css par un code PHP.</p><p id="r-340356" data-claire-element-id="340356">Ainsi, la portion de code XHTML nomdustyle.css devient :</p><pre id="r-340357" data-claire-element-id="340357"><code data-claire-semantic="html+php">&lt;?php echo (!$sousdomainenomdomaine_stylecss)?'valeur-par-defaut':$sousdomainenomdomaine_stylecss ?&gt;</code></pre><h2 id="r-explication-du-code-php" data-claire-element-id="340372">Explication du code PHP</h2><ul id="r-340371" data-claire-element-id="340371"><li id="r-340368" data-claire-element-id="340368"><p id="r-340359" data-claire-element-id="340359">sousdomainenomdomaine_stylecss est le nom du cookie que vous venez tout juste de créer et de configurer, grâce au fichier <em>selecteur-style.php</em>. Il apparaît dans ce code comme une variable appelée $sousdomainenomdomaine_stylecss car c'est ici (dans ce code PHP) une variable ; mais il ne faut pas la confondre avec notre variable qui s'appelle $nouveau.</p><p id="r-340360" data-claire-element-id="340360"><strong>Attention à ne pas vous emmêler les pinceaux avec les variables :</strong></p><ul id="r-340367" data-claire-element-id="340367"><li id="r-340362" data-claire-element-id="340362"><p id="r-340361" data-claire-element-id="340361">$sousdomainenomdomaine_stylecss est le nom d'une « nouvelle » variable, oui, mais je viens de dire que <strong>nous n'allons pas nous en occuper</strong>.</p></li><li id="r-340364" data-claire-element-id="340364"><p id="r-340363" data-claire-element-id="340363">sousdomainenomdomaine_stylecss est le nom du cookie qui stocke le <strong>choix</strong> du style CSS de l'internaute. Vis-à-vis du cookie, ce choix représente sa <strong>valeur</strong>.</p></li><li id="r-340366" data-claire-element-id="340366"><p id="r-340365" data-claire-element-id="340365">$nouveau est le nom de notre variable. Sa valeur est l'information portée par le cookie. Voici quelques exemples de valeurs pour le nom de fichier CSS nomdustyle.css : impressions, mobile, defaut, gros-caracteres, fond-noir. Ainsi notre variable $nouveau peut prendre l'une de ces valeurs, ou une autre (selon la nomination de vos fichiers CSS). En effet, le style n'est pas toujours le même, puisqu'on peut le changer avec le sélecteur. La valeur stockée dans le cookie peut donc changer, elle est variable et représentée par la variable $nouveau.</p></li></ul></li><li id="r-340370" data-claire-element-id="340370"><p id="r-340369" data-claire-element-id="340369">valeur-par-defaut est une valeur par défaut pour notre variable $nouveau. En effet, si le cookie n'est pas encore défini (ce qui est le cas lorsqu'un internaute visite pour la première fois le site), il n'a pas encore de valeur. Il en faut pourtant une. Cette valeur est donc un des styles, par exemple celui par défaut. Vous devez donc indiquer par exemple base ou pardefaut ou default. Ce style doit être parfaitement lisible et pratique, pour ne pas obliger l'internaute à en changer.</p></li></ul><h2 id="r-conclusion-de-cette-deuxieme-sous-partie-la-nouvelle-ligne-de-code" data-claire-element-id="340378">Conclusion de cette deuxième sous-partie : la nouvelle ligne de code</h2><p id="r-340373" data-claire-element-id="340373">Voici le code XHTML en entier, pour la partie &lt;head&gt; de vos pages :</p><pre id="r-340374" data-claire-element-id="340374"><code data-claire-semantic="html+php">&lt;link href=&quot;http://www.mon-site.net/&lt;?php echo (!$sousdomainenomdomaine_stylecss)?'valeur-par-defaut':$sousdomainenomdomaine_stylecss ?&gt;.css&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot; media=&quot;screen&quot; title=&quot;mon choix&quot; /&gt;</code></pre><p id="r-340375" data-claire-element-id="340375">Nous voici arrivés presque à la fin de ce tuto.</p><p id="r-340376" data-claire-element-id="340376">Si vous avez tout compris jusqu'à maintenant, c'est très bien :D et vous allez pouvoir laisser en partie reposer vos cerveaux, la partie suivante (la troisième) est la dernière et la plus facile ! Vous y découvrirez comment permettre aux visiteurs de choisir leur style.</p><p id="r-340377" data-claire-element-id="340377">Dans le cas contraire :( , la première chose serait de vous plonger sérieusement dans un <a href="http://www.siteduzero.com/forum-83-22177-p1-les-autres-sites-php.html">cours de PHP</a>. En ayant des <a href="http://www.siteduzero.com/tuto-3-4-0-un-site-dynamique-avec-php.html">bases</a>, vous comprendrez plus facilement, plus vite et mieux.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark">Le sélecteur de style CSS de Chris Clark</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
La création ou modification du cookie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
L&#039;appel de la feuille de style choisie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
La sélection du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
Annexe : quelques liens utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
<span class="arrow"></span>
<span class="next">La création ou modification du cookie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
<span class="next">La sélection du style</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Laslectiondustyle"></a><h2>La sélection du style</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
<span class="arrow"></span>
<span class="next">L&#039;appel de la feuille de style choisie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
<span class="next">Annexe : quelques liens utiles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340380" data-claire-element-id="340380">Nous allons tout de suite nous placer du côté de l'internaute et voir comment changer le style CSS depuis une page Web.<br/> Il y a deux méthodes : le formulaire et les liens.</p><h2 id="r-methode-a-le-menu-deroulant" data-claire-element-id="340398">Méthode A : le menu déroulant</h2><h3 id="r-le-code-pour-la-liste-deroulante" data-claire-element-id="340382">Le code pour la liste déroulante</h3><pre id="r-340381" data-claire-element-id="340381"><code data-claire-semantic="html">&lt;form method=&quot;post&quot; action=&quot;http://www.mon-site.net/selecteur-style.php&quot;&gt;
&lt;p&gt;
&lt;label for=&quot;selectiondustyle&quot;&gt;Choisissez le style qui vous plaît et appuyez sur le bouton : &lt;/label&gt; 
     &lt;select name=&quot;nouveau&quot; id=&quot;selectiondustyle&quot;&gt;
          &lt;option value=&quot;defaut&quot;&gt;style normal (par défaut)&lt;/option&gt;
          &lt;option value=&quot;gros-caracteres&quot;&gt;gros caractères&lt;/option&gt;
          &lt;option value=&quot;fond-noir&quot;&gt;fond noir (fort contraste)&lt;/option&gt;
          &lt;option value=&quot;impressions&quot;&gt;aperçu avant impression&lt;/option&gt;
          &lt;option value=&quot;mobile&quot;&gt;version petits écrans&lt;/option&gt;
     &lt;/select&gt;
&lt;input type=&quot;submit&quot; value=&quot;Choisir ce style&quot; title=&quot;valider le choix de style&quot; /&gt;
&lt;/p&gt;
&lt;/form&gt;</code></pre><h3 id="r-explications-du-code-du-formulaire" data-claire-element-id="340397">Explications du code du formulaire</h3><ul id="r-340389" data-claire-element-id="340389"><li id="r-340384" data-claire-element-id="340384"><p id="r-340383" data-claire-element-id="340383">action=&quot;http://www.mon-site.net/selecteur-style.php&quot; indique vers quelle page va être envoyée l'information du <a href="http://www.siteduzero.com/tuto-3-196-1-les-formulaires.html">formulaire</a>. Cette information n'est autre que le choix du style, qui est une valeur d'une variable.</p></li><li id="r-340386" data-claire-element-id="340386"><p id="r-340385" data-claire-element-id="340385">for=&quot;selectiondustyle&quot; et id=&quot;selectiondustyle&quot; indiquent l'étiquette appliquée à la balise &lt;select&gt;. En cliquant sur la phrase « Choisissez le style qui vous plaît et appuyez sur le bouton : » ou la liste « non déroulée », la liste va être « activée », on pourra la parcourir avec le clavier ! :D</p></li><li id="r-340388" data-claire-element-id="340388"><p id="r-340387" data-claire-element-id="340387">On retrouve notre variable avec la mention name=&quot;nouveau&quot; dans la balise &lt;select&gt;</p></li></ul><aside id="r-340391" data-claire-element-id="340391" data-claire-semantic="error"><p id="r-340390" data-claire-element-id="340390">Ce code ne convient pas aux développeurs (développeuses) qui ont choisi d'avoir une page pour le changement de style sur leur site (donc, sans utiliser header(&quot;Location: &quot;.$_SERVER['HTTP_REFERER']); ).</p></aside><p id="r-340392" data-claire-element-id="340392">Ces personnes doivent remplacer dans le code précédent</p><pre id="r-340393" data-claire-element-id="340393"><code data-claire-semantic="html">action=&quot;http://www.mon-site.net/selecteur-style.php&quot;</code></pre><p id="r-340394" data-claire-element-id="340394">par</p><pre id="r-340395" data-claire-element-id="340395"><code data-claire-semantic="html">action=&quot;http://www.mon-site.net/votre-page-de-changement-de-style.php&quot;</code></pre><p id="r-340396" data-claire-element-id="340396">.</p><h2 id="r-methode-b-les-liens" data-claire-element-id="340413">Méthode B : les liens</h2><h3 id="r-la-ligne-du-code-type" data-claire-element-id="340400">La ligne du code-type</h3><p id="r-340399" data-claire-element-id="340399">&lt;ahref=&quot;http://www.mon-site.net/selecteur-style.php<strong>?</strong>nouveau<strong>=</strong>valeur&quot;&gt;Choisir le style &quot;valeur&quot;&lt;/a&gt;</p><h3 id="r-explications-du-code-des-liens" data-claire-element-id="340412">Explications du code des liens</h3><ul id="r-340409" data-claire-element-id="340409"><li id="r-340402" data-claire-element-id="340402"><p id="r-340401" data-claire-element-id="340401"><strong>?</strong> indique que la page <em>selecteur-style.php</em> va traiter une requête avec une ou des variables (une seule dans votre cas, &quot;$nouveau&quot;) ;</p></li><li id="r-340404" data-claire-element-id="340404"><p id="r-340403" data-claire-element-id="340403">nouveau fait référence à votre variable « $nouveau » ;</p></li><li id="r-340406" data-claire-element-id="340406"><p id="r-340405" data-claire-element-id="340405"><strong>=</strong> indique quelle variable et quelle valeur pour celle-ci le <a href="http://www.siteduzero.com/tuto-3-7565-1-un-autre-style-switcher-selecteur-de-style-c-s-s-en-p-h-p.html#ss_part_1">code PHP du fichier <em>selecteur-style.php</em></a> va devoir traiter ;</p></li><li id="r-340408" data-claire-element-id="340408"><p id="r-340407" data-claire-element-id="340407">valeur est une de nos valeurs pour « $nouveau » (impressions, mobile, defaut, gros-caracteres, fond-noir, opera). Ici, j'ai écrit « valeur » pour indiquer que c'est une valeur de notre variable, mais j'aurais très bien pu écrire à la place nouveau=defaut, comme exemple.</p></li></ul><p id="r-340410" data-claire-element-id="340410">Exemple : [ Choix du style visuel : <a href="http://www.mon-site.net/selecteur-style.php?nouveau=defaut">normal (par défaut)</a> | <a href="http://www.mon-site.net/selecteur-style.php?nouveau=gros-caracteres">gros caractères</a> | <a href="http://www.mon-site.net/selecteur-style.php?nouveau=fond-noir">fond noir (fort contraste)</a> ].</p><p id="r-340411" data-claire-element-id="340411">Vous pouvez bien sûr mettre une image à la place du texte du lien. Cette méthode est particulièrement adaptée à un faible nombre de styles CSS différents. Si vous en avez plus que cela, il peut être intéressant de proposer le choix du style <em>via</em> une liste déroulante, car une suite de liens comme celle qui précède peut être « encombrante » ou « lourde » dans la page.</p><h2 id="r-conclusion-de-cette-troisieme-sous-partie" data-claire-element-id="340419">Conclusion de cette troisième sous-partie</h2><p id="r-340414" data-claire-element-id="340414">Voici les codes en entier, pour la partie &lt;body&gt; de vos pages :</p><h3 id="r-methode-du-formulaire" data-claire-element-id="340416">Méthode du formulaire</h3><pre id="r-340415" data-claire-element-id="340415"><code data-claire-semantic="html">&lt;form method=&quot;post&quot; action=&quot;http://www.mon-site.net/selecteur-style.php&quot;&gt;
&lt;p&gt;
&lt;label for=&quot;selectiondustyle&quot;&gt;Choisissez le style qui vous plaît et appuyez sur le bouton : &lt;/label&gt; 
     &lt;select name=&quot;nouveau&quot; id=&quot;selectiondustyle&quot;&gt;
          &lt;option value=&quot;defaut&quot;&gt;style normal (par défaut)&lt;/option&gt;
          &lt;option value=&quot;gros-caracteres&quot;&gt;gros caractères&lt;/option&gt;
          &lt;option value=&quot;fond-noir&quot;&gt;fond noir (fort contraste)&lt;/option&gt;
          &lt;option value=&quot;impressions&quot;&gt;aperçu avant impression&lt;/option&gt;
          &lt;option value=&quot;mobile&quot;&gt;version petits écrans&lt;/option&gt;
     &lt;/select&gt;
&lt;input type=&quot;submit&quot; value=&quot;Choisir ce style&quot; title=&quot;valider le choix de style&quot; /&gt;
&lt;/p&gt;
&lt;/form&gt;</code></pre><h3 id="r-methode-des-liens" data-claire-element-id="340418">Méthode des liens</h3><pre id="r-340417" data-claire-element-id="340417"><code data-claire-semantic="html">&lt;a href=&quot;http://www.mon-site.net/selecteur-style.php?nouveau=valeur&quot;&gt;Choisir le style « valeur »&lt;/a&gt;</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark">Le sélecteur de style CSS de Chris Clark</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
La création ou modification du cookie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
L&#039;appel de la feuille de style choisie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
La sélection du style
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
Annexe : quelques liens utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
<span class="arrow"></span>
<span class="next">L&#039;appel de la feuille de style choisie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
<span class="next">Annexe : quelques liens utiles</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Annexequelquesliensutiles"></a><h2>Annexe : quelques liens utiles</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
<span class="arrow"></span>
<span class="next">La sélection du style</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-liens-du-site-du-zero" data-claire-element-id="340440">Liens du Site du Zéro</h2><ul id="r-340439" data-claire-element-id="340439"><li id="r-340422" data-claire-element-id="340422"><p id="r-340421" data-claire-element-id="340421">Introduction aux <a href="http://www.siteduzero.com/tuto-3-22-1-avant-de-commencer.html#ss_part_1">langages XHTML et CSS</a>.</p></li><li id="r-340424" data-claire-element-id="340424"><p id="r-340423" data-claire-element-id="340423"><a href="http://www.siteduzero.com/tuto-3-20-1-introduction-a-php.html#ss_part_1">Définition de PHP</a>.</p></li><li id="r-340426" data-claire-element-id="340426"><p id="r-340425" data-claire-element-id="340425">Les <a href="http://www.siteduzero.com/tuto-3-176-1-les-variables-superglobales.html#ss_part_3">cookies</a> dans le tuto sur les <a href="http://www.siteduzero.com/tuto-3-176-1-les-variables-superglobales.html">variables superglobales</a>.</p></li><li id="r-340428" data-claire-element-id="340428"><p id="r-340427" data-claire-element-id="340427">Les <a href="http://www.siteduzero.com/tuto-3-70-1-les-variables.html">variables</a>.</p></li><li id="r-340430" data-claire-element-id="340430"><p id="r-340429" data-claire-element-id="340429"><a href="http://www.siteduzero.com/tuto-3-32-1-mettre-en-place-le-css.html">Mettre en place le CSS</a>.</p></li><li id="r-340432" data-claire-element-id="340432"><p id="r-340431" data-claire-element-id="340431">Les <a href="http://www.siteduzero.com/tuto-3-196-1-les-formulaires.html">formulaires</a>.</p></li><li id="r-340434" data-claire-element-id="340434"><p id="r-340433" data-claire-element-id="340433"><a href="http://www.siteduzero.com/tuto-3-180-1-php-et-les-formulaires.html">PHP et les formulaires</a>.</p></li><li id="r-340436" data-claire-element-id="340436"><p id="r-340435" data-claire-element-id="340435"><a href="http://www.siteduzero.com/forum-83-3246--p1-suivi-d-un-design-couleur-sur-d-autres-pages.html">Suivi d'un design CSS sur plusieurs pages (forum)</a>.</p></li><li id="r-340438" data-claire-element-id="340438"><p id="r-340437" data-claire-element-id="340437">L'autre tutoriel de sélecteur de style : &quot;<a href="http://www.siteduzero.com/tuto-3-2632-1-un-style-switcher-en-php.html">Un style switcher en PHP</a>&quot; par <a href="http://www.siteduzero.com/membres-294-177.html">Elentar</a>.</p></li></ul><h2 id="r-quelques-autres-selecteurs-de-style" data-claire-element-id="340457">Quelques autres sélecteurs de style</h2><h3 id="r-en-javascript-1" data-claire-element-id="340446">En Javascript</h3><ul id="r-340445" data-claire-element-id="340445"><li id="r-340442" data-claire-element-id="340442"><p id="r-340441" data-claire-element-id="340441">Celui de Paul SOWDEN ; site <em><a href="http://www.alistapart.com/stories/alternate/">www.A List Apart.com</a></em> (en anglais). Voir un exemple d'utilisation de ce sélecteur sur le site <a href="http://www.batraciens.net/css-astuces/skins-changement.htm">Batraciens.net</a> : <em>Changement de skins CSS</em>.</p></li><li id="r-340444" data-claire-element-id="340444"><p id="r-340443" data-claire-element-id="340443">Un sélecteur rétrocompatible par Daniel Ludwin sur le site <em><a href="http://www.alistapart.com/articles/n4switch/">www.A List Apart.com</a></em> (en anglais).</p></li></ul><h3 id="r-en-php" data-claire-element-id="340456">En PHP</h3><ul id="r-340455" data-claire-element-id="340455"><li id="r-340448" data-claire-element-id="340448"><p id="r-340447" data-claire-element-id="340447">Celui de Chris Clark (en &quot;V.O.&quot;) sur <em><a href="http://www.alistapart.com/articles/phpswitch/">www.A List Apart.com</a></em> (en anglais).</p></li><li id="r-340450" data-claire-element-id="340450"><p id="r-340449" data-claire-element-id="340449">Celui du Collectif Alsacréations sur <em><a href="http://css.alsacreations.com/Tutoriels-PHP/Faire-un-Style-switcher-changement-d-habillage-en-PHP">css.Alsacréations.com</a></em>.</p></li><li id="r-340452" data-claire-element-id="340452"><p id="r-340451" data-claire-element-id="340451">L'article du site <em><a href="http://giminik.developpez.com/articles/php/style-switcher/">Giminik.Developpez.com</a></em>.</p></li><li id="r-340454" data-claire-element-id="340454"><p id="r-340453" data-claire-element-id="340453">L'article de Laurence Veale sur <em><a href="http://www.sitepoint.com/article/css-simple-style-switcher">www.Site Point.com</a></em> (en anglais).</p></li></ul><h2 id="r-autre-lien" data-claire-element-id="340464">Autre lien</h2><ul id="r-340460" data-claire-element-id="340460"><li id="r-340459" data-claire-element-id="340459"><p id="r-340458" data-claire-element-id="340458"><a href="http://www.commentcamarche.net/php/phpcookie.php3">Les cookies sur Comment ça Marche.net.</a></p></li></ul><p id="r-340461" data-claire-element-id="340461">Vous voilà enfin arrivé à la fin de ce tutoriel, j'espère ne pas avoir été trop long et surtout suffisamment clair.</p><p id="r-340462" data-claire-element-id="340462">Bon codage CSS !</p><p id="r-340463" data-claire-element-id="340463">À bientôt les Zéros.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark">Le sélecteur de style CSS de Chris Clark</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-creation-ou-modification-du-cookie">
La création ou modification du cookie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/l-appel-de-la-feuille-de-style-choisie">
L&#039;appel de la feuille de style choisie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
La sélection du style
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/annexe-quelques-liens-utiles">
Annexe : quelques liens utiles
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/le-selecteur-de-style-css-de-chris-clark/la-selection-du-style">
<span class="arrow"></span>
<span class="next">La sélection du style</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/le-selecteur-de-style-css-de-chris-clark.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 02:50:11 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/le-selecteur-de-style-css-de-chris-clark.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:37:22 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/bien-utiliser-la-marque-et-la-region-dans-emacs.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:18:51 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/bien-utiliser-la-marque-et-la-region-dans-emacs.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:20:13 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Bien utiliser la marque et la région dans Emacs</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Bien utiliser la marque et la région dans Emacs</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#BienutiliserlamarqueetlargiondansEmacs">Bien utiliser la marque et la région dans Emacs</a><br/><a href="#Terminologie">Terminologie</a><br/><a href="#Firstencounterlamarqueetlargionpourlespaens">First encounter: la marque et la région pour les païens</a><br/><a href="#Secondoffenceutilisationsrelativementavances">Second offence: utilisations (relativement) avancées</a><br/><a href="#Finalbattleutiliserlamarqueetlargionaubonmoment">Final battle: utiliser la marque et la région au bon moment</a><br/></div>
<a name="BienutiliserlamarqueetlargiondansEmacs"></a><h2>Bien utiliser la marque et la région dans Emacs</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
<span class="next">Terminologie</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-593741" data-claire-element-id="593741">Voici un petit intermède sur l'usage de la marque et de la région dans Emacs, après mon <a href="http://www.siteduzero.com/tuto-3-30911-1-ecrire-du-code-c-avec-emacs.html">premier article sur l'écriture du code C avec Emacs</a> et en attendant le second tutoriel de la série.</p><aside id="r-593743" data-claire-element-id="593743" data-claire-semantic="information"><p id="r-593742" data-claire-element-id="593742">Ce tuto a été écrit avec <a href="http://rzpages.ovh.org/mdown.php5">mdown</a>. Il est disponible dans d'autres formats (<a href="http://rzpages.ovh.org/emacs/bien-utiliser-marques.php5">XHTML sémantique</a> et <a href="http://rzpages.ovh.org/emacs/src/bien-utiliser-marques.text">texte</a>) sur mon site personnel.</p></aside>
</div><a name="Terminologie"></a><h2>Terminologie</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
<span class="next">First encounter: la marque et la région pour les païens</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-593744" data-claire-element-id="593744">Tout d’abord, si vous ne savez pas ce qu’est la marque ou la région, c’est que vous n’avez pas lu d’introduction à Emacs, ou que vous l’avez mal lue, ou qu’elle n’était pas bonne. Mais oublions ce petit détail ; je vais vous rappeler ce que sont ces éléments.</p><p id="r-593745" data-claire-element-id="593745">Petite explication. Dans votre fenêtre Emacs, vous avez un <em>curseur</em>, qui marque la position actuelle dans le <em>buffer</em>. C’est là où vous insérez le nouveau texte, entre autre. Et bien, vos yeux vous mentent, car il y a en vérité non pas un mais deux curseurs. Simplement, vous ne voyez pas le second. Son nom ? La <em>marque</em>. La marque, comme son nom l’indique, sert à repérer une position dans le texte. Comme nous allons le voir par la suite, cela a plus d’un emploi, mais l’utilisation première est de délimiter une zone : entre la marque et le point (dans la terminologie emacsienne, le <em>point</em> est la position du curseur, tandis que le curseur lui-même est l’entité visuelle colorée, qui peut clignoter, ou pas). Cette zone s’appelle la <em>région</em>.</p><h2 id="r-analogie-avec-les-editeurs-paiens" data-claire-element-id="593749">Analogie avec les éditeurs païens</h2><p id="r-593746" data-claire-element-id="593746">Il existe beaucoup d’éditeurs graphiques, mais cette diversité cache en fait des concepts similaires sans aucune originalité (il paraît que c’est pour ne pas désorienter le débutant). Parmi ceux-ci en existe un du nom de <em>sélection</em>. Bon, la sélection, c’est la chose que vous obtenez lorsque vous surlignez un bout de texte avec votre souris. Hormis le fait qu’elle revêt alors une jolie couleur, elle sert aussi à certaines opérations de portée locale, telles que la copie, la coupure, <em>etc.</em></p><p id="r-593747" data-claire-element-id="593747">Sous Emacs, la région est ce qui s’en rapproche le plus, mais comme nous allons le voir, son comportement diffère quelque peu.</p><p id="r-593748" data-claire-element-id="593748">Quant à la marque, il semble qu’elle ait disparu au profit de techniques tout à fait modernes faisant plein usage du matériel contemporain : le défilement et le pointage à la souris.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs">Bien utiliser la marque et la région dans Emacs</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
Terminologie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
First encounter: la marque et la région pour les païens
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
Second offence: utilisations (relativement) avancées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
Final battle: utiliser la marque et la région au bon moment
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
<span class="next">First encounter: la marque et la région pour les païens</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Firstencounterlamarqueetlargionpourlespaens"></a><h2>First encounter: la marque et la région pour les païens</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
<span class="arrow"></span>
<span class="next">Terminologie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
<span class="next">Second offence: utilisations (relativement) avancées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-593751" data-claire-element-id="593751">La commande pour poser la marque est <code>C-SPC</code> (ou <code>C-@</code> si vous avez un terminal tellement ésotérique qu’il ne reconnaît pas <code>C-SPC</code> comme un alias de <code>C-@</code>). <code>C-SPC</code> correspond à la combinaison des touches <code>Ctrl</code> et espace, pour les petits étourdis. Essayez. Un petit message devrait s’être affiché dans le <em>minibuffer</em> (la zone de saisie en bas de votre Emacs, pour les grands grands étourdis). Ce message mis à part, vous ne devriez rien avoir remarqué de particulier. En effet, comme je vous l’ai dit, la marque est invisible. Déplacez-vous un peu dans votre <em>buffer</em> et bientôt, vous aurez oublié où vous l’avez placée. La deuxième commande utile est donc celle qui vous indiquera où se trouve la marque ; une façon commode d’obtenir cette information est d’échanger la marque et le point : en d’autres termes, de vous téléporter là où se trouve la marque et de placer la marque où vous vous trouvez actuellement. La commande est <code>C-x C-x</code>. L’opération étant symétrique, un deuxième <code>C-x C-x</code> vous ramènera à votre point de départ.</p><p id="r-593752" data-claire-element-id="593752">Nous allons maintenant voir les deux opérations de base sur la région (qui, je vous le rappelle, est automatiquement délimitée par la marque et le point) : la copie et la coupure. Dans le monde d’Emacs, le terme exact est <em>kill</em>, soit « tuer », en bon français. Allez savoir pourquoi les interfaces modernes n’ont pas conservé ce vocabulaire… Sans plus attendre, les commandes : <code>C-w</code> pour couper, <code>M-w</code> (dois-je rappeler qu’il s’agit de <code>Alt</code> et <code>w</code> sur un clavier) pour copier.</p><p id="r-593753" data-claire-element-id="593753">Pour coller le texte ainsi extrait, vous pouvez utiliser la commande <code>C-y</code> ; le terme exact pour dire « coller » est en vérité <em>yank</em> (dont la traduction est approximativement « tirer avec force »). Sachez également que vous disposez d’un historique des morceaux copiés ou coupés, appelé <em>kill ring</em> (« cercle de meur… » arrêtons avec les traductions). Chaque <em>kill</em> est automatiquement placé dans celui-ci. Juste après avoir utilisé <code>C-y</code>, vous pouvez parcourir l’historique avec la commande <code>M-y</code>. Le texte collé est alors remplacé par une des sélections précédentes ; répétez jusqu’à obtenir le morceau voulu. Remarquez que la commande accepte les arguments numériques. Cela n’a guère d’intérêt en temps normal (sauf si vous vous rappelez par cœur l’ordre de vos sélections passées), mais cela signifie surtout que vous pouvez utiliser <code>M-- M-y</code> pour naviguer en sens inverse, si vous sautez par mégarde le bon élément.</p><p id="r-593754" data-claire-element-id="593754">En résumé :</p><table id="r-593786" data-claire-element-id="593786"><tbody id="r-593785" data-claire-element-id="593785"><tr id="r-593759" data-claire-element-id="593759"><td id="r-593756" data-claire-element-id="593756"><p id="r-593755" data-claire-element-id="593755"><code>C-SPC</code> ou <code>C-@</code></p></td><td id="r-593758" data-claire-element-id="593758"><p id="r-593757" data-claire-element-id="593757">pose la marque</p></td></tr><tr id="r-593764" data-claire-element-id="593764"><td id="r-593761" data-claire-element-id="593761"><p id="r-593760" data-claire-element-id="593760"><code>C-x C-x</code></p></td><td id="r-593763" data-claire-element-id="593763"><p id="r-593762" data-claire-element-id="593762">échange la marque et le point</p></td></tr><tr id="r-593769" data-claire-element-id="593769"><td id="r-593766" data-claire-element-id="593766"><p id="r-593765" data-claire-element-id="593765"><code>C-w</code></p></td><td id="r-593768" data-claire-element-id="593768"><p id="r-593767" data-claire-element-id="593767">coupe la région</p></td></tr><tr id="r-593774" data-claire-element-id="593774"><td id="r-593771" data-claire-element-id="593771"><p id="r-593770" data-claire-element-id="593770"><code>M-w</code></p></td><td id="r-593773" data-claire-element-id="593773"><p id="r-593772" data-claire-element-id="593772">copie la région</p></td></tr><tr id="r-593779" data-claire-element-id="593779"><td id="r-593776" data-claire-element-id="593776"><p id="r-593775" data-claire-element-id="593775"><code>C-y</code></p></td><td id="r-593778" data-claire-element-id="593778"><p id="r-593777" data-claire-element-id="593777">colle le texte coupé ou copié</p></td></tr><tr id="r-593784" data-claire-element-id="593784"><td id="r-593781" data-claire-element-id="593781"><p id="r-593780" data-claire-element-id="593780"><code>M-y</code></p></td><td id="r-593783" data-claire-element-id="593783"><p id="r-593782" data-claire-element-id="593782">navigue dans l’historique des morceaux coupés ou copiés</p></td></tr></tbody></table>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs">Bien utiliser la marque et la région dans Emacs</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
Terminologie
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
First encounter: la marque et la région pour les païens
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
Second offence: utilisations (relativement) avancées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
Final battle: utiliser la marque et la région au bon moment
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
<span class="arrow"></span>
<span class="next">Terminologie</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
<span class="next">Second offence: utilisations (relativement) avancées</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Secondoffenceutilisationsrelativementavances"></a><h2>Second offence: utilisations (relativement) avancées</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
<span class="arrow"></span>
<span class="next">First encounter: la marque et la région pour les païens</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
<span class="next">Final battle: utiliser la marque et la région au bon moment</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-593788" data-claire-element-id="593788">Dans Emacs, la marque a d’autres usages que la simple sélection. L’autre utilité majeure de la marque est le déplacement. Un certain nombre de commandes de navigation (recherche, déplacements sur de longues distances, <em>etc.</em>) déposent la marque à l’endroit où vous vous trouviez avant l’action. Si c’est le cas, un petit message vous en informe, dans le <em>minibuffer</em>. Vous pouvez ainsi compter sur <code>C-x C-x</code> pour retourner à votre position précédente. Essayez, par exemple, la commande <code>M-&lt;</code> suivi de la commande <code>C-x C-x</code>. Voici quelques commandes usuelles qui placent la marque :</p><table id="r-593820" data-claire-element-id="593820"><tbody id="r-593819" data-claire-element-id="593819"><tr id="r-593793" data-claire-element-id="593793"><td id="r-593790" data-claire-element-id="593790"><p id="r-593789" data-claire-element-id="593789"><code>M-&lt;</code></p></td><td id="r-593792" data-claire-element-id="593792"><p id="r-593791" data-claire-element-id="593791">début de <em>buffer</em></p></td></tr><tr id="r-593798" data-claire-element-id="593798"><td id="r-593795" data-claire-element-id="593795"><p id="r-593794" data-claire-element-id="593794"><code>M-&gt;</code></p></td><td id="r-593797" data-claire-element-id="593797"><p id="r-593796" data-claire-element-id="593796">fin de <em>buffer</em></p></td></tr><tr id="r-593803" data-claire-element-id="593803"><td id="r-593800" data-claire-element-id="593800"><p id="r-593799" data-claire-element-id="593799"><code>C-s</code></p></td><td id="r-593802" data-claire-element-id="593802"><p id="r-593801" data-claire-element-id="593801">recherche</p></td></tr><tr id="r-593808" data-claire-element-id="593808"><td id="r-593805" data-claire-element-id="593805"><p id="r-593804" data-claire-element-id="593804"><code>C-M-s</code></p></td><td id="r-593807" data-claire-element-id="593807"><p id="r-593806" data-claire-element-id="593806">recherche (avec des expressions régulières)</p></td></tr><tr id="r-593813" data-claire-element-id="593813"><td id="r-593810" data-claire-element-id="593810"><p id="r-593809" data-claire-element-id="593809"><code>C-r</code></p></td><td id="r-593812" data-claire-element-id="593812"><p id="r-593811" data-claire-element-id="593811">recherche en arrière</p></td></tr><tr id="r-593818" data-claire-element-id="593818"><td id="r-593815" data-claire-element-id="593815"><p id="r-593814" data-claire-element-id="593814"><code>C-M-r</code></p></td><td id="r-593817" data-claire-element-id="593817"><p id="r-593816" data-claire-element-id="593816">recherche en arrière (avec des expressions régulières)</p></td></tr></tbody></table><p id="r-593821" data-claire-element-id="593821">Cette astuce est suffisante pour aller d’un bout à l’autre du <em>buffer</em> tant que vous ne changez pas la position de la marque, ce qui n’est guère pratique pour l’édition. Mais comme Emacs est bien fait, il existe un historique des positions auxquelles vous avez placé la marque : c’est le <em>mark ring</em>. La commande servant à parcourir la liste est la même que celle pour poser la marque, mais avec un préfixe, c’est-à-dire <code>C-u C-SPC</code>. Elle vous téléporte au dernier endroit où vous avez posé la marque. Son usage répété déroule toute la liste.</p><p id="r-593822" data-claire-element-id="593822">Comme il est fastidieux de taper <code>C-u C-SPC</code> tout le temps pour aller là où vous voulez, la variable <code>set-mark-command-repeat-pop</code> existe. Donnez lui une valeur autre que <code>nil</code> (généralement <code>t</code> ; voir <a href="http://www.siteduzero.com/tuto-3-30529-1-votre-premier-emacs-la-configuration-d-emacs-pour-les-zeros.html">mon article sur la configuration</a> pour savoir comment changer la valeur d’une variable), et vous pourrez abréger la commande en simplement <code>C-SPC</code>, à partir de la seconde fois consécutive (la première doit comporter le préfixe afin de la distinguer de la commande normale de marquage).</p><p id="r-593823" data-claire-element-id="593823">Il existe aussi un <em>global mark ring</em> qui sauvegarde la marque la plus récente dans chaque <em>buffer</em> visité, dans l’ordre de leur visite. Cela vous permet d’aller d’un <em>buffer</em> à l’autre tout en suivant la marque. Je ne fais pas grand usage de ce mécanisme, mais peut-être y trouverez-vous un intérêt. La commande est <code>C-x C-SPC</code> et est l’analogue de <code>C-u C-SPC</code> pour le <em>global mark ring</em>.</p><aside id="r-593825" data-claire-element-id="593825" data-claire-semantic="information"><p id="r-593824" data-claire-element-id="593824">Une bonne habitude, selon moi, est de placer la marque quelque part, lorsque vous voulez effectuer une opération sur une autre partie du <em>buffer</em>, temporairement, puis revenir à votre travail « principal » ensuite. Si vous avez deux zones d’édition d’égale importance et fréquence, préférez les registres (qui ne sont pas le sujet de cet article, cependant).</p></aside><p id="r-593826" data-claire-element-id="593826">En résumé :</p><table id="r-593843" data-claire-element-id="593843"><tbody id="r-593842" data-claire-element-id="593842"><tr id="r-593831" data-claire-element-id="593831"><td id="r-593828" data-claire-element-id="593828"><p id="r-593827" data-claire-element-id="593827"><code>C-x C-x</code></p></td><td id="r-593830" data-claire-element-id="593830"><p id="r-593829" data-claire-element-id="593829">échange la marque et le point (rappel)</p></td></tr><tr id="r-593836" data-claire-element-id="593836"><td id="r-593833" data-claire-element-id="593833"><p id="r-593832" data-claire-element-id="593832"><code>C-u C-SPC</code></p></td><td id="r-593835" data-claire-element-id="593835"><p id="r-593834" data-claire-element-id="593834">parcourt l’historique des marques</p></td></tr><tr id="r-593841" data-claire-element-id="593841"><td id="r-593838" data-claire-element-id="593838"><p id="r-593837" data-claire-element-id="593837"><code>C-x C-SPC</code></p></td><td id="r-593840" data-claire-element-id="593840"><p id="r-593839" data-claire-element-id="593839">parcourt l’historique global des marques</p></td></tr></tbody></table><h2 id="r-restriction-de-portee-avec-la-region" data-claire-element-id="593908">Restriction de portée avec la région</h2><p id="r-593844" data-claire-element-id="593844">Au-delà du copier / coller, la région a comme autre principal usage la restriction de la portée de certaines commandes. Dans cette optique, il faut distinguer les commandes spécifiquement prévues pour un usage avec la région de celles qui agissent habituellement sur tout le <em>buffer</em> mais peuvent être limitées à une zone particulière.</p><p id="r-593845" data-claire-element-id="593845">Les premières ont très souvent des noms qui comportent le mot <em>region</em>, par exemple : <code>comment-region</code>. En vérité, les commandes <code>C-w</code> et <code>M-w</code> vues précédemment font partie de cette catégorie. En voici quelques unes dignes d’intérêt :</p><table id="r-593862" data-claire-element-id="593862"><tbody id="r-593861" data-claire-element-id="593861"><tr id="r-593850" data-claire-element-id="593850"><td id="r-593847" data-claire-element-id="593847"><p id="r-593846" data-claire-element-id="593846"><code>C-M-\</code> (ou <code>M-x indent-region</code>)</p></td><td id="r-593849" data-claire-element-id="593849"><p id="r-593848" data-claire-element-id="593848">indente la région</p></td></tr><tr id="r-593855" data-claire-element-id="593855"><td id="r-593852" data-claire-element-id="593852"><p id="r-593851" data-claire-element-id="593851"><code>M-x comment-region</code></p></td><td id="r-593854" data-claire-element-id="593854"><p id="r-593853" data-claire-element-id="593853">commente la région</p></td></tr><tr id="r-593860" data-claire-element-id="593860"><td id="r-593857" data-claire-element-id="593857"><p id="r-593856" data-claire-element-id="593856"><code>M-x uncomment-region</code></p></td><td id="r-593859" data-claire-element-id="593859"><p id="r-593858" data-claire-element-id="593858">décommente la région</p></td></tr></tbody></table><p id="r-593863" data-claire-element-id="593863">La seconde catégorie repose sur la notion de <em>région active</em>. Par défaut, la région est passive : les commandes ne sont pas affectées par sa présence. En effet, comme nous avons vu dans la section précédente, il est courant de laisser traîner la marque à des fins de repérage et de déplacement, et il serait dérangeant que toutes les opérations se restreignent à cette zone. Il existe plusieurs manières d’obtenir une région active. Je vais en décrire deux, sans doute les plus faciles à mettre en œuvre. Tout d’abord, si vous avez déjà marqué une région et souhaitez la rendre active, tapez <code>C-u C-x C-x</code>. Si au contraire, vous voulez sélectionner une région active à partir du point jusqu’à une autre position, au lieu de déposer la marque comme d’habitude avec <code>C-SPC</code>, faites plutôt <code>C-SPC C-SPC</code> : en plus d’apposer la marque, cette commande active la région entre celle-ci et le point. Une fois l’activation effectuée, vous pouvez vous déplacer pour l’agrandir ou la rétrécir, le surlignement vous rappelle qu’elle est bien active. <code>C-g</code> annule ce mode et retourne la région à son état passif.</p><p id="r-593864" data-claire-element-id="593864">Les commandes les plus importantes travaillant sur la région active sont sans doute les commandes de remplacement, interactives (<code>M-%</code> et <code>C-M-%</code> (avec des expressions régulières)) ou non interactives (<code>replace-string</code> et <code>replace-regexp</code>). Aussi, la commande d’insertion de commentaires (<code>M-;</code>) se transforme en <code>comment-region</code> si la région est active. Du reste, regardez s’il est fait mention de la région active, dans la description des fonctions, pour repérer celles qui tiennent compte de ce mécanisme.</p><p id="r-593865" data-claire-element-id="593865">En résumé :</p><table id="r-593907" data-claire-element-id="593907"><tbody id="r-593906" data-claire-element-id="593906"><tr id="r-593870" data-claire-element-id="593870"><td id="r-593867" data-claire-element-id="593867"><p id="r-593866" data-claire-element-id="593866"><code>C-u C-x C-x</code></p></td><td id="r-593869" data-claire-element-id="593869"><p id="r-593868" data-claire-element-id="593868">active la région actuelle</p></td></tr><tr id="r-593875" data-claire-element-id="593875"><td id="r-593872" data-claire-element-id="593872"><p id="r-593871" data-claire-element-id="593871"><code>C-SPC C-SPC</code></p></td><td id="r-593874" data-claire-element-id="593874"><p id="r-593873" data-claire-element-id="593873">pose la marque et active la région</p></td></tr><tr id="r-593880" data-claire-element-id="593880"><td id="r-593877" data-claire-element-id="593877"><p id="r-593876" data-claire-element-id="593876"><code>C-g</code></p></td><td id="r-593879" data-claire-element-id="593879"><p id="r-593878" data-claire-element-id="593878">retourne la région au mode passif</p></td></tr><tr id="r-593885" data-claire-element-id="593885"><td id="r-593882" data-claire-element-id="593882"><p id="r-593881" data-claire-element-id="593881"><code>M-%</code></p></td><td id="r-593884" data-claire-element-id="593884"><p id="r-593883" data-claire-element-id="593883">remplacement interactif</p></td></tr><tr id="r-593890" data-claire-element-id="593890"><td id="r-593887" data-claire-element-id="593887"><p id="r-593886" data-claire-element-id="593886"><code>C-M-%</code></p></td><td id="r-593889" data-claire-element-id="593889"><p id="r-593888" data-claire-element-id="593888">remplacement interactif avec des expressions régulières</p></td></tr><tr id="r-593895" data-claire-element-id="593895"><td id="r-593892" data-claire-element-id="593892"><p id="r-593891" data-claire-element-id="593891"><code>M-x replace-string</code></p></td><td id="r-593894" data-claire-element-id="593894"><p id="r-593893" data-claire-element-id="593893">remplacement</p></td></tr><tr id="r-593900" data-claire-element-id="593900"><td id="r-593897" data-claire-element-id="593897"><p id="r-593896" data-claire-element-id="593896"><code>M-x replace-regexp</code></p></td><td id="r-593899" data-claire-element-id="593899"><p id="r-593898" data-claire-element-id="593898">remplacement avec des expressions régulières</p></td></tr><tr id="r-593905" data-claire-element-id="593905"><td id="r-593902" data-claire-element-id="593902"><p id="r-593901" data-claire-element-id="593901"><code>M-;</code></p></td><td id="r-593904" data-claire-element-id="593904"><p id="r-593903" data-claire-element-id="593903">insère un commentaire ou commente la région active</p></td></tr></tbody></table>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs">Bien utiliser la marque et la région dans Emacs</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
Terminologie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
First encounter: la marque et la région pour les païens
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
Second offence: utilisations (relativement) avancées
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
Final battle: utiliser la marque et la région au bon moment
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
<span class="arrow"></span>
<span class="next">First encounter: la marque et la région pour les païens</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
<span class="next">Final battle: utiliser la marque et la région au bon moment</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Finalbattleutiliserlamarqueetlargionaubonmoment"></a><h2>Final battle: utiliser la marque et la région au bon moment</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
<span class="arrow"></span>
<span class="next">Second offence: utilisations (relativement) avancées</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-593910" data-claire-element-id="593910">Bien, maintenant que vous savez utiliser la marque et la région correctement, il est temps d’apprendre à les utiliser judicieusement. Lorsque l’on débute, on a tendance à utiliser la sélection pour tout et n’importe quoi, un peu comme dans un éditeur païen.</p><p id="r-593911" data-claire-element-id="593911">Exemple concret : vous voulez couper le mot suivant dans le texte. L’utilisateur bêta sous l’éditeur bêta attrape sa souris, sélectionne le mot, et le coupe en utilisant le menu contextuel. L’utilisateur gamma sous l’éditeur gamma sait qu’il y a un raccourci au clavier pour se déplacer de mot en mot et un autre pour sélectionner au fur et à mesure que l’on se déplace, par exemple quelque chose comme « je maintiens <code>Shift</code> tout en appuyant sur <code>Ctrl</code> et sur la flèche droite » ; puis il coupe grâce au magique « <code>Ctrl-X</code> ». Le même cheminement, sous Emacs, donne <code>C-SPC M-f C-w</code>. On progresse, mais ce n’est toujours pas ça. En vérité, couper le mot suivant est le fait d’une seule commande : <code>M-d</code>.</p><p id="r-593912" data-claire-element-id="593912">Ce que je veux vous dire par là est qu’il ne faut pas abuser de la région, si vous n’en avez pas besoin. Il existe trente-six façons de tuer dans Emacs : vous pouvez couper des mots, des lignes, et plein d’autres choses ! Pour vous aider à <em>ne pas</em> utiliser la marque et la région pour n’importe quoi, voici une petite liste de commandes usuelles :</p><table id="r-593939" data-claire-element-id="593939"><tbody id="r-593938" data-claire-element-id="593938"><tr id="r-593917" data-claire-element-id="593917"><td id="r-593914" data-claire-element-id="593914"><p id="r-593913" data-claire-element-id="593913"><code>M-d</code></p></td><td id="r-593916" data-claire-element-id="593916"><p id="r-593915" data-claire-element-id="593915">coupe le mot suivant</p></td></tr><tr id="r-593922" data-claire-element-id="593922"><td id="r-593919" data-claire-element-id="593919"><p id="r-593918" data-claire-element-id="593918"><code>M-DEL</code></p></td><td id="r-593921" data-claire-element-id="593921"><p id="r-593920" data-claire-element-id="593920">coupe le mot précédent</p></td></tr><tr id="r-593927" data-claire-element-id="593927"><td id="r-593924" data-claire-element-id="593924"><p id="r-593923" data-claire-element-id="593923"><code>C-k</code></p></td><td id="r-593926" data-claire-element-id="593926"><p id="r-593925" data-claire-element-id="593925">coupe la fin de la ligne ou la ligne entière si elle est vide</p></td></tr><tr id="r-593932" data-claire-element-id="593932"><td id="r-593929" data-claire-element-id="593929"><p id="r-593928" data-claire-element-id="593928"><code>C-M-k</code></p></td><td id="r-593931" data-claire-element-id="593931"><p id="r-593930" data-claire-element-id="593930">coupe l’expression équilibrée débutant au point</p></td></tr><tr id="r-593937" data-claire-element-id="593937"><td id="r-593934" data-claire-element-id="593934"><p id="r-593933" data-claire-element-id="593933"><code>M-z</code></p></td><td id="r-593936" data-claire-element-id="593936"><p id="r-593935" data-claire-element-id="593935">coupe jusqu’à un caractère donné</p></td></tr></tbody></table><p id="r-593940" data-claire-element-id="593940">Aussi, n’oubliez pas que certaines commandes placent la marque pour vous, comme la recherche ; il est inutile donc de la poser deux fois. Si, par exemple, vous souhaitez effacer le texte jusqu’à un certain mot, faîtes donc une recherche sur ce mot, avec <code>C-s</code>, puis tapez <code>RET</code> pour arrêter la recherche ; <code>C-w</code> coupera la région ainsi délimitée.</p><p id="r-593941" data-claire-element-id="593941">Enfin, lorsque vous aurez maîtrisé les astuces présentées ici, vous aurez peut-être trop tendance à en dépendre ; par exemple, l’historique des marques est très pratique, mais si vous vous retrouvez à placer des marques de partout pour vous repérer et sentez que la navigation perd en efficacité, je vous conseille d’essayer d’utiliser les registres.</p><p id="r-593942" data-claire-element-id="593942">Sur ces quelques conseils pratiques s’achève ce court tutoriel sur l’utilisation d’Emacs. La prochaine fois, je parlerai de… ce qui me passera par la tête, je ne sais pas bien encore !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs">Bien utiliser la marque et la région dans Emacs</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/terminologie">
Terminologie
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/first-encounter-la-marque-et-la-region-pour-les-paiens">
First encounter: la marque et la région pour les païens
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
Second offence: utilisations (relativement) avancées
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/final-battle-utiliser-la-marque-et-la-region-au-bon-moment">
Final battle: utiliser la marque et la région au bon moment
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/bien-utiliser-la-marque-et-la-region-dans-emacs/second-offence-utilisations-relativement-avancees">
<span class="arrow"></span>
<span class="next">Second offence: utilisations (relativement) avancées</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/bien-utiliser-la-marque-et-la-region-dans-emacs.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:18:51 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/bien-utiliser-la-marque-et-la-region-dans-emacs.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:20:13 GMT -->
</html>
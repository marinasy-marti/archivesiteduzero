<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/developpez-vos-applications-web-avec-symfony2.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 08:27:48 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/developpez-vos-applications-web-avec-symfony2.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:31:09 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Développez vos applications web avec Symfony2 !</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Développez vos applications web avec Symfony2 !</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#DveloppezvosapplicationswebavecSymfony2">Développez vos applications web avec Symfony2 !</a><br/><a href="#Prsentationgnrale">Présentation générale</a><br/><a href="#Unnouveauregardsursontravail">Un nouveau regard sur son travail</a><br/><a href="#PourquoichoisirSymfony2">Pourquoi choisir Symfony2 ?</a><br/><a href="#Miseenplace">Mise en place</a><br/><a href="#Installation">Installation</a><br/><a href="#Configuration">Configuration</a><br/><a href="#Underniernettoyage">Un dernier nettoyage</a><br/><a href="#L039architecture">L&#039;architecture</a><br/><a href="#Vued039ensemble">Vue d&#039;ensemble</a><br/><a href="#Connatreetconfigurersonapplication">Connaître et configurer son application</a><br/><a href="#Osetrouvelecodesource">Où se trouve le code source ?</a><br/><a href="#Lawebdebugtoolbar">La web debug toolbar</a><br/><a href="#Unehistoiredebundle">Une histoire de bundle</a><br/><a href="#Cration">Création</a><br/><a href="#Dcouvertedel039architecture">Découverte de l&#039;architecture</a><br/><a href="#Manipulezvosnouveauxjouets">Manipulez vos nouveaux jouets !</a><br/><a href="#Leroutingdanstoutesasplendeur">Le routing dans toute sa splendeur</a><br/><a href="#TPExploitezvoscontrleurs">TP : Exploitez vos contrôleurs</a><br/><a href="#Vospremierspasaveclesformulaires">Vos premiers pas avec les formulaires</a><br/><a href="#Uneinteractionplusvolue">Une interaction plus évoluée</a><br/><a href="#Passagelapratiqueunformulairedecontact">Passage à la pratique : un formulaire de contact</a><br/><a href="#Traiterlesdonnesreues">Traiter les données reçues</a><br/><a href="#Unpeudebonnespratiques">Un peu de bonnes pratiques</a><br/><a href="#Vrifiezetvalidezvosdonnes">Vérifiez et validez vos données</a><br/><a href="#Quepeut-onvalideretavecquoi">Que peut-on valider et avec quoi ?</a><br/><a href="#Lavalidationd039objets">La validation d&#039;objets</a><br/><a href="#Desvalidateurscomplexes">Des validateurs complexes</a><br/><a href="#Vousavezditservices">Vous avez dit services ?</a><br/><a href="#Introductionauxservices">Introduction aux services</a><br/><a href="#L039apprentissageparl039exemple">L&#039;apprentissage par l&#039;exemple</a><br/><a href="#Utilisonsnosservices">Utilisons nos services</a><br/></div>
<a name="DveloppezvosapplicationswebavecSymfony2"></a><h2>Développez vos applications web avec Symfony2 !</h2><div class="content" role="article">
<figure id="r-422769" data-claire-element-id="422770"><img id="r-422768" data-claire-element-id="422768" src="medias/uploads.siteduzero.com_files_349001_350000_349719.png" alt="logo_sf2"/></figure><p id="r-422771" data-claire-element-id="422771">Vous avez toujours pensé que créer un site web était complexe ? Votre code devient rapidement trop lourd ?<br/> Qui a dit que le PHP était un langage brouillon ? Vous manquez d'organisation dans votre projet ?</p><p id="r-422772" data-claire-element-id="422772"><strong>Symfony est là pour vous simplifier la vie !</strong></p><p id="r-422773" data-claire-element-id="422773">Avec Symfony vous apprendrez à créer toute sorte d'applications web de manière simple et efficace.</p><p id="r-422774" data-claire-element-id="422774">Si Symfony est de plus en plus réputé dans le monde, ce n'est pas par hasard.<br/> Il offre une liberté exceptionnelle tout en proposant le respect d'une architecture qui permet de répondre à la plupart de nos attentes et qui permet une grande flexibilité afin que chacun puisse tout de même travailler comme il le souhaite.</p><p id="r-422775" data-claire-element-id="422775">En lisant ce tutoriel, vous apprendrez à maîtriser un nouvel outil aux capacités immenses. S'il s'avère que vous n'êtes pas encore très bon dans la programmation web, vous vous rendrez compte de l'énorme niveau que vous aurez acquis. Enfin, j'espère que les plus confirmés y trouveront leur bonheur et la solution à la plupart de leurs problèmes.</p><aside id="r-422777" data-claire-element-id="422777" data-claire-semantic="information"><p id="r-422776" data-claire-element-id="422776">Afin de comprendre et d'apprécier l'entièreté de ce tutoriel, il est indispensable de s'être attardé un minimum sur le tutoriel <a href="http://www.siteduzero.com/tutoriel-3-14668-concevez-votre-site-web-avec-php-et-mysql.html">PHP/MySQL</a> de <a href="http://www.siteduzero.com/membres-294-3.html">Mathieu Nebra (M@teo21)</a><br/> De plus, certains concepts pourront vous paraître flous sans un minimum de connaissances en <a href="http://www.siteduzero.com/tutoriel-3-147180-la-programmation-orientee-objet-en-php.html">Programmation Orienté Objet</a>. <br/> Bien évidement, si vous avez déjà pratiqué la POO en Java ou C++ par exemple, cela est suffisant pour comprendre le framework dans son ensemble. Par contre, si vous souhaitez maîtriser votre travail, il est nécessaire d'avoir de solides connaissances dans le domaine de la POO.<br/> Il est aussi nécessaire de connaitre le concept de namespace en PHP : <a href="http://www.siteduzero.com/tutoriel-3-217599-les-espaces-de-noms-en-php.html">Les espaces de noms en PHP</a></p></aside><p id="r-422778" data-claire-element-id="422778">Je vous souhaite une agréable lecture !</p><p id="r-422779" data-claire-element-id="422779">PS: Et bien du courage... :diable:</p><p id="r-422780" data-claire-element-id="422783"><em><a href="http://phpbb.com/"><img id="r-422783" data-claire-element-id="422782" src="medias/uploads.siteduzero.com_files_350001_351000_350579.png" alt="phpbb"/></a><a href="http://www.yahoo.com/"><img id="r-422782" data-claire-element-id="422781" src="medias/uploads.siteduzero.com_thb_350001_351000_350578.jpg" alt="yahoo"/></a><a href="http://dailymotion.com/"><img id="r-422781" data-claire-element-id="422780" src="medias/uploads.siteduzero.com_files_350001_351000_350577.png" alt="dailymotion"/></a>Exemples d'applications réalisées avec Symfony</em></p>
</div>
<div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1358423835269-0" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1358423835269-0');
        });
    }
    </script>
</div><a name="Prsentationgnrale"></a><h2>Présentation générale</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
<span class="next">Un nouveau regard sur son travail</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<figure id="r-422788" data-claire-element-id="422789"><img id="r-422787" data-claire-element-id="422787" src="medias/uploads.siteduzero.com_files_349001_350000_349719.png" alt="logo_sf2"/></figure><p id="r-422790" data-claire-element-id="422790">Nous y sommes, voici le premier chapitre de ce tutoriel. Nous allons ensemble découvrir Symfony2.<br/> Tout d'abord, je lèverai le doute sur la première question qui se pose naturellement :</p><div id="r-422792" data-claire-element-id="422792" data-claire-semantic="question"><p id="r-422791" data-claire-element-id="422791">Symfony2, c'est quoi au juste ? Et d'où est-ce que ça sort d'ailleurs ?</p></div>
</div><a name="Unnouveauregardsursontravail"></a><h2>Un nouveau regard sur son travail</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">
<span class="arrow"></span>
<span class="next">Présentation générale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
<span class="next">Pourquoi choisir Symfony2 ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-nouveau-regard-sur-son-travail" data-claire-element-id="422836">Un nouveau regard sur son travail</h4><h5 id="r-apprendre-a-mieux-travailler" data-claire-element-id="422797">Apprendre à mieux travailler</h5><p id="r-422793" data-claire-element-id="422793">Actuellement, vous avez un niveau correct en PHP. Vous savez structurer votre code afin de réaliser des sites web plus ou moins basiques. Vous connaissez la programmation orientée objet et aimeriez bien enfin pouvoir l'appliquer sur un vrai projet, mais vous ne savez pas forcement comment vous y prendre. Vous avez besoin de clarifier ou de simplifier les choses dans votre code sans toutefois perdre trop de temps. Vous prenez les choses en mains et vous vous interrogez à propos d'une éventuelle solution à tous vos problèmes. <strong>Les frameworks sont là pour vous !</strong></p><p id="r-422794" data-claire-element-id="422794">Mais bon, un framework, qu'est-ce que ça signifie ?</p><aside id="r-422796" data-claire-element-id="422796" data-claire-semantic="information"><p id="r-422795" data-claire-element-id="422795">&quot;Framework&quot; est un terme tout droit venu de l'anglais signifiant &quot;cadre de travail&quot;. Un framework est là pour vous aider à <strong>structurer votre projet</strong>. Il apporte un ensemble d'éléments qui définissent le squelette d'une application et certaines briques de base qui vous <strong>facilitent la vie</strong>. Un framework offre tout un panel d'outils pour <strong>aider le développeur</strong> dans la réalisation de son application tout en offrant une certaine <strong>liberté</strong> dans la réalisation technique de celle-ci.</p></aside><h5 id="r-que-propose-un-framework" data-claire-element-id="422820">Que propose un framework ?</h5><p id="r-422798" data-claire-element-id="422798">Un framework n'est pas indispensable pour réaliser une application web, mais il apporte ce qu'il faut pour être bien plus <strong>efficace</strong>, <strong>rapide </strong>et créer une application de <strong>qualité</strong> !<br/> Un framework vous offre la possibilité de développer une application dans les règles de l'art. Il permet de réaliser <strong>une application structurée, maintenable et évolutive</strong>. De plus, la flexibilité du framework vous permet de vous concentrer entièrement sur votre application sans trop se soucier du reste.<br/> N'ayez crainte, vous maîtrisez toujours l'intégralité de votre application. Le framework va vous apporter certaines briques de base qui permettent de ne pas avoir à réinventer la roue.</p><ul id="r-422801" data-claire-element-id="422801"><li id="r-422800" data-claire-element-id="422800"><p id="r-422799" data-claire-element-id="422799"><strong>Abstraction de la base de données :</strong> un framework utilise PDO, une solution qui vous permet d'ajouter une couche d'abstraction entre votre base de données et votre code. Vous n'avez plus à vous soucier du type de base de données qui fonctionne derrière votre application. Un framework embarque aussi généralement un ORM (object relational mapper) qui permet d'installer une couche d'abstraction supplémentaire entre les appels à votre base de données et votre code. Vous pouvez ainsi faire des opérations courantes comme la récupération de données ou la sauvegarde d'un objet sans vous soucier du code SQL à écrire.</p></li></ul><figure id="r-422803" data-claire-element-id="422804"><img id="r-422802" data-claire-element-id="422802" src="medias/uploads.siteduzero.com_files_351001_352000_351894.png" alt="Image utilisateur"/></figure><p id="r-422805" data-claire-element-id="422805"><em>Abstraction de la base de données</em></p><ul id="r-422818" data-claire-element-id="422818"><li id="r-422807" data-claire-element-id="422807"><p id="r-422806" data-claire-element-id="422806"><strong>Couche d’abstraction du cache :</strong> Plutôt que d’utiliser des fonctions de mise en cache spécifiques, vous allez pouvoir utiliser des fonctionnalités de mise en cache génériques telles que Memcache, APC et XCache.</p></li><li id="r-422809" data-claire-element-id="422809"><p id="r-422808" data-claire-element-id="422808"><strong>Gestion des formulaires :</strong> Le framework offre la possibilité de générer en grande partie tous les widgets HTML, il se charge de la validation du formulaire et de la sécurité CSRF (Cross-Site Request Forgery).</p></li><li id="r-422811" data-claire-element-id="422811"><p id="r-422810" data-claire-element-id="422810"><strong>Gestion d'utilisateurs :</strong> La plupart des frameworks ont tout ce qu'il faut pour pouvoir gérer l'authentification d'utilisateurs. Ils gèrent la connexion, la déconnexion, la création, la gestion des sessions et des droits.</p></li><li id="r-422813" data-claire-element-id="422813"><p id="r-422812" data-claire-element-id="422812"><strong>Gestion des erreurs et bien plus :</strong> Certains frameworks comme Symfony offrent de très bon outils de débogage ainsi qu'un &quot;profiler&quot; qui permet de vous renseigner sur tout ce qu'il se passe dans votre application (variables globales, requêtes de base de données, logs, temps de chargement, etc.).</p></li><li id="r-422815" data-claire-element-id="422815"><p id="r-422814" data-claire-element-id="422814"><strong>Internationalisation :</strong> Les frameworks vous permettent de créer facilement le multilingue pour vous et ce, de manière native la plupart du temps.</p></li><li id="r-422817" data-claire-element-id="422817"><p id="r-422816" data-claire-element-id="422816"><strong>Moteur de template :</strong> De nombreux frameworks intègrent un moteur de templates. Celui-ci permet de simplifier grandement l'écriture de votre code HTML tout en étant propre et efficace.</p></li></ul><p id="r-422819" data-claire-element-id="422819"><strong>Vous vous rendez compte du temps qu'il est possible de gagner :waw: ? Avec un framework vous n'avez plus à vous soucier de toutes ces choses si complexes et longues à mettre en place !</strong></p><h5 id="r-pourquoi-utiliser-un-framework" data-claire-element-id="422835">Pourquoi utiliser un framework ?</h5><p id="r-422821" data-claire-element-id="422821">Il y a d'autres avantages à utiliser un framework. D'une part, un framework est portable, de part son abstraction de la base de données et de la gestion générique du cache. Vous l'aurez compris, les temps de développement avec un framework sont réellement plus courts. Tous les outils essentiels sont déjà écrits pour vous. Avec un framework, vous développez une application facilement sécurisable grâce aux systèmes d'authentification, à la gestion des injections SQL ainsi qu'à la protection CSRF qui est gérée par la plupart des frameworks. Les frameworks sont des outils communautaires et ont, par conséquent, des forums, des listes de diffusion et des canaux IRC pour les soutenir. Si vous rencontrez un problème avec un framework, les chances que quelqu’un d’autre ait déjà eu le même problème et ait apporté un correctif sont très grandes, notamment sur les frameworks largement déployés. Encore une bonne nouvelle, sachez que les membres de la communauté développent régulièrement des plugins et des modules que vous pouvez télécharger et utiliser dans votre application.</p><p id="r-422822" data-claire-element-id="422822">L'avantage d'un framework, c'est aussi de pouvoir travailler dans le respect des bonnes pratiques et de réutiliser des méthodologies de conception standardisées.<br/> On peut particulièrement citer le design pattern MVC, accronyme de l'expression <strong>&quot;Modèle - Vue - Contrôleur&quot;</strong>. Un design pattern est traduit par &quot;patron de conception&quot;, c'est donc un modèle qui a fait ses preuves et qui s'avère indispensable à connaitre dans le domaine de la programmation. <br/> Découpons un peu tout ça :</p><ul id="r-422829" data-claire-element-id="422829"><li id="r-422824" data-claire-element-id="422824"><p id="r-422823" data-claire-element-id="422823"><strong>Modèle :</strong> Le modèle est la partie du code qui se charge d'intéragir avec la base de données. On y retrouve donc les appels SQL que nous aurons définis.</p></li><li id="r-422826" data-claire-element-id="422826"><p id="r-422825" data-claire-element-id="422825"><strong>Vue :</strong> La vue est la partie du code qui se charge uniquement d'afficher les données qui lui ont été fournies. En aucun cas, la vue ne doit effectuer de traitement sur les données, sauf dans le but d'en embelir l'affichage.</p></li><li id="r-422828" data-claire-element-id="422828"><p id="r-422827" data-claire-element-id="422827"><strong>Contrôleur :</strong> Le contrôleur est le centre de notre design pattern. Il reçoit la requête HTTP, l'interprète et coordonne le tout. Il se charge de demander au modèle les données puis effectue plus ou moins de traitements dessus afin d'envoyer à la vue les données à afficher et de retourner une réponse à l'émeteur de la requête.</p></li></ul><figure id="r-422831" data-claire-element-id="422832"><img id="r-422830" data-claire-element-id="422830" src="medias/uploads.siteduzero.com_files_351001_352000_351895.png" alt="Image utilisateur"/></figure><p id="r-422833" data-claire-element-id="422833"><em>Schématisation du design pattern MVC</em><br/> On remarque bien que chaque phase du travail est bien séparée, ce qui permet une organisation plus claire du code. <strong>Chaque chose à sa place.</strong></p><p id="r-422834" data-claire-element-id="422834">Tout cela est réjouissant n'est-ce pas ? Sachez tout de même qu'apprendre à utiliser un framework n'est pas une mince affaire. Il faut beaucoup de temps, suivre des cours bien construits afin de parfaire vos connaissances et de maîtriser un nouvel outil. <strong>Mais n'oubliez pas que le jeu en vaut la chandelle</strong>.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">
<span class="arrow"></span>
<span class="next">Présentation générale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
<span class="next">Pourquoi choisir Symfony2 ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PourquoichoisirSymfony2"></a><h2>Pourquoi choisir Symfony2 ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
<span class="arrow"></span>
<span class="next">Un nouveau regard sur son travail</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">
<span class="next">Mise en place</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-pourquoi-choisir-symfony2" data-claire-element-id="422898">Pourquoi choisir Symfony2 ?</h4><h5 id="r-et-pourquoi-pas-un-autre" data-claire-element-id="422897">Et pourquoi pas un autre ?</h5><p id="r-422837" data-claire-element-id="422837">Symfony2 est un framework codé en PHP qui va nous permettre de développer une immensité d'applications web de la plus simple à la plus complexe imaginable.<br/> Car en effet, Symfony définit un squelette de base à respecter, mais dans lequel on peut y mettre tout le code que l'on souhaite.</p><p id="r-422838" data-claire-element-id="422838">Il n'y a donc aucune limite ! Seule votre motivation pourra vous freiner, mais nous avons tous un énorme potentiel qui ne demande qu'à être exploité. Symfony2 est là pour nous aider à le mettre en avant.</p><p id="r-422839" data-claire-element-id="422839">Quelques framework PHP assez connus :</p><table id="r-422873" data-claire-element-id="422873"><thead id="r-422849" data-claire-element-id="422849"><tr id="r-422848" data-claire-element-id="422848"><th id="r-422841" data-claire-element-id="422841"><p id="r-422840" data-claire-element-id="422840">CakePHP</p></th><th id="r-422843" data-claire-element-id="422843"><p id="r-422842" data-claire-element-id="422842">CodeIgniter</p></th><th id="r-422845" data-claire-element-id="422845"><p id="r-422844" data-claire-element-id="422844">Zend Framework</p></th><th id="r-422847" data-claire-element-id="422847"><p id="r-422846" data-claire-element-id="422846">Symfony2</p></th></tr></thead><tbody id="r-422872" data-claire-element-id="422872"><tr id="r-422862" data-claire-element-id="422862"><td id="r-422852" data-claire-element-id="422852"><p id="r-422850" data-claire-element-id="422851"><a href="http://cakephp.org/"><img id="r-422851" data-claire-element-id="422850" src="medias/uploads.siteduzero.com_files_350001_351000_350742.png" alt="cakephp"/></a></p></td><td id="r-422855" data-claire-element-id="422855"><p id="r-422853" data-claire-element-id="422854"><a href="http://codeigniter.com/"><img id="r-422854" data-claire-element-id="422853" src="medias/uploads.siteduzero.com_thb_350001_351000_350743.png" alt="Image utilisateur"/></a></p></td><td id="r-422858" data-claire-element-id="422858"><p id="r-422856" data-claire-element-id="422857"><a href="http://framework.zend.com/"><img id="r-422857" data-claire-element-id="422856" src="medias/uploads.siteduzero.com_thb_350001_351000_350744.png" alt="Image utilisateur"/></a></p></td><td id="r-422861" data-claire-element-id="422861"><p id="r-422859" data-claire-element-id="422860"><a href="http://symfony.com/"><img id="r-422860" data-claire-element-id="422859" src="medias/uploads.siteduzero.com_files_349001_350000_349719.png" alt="logo_sf2"/></a></p></td></tr><tr id="r-422871" data-claire-element-id="422871"><td id="r-422864" data-claire-element-id="422864"><p id="r-422863" data-claire-element-id="422863">CakePHP est un framework très simple d'utilisation. Facile à appréhender, il fournit un ensemble de briques de base solides et peut facilement être couplé à un ORM</p></td><td id="r-422866" data-claire-element-id="422866"><p id="r-422865" data-claire-element-id="422865">Code Igniter est un très bon framework qui se fait de plus en plus connaitre de part sa qualité. Il n'embarque pas d'ORM mais dispose de l'essentiel pour répondre à la plupart des demandes.</p></td><td id="r-422868" data-claire-element-id="422868"><p id="r-422867" data-claire-element-id="422867">Le ZendFramework est plus considéré comme une grosse bibliothèque de fonctionnalités plutôt qu'un framework à part entière et n'est pas très simple à comprendre pour un débutant. Dans sa version 2, il passe réellement dans la catégorie des frameworks avec une approche très proche de celle de Symfony2. Néanmoins, de solides connaissances sont aussi à prévoir afin d'exploiter correctement l'outil.</p></td><td id="r-422870" data-claire-element-id="422870"><p id="r-422869" data-claire-element-id="422869">Symfony2 est un framework qui dispose d'un bon nombre de briques de base tout en laissant pas mal de libertés au développeur. Cependant, Symfony2 peut être délicat à aborder pour un débutant s'il n'a pas de bonnes connaissances en programmation orientée objet et une certaine maîtrise des technologies web est nécessaire pour en exploiter toute la puissance du produit.</p></td></tr></tbody></table><p id="r-422874" data-claire-element-id="422874">Je vous laisse prendre votre propre décision, mais le sujet de ce tutoriel reste tout de même l'étude du framework Symfony. Je vais tout de même justifier mon choix en vous exposant certains points à connaitre sur le framework dans sa globalité :</p><h6 id="r-une-grande-reputation" data-claire-element-id="422876">Une grande réputation</h6><p id="r-422875" data-claire-element-id="422875">Lancé en 2005, Symfony est aujourd'hui un framework stable connu et reconnu à l'international. Symfony dispose aussi une communauté active de développeurs, intégrateurs, utilisateurs et d'autres contributeurs qui participent à l'enrichissement continu de l'outil.</p><h6 id="r-qui-est-derriere-tout-ca" data-claire-element-id="422883">Qui est derrière tout ça ?</h6><p id="r-422877" data-claire-element-id="422878"><a href="http://sensiolabs.com/"><img id="r-422878" data-claire-element-id="422877" src="medias/uploads.siteduzero.com_thb_351001_352000_351498.png" alt="Image utilisateur"/></a>Derrière Symfony se cache une entreprise : Sensio. Sensio est une agence web créée il y a 12 ans. Oui, ce sont bien des français qui sont derrière Symfony, plus particulièrement Fabien Potencier et toute son équipe. Imaginé au départ pour ses propres besoins, le framework Symfony est aujourd'hui encore l'outil utilisé au quotidien par ses propres équipes. Symfony est un outil qui arrive à répondre aux exigences du monde professionnel.</p><figure id="r-422880" data-claire-element-id="422881"><img id="r-422879" data-claire-element-id="422879" src="medias/uploads.siteduzero.com_files_351001_352000_351499.jpg" alt="Image utilisateur"/></figure><p id="r-422882" data-claire-element-id="422882"><em>Fabien Potencier, <br/> lead développeur du projet Symfony</em></p><h6 id="r-qui-utilise-symfony" data-claire-element-id="422885">Qui utilise Symfony ?</h6><p id="r-422884" data-claire-element-id="422884">De nombreux sites et applications de toutes tailles et de tous les types !<br/> C'est par exemple le cas de <a href="yahoo.html">Yahoo!</a>, <a href="http://www.dailymotion.com/">Dailymotion</a>, <a href="https://opensky.com/">Opensky.com</a>, <a href="http://www.exercise.com/">Exercise.com</a> et même des applications telles que <a href="http://www.phpbb.com/">phpBB</a>.</p><h6 id="r-de-l-innovation" data-claire-element-id="422887">De l'innovation</h6><p id="r-422886" data-claire-element-id="422886">Symfony est tout ce que vous attendez d'un framework : rapidité, flexibilité, des composants réutilisables, etc.<br/> De bonnes idées ont fait leur petit bout de chemin, c'est par exemple le cas de l'injection de dépendances. Un concept tout droit venu du monde du Java !<br/> On retrouve aussi une &quot;web debug toolbar&quot; que l'ont peut retrouver dans d'autre framework et qui apporte un une bonne amélioration de la productivité des développeurs.</p><h6 id="r-avec-symfony-vous-n-etes-jamais-seul" data-claire-element-id="422889">Avec Symfony, vous n'êtes jamais seul !</h6><p id="r-422888" data-claire-element-id="422888">Lorsque vous utilisez Symfony, vous êtes assuré de ne jamais vous retrouvez seul. Une communauté se trouve à coté de vous ! Des <a href="http://symfony.com/mailing-lists">conversations par mail</a> sont partagées, des <a href="http://symfony.com/irc">channels IRC</a> existent pour que vous exposiez vos problèmes, de nombreux travaux sont publiés régulièrement et bien évidement, le <a href="http://www.siteduzero.com/">Site du Zéro</a> est là pour vous accompagner !</p><h6 id="r-utiliser-re-utiliser-exploiter-sans-limites" data-claire-element-id="422896">Utiliser, ré-utiliser, exploiter sans limites</h6><p id="r-422890" data-claire-element-id="422891">L'idée est de pas vous enfermer dans Symfony ! Permettez-vous de construire des applications qui répondent précisément à vos besoins !<br/> Symfony tend à respecter un maximum de conventions de codage. Ce n'est certes pas parfait, mais le framework s'efforce à respecter des standards comme <a href="https://github.com/php-fig/fig-standards/blob/master/accepted/PSR-0.md">PSR-0</a> et <a href="http://www.w3.org/Protocols/">HTTP</a>.<br/><a href="medias/uploads.siteduzero.com_files_350001_351000_350753.png"><img id="r-422891" data-claire-element-id="422890" src="medias/uploads.siteduzero.com_thb_350001_351000_350753.png" alt="Image utilisateur"/></a><br/> Enfin, Symfony est distribué sous <a href="http://fr.wikipedia.org/wiki/Licence_MIT">licence Open Source MIT</a>, qui n'impose pas de contraintes et permet le développement de l'Open Source ainsi que des applications propriétaires.</p><p id="r-422892" data-claire-element-id="422892">Alors, convaincu ?</p><aside id="r-422894" data-claire-element-id="422894" data-claire-semantic="information"><p id="r-422893" data-claire-element-id="422893">Vous avez pour habitude de travailler sur symfony 1.4 ? Alors vous arriverez rapidement à cerner ce nouveau framework. Non pas qu'ils se ressemblent, mais vous avez l'habitude d'utiliser un framework avec une architecture fixe et vous souhaitez évoluer vers quelque chose offrant plus de flexibilité tout en abordant de nouveaux concepts de programmation en PHP, alors n'hésitez plus, franchissez le cap !</p></aside><p id="r-422895" data-claire-element-id="422895">Dans ce premier chapitre, mon but était de vous faire rendre compte de l'utilité d'un framework. Certains n'en verront pas la nécessité dans l'immédiat, d'autres vont prendre conscience de l'énorme quantité de temps qu'il est possible de gagner et se demanderont pourquoi ils ont attendu tout ce temps pour se mettre à utiliser un framework.<br/> Enfin, le choix du framework va dépendre de <strong>vos envies et de vos besoins</strong>. Si Symfony vous motive, je vous invite à poursuivre avec son installation !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
<span class="arrow"></span>
<span class="next">Un nouveau regard sur son travail</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">
<span class="next">Mise en place</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Miseenplace"></a><h2>Mise en place</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
<span class="arrow"></span>
<span class="next">Pourquoi choisir Symfony2 ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-422900" data-claire-element-id="422900">Le but de ce chapitre est d'installer et de configurer notre premier projet Symfony ! Allez, je suis sûr que vous trépignez d'impatience !</p>
</div><a name="Installation"></a><h2>Installation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">
<span class="arrow"></span>
<span class="next">Mise en place</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
<span class="next">Configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-installation-54" data-claire-element-id="422986">Installation</h4><h5 id="r-c-est-parti-7" data-claire-element-id="422985">C'est parti !</h5><p id="r-422901" data-claire-element-id="422901">Puisqu'il faut bien commencer quelque part, je vous conseille tout d'abord de vous préparer un environnement propre sous apache pour accueillir votre projet Symfony !</p><p id="r-422902" data-claire-element-id="422902">Pour ceux qui ont oublié comment faire, je vous suggère de faire un petit tour sur <a href="http://www.siteduzero.com/tutoriel-3-193603-preparer-son-ordinateur.html">le tutoriel PHP</a>.</p><h6 id="r-installer-php-en-ligne-de-commande" data-claire-element-id="422939">Installer php en ligne de commande</h6><p id="r-422903" data-claire-element-id="422903">Tout d'abord, ouvrez votre console !<br/> Si vous êtes sous Linux vous ne devriez pas avoir de problèmes à suivre, mais au cas où, un petit rappel ne fait pas de mal : <a href="http://www.siteduzero.com/tutoriel-3-12735-la-console-ca-se-mange.html">c'est par ici</a>.<br/> Pour les habitués de Windows : Menu Démarrer &gt; Tous les programmes &gt; Accessoires &gt; Invite de commandes.<br/> Enfin, pour les utilisateurs de MacOS, quelque chose comme Accessoires &gt; Console devrait vous guider.</p><p id="r-422904" data-claire-element-id="422904">Pour Linux et MacOS, le problème de PHP en ligne de commande ne se pose pas, pour Windows, c'est différent. Voici comment procéder :</p><ul id="r-422925" data-claire-element-id="422925"><li id="r-422906" data-claire-element-id="422906"><p id="r-422905" data-claire-element-id="422905">Démarrer -&gt; Panneau de configuration -&gt; Système et sécurité -&gt; Système -&gt; Paramètres système avancés</p></li><li id="r-422908" data-claire-element-id="422908"><p id="r-422907" data-claire-element-id="422907">Allez à l'onglet &quot;Paramètres système avancés&quot;</p></li><li id="r-422910" data-claire-element-id="422910"><p id="r-422909" data-claire-element-id="422909">Cliquez sur le bouton &quot;Variables d'environnement&quot;</p></li><li id="r-422912" data-claire-element-id="422912"><p id="r-422911" data-claire-element-id="422911">Regardez dans le panneau &quot;Variables systèmes&quot;</p></li><li id="r-422914" data-claire-element-id="422914"><p id="r-422913" data-claire-element-id="422913">Trouvez l'entrée Path (vous devriez avoir à faire descendre l'ascenseur pour le trouver)</p></li><li id="r-422916" data-claire-element-id="422916"><p id="r-422915" data-claire-element-id="422915">Double cliquez sur l'entrée Path</p></li><li id="r-422918" data-claire-element-id="422918"><p id="r-422917" data-claire-element-id="422917">Entrez votre répertoire PHP à la fin, sans oublier le point virgule (;) avant (par exemple ;C:\php)</p></li><li id="r-422920" data-claire-element-id="422920"><p id="r-422919" data-claire-element-id="422919">Double cliquez sur l'entrée PATHEXT</p></li><li id="r-422922" data-claire-element-id="422922"><p id="r-422921" data-claire-element-id="422921">Ajoutez .PHP à la fin, sans oublier le point virgule (;)</p></li><li id="r-422924" data-claire-element-id="422924"><p id="r-422923" data-claire-element-id="422923">Confirmez en cliquant sur OK</p></li></ul><aside id="r-422927" data-claire-element-id="422927" data-claire-semantic="information"><p id="r-422926" data-claire-element-id="422926">Assurez-vous de redémarrer l'ordinateur après avoir suivi cette procédure afin que les modifications sur la variable PATH soient bien prises en compte.</p></aside><p id="r-422928" data-claire-element-id="422928">Ensuite, associez l'extension .PHP avec un type de fichier. Ceci peut être fait en exécutant la commande suivante :</p><pre id="r-422929" data-claire-element-id="422929"><code data-claire-semantic="console">assoc .php=phpfile</code></pre><p id="r-422930" data-claire-element-id="422930">Enfin, associez le type de fichier phpfile avec l'exécutable PHP approprié. Ceci peut être fait en exécutant la commande suivante :</p><pre id="r-422931" data-claire-element-id="422931"><code data-claire-semantic="console">ftype phpfile=&quot;C:\wamp\bin\php\php5.3.8\php.exe&quot; -f &quot;%1&quot; -- %~2</code></pre><aside id="r-422933" data-claire-element-id="422933" data-claire-semantic="information"><p id="r-422932" data-claire-element-id="422932">N'oubliez pas de remplacer &quot;C:\wamp\bin\php\php5.3.8\php.exe&quot; par le chemin d'accès à votre installation de PHP.<br/> Si vous obtenez un message d'erreur comme 'Accès refusé', c'est que vous n'avez pas démarré votre console en tant qu'administrateur !</p></aside><p id="r-422934" data-claire-element-id="422934">Et si tout va bien, en tapant cela :</p><pre id="r-422935" data-claire-element-id="422935"><code data-claire-semantic="console">php -v</code></pre><p id="r-422936" data-claire-element-id="422936">Vous devriez obtenir quelque chose à peu près comme cela :</p><pre id="r-422937" data-claire-element-id="422937"><code data-claire-semantic="console">PHP 5.3.8 (cli) (built: Sep 16 2011 21:28:32)
Copyright (c) 1997-2011 The PHP Group
Zend Engine v2.3.0, Copyright (c) 1998-2011 Zend Technologies
    with Xdebug v2.1.2, Copyright (c) 2002-2011, by Derick Rethans</code></pre><p id="r-422938" data-claire-element-id="422938">Tout va bien ? Alors ça signifie que php est correctement installé sur votre machine !</p><h6 id="r-configurer-son-virtualhost" data-claire-element-id="422969">Configurer son virtualhost</h6><p id="r-422940" data-claire-element-id="422940">Afin de faire fonctionner correctement Symfony, il est necessaire de bien configurer un virtualhost.</p><p id="r-422941" data-claire-element-id="422941"><strong>Avec Linux :</strong></p><p id="r-422942" data-claire-element-id="422942">Ajoutez un nouveau vhost dans le dossier sites-available situé dans le dossier d'installation d'Apache.</p><pre id="r-422943" data-claire-element-id="422943"><code data-claire-semantic="console">cd /etc/apache2/sites-availables
sudo nano default</code></pre><p id="r-422944" data-claire-element-id="422944">Puis remplacez le contenu par les lignes suivantes :</p><pre id="r-422945" data-claire-element-id="422945"><code data-claire-semantic="apache">&lt;VirtualHost *:80&gt;
    DocumentRoot /home/user/www/tuto/Symfony/web

    &lt;Directory &quot;/home/user/www/tuto/Symfony/web&quot;&gt;
        DirectoryIndex app_dev.php
        Options -Indexes FollowSymLinks SymLinksifOwnerMatch
        AllowOverride All
        Allow from All
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre><p id="r-422946" data-claire-element-id="422946">N'oubliez pas d'activer le nouveau site en faisant un lien dans le dossier correspondant :</p><pre id="r-422947" data-claire-element-id="422947"><code data-claire-semantic="console">sudo a2ensite mon-site</code></pre><aside id="r-422949" data-claire-element-id="422949" data-claire-semantic="information"><p id="r-422948" data-claire-element-id="422948">Il est parfois nécessaire de rappeler à Apache que l'on travaille sur le serveur &quot;localhost&quot;, pour cela, rien de plus simple : <code data-claire-semantic="console">sudo echo &quot;ServerName localhost&quot; &gt;&gt;/etc/apache2/apache2.conf</code></p></aside><p id="r-422950" data-claire-element-id="422950">Il faut ensuite installer et activer les extensions nécessaires :</p><pre id="r-422951" data-claire-element-id="422951"><code data-claire-semantic="console">sudo apt-get install php5-intl
sudo apt-get install php-apc

# Ouvrez le fichier php.ini
sudo gedit /etc/php5/apache2/php.ini</code></pre><p id="r-422952" data-claire-element-id="422952">Vérifiez l’existence de ces lignes dans le fichier. Modifiez le fichier si nécessaire.</p><pre id="r-422953" data-claire-element-id="422953"><code data-claire-semantic="apache">extension = apc.so avant
[APC] 
apc.enabled = 1
short_open_tag = off
date.timezone = Europe/Paris</code></pre><p id="r-422954" data-claire-element-id="422954">Vous pouvez aussi installer phpmyadmin si vous ne le possédez pas encore :</p><pre id="r-422955" data-claire-element-id="422955"><code data-claire-semantic="console">sudo apt-get install phpmyadmin
sudo ln -s /usr/share/phpmyadmin /home/user/www/phpmyadmin</code></pre><p id="r-422956" data-claire-element-id="422956"><strong>Enfin, redémarez Apache :</strong></p><pre id="r-422957" data-claire-element-id="422957"><code data-claire-semantic="console">sudo service apache2 restart</code></pre><p id="r-422958" data-claire-element-id="422958"><strong>Avec Windows :</strong></p><p id="r-422959" data-claire-element-id="422959">Si vous utilisez Wamp, il vous suffit cliquer sur l'icone dans votre barre des taches, passer votre curseur sur la ligne Apache et cliquer sur <code>httpd.conf</code>.</p><figure id="r-422961" data-claire-element-id="422962"><img id="r-422960" data-claire-element-id="422960" src="medias/uploads.siteduzero.com_files_350001_351000_350583.png" alt="wamp"/></figure><p id="r-422963" data-claire-element-id="422963">Ajoutez ces quelques lignes à la fin de votre fichier :</p><pre id="r-422964" data-claire-element-id="422964"><code data-claire-semantic="apache">ServerName localhost

&lt;VirtualHost *:80&gt;    

    DocumentRoot C:\wamp\www\tuto\Symfony\web

    &lt;Directory &quot;C:\wamp\www\tuto\Symfony\web&quot;&gt;
        DirectoryIndex app_dev.php
        Options -Indexes FollowSymLinks SymLinksifOwnerMatch
        AllowOverride All
        Allow from All
    &lt;/Directory&gt;
&lt;/VirtualHost&gt;</code></pre><p id="r-422965" data-claire-element-id="422965">Vérifiez que vous avez bien activé les différentes extensions de php. <br/> Toujours dans le menu de Wamp, cette fois-ci placez votre curseur sur le menu PHP puis sur PHP extensions. Vérifiez que php_intl et php_apc soient cochés. Dans le menu PHP settings, vérifiez que vous avez bien désactivé <code>&quot;short open tag&quot;</code>.<br/> Cliquez ensuite sur php.ini pour l'ouvrir, cherchez la ligne date.timezone et configurez la comme cela : <code data-claire-semantic="apache">date.timezone = Europe/Paris</code>.</p><aside id="r-422967" data-claire-element-id="422967" data-claire-semantic="information"><p id="r-422966" data-claire-element-id="422966">Si vous avez quelques soucis avec APC ou que vous ne le trouvez pas dans la liste, je vous suggère de suivre les instructions données dans ce tutoriel : <a href="http://www.siteduzero.com/tutoriel-3-78959-accelerer-la-generation-de-vos-pages-php-avec-l-extension-apc.html">Accélérer la génération de vos pages PHP avec l'extension APC</a>. Sachez tout de même qu'APC n'est pas indispensable pour suivre ce tutoriel, mais il est recommandé.</p></aside><p id="r-422968" data-claire-element-id="422968"><strong>Un redémarrage d'Apache est indispensable pour que les modifications soient prises en compte, cliquez donc sur &quot;Restart all services&quot; depuis le menu de Wamp.</strong></p><h6 id="r-installer-symfony" data-claire-element-id="422984">Installer Symfony</h6><p id="r-422970" data-claire-element-id="422970"><strong>Ca y est, tout est prêt ?</strong> Et bien installons la bête !</p><figure id="r-422972" data-claire-element-id="422973"><img id="r-422971" data-claire-element-id="422971" src="medias/uploads.siteduzero.com_files_350001_351000_350581.png" alt="distributions"/></figure><p id="r-422974" data-claire-element-id="422974">Rendez-vous directement sur <a href="http://symfony.com/download">le site officiel du framework</a> pour le téléchargement.<br/> Prenez la dernière version avec ou sans les vendors, de toutes façons nous allons les télécharger à nouveau.</p><p id="r-422975" data-claire-element-id="422975">Une fois téléchargé, décompressez moi tout ça, prenez le dossier Symfony, copier/coller le dans votre dossier web de destination et hop, fini !<br/> Bon d'accord, pas tout à fait, mais c'est un bon début :) .</p><p id="r-422976" data-claire-element-id="422976">Si tout va bien, vous devriez avoir cette arborescence :</p><figure id="r-422978" data-claire-element-id="422979"><img id="r-422977" data-claire-element-id="422977" src="medias/uploads.siteduzero.com_files_350001_351000_350728.png" alt="arbo"/></figure><p id="r-422980" data-claire-element-id="422980">Afin de vérifier que tout c'est bien passé, vous pouvez exécuter le script de vérification en vous plaçant dans le dossier de Symfony :</p><pre id="r-422981" data-claire-element-id="422981"><code data-claire-semantic="console">php app/check.php</code></pre><pre id="r-422982" data-claire-element-id="422982"><code data-claire-semantic="console">** Mandatory requirements **

  OK        Checking that PHP version is at least 5.3.2 (5.3.8 installed)
  OK        Checking that the &quot;date.timezone&quot; setting is set
  OK        Checking that app/cache/ directory is writable
  OK        Checking that the app/logs/ directory is writable
  OK        Checking that the json_encode() is available
  OK        Checking that the SQLite3 or PDO_SQLite extension is available
  OK        Checking that the session_start() is available
  OK        Checking that the ctype_alpha() is available
  OK        Checking that the token_get_all() is available
  OK        Checking that the APC version is at least 3.0.17

** Optional checks **

  OK        Checking that the PHP-XML module is installed
  OK        Checking that the token_get_all() function is available
  OK        Checking that the mb_strlen() function is available
  OK        Checking that the iconv() function is available
  OK        Checking that the utf8_decode() is available


[[WARNING]] Checking that the intl extension is available: FAILED
            *** Install and enable the intl extension (used for validators) ***


[[WARNING]] Checking that a PHP accelerator is installed: FAILED
            *** Install a PHP accelerator like APC (highly recommended) ***
  OK        Checking that php.ini has short_open_tag set to off
  OK        Checking that php.ini has magic_quotes_gpc set to off
  OK        Checking that php.ini has register_globals set to off
  OK        Checking that php.ini has session.auto_start set to off

** Optional checks (Doctrine) **

  OK        Checking that PDO is installed
  OK        Checking that PDO has some drivers installed: mysql, sqlite</code></pre><p id="r-422983" data-claire-element-id="422983">Activez les extensions php et/ou apache nécessaires au bon fonctionnement du framework et si vous n'avez plus d'erreurs et de warning, poursuivez !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">
<span class="arrow"></span>
<span class="next">Mise en place</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
<span class="next">Configuration</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Configuration"></a><h2>Configuration</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
<span class="next">Un dernier nettoyage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-configuration-20" data-claire-element-id="423021">Configuration</h4><h5 id="r-et-oui-on-a-rien-sans-rien" data-claire-element-id="423020">Et oui, on a rien sans rien...</h5><h6 id="r-mettre-a-jour-les-vendors" data-claire-element-id="422997">Mettre à jour les vendors</h6><p id="r-422987" data-claire-element-id="422987">Nous pouvons donc poursuivre, rendez-vous dans le répertoire ou est situé votre projet Symfony.<br/> Il nous faut mettre à jour les vendors.</p><div id="r-422989" data-claire-element-id="422989" data-claire-semantic="question"><p id="r-422988" data-claire-element-id="422988">Mais qu'est-ce que c'est les vendors ? Pourquoi devrais-je faire ça ?</p></div><p id="r-422990" data-claire-element-id="422990">Les vendors est un répertoire du projet qui contient toutes les librairies externes au projet qui permettent de la faire fonctionner. <br/> Mais ce n'est pas le sujet de ce chapitre, j'y répondrais plus en détails dans le prochain chapitre.<br/> Pourquoi vous devez faire cela ? Mais pour installer Symfony pardi !</p><aside id="r-422992" data-claire-element-id="422992" data-claire-semantic="information"><p id="r-422991" data-claire-element-id="422991">Tout d'abord, vous devez avoir installer GIT sur votre machine pour l'utiliser en console, si ce n'est pas déjà fait, rendez-vous ici : <a href="http://www.siteduzero.com/tutoriel-3-254198-gerez-vos-codes-source-avec-git.html">Gérez vos codes source avec Git</a></p></aside><p id="r-422993" data-claire-element-id="422993">Passons-en au fait :</p><pre id="r-422994" data-claire-element-id="422994"><code data-claire-semantic="console">php bin/vendors install</code></pre><p id="r-422995" data-claire-element-id="422995">Si vous avez téléchargé la version avec les vendors, exécutez la commande suivante pour être sur d'être à jour :</p><pre id="r-422996" data-claire-element-id="422996"><code data-claire-semantic="console">php bin/vendors install --reinstall</code></pre><h6 id="r-droits-d-acces-1" data-claire-element-id="423002">Droits d'accès</h6><p id="r-422998" data-claire-element-id="422998">Etape suivante, ajouter les bons droits d'accès aux dossiers de cache et de logs.<br/> Oui, Symfony utilise du cache. Oui, Symfony log pas mal de chose. C'est bon tout ça !</p><p id="r-422999" data-claire-element-id="422999">Aidons le un peu, vidons le contenu des deux dossiers puis attribuons leur les bons droits :</p><pre id="r-423000" data-claire-element-id="423000"><code data-claire-semantic="console">rm -rf app/cache/*
rm -rf app/logs/*</code></pre><pre id="r-423001" data-claire-element-id="423001"><code data-claire-semantic="console"># Avec le système d'ACL en sachant que votre système supporte la commande chmod +a 
sudo chmod +a &quot;www-data allow delete,write,append,file_inherit,directory_inherit&quot; app/cache app/logs
sudo chmod +a &quot;votre_login allow delete,write,append,file_inherit,directory_inherit&quot; app/cache app/logs

# Ou si votre système supporte setfacl 
sudo setfacl -R -m u:www-data:rwx -m u:drdjo:rwx app/cache app/logs
sudo setfacl -dR -m u:www-data:rwx -m u:drdjo:rwx app/cache app/logs

# Le cas échéant, n'utilisez pas les ACL, mais cela est moins sécurisé
chmod 777 app/cache
chmod 777 app/logs</code></pre><h6 id="r-verifiez-votre-configuration" data-claire-element-id="423007">Vérifiez votre configuration</h6><p id="r-423003" data-claire-element-id="423003">Allons-y, lancez un navigateur et rendez-vous à cette adresse : <a href="http://localhost/config.php">http://localhost/config.php</a></p><p id="r-423004" data-claire-element-id="423005"><a href="medias/uploads.siteduzero.com_files_350001_351000_350746.png"><img id="r-423005" data-claire-element-id="423004" src="medias/uploads.siteduzero.com_thb_350001_351000_350746.png" alt="Image utilisateur"/></a></p><p id="r-423006" data-claire-element-id="423006">Là, c'est à vous de jouer, généralement il n'y a rien de compliqué. Soit Symfony vous crache dessus parce que vous avez mal configuré les droits sur les dossiers de cache et de logs, ou alors il vous manque certaines extensions php. Dans ce dernier cas, à vous de les activer correctement.</p><h6 id="r-regardons-tout-ca-de-plus-pres" data-claire-element-id="423019">Regardons tout ça de plus près</h6><p id="r-423008" data-claire-element-id="423008">La configuration est terminée ?<br/> Qu'attendons-nous ? Rendons-nous immédiatement sur la page d'accueil du projet : <a href="http://localhost/app_dev.php/">http://localhost/app_dev.php/</a></p><figure id="r-423010" data-claire-element-id="423011"><img id="r-423009" data-claire-element-id="423009" src="medias/uploads.siteduzero.com_files_349001_350000_349735.jpg" alt="home_sf2"/></figure><p id="r-423012" data-claire-element-id="423012">Vous remarquez forcement la présence d'un bouton assez explicite : &quot;Configurer&quot;, je vous suggère de cliquer dessus. ^^</p><p id="r-423013" data-claire-element-id="423014"><a href="medias/uploads.siteduzero.com_files_350001_351000_350745.png"><img id="r-423014" data-claire-element-id="423013" src="medias/uploads.siteduzero.com_thb_350001_351000_350745.png" alt="config"/></a>Le but est de renseigner les différentes informations sur votre système de gestion de base de données à Symfony via une interface web. Tout cela est bien évidement aussi possible en éditant votre fichier <code>parameters.ini</code> situé dans le répertoire <code data-claire-semantic="html+php">app/config</code> :</p><pre id="r-423015" data-claire-element-id="423015"><code>[parameters]
    database_driver   = pdo_mysql
    database_host     = localhost
    database_port     =
    database_name     = symfony
    database_user     = root
    database_password =

    mailer_transport  = smtp
    mailer_host       = localhost
    mailer_user       =
    mailer_password   =

    locale            = en

    secret            = ThisTokenIsNotSoSecretChangeIt</code></pre><p id="r-423016" data-claire-element-id="423016">Après une longue phase de téléchargement et d'installation, nous allons enfin pouvoir travailler !</p><aside id="r-423018" data-claire-element-id="423018" data-claire-semantic="information"><p id="r-423017" data-claire-element-id="423017">Il est très utile de travailler avec un système de versionnement comme GIT. Si vous souhaitez versionner votre code pour le partager ou tout simplement avoir un historique de ce que vous faites, utilisez GIT.<br/> Si vous ne connaissez pas encore GIT, c'est l'occasion rêvée pour s'y mettre ! <a href="http://www.siteduzero.com/membres-294-3.html">Mathieu Nebra (M@teo21)</a> est l'auteur d'un bon tutoriel qui traite du sujet : <a href="http://www.siteduzero.com/tutoriel-3-254198-gerez-vos-codes-source-avec-git.html">Gérez vos codes source avec Git</a></p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
<span class="next">Un dernier nettoyage</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Underniernettoyage"></a><h2>Un dernier nettoyage</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
<span class="arrow"></span>
<span class="next">Configuration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">
<span class="next">L&#039;architecture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-dernier-nettoyage" data-claire-element-id="423033">Un dernier nettoyage</h4><p id="r-423022" data-claire-element-id="423022">Afin de démarrer tout ça dans de bonnes conditions, je vous recommande fortement de faire un peu de ménage dans le projet afin de supprimer la démo.</p><p id="r-423023" data-claire-element-id="423023">Il vous faut donc supprimer les sources de l'AcmeDemoBundle :</p><pre id="r-423024" data-claire-element-id="423024"><code data-claire-semantic="console">rm -rf src/Acme</code></pre><p id="r-423025" data-claire-element-id="423025">Les ressources (images, css, javascripts) doivent eux aussi être supprimés :</p><pre id="r-423026" data-claire-element-id="423026"><code data-claire-semantic="console">rm -rf web/bundles/acmedemo</code></pre><p id="r-423027" data-claire-element-id="423027">Ensuite, il faut enlever le bundle correspondant (s'il n'existe plus on ne va pas le charger ^^ ).<br/> Rendez-vous donc dans le fichier app/AppKernel.php et supprimez la ligne suivante :</p><pre id="r-423028" data-claire-element-id="423028"><code data-claire-semantic="html+php">&lt;?php
$bundles[] = new Acme\DemoBundle\AcmeDemoBundle();</code></pre><p id="r-423029" data-claire-element-id="423029">Enfin, dans le fichier app/config/routing_dev.php, supprimez les entrées suivantes :</p><pre id="r-423030" data-claire-element-id="423030"><code>_welcome:
    pattern:  /
    defaults: { _controller: AcmeDemoBundle:Welcome:index }

_demo_secured:
    resource: &quot;@AcmeDemoBundle/Controller/SecuredController.php&quot;
    type:     annotation

_demo:
    resource: &quot;@AcmeDemoBundle/Controller/DemoController.php&quot;
    type:     annotation
    prefix:   /demo</code></pre><p id="r-423031" data-claire-element-id="423031">Voila, si tout va bien, vous êtes désormais prêt à travailler dans de bonnes conditions.</p><p id="r-423032" data-claire-element-id="423032">Vous êtes désormais prêt à travailler avec Symfony !<br/> Votre application est installée, configurée, accessoirement vous avez mis en place un système de versionnement comme GIT.<br/> Bref, tout va bien, nous pouvons poursuivre vers l'étude de l'architecture du framework.</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
<span class="arrow"></span>
<span class="next">Configuration</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">
<span class="next">L&#039;architecture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039architecture"></a><h2>L&#039;architecture</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
<span class="arrow"></span>
<span class="next">Un dernier nettoyage</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
<span class="next">Vue d&#039;ensemble</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423035" data-claire-element-id="423035">Dans cette partie je vais tâcher de vous faire découvrir de la manière la plus simple qui soit l'architecture du framework.<br/> L'architecture, c'est tout simplement la façon dont le code est organisé et structuré au sein du framework et la manière avec laquelle celui-ci a été codé.<br/> Alors oui, vous n'allez pas coder durant ce chapitre, mais c'est une étape indispensable pour comprendre ce que vous allez faire par la suite.</p><p id="r-423036" data-claire-element-id="423036">Un peu de théorie ne fait jamais de mal ! ;)</p><p id="r-423037" data-claire-element-id="423037">Partons en expédition, fouillons !</p>
</div><a name="Vued039ensemble"></a><h2>Vue d&#039;ensemble</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">
<span class="arrow"></span>
<span class="next">L&#039;architecture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
<span class="next">Connaître et configurer son application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-vue-d-ensemble-2" data-claire-element-id="423062">Vue d'ensemble</h4><h5 id="r-a-quoi-ressemble-symfony" data-claire-element-id="423041">A quoi ressemble Symfony ?</h5><p id="r-423038" data-claire-element-id="423038">Eh bien si l'on regarde l'arborescence de notre projet, ça ressemble à ça (bien évidement, ce n'est qu'une vue d'ensemble) :</p><pre id="r-423039" data-claire-element-id="423039"><code>Symfony/
        app/
            cache/
            config/
            logs/
            ...
        bin/
        src/
            ...
        vendor/
            ...
        web/
            app.php
            ...</code></pre><p id="r-423040" data-claire-element-id="423040">Cela représente relativement peu de dossiers mais des dossiers que nous devons découvrir et connaitre afin de mieux cerner notre application.</p><h5 id="r-le-controleur-principal-le-point-d-entree-de-l-application" data-claire-element-id="423051">Le contrôleur principal : le point d'entrée de l'application</h5><p id="r-423042" data-claire-element-id="423042">Vous devez à priori déjà connaitre le point d'entrée du framework, il y en a toujours un. Il faut bien commencer quelque part n'est-ce pas ?<br/><strong>C'est le fichier app.php ! </strong><br/> Vous avez dernièrement exécuté le fichier <strong>app_dev.php</strong> qui vous permet de lancer votre site dans un environnement de <strong>développement</strong>.</p><aside id="r-423044" data-claire-element-id="423044" data-claire-semantic="information"><p id="r-423043" data-claire-element-id="423043">La notion d'environnement n'est pas toujours facile à appréhender. Il est pourtant nécessaire de maîtriser ce jargon.<br/> Dans un contexte professionnel, nous avons toujours plusieurs états dans un projet : <strong>développement, test et production</strong>. Ce sont les trois états indispensables au cours de la vie d'une application web. D'autres peuvent s'ajouter, mais c'est le minimum. Les noms des différents états sont assez explicite, mais vous devez savoir par exemple qu'une application non testée ne doit pas passer en production. Il ne faut pas brûler les étapes. Notre but est de créer une application stable et propre. Les environnements vous permettent de travailler sur votre application dans différentes conditions. En production, vous activerez le cache et désactiverez les outils de débogage.</p></aside><h6 id="r-qu-est-ce-qu-il-s-y-passe" data-claire-element-id="423050">Qu'est-ce qu'il s'y passe ?</h6><pre id="r-423045" data-claire-element-id="423045"><code data-claire-semantic="html+php">&lt;?php 
require_once __DIR__.'/../app/bootstrap.php.cache';
require_once __DIR__.'/../app/AppKernel.php';

use Symfony\Component\HttpFoundation\Request;

$kernel = new AppKernel('dev', true);
$kernel-&gt;loadClassCache();
$kernel-&gt;handle(Request::createFromGlobals())-&gt;send();</code></pre><p id="r-423046" data-claire-element-id="423046">Symfony charge les fichiers nécessaires (aux lignes 2 et 3) à la gestion du cache (désactivé par défaut en mode 'prod') et à la mise en place du kernel, le coeur de Symfony.</p><p id="r-423047" data-claire-element-id="423047">Le kernel est le coeur de votre application, il permet de manipuler les requêtes HTTP en utilisant tous les composants qui lui sont liés. Concrètement, il se charge d'interpréter toutes les requêtes HTTP du client, envoyées depuis votre navigateur, en réponse HTTP, interprétées par la suite par votre navigateur.<br/> Dans notre cas, un objet <code data-claire-semantic="html+php">Request</code> est créé, suite à la création d'une nouvelle instance d'<code data-claire-semantic="html+php">AppKernel</code>, chargé de récupérer les variables globales de la requête HTTP reçue (<code data-claire-semantic="html+php">$_GET</code>, <code data-claire-semantic="html+php">$_POST</code>, <code data-claire-semantic="html+php">$_COOKIE</code>, <code data-claire-semantic="html+php">$_FILES</code>, <code data-claire-semantic="html+php">$_SERVER</code>, etc), puis de les envoyer au kernel (ligne 9).<br/> À la ligne 8, vous constaterez que le kernel charge la classe qui s'occupe de gérer le cache de notre application qui peut être défini dans la configuration du projet. Par défaut, cette ligne est commentée en environnement de développement.</p><aside id="r-423049" data-claire-element-id="423049" data-claire-semantic="information"><p id="r-423048" data-claire-element-id="423048">Vous avez oublié ce qu'est une requête HTTP ? Il n'est jamais trop tard pour un petit cours de rattrapage : <a href="http://www.siteduzero.com/tutoriel-3-35613-les-requetes-http.html">Les requêtes http</a>.</p></aside><h5 id="r-et-ensuite-comment-ca-marche" data-claire-element-id="423061">Et ensuite, comment ça marche ?</h5><figure id="r-423053" data-claire-element-id="423054"><img id="r-423052" data-claire-element-id="423052" src="medias/uploads.siteduzero.com_files_352001_353000_352538.png" alt="Image utilisateur"/></figure><p id="r-423055" data-claire-element-id="423055">Schématisation du flux d’exécution d'une requête par Symfony</p><p id="r-423056" data-claire-element-id="423056">Tout est plus simple lorsqu'on laisse Symfony se charger de notre requête. Si nous analysons ce schéma, on constate comme nous l'avons dit juste avant que c'est le contrôleur principal qui reçoit les requêtes http. Celles-ci sont identifiées par des URL comme <code data-claire-semantic="html">/contact</code>, <code data-claire-semantic="html">/shop</code>, etc. Ensuite, le kernel coordonne le tout. Dans Symfony, il y a un outil appelé le routing. Son rôle est d'associer une URL avec la fonction du contrôleur correspondante. C'est enfin au contrôleur à qui revient le rôle de se servir des informations de la requête pour envoyer la réponse appropriée. C'est donc dans le contrôleur que votre allez créer votre code.</p><p id="r-423057" data-claire-element-id="423057">Chaque fonction de vos contrôleurs qui est identifiée par le routing est considérée comme une <code data-claire-semantic="html+php">Action</code>. Ces fonctions doivent respecter une nomenclature bien précise :</p><pre id="r-423058" data-claire-element-id="423058"><code data-claire-semantic="html+php">&lt;?php
class MonController
{
    public function contactAction()
    {
        return new Response('&lt;h1&gt;Contact nous !&lt;/h1&gt;');
    }
}</code></pre><p id="r-423059" data-claire-element-id="423059">Cette action s'appelle donc 'contact'. Une action se doit aussi de retourner une réponse, quelque soit son format (html, xml, json, etc.).</p><p id="r-423060" data-claire-element-id="423060">Vous y voyez déjà plus clair dans le fonctionnement de Symfony ? Très bien, concentrons nous désormais sur notre application !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">
<span class="arrow"></span>
<span class="next">L&#039;architecture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
<span class="next">Connaître et configurer son application</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Connatreetconfigurersonapplication"></a><h2>Connaître et configurer son application</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
<span class="arrow"></span>
<span class="next">Vue d&#039;ensemble</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
<span class="next">Où se trouve le code source ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-connaitre-et-configurer-son-application" data-claire-element-id="423093">Connaître et configurer son application</h4><p id="r-423063" data-claire-element-id="423063">Bienvenue dans le dossier <code>app</code> !</p><figure id="r-423065" data-claire-element-id="423066"><img id="r-423064" data-claire-element-id="423064" src="medias/uploads.siteduzero.com_files_350001_351000_350964.png" alt="Image utilisateur"/></figure><p id="r-423067" data-claire-element-id="423067">C'est ici que l'on va retrouver toute la configuration de notre projet.<br/> On constatera aussi la présence des dossiers de cache et de logs que nous avons précédemment configurés lors de l'installation du projet.</p><div id="r-423069" data-claire-element-id="423069" data-claire-semantic="question"><p id="r-423068" data-claire-element-id="423068">Mais, il y a encore une histoire de kernel la dedans, c'est quoi ce fichier : <code data-claire-semantic="html+php">AppKernel.php</code> ?</p></div><p id="r-423070" data-claire-element-id="423070">Non, je n'ai pas fini de vous bassiner avec mes histoires de kernel.</p><p id="r-423071" data-claire-element-id="423071">Alors, il n'est pas encore ouvert ce fichier o_O ? Mais où est donc passée votre insatiable soif de curiosité ?<br/> Bon, AppKernel est une classe, vous l'aurez tous remarqué. Celle-ci hérite de notre fameux Kernel.</p><div id="r-423073" data-claire-element-id="423073" data-claire-semantic="question"><p id="r-423072" data-claire-element-id="423072">Qu'apporte-t-elle de plus ?</p></div><p id="r-423074" data-claire-element-id="423074">L'idée est d'indiquer à notre Kernel tout ce dont il doit se servir pour faire fonctionner votre application.<br/> On retrouve deux fonctions principales :</p><pre id="r-423075" data-claire-element-id="423075"><code data-claire-semantic="html+php">&lt;?php
public function registerBundles()
{
    $bundles = array(
        new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),
        new Symfony\Bundle\SecurityBundle\SecurityBundle(),
        new Symfony\Bundle\TwigBundle\TwigBundle(),
        new Symfony\Bundle\MonologBundle\MonologBundle(),
        new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),
        new Symfony\Bundle\DoctrineBundle\DoctrineBundle(),
        new Symfony\Bundle\AsseticBundle\AsseticBundle(),
        new Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle(),
        new JMS\SecurityExtraBundle\JMSSecurityExtraBundle()
    );

    if (in_array($this-&gt;getEnvironment(), array('dev', 'test'))) {
        $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();
        $bundles[] = new Sensio\Bundle\DistributionBundle\SensioDistributionBundle();
        $bundles[] = new Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle();
    }

    return $bundles;
}</code></pre><p id="r-423076" data-claire-element-id="423076">Un peu d'explication ne ferait pas de mal je pense.</p><div id="r-423078" data-claire-element-id="423078" data-claire-semantic="question"><p id="r-423077" data-claire-element-id="423077">RegisterBundles(), ça veux dire quoi ?</p></div><p id="r-423079" data-claire-element-id="423079">Eh bien, un concept est apparu avec Symfony2, les bundles. Un bundle peut être considéré comme une brique de votre application, un module. Il peut être utilisé et ré-utilisé à volonté. Par exemple on pourra construire un bundle 'news' qui s'occupe de la gestion des news ou encore un bundle 'user' pour la gestion de vos utilisateurs. Chaque bundle est indépendant mais peut communiquer avec tous les autres pour former votre application. A vous de mettre le ciment nécessaire ! ^^ <br/> Vous aurez beaucoup plus de détails sur le fonctionnement des bundles dans les prochains chapitres. <br/> On remarquera que plusieurs bundles sont mis en place par défaut comme FrameworkBundle, SecurityBundle ou encore DoctrineBundle.</p><p id="r-423080" data-claire-element-id="423080">La seconde fonction est beaucoup plus simple et s'occupe simplement de charger la configuration demandée par notre front controller :</p><pre id="r-423081" data-claire-element-id="423081"><code data-claire-semantic="html+php">&lt;?php
public function registerContainerConfiguration(LoaderInterface $loader)
{
    $loader-&gt;load(__DIR__.'/config/config_'.$this-&gt;getEnvironment().'.yml');
}</code></pre><p id="r-423082" data-claire-element-id="423082">Vous en savez suffisamment sur la classe AppKernel ? Je ne crois pas, mais ça ira pour l'instant, libre à vous de vous balader dans les tréfonds de notre joyeux kernel !</p><p id="r-423083" data-claire-element-id="423083">Il nous reste un dernier point à étudier, un dossier extrêmement important appelé 'config' est présent dans notre application.</p><figure id="r-423085" data-claire-element-id="423086"><img id="r-423084" data-claire-element-id="423084" src="medias/uploads.siteduzero.com_files_350001_351000_350966.png" alt="Image utilisateur"/></figure><div id="r-423088" data-claire-element-id="423088" data-claire-semantic="question"><p id="r-423087" data-claire-element-id="423087">Encore de la configuration ?</p></div><p id="r-423089" data-claire-element-id="423089">Eh oui, dans ce dossier vous trouverez tout ce qu'il vous faut pour définir moult constantes pour l'entièreté de votre application.<br/> Si l'on reprend notre kernel, on remarque qu'il charge le fichier de configuration correspondant à l'environnement que nous lui avons spécifié depuis le front controller ('dev', 'prod', 'test', etc).<br/> Nous retrouvons donc ces différents fichiers dans le dossier de configuration. De cette manière, vous pouvez définir des constantes différentes pour chaque environnement.<br/> Si vous souhaitez définir des constantes identiques pour n'importe quel environnement, il vous suffit de les ajouter au fichier <code>config.yml</code>.<br/> Bien évidement, vous pouvez vous amuser à scinder vos fichiers de configuration lorsque ceux-ci deviennent trop lourd afin d'obtenir une meilleure lisibilité.</p><pre id="r-423090" data-claire-element-id="423090"><code>imports:
    - { resource: mon_fichier_de_config.yml }</code></pre><p id="r-423091" data-claire-element-id="423091">Par exemple, toute la configuration sur la sécurité de votre application est isolée dans le fichier <code>security.yml</code>. On pourra donc imaginer la création d'un fichier <code>shop.yml</code> si le besoin s'en ressent.</p><p id="r-423092" data-claire-element-id="423092">Pour ce qui est du reste des fichiers présents dans ce dossier, nous n'avons pas le besoin de les étudier à notre niveau. Par contre, l'exploitation de certaines ressources comme l'autoload ou le cache peuvent être avantageuses par la suite. Mais nous verrons ça en temps et en heure :) !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
<span class="arrow"></span>
<span class="next">Vue d&#039;ensemble</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
<span class="next">Où se trouve le code source ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Osetrouvelecodesource"></a><h2>Où se trouve le code source ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
<span class="arrow"></span>
<span class="next">Connaître et configurer son application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
<span class="next">La web debug toolbar</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-ou-se-trouve-le-code-source" data-claire-element-id="423111">Où se trouve le code source ?</h4><h5 id="r-les-vendors" data-claire-element-id="423107">Les vendors</h5><p id="r-423094" data-claire-element-id="423094">Tiens, vendors, je suis sûr que vous avez déjà entendu ce mot quelque part !<br/> Lors de la configuration du projet, je vous ai demandé d'installer celles-ci, rappelez-vous !</p><div id="r-423096" data-claire-element-id="423096" data-claire-semantic="question"><p id="r-423095" data-claire-element-id="423095">Qu'est-ce que les vendors ?</p></div><p id="r-423097" data-claire-element-id="423097">Les vendors, ce qui peut se traduire par librairies ou bibliothèque, rassemblent donc toutes <strong>les librairies externes à votre projet</strong>. Une librairie est un ensemble de fonctions, de classes, regroupées et mises à disposition afin de pouvoir <strong>être utilisées sans avoir à les réécrire</strong>. Les fonctions sont regroupées de par leur appartenance à un même domaine d'utilisation. Par exemple, cela va correspondre à Symfony, Doctrine, SwiftMailer ou encore Twig.<br/> Un ensemble de librairies va constituer un framework comme Symfony2. Symfony étant lui-même une librairie du framework.</p><p id="r-423098" data-claire-element-id="423098">Le système de vendors nous permet de ne pas avoir à se soucier de celles-ci. Les librairies sont présentes sur Internet et téléchargées via la commande <code data-claire-semantic="console">php bin/vendors install</code>.<br/> Lorsque vous installez une nouvelle librairie pour votre application, vous avez simplement besoin de l'ajouter à la liste des librairies à utiliser.</p><div id="r-423100" data-claire-element-id="423100" data-claire-semantic="question"><p id="r-423099" data-claire-element-id="423099">Mais de quelle liste s'agit-il ? Elles sortent d'où toutes ces librairies ?</p></div><p id="r-423101" data-claire-element-id="423101">A la racine de votre projet, vous vous êtes peut-être aperçu de la présence d'un fichier appelé <code>deps</code>.<br/> Ce fichier recense toutes les librairies à installer dans votre projet !<br/> Chaque bloc représente une librairie. Prenons l'exemple de Symfony :</p><pre id="r-423102" data-claire-element-id="423102"><code>[symfony]  /* Nom de la librairie */
    git=http://github.com/symfony/symfony.git  /* Où est-ce que se situe ma librairie sur Internet ? */
    version=v2.0.4  /* Quelle est la version de ma librairie ? */</code></pre><p id="r-423103" data-claire-element-id="423103">Une autre information est spécifiable, la target (cible) :</p><pre id="r-423104" data-claire-element-id="423104"><code>target=/bundles/JMS/SecurityExtraBundle</code></pre><p id="r-423105" data-claire-element-id="423105">Cette option permet de spécifier directement le dossier dans lequel doit se placer notre librairie.</p><p id="r-423106" data-claire-element-id="423106"><strong>En résumé, le fichier <code>deps</code> est là pour référencer toutes les vendors nécessaires à votre projet.</strong></p><h5 id="r-et-moi-je-code-ou-dans-l-histoire" data-claire-element-id="423110">Et moi, je code où dans l'histoire ?</h5><p id="r-423108" data-claire-element-id="423108">J'aurais tendance à dire partout !<br/> Mais un dossier principal va contenir la grande majorité de nos sources, c'est le dossier <code>src</code>.<br/> Il porte bien son nom vous ne trouvez pas ? Mais il est vide ! Comment est-ce que je m'y prends moi ?</p><p id="r-423109" data-claire-element-id="423109">Nous allons découvrir ça tout prochainement en faisant nos premiers pas dans le développement de notre application.<br/> S'il y a bien quelque chose à retenir de Symfony2, c'est qu'il propose une structure de base avec <strong>des briques</strong> logicielles qui permettent de faire <strong>beaucoup de choses de manière simple</strong>. Il essaye d'imposer des standards. Libre à vous de les respecter ou non. Symfony propose tout ce qu'il faut pour gérer vos templates et vos contrôleurs. Des outils comme Doctrine permettent de gérer facilement toute la couche modèle de l'application. <strong>Symfony2 est une base, servez-vous en comme une structure.</strong> N'hésitez pas à ajouter vos propres outils pour répondre à vos besoins, <strong>entreprenez et innovez !</strong></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
<span class="arrow"></span>
<span class="next">Connaître et configurer son application</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
<span class="next">La web debug toolbar</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lawebdebugtoolbar"></a><h2>La web debug toolbar</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
<span class="arrow"></span>
<span class="next">Où se trouve le code source ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">
<span class="next">Une histoire de bundle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-web-debug-toolbar" data-claire-element-id="423156">La web debug toolbar</h4><h5 id="r-ou-suis-je" data-claire-element-id="423136">Où suis-je ?</h5><p id="r-423112" data-claire-element-id="423112">Un des outils les plus indispensable en cours de développement avec Symfony2 est la web debug toolbar, plus communément appelée profiler. <strong>A quoi cela ressemble ?</strong></p><figure id="r-423114" data-claire-element-id="423115"><img id="r-423113" data-claire-element-id="423113" src="medias/uploads.siteduzero.com_files_350001_351000_350202.png" alt="profiler_sf2"/></figure><p id="r-423116" data-claire-element-id="423116">Cette barre nous offre pas mal d'informations dès le premier coup d'oeil.</p><ul id="r-423133" data-claire-element-id="423133"><li id="r-423118" data-claire-element-id="423118"><p id="r-423117" data-claire-element-id="423117">La version de Symfony, ici 2.0.4</p></li><li id="r-423120" data-claire-element-id="423120"><p id="r-423119" data-claire-element-id="423119">La version de php est les éventuelles extensions d'activées</p></li><li id="r-423122" data-claire-element-id="423122"><p id="r-423121" data-claire-element-id="423121">Les informations sur notre environnement</p></li><li id="r-423124" data-claire-element-id="423124"><p id="r-423123" data-claire-element-id="423123">Quelques informations techniques de notre page</p></li><li id="r-423126" data-claire-element-id="423126"><p id="r-423125" data-claire-element-id="423125">Le temps d’exécution de la page</p></li><li id="r-423128" data-claire-element-id="423128"><p id="r-423127" data-claire-element-id="423127">La quantité de mémoire utilisée pour la génération de notre page</p></li><li id="r-423130" data-claire-element-id="423130"><p id="r-423129" data-claire-element-id="423129">Les informations sur notre utilisateur</p></li><li id="r-423132" data-claire-element-id="423132"><p id="r-423131" data-claire-element-id="423131">Le nombre de requêtes exécutées en base de données</p></li></ul><p id="r-423134" data-claire-element-id="423134">Cela fait beaucoup d'informations n'est-ce pas ?</p><p id="r-423135" data-claire-element-id="423135">Reprenons pas à pas. Les deux premiers points sont assez clairs, pour notre environnement, on peut lire que nous sommes dans l'application en environnement de développement. Le mode de débogage est activé.<br/> Pour les informations techniques, nous lisons le nom du contrôleur suivi de la fonction qui est appelée. Enfin, on observe le nom de notre route et le statut http de la page.<br/> Dons si l'on reprend : contrôleur::fonction|route|statut. Dans Symfony, une route est un objet qui défini le contrôleur et la fonction à exécuter en fonction de l'url, donc de la requête, demandée par l'utilisateur.<br/> C'est assez efficace pour rapidement se repérer dans notre application.<br/> Pour le reste, j'estime que l'information est suffisamment claire pour ne pas avoir besoin d'explications supplémentaires.</p><h5 id="r-qu-est-ce-qu-il-s-y-passe-1" data-claire-element-id="423155">Qu'est-ce qu'il s'y passe ?</h5><p id="r-423137" data-claire-element-id="423137">Le profiler est bien plus puissant que cela. Il suffit simplement de cliquer sur l'une des icônes pour le comprendre.</p><figure id="r-423139" data-claire-element-id="423140"><img id="r-423138" data-claire-element-id="423138" src="medias/uploads.siteduzero.com_files_350001_351000_350416.png" alt="menu_profiler"/></figure><p id="r-423141" data-claire-element-id="423141">On remarque rapidement que l'on a accès à bien plus d'informations et ce de manière extrêmement détaillée.</p><p id="r-423142" data-claire-element-id="423142"><strong>Que trouve-t-on dans l'onglet config ?</strong><br/> Toute la configuration de notre projet ! Logique non ? Cela passe par l'environnement, la configuration de PHP et la liste des bundles activés</p><p id="r-423143" data-claire-element-id="423143"><strong>Que trouve-t-on dans l'onglet request ?</strong><br/> Tout ce qu'il est possible de savoir sur la requête HTTP envoyée par le client. On retrouve donc les paramètres GET et POST, les headers http, la session, les cookies, les différents paramètres du serveur et en bonus, nous avons les informations essentielles sur notre réponse http (ce que nous renvoyons au client).</p><p id="r-423144" data-claire-element-id="423144"><strong>Que trouve-t-on dans l'onglet exception ?</strong><br/> Votre application est susceptible de lever des exceptions. Une erreur SQL, une exception levée par le dysfonctionnement d'un script PHP, tout arrive, mais tout est contrôlé.</p><p id="r-423145" data-claire-element-id="423145"><strong>Que trouve-t-on dans l'onglet events ?</strong><br/> Cet page recense l'ensemble des listeners de votre application. Vous savez qui est intervenu, qui a agit pour afficher votre page. On retrouve le routeur, la session, le gestionnaire de requête http, etc.</p><p id="r-423146" data-claire-element-id="423146"><strong>Que trouve-t-on dans l'onglet logs ?</strong><br/> Les logs répertorient la plupart des actions qui sont effectuées sur votre application. L'ordre des logs correspond à l'ordre d’exécution réel.</p><p id="r-423147" data-claire-element-id="423147"><strong>Que trouve-t-on dans l'onglet security ?</strong><br/> Cet onglet correspond à un petit rapport sur l'utilisateur actuel. Qui est-il ? Est-il authentifié ? Quels rôles à-t-il ?</p><p id="r-423148" data-claire-element-id="423148"><strong>Que trouve-t-on dans l'onglet e-mails ?</strong><br/> Tout simplement les e-mails que vous envoyés depuis votre application. L'outil idéal pour vérifier l'envoie correct de vos e-mails sans à avoir besoin de consulter votre boîte mail.</p><p id="r-423149" data-claire-element-id="423149"><strong>Que trouve-t-on dans l'onglet Doctrine ?</strong><br/> C'est ici que vous pourrez observer l'ensemble des requêtes sql exécutées par votre application. Vous êtes aussi informé du temps d’exécution de chacune d'entre elles. Un outil idéal pour faciliter l'optimisation SQL de votre application !</p><p id="r-423150" data-claire-element-id="423150"><strong>A quoi me sert le menu de recherche ?</strong><br/> Tout simplement à vous indiquer les dernières actions effectuées sur l'application. Idéal pour se souvenir de notre parcours.</p><p id="r-423151" data-claire-element-id="423151">Le profiler est un outil évolué correspondant à une source énorme d'informations qui devient rapidement indispensable lors du développement.<br/> Je n'ai donc qu'une chose à vous conseiller, <strong>usez-en et abusez-en autant que vous le pouvez !</strong></p><p id="r-423152" data-claire-element-id="423152">Cette partie nous a permis d'en savoir plus sur le fonctionnement de Symfony.<br/> On retiendra une architecture très simple qui segmente correctement le code afin de ne pas tout mélanger. Code propre, efficacité, facilité d'accès, que demander de plus ?</p><p id="r-423153" data-claire-element-id="423153">Développer une application, c'est aussi avoir l'esprit créatif tout en faisant attention à ne pas réinventer la roue.<br/> Vous l'aurez compris, avec un framework comme Symfony2, les possibilités sont immenses !</p><p id="r-423154" data-claire-element-id="423154">Alors pourquoi pas vous ? Lancez vous dans l'aventure et créez l'application de vos rêves !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
<span class="arrow"></span>
<span class="next">Où se trouve le code source ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">
<span class="next">Une histoire de bundle</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unehistoiredebundle"></a><h2>Une histoire de bundle</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
<span class="arrow"></span>
<span class="next">La web debug toolbar</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
<span class="next">Création</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423158" data-claire-element-id="423158">Ca y est ? Vous vous sentez prêt ?</p><p id="r-423159" data-claire-element-id="423159">Dans ce chapitre, je vous propose de passer un peu à la pratique avec la création de notre premier bundle. Le but de cet exercice est de découvrir l'architecture que nous propose Symfony pour organiser notre code source et de mettre en place quelques pages de manière assez simpliste.</p>
</div><a name="Cration"></a><h2>Création</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">
<span class="arrow"></span>
<span class="next">Une histoire de bundle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
<span class="next">Découverte de l&#039;architecture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-creation-22" data-claire-element-id="423220">Création</h4><p id="r-423160" data-claire-element-id="423160">Vous voilà désormais prêt à entrer dans le vif du sujet. Nous allons enfin pouvoir nous occuper de la création de nos premières pages avec Symfony. Le dossier de sources ne va pas rester vide bien longtemps, croyez moi.</p><p id="r-423161" data-claire-element-id="423161">Notre but dans cet exercice va être de créer une sorte de petit site vitrine, juste avec les pages essentielles.<br/> Cet exercice va nous permettre de prendre en mains l'architecture proposée par Symfony et de découvrir, ou de redécouvrir pour certains, le fonctionnement du système de gestion des urls.</p><p id="r-423162" data-claire-element-id="423162">Un bundle représente un ensemble de dossiers et sous-dossiers, une strucure de base prédéfinie. un bundle permet d'organiser clairement son code en respectant l'architecture MVC vue dans le premier chapitre.</p><p id="r-423163" data-claire-element-id="423163">Afin de voir à quoi cela ressemble je vous propose de commencer par générer notre premier bundle. Oui, vous ne rêvez pas, Symfony permet de générer facilement du code à votre place afin d'obtenir un gain de temps conséquent. Nous appelerons notre bundle &quot;Welcome&quot;.</p><pre id="r-423164" data-claire-element-id="423164"><code data-claire-semantic="console">$ php app/console generate:bundle --namespace=tuto/WelcomeBundle --format=yml</code></pre><p id="r-423165" data-claire-element-id="423165">Répondez simplement par un appui sur la touche 'Entrée' aux différentes questions, sauf si vous souhaitez appliquer vos propres paramètres, mais si c'est la première fois, ne changez rien. Une seule chose doit être spécifiée, répondez 'yes' à cette question afin qu'il génère l'intégralité des dossiers et sous dossiers requis : <code data-claire-semantic="console">Do you want to generate the whole directory structure [no]? yes</code>.</p><pre id="r-423166" data-claire-element-id="423166"><code data-claire-semantic="console">  Welcome to the Symfony2 bundle generator



Your application code must be written in bundles. This command helps
you generate them easily.

Each bundle is hosted under a namespace (like Acme/Bundle/BlogBundle).
The namespace should begin with a &quot;vendor&quot; name like your company name, your
project name, or your client name, followed by one or more optional category
sub-namespaces, and it should end with the bundle name itself
(which must have Bundle as a suffix).

Use / instead of \ for the namespace delimiter to avoid any problem.

Bundle namespace [tuto/WelcomeBundle]:

In your code, a bundle is often referenced by its name. It can be the
concatenation of all namespace parts but it's really up to you to come
up with a unique name (a good practice is to start with the vendor name).
Based on the namespace, we suggest tutoWelcomeBundle.

Bundle name [tutoWelcomeBundle]:

The bundle can be generated anywhere. The suggested default directory uses
the standard conventions.

Target directory [C:\wamp\www\tuto\Symfony/src]:

Determine the format to use for the generated configuration.

Configuration format (yml, xml, php, or annotation) [yml]:

To help you getting started faster, the command can generate some
$

Do you want to generate the whole directory structure [no]? yes


  Summary before generation


You are going to generate a &quot;tuto\WelcomeBundle\tutoWelcomeBundle&quot; bundle
in &quot;C:\wamp\www\tuto\Symfony/src/&quot; using the &quot;yml&quot; format.

Do you confirm generation [yes]?


  Bundle generation


Generating the bundle code: OK
Checking that the bundle is autoloaded: OK
Confirm automatic update of your Kernel [yes]?
Enabling the bundle inside the Kernel: OK
Confirm automatic update of the Routing [yes]?
Importing the bundle routing resource: OK


  You can now start using the generated code!</code></pre><p id="r-423167" data-claire-element-id="423167"><strong>Sympathique ce générateur n'est-ce pas ?</strong></p><p id="r-423168" data-claire-element-id="423168">Mais décortiquons un peu tout cela. La première étape consiste à spécifier le namespace de notre bundle. C'est à dire, dans quel espace, dans quel groupe faut-il placer le bundle. Je vous redirige à nouveau vers le tutoriel correspondant pour ceux qui ont quelques trous de mémoire à ce sujet : <a href="http://www.siteduzero.com/tutoriel-3-217599-les-espaces-de-noms-en-php.html">Les espaces de noms en PHP</a>.<br/> Ensuite, vous deviez spécifier le nom de votre bundle. Par défaut, il s'agit d'une concaténation du nom du namespace or, il est parfois possible que vous choisissiez de lui donner un nom différent, plus explicite à votre goût, bref vous êtes libre. Cette étape précède la spécification du lieu de destination de vos sources nouvellement créés. Par défaut, celles-ci sont placées dans le dossier src.<br/> L'étape suivante consiste à choisir le format des fichiers de configuration. Là, plusieurs choix s'offrent à vous : yml, xml, php, ou les annotations.<br/> Je vous propose de découvrir ensemble ces différents formats afin que vous puissiez choisir celui qui convient le mieux à vos préférences et à vos besoins.</p><table id="r-423210" data-claire-element-id="423210"><thead id="r-423176" data-claire-element-id="423176"><tr id="r-423175" data-claire-element-id="423175"><th id="r-423170" data-claire-element-id="423170"><p id="r-423169" data-claire-element-id="423169">Langage</p></th><th id="r-423172" data-claire-element-id="423172"><p id="r-423171" data-claire-element-id="423171">Descriptif</p></th><th id="r-423174" data-claire-element-id="423174"><p id="r-423173" data-claire-element-id="423173">Exemple</p></th></tr></thead><tbody id="r-423209" data-claire-element-id="423209"><tr id="r-423184" data-claire-element-id="423184"><td id="r-423178" data-claire-element-id="423178"><p id="r-423177" data-claire-element-id="423177"><strong>YML</strong></p></td><td id="r-423180" data-claire-element-id="423180"><p id="r-423179" data-claire-element-id="423179">Le YML est un langage facilement lisible par l'homme. Les entrées se font par indentation. L'écriture est donc très rapide et facile !</p></td><td id="r-423183" data-claire-element-id="423183"><p id="r-423181" data-claire-element-id="423181">Définition d'un objet Doctrine :</p><pre id="r-423182" data-claire-element-id="423182"><code>MyPersistentClass:
  type: entity
  fields:
    id:
      type: integer
    name:
      length: 50</code></pre></td></tr><tr id="r-423192" data-claire-element-id="423192"><td id="r-423186" data-claire-element-id="423186"><p id="r-423185" data-claire-element-id="423185"><strong>XML</strong></p></td><td id="r-423188" data-claire-element-id="423188"><p id="r-423187" data-claire-element-id="423187">Verbeux mais très flexible, le XML est un langage de balises génériques, c'est-à-dire qu'il est possible de créer les entrées de notre choix, en respectant un schéma précédemment mis en place. C'est un langage qui est très utilisé pour les web services car le rendu peut-être interprété par toutes les plateformes/OS. C'est malheureusement un langage très verbeux et assez difficile à lire rapidement, contrairement aux autres.</p></td><td id="r-423191" data-claire-element-id="423191"><p id="r-423189" data-claire-element-id="423189">Définition d'un objet Doctrine :</p><pre id="r-423190" data-claire-element-id="423190"><code data-claire-semantic="xml">&lt;doctrine-mapping&gt;
  &lt;entity name=&quot;MyPersistentClass&quot;&gt;
    &lt;field name=&quot;id&quot; type=&quot;integer&quot; /&gt;
    &lt;field name=&quot;name&quot; length=&quot;50&quot; /&gt;
  &lt;/entity&gt;
&lt;/doctrine-mapping&gt;</code></pre></td></tr><tr id="r-423200" data-claire-element-id="423200"><td id="r-423194" data-claire-element-id="423194"><p id="r-423193" data-claire-element-id="423193"><strong>PHP</strong></p></td><td id="r-423196" data-claire-element-id="423196"><p id="r-423195" data-claire-element-id="423195">Le PHP, vous le connaissez, pas besoin de vous faire un dessin, c'est rapide, mais assez lourd à écrire face à des langages comme le YML. L'avantage est de pouvoir aussi l'écrire directement dans vos objets et donc de centraliser la configuration et les objets dans un seul et même fichier. Le PHP présente aussi l'avantage d'être dynamique et donc de pouvoir récupérer des paramètres &quot;à la volée&quot; depuis différents systèmes de stockages, une souplesse incomparable.</p></td><td id="r-423199" data-claire-element-id="423199"><p id="r-423197" data-claire-element-id="423197">Définition d'une route :</p><pre id="r-423198" data-claire-element-id="423198"><code data-claire-semantic="html+php">&lt;?php
// src/Acme/HelloBundle/Resources/config/routing.php
use Symfony\Component\Routing\RouteCollection;
use Symfony\Component\Routing\Route;

$collection = new RouteCollection();
$collection-&gt;add('hello', new Route('/hello/{name}', array(
    '_controller' =&gt; 'AcmeHelloBundle:Hello:index',
)));

return $collection;</code></pre></td></tr><tr id="r-423208" data-claire-element-id="423208"><td id="r-423202" data-claire-element-id="423202"><p id="r-423201" data-claire-element-id="423201"><strong>Annotations</strong></p></td><td id="r-423204" data-claire-element-id="423204"><p id="r-423203" data-claire-element-id="423203">Le système d'annotations centralise la configuration dans les fichiers de nos objets. Ainsi, vous n'êtes plus perdu lorsque vous lisez votre code. Vous savez où vous êtes, ce que fait et ce dont est capable chaque attribut/fonction de votre objet. L’écriture se fait dans les commentaires de vos objets, c'est donc modifiable en quelques secondes lorsque l'on traite un fichier !</p></td><td id="r-423207" data-claire-element-id="423207"><p id="r-423205" data-claire-element-id="423205">Définition d'un objet Doctrine :</p><pre id="r-423206" data-claire-element-id="423206"><code data-claire-semantic="html+php">&lt;?php
/** @Entity */
class MyPersistentClass
{
    /** @Column(type=&quot;integer&quot;) */
    private $id;
    /** @Column(length=50) */
    private $name; // type defaults to string
    //...
}</code></pre></td></tr></tbody></table><p id="r-423211" data-claire-element-id="423211">Côté performances, tout se vaut. Le choix se fait réellement uniquement par souci de lisibilité et de préférence. Pour ce qui est des fichiers de configuration principaux, j'ai choisi de vous orienter vers le format yml. Libre à vous d'utiliser celui que vous souhaitez !</p><p id="r-423212" data-claire-element-id="423212">Reprenons le processus de génération de bundle. Afin de démarrer rapidement, Symfony vous propose de générer l'ensemble de l'arborescence de destination de votre bundle.<br/> Ensuite, vous accédez à un petit récapitulatif de vos choix que vous devez confirmer pour poursuivre. Votre code est enfin généré. Symfony vérifie si votre namespace a bien été enregistré et vérifie donc si le namespace sera bien chargé par Symfony.</p><p id="r-423213" data-claire-element-id="423213">Vous devriez comprendre les deux prochaines lignes d’exécution assez facilement puisque nous avons étudié ce point lors du précédent chapitre.</p><pre id="r-423214" data-claire-element-id="423214"><code data-claire-semantic="console">Confirm automatic update of your Kernel [yes]?
Enabling the bundle inside the Kernel: OK</code></pre><p id="r-423215" data-claire-element-id="423215">Si nous reprenons notre objet kernel, nous observerons que l'enregistrement de notre bundle a été fait automatiquement, si vous l'avez confirmé lors de la génération :</p><pre id="r-423216" data-claire-element-id="423216"><code data-claire-semantic="html+php">&lt;?php
class AppKernel extends Kernel
{
    public function registerBundles()
    {
        $bundles = array(
            new Symfony\Bundle\FrameworkBundle\FrameworkBundle(),
            new Symfony\Bundle\SecurityBundle\SecurityBundle(),
            new Symfony\Bundle\TwigBundle\TwigBundle(),
            new Symfony\Bundle\MonologBundle\MonologBundle(),
            new Symfony\Bundle\SwiftmailerBundle\SwiftmailerBundle(),
            new Symfony\Bundle\DoctrineBundle\DoctrineBundle(),
            new Symfony\Bundle\AsseticBundle\AsseticBundle(),
            new Sensio\Bundle\FrameworkExtraBundle\SensioFrameworkExtraBundle(),
            new JMS\SecurityExtraBundle\JMSSecurityExtraBundle(),
            new tuto\WelcomeBundle\tutoWelcomeBundle(), # C'est à la suite des autres bundles que le votre a été rajouté
        );

        if (in_array($this-&gt;getEnvironment(), array('dev', 'test'))) {
            $bundles[] = new Symfony\Bundle\WebProfilerBundle\WebProfilerBundle();
            $bundles[] = new Sensio\Bundle\DistributionBundle\SensioDistributionBundle();
            $bundles[] = new Sensio\Bundle\GeneratorBundle\SensioGeneratorBundle();
        }

        return $bundles;
    }

    public function registerContainerConfiguration(LoaderInterface $loader)
    {
        $loader-&gt;load(__DIR__.'/config/config_'.$this-&gt;getEnvironment().'.yml');
    }
}</code></pre><p id="r-423217" data-claire-element-id="423217">Pour finir, il vous est demandé de confirmer la mise à jour du routing pour votre bundle. Nous avons déjà abordé très légèrement le système de route lors du chapitre précèdent, nous y reviendrons plus en détails dans la suite de ce chapitre. Néanmoins, vous pouvez observer dans le fichier app/config/routing.yml que le routing de votre bundle y a été inclus :</p><pre id="r-423218" data-claire-element-id="423218"><code>tutoWelcomeBundle:
    resource: &quot;@tutoWelcomeBundle/Resources/config/routing.yml&quot;
    prefix:   /</code></pre><p id="r-423219" data-claire-element-id="423219"><strong>Voilà, nous en avons terminé avec la génération de bundle comme nous le dit le générateur lui-même, nous sommes maintenant prêt à utiliser le code généré !</strong></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">
<span class="arrow"></span>
<span class="next">Une histoire de bundle</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
<span class="next">Découverte de l&#039;architecture</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Dcouvertedel039architecture"></a><h2>Découverte de l&#039;architecture</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
<span class="arrow"></span>
<span class="next">Création</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">
<span class="next">Manipulez vos nouveaux jouets !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-decouverte-de-l-architecture" data-claire-element-id="423262">Découverte de l'architecture</h4><p id="r-423221" data-claire-element-id="423221">Nous y sommes, vos premières pierres ont été déposées dans le dossier de sources de votre projet Symfony. Je vous propose tout de suite de regarder tout ca de plus près.</p><figure id="r-423223" data-claire-element-id="423224"><img id="r-423222" data-claire-element-id="423222" src="medias/uploads.siteduzero.com_files_355001_356000_355586.png" alt="Image utilisateur"/></figure><p id="r-423225" data-claire-element-id="423225">Cela fait pas mal de dossiers et fichiers n'est-ce pas ? Toujours dans le but de vous permettre de maîtriser au maximum votre application, je vous propose de découvrir et de comprendre l'utilité de chacun d'entre eux à travers la création d'une première page.</p><p id="r-423226" data-claire-element-id="423226">La première étape va être de créer le contrôleur de notre page d'accueil. Pour cela, ouvrez le dossier 'Controller' et commencez par renommer le 'DefaultController' en 'HomepageController'. Poursuivez en modifiant notre contrôleur lui-même en y inscrivant ce code :</p><pre id="r-423227" data-claire-element-id="423227"><code data-claire-semantic="html+php">&lt;?php

namespace tuto\WelcomeBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;


class HomepageController extends Controller
{
    
    public function indexAction()
    {
        return $this-&gt;render('tutoWelcomeBundle:Homepage:index.html.twig');
    }
}</code></pre><p id="r-423228" data-claire-element-id="423228">Nous voici donc dans notre premier contrôleur, celui-ci hérite de la class Controller, c'est un vrai petit bijou, une montagne de fonctionnalités s'offrent à nous !</p><div id="r-423230" data-claire-element-id="423230" data-claire-semantic="question"><p id="r-423229" data-claire-element-id="423229">Mais que ce passe-t-il par ici ?</p></div><p id="r-423231" data-claire-element-id="423231">Et bien ce contrôleur est assez simpliste. Nous commençons simplement par définir à quel namespace il appartient. Nous importons ensuite la classe 'Controller' afin que notre classe puisse hériter de celle-ci. La seule fonction présente pour le moment est appelée 'action'. Souvenez-vous, dans le chapitre précèdent, nous avons vu la manière avec laquelle sont gérés les contrôleurs, c'est un ensemble d'actions qui peuvent être exécutées. Cette première action appelée 'index' se contente de retourner le rendu du template spécifié 'tutoWelcomeBundle:Homepage:index.html.twig'. C'est à dire que notre template est situé dans le bundle tutoWelcomeBundle, plus précisément dans le dossier 'Ressources/views/Homepage' du bundle en question. Vous l'aurez compris, il est très facile de se servir d'un template présent dans un autre bundle. Je vous propose donc de créer le template en question, si ce n'est pas déjà fait. ^^</p><p id="r-423232" data-claire-element-id="423232">Comment ça vous trouvez l'extension .html.twig quelque peu étrange ? Pas d’inquiétude, le moteur de template de base utilisé par Symfony est <a href="http://twig.sensiolabs.org/">Twig</a>. Nous allons très rapidement l'étudier !</p><p id="r-423233" data-claire-element-id="423233">Avant toutes choses, nous devons informer Symfony de la présence de notre nouveau contrôleur. De cette manière, nous allons lui indiquer comment pouvons-nous y accéder. C'est à dire, quelle route faut-il inscrire pour arriver sur ma page.<br/> Rendez-vous donc dans le fichier 'Ressources/config/routing.yml' et inscrivez ceci à la place de ce qu'il y a déjà :</p><pre id="r-423234" data-claire-element-id="423234"><code>tutoWelcomeBundle_homepage:
    pattern:  /
    defaults: { _controller: tutoWelcomeBundle:Homepage:index }</code></pre><p id="r-423235" data-claire-element-id="423235">Besoin d'un peu d'explications ? Je n'en doute pas. :p <br/> tutoWelcomeBundle_homepage, c'est le nom que nous avons donné à notre route, vous pouvez le changer sans problèmes. Sachez juste que lorsque vous faites un lien vers votre contrôleur, c'est ce nom qu'il faudra utiliser. Le pattern, c'est la forme de notre route. Pour la homepage, nous avons besoin d'exécuter le contrôleur à la racine de notre site, d'où le '/'. Les routes peuvent prendre toutes sortes de formes, par exemple : /boutique/produit/consuler/{id_produit}. Le dernier terme écrit entre les accolades est un paramettre de type GET qui doit être spécifié pour accéder à notre contrôleur. <br/> Ensuite, l'option 'defaults' nous permet de diriger la route vers le bon contrôleur. Dans notre cas, nous indiquons au routing de se diriger vers le bundle tutoWelcomeBundle, plus spécifiquement vers le contrôleur Homepage et enfin d'exécuter l'action 'index'.</p><aside id="r-423237" data-claire-element-id="423237" data-claire-semantic="information"><p id="r-423236" data-claire-element-id="423236">Vous l'aurez bien compris, je ne vous fournis pour l'instant que peu d'informations sur l'écriture des routes. L'étude complète du routing et des fonctionnalités du contrôleur est prévue pour le chapitre suivant. Pour le moment, ces informations sont suffisantes à la compréhension de ce que nous écrivons.</p></aside><p id="r-423238" data-claire-element-id="423238">Bon, il faut bien y mettre quelque chose dans ce template, non ? Je vous propose d'utiliser un petit design assez simpliste pour donner un peu de forme à notre site.<br/> Afin d'avoir une bonne organisation dans mes templates, j'ai pris la décision de créer un layout. Un layout est un template qui va 'entourer' vos autres templates. Ainsi, il y aura une inclusion de votre template 'index.html.twig' dans le template 'layout.html.twig'. Cela est indispensable pour tout simplement ne pas avoir à ré-écrire le code récurrent comme les menus, l'entête, etc. <br/> Créez donc un nouveau template appelé 'layout.html.twig' à la racine du dossier 'views' et ajoutez-y ceci :</p><pre id="r-423239" data-claire-element-id="423239"><code data-claire-semantic="html">&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;en&quot;&gt;
    &lt;head&gt;
        &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=utf-8&quot; /&gt;
        {% block stylesheets %}
            &lt;link rel=&quot;stylesheet&quot; href=&quot;{{ asset('bundles/tutowelcome/css/welcome.css') }}&quot; type=&quot;text/css&quot; media=&quot;all&quot; /&gt;
        {% endblock %}
        &lt;title&gt;Tutoriel Symfony2 : {% block title %}{% endblock %}&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;div id=&quot;container&quot;&gt;
            &lt;header&gt;
                &lt;a href=&quot;{{ path('tutoWelcomeBundle_homepage') }}&quot; title=&quot;Retour à l'accueil&quot;&gt;Tutoriel Symfony2&lt;/a&gt;
                &lt;p&gt;Bonjour et bienvenue dans ce tutoriel pour Symfony2&lt;/p&gt;
            &lt;/header&gt;

            &lt;div id=&quot;content&quot;&gt;
                {% block content %}{% endblock %}
            &lt;/div&gt;
            &lt;footer&gt;
            &lt;/footer&gt;
        &lt;/div&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-423240" data-claire-element-id="423240">Ainsi, dans votre template 'index.html.twig' vous n'avez plus qu'a mettre ceci :</p><pre id="r-423241" data-claire-element-id="423241"><code data-claire-semantic="html">{% extends &quot;tutoWelcomeBundle::layout.html.twig&quot; %}

{% block title &quot;Homepage&quot; %}

{% block content %}
Vous êtes en train de lire la première page générée avec Symfony2, la homepage.
{% endblock %}</code></pre><div id="r-423243" data-claire-element-id="423243" data-claire-semantic="question"><p id="r-423242" data-claire-element-id="423242">Mais, c'est quoi toutes ces choses entre accolades avec des symboles % partout ? Un peu d'explications ?</p></div><p id="r-423244" data-claire-element-id="423244"><strong>C'est le fameux moteur de template Twig !</strong> Twig nous permet de fonctionner par blocs et utilise un système d'héritage pour les templates. <br/> Des blocs comme le bloc title permettent de définir un emplacement avec un identifiant unique qui peut être réutilisé par toutes les templates qui hériterons de la template principale. Si nous prenons l'exemple du layout et de notre index, nous avons l'index qui hérite du layout. Dans le layout, nous avons un espace 'title' qui est réservé. Celui-ci est directement renseigné dans le template 'index' afin de remplir cet emplacement de telle sorte à ce que nous ayons un titre à notre page. C'est de la même manière que le bloc 'content' est défini. Afin d'hériter d'un template, il est nécessaire de le spécifier au début de notre template :</p><pre id="r-423245" data-claire-element-id="423245"><code data-claire-semantic="html">{% extends &quot;tutoWelcomeBundle::layout.html.twig&quot; %}</code></pre><p id="r-423246" data-claire-element-id="423246">Twig permet aussi d'effectuer facilement des liens vers nos ressources ou vers d'autres routes de notre application :</p><pre id="r-423247" data-claire-element-id="423247"><code data-claire-semantic="html">&lt;!-- lien vers des ressources --&gt;
{{ asset('bundles/tutowelcome/css/welcome.css') }}

&lt;!-- lien vers une route de notre application --&gt;
{{ path('tutoWelcomeBundle_homepage') }}</code></pre><aside id="r-423249" data-claire-element-id="423249" data-claire-semantic="information"><p id="r-423248" data-claire-element-id="423248">Encore une fois, les explications sont relativement sommaires et ne servent qu'a expliquer ce que nous venons d'écrire. L'étude du moteur de template Twig se fera au fur et à mesure de votre évolution dans le tutoriel. Régulièrement, nous explorerons de nouvelles fonctionnalités pour ce moteur de template. Néanmoins, les plus curieux pourrons déjà se précipiter vers <a href="http://twig.sensiolabs.org/">le site officiel de Twig</a> et en dévorer la documentation.</p></aside><p id="r-423250" data-claire-element-id="423250">Et le design dans l'histoire ? Pas de panique, nous y arrivons.<br/> Le dossier Ressources est plein... De ressources ! Il contient notamment l'ensemble de nos fichiers css, javascript et nos images qui se trouvent dans le dossier 'public'.</p><aside id="r-423252" data-claire-element-id="423252" data-claire-semantic="information"><p id="r-423251" data-claire-element-id="423251">Afin d'obtenir toutes les images du design et le code css correspondant et aussi pour que vous puissiez vérifier l'exactitude de votre code, je vous propose d'aller consulter les sources que j'ai hébergé sur Github.<br/> Vous retrouverez l'intégralité des sources dans le projet correspondant : <a href="https://github.com/Genokilller/Tutorial-Symfony2-SdZ/tree/master/Symfony">https://github.com/Genokilller/Tutoria [...] aster/Symfony</a></p></aside><p id="r-423253" data-claire-element-id="423253">Tout est prêt ? Ça y est, nous pouvons voir ce que ça donne ?</p><aside id="r-423255" data-claire-element-id="423255" data-claire-semantic="warning"><p id="r-423254" data-claire-element-id="423254">Avant toutes choses, il est recommandé de nettoyer le cache : <code data-claire-semantic="console">php app/console cache:clear</code>. <br/> Avant de visualiser votre site j'aimerai attirer votre attention sur une dernière chose. Avec Symfony, il est indispensable de publier ses ressources afin que celles-ci soient lisibles. En effet, votre navigateur n'a pas accès au dossier de sources situé dans votre projet. Seul le dossier web est consultable. il faut donc y placer les ressources : <code data-claire-semantic="console">php app/console assets:install web</code></p></aside><figure id="r-423257" data-claire-element-id="423258"><img id="r-423256" data-claire-element-id="423256" src="medias/uploads.siteduzero.com_files_355001_356000_355638.jpg" alt="Image utilisateur"/></figure><p id="r-423259" data-claire-element-id="423259"><em>Aperçu de la homepage</em></p><p id="r-423260" data-claire-element-id="423260"><strong>Alors, heureux ? Félicitations, vous venez de réaliser votre première page avec Symfony2 !</strong></p><p id="r-423261" data-claire-element-id="423261">Vous venez de faire vos premiers pas avec le système de bundle de Symfony. Avec un peu d'entrainement, tout ça vous paraîtra très simple. Nous avons découvert pas mal de nouveaux outils, je pense notamment au contrôleur et au système de routing. Je vous propose de les étudier de manière plus complète dans le prochain chapitre ! Faites chauffer vos cerveaux, beaucoup de nouvelles fonctionnalités sont au rendez-vous !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
<span class="arrow"></span>
<span class="next">Création</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">
<span class="next">Manipulez vos nouveaux jouets !</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Manipulezvosnouveauxjouets"></a><h2>Manipulez vos nouveaux jouets !</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
<span class="arrow"></span>
<span class="next">Découverte de l&#039;architecture</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
<span class="next">Le routing dans toute sa splendeur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423264" data-claire-element-id="423264">Bienvenue dans ce nouveau chapitre destiné à l'étude des nombreuses possibilités offertes par les contrôleurs et le routing ! Le tout en aboutissant sur un premier petit TP qui va vous permettre d'effectuer vos premières interactions avec l'utilisateur !</p>
</div><a name="Leroutingdanstoutesasplendeur"></a><h2>Le routing dans toute sa splendeur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">
<span class="arrow"></span>
<span class="next">Manipulez vos nouveaux jouets !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
<span class="next">TP : Exploitez vos contrôleurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-le-routing-dans-toute-sa-splendeur" data-claire-element-id="423308">Le routing dans toute sa splendeur</h4><h5 id="r-le-routing-c-est-puissant" data-claire-element-id="423297">Le routing, c'est puissant</h5><p id="r-423265" data-claire-element-id="423265">Le routing est un outil très puissant, fourni par Symfony. Vous l'avez surement déjà bien compris lors des précédents chapitres, mais un petit rappel ne fait pas de mal.<br/> Il se charge d'effectuer la liaison entre l'URI fournie dans la requête et l'action du contrôleur à exécuter.</p><h6 id="r-rappel-de-la-structure-de-base" data-claire-element-id="423269">Rappel de la structure de base</h6><p id="r-423266" data-claire-element-id="423266">Reprenons la route que nous avons écrit pour la page d'accueil :</p><pre id="r-423267" data-claire-element-id="423267"><code data-claire-semantic="yaml">homepage:
    pattern:  /
    defaults: { _controller: tutoWelcomeBundle:Homepage:index }</code></pre><p id="r-423268" data-claire-element-id="423268">Nous avons donc le nom de la route, 'homepage', la forme de notre route définie par le pattern ainsi que le contrôleur à exécuter.<br/> Mettons un peu d'exotisme dans tout cela.</p><h6 id="r-une-route-un-poil-plus-complexe" data-claire-element-id="423296">Une route un poil plus complexe</h6><p id="r-423270" data-claire-element-id="423270">Nous pouvons simplement mettre un nom un peu plus parlant à nos différentes routes en définissant des noms plus complexes.<br/> Si nous souhaitons créer la page d'accueil d'un blog, il n'est pas incohérent d'ajouter le mot 'blog' suivi du mot 'articles', dans le but d'afficher une liste d'articles, dans notre url.</p><pre id="r-423271" data-claire-element-id="423271"><code data-claire-semantic="yaml">homepage:
    pattern:  /blog/articles
    defaults: { _controller: tutoWelcomeBundle:Homepage:index }</code></pre><p id="r-423272" data-claire-element-id="423272"><strong>Que diriez-vous de rendre notre route paramétrable ?</strong></p><p id="r-423273" data-claire-element-id="423273">Je vous propose de prendre un exemple tout simple, celui d'un système de pagination. Nous devons lister une série d'articles dans notre blog. Cependant, nous souhaitons n'en afficher que cinq par page. Alors, comment accéder à chacune des différentes pages ?<br/> Il suffit simplement de rajouter ce qu'on appelle un 'placeholder', traduit par espace réservé, à notre route.</p><pre id="r-423274" data-claire-element-id="423274"><code data-claire-semantic="yaml">homepage:
    pattern:  /blog/articles/{page}
    defaults: { _controller: tutoWelcomeBundle:Homepage:index }</code></pre><div id="r-423276" data-claire-element-id="423276" data-claire-semantic="question"><p id="r-423275" data-claire-element-id="423275">Que ce passe-t-il si l'utilisateur met n'importe quoi en paramètre ? Je ne veux pas avoir à afficher la page numéro 'toto' moi !</p></div><p id="r-423277" data-claire-element-id="423277">C'est là qu’intervient la définition de nos paramètres via certaines exigences appelées 'requirements'. <br/> Par exemple, si nous souhaitons que notre paramètre 'page' soit un chiffre, il suffit de le demander ! ^^</p><pre id="r-423278" data-claire-element-id="423278"><code data-claire-semantic="yaml">homepage:
    pattern:  /blog/articles/{page}
    defaults: { _controller: tutoWelcomeBundle:Homepage:index }
    requirements:
        page:  \d+</code></pre><p id="r-423279" data-claire-element-id="423279">Vous l'aurez sans doute remarqué, nos exigences sont définies par des expressions régulières. J'espère que vous êtes tous au point la dessus, non ? :p <br/> Bref, '\d+' signifie que notre paramètre doit être un chiffre de longueur zéro ou plus. Désormais, si le paramètre ne respecte pas cette contrainte, la route ne sera pas effectuée entre l'URI et le contrôleur.</p><p id="r-423280" data-claire-element-id="423280">Dans notre cas, le paramètre est obligatoire et se doit d'être spécifié pour que la route soit reconnue. Cela n'est pas forcément très esthétique si nous souhaitons accéder à la première page d'articles. Il serait préférable que dans ce cas le paramètre ne soit pas obligatoire. Pour cela, rien de plus simple, il suffit de lui donner une valeur par défaut :</p><pre id="r-423281" data-claire-element-id="423281"><code data-claire-semantic="yaml">homepage:
    pattern:  /blog/articles/{page}
    defaults: { _controller: tutoWelcomeBundle:Homepage:index, page: 1 }
    requirements:
        page:  \d+</code></pre><p id="r-423282" data-claire-element-id="423282">D'autres contraintes sont possibles, notamment une qui me semble importante, celle du type de la méthode employée par la requête. Je m'explique, comme vous le savez, une requête peut être de plusieurs types (GET, POST, PUT, DELETE, etc.). Afin de pouvoir séparer votre code dans différents contrôleurs, vous pouvez spécifier la methode http de votre route. Ainsi, si vous souhaitez utiliser la même url pour l'affichage d'un formulaire et pour le traitement et que vous souhaitez séparer votre code dans deux actions distinctes, il vous suffit de spécifier la méthode de cette manière :</p><pre id="r-423283" data-claire-element-id="423283"><code data-claire-semantic="yaml">homepage:
    pattern:  /blog/articles/{page}
    defaults: { _controller: tutoWelcomeBundle:Homepage:index, page: 1 }
    requirements:
        page:  \d+
        _method: GET</code></pre><p id="r-423284" data-claire-element-id="423284">Un dernier point qui peut être intéressant à aborder est le système de préfixes. Vous avez sans doutes déjà aperçu ce mot clé lors de la création du bundle :</p><pre id="r-423285" data-claire-element-id="423285"><code data-claire-semantic="yaml">tutoWelcomeBundle:
    resource: &quot;@tutoWelcomeBundle/Resources/config/routing.yml&quot;
    prefix:   /</code></pre><p id="r-423286" data-claire-element-id="423286">Cette option nous permet de définir un préfixe pour toutes les routes d'un même bundle. De cette manière, si nous ne voulons pas ré-écrire le mot 'blog' dans chacune de nos routes, il suffit de définir un préfixe pour le bundle :</p><pre id="r-423287" data-claire-element-id="423287"><code data-claire-semantic="yaml">tutoWelcomeBundle:
    resource: &quot;@tutoWelcomeBundle/Resources/config/routing.yml&quot;
    prefix:   /blog</code></pre><p id="r-423288" data-claire-element-id="423288">Ainsi, nous pouvons alléger notre route de cette manière :</p><pre id="r-423289" data-claire-element-id="423289"><code data-claire-semantic="yaml">homepage:
    pattern:  /articles/{page}
    defaults: { _controller: tutoWelcomeBundle:Homepage:index, page: 1 }
    requirements:
        page:  \d+
        _method: GET</code></pre><p id="r-423290" data-claire-element-id="423290">Une bonne chose à savoir aussi, si vous souhaitez faire une application sécurisée, vous pouvez spécifier l'utilisation du protocole https dans vos routes grâce à la contrainte suivante :</p><pre id="r-423291" data-claire-element-id="423291"><code data-claire-semantic="yaml">    requirements:
        _scheme:  https</code></pre><aside id="r-423293" data-claire-element-id="423293" data-claire-semantic="warning"><p id="r-423292" data-claire-element-id="423292"><strong>Rappel sur l'ordre des routes</strong>.<br/> Il faut toujours garder en tête que la dernière route définie est la route qui sera identifiée si elle respecte l'ensemble des contraintes. Ainsi, si vous définissez deux routes quasi identiques et q'une URI peut être routée par les deux routes, c'est la dernière route définie qui sera choisie. Alors ne soyez pas radin avec les contraintes pour éviter de vous perdre !</p></aside><aside id="r-423295" data-claire-element-id="423295" data-claire-semantic="information"><p id="r-423294" data-claire-element-id="423294">Tout les paramètres de votre route doivent être aussi définis dans votre contrôleur en tant qu'arguments, comme une fonction standard qui attend des paramètres. Il est possible des les définir des deux cotés, sachez tout de même que les paramètres obligatoires doivent tout de même toujours être spécifiés dans votre route. Il faut voir cette contrainte comme un plus en termes de visibilité plutôt qu'une simple lourdeur.</p></aside><h5 id="r-utilisez-vos-routes-dans-votre-controleur-et-votre-template" data-claire-element-id="423307">Utilisez vos routes dans votre contrôleur et votre template</h5><h6 id="r-dans-le-controleur" data-claire-element-id="423301">Dans le contrôleur</h6><p id="r-423298" data-claire-element-id="423298">Une fois dans votre contrôleur, vous pouvez toujours continuer de jouer avec vos routes. Vous pouvez en récuperer les différents paramètres, en générer l'url correspondant en fournissant les bons paramètres, etc.</p><pre id="r-423299" data-claire-element-id="423299"><code data-claire-semantic="html+php">&lt;?php
$params = $this-&gt;get('router')-&gt;match('/blog/articles/2');
# array('page' =&gt; 2, '_controller' =&gt; 'tutoWelcomeBundle:Homepage:index')

$uri = $this-&gt;get('router')-&gt;generate('homepage', array('page' =&gt; 1));
# /blog/articles/1

# Si votre contrôleur étant la classe Controller, vous pouvez utiliser le raccourci suivant :
$uri = $this-&gt;generateUrl('homepage', array('page' =&gt; 1));</code></pre><p id="r-423300" data-claire-element-id="423300">Vous pouvez rajouter autant de paramètres que vous le souhaitez dans le tableau correspondant lors de la génération d'une uri. Même si ces paramètres ne sont pas définis dans votre route, il seront ajoutés à la suite de l'uri comme de simple paramètre GET.<br/> Pour générer une url absolue, il suffit de rajouter un troisième paramètre à votre appel à la méthode 'generate', troisième paramètre qui prendra la valeur 'true'.</p><h6 id="r-dans-le-template" data-claire-element-id="423306">Dans le template</h6><p id="r-423302" data-claire-element-id="423302">Pour les templates, vous savez déjà comment faire car vous l'avez fait pour votre page d'accueil. Néanmoins, un petit supplément s'ajoute avec l'apparition des paramètres. Construisez votre lien en spécifiant les paramètres comme suit :</p><pre id="r-423303" data-claire-element-id="423303"><code data-claire-semantic="html">{# Lien relatif : /app_dev.php/blog/articles/1 #}
{{ path('homepage', { 'page': 2 }) }}

{# Lien absolu : http://localhost/app_dev.php/blog/articles/1 #}
{{ url('homepage', { 'page': 2 }) }}</code></pre><aside id="r-423305" data-claire-element-id="423305" data-claire-semantic="information"><p id="r-423304" data-claire-element-id="423304">Lorsque vous générez une url vous retrouvez toujours le contrôleur frontal au début de l'uri. Celui-ci est ajouter automatiquement et change selon l'environnement. Bien évidement, en production, votre serveur (Apache par exemple) se charge de rendre invisible cette donnée dans votre url à l'affichage.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">
<span class="arrow"></span>
<span class="next">Manipulez vos nouveaux jouets !</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
<span class="next">TP : Exploitez vos contrôleurs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPExploitezvoscontrleurs"></a><h2>TP : Exploitez vos contrôleurs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
<span class="arrow"></span>
<span class="next">Le routing dans toute sa splendeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">
<span class="next">Vos premiers pas avec les formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-tp-exploitez-vos-controleurs" data-claire-element-id="423400">TP : Exploitez vos contrôleurs</h4><h5 id="r-un-controleur-genereux-de-possibilites" data-claire-element-id="423399">Un contrôleur généreux de possibilités</h5><h6 id="r-un-petit-exercice-en-guise-d-apprentissage" data-claire-element-id="423386">Un petit exercice en guise d'apprentissage</h6><p id="r-423309" data-claire-element-id="423309">Je vous propose de découvrir les différentes fonctionnalités de base du contrôleur à travers un simple petit exercice.<br/> Le but va être de proposer une url avec laquelle notre utilisateur pourra indiquer son nom en guise de paramètre puis nous le redirigerons vers la page d'accueil en lui souhaitant la bienvenue. Simple et sympathique n'est-ce pas ?</p><p id="r-423310" data-claire-element-id="423310">Nous allons faire ce premier exercice ensemble. <br/> Plusieurs choses sont à prévoir :</p><ul id="r-423323" data-claire-element-id="423323"><li id="r-423312" data-claire-element-id="423312"><p id="r-423311" data-claire-element-id="423311">Créer notre contrôleur</p></li><li id="r-423314" data-claire-element-id="423314"><p id="r-423313" data-claire-element-id="423313">Créer la route correspondante</p></li><li id="r-423316" data-claire-element-id="423316"><p id="r-423315" data-claire-element-id="423315">Récupérer le nom de notre utilisateur via un paramètre GET</p></li><li id="r-423318" data-claire-element-id="423318"><p id="r-423317" data-claire-element-id="423317">Enregistrer notre utilisateur en session</p></li><li id="r-423320" data-claire-element-id="423320"><p id="r-423319" data-claire-element-id="423319">Rediriger notre utilisateur vers la page d'accueil</p></li><li id="r-423322" data-claire-element-id="423322"><p id="r-423321" data-claire-element-id="423321">Afficher un petit message de bienvenue personnalisé à notre utilisateur</p></li></ul><p id="r-423324" data-claire-element-id="423324">Dans un premier temps, il nous faut créer notre contrôleur, pour cela, rien de plus simple. Nous allons conserver notre classe WelcomeController et y rajouter une action. Nous l'appelerons 'whoAmI' (qui suis-je ?) :</p><pre id="r-423325" data-claire-element-id="423325"><code data-claire-semantic="html+php">&lt;?php
public function whoAmIAction()
{
        
}</code></pre><p id="r-423326" data-claire-element-id="423326">Cette action est vide pour le moment. La deuxième étape consiste à créer la route nous permettant d’accéder à notre contrôleur fraîchement créé. Pour cela, rendez-vous dans le fichier de routing correspondant à votre bundle, situé dans le dossier Ressources/config et ajoutez les lignes suivantes :</p><pre id="r-423327" data-claire-element-id="423327"><code>whoami:
    pattern:  /qui-suis-je/{name}
    defaults: { _controller: tutoWelcomeBundle:Homepage:whoAmI }
    requirements:
      name: \w+</code></pre><p id="r-423328" data-claire-element-id="423328">Si nous regardons en détails cette route, nous avons une forme d'url toute simple du type : <a href="http://localhost/app_dev.php/qui-suis-je/mon_super_pseudo"><strong>http://localhost/qui-suis-je/mon_super_pseudo</strong></a><br/> La contrainte '\w+' symbolise l'obligation d'un caractère alphanumérique ou d'un tiret de soulignement. Cela correspond à taper [a-zA-Z0-9_]. Logique pour un pseudo.</p><p id="r-423329" data-claire-element-id="423329">Afin de récupérer le nom de notre utilisateur nous devons créer la variable correspondante dans le contrôleur :</p><pre id="r-423330" data-claire-element-id="423330"><code data-claire-semantic="html+php">&lt;?php
public function whoAmIAction($name)
{
    echo $name; # Affiche 'mon_super_pseudo'
}</code></pre><p id="r-423331" data-claire-element-id="423331">Si vous le souhaitez, vous pouvez réunir les différentes informations relative au routing dans votre contrôleur en utilisant les annotations.<br/> Pour cela, rien de plus simple, il vous suffit d'importer la classe Routing du FrameworkExtraBundle :</p><pre id="r-423332" data-claire-element-id="423332"><code data-claire-semantic="html+php">&lt;?php
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Route;</code></pre><p id="r-423333" data-claire-element-id="423333">Ensuite, c'est sur les différentes action du contrôleur que nous intervenons grace à l'annotation @Route :</p><pre id="r-423334" data-claire-element-id="423334"><code data-claire-semantic="html+php">&lt;?php
/**
 * This action display the name parameter.
 *
 * @Route(&quot;/qui-suis-je/{name}&quot;, name=&quot;whoami&quot;, requirements={ 
 *     &quot;name&quot;=&quot;\w+&quot;
 * })
 *
 * @param string $name The name the user wants to display
 */
public function whoAmIAction($name)
{
    echo $name; # Affiche 'mon_super_pseudo'
}</code></pre><div id="r-423336" data-claire-element-id="423336" data-claire-semantic="question"><p id="r-423335" data-claire-element-id="423335">Comment est-ce que je m'y prend si je n'ai pas défini le paramètre dans ma route, mais que je l'ai simplement rajouté à la suite de mon url comme un paramètre $_GET standard ?</p></div><p id="r-423337" data-claire-element-id="423337">Très bonne question, un exemple tout simple me viens à l'esprit : <a href="http://localhost/app_dev.php/qui-suis-je?name=mon_super_pseudo"><strong>http://localhost/qui-suis-je?name=mon_super_pseudo</strong></a>. La solution ? Utiliser l'objet Request !</p><pre id="r-423338" data-claire-element-id="423338"><code data-claire-semantic="html+php">&lt;?php
public function whoAmIAction()
{
    $request = $this-&gt;getRequest();

    $name = $request-&gt;query-&gt;get('name'); # récupère le paramètre $_GET['name']

    echo $name; # Affiche 'mon_super_pseudo'
}</code></pre><p id="r-423339" data-claire-element-id="423339">Faisons une petite pose et apprenons en un peu plus sur l'objet Request. Celui-ci peut-être récupérer automatiquement par Symfony dans votre contrôleur en le passant en paramètre à votre action :</p><pre id="r-423340" data-claire-element-id="423340"><code data-claire-semantic="html+php">&lt;?php
public function whoAmIAction(Request $request)
{
    $name = $request-&gt;query-&gt;get('name'); # récupère le paramètre $_GET['name']

    echo $name; # Affiche 'mon_super_pseudo'
}</code></pre><p id="r-423341" data-claire-element-id="423341">Cet objet Request nous permet d'avoir accès à diverses variables globales de manière très simple :</p><ul id="r-423356" data-claire-element-id="423356"><li id="r-423343" data-claire-element-id="423343"><p id="r-423342" data-claire-element-id="423342"><strong>query</strong>: Vous le connaissez déjà, il est récupère un paramètre $_GET ($request-&gt;query-&gt;get('name'))</p></li><li id="r-423345" data-claire-element-id="423345"><p id="r-423344" data-claire-element-id="423344"><strong>request</strong>: Equivalent de la variable $_POST</p></li><li id="r-423347" data-claire-element-id="423347"><p id="r-423346" data-claire-element-id="423346"><strong>cookies</strong>: Equivalent de la variable $_COOKIE</p></li><li id="r-423349" data-claire-element-id="423349"><p id="r-423348" data-claire-element-id="423348"><strong>attributes</strong>: Cet attribut vous permet de manipuler des paramètres personnalisés dans une requête. On peux citer les variables _controller et _route que vous avez pu configurer avec le routing.</p></li><li id="r-423351" data-claire-element-id="423351"><p id="r-423350" data-claire-element-id="423350"><strong>files</strong>: Equivalent de la variable $_FILE</p></li><li id="r-423353" data-claire-element-id="423353"><p id="r-423352" data-claire-element-id="423352"><strong>server</strong>: Equivalent de la variable $_SERVER</p></li><li id="r-423355" data-claire-element-id="423355"><p id="r-423354" data-claire-element-id="423354">headers: Vous permet de manipuler les entêtes de votre requête ($request-&gt;headers-&gt;get('Content-Type')).</p></li></ul><p id="r-423357" data-claire-element-id="423357">Les doutes sont levés ? Très bien, nous allons maintenant enregistrer le nom de notre utilisateur en session afin de pouvoir en disposer n'importe où dans notre application :</p><pre id="r-423358" data-claire-element-id="423358"><code data-claire-semantic="html+php">&lt;?php
public function whoAmIAction($name)
{
    # get the session
    $session = $this-&gt;get('session'); # Le raccourci $this-&gt;getSession() est disponible.

    # store the user'name in the session
    $session-&gt;set('user_name', $name);
}</code></pre><p id="r-423359" data-claire-element-id="423359">Vous l'aurez remarquez, plus besoin d'utiliser la fonction 'session_start()' en chaque début de script, Symfony met à notre entière disposition un objet qui permet de gérer les sessions de nos utilisateurs.<strong> C'est ce qu'on appelle un service.</strong></p><p id="r-423360" data-claire-element-id="423360">La prochaine étape est de rediriger l'utilisateur vers la page d'accueil.<br/> Nous allons utiliser la fonction de redirection du contrôleur ainsi que la fonction de génération d'url qui y est fournis pour retourner la réponse que nous souhaitons, c'est à dire, la page d'accueil :</p><pre id="r-423361" data-claire-element-id="423361"><code data-claire-semantic="html+php">&lt;?php
return $this-&gt;redirect($this-&gt;generateUrl('homepage'));</code></pre><p id="r-423362" data-claire-element-id="423362">En rajoutant cette ligne à la fin, votre action va automatiquement vous rediriger vers la route homepage à la fin de son exécution. La fonction générateUrl() est un simple raccourci fourni par le contrôleur qui est en tout point équivalente à l'utilisation directe du routeur :</p><pre id="r-423363" data-claire-element-id="423363"><code data-claire-semantic="html+php">&lt;?php
# Ce code est parfaitement équivalent
return $this-&gt;redirect($this-&gt;container-&gt;get('router')-&gt;generate('homepage'));</code></pre><p id="r-423364" data-claire-element-id="423364">La dernière étape consiste à afficher le message de bienvenue personnalisé à notre utilisateur. Pour cela, il existe ce qu'on appel des messages flash. Ces messages ne sont valable que pour un seul affichage de votre page. Lorsque vous activez un message flash, celui-ci ne sera affiché que lors du rendu du prochain template. Si vous n'en créez pas de nouveaux, il ne sera plus affiché. Afin que notre message soit persistant sur notre page d'accueil, nous allons le ré-écrire à chaque appel de celle-ci.</p><pre id="r-423365" data-claire-element-id="423365"><code data-claire-semantic="html+php">&lt;?php
public function indexAction()
{
    $this-&gt;get('session')-&gt;setFlash('notice', 'Bienvenue à toi '.$this-&gt;get('session')-&gt;get('user_name').' !');

    return $this-&gt;render('tutoWelcomeBundle:Homepage:index.html.twig');
}</code></pre><p id="r-423366" data-claire-element-id="423366">De la même manière que pour la définition des routes, nous pouvons aussi définir les templates à utiliser sous forme d'annotations.<br/> Utilisez la aussi une classe du FrameworkExtraBundle :</p><pre id="r-423367" data-claire-element-id="423367"><code data-claire-semantic="html+php">&lt;?php
use Sensio\Bundle\FrameworkExtraBundle\Configuration\Template;</code></pre><p id="r-423368" data-claire-element-id="423368">C'est de l'annotation @Template que nous avons besoin :</p><pre id="r-423369" data-claire-element-id="423369"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Template()
 */
public function indexAction()
{
    $this-&gt;get('session')-&gt;setFlash('notice', 'Bienvenue à toi '.$this-&gt;get('session')-&gt;get('user_name').' !');
}</code></pre><p id="r-423370" data-claire-element-id="423370">Si nous ne lui spécifions pas de paramètres, le template sera récupérer automatiquement en suivant les conventions de nommage de votre contrôleur.<br/> Dans notre cas, nous sommes dans le contrôleur WelcomeController, dans l'action whoAmIAction. Notre template sera sera donc à cet emplacement : tutoWelcomeBundle/Ressources/views/Welcome/whoAmI.html.twig.</p><p id="r-423371" data-claire-element-id="423371">Cette annotation suffit pour des usages simple. Mais vous arriverez vite à l'utilisation directe de l'objet Response et vous ne pourrez plus utiliser cette annotation.</p><p id="r-423372" data-claire-element-id="423372">Afin que ce message soit vu, il nous faut l'afficher dans le template, reprenons notre layout et modifions le header comme suit :</p><pre id="r-423373" data-claire-element-id="423373"><code data-claire-semantic="html">&lt;header&gt;
    &lt;a href=&quot;{{ path('homepage') }}&quot; title=&quot;Retour à l'accueil&quot;&gt;Tutoriel Symfony2&lt;/a&gt;
    &lt;p&gt;
      {% for key, flash in app.session.getFlashes() %}
        {% if flash %}
            {{ flash }}
        {% endif %}
      {% endfor %}
    &lt;/p&gt;
&lt;/header&gt;</code></pre><div id="r-423375" data-claire-element-id="423375" data-claire-semantic="question"><p id="r-423374" data-claire-element-id="423374">Mais dis moi, nous n'avons pas encore vu cette structure dans nos template ? Cela ressemble à une boucle 'for', non ?</p></div><p id="r-423376" data-claire-element-id="423376">Effectivement, cette structure est bien une boucle for. Si nous décortiquions un peu tout ça ?</p><pre id="r-423377" data-claire-element-id="423377"><code data-claire-semantic="html">&lt;header&gt;
    &lt;a href=&quot;{{ path('homepage') }}&quot; title=&quot;Retour à l'accueil&quot;&gt;Tutoriel Symfony2&lt;/a&gt;
    &lt;p&gt;
      &lt;!-- Je parcours l'objet 'app.session.getFlashes(), donc les messages flash enregistrés en sessions, et je sauvegarde la clé dans la variable 'key' --&gt;
      {% for key, flash in app.session.getFlashes() %}
        &lt;!-- Si mon message existe (équivalent du isset() en php) --&gt;
        {% if flash %}
            &lt;!-- Alors je l'affiche (équivalent du echo en php) --&gt;
            {{ flash }}
        {% endif %}
      {% endfor %}
    &lt;/p&gt;
&lt;/header&gt;</code></pre><p id="r-423378" data-claire-element-id="423378"><strong>Tout simple n'est-ce pas ?</strong></p><p id="r-423379" data-claire-element-id="423379">Informons simplement l'utilisateur de cette nouvelle fonctionnalité en complétant notre template 'index' :</p><pre id="r-423380" data-claire-element-id="423380"><code data-claire-semantic="html">{% block content %}
&lt;p&gt;
    Vous êtes en train de lire la première page générée avec Symfony2, la homepage.
    &lt;br&gt;&lt;br&gt;
    Pour mieux vous connaitre, informez-nous de votre pseudo en tapant cette url dans votre barre d'adresse et en y ajoutant votre pseudo :
    &lt;strong&gt;http://localhost/qui-suis-je/mon_super_pseudo&lt;/strong&gt;
&lt;/p&gt;
{% endblock %}</code></pre><p id="r-423381" data-claire-element-id="423381"><strong>Et hop, le tour est joué !</strong></p><figure id="r-423383" data-claire-element-id="423384"><img id="r-423382" data-claire-element-id="423382" src="medias/uploads.siteduzero.com_files_356001_357000_356021.png" alt="Image utilisateur"/></figure><p id="r-423385" data-claire-element-id="423385"><em>Rendu de la page d'accueil après avoir renseigné le pseudo via notre nouvelle action.</em></p><h6 id="r-passer-des-parametres-au-template" data-claire-element-id="423398">Passer des paramètres au template</h6><p id="r-423387" data-claire-element-id="423387">Vous pouvez très facilement passer des paramètres à un template depuis votre contrôleur.<br/> Si nous souhaiterions passer le paramètre $name au template nous ferions comme cela :</p><pre id="r-423388" data-claire-element-id="423388"><code data-claire-semantic="html+php">&lt;?php
public function indexAction()
{
    return $this-&gt;render('tutoWelcomeBundle:Homepage:index.html.twig', array('name' =&gt; $name));
}</code></pre><p id="r-423389" data-claire-element-id="423389">Avec les annotions, seul le tableau de paramètres est à fournir :</p><pre id="r-423390" data-claire-element-id="423390"><code data-claire-semantic="html+php">&lt;?php
/**
 * @Template()
 */
public function indexAction()
{
    return array('name' =&gt; $name);
}</code></pre><p id="r-423391" data-claire-element-id="423391">C'est ensuite très simple d'afficher le paramètre dans le template :</p><pre id="r-423392" data-claire-element-id="423392"><code data-claire-semantic="html">{% block content %}
&lt;p&gt;
    Bienvenue à toi {{ name }} !
&lt;/p&gt;
{% endblock %}</code></pre><aside id="r-423394" data-claire-element-id="423394" data-claire-semantic="information"><p id="r-423393" data-claire-element-id="423393">Encore une fois, si vous avez des doutes sur votre code, n'hésitez pas à consulter et télécharger au besoin le code disponible sur gtihub à cette adresse : <a href="https://github.com/Genokilller/Tutorial-Symfony2-SdZ/tree/master/Symfony">https://github.com/Genokilller/Tutoria [...] aster/Symfony</a></p></aside><p id="r-423395" data-claire-element-id="423395">Au cours de ce chapitre, vous en avez appris un peu plus sur le fonctionnement du routing. C'est un outil puissant dont la maîtrise est obligatoire pour ne pas se perdre dans son application. Avec un peu de pratique, vous avez découvert quelques unes des fonctionnalités qui sont disponibles avec l'objet Controller. C'est amusant n'est-ce pas ? Presque affligeant de simplicité ! N'ayez crainte, dans les prochains chapitres, nous allons corser les choses en réalisant de véritables interactions avec l'utilisateur grâce aux formulaires !</p><p id="r-423396" data-claire-element-id="423396"><strong>C'est avec plaisir que je vous annonce que vous avez les acquis les bases requise pour travailler avec Symfony2 !</strong></p><p id="r-423397" data-claire-element-id="423397">Bon, ce n'était pas fou de complexité, mais cela nous permet une mise en bouche plutôt convenable et un grand tour d'horizon des fonctionnalités basiques d'un framework comme Symfony. Dans la seconde partie, nous allons nous orienter vers la gestion des formulaires, la sécurité, les services que vous avez déjà pu utiliser ainsi que bien évidement la création de nos premiers objet pour Doctrine, notre ORM, qui interviendra au cours de la troisième partie. <br/><strong>Et bien évidement, tout cela sera toujours accompagné de bonnes pratiques, de conseils et de nombreuses astuces pour être toujours au top !</strong></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
<span class="arrow"></span>
<span class="next">Le routing dans toute sa splendeur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">
<span class="next">Vos premiers pas avec les formulaires</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Vospremierspasaveclesformulaires"></a><h2>Vos premiers pas avec les formulaires</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
<span class="arrow"></span>
<span class="next">TP : Exploitez vos contrôleurs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
<span class="next">Une interaction plus évoluée</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423405" data-claire-element-id="423405">Bienvenue dans ce nouveau chapitre ! Celui-ci est dédié à la création de formulaires avec Symfony. Vous apprendrez à créer, utiliser, valider et afficher vos formulaires. Le tout avec un petit TP offrant la possibilité de la réalisation d'une page de contact. Oui, nous aborderons aussi l'envoi de mail avec Symfony.</p>
</div><a name="Uneinteractionplusvolue"></a><h2>Une interaction plus évoluée</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">
<span class="arrow"></span>
<span class="next">Vos premiers pas avec les formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
<span class="next">Passage à la pratique : un formulaire de contact</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-une-interaction-plus-evoluee" data-claire-element-id="423515">Une interaction plus évoluée</h4><p id="r-423406" data-claire-element-id="423406">Il est souvent nécessaire de mettre à la disposition des utilisateurs des formulaires afin d'obtenir des informations plus complètes. On pensera à un formulaire de connexion, d'inscription, de contact, etc. Vous pouvez réellement faire plein de choses formidables.</p><h5 id="r-un-outil-indispensable-le-formbuilder" data-claire-element-id="423505">Un outil indispensable, le FormBuilder</h5><p id="r-423407" data-claire-element-id="423407">Le FormBuilder est un des composants de Symfony : <strong>Symfony\Component\Form\FormBuilder</strong>. Il sert d'assistant à la création de formulaire, tout un panel d'outil nous est fourni pour donner vie à toutes vos envies !<br/> Je vous laisse bien évidement explorer la classe FormBuilder afin de connaitre plus en détails les diverses fonctionnalités qui nous sont proposées. D'ailleurs, je vous le recommande même vivement. Et ce, dès maintenant, il est toujours préférable de connaitre de quoi est composer une classe ou n'importe quel objet avant de l'utiliser, histoire de ne pas faire n'importe quoi avec.</p><h6 id="r-comment-creer-un-formulaire-dans-notre-controleur" data-claire-element-id="423411">Comment créer un formulaire dans notre contrôleur ?</h6><p id="r-423408" data-claire-element-id="423408">C'est tout simple, l'objet controller met à notre disposition un raccourci vers le FormBuilder, par exemple, si l'on souhaite créer un formulaire composé d'un champ texte il suffit d'ajouter ces quelques lignes dans un contrôleur :</p><pre id="r-423409" data-claire-element-id="423409"><code data-claire-semantic="html+php">&lt;?php

$form = $this-&gt;createFormBuilder($task)
            -&gt;add('titre', 'text')
            -&gt;getForm();</code></pre><p id="r-423410" data-claire-element-id="423410">Notre variable <code data-claire-semantic="html+php">$form</code> contient un objet nous permettant de manipuler notre formulaire sous toutes les coutures.<br/> La fonction add, vous l'aurez compris, permet d'ajouter des champs à notre formulaire.</p><h6 id="r-que-peut-on-ajouter-a-notre-formulaire" data-claire-element-id="423504">Que peut-on ajouter à notre formulaire ?</h6><p id="r-423412" data-claire-element-id="423412">Une multitude de types sont disponibles. Voici un petit listing de ces derniers, vous y trouverez des liens vers la documentation officielle pour plus de détails :</p><table id="r-423503" data-claire-element-id="423503"><thead id="r-423428" data-claire-element-id="423428"><tr id="r-423427" data-claire-element-id="423427"><th id="r-423414" data-claire-element-id="423414"><p id="r-423413" data-claire-element-id="423413">Champs texte</p></th><th id="r-423416" data-claire-element-id="423416"><p id="r-423415" data-claire-element-id="423415">Choix</p></th><th id="r-423418" data-claire-element-id="423418"><p id="r-423417" data-claire-element-id="423417">Date et durée</p></th><th id="r-423420" data-claire-element-id="423420"><p id="r-423419" data-claire-element-id="423419">Autres</p></th><th id="r-423422" data-claire-element-id="423422"><p id="r-423421" data-claire-element-id="423421">Groupes</p></th><th id="r-423424" data-claire-element-id="423424"><p id="r-423423" data-claire-element-id="423423">Champs cachés</p></th><th id="r-423426" data-claire-element-id="423426"><p id="r-423425" data-claire-element-id="423425">Champs de base</p></th></tr></thead><tbody id="r-423502" data-claire-element-id="423502"><tr id="r-423501" data-claire-element-id="423501"><td id="r-423450" data-claire-element-id="423450"><ul id="r-423449" data-claire-element-id="423449"><li id="r-423430" data-claire-element-id="423430"><p id="r-423429" data-claire-element-id="423429"><a href="http://symfony.com/doc/current/reference/forms/types/text.html">text</a></p></li><li id="r-423432" data-claire-element-id="423432"><p id="r-423431" data-claire-element-id="423431"><a href="http://symfony.com/doc/current/reference/forms/types/textarea.html">textarea</a></p></li><li id="r-423434" data-claire-element-id="423434"><p id="r-423433" data-claire-element-id="423433"><a href="http://symfony.com/doc/current/reference/forms/types/email.html">email</a></p></li><li id="r-423436" data-claire-element-id="423436"><p id="r-423435" data-claire-element-id="423435"><a href="http://symfony.com/doc/current/reference/forms/types/integer.html">integer</a></p></li><li id="r-423438" data-claire-element-id="423438"><p id="r-423437" data-claire-element-id="423437"><a href="http://symfony.com/doc/current/reference/forms/types/money.html">money</a></p></li><li id="r-423440" data-claire-element-id="423440"><p id="r-423439" data-claire-element-id="423439"><a href="http://symfony.com/doc/current/reference/forms/types/number.html">number</a></p></li><li id="r-423442" data-claire-element-id="423442"><p id="r-423441" data-claire-element-id="423441"><a href="http://symfony.com/doc/current/reference/forms/types/password.html">password</a></p></li><li id="r-423444" data-claire-element-id="423444"><p id="r-423443" data-claire-element-id="423443"><a href="http://symfony.com/doc/current/reference/forms/types/percent.html">percent</a></p></li><li id="r-423446" data-claire-element-id="423446"><p id="r-423445" data-claire-element-id="423445"><a href="http://symfony.com/doc/current/reference/forms/types/search.html">search</a></p></li><li id="r-423448" data-claire-element-id="423448"><p id="r-423447" data-claire-element-id="423447"><a href="http://symfony.com/doc/current/reference/forms/types/url.html">url</a></p></li></ul></td><td id="r-423464" data-claire-element-id="423464"><ul id="r-423463" data-claire-element-id="423463"><li id="r-423452" data-claire-element-id="423452"><p id="r-423451" data-claire-element-id="423451"><a href="http://symfony.com/doc/current/reference/forms/types/choice.html">choice</a></p></li><li id="r-423454" data-claire-element-id="423454"><p id="r-423453" data-claire-element-id="423453"><a href="http://symfony.com/doc/current/reference/forms/types/entity.html">entity</a></p></li><li id="r-423456" data-claire-element-id="423456"><p id="r-423455" data-claire-element-id="423455"><a href="http://symfony.com/doc/current/reference/forms/types/country.html">country</a></p></li><li id="r-423458" data-claire-element-id="423458"><p id="r-423457" data-claire-element-id="423457"><a href="http://symfony.com/doc/current/reference/forms/types/language.html">language</a></p></li><li id="r-423460" data-claire-element-id="423460"><p id="r-423459" data-claire-element-id="423459"><a href="http://symfony.com/doc/current/reference/forms/types/locale.html">locale</a></p></li><li id="r-423462" data-claire-element-id="423462"><p id="r-423461" data-claire-element-id="423461"><a href="http://symfony.com/doc/current/reference/forms/types/timezone.html">timezone</a></p></li></ul></td><td id="r-423474" data-claire-element-id="423474"><ul id="r-423473" data-claire-element-id="423473"><li id="r-423466" data-claire-element-id="423466"><p id="r-423465" data-claire-element-id="423465"><a href="http://symfony.com/doc/current/reference/forms/types/date.html">date</a></p></li><li id="r-423468" data-claire-element-id="423468"><p id="r-423467" data-claire-element-id="423467"><a href="http://symfony.com/doc/current/reference/forms/types/datetime.html">datetime</a></p></li><li id="r-423470" data-claire-element-id="423470"><p id="r-423469" data-claire-element-id="423469"><a href="http://symfony.com/doc/current/reference/forms/types/time.html">time</a></p></li><li id="r-423472" data-claire-element-id="423472"><p id="r-423471" data-claire-element-id="423471"><a href="http://symfony.com/doc/current/reference/forms/types/birthday.html">birthday</a></p></li></ul></td><td id="r-423482" data-claire-element-id="423482"><ul id="r-423481" data-claire-element-id="423481"><li id="r-423476" data-claire-element-id="423476"><p id="r-423475" data-claire-element-id="423475"><a href="http://symfony.com/doc/current/reference/forms/types/checkbox.html">checkbox</a></p></li><li id="r-423478" data-claire-element-id="423478"><p id="r-423477" data-claire-element-id="423477"><a href="http://symfony.com/doc/current/reference/forms/types/file.html">file</a></p></li><li id="r-423480" data-claire-element-id="423480"><p id="r-423479" data-claire-element-id="423479"><a href="http://symfony.com/doc/current/reference/forms/types/radio.html">radio</a></p></li></ul></td><td id="r-423488" data-claire-element-id="423488"><ul id="r-423487" data-claire-element-id="423487"><li id="r-423484" data-claire-element-id="423484"><p id="r-423483" data-claire-element-id="423483"><a href="http://symfony.com/doc/current/reference/forms/types/collection.html">collection</a></p></li><li id="r-423486" data-claire-element-id="423486"><p id="r-423485" data-claire-element-id="423485"><a href="http://symfony.com/doc/current/reference/forms/types/repeated.html">repeated</a></p></li></ul></td><td id="r-423494" data-claire-element-id="423494"><ul id="r-423493" data-claire-element-id="423493"><li id="r-423490" data-claire-element-id="423490"><p id="r-423489" data-claire-element-id="423489"><a href="http://symfony.com/doc/current/reference/forms/types/hidden.html">hidden</a></p></li><li id="r-423492" data-claire-element-id="423492"><p id="r-423491" data-claire-element-id="423491"><a href="http://symfony.com/doc/current/reference/forms/types/csrf.html">csrf</a></p></li></ul></td><td id="r-423500" data-claire-element-id="423500"><ul id="r-423499" data-claire-element-id="423499"><li id="r-423496" data-claire-element-id="423496"><p id="r-423495" data-claire-element-id="423495"><a href="http://symfony.com/doc/current/reference/forms/types/field.html">field</a></p></li><li id="r-423498" data-claire-element-id="423498"><p id="r-423497" data-claire-element-id="423497"><a href="http://symfony.com/doc/current/reference/forms/types/form.html">form</a></p></li></ul></td></tr></tbody></table><h5 id="r-que-diriez-vous-d-afficher-notre-formulaire" data-claire-element-id="423514">Que diriez-vous d'afficher notre formulaire ?</h5><p id="r-423506" data-claire-element-id="423506">Pour cela, il nous faut passer l'objet <code data-claire-semantic="html+php">$form</code> à notre vue en lui demandant une vue de lui même grâce à la fonction 'createView()' :</p><pre id="r-423507" data-claire-element-id="423507"><code data-claire-semantic="html+php">&lt;?php 

return $this-&gt;render('tutoWelcomeBundle:Homepage:index.html.twig', array(
            'form' =&gt; $form-&gt;createView(),
        ));</code></pre><p id="r-423508" data-claire-element-id="423508">Ensuite, nous devons modifier notre template pour effectuer le rendue de notre formulaire :</p><pre id="r-423509" data-claire-element-id="423509"><code data-claire-semantic="html">&lt;form action=&quot;{{ path('task_new') }}&quot; method=&quot;post&quot; {{ form_enctype(form) }}&gt;
    {{ form_widget(form) }}

    {{ form_rest(form) }}

    &lt;input type=&quot;submit&quot; /&gt;
&lt;/form&gt;</code></pre><p id="r-423510" data-claire-element-id="423510">Le rendu de la variable <strong>{{ form_enctype(form) }}</strong> permet d'insérer directement l'enctype : enctype=&quot;multipart/form-data&quot;.<br/> Le rendu de la variable <strong>{{ form_rest(form) }}</strong> permet de terminer le rendu du formulaire pour vous en effectuent le rendu des champs que vous n'avez pas encore affiché. Il se place à la fin du formulaire et permet accessoirement de générer automatiquement le champ caché <strong>csrf </strong>afin de <strong>protéger correctement nos formulaires</strong>.</p><p id="r-423511" data-claire-element-id="423511">Nous pouvons facilement personnaliser le rendu de nos formulaire en affichant les champs un par un :</p><pre id="r-423512" data-claire-element-id="423512"><code data-claire-semantic="html">{{ form_label(form.titre, 'Titre') }}
{{ form_widget(form.titre, { 'attr': {'class': 'class_css_du_champ_titre'} }) }}</code></pre><p id="r-423513" data-claire-element-id="423513">Facile n'est-ce pas ? Vous remarquerez toute la puissance de TWIG qui nous permet d'ajouter facilement des attributs à nos différents objets. :)</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">
<span class="arrow"></span>
<span class="next">Vos premiers pas avec les formulaires</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
<span class="next">Passage à la pratique : un formulaire de contact</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Passagelapratiqueunformulairedecontact"></a><h2>Passage à la pratique : un formulaire de contact</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
<span class="arrow"></span>
<span class="next">Une interaction plus évoluée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
<span class="next">Traiter les données reçues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-passage-a-la-pratique-un-formulaire-de-contact" data-claire-element-id="423561">Passage à la pratique : un formulaire de contact</h4><p id="r-423516" data-claire-element-id="423516">Vous en avez assez vu ? Vous voulez faire un beau formulaire de contact pour votre tout nouveau site ? Alors c'est parti !</p><h5 id="r-la-creation-du-formulaire" data-claire-element-id="423549">La création du formulaire</h5><p id="r-423517" data-claire-element-id="423517">Plusieurs étapes que vous connaissez sont un passage obligatoire :</p><ul id="r-423524" data-claire-element-id="423524"><li id="r-423519" data-claire-element-id="423519"><p id="r-423518" data-claire-element-id="423518">Création du contrôleur</p></li><li id="r-423521" data-claire-element-id="423521"><p id="r-423520" data-claire-element-id="423520">Création de la route</p></li><li id="r-423523" data-claire-element-id="423523"><p id="r-423522" data-claire-element-id="423522">Création du template</p></li></ul><p id="r-423525" data-claire-element-id="423525">Rien de compliquer jusqu'à présent. Si vous avez un doute, n'hésitez pas à vous référer aux précédents chapitres.</p><h6 id="r-un-peu-de-bonnes-pratiques" data-claire-element-id="423548">Un peu de bonnes pratiques</h6><p id="r-423526" data-claire-element-id="423526">Créer un formulaire directement dans le contrôleur, c'est simple, mais pas réellement propre et organisé. L'idée, c'est de réunir nos différents formulaire dans un dossier dédié en faisant une classe pour chacun d'entre eux.<br/> Première étape, créer un dossier 'Form' à la racine de votre bundle puis un dossier appelé 'Type'. Créez ensuite une classe appelée ContactType dans ce dernier.<br/> Notre classe va hériter de la classe abstraite AbstractType (Symfony\Component\Form\AbstractType). Une nouvelle fois, je vous recommande vivement de faire un petit tour dans cette classe afin de voir toutes les fonctions qu'il est possible d'implémenter facilement.<br/> Une fonction en particulier va nous intéresser : <code data-claire-semantic="html+php">public function buildForm(FormBuilder $builder, array $options);</code>.<br/> Elle va nous permettre de construire notre formulaire à l'aide du FormBuilder.</p><p id="r-423527" data-claire-element-id="423527">Nous avons besoin d'un formulaire de contact, nous avons donc besoin des champs suivant au minimum :</p><ul id="r-423534" data-claire-element-id="423534"><li id="r-423529" data-claire-element-id="423529"><p id="r-423528" data-claire-element-id="423528">Email</p></li><li id="r-423531" data-claire-element-id="423531"><p id="r-423530" data-claire-element-id="423530">Sujet</p></li><li id="r-423533" data-claire-element-id="423533"><p id="r-423532" data-claire-element-id="423532">Contenu</p></li></ul><pre id="r-423535" data-claire-element-id="423535"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Form/Type/ContactType.php

namespace tuto\WelcomeBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class ContactType extends AbstractType
{
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder-&gt;add('email', 'email')
                -&gt;add('subject', 'text')
                -&gt;add('content', 'textarea');
    }

    public function getName()
    {
        return 'Contact';
    }
}
?&gt;</code></pre><p id="r-423536" data-claire-element-id="423536">Pour chacune de vos classes, n'oubliez pas de définir le namespace dans lequel elle se situe. On reprend généralement l'arborescence de dossier correspondant à l'emplacement de notre classe.</p><p id="r-423537" data-claire-element-id="423537">Une autre fonction va nous être utile <code data-claire-semantic="html+php">public function getName();</code>. <br/> Elle permet d'identifier le formulaire par un simple nom.</p><p id="r-423538" data-claire-element-id="423538">Revenons à notre contrôleur fraîchement créé, ajoutons la ligne suivante afin de récupérer le formulaire en question :</p><pre id="r-423539" data-claire-element-id="423539"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

$form = $this-&gt;get('form.factory')-&gt;create(new ContactType());</code></pre><p id="r-423540" data-claire-element-id="423540">Nous faisons appel au service 'form.factory'. Ce service permet de créer un formulaire à partir d'une classe respectant le contrat de l'interface FormTypeInterface qui est implémentée par la classe abstraite que notre classe de formulaire étend. La form factory offre tout le necessaire pour instancier le formulaire à voter place à partir d'un FormTypeInterface. Nous faisons appel à la méthode 'create' qui se charge simplement de créer le formulaire de manière basique. Il est possible de passer diverses options à ce service, pour connaitre l'étendue des méthodes disponible et des options je vous suggère d'aller consulter la classe en question située ici : <strong>vendor/symfony/src/Symfony/Component/Form/FormFactory</strong>.</p><p id="r-423541" data-claire-element-id="423541">N'oubliez pas d'inclure la classe de votre formulaire afin de pouvoir s'en servir :</p><pre id="r-423542" data-claire-element-id="423542"><code data-claire-semantic="html+php">&lt;?php
use tuto\WelcomeBundle\Form\Type\ContactType;</code></pre><p id="r-423543" data-claire-element-id="423543">Vous avez toutes les clés en mains pour maintenant effectuer le rendu de votre formulaire dans un template !</p><figure id="r-423545" data-claire-element-id="423546"><img id="r-423544" data-claire-element-id="423544" src="medias/uploads.siteduzero.com_files_359001_360000_359637.png" alt="Image utilisateur"/></figure><p id="r-423547" data-claire-element-id="423547"><em>Le résultat final</em></p><h5 id="r-imbriquez-vos-formulaires" data-claire-element-id="423560">Imbriquez vos formulaires !</h5><aside id="r-423551" data-claire-element-id="423551" data-claire-semantic="information"><p id="r-423550" data-claire-element-id="423550">Cet aparté n'a pas de lien direct avec le TP actuel. Cependant, il est nécessaire pour moi de vous informer de cette possibilité dès maintenant, au cas où vous voudriez jouer un peu avec tout ces formulaires :p</p></aside><p id="r-423552" data-claire-element-id="423552">Imbriquer des formulaires ? Rien de plus simple. Définissez vos différentes classes et ajoutez les comme suis à votre formulaire :</p><pre id="r-423553" data-claire-element-id="423553"><code data-claire-semantic="html+php">&lt;?php
public function buildForm(FormBuilder $builder, array $options)
{
    // ...

    $builder-&gt;add('otherForm', new otherFormType());
}</code></pre><p id="r-423554" data-claire-element-id="423554">Pour afficher ce formulaire imbriqué, procedez comme cela :</p><pre id="r-423555" data-claire-element-id="423555"><code data-claire-semantic="html">&lt;h3&gt;otherForm&lt;/h3&gt;
&lt;div class=&quot;form&quot;&gt;
    {{ form_row(form.otherForm.field_name) }}
&lt;/div&gt;

{{ form_rest(form) }}</code></pre><p id="r-423556" data-claire-element-id="423556">Que diriez-vous d'ajouter une collection de formulaire ?</p><pre id="r-423557" data-claire-element-id="423557"><code data-claire-semantic="html+php">&lt;?php
$builder-&gt;add('otherForms', 'collection', array('type' =&gt; new otherFormType()));</code></pre><p id="r-423558" data-claire-element-id="423558">Le rendu diffère un peu :</p><pre id="r-423559" data-claire-element-id="423559"><code data-claire-semantic="html">&lt;h3&gt;OtherForm&lt;/h3&gt;
&lt;ul class=&quot;form&quot;&gt;
    {% for otherForm in form.otherForms %}
        &lt;li&gt;{{ form_row(otherForm.field_name) }}&lt;/li&gt;
    {% endfor %}
&lt;/ul&gt;

{{ form_rest(form) }}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
<span class="arrow"></span>
<span class="next">Une interaction plus évoluée</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
<span class="next">Traiter les données reçues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Traiterlesdonnesreues"></a><h2>Traiter les données reçues</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
<span class="arrow"></span>
<span class="next">Passage à la pratique : un formulaire de contact</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
<span class="next">Un peu de bonnes pratiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-traiter-les-donnees-recues" data-claire-element-id="423589">Traiter les données reçues</h4><h5 id="r-mais-il-ne-fait-rien-mon-formulaire" data-claire-element-id="423574">Mais il ne fait rien mon formulaire ?</h5><p id="r-423562" data-claire-element-id="423562">Effectivement, pour l'instant il ne se passe pas grand chose lorsque l'on valide...<br/> C'est principalement dans le contrôleur que nous allons passer notre temps afin de traiter les données reçues via notre formulaire.<br/> Pour ce faire, nous allons utiliser le même contrôleur qui nous a servi pour l'affichage du formulaire. Ceci se justifie assez facilement, en effet, le code ne va pas être trop lourd et dans tout les cas, nous allons avoir besoin du formulaire pour le traiter. Donc au temps se servir de ce que l'on a déjà écrit non ? Il faut toujours éviter la redondance dans notre code. <strong>Plus c'est propre, clair, concis et bien documenté, mieux c'est .</strong></p><div id="r-423564" data-claire-element-id="423564" data-claire-semantic="question"><p id="r-423563" data-claire-element-id="423563">Que se passe-t-il lorsque nous validons un formulaire ?</p></div><p id="r-423565" data-claire-element-id="423565">C'est très simple, une requête est envoyée à l'url spécifiée dans l'action du formulaire. Dans notre cas, nous l'envoyons vers l'action de contact. C'est donc avec un objet de type requête que nous allons travailler. Vous l'avez déjà aperçu, l'objet Request est accessible depuis notre contrôleur soit en ajoutant le paramètre <code data-claire-semantic="html+php">Request $request</code> à notre action ou en faisant appel au service correspondant : <code data-claire-semantic="html+php">$this-&gt;get('request');</code>.</p><div id="r-423567" data-claire-element-id="423567" data-claire-semantic="question"><p id="r-423566" data-claire-element-id="423566">Comment savoir si le formulaire doit être affiché ou s'il viens d'être soumis ?</p></div><p id="r-423568" data-claire-element-id="423568">C'est une question très pertinente qui se pose. C'est là que l'objet Request intervient. Un formulaire soumis est envoyé via une requête HTTP avec la méthode POST, contrairement à un affichage de données simple qui correspond à la méthode HTTP GET. Faisons le test dans notre contrôleur :</p><pre id="r-423569" data-claire-element-id="423569"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

// Check the method
if ('POST' === $request-&gt;getMethod())
{
    // The http request is of type POST
}</code></pre><p id="r-423570" data-claire-element-id="423570">Pour récupérer les données d'un formulaire soumis il suffit de faire ce qu'on appel un 'bind' de ce dernier. Il s'agit simplement de le charger avec les données reçue en POST de la requête HTTP.</p><pre id="r-423571" data-claire-element-id="423571"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

// Bind value with form
$form-&gt;bindRequest($request);</code></pre><p id="r-423572" data-claire-element-id="423572">Enfin, il convient de récupérer les données de ce dernier afin de s'amuser un peu avec celles-ci.</p><pre id="r-423573" data-claire-element-id="423573"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

$data = $form-&gt;getData();</code></pre><h5 id="r-un-formulaire-de-contact-c-est-aussi-et-surtout-un-envoi-de-mail-non" data-claire-element-id="423585">Un formulaire de contact, c'est aussi et surtout un envoi de mail, non ?</h5><p id="r-423575" data-claire-element-id="423575">Nous y arrivons, pour cela nous allons utiliser un bundle intégré nativement dans les librairies de Symfony : <a href="http://swiftmailer.org/"><strong>SwiftMailer</strong></a>.<br/> SwiftMailer est une librairie PHP permettant d'envoyer facilement des emails sans se prendre la tête ! Intéressant non ?<br/> Néanmois, l'outil nécessite un poil de configuration pour s'adapter à vos moindres exigences. Dans ce tutoriel, je vous propose d'utiliser votre adresse gmail pour envoyer vos mails. Pour les plus curieux, je vous renvoie évidement vers <a href="http://swiftmailer.org/docs/introduction.html">la documentation officielle de SwiftMailer</a>, mais aussi vers les quelques <a href="http://symfony.com/doc/current/cookbook/email/email.html">cookbook de Symfony</a>.</p><p id="r-423576" data-claire-element-id="423576">Je vous donne rendez-vous dans le fichier parameters.ini pour y renseigner les informations concernant votre compte Gmail :</p><pre id="r-423577" data-claire-element-id="423577"><code data-claire-semantic="yaml"># app/config/parameters.ini

mailer_transport=&quot;gmail&quot;
mailer_host=&quot;localhost&quot;
mailer_user=&quot;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="dba3a3a3a3a39bbcb6bab2b7f5b8b4b6">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&quot;
mailer_password=&quot;xxxxx&quot;</code></pre><p id="r-423578" data-claire-element-id="423578">Rajoutez ensuite ces quelques dernières lignes de configuration dans votre fichier de configuration, config.yml :</p><pre id="r-423579" data-claire-element-id="423579"><code data-claire-semantic="yaml"># app/config/config.yml

swiftmailer:
    transport:  %mailer_transport%
    username:   %mailer_user%
    password:   %mailer_password%</code></pre><p id="r-423580" data-claire-element-id="423580">Retournons dans notre contrôleur pour envoyer notre email :</p><pre id="r-423581" data-claire-element-id="423581"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

$message = \Swift_Message::newInstance()
                    -&gt;setContentType('text/html')
                    -&gt;setSubject($data['subject'])
                    -&gt;setFrom($data['email'])
                    -&gt;setTo('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="e0989898989898a0878d81898cce838f8d">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>')
                    -&gt;setBody($data['content']);

$this-&gt;get('mailer')-&gt;send($message);</code></pre><p id="r-423582" data-claire-element-id="423582">Rien de compliqué n'est-ce pas ? Ça parait tellement simple vue comme ça. ^^</p><aside id="r-423584" data-claire-element-id="423584" data-claire-semantic="information"><p id="r-423583" data-claire-element-id="423583">Pour se connecter à Gmail via notre application web, il est nécessaire d'activer l'extension <strong>php_openssl</strong>.</p></aside><h5 id="r-le-resultat-final-4" data-claire-element-id="423588">Le résultat final</h5><p id="r-423586" data-claire-element-id="423586">Bon, au final, qu'est-ce que nous obtenons ?</p><pre id="r-423587" data-claire-element-id="423587"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

namespace tuto\WelcomeBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use tuto\WelcomeBundle\Form\Type\ContactType;

class ContactController extends Controller
{

   /**
    * Contact
    *
    * @author Vincent Paulin
    */
    public function indexAction()
    {
        $form = $this-&gt;get('form.factory')-&gt;create(new ContactType());

         // Get the request
        $request = $this-&gt;get('request');

        // Check the method
        if ($request-&gt;getMethod() == 'POST')
        {
            // Bind value with form
            $form-&gt;bindRequest($request);

            $data = $form-&gt;getData();

            $message = \Swift_Message::newInstance()
                -&gt;setContentType('text/html')
                -&gt;setSubject($data['subject'])
                -&gt;setFrom($data['email'])
                -&gt;setTo('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="760e0e0e0e0e36111b171f1a5815191b">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>')
                -&gt;setBody($data['content']);

            $this-&gt;get('mailer')-&gt;send($message);

            // Launch the message flash
            $this-&gt;get('session')-&gt;setFlash('notice', 'Merci de nous avoir contacté, nous répondrons à vos questions dans les plus brefs délais.');
        }

        return $this-&gt;render('tutoWelcomeBundle:Contact:index.html.twig',
                array(
                    'form' =&gt; $form-&gt;createView(),
                ));

    }
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
<span class="arrow"></span>
<span class="next">Passage à la pratique : un formulaire de contact</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
<span class="next">Un peu de bonnes pratiques</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Unpeudebonnespratiques"></a><h2>Un peu de bonnes pratiques</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
<span class="arrow"></span>
<span class="next">Traiter les données reçues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">
<span class="next">Vérifiez et validez vos données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-un-peu-de-bonnes-pratiques-1" data-claire-element-id="423620">Un peu de bonnes pratiques</h4><p id="r-423590" data-claire-element-id="423590">Organiser son code est une chose essentielle pour pouvoir s'y retrouver facilement et le comprendre aisément.</p><h5 id="r-utiliser-un-handler-pour-traiter-les-formulaires" data-claire-element-id="423619">Utiliser un handler pour traiter les formulaires</h5><p id="r-423591" data-claire-element-id="423591">Ce que j'appelle handler, c'est un objet qui va nous permettre de séparer la gestion de notre formulaire. C'est à dire son traitement.<br/> C'est une bonne pratique qui consiste à ne pas noyer nos contrôleurs au cas où le traitement du formulaire deviendrai trop verbeux.</p><h6 id="r-creation-de-la-structure" data-claire-element-id="423595">Création de la structure</h6><p id="r-423592" data-claire-element-id="423592">Pour commencer, il nous faut un dossier ou ranger nos différents handlers. Créons le dossier 'Handler' dans le dossier 'Form'.<br/> Créez ensuite la classe ContactHandler :</p><pre id="r-423593" data-claire-element-id="423593"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Form/Handler/ContactHandler.php

namespace tuto\WelcomeBundle\Form\Handler;

/**
 * The ContactHandler.
 * Use for manage your form submitions
 *
 * @author Vincent Paulin
 */
class ContactHandler
{

    public function process()
    {}

    protected function onSuccess()
    {}
}</code></pre><p id="r-423594" data-claire-element-id="423594">J'ai choisi de créer deux fonctions dans cette classe. Une pour traiter la réception du formulaire et une seconde pour effectuer diverses tâche en cas de succès de l'envoie du formulaire.</p><h6 id="r-le-constructeur-17" data-claire-element-id="423605">Le constructeur</h6><p id="r-423596" data-claire-element-id="423596">De quoi a besoin ma classe pour fonctionner ?</p><ul id="r-423603" data-claire-element-id="423603"><li id="r-423598" data-claire-element-id="423598"><p id="r-423597" data-claire-element-id="423597">Le formulaire</p></li><li id="r-423600" data-claire-element-id="423600"><p id="r-423599" data-claire-element-id="423599">La requête http</p></li><li id="r-423602" data-claire-element-id="423602"><p id="r-423601" data-claire-element-id="423601">Un mailer pour envoyer notre mail de contact</p></li></ul><pre id="r-423604" data-claire-element-id="423604"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Form/Handler/ContactHandler.php

namespace tuto\WelcomeBundle\Form\Handler;

use Symfony\Component\Form\Form;
use Symfony\Component\HttpFoundation\Request;

/**
 * The ContactHandler.
 * Use for manage your form submitions
 *
 * @author Vincent Paulin
 */
class ContactHandler
{

    protected $request;
    protected $form;
    protected $mailer;

    /**
     * Initialize the handler with the form and the request
     *
     * @param Form $form
     * @param Request $request
     * @param $mailer
     * 
     */
    public function __construct(Form $form, Request $request, $mailer)
    {
        $this-&gt;form = $form;
        $this-&gt;request = $request;
        $this-&gt;mailer = $mailer;
    }

    public function process()
    {}

    protected function onSuccess()
    {}
}</code></pre><h6 id="r-le-traitement" data-claire-element-id="423610">Le traitement</h6><p id="r-423606" data-claire-element-id="423606">Passons à la réception du formulaire. Nous devons récupérer les données dans le cas où la requête est de type POST.</p><pre id="r-423607" data-claire-element-id="423607"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Form/Handler/ContactHandler.php

/**
 * Process form
 *
 * @return boolean
 */
public function process()
{
    // Check the method
    if ('POST' == $this-&gt;request-&gt;getMethod())
    {
        // Bind value with form
        $this-&gt;form-&gt;bindRequest($this-&gt;request);

        $data = $this-&gt;form-&gt;getData();
        $this-&gt;onSuccess($data);

        return true;
    }

    return false;
}</code></pre><p id="r-423608" data-claire-element-id="423608">Enfin, nous effectuons l'envoie de mail en cas de succès. Ce qui nous donne au final :</p><pre id="r-423609" data-claire-element-id="423609"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Form/Handler/ContactHandler.php

namespace tuto\WelcomeBundle\Form\Handler;

use Symfony\Component\Form\Form;
use Symfony\Component\HttpFoundation\Request;

/**
 * The ContactHandler.
 * Use for manage your form submitions
 *
 * @author Vincent Paulin
 */
class ContactHandler
{
    protected $request;
    protected $form;
    protected $mailer;

    /**
     * Initialize the handler with the form and the request
     *
     * @param Form $form
     * @param Request $request
     * @param $mailer
     * 
     */
    public function __construct(Form $form, Request $request, $mailer)
    {
        $this-&gt;form = $form;
        $this-&gt;request = $request;
        $this-&gt;mailer = $mailer;
    }

  /**
   * Process form
   *
   * @return boolean
   */
  public function process()
  {
      // Check the method
      if ('POST' == $this-&gt;request-&gt;getMethod())
      {
          // Bind value with form
          $this-&gt;form-&gt;bindRequest($this-&gt;request);

          $data = $this-&gt;form-&gt;getData();
          $this-&gt;onSuccess($data);

          return true;
      }

      return false;
  }

    /**
     * Send mail on success
     * 
     * @param array $data
     * 
     */
    protected function onSuccess($data)
    {
        $message = \Swift_Message::newInstance()
                    -&gt;setContentType('text/html')
                    -&gt;setSubject($data['subject'])
                    -&gt;setFrom($data['email'])
                    -&gt;setTo('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="e69e9e9e9e9e9ea6818b878f8ac885898b">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>')
                    -&gt;setBody($data['content']);

        $this-&gt;mailer-&gt;send($message);
    }
}</code></pre><h6 id="r-allegeons-le-controleur" data-claire-element-id="423618">Allégeons le contrôleur</h6><p id="r-423611" data-claire-element-id="423611">Il s'agit de faire un peu de ménage dans le contrôleur pour utiliser notre tout nouveau handler :</p><pre id="r-423612" data-claire-element-id="423612"><code data-claire-semantic="html+php">&lt;?php
# src/tuto/WelcomeBundle/Controller/ContactController.php

namespace tuto\WelcomeBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;
use tuto\WelcomeBundle\Form\Handler\ContactHandler;

class ContactController extends Controller
{

   /**
    * Contact
    *
    * @author Vincent Paulin
    */
    public function indexAction()
    {
        $form = $this-&gt;get('form.factory')-&gt;create(new ContactType());

         // Get the request
        $request = $this-&gt;get('request');

        // Get the handler
        $formHandler = new ContactHandler($form, $request, $this-&gt;get('mailer'));

        $process = $formHandler-&gt;process();

        if ($process)
        {
            // Launch the message flash
            $this-&gt;get('session')-&gt;setFlash('notice', 'Merci de nous avoir contacté, nous répondrons à vos questions dans les plus brefs délais.');
        }

        return $this-&gt;render('tutoWelcomeBundle:Contact:index.html.twig',
                array(
                    'form' =&gt; $form-&gt;createView(),
                    'hasError' =&gt; $request-&gt;getMethod() == 'POST' &amp;&amp; !$form-&gt;isValid()
                ));

    }
}</code></pre><p id="r-423613" data-claire-element-id="423613">On appelle la methode 'process' de notre handler et hop ! Le tour est joué. <strong>C'est clair, c'est propre et c'est structuré.</strong></p><aside id="r-423615" data-claire-element-id="423615" data-claire-semantic="information"><p id="r-423614" data-claire-element-id="423614">Une fois encore, retrouvez l'intégralité des sources sur <a href="https://github.com/Genokilller/Tutorial-Symfony2-SdZ">le repository Github</a>.</p></aside><p id="r-423616" data-claire-element-id="423616">Au cours de ce chapitre, vous avez appris à créer facilement des formulaire et ce, de manière propre. Vous devriez remarquer un manque dans la sécurité du formulaire. Aucun processus de validation n'est présent. Délicat n'est-ce pas ? Qu'attendons nous ?</p><p id="r-423617" data-claire-element-id="423617">Passons de suite à la validation de données avec la lecture du prochain chapitre !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
<span class="arrow"></span>
<span class="next">Traiter les données reçues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">
<span class="next">Vérifiez et validez vos données</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Vrifiezetvalidezvosdonnes"></a><h2>Vérifiez et validez vos données</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
<span class="arrow"></span>
<span class="next">Un peu de bonnes pratiques</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
<span class="next">Que peut-on valider et avec quoi ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423622" data-claire-element-id="423622">Nous avons des objets, plus ou moins complexes. Les formulaires sont des objets, une requête est un objet dans Symfony, pratiquement tout est objet. Nous avons la main libre sur la plupart d'entre eux. Cependant, il faut être vigilant et savoir mettre des restriction aux bons endroits afin de conserver une application stable et sécurisée. C'est là tout l'enjeu des validateurs.</p>
</div><a name="Quepeut-onvalideretavecquoi"></a><h2>Que peut-on valider et avec quoi ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">
<span class="arrow"></span>
<span class="next">Vérifiez et validez vos données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
<span class="next">La validation d&#039;objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-que-peut-on-valider-et-avec-quoi" data-claire-element-id="423729">Que peut-on valider et avec quoi ?</h4><p id="r-423623" data-claire-element-id="423623">Qu'est-ce que nous avons à valider dans une application ? Eh bien des objets pardi !<br/> Plus précisément, se sont chacune des propriétés de nos objets que nous allons pouvoir valider et ce, d'une manière très simple grâce aux système de validation de Symfony et ses validateurs.</p><h5 id="r-liste-des-validateurs-disponibles" data-claire-element-id="423715">Liste des validateurs disponibles</h5><table id="r-423714" data-claire-element-id="423714"><thead id="r-423639" data-claire-element-id="423639"><tr id="r-423638" data-claire-element-id="423638"><th id="r-423625" data-claire-element-id="423625"><p id="r-423624" data-claire-element-id="423624">Contraintes standardes</p></th><th id="r-423627" data-claire-element-id="423627"><p id="r-423626" data-claire-element-id="423626">Contraintes sur le texte</p></th><th id="r-423629" data-claire-element-id="423629"><p id="r-423628" data-claire-element-id="423628">Contraintes sur les nombres</p></th><th id="r-423631" data-claire-element-id="423631"><p id="r-423630" data-claire-element-id="423630">Contraintes sur les dates</p></th><th id="r-423633" data-claire-element-id="423633"><p id="r-423632" data-claire-element-id="423632">Contraintes sur les collections</p></th><th id="r-423635" data-claire-element-id="423635"><p id="r-423634" data-claire-element-id="423634">Contraintes sur les fichiers</p></th><th id="r-423637" data-claire-element-id="423637"><p id="r-423636" data-claire-element-id="423636">Autres contraintes</p></th></tr></thead><tbody id="r-423713" data-claire-element-id="423713"><tr id="r-423712" data-claire-element-id="423712"><td id="r-423655" data-claire-element-id="423655"><ul id="r-423654" data-claire-element-id="423654"><li id="r-423641" data-claire-element-id="423641"><p id="r-423640" data-claire-element-id="423640"><a href="http://symfony.com/doc/current/reference/constraints/NotBlank.html">NotBlank</a></p></li><li id="r-423643" data-claire-element-id="423643"><p id="r-423642" data-claire-element-id="423642"><a href="http://symfony.com/doc/current/reference/constraints/Blank.html">Blank</a></p></li><li id="r-423645" data-claire-element-id="423645"><p id="r-423644" data-claire-element-id="423644"><a href="http://symfony.com/doc/current/reference/constraints/NotNull.html">NotNull</a></p></li><li id="r-423647" data-claire-element-id="423647"><p id="r-423646" data-claire-element-id="423646"><a href="http://symfony.com/doc/current/reference/constraints/Null.html">Null</a></p></li><li id="r-423649" data-claire-element-id="423649"><p id="r-423648" data-claire-element-id="423648"><a href="http://symfony.com/doc/current/reference/constraints/True.html">True</a></p></li><li id="r-423651" data-claire-element-id="423651"><p id="r-423650" data-claire-element-id="423650"><a href="http://symfony.com/doc/current/reference/constraints/False.html">False</a></p></li><li id="r-423653" data-claire-element-id="423653"><p id="r-423652" data-claire-element-id="423652"><a href="http://symfony.com/doc/current/reference/constraints/Type.html">Type</a></p></li></ul></td><td id="r-423669" data-claire-element-id="423669"><ul id="r-423668" data-claire-element-id="423668"><li id="r-423657" data-claire-element-id="423657"><p id="r-423656" data-claire-element-id="423656"><a href="http://symfony.com/doc/current/reference/constraints/Email.html">Email</a></p></li><li id="r-423659" data-claire-element-id="423659"><p id="r-423658" data-claire-element-id="423658"><a href="http://symfony.com/doc/current/reference/constraints/MinLength.html">MinLength</a></p></li><li id="r-423661" data-claire-element-id="423661"><p id="r-423660" data-claire-element-id="423660"><a href="http://symfony.com/doc/current/reference/constraints/MaxLength.html">MaxLength</a></p></li><li id="r-423663" data-claire-element-id="423663"><p id="r-423662" data-claire-element-id="423662"><a href="http://symfony.com/doc/current/reference/constraints/Url.html">Url</a></p></li><li id="r-423665" data-claire-element-id="423665"><p id="r-423664" data-claire-element-id="423664"><a href="http://symfony.com/doc/current/reference/constraints/Regex.html">Regex</a></p></li><li id="r-423667" data-claire-element-id="423667"><p id="r-423666" data-claire-element-id="423666"><a href="http://symfony.com/doc/current/reference/constraints/Ip.html">Ip</a></p></li></ul></td><td id="r-423675" data-claire-element-id="423675"><ul id="r-423674" data-claire-element-id="423674"><li id="r-423671" data-claire-element-id="423671"><p id="r-423670" data-claire-element-id="423670"><a href="http://symfony.com/doc/current/reference/constraints/Max.html">Max</a></p></li><li id="r-423673" data-claire-element-id="423673"><p id="r-423672" data-claire-element-id="423672"><a href="http://symfony.com/doc/current/reference/constraints/Min.html">Min</a></p></li></ul></td><td id="r-423683" data-claire-element-id="423683"><ul id="r-423682" data-claire-element-id="423682"><li id="r-423677" data-claire-element-id="423677"><p id="r-423676" data-claire-element-id="423676"><a href="http://symfony.com/doc/current/reference/constraints/Date.html">Date</a></p></li><li id="r-423679" data-claire-element-id="423679"><p id="r-423678" data-claire-element-id="423678"><a href="http://symfony.com/doc/current/reference/constraints/DateTime.html">DateTime</a></p></li><li id="r-423681" data-claire-element-id="423681"><p id="r-423680" data-claire-element-id="423680"><a href="http://symfony.com/doc/current/reference/constraints/Time.html">Time</a></p></li></ul></td><td id="r-423697" data-claire-element-id="423697"><ul id="r-423696" data-claire-element-id="423696"><li id="r-423685" data-claire-element-id="423685"><p id="r-423684" data-claire-element-id="423684"><a href="http://symfony.com/doc/current/reference/constraints/Choice.html">Choice</a></p></li><li id="r-423687" data-claire-element-id="423687"><p id="r-423686" data-claire-element-id="423686"><a href="http://symfony.com/doc/current/reference/constraints/Collection.html">Collection</a></p></li><li id="r-423689" data-claire-element-id="423689"><p id="r-423688" data-claire-element-id="423688"><a href="http://symfony.com/doc/current/reference/constraints/UniqueEntity.html">UniqueEntity</a></p></li><li id="r-423691" data-claire-element-id="423691"><p id="r-423690" data-claire-element-id="423690"><a href="http://symfony.com/doc/current/reference/constraints/Language.html">Language</a></p></li><li id="r-423693" data-claire-element-id="423693"><p id="r-423692" data-claire-element-id="423692"><a href="http://symfony.com/doc/current/reference/constraints/Locale.html">Locale</a></p></li><li id="r-423695" data-claire-element-id="423695"><p id="r-423694" data-claire-element-id="423694"><a href="http://symfony.com/doc/current/reference/constraints/Country.html">Country</a></p></li></ul></td><td id="r-423703" data-claire-element-id="423703"><ul id="r-423702" data-claire-element-id="423702"><li id="r-423699" data-claire-element-id="423699"><p id="r-423698" data-claire-element-id="423698"><a href="http://symfony.com/doc/current/reference/constraints/File.html">File</a></p></li><li id="r-423701" data-claire-element-id="423701"><p id="r-423700" data-claire-element-id="423700"><a href="http://symfony.com/doc/current/reference/constraints/Image.html">Image</a></p></li></ul></td><td id="r-423711" data-claire-element-id="423711"><ul id="r-423710" data-claire-element-id="423710"><li id="r-423705" data-claire-element-id="423705"><p id="r-423704" data-claire-element-id="423704"><a href="http://symfony.com/doc/current/reference/constraints/Callback.html">Callback</a></p></li><li id="r-423707" data-claire-element-id="423707"><p id="r-423706" data-claire-element-id="423706"><a href="http://symfony.com/doc/current/reference/constraints/All.html">All</a></p></li><li id="r-423709" data-claire-element-id="423709"><p id="r-423708" data-claire-element-id="423708"><a href="http://symfony.com/doc/current/reference/constraints/Valid.html">Valid</a></p></li></ul></td></tr></tbody></table><h5 id="r-comment-s-en-servir-2" data-claire-element-id="423728">Comment s'en servir ?</h5><h6 id="r-ajouter-des-validateurs-a-la-creation-du-formulaire" data-claire-element-id="423727">Ajouter des validateurs à la création du formulaire</h6><p id="r-423716" data-claire-element-id="423716">Reprenons notre formulaire de contact et ajoutons lui quelques validateurs. Dans votre classe ContactType, ajoutez la fonction suivante :</p><pre id="r-423717" data-claire-element-id="423717"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Type/ContactType.php

# Ajoutez les composant nécessaires au début du fichier
use Symfony\Component\Validator\Constraints\Collection;
use Symfony\Component\Validator\Constraints\Email;
use Symfony\Component\Validator\Constraints\MinLength;
use Symfony\Component\Validator\Constraints\MaxLength;

# Modifiez la méthode getDefaultOptions
public function getDefaultOptions(array $options)
{
    $collectionConstraint = new Collection(array(
        'email' =&gt; new Email(array('message' =&gt; 'Adresse email invalide')),
        'subject' =&gt; array(new MinLength(array('limit' =&gt; 5, 'message' =&gt; 'Sujet trop court')), new MaxLength(array('limit' =&gt; 140, 'message' =&gt; 'Sujet trop long'))),
        'content' =&gt; new MinLength(array('limit' =&gt; 40, 'message' =&gt; 'Contenu trop court')),
    ));

    return array('validation_constraint' =&gt; $collectionConstraint);
}</code></pre><p id="r-423718" data-claire-element-id="423718">Agrémentez votre handler du processus de validation avec la methode $form-&gt;isValid() :</p><pre id="r-423719" data-claire-element-id="423719"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Handler/ContactHandler.php

/**
 * Process form
 *
 * @return boolean
 */
public function process()
{
    // Check the method
    if ('POST' == $this-&gt;request-&gt;getMethod())
    {
        // Bind value with form
        $this-&gt;form-&gt;bindRequest($this-&gt;request);

        if ($this-&gt;form-&gt;isValid()) {

            $contact = $this-&gt;form-&gt;getData();
            $this-&gt;onSuccess($contact);

            return true;
        }
    }

    return false;
}</code></pre><p id="r-423720" data-claire-element-id="423720">Puis dans notre template ajoutons l'affichage des erreurs à chacun de nos champs :</p><pre id="r-423721" data-claire-element-id="423721"><code data-claire-semantic="html">&lt;!-- src/WelcomeBundle/Ressources/views/Contact/index.html.twig --&gt;

&lt;form action=&quot;{{ path('tutoWelcomeBundle_contact') }}&quot; method=&quot;post&quot; {{ form_enctype(form) }}&gt;

    {{ form_errors(form.email) }}
    {{ form_widget(form.email, { 'attr':{'placeholder': 'Email' }}) }}

    {{ form_errors(form.subject) }}
    {{ form_widget(form.subject, { 'attr':{'placeholder': 'Sujet' }}) }}

    {{ form_errors(form.content) }}
    {{ form_widget(form.content, { 'attr':{'placeholder': 'Contenu'}}) }}

    {{ form_rest(form) }}

    &lt;input type=&quot;submit&quot; value=&quot;Envoyez&quot;/&gt;

&lt;/form&gt;</code></pre><figure id="r-423723" data-claire-element-id="423724"><img id="r-423722" data-claire-element-id="423722" src="medias/uploads.siteduzero.com_files_360001_361000_360394.jpg" alt="Image utilisateur"/></figure><p id="r-423725" data-claire-element-id="423725"><em>Les messages d'erreur apparaissent à la moindre faute</em></p><p id="r-423726" data-claire-element-id="423726"><strong>Rien de compliqué n'est-ce pas ?</strong></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">
<span class="arrow"></span>
<span class="next">Vérifiez et validez vos données</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
<span class="next">La validation d&#039;objets</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Lavalidationd039objets"></a><h2>La validation d&#039;objets</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
<span class="arrow"></span>
<span class="next">Que peut-on valider et avec quoi ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
<span class="next">Des validateurs complexes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-la-validation-d-objets" data-claire-element-id="423753">La validation d'objets</h4><p id="r-423730" data-claire-element-id="423730">Une autre méthode plus propre et plus couramment utilisée est la validation via la création d'objets. Vous travaillerez très souvent avec un objet pour pouvoir le traiter correctement. La validation peut aussi être inclue dans nos objets afin d'être centralisée et facilement lisible.</p><h5 id="r-la-creation-de-l-objet" data-claire-element-id="423733">La création de l'objet</h5><p id="r-423731" data-claire-element-id="423731">Partons à nouveau de notre page de contact. Nous allons externaliser la validation dans un objet Contact.<br/> Créez un dossier que vous nommerez Model dans votre dossier Form. Rien ne vous empêche de créer le dossier de votre choix et d'ainsi structurer vos objets métiers comme bon vous semble, ce n'est qu'une suggestion. Adaptez simplement le nom du namespace.<br/> Créez y la classe Contact dans le fichier Contact.php. Pour être reconnu, votre fichier doit porter le même nom que votre classe. Et ce n'est pas un luxe d'adopter cette bonne pratique. ;)</p><pre id="r-423732" data-claire-element-id="423732"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Model/Contact.php

namespace tuto\WelcomeBundle\Form\Model;

class Contact
{
    /**
     * Email
     * @var string
     */
    protected $email;

    /**
     * Subject
     * @var string
     */
    protected $subject;

    /**
     * Content
     * @var string
     */
    protected $content;

    public function getEmail() {
      return $this-&gt;email;
    }

    public function setEmail($email) {
      $this-&gt;email = $email;
    }

    public function getSubject() {
      return $this-&gt;subject;
    }

    public function setSubject($subject) {
      $this-&gt;subject = $subject;
    }

    public function getContent() {
      return $this-&gt;content;
    }

    public function setContent($content) {
      $this-&gt;content = $content;
    }
}</code></pre><h5 id="r-la-validation-via-le-fichier-de-validation" data-claire-element-id="423744">La validation via le fichier de validation</h5><p id="r-423734" data-claire-element-id="423734">Ensuite, c'est dans votre dossier Ressources/config que ça se passe. Plus précisément dans le fichier validation.yml. Il est bien évidement possible d'écrire ce derniers en xml, libre à vous de faire votre choix. J'ai pour ma part adopter le yml.</p><pre id="r-423735" data-claire-element-id="423735"><code data-claire-semantic="yaml"># src/WelcomeBundle/Ressources/config/validation.yml

tuto\WelcomeBundle\Form\Model\Contact:
    properties:
        email:
            - Email: { message: &quot;Email invalide&quot; }
        subject:
            - MinLength:  { limit: 5, message: &quot;Le sujet est trop court, il doit faire au moins {{ limit }} caractères.&quot; }
            - MaxLength:  { limit: 140, message: &quot;Le sujet est trop long, il doit faire au maximum {{ limit }} caractères.&quot; }
        content:
            - MinLength:  { limit: 40, message: &quot;Le contenu est trop court, il doit faire au moins {{ limit }} caractères.&quot;  }</code></pre><p id="r-423736" data-claire-element-id="423736">Retournez dans votre classe ContactType et modifiez la methode getDefaultOptions() pour lier votre formulaire à la classe Contact :</p><pre id="r-423737" data-claire-element-id="423737"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Type/ContactType.php

public function getDefaultOptions(array $options)
{
    return array(
        'data_class' =&gt; 'tuto\WelcomeBundle\Form\Model\Contact',
    );
}</code></pre><p id="r-423738" data-claire-element-id="423738">Enfin, modifiez en conséquence votre handler pour y ajouter votre objet dans le traitement du formulaire. Ce n'est plus un array que nous avons à traiter mais un objet Contact !</p><pre id="r-423739" data-claire-element-id="423739"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Handler/ContactHandler.php

// Ajoutez la dépendance au début du fichier
use tuto\WelcomeBundle\Form\Model\Contact;

// Renommez un peu vos variables dans la fonction process
if ($this-&gt;form-&gt;isValid()) {

    $contact = $this-&gt;form-&gt;getData();
    $this-&gt;onSuccess($contact);

    return true;
} 

// Modifiez enfin la methode onSuccess()
/**
 * Send mail on success
 * 
 * @param Contact $contact
 * 
 */
protected function onSuccess(Contact $contact)
{
    $message = \Swift_Message::newInstance()
                -&gt;setContentType('text/html')
                -&gt;setSubject($contact-&gt;getSubject())
                -&gt;setFrom($contact-&gt;getEmail())
                -&gt;setTo('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="483030303030082f25292124662b2725">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>')
                -&gt;setBody($contact-&gt;getContent());

    $this-&gt;mailer-&gt;send($message);
}</code></pre><figure id="r-423741" data-claire-element-id="423742"><img id="r-423740" data-claire-element-id="423740" src="medias/uploads.siteduzero.com_files_360001_361000_360401.jpg" alt="Image utilisateur"/></figure><p id="r-423743" data-claire-element-id="423743"><em>L'affichage d'erreurs via notre classe Contact</em></p><h5 id="r-la-validation-via-les-asserts" data-claire-element-id="423752">La validation via les asserts</h5><p id="r-423745" data-claire-element-id="423745">Une autre méthode est disponible pour ajouter les validateurs, les asserts.<br/> Pour cela, enlevez tout d'abord ce que vous avez fait en rapport à votre classe Contact dans le fichier de validation pour éviter tout conflit.<br/> Rendez-vous ensuite dans votre classe Contact, ajoutez les dépendances correspondantes et écrivez vos asserts de la manières suivante :</p><pre id="r-423746" data-claire-element-id="423746"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Model/Contact.php

namespace tuto\WelcomeBundle\Form\Model;

use Symfony\Component\Validator\Constraints as Assert;
use Symfony\Bridge\Doctrine\Validator\Constraints as DoctrineAssert;

class Contact
{
    /**
     * Email
     * @var string
     *
     * @Assert\Email()
     */
    protected $email;

    /**
     * Subject
     * @var string
     *
     * @Assert\MinLength(limit=5, message=&quot;Le sujet est trop court&quot;)
     * @Assert\MaxLength(limit=140, message=&quot;Le sujet est trop long&quot;)
     */
    protected $subject;

    /**
     * Content
     * @var string
     *
     * @Assert\MinLength(limit=40, message=&quot;Le contenu est trop court&quot;)
     */
    protected $content;

    public function getEmail() {
      return $this-&gt;email;
    }

    public function setEmail($email) {
      $this-&gt;email = $email;
    }

    public function getSubject() {
      return $this-&gt;subject;
    }

    public function setSubject($subject) {
      $this-&gt;subject = $subject;
    }

    public function getContent() {
      return $this-&gt;content;
    }

    public function setContent($content) {
      $this-&gt;content = $content;
    }
}</code></pre><p id="r-423747" data-claire-element-id="423747">Activez l'utilisation d'annotations dans la configuration de votre application :</p><pre id="r-423748" data-claire-element-id="423748"><code data-claire-semantic="yaml"># app/config/config.yml
framework:
    validation: { enable_annotations: true }</code></pre><p id="r-423749" data-claire-element-id="423749">En surchargeant notre documentation, nous avons réussi à implémenter facilement des validateurs.</p><aside id="r-423751" data-claire-element-id="423751" data-claire-semantic="information"><p id="r-423750" data-claire-element-id="423750">Il est aussi possible de gérer la validation d'objets directement dans les contrôleurs si vous en avez besoins. Néanmois, cette pratique doit être bien justifiée pour être dite 'propre'. De plus, toute la définition des validateurs peut elle aussi être créée dans un contrôleur, ce n'est pas réellement recommandé, mais je tiens tout de même à signaler cette possibilité. Pour plus de détails sur ces méthodes, je vous oriente vers la documentation officielle : <a href="http://symfony.com/doc/current/book/validation.html">http://symfony.com/doc/current/book/validation.html</a></p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
<span class="arrow"></span>
<span class="next">Que peut-on valider et avec quoi ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
<span class="next">Des validateurs complexes</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Desvalidateurscomplexes"></a><h2>Des validateurs complexes</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
<span class="arrow"></span>
<span class="next">La validation d&#039;objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">
<span class="next">Vous avez dit services ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-des-validateurs-complexes" data-claire-element-id="423785">Des validateurs complexes</h4><p id="r-423754" data-claire-element-id="423754">Je tiens à intervenir sur un dernier point à propos de la validation. Il est possible de personnaliser un peu notre validation grâce à différentes méthodes.</p><h5 id="r-valider-ses-donnees-avec-les-getters" data-claire-element-id="423761">Valider ses données avec les getters</h5><p id="r-423755" data-claire-element-id="423755">Qu'est-ce qu'un getter ? C'est une méthode de votre classe commençant par 'get' ou 'is'. Par exemple, 'isEmail($email)' est un getter.</p><p id="r-423756" data-claire-element-id="423756">Dans le fichier de validation, nous retrouvons ces quelques lignes :</p><pre id="r-423757" data-claire-element-id="423757"><code data-claire-semantic="yaml"># src/WelcomeBundle/Ressources/config/validation.yml

tuto\WelcomeBundle\Form\Model\Contact:
    getters:
        subjectValid:
            - &quot;True&quot;: { message: &quot;Le sujet ne doit pas être vide.&quot; }</code></pre><p id="r-423758" data-claire-element-id="423758">Puis, notre classe contact est agrémentée d'un simple petit getter qui doit retourner un booléen. Oui, c'est un validateur, on répond donc par vrai ou faux ^^ :</p><pre id="r-423759" data-claire-element-id="423759"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Model/Contact.php

public function isSubjectValid()
{
    return (!empty($this-&gt;subject));
}</code></pre><p id="r-423760" data-claire-element-id="423760">Bon d'accord, ce validateur fait exactement la même chose qu'un validateur Blank, mais bon, c'est pour l'exemple. Laissez libre cours à votre imagination !</p><h5 id="r-utiliser-des-callbacks" data-claire-element-id="423784">Utiliser des callbacks</h5><p id="r-423762" data-claire-element-id="423762">Une autre possibilité consiste à créer des callbacks afin d'effectuer des validations plus poussées. Imaginons que nous souhaitons exclure certaines adresses email douteuses dans notre formulaire de contact. Cela se fait très facilement et rapidement avec un callback. Un callback intervient en fin de processus de validation, nous devons donc nous même lever l'exception de validation contrairement au getters qui le font automatiquement.</p><p id="r-423763" data-claire-element-id="423763">Rendez-vous donc directement dans notre classe Contact, ajoutez-y la méthode suivante que vous pouvez bien évidement personnaliser à souhait :</p><pre id="r-423764" data-claire-element-id="423764"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Model/Contact.php

public function isEmailValid(ExecutionContext $context)
{
    // somehow you have an array of &quot;fake email&quot;
    $fakeEmails = array('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="ff8b9a8c8bbf8b9a8c8bd19c9092">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="473328332807332e332e6924282a">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="a0d8d8d8e0d8d8d88ec2c5">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>');

    // check if the name is actually a fake email
    if (in_array($this-&gt;getEmail(), $fakeEmails)) {
        $propertyPath = $context-&gt;getPropertyPath() . '.email';
        $context-&gt;setPropertyPath($propertyPath);
        $context-&gt;addViolation('Tu ne te moquerais pas un peu de moi avec cet email ?', array(), null);
    }
}</code></pre><p id="r-423765" data-claire-element-id="423765">N'oubliez pas d'incluse la dépendance correspondante :</p><pre id="r-423766" data-claire-element-id="423766"><code data-claire-semantic="html+php">&lt;?php
use Symfony\Component\Validator\ExecutionContext;</code></pre><p id="r-423767" data-claire-element-id="423767">Ajoutez le validateur dans votre fichier de validation :</p><pre id="r-423768" data-claire-element-id="423768"><code data-claire-semantic="yaml"># src/WelcomeBundle/Ressources/config/validation.yml

tuto\WelcomeBundle\Form\Model\Contact:
    properties:
        email:
            - Email: { message: &quot;Email invalide&quot; }
        subject:
            - MinLength:  { limit: 5, message: &quot;Le sujet est trop court, il doit faire au moins {{ limit }} caractères.&quot; }
            - MaxLength:  { limit: 140, message: &quot;Le sujet est trop long, il doit faire au maximum {{ limit }} caractères.&quot; }
        content:
            - MinLength:  { limit: 40, message: &quot;Le contenu est trop court, il doit faire au moins {{ limit }} caractères.&quot;  }
    constraints:
        - Callback:
            methods:   [isEmailValid]</code></pre><p id="r-423769" data-claire-element-id="423769">Et observez le résultat !</p><figure id="r-423771" data-claire-element-id="423772"><img id="r-423770" data-claire-element-id="423770" src="medias/uploads.siteduzero.com_files_360001_361000_360406.jpg" alt="Image utilisateur"/></figure><p id="r-423773" data-claire-element-id="423773"><em>N'est-ce pas déconcertant de simplicité ?</em></p><p id="r-423774" data-claire-element-id="423774">Il est possible d'externaliser vos callback, si ceux-ci deviennent trop nombreux, dans une classe spécifique.</p><pre id="r-423775" data-claire-element-id="423775"><code data-claire-semantic="html+php">&lt;?php
# src/WelcomeBundle/Form/Callbacks/ContactValidator.php

namespace tuto\WelcomeBundle\Form\Callbacks;

use Symfony\Component\Validator\ExecutionContext;
use tuto\WelcomeBundle\Form\Model\Contact;

class ContactValidator
{
    static public function isEmailValid(Contact $contact, ExecutionContext $context)
    {
        // somehow you have an array of &quot;fake email&quot;
        $fakeEmails = array('<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="f286978186b286978186dc919d9f">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="13677c677c53677a677a3d707c7e">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>', '<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="a9d1d1d1e9d1d1d187cbcc">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>');

        // check if the name is actually a fake email
        if (in_array($contact-&gt;getEmail(), $fakeEmails)) {
            $propertyPath = $context-&gt;getPropertyPath() . '.email';
            $context-&gt;setPropertyPath($propertyPath);
            $context-&gt;addViolation('Tu ne te moquerais pas un peu de moi avec cet email ?', array(), null);
        }
    }
}</code></pre><p id="r-423776" data-claire-element-id="423776">Il ne reste plus qu'à modifier le fichier de validation :</p><pre id="r-423777" data-claire-element-id="423777"><code data-claire-semantic="yaml"># src/WelcomeBundle/Ressources/config/validation.yml

tuto\WelcomeBundle\Form\Model\Contact:
    properties:
        email:
            - Email: { message: &quot;Email invalide&quot; }
        subject:
            - MinLength:  { limit: 5, message: &quot;Le sujet est trop court, il doit faire au moins {{ limit }} caractères.&quot; }
            - MaxLength:  { limit: 140, message: &quot;Le sujet est trop long, il doit faire au maximum {{ limit }} caractères.&quot; }
        content:
            - MinLength:  { limit: 40, message: &quot;Le contenu est trop court, il doit faire au moins {{ limit }} caractères.&quot;  }
    constraints:
        - Callback:
            methods:
                - [tuto\WelcomeBundle\Form\Callbacks\ContactValidator, isEmailValid]</code></pre><p id="r-423778" data-claire-element-id="423778"><strong>Cette méthode permet une nouvelle fois de garder un code structuré et bien organisé.</strong></p><aside id="r-423780" data-claire-element-id="423780" data-claire-semantic="information"><p id="r-423779" data-claire-element-id="423779">Vous pouvez aussi définir des validateurs personnalisés qui ne sont pas liés à une classe spécifique. Cette méthode faisant appel à des connaissances un peu plus poussée à notre niveau du tutoriel, je vous redirige vers la documentation officielle pour apprendre cette méthode : <a href="http://symfony.com/doc/current/cookbook/validation/custom_constraint.html">http://symfony.com/doc/current/cookboo [...] nstraint.html</a></p></aside><aside id="r-423782" data-claire-element-id="423782" data-claire-semantic="information"><p id="r-423781" data-claire-element-id="423781">Une fois de plus, retrouvez le code source sur Github : <a href="https://github.com/Genokilller/Tutorial-Symfony2-SdZ">https://github.com/Genokilller/Tutorial-Symfony2-SdZ</a></p></aside><p id="r-423783" data-claire-element-id="423783">Vous avez maintenant toutes les armes en mains pour travailler en toute sécurité avec les formulaires !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
<span class="arrow"></span>
<span class="next">La validation d&#039;objets</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">
<span class="next">Vous avez dit services ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Vousavezditservices"></a><h2>Vous avez dit services ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
<span class="arrow"></span>
<span class="next">Des validateurs complexes</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
<span class="next">Introduction aux services</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-423787" data-claire-element-id="423787">Dans ce chapitre, vous apprendrez à utiliser les services afin de développer une architecture orientée services. Les services sont des outils indispensable que vous utilisez déjà. <strong>A la fin de ce chapitre vous ne serez plus utilisateur de services mais créateur de services !</strong></p>
</div><a name="Introductionauxservices"></a><h2>Introduction aux services</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">
<span class="arrow"></span>
<span class="next">Vous avez dit services ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
<span class="next">L&#039;apprentissage par l&#039;exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-introduction-aux-services" data-claire-element-id="423808">Introduction aux services</h4><h5 id="r-qu-est-ce-qu-un-service-3" data-claire-element-id="423795">Qu'est-ce qu'un service ?</h5><p id="r-423788" data-claire-element-id="423788">Un service, cela fait maintenant pas mal de temps que vous en utilisez n'est-ce pas ? Cela reste encore assez mystique pour vous, il est temps de lever le doute sur vos interrogations !</p><p id="r-423789" data-claire-element-id="423789">Un service, c'est quelque chose de tout simple, c'est un objet auquel nous pouvons faire appel dans notre code afin de déléguer certaines taches et de pouvoir accéder à des objets plus facilement. Nous en avons pas mal utilisé depuis le début de ce cours, en voici quelques exemples :</p><pre id="r-423790" data-claire-element-id="423790"><code data-claire-semantic="html+php">&lt;?php
# Le service form factory permet d'utiliser un formulaire
$this-&gt;get('form.factory');

# Le service request nous permet de manipuler la requête HTTP
$this-&gt;get('request');

# Le service mailer nous permet d'envoyer facilement des emails
$this-&gt;get('mailer');

# Le service session nous permet de manipuler aisément la session de nos utilisateurs
$this-&gt;get('session');

# Le service router nous permet de manipuler facilement des routes
$this-&gt;get('router');</code></pre><div id="r-423792" data-claire-element-id="423792" data-claire-semantic="question"><p id="r-423791" data-claire-element-id="423791">Qu'est-ce qui se cache derrière ces services ?</p></div><p id="r-423793" data-claire-element-id="423793">C'est juste une classe avec ses différentes méthodes, rien de plus. Elle n'a pas de schéma particulier à respecter. Ces classes sont utilisées comme un objet standard dans votre code. Les appels se font exactement de la même manière que si vous instanciez vous même l'objet. Pour utiliser ces classes en tant que services, ils doivent être enregistrés auprès du 'Service Container'. 'Container', ça ne vous dis rien ? Souvenez vous, vos contrôleur héritent de la classe Controller qui elle même hérite de la classe ContainerAware qui, si l'on y regarde de plus près, possède un objet de type ContainerInterface. Nous retrouvons donc notre container dans chacun de nos contrôleurs. Ainsi, chaque service enregistré dans le 'Service Container' sera disponible dans nos contrôleurs. Merveilleux !</p><pre id="r-423794" data-claire-element-id="423794"><code data-claire-semantic="html+php">&lt;?php
# Dans vos contrôleurs, la méthode 'get' est un simple raccourci fourni par la classe 'Controller'
$this-&gt;get('session');

# Vous pouvez récupérer un service en appelant simplement votre container
$this-&gt;container-&gt;get('session');</code></pre><h5 id="r-une-architecture-orientee-services" data-claire-element-id="423807">Une architecture orientée services</h5><div id="r-423797" data-claire-element-id="423797" data-claire-semantic="question"><p id="r-423796" data-claire-element-id="423796">Mais qu'y gagne-t-on réellement à utiliser les services ?</p></div><p id="r-423798" data-claire-element-id="423798">Utiliser un service nous évite d'avoir à instancier l'objet avec tout ses paramètres à chaque fois que nous en avons besoin. De plus, par défaut, les services sont instanciés sous forme de singleton. C'est à dire qu'une seule instance de notre objet est créée pour toute utilisation qui sera faite du service en question au cours de la vie de notre requête. En bref, vous pouvez appeler votre service autant de fois que vous le souhaitez, une seule instance de l'objet sera créée et réutilisée à chaque appel. Sachez que Symfony est encore plus intelligent que ça, les services déclarés ne sont instanciés que lors de leur utilisation. Cela signifie que si vous n'utilisez pas un service, celui-ci ne sera pas instancié et de ce fait, vous pouvez profiter d'un gain de performance significatif !</p><figure id="r-423800" data-claire-element-id="423801"><img id="r-423799" data-claire-element-id="423799" src="medias/uploads.siteduzero.com_files_362001_363000_362808.jpg" alt="Image utilisateur"/></figure><p id="r-423802" data-claire-element-id="423802"><em>Schématisation du processus de récupération de services</em></p><p id="r-423803" data-claire-element-id="423803"><strong>Utiliser les services, c'est déporter une partie du code dans des objets métiers facilement accessibles. C'est aussi bien structurer son application. C'est aussi un moyen d'avoir un code plus clair et concis dans vos contrôleurs. </strong><br/> La bonne pratique est là, nous parlons d'architecture, d'organisation du code. Bref, une chose indispensable pour construire une application solide et robuste. C'est ce qu'on appelle <a href="http://fr.wikipedia.org/wiki/Architecture_orientée_services">SOA : Services Oriented Architecture</a> traduit par architecture orientée services</p><p id="r-423804" data-claire-element-id="423804">Durant ce cours, nous allons nous efforcer à entretenir une architecture orientée service, synonyme de qualité. La première étape va être d'utiliser nos formulaire en tant que services. C'est parti ! ;)</p><aside id="r-423806" data-claire-element-id="423806" data-claire-semantic="warning"><p id="r-423805" data-claire-element-id="423805">Tout ne doit pas forcément être utilisé sous la forme d'un service. Par exemple, il n'y a aucun intérêt à déclarer un modèle comme service. En effet, celui-ci n'a aucune méthode spéciale, il se contente de définir la forme d'un objet, rien de plus. Cependant, un formulaire est un objet complexe où l'utilisation d'un service se trouve justifiée et conseillée.</p></aside>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">
<span class="arrow"></span>
<span class="next">Vous avez dit services ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
<span class="next">L&#039;apprentissage par l&#039;exemple</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="L039apprentissageparl039exemple"></a><h2>L&#039;apprentissage par l&#039;exemple</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
<span class="arrow"></span>
<span class="next">Introduction aux services</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
<span class="next">Utilisons nos services</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-l-apprentissage-par-l-exemple" data-claire-element-id="423914">L'apprentissage par l'exemple</h4><h5 id="r-initialisation-d-un-service" data-claire-element-id="423845">Initialisation d'un service</h5><p id="r-423809" data-claire-element-id="423809">Vous l'avez compris, un service est une classe. Pour l'initialiser, nous passons par le constructeur.</p><aside id="r-423811" data-claire-element-id="423811" data-claire-semantic="information"><p id="r-423810" data-claire-element-id="423810">Un constructeur est une méthode qui est automatiquement exécutée lors de la création d'un objet. Elle a un nom unique, '<strong>__construct()</strong>'.</p></aside><h6 id="r-un-peu-de-factorisation" data-claire-element-id="423818">Un peu de factorisation</h6><p id="r-423812" data-claire-element-id="423812">Reprenons le formulaire de contact et améliorons le juste un poil en rendant quelques options paramétrables comme la classe qui doit servir de modèle au formulaire.<br/> Pour cela, rajoutons un constructeur qui se charge de sauvegarder le nom de la classe à utiliser :</p><pre id="r-423813" data-claire-element-id="423813"><code data-claire-semantic="html+php">&lt;?php

namespace tuto\WelcomeBundle\Form\Type;

use Symfony\Component\Form\AbstractType;
use Symfony\Component\Form\FormBuilder;

class ContactType extends AbstractType
{
    private $class;
    
    public function __construct($class)
    {
        $this-&gt;class = $class;
    }
    
    public function buildForm(FormBuilder $builder, array $options)
    {
        $builder-&gt;add('email', 'email')
                -&gt;add('subject', 'text')
                -&gt;add('content', 'textarea');
    }

    public function getDefaultOptions(array $options)
    {
        # Utilisation de notre nouvelle propriété : class
        return array(
            'data_class' =&gt; $this-&gt;class,
        );
    }

    public function getName()
    {
        return 'Contact';
    }
}</code></pre><p id="r-423814" data-claire-element-id="423814">Bien, nous voila avec notre premier service prêt à être enregistré dans le container.<br/> Pour déclarer un service, je vous donne rendez-vous dans le fichier <strong>Ressources/config/services.yml</strong>.</p><p id="r-423815" data-claire-element-id="423815">Par défaut, Symfony est paramétré pour utiliser le format XML dans la déclaration de service. Au cours de ce tutoriel nous allons utiliser le YAML. Cependant, à la fin de chapitre, je vous proposerai les différentes déclarations de services que nous aurons écrit au format XML afin que vous puissiez faire votre choix.</p><p id="r-423816" data-claire-element-id="423816">Pour utiliser le format YAML, il faut modifier l'enregistrement de notre fichier de configuration du bundle.<br/> Je vous donne rendez-vous dans le fichier <strong>WelcomeBundle/DependencyInjection/tutoWelcomeExtension.php</strong>.<br/> C'est dans ce fichier que vous allez définir la configuration du bundle. Son but initial est de récupérer les fichiers de configuration du bundle, de les parser. Le parsage correspond à la traduction du fichier dans son format initial (yaml, xml, etc.) vers un format de destination, php dans notre cas. Ensuite, la configuration est ajoutée à la configuration globale de l'application. <br/> Je vous propose d'ajouter le chargement de notre fichier au format YAML, au lieu du format XML :</p><pre id="r-423817" data-claire-element-id="423817"><code data-claire-semantic="html+php">&lt;?php

namespace tuto\WelcomeBundle\DependencyInjection;

use Symfony\Component\DependencyInjection\ContainerBuilder;
use Symfony\Component\Config\FileLocator;
use Symfony\Component\HttpKernel\DependencyInjection\Extension;
use Symfony\Component\DependencyInjection\Loader;

/**
 * This is the class that loads and manages your bundle configuration
 *
 * To learn more see {@link http://symfony.com/doc/current/cookbook/bundles/extension.html}
 */
class tutoWelcomeExtension extends Extension
{
    /**
     * {@inheritDoc}
     */
    public function load(array $configs, ContainerBuilder $container)
    {
        $configuration = new Configuration();
        $config = $this-&gt;processConfiguration($configuration, $configs);

        # Nous utilisons un loader Yaml à la place du loader Xml.
        # Il est tout à fait possible d'utiliser de multiples loader dans cette fonction pour charger plusieurs fichiers au formats différents.
        $loader = new Loader\YamlFileLoader($container, new FileLocator(__DIR__.'/../Resources/config'));
        $loader-&gt;load('services.yml');
    }
}</code></pre><h6 id="r-le-minimum-syndical" data-claire-element-id="423821">Le minimum syndical</h6><p id="r-423819" data-claire-element-id="423819">Afin que notre service soit enregistrer, il faut fournir un minimum d'informations. J'entend par là un identifiant unique et une classe. Logique non ?<br/> Et bien allons-y :</p><pre id="r-423820" data-claire-element-id="423820"><code data-claire-semantic="yaml">services:
    tuto_welcome.contact.form.type:
        class: tuto\WelcomeBundle\Form\Type\ContactType</code></pre><h6 id="r-utiliser-des-parametre-pour-plus-de-clarte" data-claire-element-id="423831">Utiliser des paramètre pour plus de clarté</h6><p id="r-423822" data-claire-element-id="423822">Afin d'être mieux organisé, je vous recommande d'utiliser des paramètres dans la construction de vos services. Il s'agit simplement d'enregistrer en amont de la déclaration des services le nom de vos classes ou d'autres choses encore. Pour cela, nous sortons de l'entrée 'services' et nous rajoutons une entrée 'parameters' qui va accueillir nos différents paramètres, puis nous enregistrons notre variable sous un identifiant unique :</p><pre id="r-423823" data-claire-element-id="423823"><code data-claire-semantic="yaml">parameters:
    tuto_welcome.contact.type.class: tuto\WelcomeBundle\Form\Type\ContactType</code></pre><p id="r-423824" data-claire-element-id="423824">Nous pouvons modifier la déclaration du service en conséquence :</p><pre id="r-423825" data-claire-element-id="423825"><code data-claire-semantic="yaml">services:
    tuto_welcome.contact.form.type:
        class: %tuto_welcome.contact.type.class%</code></pre><aside id="r-423827" data-claire-element-id="423827" data-claire-semantic="information"><p id="r-423826" data-claire-element-id="423826">Pour utiliser un paramètre, il suffit d'écrire son identifiant entre deux symboles '%'</p></aside><p id="r-423828" data-claire-element-id="423828">Il est intéressant de savoir que d'autres choses que des chaines de caractères peuvent être passées en paramètre. Par exemple, un tableau :</p><pre id="r-423829" data-claire-element-id="423829"><code data-claire-semantic="yaml">parameters:
    my_service.parameters:
        - param1
        - param2
        - param3
    my_service.parameters2:
        key1:
            - value1
            - value2
        key2:
            - value1
            - value2</code></pre><p id="r-423830" data-claire-element-id="423830">Sachez que vous pouvez réutiliser les paramètres autant de fois que vous le souhaitez. Il ne sont pas du tout limités à un service. <br/> Isoler vos paramètres permet de gagner en lisibilité, en flexibilité et en organisation dans l'ensemble de vos services. Vous verrez rapidement la quantité de services grossir, donc mieux vaut prévenir que guérir. ;)</p><h6 id="r-ajoutons-des-arguments" data-claire-element-id="423844">Ajoutons des arguments</h6><p id="r-423832" data-claire-element-id="423832">Je vous l'ai dis un peu plus haut, la création de services correspond à l'instanciation de l'objet. Pour cela, nous faisons appel au constructeur. Si ce dernier est vide, rien de spécial ne se produira à la création du service, ce n'est pas du tout un souci. Ajoutez en un seulement et seulement si cela est utile.<br/> Dans notre cas nous devons construire notre objet en lui fournissant le nom de la classe qu'il doit utiliser en tant que modèle. Pour cela, nous allons utiliser les arguments.</p><pre id="r-423833" data-claire-element-id="423833"><code data-claire-semantic="yaml">parameters:
    tuto_welcome.contact.type.class: tuto\WelcomeBundle\Form\Type\ContactType
    tuto_welcome.contact.model.class: tuto\WelcomeBundle\Form\Model\Contact

services:
    tuto_welcome.contact.form.type:
        class: %tuto_welcome.contact.type.class%
        arguments: [%tuto_welcome.contact.model.class%]</code></pre><p id="r-423834" data-claire-element-id="423834"><strong>Les arguments doivent impérativement être donnés dans le même ordre que celui avec lequel ils sont déclarés dans votre constructeur.</strong><br/> Les arguments sont spécifiés sous la forme d'un tableau. C'est pour cela que j'ai mis mon paramètre entre crochets. Une autre syntaxe existe, je vous l'ai déjà présenté :</p><pre id="r-423835" data-claire-element-id="423835"><code data-claire-semantic="yaml"># La syntaxe avec les crochets
arguments: [argument1, argument2, argument3]

# La syntaxe plus 'étalée' et parfois plus claire lorsque vous avez un grand nombre d'arguments
arguments: 
    - argument1
    - argument2
    - argument3</code></pre><p id="r-423836" data-claire-element-id="423836">Vous pouvez passez des services en guise de paramètre, pour cela, utilisez la syntaxe suivante au lieu des '%' :</p><pre id="r-423837" data-claire-element-id="423837"><code data-claire-semantic="yaml">arguments: [&quot;@service1&quot;]</code></pre><p id="r-423838" data-claire-element-id="423838"><strong>C'est ce qu'on appelle de l'injection de dépendances.</strong><br/> Nous allons rapidement voir un exemple concret avec la déclaration de notre formulaire complet et de notre handler.</p><p id="r-423839" data-claire-element-id="423839">Nous n'avons pas besoin de changer quoique ce soit dans notre classe ContactHandler afin de l'utiliser en tant que service.<br/> Faites une déclaration de ce dernier à la suite du tuto_welcome.contact.form.type, vous devriez y arriver sans trop de soucis :</p><pre id="r-423840" data-claire-element-id="423840"><code data-claire-semantic="yaml">tuto_welcome.contact.form.handler:
    class: %tuto_welcome.contact.handler.class%
    arguments: [&quot;@tuto_welcome.contact.form&quot;, &quot;@request&quot;, &quot;@mailer&quot;]</code></pre><p id="r-423841" data-claire-element-id="423841">N'oubliez pas de rajouter la classe en paramètres :</p><pre id="r-423842" data-claire-element-id="423842"><code data-claire-semantic="yaml">tuto_welcome.contact.handler.class: tuto\WelcomeBundle\Form\Handler\ContactHandler</code></pre><p id="r-423843" data-claire-element-id="423843">Les services <strong>request</strong> et <strong>mailer</strong> sont nativement définis par le framework, vous avez parfaitement le droit de les utiliser.</p><h5 id="r-maitrisez-vos-services-avec-les-scopes" data-claire-element-id="423857">Maîtrisez vos services avec les scopes</h5><p id="r-423846" data-claire-element-id="423846">Les scopes sont là pour définir la manière avec laquelle vos services vont être utilisés et instanciés.<br/> Il existe trois scopes différents :</p><ul id="r-423853" data-claire-element-id="423853"><li id="r-423848" data-claire-element-id="423848"><p id="r-423847" data-claire-element-id="423847"><strong>container:</strong> La même instance de votre service va être utilisé à chaque appel de ce dernier depuis un même container (généralement votre contrôleur). C'est le comportement par défaut.</p></li><li id="r-423850" data-claire-element-id="423850"><p id="r-423849" data-claire-element-id="423849"><strong>prototype:</strong> Une nouvelle instance va être créée à chaque appel du service.</p></li><li id="r-423852" data-claire-element-id="423852"><p id="r-423851" data-claire-element-id="423851"><strong>request:</strong> Une nouvelle instance va être définie pour chaque requête. Imaginez que vous fassiez appel à un autre contrôleur depuis un template ou un autre contrôleur, cela va créer une nouvelle requête. Vous avez parfois besoin d'avoir la bonne référence d'un objet pour la requête en cours.</p></li></ul><p id="r-423854" data-claire-element-id="423854">Lorsque j'évoque le scope request, je pense bien évidement à l'argument &quot;@request&quot; que nous avons passé à notre service tuto_welcome.contact.form.handler.<br/> Si vous n'utilisez pas ce scope, vous ne pourrez pas savoir quelle est la requête actuelle. C'est par souci de sécurité que Symfony n'autorise pas l'utilisation de services comme <strong>request</strong> avec le comportement par défaut. Trop de mauvaises surprises feraient leur apparition.</p><p id="r-423855" data-claire-element-id="423855">Définissez donc votre service en ajoutant le scope approprié :</p><pre id="r-423856" data-claire-element-id="423856"><code data-claire-semantic="yaml">tuto_welcome.contact.form.handler:
    class: %tuto_welcome.contact.handler.class%
    scope: request
    arguments: [&quot;@tuto_welcome.contact.form&quot;, &quot;@request&quot;, &quot;@mailer&quot;]</code></pre><h5 id="r-donnez-un-role-a-vos-services-avec-les-tags" data-claire-element-id="423906">Donnez un rôle à vos services avec les tags</h5><p id="r-423858" data-claire-element-id="423858">Vos services peuvent être 'tagués' afin de leur donner une signification particulière et un rôle bien précis. Avec un tag, un service est catalogué et peut ainsi être retrouvé facilement.</p><pre id="r-423859" data-claire-element-id="423859"><code data-claire-semantic="html+php">&lt;?php

# Récupérez les différents services pour un tag donné
$this-&gt;container-&gt;findTaggedServiceIds('nom_du_tag')</code></pre><p id="r-423860" data-claire-element-id="423860">Différents tags existent par défaut dans Symfony :</p><ul id="r-423899" data-claire-element-id="423899"><li id="r-423862" data-claire-element-id="423862"><p id="r-423861" data-claire-element-id="423861">assetic.filter</p></li><li id="r-423864" data-claire-element-id="423864"><p id="r-423863" data-claire-element-id="423863">assetic.templating.php</p></li><li id="r-423866" data-claire-element-id="423866"><p id="r-423865" data-claire-element-id="423865">data_collector</p></li><li id="r-423868" data-claire-element-id="423868"><p id="r-423867" data-claire-element-id="423867">form.type</p></li><li id="r-423870" data-claire-element-id="423870"><p id="r-423869" data-claire-element-id="423869">form.type_extension</p></li><li id="r-423872" data-claire-element-id="423872"><p id="r-423871" data-claire-element-id="423871">form.type_guesser</p></li><li id="r-423874" data-claire-element-id="423874"><p id="r-423873" data-claire-element-id="423873">form.field_factory.guesser</p></li><li id="r-423876" data-claire-element-id="423876"><p id="r-423875" data-claire-element-id="423875">kernel.cache_warmer</p></li><li id="r-423878" data-claire-element-id="423878"><p id="r-423877" data-claire-element-id="423877">kernel.event_listener</p></li><li id="r-423880" data-claire-element-id="423880"><p id="r-423879" data-claire-element-id="423879">monolog.logger</p></li><li id="r-423882" data-claire-element-id="423882"><p id="r-423881" data-claire-element-id="423881">monolog.processor</p></li><li id="r-423884" data-claire-element-id="423884"><p id="r-423883" data-claire-element-id="423883">routing.loader</p></li><li id="r-423886" data-claire-element-id="423886"><p id="r-423885" data-claire-element-id="423885">security.listener.factory</p></li><li id="r-423888" data-claire-element-id="423888"><p id="r-423887" data-claire-element-id="423887">security.voter</p></li><li id="r-423890" data-claire-element-id="423890"><p id="r-423889" data-claire-element-id="423889">templating.helper</p></li><li id="r-423892" data-claire-element-id="423892"><p id="r-423891" data-claire-element-id="423891">twig.extension</p></li><li id="r-423894" data-claire-element-id="423894"><p id="r-423893" data-claire-element-id="423893">translation.loader</p></li><li id="r-423896" data-claire-element-id="423896"><p id="r-423895" data-claire-element-id="423895">validator.constraint_validator</p></li><li id="r-423898" data-claire-element-id="423898"><p id="r-423897" data-claire-element-id="423897">validator.initializer</p></li></ul><p id="r-423900" data-claire-element-id="423900">Retrouvez quelques unes de leurs descriptions dans la documentation officielle : <a href="http://symfony.com/doc/2.0/reference/dic_tags.html">The Dependency Injection Tags</a>.</p><p id="r-423901" data-claire-element-id="423901">Parmi ceux-ci, un tag va nous intéresser plus particulièrement : <strong>form.type</strong> pour le service tuto_welcome.contact.form.type.<br/> Ce tag requiert un nom et un alias en paramètre :</p><pre id="r-423902" data-claire-element-id="423902"><code data-claire-semantic="yaml">tuto_welcome.contact.form.type:
    class: %tuto_welcome.contact.type.class%
    arguments: [%tuto_welcome.contact.model.class%]
    tags:
        - { name: form.type , alias: tuto_welcome_contact }</code></pre><p id="r-423903" data-claire-element-id="423903">Et voila, notre service tuto_welcome.contact.form.type est officiellement enregistré en tant que form.type.</p><aside id="r-423905" data-claire-element-id="423905" data-claire-semantic="information"><p id="r-423904" data-claire-element-id="423904">Vous pouvez aussi définir vos propres tags pour identifier vos services. Cela demande un peu plus d'expertise dans le domaine, je vous renvois donc vers la documentation correspondante : <a href="http://symfony.com/doc/current/cookbook/service_container/tags.html">How to make your Services use Tags</a></p></aside><h5 id="r-utilisez-une-factory-pour-instancier-vos-services" data-claire-element-id="423913">Utilisez une Factory pour instancier vos services</h5><p id="r-423907" data-claire-element-id="423907">Ce qu'on appelle Factory, c'est une classe qui va se charger de gérer d'autres objets. Oui, on peut traduire ça littéralement par une usine. ^^ <br/> Une factory, vous en connaissez une, c'est celle qui s'occupe des formulaires, la form factory !</p><p id="r-423908" data-claire-element-id="423908">Nous avons besoin de celle-ci afin de fabriquer notre formulaire à partir du service tuto_welcome.contact.form.type.<br/> Ajoutons ce nouveau service à notre petite liste :</p><pre id="r-423909" data-claire-element-id="423909"><code data-claire-semantic="yaml">tuto_welcome.contact.form:
    class: Symfony\Component\Form\Form
    arguments: [&quot;@tuto_welcome.contact.form.type&quot;]
    factory_method: create
    factory_service: form.factory</code></pre><p id="r-423910" data-claire-element-id="423910">Mais qu'avons nous là ? <br/> Deux nouvelles options font leur apparition : <strong>factory_method et factory_service</strong>.</p><p id="r-423911" data-claire-element-id="423911">Alors comment ça fonctionne tout ça ? <br/> Prenons les choses dans l'ordre. Dans un premier temps nous savons que nous allons utiliser la classe Symfony\Component\Form\Form que je vous invite à aller lire afin de s'instruire d'avantage :p . Cette classe a besoin d'un objet de type AbstractType, notre classe ContactType a l'air de correspondre parfaitement.<br/> C'est ensuite qu'intervient notre usine, la form factory. Grâce à l'option factory_service, nous définissons quel service utiliser en guise de factory. Vous trouverez notre form factory à l'endroit suivant Symfony\Component\Form\FormFactory. N'hesitez pas à la consulter pour connaitre l'étendu des méthodes dont elle dispose. Dans notre cas, c'est la méthode 'create' qui nous intéresse. Définissons donc la factory_method sur 'create'. <br/> De cette manière, pour que notre service s'instancie, il va demander à le factory de lui créer un objet qui devra forcement être de type Form (correspondant à la classe que nous utilisons pour la déclaration du service) et qui prendra en paramètre notre ContactType. Merveilleux n'est-ce pas ?</p><p id="r-423912" data-claire-element-id="423912">Vous voulez créer vos propres factory ? Rien de plus simple, ce ne sont eux-même que des services. Donc vous savez le faire ! Il n'y a pas de schéma spécifique à respecter, néanmoins, la documentation officielle vous fournis un petit exemple fort sympathique : <a href="http://symfony.com/doc/current/cookbook/service_container/factories.html">How to Use a Factory to Create Services</a></p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
<span class="arrow"></span>
<span class="next">Introduction aux services</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
<span class="next">Utilisons nos services</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Utilisonsnosservices"></a><h2>Utilisons nos services</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
<span class="arrow"></span>
<span class="next">L&#039;apprentissage par l&#039;exemple</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h4 id="r-utilisons-nos-services" data-claire-element-id="423946">Utilisons nos services</h4><h5 id="r-recapitulatif-11" data-claire-element-id="423922">Récapitulatif</h5><p id="r-423915" data-claire-element-id="423915">Mais, mais, je crois que nous avons tout nos services de prêt si je ne m'abuse ? Non ?</p><h6 id="r-version-yaml" data-claire-element-id="423918">Version YAML</h6><p id="r-423916" data-claire-element-id="423916">Voici un petit récapitulatif du fichier services.yml que vous devriez avoir :</p><pre id="r-423917" data-claire-element-id="423917"><code data-claire-semantic="yaml">parameters:
    tuto_welcome.contact.type.class: tuto\WelcomeBundle\Form\Type\ContactType
    tuto_welcome.contact.handler.class: tuto\WelcomeBundle\Form\Handler\ContactHandler
    tuto_welcome.contact.model.class: tuto\WelcomeBundle\Form\Model\Contact

services:
    tuto_welcome.contact.form:
        class: Symfony\Component\Form\Form
        arguments: [&quot;@tuto_welcome.contact.form.type&quot;]
        factory_method: create
        factory_service: form.factory

    tuto_welcome.contact.form.type:
        class: %tuto_welcome.contact.type.class%
        arguments: [%tuto_welcome.contact.model.class%]
        tags:
            - { name: form.type , alias: tuto_welcome_contact }

    tuto_welcome.contact.form.handler:
        class: %tuto_welcome.contact.handler.class%
        scope: request
        arguments: [&quot;@tuto_welcome.contact.form&quot;, &quot;@request&quot;, &quot;@mailer&quot;]</code></pre><h6 id="r-version-xml" data-claire-element-id="423921">Version XML</h6><p id="r-423919" data-claire-element-id="423919">Comme promis, voici la version XML de nos services :</p><pre id="r-423920" data-claire-element-id="423920"><code data-claire-semantic="xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;

&lt;container xmlns=&quot;http://symfony.com/schema/dic/services&quot;
    xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
    xsi:schemaLocation=&quot;http://symfony.com/schema/dic/services http://symfony.com/schema/dic/services/services-1.0.xsd&quot;&gt;
    
    &lt;parameters&gt;
        &lt;parameter key=&quot;tuto_welcome.contact.type.class&quot;&gt;tuto\WelcomeBundle\Form\Type\ContactType&lt;/parameter&gt;
        &lt;parameter key=&quot;tuto_welcome.contact.handler.class&quot;&gt;tuto\WelcomeBundle\Form\Handler\ContactHandler&lt;/parameter&gt;
        &lt;parameter key=&quot;tuto_welcome.contact.model.class&quot;&gt;tuto\WelcomeBundle\Form\Model\Contact&lt;/parameter&gt;
    &lt;/parameters&gt;

    &lt;services&gt;

        &lt;service id=&quot;tuto_welcome.contact.form&quot; factory-method=&quot;create&quot; factory-service=&quot;form.factory&quot; class=&quot;Symfony\Component\Form\Form&quot;&gt;
            &lt;argument type=&quot;service&quot; id=&quot;tuto_welcome.contact.form.type&quot; /&gt;
        &lt;/service&gt;

        &lt;service id=&quot;tuto_welcome.contact.form.type&quot; class=&quot;%tuto_welcome.contact.type.class%&quot;&gt;
            &lt;tag name=&quot;form.type&quot; alias=&quot;tuto_welcome_contact&quot; /&gt;
            &lt;argument&gt;%tuto_welcome.contact.model.class%&lt;/argument&gt;
        &lt;/service&gt;

        &lt;service id=&quot;tuto_welcome.contact.form.handler&quot; class=&quot;%tuto_welcome.contact.handler.class%&quot; scope=&quot;request&quot;&gt;
            &lt;argument type=&quot;service&quot; id=&quot;tuto_welcome.contact.form&quot; /&gt;
            &lt;argument type=&quot;service&quot; id=&quot;request&quot; /&gt;
            &lt;argument type=&quot;service&quot; id=&quot;mailer&quot; /&gt;
        &lt;/service&gt;

    &lt;/services&gt;

&lt;/container&gt;</code></pre><h5 id="r-l-integration-dans-les-controleur" data-claire-element-id="423931">L'intégration dans les contrôleur</h5><p id="r-423923" data-claire-element-id="423923">Ça, vous savez déjà le faire. Oui oui, je vous assure.<br/> Pour récupérer votre formulaire, il suffit de faire appel au service approprié :</p><pre id="r-423924" data-claire-element-id="423924"><code data-claire-semantic="html+php">&lt;?php
$form = $this-&gt;get('tuto_welcome.contact.form');</code></pre><p id="r-423925" data-claire-element-id="423925">Pour le handler, c'est la même chose :</p><pre id="r-423926" data-claire-element-id="423926"><code data-claire-semantic="html+php">&lt;?php
$formHandler = $this-&gt;get('tuto_welcome.contact.form.handler');</code></pre><p id="r-423927" data-claire-element-id="423927">Cela allège assez bien notre contrôleur. De plus, toute la configuration à été déporté à un seul endroit ce qui facilite énormément la maintenance si vous changer le nom d'une classe un jour. ;)</p><p id="r-423928" data-claire-element-id="423928">Nous retirons les dépendances désormais inutiles et au final, nous avons donc cela dans notre contrôleur :</p><pre id="r-423929" data-claire-element-id="423929"><code data-claire-semantic="html+php">&lt;?php

namespace tuto\WelcomeBundle\Controller;

use Symfony\Bundle\FrameworkBundle\Controller\Controller;

class ContactController extends Controller
{

   /**
    * Contact
    *
    * @author Vincent Paulin
    */
    public function indexAction()
    {
        // Get the form
        $form = $this-&gt;get('tuto_welcome.contact.form');

         // Get the request
        $request = $this-&gt;get('request');

        // Get the handler
        $formHandler = $this-&gt;get('tuto_welcome.contact.form.handler');

        $process = $formHandler-&gt;process();

        if ($process)
        {
            // Launch the message flash
            $this-&gt;get('session')-&gt;setFlash('notice', 'Merci de nous avoir contacté, nous répondrons à vos questions dans les plus brefs délais.');
        }

        return $this-&gt;render('tutoWelcomeBundle:Contact:index.html.twig',
                array(
                    'form' =&gt; $form-&gt;createView(),
                    'hasError' =&gt; $request-&gt;getMethod() == 'POST' &amp;&amp; !$form-&gt;isValid()
                ));

    }
}</code></pre><p id="r-423930" data-claire-element-id="423930">Vous remarquez que le contrôleur n'utilise plus que des services. Vous vous orientez vers une architecture orientée services, c'est de la SOA.</p><h5 id="r-reutilisez-et-structurez-vos-services" data-claire-element-id="423945">Réutilisez et structurez vos services</h5><h6 id="r-l-heritage-16" data-claire-element-id="423935">L'héritage</h6><p id="r-423932" data-claire-element-id="423932">Vous pouvez pratiquer ce qu'on appel de l'héritage avec les services.</p><pre id="r-423933" data-claire-element-id="423933"><code>tuto_welcome.contact.form:
    class: Symfony\Component\Form\Form
    arguments: [&quot;@tuto_welcome.contact.form.type&quot;]
    factory_method: create
    factory_service: form.factory

tuto_welcome.login.form:
    parent: tuto_welcome.contact.form
    arguments: [&quot;@tuto_welcome.login.form.type&quot;]</code></pre><p id="r-423934" data-claire-element-id="423934">C'est avec le mot-clé 'parent' que nous pouvons faire hériter nos services. Ici, nous n'avons plus besoin de redéfinir la classe et notre factory qui restent les mêmes. Seul le paramètre a besoin d'être modifié. Cela rend la définition de services parfois plus simple et mieux organisée.</p><h6 id="r-une-bonne-structure" data-claire-element-id="423944">Une bonne structure</h6><p id="r-423936" data-claire-element-id="423936">Pour gagner en organisation, vous pouvez organiser vos services dans différents dossiers et fichiers grâce à l'importation de fichiers.<br/> Par exemple, je vous propose de déplacer la déclaration de nos trois services dans un fichier qui lui sera dédié, situé dans <strong>Ressources/config/Services/Form/contact.yml</strong>.</p><p id="r-423937" data-claire-element-id="423937">Placez l'intégralité de vos services et de vos paramètres dans ce fichier et écrivez ces lignes dans votre fichier services.yml :</p><pre id="r-423938" data-claire-element-id="423938"><code>imports:
    - { resource: Services/Form/contact.yml }</code></pre><p id="r-423939" data-claire-element-id="423939">Grâce à l'importation, vous pouvez structurer et organiser facilement vos services.</p><p id="r-423940" data-claire-element-id="423940">Vous êtes désormais capable d'utiliser et de créer facilement des services de toutes sortes ! N'hésitez pas à en créer quand vous en ressentez le besoin. Néanmoins, faites attention, tout ne doit pas forcément être un service. A vous d'en juger la nécessité !</p><p id="r-423941" data-claire-element-id="423941">Ce tutoriel n'est évidement pas terminé. Le but est que vous puissiez réellement maîtriser vos applications créées avec Symfony2 et ainsi vous aventurer facilement dans des projets d'envergure.</p><p id="r-423942" data-claire-element-id="423942">Retrouvez moi <a href="http://vpaulin.fr/">sur mon blog</a> pour plus de trucs et astuces ainsi que de nombreuses études sur les bonnes pratiques !</p><p id="r-423943" data-claire-element-id="423943">À très vite !</p>
<aside class="aside-menu">
<ul class="content-menu" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2">Développez vos applications web avec Symfony2 !</a>
</li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 1</span>
Tour d&#039;horizon
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/presentation-generale-5">Présentation générale</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-nouveau-regard-sur-son-travail">
Un nouveau regard sur son travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/pourquoi-choisir-symfony2">
Pourquoi choisir Symfony2 ?
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/mise-en-place-18">Mise en place</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/installation-54">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/configuration-20">
Configuration
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-dernier-nettoyage">
Un dernier nettoyage
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-architecture-1">L&#039;architecture</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vue-d-ensemble-2">
Vue d&#039;ensemble
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/connaitre-et-configurer-son-application">
Connaître et configurer son application
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/ou-se-trouve-le-code-source">
Où se trouve le code source ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-web-debug-toolbar">
La web debug toolbar
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-histoire-de-bundle">Une histoire de bundle</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/creation-22">
Création
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/decouverte-de-l-architecture">
Découverte de l&#039;architecture
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/manipulez-vos-nouveaux-jouets">Manipulez vos nouveaux jouets !</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/le-routing-dans-toute-sa-splendeur">
Le routing dans toute sa splendeur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/tp-exploitez-vos-controleurs">
TP : Exploitez vos contrôleurs
</a>
</li>
</ul> </li></ul> </li>
<li class="chapter">
 
<a class="chapterLink" onmouseover="$(this).addClass('box-shadow-summary').next().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').next().removeClass('box-shadow-summary');">
<span>Partie 2</span>
Développez s&#039;il vous plait !
</a>
<a class="chapterOpen" href="#" onmouseover="$(this).addClass('box-shadow-summary').prev().addClass('box-shadow-summary');" onmouseout="$(this).removeClass('box-shadow-summary').prev().removeClass('box-shadow-summary');">
<span>+</span>
</a>
 
<ul class="subchapters">
<li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vos-premiers-pas-avec-les-formulaires">Vos premiers pas avec les formulaires</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/une-interaction-plus-evoluee">
Une interaction plus évoluée
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/passage-a-la-pratique-un-formulaire-de-contact">
Passage à la pratique : un formulaire de contact
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/traiter-les-donnees-recues">
Traiter les données reçues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/un-peu-de-bonnes-pratiques-1">
Un peu de bonnes pratiques
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/verifiez-et-validez-vos-donnees">Vérifiez et validez vos données</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/que-peut-on-valider-et-avec-quoi">
Que peut-on valider et avec quoi ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/la-validation-d-objets">
La validation d&#039;objets
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/des-validateurs-complexes">
Des validateurs complexes
</a>
</li>
</ul> </li> <li class="subchapter">
<div>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/vous-avez-dit-services">Vous avez dit services ?</a>
<a class="subchapterOpen" href="#">
<span>+</span>
</a>
</div>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/introduction-aux-services">
Introduction aux services
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
L&#039;apprentissage par l&#039;exemple
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/utilisons-nos-services">
Utilisons nos services
</a>
</li>
</ul>
</li>
</ul>
</li>
</li>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/developpez-vos-applications-web-avec-symfony2/l-apprentissage-par-l-exemple">
<span class="arrow"></span>
<span class="next">L&#039;apprentissage par l&#039;exemple</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/developpez-vos-applications-web-avec-symfony2.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 08:28:23 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/developpez-vos-applications-web-avec-symfony2.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:31:17 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/les-tours-de-hanoi.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:25:35 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-tours-de-hanoi.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:18:10 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Les tours de Hanoï</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/les-tours-de-hanoi.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Les tours de Hanoï</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#LestoursdeHano">Les tours de Hanoï</a><br/><a href="#Formalisation">Formalisation</a><br/><a href="#Solutionrcursive">Solution récursive</a><br/><a href="#Allerplusloin">Aller plus loin</a><br/></div>
<a name="LestoursdeHano"></a><h2>Les tours de Hanoï</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
<span class="next">Formalisation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-550852" data-claire-element-id="550852">Le problème des tours de Hanoï est un jeu faisant parti de la catégorie des casse-tête.<br/> Il est très utilisé en psychiatrie, étudié en mathématiques et en algorithmique et souvent utilisé pour montrer la puissance et l'intérêt de la <a href="http://www.siteduzero.com/tutoriel-3-36703-la-recursivite.html">récursivité</a>.</p>
</div><a name="Formalisation"></a><h2>Formalisation</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
<span class="next">Solution récursive</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-550853" data-claire-element-id="550853">Le problème des tours de Hanoï est un problème mathématique célèbre inventé par le mathématicien français <a href="http://fr.wikipedia.org/wiki/Édouard_Lucas">Édouard Lucas</a> en 1883 qu'il devrait à un de ses amis, N. Claus de Siam. C'est également un jeu de réflexion intéressant. Le mathématicien écrit :</p><p id="r-550854" data-claire-element-id="550854">&quot;<em>N. Claus de Siam a vu, dans ses voyages pour la publication des écrits de l'illustre Fer-Fer-Tam-Tam, dans le grand temple de Bénarès, au-dessous du dôme qui marque le centre du monde, trois aiguilles de diamant, plantées dans une dalle d'airain, hautes d'une coudée et grosses comme le corps d'une abeille. Sur une de ces aiguilles, Dieu enfila au commencement des siècles, 64 disques d'or pur, le plus large reposant sur l'airain, et les autres, de plus en plus étroits, superposés jusqu'au sommet. C'est la tour sacrée du Brahmâ. Nuit et jour, les prêtres se succèdent sur les marches de l'autel, occupés à transporter la tour de la première aiguille sur la troisième, sans s'écarter des règles fixes que nous venons d'indiquer, et qui ont été imposées par Brahma. Quand tout sera fini, la tour et les brahmes tomberont, et ce sera la fin des mondes !</em>&quot;</p><p id="r-550855" data-claire-element-id="550855">Le problème, qui peut devenir très vite complexe, peut être décrit très simplement. On dispose de trois &quot;tours&quot; A, B et C formées d'un empilement plus ou moins grand de disques de telle sorte que chaque disque ait un diamètre inférieur à son prédécesseur. Ainsi, le plus grand disque de chaque tour se situe à leur base et le plus petit sur leur sommet. Au départ, tous les disques (supposons qu'il y en ait n) se trouvent empilés suivant les règles précédemment décrites sur la tour A. L'objectif est de déplacer tous les disques de la tour A vers la tour C en s'aidant uniquement de la tour B, tout en respectant les règles suivantes :</p><ul id="r-550860" data-claire-element-id="550860"><li id="r-550857" data-claire-element-id="550857"><p id="r-550856" data-claire-element-id="550856">On ne peut bouger qu'un seul disque par étape et cela doit toujours être le plus petit (celui qui se trouve au sommet) ;</p></li><li id="r-550859" data-claire-element-id="550859"><p id="r-550858" data-claire-element-id="550858">À chaque étape, la règle d'organisation des tours décrite précédemment doit être respectée.</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi">Les tours de Hanoï</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
Formalisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
Solution récursive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/aller-plus-loin-38">
Aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
<span class="next">Solution récursive</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Solutionrcursive"></a><h2>Solution récursive</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
<span class="arrow"></span>
<span class="next">Formalisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/aller-plus-loin-38">
<span class="next">Aller plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-550862" data-claire-element-id="550862">La résolution du problème des tours de Hanoï est très étudiée en algorithmique où elle sert notamment à montrer que l'utilisation de la récursivité pour résoudre de gros problèmes peut produire des codes à la fois logiques, puissants et concis. L'intérêt de la récursivité sera donc particulièrement mis en avant dans cette sous-partie. Si vous n'avez pas la moindre idée de ce qu'il en retourne quand je dis &quot;récursivité&quot; ou si vous avez des doutes sur les performances des implémentations récursives, je vous recommande <a href="http://www.siteduzero.com/tutoriel-3-36703-la-recursivite.html">ce tutoriel</a> assez complet.</p><p id="r-550863" data-claire-element-id="550863">Pour résoudre le problème des tours de Hanoï, il faut procéder logiquement. Nous allons partir d'un exemple trivial, presque atomique :</p><p id="r-550864" data-claire-element-id="550864"><em>Nous disposons de trois tours A, B et C. Deux disques sont sur A, les tours de départ et B et C sont vides. Comment s'y prendre pour déplacer tous les disques de A vers C en passant par B ?</em></p><p id="r-550865" data-claire-element-id="550865">Les règles d'organisation des tours de Hanoï, à savoir que chaque disque possède un diamètre inférieur au disque situé en-dessous de lui, doivent toujours être respectées. Nous savons que sur la tour A, le plus grand disque se situe sous le second, qui est forcément plus petit. Or, nous devons parvenir à un résultat tel que ce plus grand disque se trouve à la base de la tour C et le second, plus petit, au sommet de la tour C ; et malheureusement, nous sommes contraints de ne déplacer qu'un disque à la fois et toujours de sommet vers sommet. La première opération à faire est donc de dégager le plus petit disque (le sommet de la tour A) et de l'empaler dans la tour B. On peut ensuite aisément déplacer la base de la tour A, le plus grand disque, vers la base de la tour C. Puis il suffit de retirer le petit disque de la tour B et de le placer au sommet de la tour C. Au final, on a déplacé tous les disques de la tour A vers la tour C, le problème a été résolu correctement.</p><p id="r-550866" data-claire-element-id="550866">L'affaire se complique un peu quand on se retrouve avec plus de deux disques. Si j'ai choisi de commencer par là, c'est uniquement parce que la résolution des tours de Hanoï avec deux disques permet de trouver la logique qui va nous permettre de résoudre des tours de Hanoï avec un nombre supérieur de disques.</p><p id="r-550867" data-claire-element-id="550867">Il faut penser récursivement. Pour résoudre le problème des tours de Hanoï avec deux disques, on a déplacé de A vers B, puis de A vers C pour finalement déplacer de B vers C (une seule et unique opération est à chaque fois possible). Donc (2-1) disque de A vers B, puis 1 disques (le plus grand) de A vers C et à la fin (2-1) disque de B vers C. La logique est donc la suivante : &quot;isoler le plus grand disque de A puis le placer à la base de la tour de destination C puis appliquer le même algorithme de B vers C&quot;. En résumé, l'algorithme de résolution des tours de Hanoï sur un nombre n de disques est le suivant :</p><ul id="r-550877" data-claire-element-id="550877"><li id="r-550876" data-claire-element-id="550876"><p id="r-550868" data-claire-element-id="550868">Déplacer n disques de A vers C en passant par B :</p><ul id="r-550875" data-claire-element-id="550875"><li id="r-550870" data-claire-element-id="550870"><p id="r-550869" data-claire-element-id="550869">Déplacer (n-1) disques de A vers B en passant par C;</p></li><li id="r-550872" data-claire-element-id="550872"><p id="r-550871" data-claire-element-id="550871">Déplacer 1 disque de A vers C ;</p></li><li id="r-550874" data-claire-element-id="550874"><p id="r-550873" data-claire-element-id="550873">Déplacer (n-1) disques de B vers C en passant par A.</p></li></ul></li></ul><p id="r-550878" data-claire-element-id="550878">Nous pouvons aisément implémenter cet algorithme dans n'importe quel langage de programmation, tant que ce dernier permet la récursivité. Je vous propose ici une implémentation, toute simple, en OCaml. La fonction (<code data-claire-semantic="ocaml">let </code>) récursive (<code data-claire-semantic="ocaml">rec </code>) hanoi prend en paramètre n, le nombre de disque(s) à déplacer, a qui symbolise la tour de départ A, c représentant la tour de destination C et b qui est la tour intermédiaire B. Cette fonction est uniquement là à titre pédagogique et n'a pas de réel intérêt si ce n'est le calcul exact du nombre de déplacements effectués (1 représente un déplacement).</p><pre id="r-550879" data-claire-element-id="550879"><code data-claire-semantic="ocaml">let rec hanoi n a c b = match n with
| 1 -&gt; 1 (* Déplacer 1 disque de a vers c *)
| _ -&gt; hanoi (n-1) a b c + hanoi 1 a c b + hanoi (n-1) b c a</code></pre><p id="r-550880" data-claire-element-id="550880">Il peut également être intéressant d'utiliser les big_int d'OCaml. En effet, comme nous allons le voir, le nombre de déplacements nécessaires peut vite devenir très grand.</p><pre id="r-550881" data-claire-element-id="550881"><code data-claire-semantic="ocaml">let rec hanoi n a c b = match n with
| 1 -&gt; Big_int.unit_big_int (* Déplacer 1 disque de a vers c *)
| _ -&gt; Big_int.add_big_int 
         (Big_int.add_big_int (hanoi (n-1) a b c) (hanoi 1 a c b))
         (hanoi (n-1) b c a)</code></pre><p id="r-550882" data-claire-element-id="550882">L'évaluation de la complexité de cet algorithme est assez simple. Nous allons chercher à savoir combien de déplacements de disques sont nécessaires pour arriver à nos fins. Très simplement, la fonction calculant ceci peut être définie de la manière suivante (on peut se baser sur le code OCaml ci-dessus) : f(1) = 1; f(n) = 2*f(n-1)+1. On peut démontrer par récurrence que ceci est égal à f(n) = 2^n-1 : On a f(n+1) = 2*f(n)+1. En supposant que f(n) = 2^n-1, on a f(n+1) = 2*(2^n-1)+1. On développe ensuite en f(n+1) = 2*2^n-2+1 ce qui nous donne au final f(n+1) = 2^(n+1)-1. On a ainsi démontré que si c'est vrai pour n, alors c'est vrai pour (n+1). Comme on a f(1) = 2*0+1 = 2^1-1 = 1, c'est vrai pour tous les n supérieurs à 1 et 1. La complexité exacte de l'algorithme présenté ci-dessus est donc en 2^n-1 pour n disques à déplacer de la tour A vers la tour C. Avec la notation de Landau, on dit qu'il s'agit là d'une complexité exponentielle, c'est à dire en O(2^n).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi">Les tours de Hanoï</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
Formalisation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
Solution récursive
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/aller-plus-loin-38">
Aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
<span class="arrow"></span>
<span class="next">Formalisation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/aller-plus-loin-38">
<span class="next">Aller plus loin</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Allerplusloin"></a><h2>Aller plus loin</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
<span class="arrow"></span>
<span class="next">Solution récursive</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-550884" data-claire-element-id="550884">Nous venons de voir ce qu'est réellement de problème des tours de Hanoï, nous avons étudié ensemble une solution récursive à ce problème que nous avons ensuite évaluée en calculant sa complexité. Mais ce n'est pas encore fini ! Il y a encore tant à voir, d'autres solutions à étudier et à évaluer, etc. Je vous propose donc ici quelques liens qui vous permettrons l'aller plus loin.</p><figure id="r-550886" data-claire-element-id="550887"><img id="r-550885" data-claire-element-id="550885" src="medias/uploads.siteduzero.com_files_172001_173000_172211.gif" alt="Image utilisateur"/></figure><ul id="r-550904" data-claire-element-id="550904"><li id="r-550889" data-claire-element-id="550889"><p id="r-550888" data-claire-element-id="550888"><a href="http://fr.wikipedia.org/wiki/Tours_de_Hanoï%23R.C3.A9solution_it.C3.A9rative">[Wikipédia] Solution itérative</a> ;</p></li><li id="r-550891" data-claire-element-id="550891"><p id="r-550890" data-claire-element-id="550890"><a href="http://en.wikipedia.org/wiki/Tower_of_Hanoi%23Graphical_representation">[Wikipédia] Représentation à l'aide d'un graphe</a> ;</p></li><li id="r-550893" data-claire-element-id="550893"><p id="r-550892" data-claire-element-id="550892"><a href="http://en.wikipedia.org/wiki/Tower_of_Hanoi">[Wikipédia] Article wikipédia, très complet, en anglais</a> ;</p></li><li id="r-550895" data-claire-element-id="550895"><p id="r-550894" data-claire-element-id="550894"><a href="http://pagesperso-orange.fr/therese.eveilleau/pages/jeux_mat/textes/tour_hanoi.htm">[/] Article assez complet, avec animation</a> ;</p></li><li id="r-550897" data-claire-element-id="550897"><p id="r-550896" data-claire-element-id="550896"><a href="http://jeux.prise2tete.fr/tour-de-hanoi/tour-de-hanoi.php">[Prise 2 Tête] Animation, à résoudre soi-même</a> ;</p></li><li id="r-550899" data-claire-element-id="550899"><p id="r-550898" data-claire-element-id="550898"><a href="http://www.mazeworks.com/hanoi/index.htm">[Mazeworks] Applet Java, à résoudre soi-même</a> ;</p></li><li id="r-550901" data-claire-element-id="550901"><p id="r-550900" data-claire-element-id="550900"><a href="http://www.cut-the-knot.org/recurrence/hanoi.shtml">[Cut the Knot] Animation et article assez complet</a> ;</p></li><li id="r-550903" data-claire-element-id="550903"><p id="r-550902" data-claire-element-id="550902"><a href="http://en.wikipedia.org/wiki/Tower_of_Hanoi%23Applications">[Wikipédia] Utilité ?</a></p></li></ul><p id="r-550905" data-claire-element-id="550905">Le but de ce tutoriel, relativement court, est de vous présenter brièvement le problème des tours de Hanoï et une méthode de résolution, la récursive. La dernière sous-partie de ce cours est donc également très importante : elle vous fait par exemple découvrir des solutions comme la solution itérative, beaucoup moins évidente.</p><p id="r-550906" data-claire-element-id="550906">En espérant que ce cours vous a intéressé et vous en a appris, je vous souhaite une bonne continuation !</p><p id="r-550907" data-claire-element-id="550907">Je remercie <a href="http://www.siteduzero.com/membres-294-49110.html">Nanoc</a> pour ses explications sur la démonstration par récurrence ainsi que <a href="http://www.siteduzero.com/membres-294-132642.html">zAmnellL</a> pour sa relecture attentive.</p><p id="r-550908" data-claire-element-id="550908">ShareMan</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi">Les tours de Hanoï</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/formalisation">
Formalisation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
Solution récursive
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/aller-plus-loin-38">
Aller plus loin
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/les-tours-de-hanoi/solution-recursive">
<span class="arrow"></span>
<span class="next">Solution récursive</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/les-tours-de-hanoi.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 00:25:35 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/les-tours-de-hanoi.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:18:10 GMT -->
</html>
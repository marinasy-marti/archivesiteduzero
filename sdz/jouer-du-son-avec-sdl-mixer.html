<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/jouer-du-son-avec-sdl-mixer.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 23:18:59 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/jouer-du-son-avec-sdl-mixer.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:04:19 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Jouer du son avec SDL_Mixer</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/jouer-du-son-avec-sdl-mixer.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Jouer du son avec SDL_Mixer</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#JouerdusonavecSDL_Mixer">Jouer du son avec SDL_Mixer</a><br/><a href="#TlchargeretinstallerSDL_Mixer">Télécharger et installer SDL_Mixer</a><br/><a href="#Jouerdelamusiquesonlong">Jouer de la musique (son long)</a><br/><a href="#Jouerunsoncourt">Jouer un son court</a><br/><a href="#Rsumdesfonctionsvues">Résumé des fonctions vues</a><br/><a href="#TPfaireunocarina">TP : faire un ocarina</a><br/><a href="#Changerlafrquenced039uneffetsonore">Changer la fréquence d&#039;un effet sonore</a><br/></div>
<a name="JouerdusonavecSDL_Mixer"></a><h2>Jouer du son avec SDL_Mixer</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
<span class="next">Télécharger et installer SDL_Mixer</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-342591" data-claire-element-id="342591">Bonjour.<br/> Il y a une raison pour laquelle vous êtes ici :</p><ul id="r-342596" data-claire-element-id="342596"><li id="r-342593" data-claire-element-id="342593"><p id="r-342592" data-claire-element-id="342592">vous connaissez <code data-claire-semantic="c">SDL_Mixer </code> et vous voulez apprendre à vous en servir ;</p></li><li id="r-342595" data-claire-element-id="342595"><p id="r-342594" data-claire-element-id="342594">vous ne le connaissez pas, mais vous êtes curieux (ou non).</p></li></ul><p id="r-342597" data-claire-element-id="342597">SDL_Mixer est une bibliothèque permettant de jouer du son avec une application graphique.<br/> Vous êtes sûrement ici parce que vous ne voulez pas utiliser FMOD, qui est expliqué dans le tutoriel de M@teo, parce qu'il n'est pas libre : <code data-claire-semantic="c">SDL_Mixer </code> l'est.<br/> Ou peut-être pour une autre raison.</p><p id="r-342598" data-claire-element-id="342598">Pourquoi n'êtes-vous pas allés dans la doc ?</p><ul id="r-342605" data-claire-element-id="342605"><li id="r-342600" data-claire-element-id="342600"><p id="r-342599" data-claire-element-id="342599">Peut-être parce qu'elle vous fait peur (c'est vrai qu'au début... :p ).</p></li><li id="r-342602" data-claire-element-id="342602"><p id="r-342601" data-claire-element-id="342601">Peut-être parce que vous ne lisez pas l'anglais (ça, je peux comprendre).</p></li><li id="r-342604" data-claire-element-id="342604"><p id="r-342603" data-claire-element-id="342603">Peut-être parce que vous êtes lâches (ha... c'est vrai, vous êtes des programmeurs :-° ).</p></li></ul><aside id="r-342607" data-claire-element-id="342607" data-claire-semantic="warning"><p id="r-342606" data-claire-element-id="342606">Vous devez avoir lu les 3 premières parties (ou les 2 premières si vous utilisez une autre bibliothèque 2D que la SDL) du <a href="http://www.siteduzero.com/tuto-3-8-0-apprenez-a-programmer-en-c.html">cours de C de M@teo</a>.<br/> Sauf si vous voulez utiliser du son en console...</p></aside>
</div><a name="TlchargeretinstallerSDL_Mixer"></a><h2>Télécharger et installer SDL_Mixer</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
<span class="next">Jouer de la musique (son long)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-342608" data-claire-element-id="342608">Bon, vous êtes décidés ?<br/> Installons SDL_Mixer. :D <br/> Mais avant...</p><h3 id="r-pourquoi-installer-sdl-mixer" data-claire-element-id="342641">Pourquoi installer SDL_Mixer ?</h3><p id="r-342609" data-claire-element-id="342609">SDL_Mixer sert à jouer du son dans une application graphique. Dans son tutoriel, M@teo montre comment utiliser FMOD. Cependant, FMOD n'est pas libre et vous devez donc payer l'auteur si vous créez un logiciel commercial. SDL_Mixer est assez simple d'utilisation, donc si vous avez compris la SDL, vous n'aurez aucune difficulté à comprendre SDL_Mixer.</p><div id="r-342611" data-claire-element-id="342611" data-claire-semantic="question"><p id="r-342610" data-claire-element-id="342610">Est-ce qu'il faut absolument l'utiliser avec la bibliothèque SDL ?</p></div><p id="r-342612" data-claire-element-id="342612">Non.</p><aside id="r-342614" data-claire-element-id="342614" data-claire-semantic="information"><p id="r-342613" data-claire-element-id="342613">Vous pouvez l'utiliser avec d'autres bibliothèques sauf que je n'en connais pas la liste (ni la doc' d'ailleurs :D ). J'ai réussi à utiliser SDL_mixer avec Allegro, Gtk+, SFML et même dans la console (sauf qu'il faut utiliser <code data-claire-semantic="c">getchar(); </code>) sans problème. Cependant, pour les exemples, j'utiliserai la bibliothèque SDL.</p></aside><h2 id="r-installer-sdl-mixer" data-claire-element-id="342634">Installer SDL_Mixer</h2><h3 id="r-sous-windows-22" data-claire-element-id="342624">Sous Windows</h3><p id="r-342615" data-claire-element-id="342615">Pour commencer, il faudra le télécharger.<br/> Allez sur le site de <a href="http://www.libsdl.org/projects/SDL_mixer/">SDL_Mixer</a>.<br/> Sous « Binary : », cliquez sur : « SDL_mixer-devel-1.2.8-VC8.zip » même si vous n'êtes pas sous Visual C++.<br/> Vous y trouverez :</p><ul id="r-342622" data-claire-element-id="342622"><li id="r-342617" data-claire-element-id="342617"><p id="r-342616" data-claire-element-id="342616">SDL_mixer.h (SDL_mixer-1.2.8\include) : placez-le au même endroit que vos autres .h de la bibliothèque SDL (sous Code::Blocks: C:\Program Files\CodeBlocks\MinGW\include\SDL) ;</p></li><li id="r-342619" data-claire-element-id="342619"><p id="r-342618" data-claire-element-id="342618">SDL_mixer.lib : placez SDL_mixer.lib (qui se trouve dans SDL_mixer-1.2.8\lib) dans C:\Program Files\CodeBlocks\MinGW\lib si vous êtes sous Code::Blocks, sinon dans le dossier où se trouvent vos .lib ou .a ;</p></li><li id="r-342621" data-claire-element-id="342621"><p id="r-342620" data-claire-element-id="342620">et plusieurs .dll : placez toutes les .dll (qui se trouvent dans SDL_mixer-1.2.8\lib) dans tous vos projets.</p></li></ul><p id="r-342623" data-claire-element-id="342623">Il ne reste plus qu'à modifier les options de votre projet pour pouvoir le <em>linker</em>.<br/> Sous Code::Blocks, project -&gt; Build options, Linker settings, puis cliquez sur <em>add</em> et allez chercher votre SDL_mixer.lib.<br/> Voilà, votre projet est prêt.</p><h3 id="r-sous-linux-16" data-claire-element-id="342633">Sous Linux</h3><p id="r-342625" data-claire-element-id="342625">Installez, comme tout autre programme, les paquets suivants :</p><ul id="r-342630" data-claire-element-id="342630"><li id="r-342627" data-claire-element-id="342627"><p id="r-342626" data-claire-element-id="342626">libsdl-mixer1.2 ;</p></li><li id="r-342629" data-claire-element-id="342629"><p id="r-342628" data-claire-element-id="342628">libsdl-mixer1.2-dev.</p></li></ul><p id="r-342631" data-claire-element-id="342631">Pour vos projets, vous devrez lier SDL_Mixer à vos projets comme ceci :</p><pre id="r-342632" data-claire-element-id="342632"><code data-claire-semantic="console">-lSDL_mixer</code></pre><h2 id="r-votre-projet-1" data-claire-element-id="342640">Votre projet</h2><p id="r-342635" data-claire-element-id="342635">Maintenant que vous avez installé SDL_Mixer, vous devez l'inclure à tous vos projets :</p><pre id="r-342636" data-claire-element-id="342636"><code data-claire-semantic="c">#include &lt;SDL/SDL_mixer.h&gt;</code></pre><p id="r-342637" data-claire-element-id="342637">Êtes-vous prêts ? Car c'est maintenant que ça commence !</p><p id="r-342638" data-claire-element-id="342638">Voilà le code de base d'un programme SDL ; c'est à partir de cela que nous allons travailler :</p><pre id="r-342639" data-claire-element-id="342639"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
      }
   }
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
<span class="next">Jouer de la musique (son long)</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Jouerdelamusiquesonlong"></a><h2>Jouer de la musique (son long)</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
<span class="arrow"></span>
<span class="next">Télécharger et installer SDL_Mixer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
<span class="next">Jouer un son court</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-342643" data-claire-element-id="342643">Maintenant que SDL_Mixer est installé, on va pouvoir commencer à apprendre son fonctionnement et ainsi l'utiliser.<br/> Si ce n'est pas super ! Vos jeux vont enfin avoir du son !<br/> Voici les formats supportés par SDL_Mixer :</p><ul id="r-342658" data-claire-element-id="342658"><li id="r-342645" data-claire-element-id="342645"><p id="r-342644" data-claire-element-id="342644">.wav</p></li><li id="r-342647" data-claire-element-id="342647"><p id="r-342646" data-claire-element-id="342646">.aiff</p></li><li id="r-342649" data-claire-element-id="342649"><p id="r-342648" data-claire-element-id="342648">.voc</p></li><li id="r-342651" data-claire-element-id="342651"><p id="r-342650" data-claire-element-id="342650">.mod .xm .s3m .669 .it .med et autres formats MOD</p></li><li id="r-342653" data-claire-element-id="342653"><p id="r-342652" data-claire-element-id="342652">.mid</p></li><li id="r-342655" data-claire-element-id="342655"><p id="r-342654" data-claire-element-id="342654">.ogg</p></li><li id="r-342657" data-claire-element-id="342657"><p id="r-342656" data-claire-element-id="342656">.mp3</p></li></ul><p id="r-342659" data-claire-element-id="342659">Il y a donc plein de formats.</p><h2 id="r-initialisation-et-fermeture-de-sdl-mixer" data-claire-element-id="342681">Initialisation et fermeture de SDL_Mixer</h2><p id="r-342660" data-claire-element-id="342660">Comme la SDL, SDL_Mixer doit être initialisé et fermé.<br/> Contrairement à ce que l'on pourrait penser, on n'est pas obligé d'ajouter <code data-claire-semantic="c">SDL_INIT_AUDIO </code> à <code data-claire-semantic="c">SDL_Init() </code>.<br/> Si on avait voulu jouer de la musique sans SDL_Mixer, il aurait fallu l'ajouter.</p><div id="r-342662" data-claire-element-id="342662" data-claire-semantic="question"><p id="r-342661" data-claire-element-id="342661">Pourquoi nous apprends-tu SDL_Mixer si on peut jouer de la musique sans ?</p></div><p id="r-342663" data-claire-element-id="342663">Avec seulement la SDL, nous pouvons gérer beaucoup moins de formats ; c'est pourquoi je vous montre SDL_Mixer.<br/> Bon, finies les questions, commençons !<br/> Voici le prototype de la fonction qui permet d'initialiser l'API mixer :</p><pre id="r-342664" data-claire-element-id="342664"><code data-claire-semantic="c">int Mix_OpenAudio(int frequency, Uint16 format, int channels, int chunksize);</code></pre><p id="r-342665" data-claire-element-id="342665">Le premier paramètre est la fréquence, c'est la qualité du son que SDL_Mixer doit jouer.<br/> Si vous avez de la musique à jouer, il faudra sûrement mettre : 44100, qui équivaut à 44.1 KHz, soit la qualité d'un CD audio.<br/> Il y a un define <code data-claire-semantic="c">MIX_DEFAULT_FREQUENCY </code>, valant 22050, qui est la fréquence par défaut utilisée dans la plupart des jeux vidéo, car la fréquence 44100 utilise trop de puissance du processeur sur les anciens ordinateurs.<br/> Je vous conseille d'utiliser 44100, sinon la qualité n'est pas acceptable.<br/> Toutefois, cela dépend des cas : j'ai un son qui n'est pas beau si la fréquence est loin de 16000.</p><div id="r-342667" data-claire-element-id="342667" data-claire-semantic="question"><p id="r-342666" data-claire-element-id="342666">Et si je veux jouer un son qui a une fréquence de 16000 Hz et une musique de 44.1 KHz en même temps, comment fais-je ?</p></div><p id="r-342668" data-claire-element-id="342668">Bonne question.<br/> Il faut réenregistrer le son qui a une fréquence de 16 KHz en un autre qui a une fréquence de 44.1 KHz ; c'est possible avec Audacity et je vais vous montrer comment faire dans le dernier chapitre.</p><p id="r-342669" data-claire-element-id="342669">Ensuite, le deuxième paramètre demande le format audio.<br/> Je ne vais pas entrer dans les détails et je vous demande de mettre le define <code data-claire-semantic="c">MIX_DEFAULT_FORMAT </code>.</p><p id="r-342670" data-claire-element-id="342670">Puis vient <em>channels</em>, signifiant canaux en anglais.<br/> Que sont ces canaux ?<br/> Dans SDL_Mixer, vous enregistrez des sons de votre ordinateur dans des canaux et pour pouvoir en écouter plusieurs en même temps, vous mélangez les canaux.<br/> Ça ne marche qu'avec les sons, pas avec les musiques.<br/> Je ne crois pas que vous aviez l'intention de mélanger deux musiques dans votre jeu. :) <br/> Mettez <code data-claire-semantic="c">MIX_DEFAULT_CHANNELS </code> qui est un define (vaut 2) qui signifie stéréo, 1 signifie mono, mais utilisez <code data-claire-semantic="c">MIX_DEFAULT_CHANNELS </code> pour une plus belle musique.</p><p id="r-342671" data-claire-element-id="342671">Finalement, il y a chunksize. Qu'est-ce que ça signifie ?<br/> C'est le nombre de bits pour les sons, utilisez 1024 et ça suffira ; je n'ai pas remarqué de différence en changeant la valeur.<br/> La fonction renvoie 0 si cela a fonctionné et -1 s'il y a une erreur.</p><div id="r-342673" data-claire-element-id="342673" data-claire-semantic="question"><p id="r-342672" data-claire-element-id="342672">Y a-t-il une façon de savoir quelles sont les erreurs ?</p></div><p id="r-342674" data-claire-element-id="342674">Oui, l'erreur est dans <code data-claire-semantic="c">Mix_GetError(); </code>.<br/> Il faut donc faire ceci pour initialiser SDL_Mixer et connaître les erreurs :</p><pre id="r-342675" data-claire-element-id="342675"><code data-claire-semantic="c">if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
{
   printf(&quot;%s&quot;, Mix_GetError());
}</code></pre><p id="r-342676" data-claire-element-id="342676">Quand vous n'en avez plus besoin, c'est-à-dire vers la fin du fichier, il vous faudra fermer SDL_Mixer.<br/> Il n'y a rien de plus simple :</p><pre id="r-342677" data-claire-element-id="342677"><code data-claire-semantic="c">Mix_CloseAudio();</code></pre><p id="r-342678" data-claire-element-id="342678">Cela vous donne donc ceci :</p><pre id="r-342679" data-claire-element-id="342679"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
      }
   }
   Mix_CloseAudio(); //Fermeture de l'API
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre><p id="r-342680" data-claire-element-id="342680">Ce code est le code de base pour jouer du son ou de la musique ; cela s'appliquera donc à la partie suivante « Jouer un son court ».</p><h2 id="r-jouer-la-musique-1" data-claire-element-id="342710">Jouer la musique</h2><h3 id="r-chargement-et-liberation-de-la-musique" data-claire-element-id="342687">Chargement et libération de la musique</h3><p id="r-342682" data-claire-element-id="342682">Pour commencer, on doit créer un pointeur de type Mix_Music.<br/> Créons-le :</p><pre id="r-342683" data-claire-element-id="342683"><code data-claire-semantic="c">Mix_Music *musique;</code></pre><p id="r-342684" data-claire-element-id="342684">Pour libérer une musique, on utilise la fonction <code data-claire-semantic="c">Mix_FreeMusic(); </code>, avec comme paramètre... le pointeur !</p><pre id="r-342685" data-claire-element-id="342685"><code data-claire-semantic="c">Mix_FreeMusic(musique);</code></pre><p id="r-342686" data-claire-element-id="342686">(La libération est toujours à la fin.)</p><h3 id="r-jouer-la-musique" data-claire-element-id="342696">Jouer la musique</h3><p id="r-342688" data-claire-element-id="342688">Maintenant, on doit charger une musique dans ce pointeur à l'aide de <code data-claire-semantic="c">Mix_LoadMUS </code> :</p><pre id="r-342689" data-claire-element-id="342689"><code data-claire-semantic="c">musique = Mix_LoadMUS(&quot;musique.mp3&quot;);</code></pre><p id="r-342690" data-claire-element-id="342690">On peut enfin jouer la musique !<br/> Hein, c'était facile ?<br/> Voici le prototype de la fonction qui permet de jouer cette musique :</p><pre id="r-342691" data-claire-element-id="342691"><code data-claire-semantic="c">int Mix_PlayMusic(Mix_Music *music, int loops)</code></pre><p id="r-342692" data-claire-element-id="342692">Le premier paramètre est le pointeur que vous venez de créer, en l'occurrence <code data-claire-semantic="c">« » </code>, et le second est le nombre de fois que la musique doit être jouée.<br/> Pour la jouer à l'infini, mettez -1 en paramètre.</p><p id="r-342693" data-claire-element-id="342693">Voici un code pour jouer une musique :</p><pre id="r-342694" data-claire-element-id="342694"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   Mix_Music *musique; //Création du pointeur de type Mix_Music
   musique = Mix_LoadMUS(&quot;musique.mp3&quot;); //Chargement de la musique
   Mix_PlayMusic(musique, -1); //Jouer infiniment la musique
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
      }
   }
   Mix_FreeMusic(musique); //Libération de la musique
   Mix_CloseAudio(); //Fermeture de l'API
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre><p id="r-342695" data-claire-element-id="342695">Voilà, vous pouvez jouer de la musique !<br/> Mais, ce n'est pas tout.<br/> N'avez-vous pas pensé que ce serait encore mieux si on pouvait mettre en pause la musique, reprendre la musique, la remettre au début ou encore modifier le volume ?</p><h3 id="r-autres-actions-sur-la-musique" data-claire-element-id="342706">Autres actions sur la musique</h3><p id="r-342697" data-claire-element-id="342697">Pour arrêter la musique, utilisez la fonction <code data-claire-semantic="c">Mix_PauseMusic(); </code>.<br/> Et pour la reprendre au même endroit, <code data-claire-semantic="c">Mix_ResumeMusic(); </code>.<br/> Pour revenir au début, <code data-claire-semantic="c">Mix_RewindMusic(); </code> (ne marche pas avec les .mid, car c'est un format un peu à part).<br/> Pour régler le volume : <code data-claire-semantic="c">Mix_VolumeMusic(); </code>.<br/> Pour lui, il y a un paramètre : le volume !<br/> Il va de 0 à 128 (ou <code data-claire-semantic="c">MIX_MAX_VOLUME </code>, un define qui est le son maximum).<br/> On peut donc mettre le volume à moitié :</p><pre id="r-342698" data-claire-element-id="342698"><code data-claire-semantic="c">Mix_VolumeMusic(MIX_MAX_VOLUME / 2);</code></pre><p id="r-342699" data-claire-element-id="342699">Pour arrêter la musique, utilisez la fonction <code data-claire-semantic="c">Mix_HaltMusic(); </code>.</p><p id="r-342700" data-claire-element-id="342700">Pour savoir si la musique est en pause, on vérifie si <code data-claire-semantic="c">Mix_PausedMusic() </code> est égal à 1.<br/> Pour savoir si la musique est en train de jouer, on vérifie si <code data-claire-semantic="c">Mix_PlayingMusic() </code> est égal à 1.</p><p id="r-342701" data-claire-element-id="342701">Voici un code qui mélange toutes ces fonctions :</p><pre id="r-342702" data-claire-element-id="342702"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   Mix_VolumeMusic(MIX_MAX_VOLUME / 2); //Mettre le volume à la moitié
   Mix_Music *musique; //Création d'un pointeur de type Mix_Music
   musique = Mix_LoadMUS(&quot;musique.mp3&quot;); //Chargement de la musique
   Mix_PlayMusic(musique, -1); //Jouer infiniment la musique
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
         case SDL_KEYDOWN:
            switch (event.key.keysym.sym)
            {
                case SDLK_p: 
                    if(Mix_PausedMusic() == 1)//Si la musique est en pause
                    {
                        Mix_ResumeMusic(); //Reprendre la musique
                    }
                    else
                    {
                        Mix_PauseMusic(); //Mettre en pause la musique
                    }
                    break;
                case SDLK_BACKSPACE:
                    Mix_RewindMusic(); //Revient au début de la musique
                    break;
                case SDLK_ESCAPE:
                    Mix_HaltMusic(); //Arrête la musique
                    break;
            }
            break;
      }
   }
   Mix_FreeMusic(musique); //Libération de la musique
   Mix_CloseAudio(); //Fermeture de l'API
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre><div id="r-342704" data-claire-element-id="342704" data-claire-semantic="question"><p id="r-342703" data-claire-element-id="342703">Pourquoi quand j'essaie de jouer un midi, il n'y a aucun son ?</p></div><p id="r-342705" data-claire-element-id="342705">SDL_Mixer utilise Timidity pour jouer les midis, donc c'est normal qu'il n'y ait aucun son s'il n'est pas installé sous Linux.<br/> (Je n'ai eu aucun problème sous Windows, alors si vous en rencontrez un, envoyez-moi un message privé, merci.)</p><h3 id="r-installer-timidity-sur-linux" data-claire-element-id="342709">Installer Timidity sur Linux</h3><p id="r-342707" data-claire-element-id="342707">Il faut installer Timidity dans les dépôts ou sur <a href="http://timidity.sourceforge.net/">le site de TiMidity++</a>, <a href="https://sourceforge.net/project/showfiles.php?group_id=64316&amp;amp%3Bamp%3Bpackage_id=61437&amp;amp%3Bamp%3Brelease_id=227069">ici</a>.</p><p id="r-342708" data-claire-element-id="342708">Une dernière petite chose à savoir : si vous faites deux fois appel à la fonction <code data-claire-semantic="c">Mix_PlayMusic(); </code>, le deuxième appel remplacera le premier au moment de son appel, tout simplement.<br/> Voilà, vous savez beaucoup de choses sur la manière de jouer de la musique.<br/> Nous attaquerons, dans la prochaine partie, les sons.<br/> C'est là que viendront les fameux canaux.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
<span class="arrow"></span>
<span class="next">Télécharger et installer SDL_Mixer</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
<span class="next">Jouer un son court</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Jouerunsoncourt"></a><h2>Jouer un son court</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
<span class="arrow"></span>
<span class="next">Jouer de la musique (son long)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
<span class="next">Résumé des fonctions vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-342712" data-claire-element-id="342712">Dans cette partie, nous allons vous allez apprendre à jouer des sons.<br/> On verra que c'est différent avec les canaux.</p><h3 id="r-les-canaux" data-claire-element-id="342723">Les canaux</h3><div id="r-342714" data-claire-element-id="342714" data-claire-semantic="question"><p id="r-342713" data-claire-element-id="342713">Je n'ai toujours pas compris à quoi servent les canaux, peux-tu m'expliquer plus clairement ce que c'est ?</p></div><p id="r-342715" data-claire-element-id="342715">Oui.<br/> Avec SDL_Mixer, on ne peut pas jouer un son comme ça ; il faut le mettre dans un canal. On ne peut jouer qu'un seul son par canal. C'est un peu comme une radio, il y a plusieurs canaux, et dans chaque canal, il y a de la musique (ou autre) différente. Dans SDL_Mixer, c'est mieux : on peut mixer les canaux (SDL_<strong>mixer</strong>) pour pouvoir en jouer plusieurs en même temps.</p><p id="r-342716" data-claire-element-id="342716">On se sert de la fonction <code data-claire-semantic="c">Mix_AllocateChannels(); </code> pour allouer des canaux, avec comme paramètre le nombre de canaux.<br/> Si vous souhaitez jouer un maximum de 10 sons en même temps, mettez dix canaux :</p><pre id="r-342717" data-claire-element-id="342717"><code data-claire-semantic="c">Mix_AllocateChannels(10);</code></pre><aside id="r-342719" data-claire-element-id="342719" data-claire-semantic="error"><p id="r-342718" data-claire-element-id="342718">Si vous allouez 10 canaux, par exemple, vous avez les canaux de 0 à 9 (et non de 1 à 10).<br/> C'est un peu comme les tableaux.</p></aside><p id="r-342720" data-claire-element-id="342720">Pour régler le son d'un canal, utilisez la fonction <code data-claire-semantic="c">Mix_Volume(); </code>, qui prend 2 paramètres :<br/> le canal et le son.<br/> Cela peut donner par exemple :</p><pre id="r-342721" data-claire-element-id="342721"><code data-claire-semantic="c">Mix_Volume(1, MIX_MAX_VOLUME/2);</code></pre><p id="r-342722" data-claire-element-id="342722">Mettre le canal 1 à mi-volume.<br/> Ceci est <em>facultatif</em>.</p><h3 id="r-charger-et-jouer-le-son" data-claire-element-id="342751">Charger et jouer le son</h3><p id="r-342724" data-claire-element-id="342724">Ensuite, tout comme pour la musique, il faut créer un pointeur pour contenir un son. Cette fois-ci, c'est un pointeur de type <code data-claire-semantic="c">Mix_Chunk </code> :</p><pre id="r-342725" data-claire-element-id="342725"><code data-claire-semantic="c">Mix_Chunk *son;</code></pre><p id="r-342726" data-claire-element-id="342726">Puis, il faut charger le son à l'aide de <code data-claire-semantic="c">Mix_LoadWAV() </code> :</p><pre id="r-342727" data-claire-element-id="342727"><code data-claire-semantic="c">son = Mix_LoadWAV(&quot;son.wav&quot;);</code></pre><pre id="r-342728" data-claire-element-id="342728"><code data-claire-semantic="c">Mix_LoadWAV</code></pre><p id="r-342729" data-claire-element-id="342729">peut charger des sons de types WAVE, AIFF, RIFF, OGG et VOC.</p><p id="r-342730" data-claire-element-id="342730">On <em>peut</em> ensuite mettre un volume pour ce son (au lieu d'un canal comme plus haut) :<br/><code data-claire-semantic="c">Mix_VolumeChunk(son, MIX_MAX_VOLUME/2); </code><br/> Rien de nouveau : le pointeur et le volume.</p><p id="r-342731" data-claire-element-id="342731">On peut finalement jouer le son !<br/> À l'aide de la fonction <code data-claire-semantic="c">Mix_PlayChannel(); </code> :</p><pre id="r-342732" data-claire-element-id="342732"><code data-claire-semantic="c">Mix_PlayChannel(1, son, 0);</code></pre><p id="r-342733" data-claire-element-id="342733">Le premier paramètre est le canal sur lequel on le joue ; on peut mettre -1 pour le premier canal libre.<br/> Le deuxième est le pointeur.<br/> Et le dernier est le nombre de fois qu'on le joue plus 1 ; donc si on met 0, ça le joue une fois, si on met 10, ça le joue 11 fois (on peut le jouer plusieurs fois si le son a une fréquence de 22.05 KHz ou moins, avec 44.1 KHz, on peut le jouer qu'une seule fois).</p><p id="r-342734" data-claire-element-id="342734">Il faut bien sûr libérer le son avec <code data-claire-semantic="c">Mix_FreeChunk(); </code> :</p><pre id="r-342735" data-claire-element-id="342735"><code data-claire-semantic="c">Mix_FreeChunk(son);</code></pre><p id="r-342736" data-claire-element-id="342736">Voici un code complexe complet :</p><pre id="r-342737" data-claire-element-id="342737"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   Mix_AllocateChannels(32); //Allouer 32 canaux
   Mix_Volume(1, MIX_MAX_VOLUME/2); //Mettre à mi-volume le post 1
   Mix_Chunk *son;//Créer un pointeur pour stocker un .WAV
   Mix_Chunk *son2;
   son = Mix_LoadWAV(&quot;son.wav&quot;); //Charger un wav dans un pointeur
   son2 = Mix_LoadWAV(&quot;son2.wav&quot;);
   Mix_VolumeChunk(son, MIX_MAX_VOLUME/2); //Mettre un volume pour ce wav
   Mix_VolumeChunk(son2, MIX_MAX_VOLUME);
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
         case SDL_KEYDOWN:
            switch (event.key.keysym.sym)
            {
               case SDLK_a:
                  Mix_PlayChannel(1, son, 0);//Joue le son 1 sur le canal 1 ; le joue une fois (0 + 1)
                  break;
               case SDLK_s:
                  Mix_PlayChannel(2, son2, 2);//Joue le son 2 sur le canal 2 ; le joue 3 fois (2 + 1)
                  break;
            }
            break;
      }
   }
   Mix_FreeChunk(son);//Libération du son 1
   Mix_FreeChunk(son2);
   Mix_CloseAudio(); //Fermeture de l'API
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre><p id="r-342738" data-claire-element-id="342738">Il est possible de mettre en pause un son, de le reprendre et de l'arrêter.<br/> En fait, c'est plutôt sur le canal qu'on va faire ces actions.</p><div id="r-342740" data-claire-element-id="342740" data-claire-semantic="question"><p id="r-342739" data-claire-element-id="342739">Quel est l'intérêt de mettre un son en pause ?</p></div><p id="r-342741" data-claire-element-id="342741">S'il y a un menu dans votre jeu, que le joueur donne un coup d'épée qui déclenche un son (par exemple) et qu'il appuie sur le bouton pour faire apparaître le menu, le personnage cesse de bouger et le son peut s'arrêter, au lieu « d'empiéter » sur le menu.</p><p id="r-342742" data-claire-element-id="342742">Pour arrêter un canal, utilisez la fonction <code data-claire-semantic="c">Mix_HaltChannel(); </code> avec, entre parenthèses, le canal à arrêter. Si vous voulez arrêter tous les canaux, mettez -1 en paramètre :</p><pre id="r-342743" data-claire-element-id="342743"><code data-claire-semantic="c">Mix_HaltChannel(-1);</code></pre><p id="r-342744" data-claire-element-id="342744">Pour mettre en pause un canal, utilisez la fonction <code data-claire-semantic="c">Mix_Pause(); </code> avec comme paramètre le canal à mettre en pause. Là encore, vous pouvez mettre -1 pour mettre tous les canaux en pause.</p><p id="r-342745" data-claire-element-id="342745">Maintenant, il faut reprendre ce son arrêté : la fonction est <code data-claire-semantic="c">Mix_Resume(); </code> et le canal à reprendre en paramètre (-1 reprend tous les canaux).</p><p id="r-342746" data-claire-element-id="342746">Pour savoir si un canal est en pause : <code data-claire-semantic="c">Mix_Paused() </code> (en paramètre le canal) : s'il vaut 1, il est en pause, s'il vaut 0, il n'est pas en pause.<br/> Vous pouvez mettre -1 pour savoir combien de canaux sont en pause.</p><p id="r-342747" data-claire-element-id="342747">Il y a aussi la fonction <code data-claire-semantic="c">Mix_Playing() </code> : si elle vaut 1, le canal en paramètre joue.<br/> Si on met -1 en paramètre, cela indique le nombre de canaux qui jouent.<br/> Il vaut 0 si le canal ne joue pas.</p><p id="r-342748" data-claire-element-id="342748">Alors, voilà un code qui rassemble toutes les fonctions :</p><pre id="r-342749" data-claire-element-id="342749"><code data-claire-semantic="c">#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
 
int main(int argc, char *argv[])
{
   int continuer = 1;
   SDL_Init(SDL_INIT_VIDEO);
   SDL_Surface *ecran = NULL;
   ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_Event event;
   SDL_WM_SetCaption(&quot;SDL_Mixer&quot;, NULL);
   SDL_Flip(ecran);
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Initialisation de l'API Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   Mix_AllocateChannels(32); //Allouer 32 canaux
   Mix_Volume(1, MIX_MAX_VOLUME/2); //Mettre à mi-volume le post 1
   Mix_Chunk *son;//Créer un pointeur pour stocker un .WAV
   Mix_Chunk *son2;
   son = Mix_LoadWAV(&quot;son1.wav&quot;); //Charger un wav dans un pointeur
   son2 = Mix_LoadWAV(&quot;son2.wav&quot;);
   Mix_VolumeChunk(son, MIX_MAX_VOLUME/2); //Mettre un volume pour ce wav
   Mix_VolumeChunk(son2, MIX_MAX_VOLUME);
   while(continuer)
   {
      SDL_WaitEvent(&amp;amp;event);
      switch(event.type)
      {
         case SDL_QUIT:
            continuer = 0;
            break;
         case SDL_KEYDOWN:
            switch (event.key.keysym.sym)
            {
               case SDLK_a:
                  Mix_PlayChannel(1, son, 0);//Joue le son 1 sur le canal 1 ; le joue une fois (0 + 1)
                  break;
               case SDLK_s:
                  Mix_PlayChannel(2, son2, 2);//Joue le son 2 sur le canal 2 ; le joue 3 fois (2 + 1)
                  break;
               case SDLK_ESCAPE:
                  Mix_HaltChannel(-1); //On arrête tous les canaux
                  break;
               case SDLK_PAUSE:
                  if(Mix_Paused(2) == 1) //Si le canal 2 est en pause
                  {
                     Mix_Resume(2); //Le canal 2 peut maintenant rejouer
                  }
                  else
                  {
                     Mix_Pause(2); //On met en pause le canal 2
                  }
                  break;
            }
            break;
      }
   }
   Mix_FreeChunk(son);//Libération du son 1
   Mix_FreeChunk(son2);
   Mix_CloseAudio(); //Fermeture de l'API
   SDL_Quit();
   return EXIT_SUCCESS;
}</code></pre><p id="r-342750" data-claire-element-id="342750">Cela peut paraître évident pour certains, mais je le précise quand même : vous pouvez jouer une musique et des sons en même temps.<br/> La musique n'est pas dans un canal, alors que le son oui.<br/> Voilà, vous savez comment jouer un son et une musique.<br/> Je vous avais dit que ce serait un jeu d'enfant si vous n'aviez aucun problème avec la SDL.<br/> Nous verrons dans la prochaine partie un résumé de tout ce que l'on a vu ensemble.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
<span class="arrow"></span>
<span class="next">Jouer de la musique (son long)</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
<span class="next">Résumé des fonctions vues</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Rsumdesfonctionsvues"></a><h2>Résumé des fonctions vues</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
<span class="arrow"></span>
<span class="next">Jouer un son court</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
<span class="next">TP : faire un ocarina</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-342753" data-claire-element-id="342753">Dans cette partie, nous - c'est-à-dire vous, en fait ^^ - verrons un tableau résumé de tout ce que nous avons vu ensemble.</p><table id="r-342876" data-claire-element-id="342876"><thead id="r-342761" data-claire-element-id="342761"><tr id="r-342760" data-claire-element-id="342760"><th id="r-342755" data-claire-element-id="342755"><p id="r-342754" data-claire-element-id="342754">Fonction</p></th><th id="r-342757" data-claire-element-id="342757"><p id="r-342756" data-claire-element-id="342756">Description</p></th><th id="r-342759" data-claire-element-id="342759"><p id="r-342758" data-claire-element-id="342758">Description des paramètres</p></th></tr></thead><tbody id="r-342875" data-claire-element-id="342875"><tr id="r-342768" data-claire-element-id="342768"><td id="r-342763" data-claire-element-id="342763"><p id="r-342762" data-claire-element-id="342762"><code data-claire-semantic="c">Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024);</code></p></td><td id="r-342765" data-claire-element-id="342765"><p id="r-342764" data-claire-element-id="342764">Cette fonction initialise SDL_Mixer.</p></td><td id="r-342767" data-claire-element-id="342767"><p id="r-342766" data-claire-element-id="342766">Fréquence, Format audio, stereo(2 ou <code data-claire-semantic="c">MIX_DEFAULT_CHANNELS </code>) ou mono(1), Bits utilisés.</p></td></tr><tr id="r-342775" data-claire-element-id="342775"><td id="r-342770" data-claire-element-id="342770"><p id="r-342769" data-claire-element-id="342769"><code data-claire-semantic="c">Mix_VolumeMusic(MIX_MAX_VOLUME/2);</code></p></td><td id="r-342772" data-claire-element-id="342772"><p id="r-342771" data-claire-element-id="342771">Règle le volume de la musique.</p></td><td id="r-342774" data-claire-element-id="342774"><p id="r-342773" data-claire-element-id="342773">De 0 à 128 (<code data-claire-semantic="c">MIX_MAX_VOLUME </code>)</p></td></tr><tr id="r-342782" data-claire-element-id="342782"><td id="r-342777" data-claire-element-id="342777"><p id="r-342776" data-claire-element-id="342776"><code data-claire-semantic="c">Mix_LoadMUS(&quot;musique.mp3&quot;);</code></p></td><td id="r-342779" data-claire-element-id="342779"><p id="r-342778" data-claire-element-id="342778">Charge une musique (à mettre dans un pointeur de type <code data-claire-semantic="c">Mix_Music </code>).</p></td><td id="r-342781" data-claire-element-id="342781"><p id="r-342780" data-claire-element-id="342780">Le fichier audio.</p></td></tr><tr id="r-342789" data-claire-element-id="342789"><td id="r-342784" data-claire-element-id="342784"><p id="r-342783" data-claire-element-id="342783"><code data-claire-semantic="c">Mix_PlayMusic(musique, 1);</code></p></td><td id="r-342786" data-claire-element-id="342786"><p id="r-342785" data-claire-element-id="342785">Joue la musique.</p></td><td id="r-342788" data-claire-element-id="342788"><p id="r-342787" data-claire-element-id="342787">Le pointeur de la musique, nombre de fois à jouer (-1 pour infini).</p></td></tr><tr id="r-342795" data-claire-element-id="342795"><td id="r-342791" data-claire-element-id="342791"><p id="r-342790" data-claire-element-id="342790"><code data-claire-semantic="c">Mix_PauseMusic();</code></p></td><td id="r-342793" data-claire-element-id="342793"><p id="r-342792" data-claire-element-id="342792">Met en pause la musique.</p></td><td id="r-342794" data-claire-element-id="342794"></td></tr><tr id="r-342801" data-claire-element-id="342801"><td id="r-342797" data-claire-element-id="342797"><p id="r-342796" data-claire-element-id="342796"><code data-claire-semantic="c">Mix_ResumeMusic();</code></p></td><td id="r-342799" data-claire-element-id="342799"><p id="r-342798" data-claire-element-id="342798">Reprend la musique.</p></td><td id="r-342800" data-claire-element-id="342800"></td></tr><tr id="r-342807" data-claire-element-id="342807"><td id="r-342803" data-claire-element-id="342803"><p id="r-342802" data-claire-element-id="342802"><code data-claire-semantic="c">Mix_RewindMusic();</code></p></td><td id="r-342805" data-claire-element-id="342805"><p id="r-342804" data-claire-element-id="342804">Revient au début.</p></td><td id="r-342806" data-claire-element-id="342806"></td></tr><tr id="r-342813" data-claire-element-id="342813"><td id="r-342809" data-claire-element-id="342809"><p id="r-342808" data-claire-element-id="342808"><code data-claire-semantic="c">Mix_PausedMusic();</code></p></td><td id="r-342811" data-claire-element-id="342811"><p id="r-342810" data-claire-element-id="342810">S'il est égal à un, cela signifie que la musique est en pause.</p></td><td id="r-342812" data-claire-element-id="342812"></td></tr><tr id="r-342819" data-claire-element-id="342819"><td id="r-342815" data-claire-element-id="342815"><p id="r-342814" data-claire-element-id="342814"><code data-claire-semantic="c">Mix_PlayingMusic();</code></p></td><td id="r-342817" data-claire-element-id="342817"><p id="r-342816" data-claire-element-id="342816">S'il est égal à un, cela signifie que la musique est en train de jouer.</p></td><td id="r-342818" data-claire-element-id="342818"></td></tr><tr id="r-342826" data-claire-element-id="342826"><td id="r-342821" data-claire-element-id="342821"><p id="r-342820" data-claire-element-id="342820"><code data-claire-semantic="c">Mix_FreeMusic(musique);</code></p></td><td id="r-342823" data-claire-element-id="342823"><p id="r-342822" data-claire-element-id="342822">Libère de la musique.</p></td><td id="r-342825" data-claire-element-id="342825"><p id="r-342824" data-claire-element-id="342824">Le pointeur de la musique.</p></td></tr><tr id="r-342833" data-claire-element-id="342833"><td id="r-342828" data-claire-element-id="342828"><p id="r-342827" data-claire-element-id="342827"><code data-claire-semantic="c">Mix_AllocateChannels(32);</code></p></td><td id="r-342830" data-claire-element-id="342830"><p id="r-342829" data-claire-element-id="342829">Alloue des canaux.</p></td><td id="r-342832" data-claire-element-id="342832"><p id="r-342831" data-claire-element-id="342831">Nombre de canaux.</p></td></tr><tr id="r-342840" data-claire-element-id="342840"><td id="r-342835" data-claire-element-id="342835"><p id="r-342834" data-claire-element-id="342834"><code data-claire-semantic="c">Mix_Volume(1, MIX_MAX_VOLUME/2);</code></p></td><td id="r-342837" data-claire-element-id="342837"><p id="r-342836" data-claire-element-id="342836">Change le volume d'un canal.</p></td><td id="r-342839" data-claire-element-id="342839"><p id="r-342838" data-claire-element-id="342838">Canal, volume.</p></td></tr><tr id="r-342847" data-claire-element-id="342847"><td id="r-342842" data-claire-element-id="342842"><p id="r-342841" data-claire-element-id="342841"><code data-claire-semantic="c">Mix_LoadWAV(&quot;son.wav&quot;);</code></p></td><td id="r-342844" data-claire-element-id="342844"><p id="r-342843" data-claire-element-id="342843">Charge un son.</p></td><td id="r-342846" data-claire-element-id="342846"><p id="r-342845" data-claire-element-id="342845">Fichier audio.</p></td></tr><tr id="r-342854" data-claire-element-id="342854"><td id="r-342849" data-claire-element-id="342849"><p id="r-342848" data-claire-element-id="342848"><code data-claire-semantic="c">Mix_VolumeChunk(son, MIX_MAX_VOLUME/2);</code></p></td><td id="r-342851" data-claire-element-id="342851"><p id="r-342850" data-claire-element-id="342850">Met un volume à un son.</p></td><td id="r-342853" data-claire-element-id="342853"><p id="r-342852" data-claire-element-id="342852">Pointeur, volume</p></td></tr><tr id="r-342861" data-claire-element-id="342861"><td id="r-342856" data-claire-element-id="342856"><p id="r-342855" data-claire-element-id="342855"><code data-claire-semantic="c">Mix_PlayChannel(1, son, 0);</code></p></td><td id="r-342858" data-claire-element-id="342858"><p id="r-342857" data-claire-element-id="342857">Joue un canal.</p></td><td id="r-342860" data-claire-element-id="342860"><p id="r-342859" data-claire-element-id="342859">Canal, pointeur, nombre de fois + 1.</p></td></tr><tr id="r-342868" data-claire-element-id="342868"><td id="r-342863" data-claire-element-id="342863"><p id="r-342862" data-claire-element-id="342862"><code data-claire-semantic="c">Mix_FreeChunk(son);</code></p></td><td id="r-342865" data-claire-element-id="342865"><p id="r-342864" data-claire-element-id="342864">Libère un son.</p></td><td id="r-342867" data-claire-element-id="342867"><p id="r-342866" data-claire-element-id="342866">Pointeur.</p></td></tr><tr id="r-342874" data-claire-element-id="342874"><td id="r-342870" data-claire-element-id="342870"><p id="r-342869" data-claire-element-id="342869"><code data-claire-semantic="c">Mix_CloseAudio();</code></p></td><td id="r-342872" data-claire-element-id="342872"><p id="r-342871" data-claire-element-id="342871">Ferme l'API.</p></td><td id="r-342873" data-claire-element-id="342873"></td></tr></tbody></table><p id="r-342877" data-claire-element-id="342877">Voilà, vous avez tout.<br/> Mais vous n'avez pas fini votre apprentissage de la bibliothèque SDL_Mixer.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
<span class="arrow"></span>
<span class="next">Jouer un son court</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
<span class="next">TP : faire un ocarina</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="TPfaireunocarina"></a><h2>TP : faire un ocarina</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
<span class="arrow"></span>
<span class="next">Résumé des fonctions vues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
<span class="next">Changer la fréquence d&#039;un effet sonore</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<div id="r-342880" data-claire-element-id="342880" data-claire-semantic="question"><p id="r-342879" data-claire-element-id="342879">Un ocarina...? C'est quoi, un ocarina ?</p></div><p id="r-342881" data-claire-element-id="342881">Un ocarina est un petit instrument de musique à vent :</p><figure id="r-342883" data-claire-element-id="342884"><img id="r-342882" data-claire-element-id="342882" src="medias/uploads.siteduzero.com_files_236001_237000_236582.png" alt="Image utilisateur"/></figure><div id="r-342886" data-claire-element-id="342886" data-claire-semantic="question"><p id="r-342885" data-claire-element-id="342885">Et comment va-t-on faire ça ?</p></div><p id="r-342887" data-claire-element-id="342887">Comme dans Zelda, c'est-à-dire comme ceci :</p><figure id="r-342889" data-claire-element-id="342890"><img id="r-342888" data-claire-element-id="342888" src="medias/uploads.siteduzero.com_files_111001_112000_111650.png" alt="Image utilisateur"/></figure><p id="r-342891" data-claire-element-id="342891">Vous voyez, il y a la portée et les notes qui s'afficheront lorsque l'on cliquera sur l'une des touches suivantes :</p><ul id="r-342902" data-claire-element-id="342902"><li id="r-342893" data-claire-element-id="342893"><p id="r-342892" data-claire-element-id="342892">z ;</p></li><li id="r-342895" data-claire-element-id="342895"><p id="r-342894" data-claire-element-id="342894">flèche gauche ;</p></li><li id="r-342897" data-claire-element-id="342897"><p id="r-342896" data-claire-element-id="342896">flèche droite ;</p></li><li id="r-342899" data-claire-element-id="342899"><p id="r-342898" data-claire-element-id="342898">flèche bas ;</p></li><li id="r-342901" data-claire-element-id="342901"><p id="r-342900" data-claire-element-id="342900">flèche haut.</p></li></ul><h2 id="r-preparation-11" data-claire-element-id="342967">Préparation</h2><p id="r-342903" data-claire-element-id="342903">Le principe est simple : l'utilisateur joue une suite de notes ; ensuite, la musique se joue.</p><p id="r-342904" data-claire-element-id="342904">Il y a un maximum de huit notes, donc quand l'utilisateur a joué huit notes et que ce n'est pas une musique, on les efface toutes.<br/> On va faire une touche (<code data-claire-semantic="c">backspace</code>) qui permettra d'effacer toutes les notes à la place d'en jouer huit (c'est plus pratique si on se trompe).<br/> On activera le « mode Ocarina » lors de l'appui de la touche « o ».<br/> Donc, on ne peut pas jouer s'il n'est pas activé.<br/> Un autre appui sur la touche « o » le désactivera.<br/> Il se désactivera aussi à la fin d'une musique.</p><p id="r-342905" data-claire-element-id="342905">Voici ce que ça donne sous forme de gif animé si ce n'est pas assez clair pour ceux qui n'ont jamais joué à Zelda : Ocarina of Time :</p><figure id="r-342907" data-claire-element-id="342908"><img id="r-342906" data-claire-element-id="342906" src="medias/uploads.siteduzero.com_files_236001_237000_236578.gif" alt="Image utilisateur"/></figure><p id="r-342909" data-claire-element-id="342909">Dans cette image, les notes ne sont, bien sûr, pas jouer (ce n'est pas une vidéo).<br/> Remarquez bien que les notes suivent la musique (dans votre programme, pas dans l'image).</p><p id="r-342910" data-claire-element-id="342910">Encore quelques détails et je vous laisse coder<strong>penser</strong>. Eh oui, il faut penser avant de coder. Ce TP n'est pas très difficile si vous avez bien suivi les cours de M@teo (oui, je l'ai fait, alors pourquoi pas vous ? ;) ).</p><p id="r-342911" data-claire-element-id="342911">Vous devrez inclure les fichiers .h suivants :</p><ul id="r-342918" data-claire-element-id="342918"><li id="r-342913" data-claire-element-id="342913"><p id="r-342912" data-claire-element-id="342912">SDL.h</p></li><li id="r-342915" data-claire-element-id="342915"><p id="r-342914" data-claire-element-id="342914">SDL_mixer.h</p></li><li id="r-342917" data-claire-element-id="342917"><p id="r-342916" data-claire-element-id="342916">SDL_image.h (au choix).</p></li></ul><p id="r-342919" data-claire-element-id="342919">Je vous conseille de faire un tableau qui contiendra les 8 notes de la portée.<br/> De plus, utilisez une énumération avec comme valeurs possibles NONE, Z, BAS, HAUT, GAUCHE et DROITE.<br/> Chaque case du tableau devra contenir une valeur possible de l'énumération.</p><p id="r-342920" data-claire-element-id="342920">Vous pouvez faire autrement, mais n'oubliez pas la valeur possible qui ne vaut aucune note, car il y a des musiques de 6 notes au lieu de 8.<br/> Vous aurez besoin de ressources graphiques et sonores <a href="http://www.sendspace.com/file/bhztt1">que vous pouvez télécharger ici</a>.</p><p id="r-342921" data-claire-element-id="342921">Voici un tableau qui montre les images et donne leur position.<br/> Si vous voulez les mêmes positions que moi, utilisez une fenêtre de 640 * 480.<br/> (<em>i</em> est égal à la note qu'on est tenu de jouer)</p><table id="r-342965" data-claire-element-id="342965"><thead id="r-342927" data-claire-element-id="342927"><tr id="r-342926" data-claire-element-id="342926"><th id="r-342923" data-claire-element-id="342923"><p id="r-342922" data-claire-element-id="342922">Image</p></th><th id="r-342925" data-claire-element-id="342925"><p id="r-342924" data-claire-element-id="342924">Position (x, y)</p></th></tr></thead><tbody id="r-342964" data-claire-element-id="342964"><tr id="r-342933" data-claire-element-id="342933"><td id="r-342929" data-claire-element-id="342930"><img id="r-342930" data-claire-element-id="342929" src="medias/uploads.siteduzero.com_files_118001_119000_118620.png" alt="Image utilisateur"/><img id="r-342928" data-claire-element-id="342928" src="medias/uploads.siteduzero.com_files_118001_119000_118620.png" alt="Image utilisateur"/></td><td id="r-342932" data-claire-element-id="342932"><p id="r-342931" data-claire-element-id="342931">(115 + i * 53, 400)</p></td></tr><tr id="r-342939" data-claire-element-id="342939"><td id="r-342935" data-claire-element-id="342936"><img id="r-342936" data-claire-element-id="342935" src="medias/uploads.siteduzero.com_files_118001_119000_118619.png" alt="Image utilisateur"/><img id="r-342934" data-claire-element-id="342934" src="medias/uploads.siteduzero.com_files_118001_119000_118619.png" alt="Image utilisateur"/></td><td id="r-342938" data-claire-element-id="342938"><p id="r-342937" data-claire-element-id="342937">(115 + i * 53, 345)</p></td></tr><tr id="r-342945" data-claire-element-id="342945"><td id="r-342941" data-claire-element-id="342942"><img id="r-342942" data-claire-element-id="342941" src="medias/uploads.siteduzero.com_files_118001_119000_118618.png" alt="Image utilisateur"/><img id="r-342940" data-claire-element-id="342940" src="medias/uploads.siteduzero.com_files_118001_119000_118618.png" alt="Image utilisateur"/></td><td id="r-342944" data-claire-element-id="342944"><p id="r-342943" data-claire-element-id="342943">(115 + i * 53, 355)</p></td></tr><tr id="r-342951" data-claire-element-id="342951"><td id="r-342947" data-claire-element-id="342948"><img id="r-342948" data-claire-element-id="342947" src="medias/uploads.siteduzero.com_files_118001_119000_118617.png" alt="Image utilisateur"/><img id="r-342946" data-claire-element-id="342946" src="medias/uploads.siteduzero.com_files_118001_119000_118617.png" alt="Image utilisateur"/></td><td id="r-342950" data-claire-element-id="342950"><p id="r-342949" data-claire-element-id="342949">(115 + i * 53, 380)</p></td></tr><tr id="r-342957" data-claire-element-id="342957"><td id="r-342953" data-claire-element-id="342954"><img id="r-342954" data-claire-element-id="342953" src="medias/uploads.siteduzero.com_files_118001_119000_118616.png" alt="Image utilisateur"/><img id="r-342952" data-claire-element-id="342952" src="medias/uploads.siteduzero.com_files_118001_119000_118616.png" alt="Image utilisateur"/></td><td id="r-342956" data-claire-element-id="342956"><p id="r-342955" data-claire-element-id="342955">(115 + i * 53, 390)</p></td></tr><tr id="r-342963" data-claire-element-id="342963"><td id="r-342959" data-claire-element-id="342960"><img id="r-342960" data-claire-element-id="342959" src="medias/uploads.siteduzero.com_files_118001_119000_118615.png" alt="Image utilisateur"/><img id="r-342958" data-claire-element-id="342958" src="medias/uploads.siteduzero.com_files_118001_119000_118615.png" alt="Image utilisateur"/></td><td id="r-342962" data-claire-element-id="342962"><p id="r-342961" data-claire-element-id="342961">(75, 350)</p></td></tr></tbody></table><p id="r-342966" data-claire-element-id="342966">Ensuite, vous aurez besoin de connaître les notes qu'il faut jouer pour faire jouer la musique.<br/>G = Gauche, H = Haut, D = Droite, B = Bas, N = aucune note<br/> Berceuse de Zelda : GHDGHDNN<br/> Chanson d'Epona : HGDHGDNN<br/> Chant de Saria : BDGBDGNN<br/> Ces trois musiques sont incluses dans le fichier .zip que je vous ai fait télécharger.</p><h2 id="r-correction-115" data-claire-element-id="342973">Correction</h2><p id="r-342968" data-claire-element-id="342968">Bon, avez-vous fini ?<br/> Non... :euh: Qu'est-ce que vous faites là ? :colere2: <br/> Si c'est le cas, je vous demande de relire cette page ou, si vous ne réussissez toujours pas, de demander de l'aide sur le forum, car vous devriez être capables de le faire puisqu'il n'est pas d'une extrême difficulté.</p><p id="r-342969" data-claire-element-id="342969">Je vous rappelle que c'est <em>mon</em> code, donc le vôtre est sûrement différent parce que chacun code à sa façon.</p><pre id="r-342970" data-claire-element-id="342970"><code data-claire-semantic="c">/*
Projet Ocarina
créé par Antoyo
pour le Site du Zér0
*/

#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;SDL/SDL.h&gt;
#include &lt;SDL/SDL_mixer.h&gt;
#include &lt;SDL/SDL_image.h&gt;

//Cette structure sera transmise à la fonction qui sert de boucle du programme
typedef struct Donnees Donnees;
struct Donnees
{
   int continuer;
   int sonNumero;
   int ocarina;
   int musique[8];
   SDL_Surface *ecran;
   Mix_Chunk *gauche, *haut, *droite, *bas, *z;
   Mix_Music *BerceuseZelda, *ChantEpona, *ChantSaria;
   SDL_Rect positionBarre, positionNote[8], positionOcarina;
   SDL_Event event;
};

int bouclePrincipale(Donnees *p);
int verifieMusique(int *musique);
enum {NONE, Z, BAS, HAUT, GAUCHE, DROITE};
enum {AUCUNE, BERCEUSE, EPONA, SARIA};

int main(int argc, char *argv[])
{
   Donnees p = {0, 0, 0, 0, 0, 0, 0, 0, 0};
   //la variable sonNumero sert à savoir quelle note, de 0 à 7, on est tenu de jouer (pour le tableau de notes) ; la variable ocarina est un booléen qui vaut 1 lorsque la barre est affichée et que l'on peut jouer. Le tableau musique sert à retenir les notes jouées.
   p.continuer = 1, p.sonNumero = 0, p.ocarina = 0;
   p.musique[8];
   
   SDL_Init(SDL_INIT_VIDEO | SDL_INIT_TIMER);
   p.ecran = SDL_SetVideoMode(640, 480, 32, SDL_HWSURFACE | SDL_DOUBLEBUF);
   SDL_WM_SetCaption(&quot;Ocarina&quot;, NULL);
   SDL_WM_SetIcon(IMG_Load(&quot;ocarina.png&quot;), NULL);
   
   if(Mix_OpenAudio(44100, MIX_DEFAULT_FORMAT, MIX_DEFAULT_CHANNELS, 1024) == -1) //Ouverture de SDL_Mixer
   {
      printf(&quot;%s&quot;, Mix_GetError());
   }
   Mix_AllocateChannels(1); //Je n'alloue qu'un seul canal, car on ne peut jouer qu'une seule note à la fois.
   
   //Chargement des sons.
   p.gauche = Mix_LoadWAV(&quot;OOT_Notes_Ocarina_A_long.wav&quot;);
   p.droite = Mix_LoadWAV(&quot;OOT_Notes_Ocarina_B_long.wav&quot;);
   p.haut = Mix_LoadWAV(&quot;OOT_Notes_Ocarina_D2_long.wav&quot;);
   p.bas = Mix_LoadWAV(&quot;OOT_Notes_Ocarina_D_long.wav&quot;);
   p.z = Mix_LoadWAV(&quot;OOT_Notes_Ocarina_F_long.wav&quot;);
   
   //Chargement des musiques.
   p.BerceuseZelda = Mix_LoadMUS(&quot;z5_BerceuseZelda.mp3&quot;);
   p.ChantEpona = Mix_LoadMUS(&quot;z5_ChantEpona.mp3&quot;);
   p.ChantSaria = Mix_LoadMUS(&quot;z5_ChantSaria.mp3&quot;);
   
   p.positionBarre.x = 75;
   p.positionBarre.y = 350;
   p.positionOcarina.x = 0;
   p.positionOcarina.y = 0;
   
   while(p.continuer)
   {
      bouclePrincipale(&amp;amp;p);
   }
   //On libère la mémoire et on ferme ce qu'on a ouvert.
   Mix_FreeChunk(p.bas);
   Mix_FreeChunk(p.haut);
   Mix_FreeChunk(p.droite);
   Mix_FreeChunk(p.gauche);
   Mix_FreeChunk(p.z);
   Mix_FreeMusic(p.BerceuseZelda);
   Mix_FreeMusic(p.ChantEpona);
   Mix_FreeMusic(p.ChantSaria);
   Mix_CloseAudio();
   SDL_Quit();
   return EXIT_SUCCESS;
}

int verifieMusique(int *musique)
{
   if(musique[0] == GAUCHE &amp;amp;&amp;amp; musique[1] == HAUT &amp;amp;&amp;amp; musique[2] == DROITE &amp;amp;&amp;amp; musique[3] == GAUCHE &amp;amp;&amp;amp; musique[4] == HAUT &amp;amp;&amp;amp; musique[5] == DROITE &amp;amp;&amp;amp; musique[6] == NONE &amp;amp;&amp;amp; musique[7] == NONE)
   {
      return BERCEUSE;
   }
   if(musique[0] == HAUT &amp;amp;&amp;amp; musique[1] == GAUCHE &amp;amp;&amp;amp; musique[2] == DROITE &amp;amp;&amp;amp; musique[3] == HAUT &amp;amp;&amp;amp; musique[4] == GAUCHE &amp;amp;&amp;amp; musique[5] == DROITE &amp;amp;&amp;amp; musique[6] == NONE &amp;amp;&amp;amp; musique[7] == NONE)
   {
      return EPONA;
   }
   if(musique[0] == BAS &amp;amp;&amp;amp; musique[1] == DROITE &amp;amp;&amp;amp; musique[2] == GAUCHE &amp;amp;&amp;amp; musique[3] == BAS &amp;amp;&amp;amp; musique[4] == DROITE &amp;amp;&amp;amp; musique[5] == GAUCHE &amp;amp;&amp;amp; musique[6] == NONE &amp;amp;&amp;amp; musique[7] == NONE)
   {
      return SARIA;
   }
   return AUCUNE;
}

int bouclePrincipale(Donnees *p)
{
   int i;
      SDL_WaitEvent(&amp;amp;p-&gt;event);
      switch(p-&gt;event.type)
      {
         case SDL_QUIT:
            p-&gt;continuer = 0;
            break;
         case SDL_KEYDOWN:
            switch(p-&gt;event.key.keysym.sym)
            {
               case SDLK_o:
                  if(p-&gt;ocarina)//Si la touche 'o' est pressée et si l'ocarina est activé, on le désactive, sinon on l'active.
                  {
                     p-&gt;ocarina = 0;
                  }
                  else
                  {
                     p-&gt;ocarina = 1;
                  }
                  p-&gt;sonNumero = 0; //La variable sonNumero vaut maintenant 0, car il n'y a plus de son en mémoire.
                  for(i = 0 ; i &lt; 8 ; i ++) //Enlever les sons en mémoire.
                  {
                     p-&gt;musique[i] = NONE;
                  }
                  break;
               case SDLK_z:
                  if(p-&gt;ocarina) //Si l'ocarina est activé (IMPORTANT)
                  {
                     Mix_PlayChannel(0, p-&gt;z, 0); //Jouer le son 'z'.
                     p-&gt;musique[p-&gt;sonNumero] = Z; //Insertion de la note 'z' dans le tableau à la case sonNumero
                     p-&gt;sonNumero ++; //Incrémentation de la variable sonNumero, car on a joué une note.
                  }
                  break;
               case SDLK_DOWN:
                  if(p-&gt;ocarina)
                  {
                     Mix_PlayChannel(0, p-&gt;bas, 0);
                     p-&gt;musique[p-&gt;sonNumero] = BAS;
                     p-&gt;sonNumero ++;
                  }
                  break;
               case SDLK_UP:
                  if(p-&gt;ocarina)
                  {
                     Mix_PlayChannel(0, p-&gt;haut, 0);
                     p-&gt;musique[p-&gt;sonNumero] = HAUT;
                     p-&gt;sonNumero ++;
                  }
                  break;
               case SDLK_LEFT:
                  if(p-&gt;ocarina)
                  {
                     Mix_PlayChannel(0, p-&gt;gauche, 0);
                     p-&gt;musique[p-&gt;sonNumero] = GAUCHE;
                     p-&gt;sonNumero ++;
                  }
                  break;
               case SDLK_RIGHT:
                  if(p-&gt;ocarina)
                  {
                     Mix_PlayChannel(0, p-&gt;droite, 0);
                     p-&gt;musique[p-&gt;sonNumero] = DROITE;
                     p-&gt;sonNumero ++;
                  }
                  break;
               case SDLK_BACKSPACE:
                  Mix_HaltChannel(0);
                  p-&gt;sonNumero = 0;
                  for(i = 0 ; i &lt; 8 ; i ++)
                  {
                     p-&gt;musique[i] = NONE;
                  }
                  break;
            }
            break;
      }
      SDL_FillRect(p-&gt;ecran, NULL, SDL_MapRGB(p-&gt;ecran-&gt;format, 0, 0, 0));
      if(p-&gt;ocarina == 1)
      {
         SDL_BlitSurface(IMG_Load(&quot;BarreOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionBarre); //Si l'ocarina est activé, on affiche la barre
      }
	  //Cette boucle sert à afficher les 8 notes.
      for(i = 0 ; i &lt; 8 ; i++)
      {
         switch(p-&gt;musique[i])
         {
            case 1:
               p-&gt;positionNote[i].x = 115 + (i * 53);
               p-&gt;positionNote[i].y = 400;
               SDL_BlitSurface(IMG_Load(&quot;BoutonZOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[i]);
               break;
            case 2:
               p-&gt;positionNote[i].x = 115 + (i * 53);
               p-&gt;positionNote[i].y = 390;
               SDL_BlitSurface(IMG_Load(&quot;BoutonBasOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[i]);
               break;
            case 3:
               p-&gt;positionNote[i].x = 115 + (i * 53);
               p-&gt;positionNote[i].y = 345;
               SDL_BlitSurface(IMG_Load(&quot;BoutonHautOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[i]);
               break;
            case 4:
               p-&gt;positionNote[i].x = 115 + (i * 53);
               p-&gt;positionNote[i].y = 355;
               SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[i]);
               break;
            case 5:
               p-&gt;positionNote[i].x = 115 + (i * 53);
               p-&gt;positionNote[i].y = 380;
               SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[i]);
               break;
         }
      }
      SDL_Flip(p-&gt;ecran);
      /*
      Berceuse de Zelda: GHDGHDNN
      Chanson d'Epona: HGDHGDNN
      Chant de Saria: BDGBDGNN
      */
	  //Si le tableau contient les notes correctes, on joue la musique
	  if(verifieMusique(p-&gt;musique) == BERCEUSE)
      {
         SDL_Delay(2000);
         SDL_FillRect(p-&gt;ecran, NULL, SDL_MapRGB(p-&gt;ecran-&gt;format, 0, 0, 0));
         SDL_BlitSurface(IMG_Load(&quot;BarreOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionBarre);
         SDL_Flip(p-&gt;ecran);
		 //on joue la musique et on affiche les notes en même temps qu'elles se jouent dans la musique.
         Mix_PlayMusic(p-&gt;BerceuseZelda, 1);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[0]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(1250);
         SDL_BlitSurface(IMG_Load(&quot;BoutonHautOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[1]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(450);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[2]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(1300);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[3]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(800);
         SDL_BlitSurface(IMG_Load(&quot;BoutonHautOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[4]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(450);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[5]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(5000);
         for(i = 0 ; i &lt; 8 ; i ++)
         {
            p-&gt;musique[i] = NONE;
         }
         p-&gt;sonNumero = 0;
         p-&gt;ocarina = 0; //on oublie pas de désactiver l'ocarina
      }
      if(verifieMusique(p-&gt;musique) == EPONA)
      {
         SDL_Delay(2000);
         SDL_FillRect(p-&gt;ecran, NULL, SDL_MapRGB(p-&gt;ecran-&gt;format, 0, 0, 0));
         SDL_BlitSurface(IMG_Load(&quot;BarreOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionBarre);
         SDL_Flip(p-&gt;ecran);
         Mix_PlayMusic(p-&gt;ChantEpona, 1);
         SDL_BlitSurface(IMG_Load(&quot;BoutonHautOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[0]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(750);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[1]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(200);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[2]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(1000);
         SDL_BlitSurface(IMG_Load(&quot;BoutonHautOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[3]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(650);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[4]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(200);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[5]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(4000);
         for(i = 0 ; i &lt; 8 ; i ++)
         {
            p-&gt;musique[i] = NONE;
         }
         p-&gt;sonNumero = 0;
         p-&gt;ocarina = 0;
      }
      if(verifieMusique(p-&gt;musique) == SARIA)
      {
         SDL_Delay(2000);
         SDL_FillRect(p-&gt;ecran, NULL, SDL_MapRGB(p-&gt;ecran-&gt;format, 0, 0, 0));
         SDL_BlitSurface(IMG_Load(&quot;BarreOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionBarre);
         SDL_Flip(p-&gt;ecran);
         Mix_PlayMusic(p-&gt;ChantSaria, 1);
         SDL_BlitSurface(IMG_Load(&quot;BoutonBasOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[0]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(500);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[1]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(200);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[2]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(500);
         SDL_BlitSurface(IMG_Load(&quot;BoutonBasOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[3]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(300);
         SDL_BlitSurface(IMG_Load(&quot;BoutonDroiteOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[4]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(200);
         SDL_BlitSurface(IMG_Load(&quot;BoutonGaucheOcarina.png&quot;), NULL, p-&gt;ecran, &amp;amp;p-&gt;positionNote[5]);
         SDL_Flip(p-&gt;ecran);
         SDL_Delay(4000);
         for(i = 0 ; i &lt; 8 ; i ++)
         {
            p-&gt;musique[i] = NONE;
         }
         p-&gt;sonNumero = 0;
         p-&gt;ocarina = 0;
      }
	  //S'il n'y a aucune musique de joué, on désactive l'ocarina
      if(verifieMusique(p-&gt;musique) == AUCUNE &amp;amp;&amp;amp; p-&gt;sonNumero == 8)
      {
         for(i = 0 ; i &lt; 8 ; i ++)
         {
            p-&gt;musique[i] = NONE;
         }
         p-&gt;sonNumero = 0;
      }
}</code></pre><p id="r-342971" data-claire-element-id="342971">Pour télécharger ce projet, <a href="http://www.sendspace.com/file/bdja5g">cliquez ici</a>.</p><p id="r-342972" data-claire-element-id="342972">Comme promis au début... quoi ? moi, des promesses ?... :p dans le prochain et dernier chapitre (eh oui, c'était long, vous ne trouvez pas ? :lol: ), vous verrez comment changer facilement la fréquence d'un effet sonore.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
<span class="arrow"></span>
<span class="next">Résumé des fonctions vues</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
<span class="next">Changer la fréquence d&#039;un effet sonore</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Changerlafrquenced039uneffetsonore"></a><h2>Changer la fréquence d&#039;un effet sonore</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
<span class="arrow"></span>
<span class="next">TP : faire un ocarina</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-342975" data-claire-element-id="342975">Dans cette dernière partie, nous allons apprendre à changer la fréquence d'un effet sonore avec Audacity.</p><div id="r-342977" data-claire-element-id="342977" data-claire-semantic="question"><p id="r-342976" data-claire-element-id="342976">Qu'est-ce que c'est, Audacity ?</p></div><p id="r-342978" data-claire-element-id="342978">Audacity est un logiciel fantastique pour modifier des effets sonores. Moi, je ne vais que vous montrer comment changer la fréquence et rien d'autre. Quoi, je ne connais pas beaucoup ce logiciel... :-°</p><h2 id="r-installer-audacity" data-claire-element-id="342984">Installer Audacity</h2><h3 id="r-sous-windows-23" data-claire-element-id="342981">Sous Windows</h3><p id="r-342979" data-claire-element-id="342979">Il se trouve ici : <a href="http://audacity.sourceforge.net/">http://audacity.sourceforge.net/</a>.<br/> Cliquez sur « Télécharger Audacity 1.2.6 », ou s'il y a une version plus récente, cliquez sur elle, mais évitez de prendre une version bêta.<br/> Sur la nouvelle page, cliquez sur « Windows ».<br/> Ensuite, cliquez sur « <a href="http://audacity.sourceforge.net/latest/audacity-win/audacity-win-1.2.6.exe">Audacity 1.2.6 installer</a> », ou autre s'il y avait une version plus récente pour le télécharger.<br/> Voici comment l'installer.<br/> Double-cliquez sur l'icône « audacity-win-1.2.6 », cliquez sur « Next », cliquez sur « I accept the agreement », puis encore « Next ». Ensuite, cliquez encore sur « Next ». Choisissez l'endroit (ou laissez comme ça) puis cliquez sur « Next ». Choisissez les options que vous voulez puis cliquez sur « Next ». Finalement, cliquez sur « Install ». Cliquez sur « Finish » pour terminer l'installation.</p><p id="r-342980" data-claire-element-id="342980">Lorsque vous l'ouvrez pour la première fois, choisissez votre langue, puis cliquez sur « OK ».</p><h3 id="r-sous-linux-17" data-claire-element-id="342983">Sous Linux</h3><p id="r-342982" data-claire-element-id="342982">Téléchargez, installez le paquet audacity dans les dépôts ou sur le site de <a href="http://audacity.sourceforge.net/">Audacity</a> et cliquez sur « Télécharger Audacity 1.2.6 ».<br/> Ensuite, cliquez sur « Linux/Unix » et choisissez votre distribution.</p><h2 id="r-changer-la-frequence-d-un-son" data-claire-element-id="342989">Changer la fréquence d'un son</h2><p id="r-342985" data-claire-element-id="342986">C'est super-simple.<br/> Ouvrez Audacity. <br/> Ensuite, cliquez sur « Fichier -&gt; ouvrir » et choisissez votre son.<br/> En bas à gauche, vous pouvez voir la fréquence actuelle de votre effet sonore :<br/><a href="medias/uploads.siteduzero.com_files_118001_119000_118623.png"><img id="r-342986" data-claire-element-id="342985" src="medias/uploads.siteduzero.com_files_118001_119000_118624.png" alt="Image utilisateur"/></a><br/> Vous n'avez qu'à mettre 44100 (en cliquant sur la flèche - il n'y a pas de flèche sous Windows, donc cliquez sur le bouton - puis en choisissant 44100 ou en l'écrivant au clavier) à la place de 22050 (dans cet exemple).<br/> Pour l'enregistrer, cliquez sur « Fichier -&gt; export » (ou « Exporter en WAV... »), puis « Save ».</p><p id="r-342987" data-claire-element-id="342987">Voilà, c'est fini ! <br/> Je vous défie de changer la fréquence des effets sonores dans le fichier que je vous ai fait télécharger pour le T.P.</p><p id="r-342988" data-claire-element-id="342988">Voilà, vous savez pas mal de choses sur <code data-claire-semantic="c">SDL_Mixer </code>.<br/> Si vous voulez en apprendre plus, il y a bien d'autres choses, certes moins importantes, dans la <a href="http://www.libsdl.org/projects/SDL_mixer/docs/SDL_mixer_frame.html">doc'</a>.<br/> C'est en regardant dans les documentations que vous apprendrez le plus.<br/> J'ai remarqué qu'il y avait des fonctions pour faire un son qui se rapproche ou qui s'éloigne, cela peut être intéressant aussi.<br/> Donc, allez dans la doc', vous trouverez votre bonheur. :D <br/> J'attends vos commentaires pour mon premier tutoriel.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer">Jouer du son avec SDL_Mixer</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/telecharger-et-installer-sdl-mixer">
Télécharger et installer SDL_Mixer
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-de-la-musique-son-long">
Jouer de la musique (son long)
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/jouer-un-son-court">
Jouer un son court
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/resume-des-fonctions-vues">
Résumé des fonctions vues
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
TP : faire un ocarina
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/changer-la-frequence-d-un-effet-sonore">
Changer la fréquence d&#039;un effet sonore
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/jouer-du-son-avec-sdl-mixer/tp-faire-un-ocarina">
<span class="arrow"></span>
<span class="next">TP : faire un ocarina</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/jouer-du-son-avec-sdl-mixer.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 23:19:15 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/jouer-du-son-avec-sdl-mixer.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:04:21 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 20:02:06 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:45:03 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Découvrir et configurer le protocole SFTP avec MySecureShell</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Découvrir et configurer le protocole SFTP avec MySecureShell</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#DcouvriretconfigurerleprotocoleSFTPavecMySecureShell">Découvrir et configurer le protocole SFTP avec MySecureShell</a><br/><a href="#Pourquoidployercettesolution">Pourquoi déployer cette solution ?</a><br/><a href="#PrrequisetObjectifs">Prérequis et Objectifs</a><br/><a href="#Permettrel039accsenSSH">Permettre l&#039;accès en SSH</a><br/><a href="#InstallationetparamtragedeMySecureShell">Installation et paramètrage de MySecureShell</a><br/></div>
<a name="DcouvriretconfigurerleprotocoleSFTPavecMySecureShell"></a><h2>Découvrir et configurer le protocole SFTP avec MySecureShell</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
<span class="next">Pourquoi déployer cette solution ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-584329" data-claire-element-id="584329">Bonjour à tous !<br/> Dans ce tutoriel, je vous proposerai tout d'abord une introduction au protocole SFTP puis je vous expliquerai comment restreindre l'accès d'un utilisateur à son seul dossier <em>/home/user</em> à l'aide de l'excellent MySecureShell.</p>
</div><a name="Pourquoidployercettesolution"></a><h2>Pourquoi déployer cette solution ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
<span class="next">Prérequis et Objectifs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-dans-quels-cas-pouvez-vous-deployer-cette-solution-et-quels-sont-ses-avantages" data-claire-element-id="584338">Dans quels cas pouvez vous déployer cette solution et quels sont ses avantages ?</h2><p id="r-584330" data-claire-element-id="584330">Tout d'abord, je dois dire que ce tutoriel s'adresse avant tout aux personnes disposant d'un serveur dédié sous GNU/Linux. C'est à dire une machine (un PC de bureau fait très bien l'affaire) allumée en permenance et faisant office de serveur familial avec une distribution GNU/Linux installée dessus. Sur cette machine vous pouvez installer tout un tas de logiciels permettants d'améliorer la convergence numérique de la maison. Ainsi si vous avez plusieurs PC à la maison, vous pouvez stocker vos documents uniquement sur cette machine dédiée par exemple.</p><p id="r-584331" data-claire-element-id="584331">Ensuite, vous pouvez avoir envie de partager vos fichiers avec de la famille (photos des petits enfants pour les grands parents) par exemple mais vous pouvez souhaiter qu'ils n'accèdent qu'à une certaine partie du disque dur.</p><p id="r-584332" data-claire-element-id="584332">Il faut donc restreindre l'utilisateur à un dossier donné du système. A la connexion ce sera ce dossier d'affiché par défaut et il n'aura pas la possibilité de remonter à la racine du système ...</p><p id="r-584333" data-claire-element-id="584333">MySecureShell permet de faire ceci et nous allons voir ensemble comment mettre en place cette solution.<br/> Maintenant, prenons un exemple pour que cela soit plus concret ...</p><p id="r-584334" data-claire-element-id="584334">Lors de la connexion de l'utilisateur jean ...</p><figure id="r-584336" data-claire-element-id="584337"><img id="r-584335" data-claire-element-id="584335" src="medias/uploads.siteduzero.com_files_183001_184000_183503.png" alt="Image utilisateur"/></figure>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell">Découvrir et configurer le protocole SFTP avec MySecureShell</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
Pourquoi déployer cette solution ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
Prérequis et Objectifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
Permettre l&#039;accès en SSH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
Installation et paramètrage de MySecureShell
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
<span class="next">Prérequis et Objectifs</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PrrequisetObjectifs"></a><h2>Prérequis et Objectifs</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
<span class="arrow"></span>
<span class="next">Pourquoi déployer cette solution ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
<span class="next">Permettre l&#039;accès en SSH</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-584341" data-claire-element-id="584341" data-claire-semantic="warning"><p id="r-584340" data-claire-element-id="584340">Tout d'abord, avant de commencer, vous devez maîtriser quelques notions. Voici les compétences requises avant la lecture de ce tutoriel :</p></aside><ul id="r-584346" data-claire-element-id="584346"><li id="r-584343" data-claire-element-id="584343"><p id="r-584342" data-claire-element-id="584342">Posséder un serveur avec une distribution linux installée (pour le tuto, je prendrai comme référence une Debian Lenny)</p></li><li id="r-584345" data-claire-element-id="584345"><p id="r-584344" data-claire-element-id="584344">Avoir des connaissances minimales au niveau des systèmes GNU/Linux, notamment utiliser l'éditeur de fichiers GNU nano.<br/> Si vous n'avez pas les bases, je vous recommande la lecture de ce chapitre du tutoriel <a href="http://www.siteduzero.com/tutoriel-3-12827-reprenez-le-controle-avec-linux.html">Reprenez le contrôle avec Linux !</a> de M@teo21 : <a href="http://www.siteduzero.com/tutoriel-3-12791-nano-l-editeur-de-texte-du-debutant.html">Nano, l'éditeur de texte du débutant</a>.</p></li></ul><aside id="r-584348" data-claire-element-id="584348" data-claire-semantic="information"><p id="r-584347" data-claire-element-id="584347">A la fin de ce tutoriel, vous devriez être capable :</p></aside><ul id="r-584357" data-claire-element-id="584357"><li id="r-584350" data-claire-element-id="584350"><p id="r-584349" data-claire-element-id="584349">d'ajouter des utilisateurs pour faire du SFTP</p></li><li id="r-584352" data-claire-element-id="584352"><p id="r-584351" data-claire-element-id="584351">de modifier le shell d'un utilisateur</p></li><li id="r-584354" data-claire-element-id="584354"><p id="r-584353" data-claire-element-id="584353">de configurer MySecureShell pour un utilisateur</p></li><li id="r-584356" data-claire-element-id="584356"><p id="r-584355" data-claire-element-id="584355">d'accéder à distance à un dossier du système de fichier et uniquement à ce dossier en utilisant le protocole de transfert SFTP</p></li></ul>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell">Découvrir et configurer le protocole SFTP avec MySecureShell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
Pourquoi déployer cette solution ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
Prérequis et Objectifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
Permettre l&#039;accès en SSH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
Installation et paramètrage de MySecureShell
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
<span class="arrow"></span>
<span class="next">Pourquoi déployer cette solution ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
<span class="next">Permettre l&#039;accès en SSH</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Permettrel039accsenSSH"></a><h2>Permettre l&#039;accès en SSH</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
<span class="arrow"></span>
<span class="next">Prérequis et Objectifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
<span class="next">Installation et paramètrage de MySecureShell</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-584359" data-claire-element-id="584359">SFTP est un protocole de transfert sécurisé par SSH. Il permet de transférer des fichiers tout en bénéficiant des avantages de SSH (cryptage de tous les échanges).</p><p id="r-584360" data-claire-element-id="584360">Le protocole SFTP et SSH sont intimement liés puisque SFTP veut en réalité dire SSH File Transfert Protocole. SFTP n'est qu'en réalité une surcouche à SSH. L'installation de SSH est donc requise pour pouvoir accéder à son serveur via le protocole SFTP.</p><p id="r-584361" data-claire-element-id="584361">Après avoir réalisé un installation toute fraîche de Debian Lenny, par defaut, il n'est pas possible de se connecter à distance via le protocole SSH. Nous allons donc installer SSH.</p><pre id="r-584362" data-claire-element-id="584362"><code data-claire-semantic="console">aptitude install ssh</code></pre><p id="r-584363" data-claire-element-id="584363">A partir de là, tous les utilisateurs du système Debian Lenny peuvent se connecter en SSH et en SFTP au serveur.<br/> Ils peuvent de même, remonter à la racine et voir tout les fichiers du système.<br/> En revanche, ils ne peuvent pas modifier les fichiers ne leur appartenant pas (la gestion des droits GNU/Linux reste active).</p><p id="r-584364" data-claire-element-id="584364">Cela pose cependant de grave problèmes car même s'ils ne pourront pas modifier les fichiers ne leur appartenant pas, ces utilisateurs pourront télécharger tout les fichiers du système et donc les lire par la suite.</p><p id="r-584365" data-claire-element-id="584365">Nous allons donc voir maintenant comment restreindre l'utilisateur à son dossier contenu dans le /home (technique du chroot).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell">Découvrir et configurer le protocole SFTP avec MySecureShell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
Pourquoi déployer cette solution ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
Prérequis et Objectifs
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
Permettre l&#039;accès en SSH
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
Installation et paramètrage de MySecureShell
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
<span class="arrow"></span>
<span class="next">Prérequis et Objectifs</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
<span class="next">Installation et paramètrage de MySecureShell</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="InstallationetparamtragedeMySecureShell"></a><h2>Installation et paramètrage de MySecureShell</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
<span class="arrow"></span>
<span class="next">Permettre l&#039;accès en SSH</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<figure id="r-584368" data-claire-element-id="584369"><img id="r-584367" data-claire-element-id="584367" src="medias/uploads.siteduzero.com_files_167001_168000_167117.png" alt="Logo de MySecureShell"/></figure><p id="r-584370" data-claire-element-id="584370"><cite>Citation</cite></p><blockquote id="r-584373" data-claire-element-id="584373"><p id="r-584371" data-claire-element-id="584371">MySecureShell est un shell qui va permettre d'ajouter plusieurs fonctionnalités à sftp-server et qui va se rapprocher des grands serveurs ftp tel que ProFtpd.</p><p id="r-584372" data-claire-element-id="584372">Les avantages de MySecureShell sont qu'il s'appuie sur le protocole très sécurisé appelé SSH et qu'il permet un cryptage complet des données et des requêtes émises. Il est très simple à installer, à utiliser et hautement configurable.</p></blockquote><p id="r-584374" data-claire-element-id="584374">Voilà comment est décrit MySecureShell sur <a href="http://mysecureshell.sourceforge.net/">son site officiel</a>.<br/> Le gros avantage pour nous, c'est qu'il va nous permettre de restreindre l'utilisateur à son dossier personel.</p><h2 id="r-installation-de-mysecureshell" data-claire-element-id="584388">Installation de MySecureShell</h2><p id="r-584375" data-claire-element-id="584375">Je vais maintenant détailler la procédure d'installation de MySecureShell</p><h3 id="r-modifier-le-fichier-sources-list" data-claire-element-id="584381">Modifier le fichier sources.list</h3><p id="r-584376" data-claire-element-id="584376">Comme la dernière version de MySecureShell n'est pas forcément dans les dépôts, on ajoute une source externe .<br/> Commencez par éditer le fichier sources.list :</p><pre id="r-584377" data-claire-element-id="584377"><code data-claire-semantic="console">nano /etc/sources.list</code></pre><p id="r-584378" data-claire-element-id="584378">A la fin du fichier, ajoutez :</p><pre id="r-584379" data-claire-element-id="584379"><code>deb http://mysecureshell.free.fr/repository/index.php/debian testing main
deb-src http://mysecureshell.free.fr/repository/index.php/debian testing main</code></pre><p id="r-584380" data-claire-element-id="584380">Puis, fermez nano en tapant Ctrl+X, O et Entrer.</p><h3 id="r-recharger-la-liste-des-paquets" data-claire-element-id="584384">Recharger la liste des paquets</h3><p id="r-584382" data-claire-element-id="584382">Comme nous venons d'ajouter un dépôt, nous devons actualiser la liste des paquets. Pour cela, tapez</p><pre id="r-584383" data-claire-element-id="584383"><code data-claire-semantic="console">aptitude update</code></pre><h3 id="r-installer-mysecureshell" data-claire-element-id="584387">Installer MySecureShell</h3><p id="r-584385" data-claire-element-id="584385">Nous pouvons maintenant installer MySecureShell :</p><pre id="r-584386" data-claire-element-id="584386"><code data-claire-semantic="console">aptitude install mysecureshell</code></pre><h2 id="r-ajouter-un-utilisateur-1" data-claire-element-id="584391">Ajouter un utilisateur</h2><p id="r-584389" data-claire-element-id="584389">Pour l'exemple, mon utilisateur s'appelera joyre</p><pre id="r-584390" data-claire-element-id="584390"><code data-claire-semantic="console">adduser joyre</code></pre><h2 id="r-modifier-le-shell-de-cet-utilisateur" data-claire-element-id="584406">Modifier le shell de cet utilisateur</h2><p id="r-584392" data-claire-element-id="584392">Pour que l'utilisateur, utilise par défaut MySecureShell lors de sa connection, nous allons devoir modifier le fichier <code data-claire-semantic="console">/etc/passwd</code> avec nano.</p><pre id="r-584393" data-claire-element-id="584393"><code data-claire-semantic="console">nano /etc/passwd</code></pre><p id="r-584394" data-claire-element-id="584394">Dans le fichier <code>/etc/passwd</code>, vous allez retrouver toujours le même schéma pour tous les utilisateurs :</p><p id="r-584395" data-claire-element-id="584395"><cite>Citation : /etc/passwd</cite></p><blockquote id="r-584397" data-claire-element-id="584397"><p id="r-584396" data-claire-element-id="584396"><strong>nomutilisateur:x:guidutilisateur:guidgroupe::/home/utilisateur:shellutilise</strong></p></blockquote><p id="r-584398" data-claire-element-id="584398">Identifiez l'utilisateur dont vous voulez restreindre l'accès à son dossier. Son pseudo débute la ligne à modifier. Une fois que vous avez trouvé, remplacez <code>/bin/bash</code> par <code>/bin/MySecureShell</code>.</p><p id="r-584399" data-claire-element-id="584399">Si je prend un exemple : je veux restreindre l'utilisateur joyre</p><ul id="r-584404" data-claire-element-id="584404"><li id="r-584401" data-claire-element-id="584401"><p id="r-584400" data-claire-element-id="584400">j'avais avant <code>joyre:x:1000:1000::/home/joyre:/bin/bash</code></p></li><li id="r-584403" data-claire-element-id="584403"><p id="r-584402" data-claire-element-id="584402">je le remplace par <code>joyre:x:1000:1000::/home/joyre:/bin/MySecureShell</code></p></li></ul><p id="r-584405" data-claire-element-id="584405">Maintenant que la ligne est modifié, nous pouvons enregistrer et fermer nano (Ctrl+X, O et Entrer)</p><h2 id="r-configurer-mysecureshell-pour-l-utilisateur" data-claire-element-id="584434">Configurer MySecureShell pour l'utilisateur</h2><p id="r-584407" data-claire-element-id="584407">Pour le moment, l'utilisateur est forcé d'utiliser MySecureShell mais celui ci n'est pas configuré. Il ne peut donc rien faire. Nous allons donc devoir paramétrer MySecureShell pour l'utilisateur en modifiant le fichier <code>/etc/ssh/sftp_config</code> avec nano.</p><pre id="r-584408" data-claire-element-id="584408"><code data-claire-semantic="console">nano /etc/ssh/sftp_config</code></pre><p id="r-584409" data-claire-element-id="584409">Vous allez maintenant copier/coller le code suivant dans votre fichier <code>/etc/ssh/sftp_config</code> (qui est normalement vide).</p><pre id="r-584410" data-claire-element-id="584410"><code>&lt;User pseudoarestreindre&gt;
Home /home/pseudoarestreindre
StayAtHome true
VirtualChroot    true
LimitConnectionByUser 3
LimitConnectionByIP 3
HideNoAccess     true
DefaultRights 0604 0705
IgnoreHidden     true
&lt;/User&gt;</code></pre><p id="r-584411" data-claire-element-id="584411">Il vous faudra remplacer dans ce code <code>pseudoarestreindre</code> par le pseudo dont vous souhaitez restreindre l'accès.</p><p id="r-584412" data-claire-element-id="584412">Je vais maintenant expliquer les arguments contenus dans ce code :</p><ul id="r-584431" data-claire-element-id="584431"><li id="r-584414" data-claire-element-id="584414"><p id="r-584413" data-claire-element-id="584413"><code>&lt;User pseudoarestreindre&gt; [...] &lt;/User&gt;</code> : La directive User est destinée à affecter des directives à une seule personne. L'utilisateur doit être créé sur la machine pour qu'il fonctionne sur MySecureShell (ce que nous avons fait précédemment)</p></li><li id="r-584416" data-claire-element-id="584416"><p id="r-584415" data-claire-element-id="584415"><code>Home</code> : C'est le dossier ou seront redirigés les utilisateurs lors de la connexion au serveur.</p></li><li id="r-584418" data-claire-element-id="584418"><p id="r-584417" data-claire-element-id="584417"><code>StayAtHome</code> : L'utilisateur connecté ne peut remonter au dessus du dossier Home qui lui a été attribué.</p></li><li id="r-584420" data-claire-element-id="584420"><p id="r-584419" data-claire-element-id="584419"><code>VirtualChroot</code> : Chroot l'utilisateur authentifié, &quot;/&quot; s'affichera pour lui comme le répertoire par défaut.</p></li><li id="r-584422" data-claire-element-id="584422"><p id="r-584421" data-claire-element-id="584421"><code>LimitConnectionByUser</code> : Limite le nombre de connexions simultanées par utilisateurs.</p></li><li id="r-584424" data-claire-element-id="584424"><p id="r-584423" data-claire-element-id="584423"><code>LimitConnectionByIP</code> : Limite le nombre de connexions simultanées par IP.</p></li><li id="r-584426" data-claire-element-id="584426"><p id="r-584425" data-claire-element-id="584425"><code>HideNoAccess</code> : Cache les fichiers/répertoires auxquels l'utilisateur, le groupe ou autre, n'ont pas accès.</p></li><li id="r-584428" data-claire-element-id="584428"><p id="r-584427" data-claire-element-id="584427"><code>DefaultRights</code> : Défini les droits pour les fichiers et les répertoires créés par l'utilisateur.</p></li><li id="r-584430" data-claire-element-id="584430"><p id="r-584429" data-claire-element-id="584429"><code>IgnoreHidden</code> : Masque les fichiers cachés à l'utilisateur (cette option peut être intéressante mais pensez à la désactiver si vous manipulez des fichiers .htaccess par exemple).</p></li></ul><p id="r-584432" data-claire-element-id="584432">Voilà, ce tutoriel est désormais terminé, j'espère qu'il vous aura été utile dans la mise en place de l'accès SFTP de votre serveur.</p><p id="r-584433" data-claire-element-id="584433">Je vous rappelle que ce tutoriel est publié sous licence <a href="http://creativecommons.org/licenses/by/2.0/fr/"><strong>Creative Commons Paternité 2.0 France</strong></a>.<br/> Dans le cadre de cette licence, vous avez le droit (et je vous encourage vivement à l'exercer) de reproduire, distribuer et communiquer cette création au public et de la modifier.<br/> En contrepartie, vous devez citer le nom de l'auteur original (jtraulle, <a href="http://facilinux.fr/">http://facilinux.fr</a>) (mais pas d'une manière qui suggérerait que je vous soutien ou que j'approuve votre utilisation de ce tutoriel).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell">Découvrir et configurer le protocole SFTP avec MySecureShell</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/pourquoi-deployer-cette-solution">
Pourquoi déployer cette solution ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/prerequis-et-objectifs">
Prérequis et Objectifs
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
Permettre l&#039;accès en SSH
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/installation-et-parametrage-de-mysecureshell">
Installation et paramètrage de MySecureShell
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell/permettre-l-acces-en-ssh">
<span class="arrow"></span>
<span class="next">Permettre l&#039;accès en SSH</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 20:02:06 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/decouvrir-et-configurer-le-protocole-sftp-avec-mysecureshell.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 03:45:03 GMT -->
</html>
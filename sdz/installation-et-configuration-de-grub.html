<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/installation-et-configuration-de-grub.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:13:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/installation-et-configuration-de-grub.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:18:02 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Installation et configuration de GRUB</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/installation-et-configuration-de-grub.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Installation et configuration de GRUB</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#InstallationetconfigurationdeGRUB">Installation et configuration de GRUB</a><br/><a href="#Avant-propos">Avant-propos</a><br/><a href="#PourquoiGRUB">Pourquoi GRUB ?</a><br/><a href="#Installation">Installation</a><br/><a href="#Configurationgnrale">Configuration générale</a><br/><a href="#Sectiondeboot">Section de boot</a><br/><a href="#Mettreuneimagedefond">Mettre une image de fond</a><br/><a href="#Fichierfinal">Fichier final</a><br/></div>
<a name="InstallationetconfigurationdeGRUB"></a><h2>Installation et configuration de GRUB</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
<span class="next">Avant-propos</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-340467" data-claire-element-id="340467">Quand on est débutant, se balader entre le xorg.conf, le rc.conf et autres joyeusetés n'est pas forcément chose aisée.<br/> Aussi, j'ai décidé de vous apprendre à installer et à bien configurer le célèbre bootloader GNU GRUB.</p>
</div><a name="Avant-propos"></a><h2>Avant-propos</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
<span class="next">Pourquoi GRUB ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340468" data-claire-element-id="340468">Alors déjà, il est mieux de savoir avec quoi nous allons travailler, non ? Eh bien GRUB (GRand Unified Bootloader), c'est un bootloader. Voici une bonne définition de Wikipédia :</p><p id="r-340469" data-claire-element-id="340469"><cite>Citation : Wikipédia</cite></p><blockquote id="r-340471" data-claire-element-id="340471"><p id="r-340470" data-claire-element-id="340470">Un chargeur d'amorçage (ou Boot loader) est un logiciel permettant de lancer un ou plusieurs systèmes d'exploitation (multi-boot), c'est-à-dire qu'il permet d'utiliser plusieurs systèmes, à des moments différents, sur la même machine.</p></blockquote><p id="r-340472" data-claire-element-id="340472">C'est-à-dire que vous pouvez le configurer pour qu'après le chargement du BIOS, vous puissiez choisir le système à démarrer (GNU/Linux, Mac, FreeBSD, Windows...). Et pour la configuration, il y a justement un fichier qui contient toutes les informations : /boot/grub/menu.lst (ou grub.conf selon les distributions).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
<span class="next">Pourquoi GRUB ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="PourquoiGRUB"></a><h2>Pourquoi GRUB ?</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
<span class="arrow"></span>
<span class="next">Avant-propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340474" data-claire-element-id="340474">GRUB n'est pas le seul bootloader existant : il y a notamment son principal concurrent LILO (LInux LOader) et quelques autres projets libres mais moins connus comme <a href="http://xosl.sourceforge.net/">XOSL</a> ou <a href="http://gag.sourceforge.net/">GAG</a>.</p><p id="r-340475" data-claire-element-id="340475">LILO a été pendant très longtemps le seul utilisé. Il possède une dizaine d'années de solide développement et est par conséquent très stable. Mais ce développement semble depuis peu aller au ralenti, pour ne pas dire qu'il est abandonné.</p><p id="r-340476" data-claire-element-id="340476">GRUB est lui actif depuis moins longtemps, et est encore en version alpha, version 1.96. Cela ne veut pas dire qu'il marche mal et qu'il plantera au démarrage de votre ordinateur, mais c'est un projet assez jeune par rapport à LILO. S'il est aujourd'hui tant utilisé, c'est qu'il possède quand même des avantages sur lui :</p><ul id="r-340483" data-claire-element-id="340483"><li id="r-340478" data-claire-element-id="340478"><p id="r-340477" data-claire-element-id="340477">Son interface en ligne de commande est plus complète</p></li><li id="r-340480" data-claire-element-id="340480"><p id="r-340479" data-claire-element-id="340479">Si un problème survient avec GRUB, il sera souvent plus facilement réparable</p></li><li id="r-340482" data-claire-element-id="340482"><p id="r-340481" data-claire-element-id="340481">Il possède un site web, une FAQ, etc. contrairement à LILO qui lui n'a rien !</p></li></ul><p id="r-340484" data-claire-element-id="340484">Pour compléter cette brève introduction, vous pouvez lire <a href="http://lwn.net/Articles/89772/">cet article</a> (en anglais) très intéressant même s'il date un peu.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
<span class="arrow"></span>
<span class="next">Avant-propos</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
<span class="next">Installation</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Installation"></a><h2>Installation</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
<span class="arrow"></span>
<span class="next">Pourquoi GRUB ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
<span class="next">Configuration générale</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340486" data-claire-element-id="340486">La plupart des distributions installent elles-mêmes GRUB. Mais si vous l'avez désinstallé par erreur, ou pour je ne sais quelle raison, vous devez l'installer par vos propres moyens. Suivez les étapes ci-dessous.</p><p id="r-340487" data-claire-element-id="340487">L'installation peut se faire par deux moyens : par la compilation, ou par l'installation d'un paquet. Nous verrons ici, bien évidemment, la deuxième option.</p><p id="r-340488" data-claire-element-id="340488">Sous Debian par exemple, en tant que root, commencez par cette commande :</p><pre id="r-340489" data-claire-element-id="340489"><code data-claire-semantic="console"># aptitude install grub</code></pre><p id="r-340490" data-claire-element-id="340490"><em>(Pour les autres distributions, vous devrez changer le gestionnaire de paquets.)</em></p><p id="r-340491" data-claire-element-id="340491">Et puis :</p><pre id="r-340492" data-claire-element-id="340492"><code data-claire-semantic="console"># grub
# grub&gt; root (hd?1,?2)
# grub&gt; setup (hd?3,?4)</code></pre><h3 id="r-legende-2" data-claire-element-id="340503">Légende</h3><ul id="r-340501" data-claire-element-id="340501"><li id="r-340494" data-claire-element-id="340494"><p id="r-340493" data-claire-element-id="340493">?1 -&gt; Le disque de l'OS sur lequel vous êtes actuellement. Une source courante d'erreur est de ne pas prendre en compte la numérotation débutant par 0 et plutôt par 1.</p></li><li id="r-340496" data-claire-element-id="340496"><p id="r-340495" data-claire-element-id="340495">?2 -&gt; La partition de l'OS sur laquelle vous êtes actuellement. De même que pour le disque, le décompte commence à partir de 0.</p></li><li id="r-340498" data-claire-element-id="340498"><p id="r-340497" data-claire-element-id="340497">?3 -&gt; Le disque de l'OS sur lequel vous voulez installer GRUB (c'est généralement la même valeur que ?1).</p></li><li id="r-340500" data-claire-element-id="340500"><p id="r-340499" data-claire-element-id="340499">?4 -&gt; La partition de l'OS sur laquelle vous voulez installer GRUB (c'est généralement la même valeur que ?2).</p></li></ul><p id="r-340502" data-claire-element-id="340502">Avec cela, vous devriez être capables de l'installer correctement. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
<span class="arrow"></span>
<span class="next">Pourquoi GRUB ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
<span class="next">Configuration générale</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Configurationgnrale"></a><h2>Configuration générale</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
<span class="next">Section de boot</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340505" data-claire-element-id="340505">Premièrement, ouvrons le fichier à modifier (oui, c'est toujours plus facile quand on le fait :-° ).</p><p id="r-340506" data-claire-element-id="340506">Vous pouvez le faire par la console (en root) :</p><pre id="r-340507" data-claire-element-id="340507"><code data-claire-semantic="console"># cp /boot/grub/menu.lst /boot/grub/menu.lst.bak # Il serait préférable d'exécuter cette ligne avant tout, car en cas de problème, vous aurez toujours votre ancien fichier.  
# nano /boot/grub/menu.lst # Vous pouvez utiliser vi si vous voulez, mais comme on dit, si vous l'utilisez, vous savez ce que vous faites.</code></pre><p id="r-340508" data-claire-element-id="340508">Ou en graphique (en root toujours) :</p><pre id="r-340509" data-claire-element-id="340509"><code data-claire-semantic="console"># cp /boot/grub/menu.lst /boot/grub/menu.lst.bak # Il serait préférable d'exécuter cette ligne avant tout, car en cas de problème, vous aurez toujours votre ancien fichier.  
# gedit /boot/grub/menu.lst # Si vous êtes sous Gnome.
# kate /boot/grub/menu.lst # Si vous êtes sous KDE.</code></pre><p id="r-340510" data-claire-element-id="340510">Le fichier commence par trois options générales :</p><ul id="r-340519" data-claire-element-id="340519"><li id="r-340512" data-claire-element-id="340512"><p id="r-340511" data-claire-element-id="340511">timeout</p></li><li id="r-340514" data-claire-element-id="340514"><p id="r-340513" data-claire-element-id="340513">default</p></li><li id="r-340516" data-claire-element-id="340516"><p id="r-340515" data-claire-element-id="340515">color</p></li><li id="r-340518" data-claire-element-id="340518"><p id="r-340517" data-claire-element-id="340517">fallback</p></li></ul><p id="r-340520" data-claire-element-id="340520"><strong>timeout</strong> correspond au délai d'attente (en secondes) avant le démarrage de l'OS choisi par défaut.<br/><strong>default</strong> est l'OS à démarrer par défaut.<br/><strong>color</strong> sont les couleurs de GRUB (on s'en serait presque douté ^^ ).<br/><strong>fallback</strong> est l'OS à démarrer si celui par défaut ne boot pas.</p><p id="r-340521" data-claire-element-id="340521">Le début du fichier devrait donc ressembler à ceci :</p><pre id="r-340522" data-claire-element-id="340522"><code>timeout   10 # J'ai mis 10, ça me paraît bien
default   0  # On laisse en général 0 et l'ordre est indiqué plus tard
fallback   1  # Si default ne boot pas
color light-blue/black light-cyan/blue # Ici sont mes valeurs par défaut, vous mettez comme vous voulez, sachant que la première valeur modifie la couleur de fond et l'arrière-plan, la deuxième modifie la couleur de 1er plan.</code></pre><p id="r-340523" data-claire-element-id="340523">Il y a aussi quelques options facultatives :</p><ul id="r-340528" data-claire-element-id="340528"><li id="r-340525" data-claire-element-id="340525"><p id="r-340524" data-claire-element-id="340524">hiddenmenu</p></li><li id="r-340527" data-claire-element-id="340527"><p id="r-340526" data-claire-element-id="340526">password</p></li></ul><p id="r-340529" data-claire-element-id="340529"><strong>hiddenmenu</strong> permet de cacher le menu. Il apparaît tout de même si l'on presse Échap.</p><p id="r-340530" data-claire-element-id="340530"><strong>password</strong> est utilisé pour mettre un mot de passe lors du démarrage de GRUB, pour éviter que n'importe qui utilise votre ordinateur.</p><pre id="r-340531" data-claire-element-id="340531"><code>hiddenmenu
# Deux utilisations de password : une avec md5, l'autre sans :
password --md5 Le_Mot_De_Passe_En_MD5_Sinon_Il_Y_Aura_Un_Probleme
# ou alors simplement :
password Mon_Super_Mot_De_Passe</code></pre><p id="r-340532" data-claire-element-id="340532">Pour plus d'information sur md5 : <br/><a href="http://fr.wikipedia.org/wiki/MD5">Lien Wikipédia</a></p><p id="r-340533" data-claire-element-id="340533">Passons au plus dur : la section de boot.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
<span class="arrow"></span>
<span class="next">Installation</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
<span class="next">Section de boot</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Sectiondeboot"></a><h2>Section de boot</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
<span class="arrow"></span>
<span class="next">Configuration générale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
<span class="next">Mettre une image de fond</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340535" data-claire-element-id="340535">La section de boot est celle qui pose souvent problème. En effet, il faut bien configurer les numéros de disque, de partition, etc.</p><p id="r-340536" data-claire-element-id="340536">Voyons la structure à utiliser pour un OS de type GNU/Linux où est installé GRUB :</p><pre id="r-340537" data-claire-element-id="340537"><code>#(0) Mon Super OS GNU/Linux
title                Mon Super OS GNU/Linux
root                (hd?1,?2)
kernel                /boot/vmlinuz-2.x.x.xx root=/dev/sd?3?4 ?5
initrd                /boot/initrd.img-2.x.x.xx</code></pre><h3 id="r-legende-4" data-claire-element-id="340588">Légende</h3><ul id="r-340548" data-claire-element-id="340548"><li id="r-340539" data-claire-element-id="340539"><p id="r-340538" data-claire-element-id="340538">?1 -&gt; Le disque de l'OS. Une source courante d'erreur est de ne pas prendre en compte la numérotation débutant par 0 et plutôt par 1.</p></li><li id="r-340541" data-claire-element-id="340541"><p id="r-340540" data-claire-element-id="340540">?2 -&gt; La partition de l'OS. De même que pour le disque, le décompte commence à partir de 0.</p></li><li id="r-340543" data-claire-element-id="340543"><p id="r-340542" data-claire-element-id="340542">?3 -&gt; La racine du système. La lettre du disque (a, b, c).</p></li><li id="r-340545" data-claire-element-id="340545"><p id="r-340544" data-claire-element-id="340544">?4 -&gt; Comme ?3, pour le chiffre de la partition (1, 2, 3...).</p></li><li id="r-340547" data-claire-element-id="340547"><p id="r-340546" data-claire-element-id="340546">?5 -&gt; Les options. L'option <strong>ro</strong> sert à démarrer en &quot;lecture seule&quot;, pour un mode sans échec par exemple, ou <strong>quiet</strong> qui permet un démarrage discret.</p></li></ul><p id="r-340549" data-claire-element-id="340549">Et ci-dessous la structure pour Windows :</p><pre id="r-340550" data-claire-element-id="340550"><code>#(1) Mon Super Windows
title                Mon Super Windows
root                (hd?1,?2)  
chainloader        +1
makeactive</code></pre><p id="r-340551" data-claire-element-id="340551">Pour chaque OS en plus de celui sur lequel est installé GRUB, il faut ajouter une ligne :</p><pre id="r-340552" data-claire-element-id="340552"><code>rootnoverify        (hd?1,?2)</code></pre><p id="r-340553" data-claire-element-id="340553">Un exemple :</p><pre id="r-340554" data-claire-element-id="340554"><code>#(2) Mon Autre Super OS GNU/Linux
title                Mon Autre Super OS GNU/Linux
root                (hd?1,?2)
kernel                /boot/vmlinuz-2.x.x.xx root=/dev/sd?3?4 ?5
initrd                /boot/initrd.img-2.x.x.xx
rootnoverify        (hd?1,?2)</code></pre><h2 id="r-les-labels-4" data-claire-element-id="340580">Les labels</h2><p id="r-340555" data-claire-element-id="340555">Depuis tout à l'heure, nous indiquons la racine du système comme ceci :</p><pre id="r-340556" data-claire-element-id="340556"><code>kernel                /boot/vmlinuz-2.x.x.xx root=/dev/sd?3?4 ?5</code></pre><p id="r-340557" data-claire-element-id="340557">Mais il existe une autre façon de faire. Voyez plutôt :</p><pre id="r-340558" data-claire-element-id="340558"><code>kernel                /boot/vmlinuz-2.x.x.xx root=UUID=bd54f622-87b7-4ac2-b2c4-acb3c7e56a75</code></pre><div id="r-340560" data-claire-element-id="340560" data-claire-semantic="question"><p id="r-340559" data-claire-element-id="340559">C'est quoi, cette chose affreuse qui commence par <strong>UUID</strong> ? o_O</p></div><p id="r-340561" data-claire-element-id="340561">Eh bien c'est un label. Il utilise un UUID (Universal Unique IDentifier). Voici une définition de la documentation d'Ubuntu :</p><p id="r-340562" data-claire-element-id="340562"><cite>Citation : doc.ubuntu-fr.org</cite></p><blockquote id="r-340565" data-claire-element-id="340565"><p id="r-340563" data-claire-element-id="340563">Il s'agit d'une suite plus ou moins longue de caractères alpha-numériques qui permet d'identifier de façon absolument sûre toute partition ou tout type de périphérique de stockage (&quot;device&quot;) physique ou virtuel pouvant être raccordé au système de fichiers. L'utilisation de l'UUID est généralisée.</p><p id="r-340564" data-claire-element-id="340564">Le chiffre de l'UUID est calculé automatiquement au moyen d'un algorithme intégrant notamment certaines données de l'ordinateur hôte. Ce mode de calcul ne présente aucun risque de sécurité crédible.</p></blockquote><p id="r-340566" data-claire-element-id="340566">Comme elle le précise, il y a un avantage et une contrainte.<br/> Il évite tout problème en cas de changement de désignation du disque / de la partition, mais il est un peu plus difficile à manipuler.</p><p id="r-340567" data-claire-element-id="340567">Il est en général préférable de l'utiliser à la place de l'ancienne méthode.</p><p id="r-340568" data-claire-element-id="340568">Voici la commande permettant d'obtenir l'UUID (en root) :</p><pre id="r-340569" data-claire-element-id="340569"><code data-claire-semantic="console"># vol_id -u /dev/sd?2?3</code></pre><p id="r-340570" data-claire-element-id="340570">Vous pouvez dès lors mettre à jour votre ligne :</p><pre id="r-340571" data-claire-element-id="340571"><code>kernel                /boot/vmlinuz-2.x.x.xx root=UUID=?1</code></pre><h3 id="r-legende-3" data-claire-element-id="340579">Légende</h3><ul id="r-340578" data-claire-element-id="340578"><li id="r-340573" data-claire-element-id="340573"><p id="r-340572" data-claire-element-id="340572">?1 -&gt; La valeur que vous renvoie vol_id.</p></li><li id="r-340575" data-claire-element-id="340575"><p id="r-340574" data-claire-element-id="340574">?2 -&gt; La racine du système. La lettre du disque (a, b, c).</p></li><li id="r-340577" data-claire-element-id="340577"><p id="r-340576" data-claire-element-id="340576">?3 -&gt; La partition de l'OS. Le décompte commence à partir de 0.</p></li></ul><h2 id="r-dernieres-indications" data-claire-element-id="340587">Dernières indications</h2><div id="r-340582" data-claire-element-id="340582" data-claire-semantic="question"><p id="r-340581" data-claire-element-id="340581">T'es bien gentil, mais on ne sait toujours pas ce que sont kernel et initrd !</p></div><p id="r-340583" data-claire-element-id="340583">Justement, nous y venons.</p><p id="r-340584" data-claire-element-id="340584"><strong>kernel</strong>, eh bien c'est le chemin vers le noyau de l'OS. Je ne pourrais pas le deviner à votre place, mais la commande suivante pourra vous le dire, pour remplacer les &quot;x&quot; :</p><pre id="r-340585" data-claire-element-id="340585"><code data-claire-semantic="console">uname -r</code></pre><p id="r-340586" data-claire-element-id="340586"><strong>initrd</strong>, c'est un système temporaire utilisé au démarrage. Vous devez remplacer les petits &quot;x&quot; de la même manière qu'avec le kernel.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
<span class="arrow"></span>
<span class="next">Configuration générale</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
<span class="next">Mettre une image de fond</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Mettreuneimagedefond"></a><h2>Mettre une image de fond</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
<span class="arrow"></span>
<span class="next">Section de boot</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
<span class="next">Fichier final</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340590" data-claire-element-id="340590">Disons-le franchement, GRUB est généralement assez moche. :-° <br/> Pour pallier ce problème, des développeurs ont créé un patch permettant d'insérer une image de fond à GRUB.</p><p id="r-340591" data-claire-element-id="340591">Il faut installer un paquet pour pouvoir utiliser une image. Sur Debian par exemple, il se nomme grub-splashimages (commande à lancer en tant que root, comme toujours) :</p><pre id="r-340592" data-claire-element-id="340592"><code data-claire-semantic="console"># aptitude install grub-splashimages</code></pre><p id="r-340593" data-claire-element-id="340593"><em>(Je ne pourrai pas détailler chaque distribution, à vous de fouiller la doc.)</em></p><p id="r-340594" data-claire-element-id="340594">Il faut que l'image en question soit dans un format spécial : le .xpm.gz.</p><p id="r-340595" data-claire-element-id="340595">La convertir se fait en une petite commande :</p><pre id="r-340596" data-claire-element-id="340596"><code data-claire-semantic="console">$ convert -resize 640x480 -colors 14 image_à_convertir.format splashimage.xpm &amp;&amp; gzip splashimage.xpm</code></pre><p id="r-340597" data-claire-element-id="340597">S'il y a une erreur, il faut installer ImageMagick :</p><pre id="r-340598" data-claire-element-id="340598"><code data-claire-semantic="console"># aptitude install imagemagick</code></pre><p id="r-340599" data-claire-element-id="340599">Puis déplacez splashimage.xpm.gz dans /boot/grub/ :</p><pre id="r-340600" data-claire-element-id="340600"><code data-claire-semantic="console"># mv splashimage.xpm.gz /boot/grub/</code></pre><p id="r-340601" data-claire-element-id="340601">Dernière étape : l'ajout d'une petite ligne dans menu.lst :</p><pre id="r-340602" data-claire-element-id="340602"><code>timeout   10
default   0
color light-blue/black light-cyan/blue

# La ligne en question de l'image
splashimage=(hd?1,?2)/boot/grub/splashimage.xpm.gz</code></pre><p id="r-340603" data-claire-element-id="340603">Il faut remplacer les points d'interrogation de la même manière que précédemment.</p><p id="r-340604" data-claire-element-id="340604">Un exemple :</p><pre id="r-340605" data-claire-element-id="340605"><code>splashimage=(hd0,O)/boot/grub/splashimage.xpm.gz</code></pre><p id="r-340606" data-claire-element-id="340606">C'est tout pour les images.</p><p id="r-340607" data-claire-element-id="340607">En bonus, pour vous, voici un lien où se trouvent de belles images prêtes à l'emploi pour votre GRUB. :)</p><p id="r-340608" data-claire-element-id="340608"><a href="http://www.schultz-net.dk/grub.html">Schultz-net.dk</a></p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
<span class="arrow"></span>
<span class="next">Section de boot</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
<span class="next">Fichier final</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Fichierfinal"></a><h2>Fichier final</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
<span class="arrow"></span>
<span class="next">Mettre une image de fond</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-340610" data-claire-element-id="340610">Allez, je suis de bonne humeur, je vais vous aider un peu en vous montrant un exemple de fichier final. :)</p><pre id="r-340611" data-claire-element-id="340611"><code># Configuration générale

timeout   10
default   0
fallback  1
color light-blue/black light-cyan/blue

password --md5 f02368945726d5fc2a14eb576f7276c0 # Ici le mot de passe est bonjour (changez la chaîne, bien sûr !). 

#Hiddenmenu

# Section de boot
# Ce sont des exemples, ils ne fonctionneront surement pas chez vous, modifiez-les grâce au cours !

#(0) Ubuntu
title                Ubuntu
root                (hd0,4)
kernel                /boot/vmlinuz-2.6.24-21-generic root=UUID=bd54f622-87b7-4ac2-b2c4-acb3c7e56a75 ro quiet splash
initrd                /boot/initrd.img-2.6.24-21-generic

title                Microsoft Windows XP Professionnel
root                (hd0,0)
makeactive
chainloader        +1

title                Arch Linux
root                (hd0,2)
kernel                /boot/vmlinuz26 root=/dev/disk/by-uuid/e2c590c0-56f6-4684-9852-7a8eef33bf70 ro 
initrd                /boot/kernel26.img</code></pre><p id="r-340612" data-claire-element-id="340612">Et voilà : c'est tout.</p><p id="r-340613" data-claire-element-id="340613">Voilà : comme vous le voyez, la configuration de GRUB n'est pas d'une difficulté insurmontable.</p><p id="r-340614" data-claire-element-id="340614">Si vous voulez aller encore plus loin, je ne peux que vous conseiller la <a href="http://www.gnu.org/software/grub/manual/">documentation officielle de GNU</a> (en anglais).</p><p id="r-340615" data-claire-element-id="340615">Je suis ouvert à toutes remarques : à bientôt. ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub">Installation et configuration de GRUB</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/avant-propos-4">
Avant-propos
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/pourquoi-grub">
Pourquoi GRUB ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/installation-36">
Installation
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/configuration-generale">
Configuration générale
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/section-de-boot">
Section de boot
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
Mettre une image de fond
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/fichier-final">
Fichier final
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/installation-et-configuration-de-grub/mettre-une-image-de-fond">
<span class="arrow"></span>
<span class="next">Mettre une image de fond</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/installation-et-configuration-de-grub.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 07:13:10 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/installation-et-configuration-de-grub.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:18:02 GMT -->
</html>
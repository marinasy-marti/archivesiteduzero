<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/gerez-vos-codes-source-avec-git.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:09:22 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/gerez-vos-codes-source-avec-git.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:47:43 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Gérez vos codes source avec Git</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/gerez-vos-codes-source-avec-git.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Gérez vos codes source avec Git</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#GrezvoscodessourceavecGit">Gérez vos codes source avec Git</a><br/><a href="#Qu039est-cequunlogicieldegestiondeversions">Qu&#039;est-ce qu’un logiciel de gestion de versions ?</a><br/><a href="#Gitetlesautreslogicielsdegestiondeversions">Git et les autres logiciels de gestion de versions</a><br/><a href="#InstalleretconfigurerGit">Installer et configurer Git</a><br/><a href="#Crerunnouveaudptouclonerundptexistant">Créer un nouveau dépôt ou cloner un dépôt existant</a><br/><a href="#Modifierlecodeeteffectuerdescommits">Modifier le code et effectuer des commits</a><br/><a href="#Annuleruncommiteffectuparerreur">Annuler un commit effectué par erreur</a><br/><a href="#Tlchargerlesnouveautsetpartagervotretravail">Télécharger les nouveautés et partager votre travail</a><br/><a href="#Travailleravecdesbranches">Travailler avec des branches</a><br/><a href="#QuelquesautresfonctionnalitsdeGitenvrac">Quelques autres fonctionnalités de Git, en vrac</a><br/></div>
<a name="GrezvoscodessourceavecGit"></a><h2>Gérez vos codes source avec Git</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
<span class="next">Qu&#039;est-ce qu’un logiciel de gestion de versions ?</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-265338" data-claire-element-id="265338">Si vous avez déjà travaillé sur un projet informatique, que ce soit un petit projet personnel ou un plus gros projet professionnel, vous avez certainement déjà rencontré un de ces problèmes :</p><ul id="r-265349" data-claire-element-id="265349"><li id="r-265340" data-claire-element-id="265340"><p id="r-265339" data-claire-element-id="265339">« Qui a modifié le fichier X, il marchait bien avant et maintenant il provoque des bugs ! » ;</p></li><li id="r-265342" data-claire-element-id="265342"><p id="r-265341" data-claire-element-id="265341">« Robert, tu peux m’aider en travaillant sur le fichier X pendant que je travaille sur le fichier Y ? Attention à ne pas toucher au fichier Y car si on travaille dessus en même temps je risque d’écraser tes modifications ! » ;</p></li><li id="r-265344" data-claire-element-id="265344"><p id="r-265343" data-claire-element-id="265343">« Qui a ajouté cette ligne de code dans ce fichier ? Elle ne sert à rien ! » ;</p></li><li id="r-265346" data-claire-element-id="265346"><p id="r-265345" data-claire-element-id="265345">« À quoi servent ces nouveaux fichiers et qui les a ajoutés au code du projet ? » ;</p></li><li id="r-265348" data-claire-element-id="265348"><p id="r-265347" data-claire-element-id="265347">« Quelles modifications avions-nous faites pour résoudre le bug de la page qui se ferme toute seule ? »</p></li></ul><p id="r-265350" data-claire-element-id="265350">Si ces problèmes-là vous parlent, vous auriez dû utiliser un <strong>logiciel de gestion de versions</strong>. Ce type de logiciel est devenu indispensable lorsqu’on travaille à plusieurs sur un même projet et donc sur le même code source. Même si vous travaillez seuls, vous aurez intérêt à commencer à en utiliser un rapidement car il vous offrira de nombreux avantages, comme la conservation d’un historique de chaque modification des fichiers par exemple.</p><p id="r-265351" data-claire-element-id="265351">Il existe de nombreux logiciels de gestion de versions, comme SVN (Subversion), Mercurial et Git. Dans ce tutoriel, je vous présenterai <strong>Git</strong> (prononcez « guite ») qui est un des plus puissants logiciels de ce genre. Nous l’utilisons notamment pour gérer le code source du Site du Zéro !</p>
</div><a name="Qu039est-cequunlogicieldegestiondeversions"></a><h2>Qu&#039;est-ce qu’un logiciel de gestion de versions ?</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
<span class="next">Git et les autres logiciels de gestion de versions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265352" data-claire-element-id="265352">Les logiciels de gestion de versions sont utilisés principalement par les développeurs ; ce sont donc bel et bien des outils pour <em>geeks</em>. En effet, ils sont quasi exclusivement utilisés pour gérer des codes sources, car ils sont capables de suivre l’évolution d’un fichier texte ligne de code par ligne de code. ;) <br/> Ces logiciels sont fortement conseillés pour gérer un projet informatique.</p><aside id="r-265354" data-claire-element-id="265354" data-claire-semantic="information"><p id="r-265353" data-claire-element-id="265353">Un <strong>projet informatique</strong> correspond aux étapes de création d’un programme, d’un site web ou de tout autre outil informatique. Que vous travailliez seuls sur le développement de ce projet ou à plusieurs, vous avez un objectif (par exemple, « créer un site web ») et vous allez devoir écrire du code source pour parvenir à cet objectif. On dit que vous travaillez sur un <strong>projet</strong>.</p></aside><p id="r-265355" data-claire-element-id="265355">Ces outils suivent l’évolution de vos fichiers source et gardent les anciennes versions de chacun d’eux.</p><figure id="r-265357" data-claire-element-id="265358"><img id="r-265356" data-claire-element-id="265356" src="medias/uploads.siteduzero.com_files_236001_237000_236838.png" alt="Anciennes versions des fichiers"/></figure><p id="r-265359" data-claire-element-id="265359">S’ils s’arrêtaient à cela, ce ne seraient que de vulgaires outils de <em>backup</em> (sauvegarde). Cependant, ils proposent de nombreuses fonctionnalités qui vont vraiment vous être utiles tout au long de l’évolution de votre projet informatique :</p><ul id="r-265364" data-claire-element-id="265364"><li id="r-265361" data-claire-element-id="265361"><p id="r-265360" data-claire-element-id="265360">ils retiennent qui a effectué chaque modification de chaque fichier et <em>pourquoi</em>. Ils sont par conséquent capables de dire qui a écrit chaque ligne de code de chaque fichier et dans quel but ;</p></li><li id="r-265363" data-claire-element-id="265363"><p id="r-265362" data-claire-element-id="265362">si deux personnes travaillent simultanément sur un même fichier, ils sont capables d’assembler (de fusionner) leurs modifications et d’éviter que le travail d’une de ces personnes ne soit écrasé.</p></li></ul><p id="r-265365" data-claire-element-id="265365">Ces logiciels ont donc par conséquent deux utilités principales :</p><ul id="r-265370" data-claire-element-id="265370"><li id="r-265367" data-claire-element-id="265367"><p id="r-265366" data-claire-element-id="265366"><strong>suivre l’évolution d’un code source</strong>, pour retenir les modifications effectuées sur chaque fichier et être ainsi capable de <em>revenir en arrière</em> en cas de problème ;</p></li><li id="r-265369" data-claire-element-id="265369"><p id="r-265368" data-claire-element-id="265368"><strong>travailler à plusieurs</strong>, sans risquer de se marcher sur les pieds. Si deux personnes modifient un même fichier en même temps, leurs modifications doivent pouvoir être fusionnées sans perte d’information.</p></li></ul><h2 id="r-logiciels-centralises-et-distribues" data-claire-element-id="265393">Logiciels centralisés et distribués</h2><p id="r-265371" data-claire-element-id="265371">Il existe deux types principaux de logiciels de gestion de versions.</p><ul id="r-265376" data-claire-element-id="265376"><li id="r-265373" data-claire-element-id="265373"><p id="r-265372" data-claire-element-id="265372"><strong>Les logiciels centralisés</strong> : un serveur conserve les anciennes versions des fichiers et les développeurs s’y connectent pour prendre connaissance des fichiers qui ont été modifiés par d’autres personnes et pour y envoyer leurs modifications.</p></li><li id="r-265375" data-claire-element-id="265375"><p id="r-265374" data-claire-element-id="265374"><strong>Les logiciels distribués</strong> : il n’y a pas de serveur, chacun possède l’historique de l’évolution de chacun des fichiers. Les développeurs se transmettent directement entre eux les modifications, à la façon du <em>peer-to-peer</em>.</p></li></ul><p id="r-265377" data-claire-element-id="265377">Voici, schématiquement, comment fonctionne un logiciel de gestion de versions centralisé :</p><figure id="r-265379" data-claire-element-id="265380"><img id="r-265378" data-claire-element-id="265378" src="medias/uploads.siteduzero.com_files_236001_237000_236859.png" alt="Logiciel de gestion de versions centralisé."/></figure><p id="r-265381" data-claire-element-id="265381"><em>Un logiciel de gestion de versions centralisé.</em><br/> Le serveur retient les anciennes versions des fichiers et communique les changements aux développeurs.</p><p id="r-265382" data-claire-element-id="265382">De même, voici le fonctionnement d’un logiciel de gestion de versions distribué :</p><figure id="r-265384" data-claire-element-id="265385"><img id="r-265383" data-claire-element-id="265383" src="medias/uploads.siteduzero.com_files_236001_237000_236860.png" alt="Logiciel de gestion de versions distribué."/></figure><p id="r-265386" data-claire-element-id="265386"><em>Un logiciel de gestion de versions distribué.</em><br/> Il n’y a pas de serveur. Les développeurs conservent l’historique des modifications et se transmettent les nouveautés.</p><p id="r-265387" data-claire-element-id="265387">Dans la pratique, les logiciels distribués sont rarement utilisés comme sur le schéma précédent. Même lorsque les logiciels sont capables de fonctionner en mode distribué, on utilise très souvent un serveur qui sert de point de rencontre entre les développeurs. Le serveur connaît l’historique des modifications et permet l’échange d’informations entre les développeurs, qui eux possèdent également l’historique des modifications.</p><figure id="r-265389" data-claire-element-id="265390"><img id="r-265388" data-claire-element-id="265388" src="medias/uploads.siteduzero.com_files_236001_237000_236864.png" alt="Logiciel de gestion de versions distribué avec serveur."/></figure><p id="r-265391" data-claire-element-id="265391"><em>Un logiciel de gestion de versions distribué avec un serveur.</em><br/> Le serveur sert de point de rencontre entre les développeurs et possède lui aussi l’historique des versions.</p><p id="r-265392" data-claire-element-id="265392">C’est dans ce dernier mode que nous allons fonctionner avec Git. :) <br/> Il a l’avantage d’être à la fois flexible et pratique. Pas besoin de faire de sauvegarde du serveur étant donné que tout le monde possède l’historique des fichiers, et le serveur simplifie la transmission des modifications.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
<span class="next">Git et les autres logiciels de gestion de versions</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gitetlesautreslogicielsdegestiondeversions"></a><h2>Git et les autres logiciels de gestion de versions</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce qu’un logiciel de gestion de versions ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
<span class="next">Installer et configurer Git</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-les-differents-logiciels-de-gestion-de-versions" data-claire-element-id="265454">Les différents logiciels de gestion de versions</h2><p id="r-265395" data-claire-element-id="265395">Dans ce tutoriel, je vais vous présenter Git, le logiciel de gestion de versions que nous utilisons pour gérer le code source du Site du Zéro.<br/> Néanmoins, il existe d’autres logiciels du même type que je tiens aussi à vous présenter rapidement afin que vous les connaissiez au moins de nom.</p><table id="r-265452" data-claire-element-id="265452"><thead id="r-265405" data-claire-element-id="265405"><tr id="r-265404" data-claire-element-id="265404"><th id="r-265397" data-claire-element-id="265397"><p id="r-265396" data-claire-element-id="265396">Outil</p></th><th id="r-265399" data-claire-element-id="265399"><p id="r-265398" data-claire-element-id="265398">Type</p></th><th id="r-265401" data-claire-element-id="265401"><p id="r-265400" data-claire-element-id="265400">Description</p></th><th id="r-265403" data-claire-element-id="265403"><p id="r-265402" data-claire-element-id="265402">Projets qui l’utilisent</p></th></tr></thead><tbody id="r-265451" data-claire-element-id="265451"><tr id="r-265414" data-claire-element-id="265414"><td id="r-265407" data-claire-element-id="265407"><p id="r-265406" data-claire-element-id="265406"><a href="http://www.nongnu.org/cvs/"><strong>CVS</strong></a></p></td><td id="r-265409" data-claire-element-id="265409"><p id="r-265408" data-claire-element-id="265408">Centralisé</p></td><td id="r-265411" data-claire-element-id="265411"><p id="r-265410" data-claire-element-id="265410">C’est un des plus anciens logiciels de gestion de versions. Bien qu’il fonctionne et soit encore utilisé pour certains projets, il est préférable d’utiliser SVN (souvent présenté comme son successeur) qui corrige un certain nombre de ses défauts, comme son incapacité à suivre les fichiers renommés par exemple.</p></td><td id="r-265413" data-claire-element-id="265413"><p id="r-265412" data-claire-element-id="265412">OpenBSD…</p></td></tr><tr id="r-265423" data-claire-element-id="265423"><td id="r-265416" data-claire-element-id="265416"><p id="r-265415" data-claire-element-id="265415"><a href="http://subversion.apache.org/"><strong>SVN (Subversion)</strong></a></p></td><td id="r-265418" data-claire-element-id="265418"><p id="r-265417" data-claire-element-id="265417">Centralisé</p></td><td id="r-265420" data-claire-element-id="265420"><p id="r-265419" data-claire-element-id="265419">Probablement l’outil le plus utilisé à l’heure actuelle. Il est assez simple d’utilisation, bien qu’il nécessite comme tous les outils du même type un certain temps d’adaptation. Il a l’avantage d’être bien intégré à Windows avec le programme <a href="http://tortoisesvn.tigris.org/">Tortoise SVN</a>, là où beaucoup d’autres logiciels s’utilisent surtout en ligne de commande dans la console.<br/> Il y a un <a href="http://www.siteduzero.com/tutoriel-3-2696-gerez-vos-projets-a-l-aide-du-gestionnaire-de-versions-subversion.html">tutoriel SVN</a> sur le Site du Zéro.</p></td><td id="r-265422" data-claire-element-id="265422"><p id="r-265421" data-claire-element-id="265421">Apache, Redmine, Struts…</p></td></tr><tr id="r-265432" data-claire-element-id="265432"><td id="r-265425" data-claire-element-id="265425"><p id="r-265424" data-claire-element-id="265424"><a href="http://mercurial.selenic.com/"><strong>Mercurial</strong></a></p></td><td id="r-265427" data-claire-element-id="265427"><p id="r-265426" data-claire-element-id="265426">Distribué</p></td><td id="r-265429" data-claire-element-id="265429"><p id="r-265428" data-claire-element-id="265428">Plus récent, il est complet et puissant. Il est apparu quelques jours après le début du développement de Git et est d’ailleurs comparable à ce dernier sur bien des aspects.<br/> Vous trouverez un <a href="http://www.siteduzero.com/tutoriel-3-196002-gerer-vos-projets-avec-mercurial.html">tutoriel sur Mercurial</a> sur le Site du Zéro.</p></td><td id="r-265431" data-claire-element-id="265431"><p id="r-265430" data-claire-element-id="265430">Mozilla, Python, OpenOffice.org…</p></td></tr><tr id="r-265441" data-claire-element-id="265441"><td id="r-265434" data-claire-element-id="265434"><p id="r-265433" data-claire-element-id="265433"><a href="http://bazaar.canonical.com/en/"><strong>Bazaar</strong></a></p></td><td id="r-265436" data-claire-element-id="265436"><p id="r-265435" data-claire-element-id="265435">Distribué</p></td><td id="r-265438" data-claire-element-id="265438"><p id="r-265437" data-claire-element-id="265437">Un autre outil, complet et récent, comme Mercurial. Il est sponsorisé par Canonical, l’entreprise qui édite Ubuntu. Il se focalise sur la facilité d’utilisation et la flexibilité.</p></td><td id="r-265440" data-claire-element-id="265440"><p id="r-265439" data-claire-element-id="265439">Ubuntu, MySQL, Inkscape…</p></td></tr><tr id="r-265450" data-claire-element-id="265450"><td id="r-265443" data-claire-element-id="265443"><p id="r-265442" data-claire-element-id="265442"><a href="http://git-scm.com/"><strong>Git</strong></a></p></td><td id="r-265445" data-claire-element-id="265445"><p id="r-265444" data-claire-element-id="265444">Distribué</p></td><td id="r-265447" data-claire-element-id="265447"><p id="r-265446" data-claire-element-id="265446">Très puissant et récent, il a été créé par Linus Torvalds, qui est entre autres l’homme à l’origine de Linux. Il se distingue par sa rapidité et sa gestion des branches qui permettent de développer en parallèle de nouvelles fonctionnalités.</p></td><td id="r-265449" data-claire-element-id="265449"><p id="r-265448" data-claire-element-id="265448">Kernel de Linux, Debian, VLC, Android, Gnome, Qt…</p></td></tr></tbody></table><p id="r-265453" data-claire-element-id="265453">Notez qu’il existe d’autres outils de gestion de versions ; je ne vous ai présenté ici que les principaux.<br/> Tous ceux de cette liste sont des logiciels libres, mais il existe aussi des logiciels propriétaires : Perforce, BitKeeper, Visual SourceSafe de Microsoft, etc.</p><h2 id="r-quelles-sont-les-particularites-de-git" data-claire-element-id="265479">Quelles sont les particularités de Git ?</h2><p id="r-265455" data-claire-element-id="265455">Je n’entrerai pas dans les détails de la comparaison de Git avec les autres outils concurrents comme SVN et Mercurial. Retenez simplement que :</p><ul id="r-265462" data-claire-element-id="265462"><li id="r-265457" data-claire-element-id="265457"><p id="r-265456" data-claire-element-id="265456">CVS est le plus ancien et il est recommandé de ne plus l’utiliser car il est le moins puissant et n’est plus très bien mis à jour ;</p></li><li id="r-265459" data-claire-element-id="265459"><p id="r-265458" data-claire-element-id="265458">SVN est le plus connu et le plus utilisé à l’heure actuelle, mais de nombreux projets commencent à passer à des outils plus récents ;</p></li><li id="r-265461" data-claire-element-id="265461"><p id="r-265460" data-claire-element-id="265460">Mercurial, Bazaar et Git se valent globalement, ils sont récents et puissants, chacun a des avantages et des défauts. Ils sont tous distribués, donc chaque développeur possède l’historique des modifications et ils permettent en théorie de se passer de serveur (bien qu’on utilise toujours un serveur pour des raisons pratiques).</p></li></ul><p id="r-265463" data-claire-element-id="265463">Concernant les avantages de Git sur les autres, certains ont fait des <a href="http://fr.whygitisbetterthanx.com/">listes comparatives</a> intéressantes (bien que toujours criticables).</p><figure id="r-265465" data-claire-element-id="265466"><img id="r-265464" data-claire-element-id="265464" src="medias/uploads.siteduzero.com_files_236001_237000_236853.png" alt="Git"/></figure><p id="r-265467" data-claire-element-id="265467">On retiendra surtout que Git :</p><ul id="r-265476" data-claire-element-id="265476"><li id="r-265469" data-claire-element-id="265469"><p id="r-265468" data-claire-element-id="265468">est très rapide ;</p></li><li id="r-265471" data-claire-element-id="265471"><p id="r-265470" data-claire-element-id="265470">sait travailler par branches (versions parallèles d’un même projet) de façon très flexible ;</p></li><li id="r-265473" data-claire-element-id="265473"><p id="r-265472" data-claire-element-id="265472">est assez complexe, il faut un certain temps d’adaptation pour bien le comprendre et le manipuler, mais c’est également valable pour les autres outils ;</p></li><li id="r-265475" data-claire-element-id="265475"><p id="r-265474" data-claire-element-id="265474">est à l’origine prévu pour Linux. Il existe des versions pour Windows mais pas vraiment d’interface graphique simplifiée. Il est donc à réserver aux développeurs ayant un minimum d’expérience et… travaillant de préférence sous Linux.</p></li></ul><p id="r-265477" data-claire-element-id="265477">Une des particularités de Git, c’est l’existence de sites web collaboratifs basés sur Git comme <a href="http://github.com/">GitHub</a> et <a href="http://gitorious.org/">Gitorious</a>. GitHub, par exemple, est très connu et utilisé par de nombreux projets : jQuery, Symfony, Ruby on Rails…<br/> C’est une sorte de réseau social pour développeurs : vous pouvez regarder tous les projets évoluer et décider de participer à l’un d’entre eux si cela vous intéresse. Vous pouvez aussi y créer votre propre projet : c’est gratuit pour les projets <em>open source</em> et il existe une version payante pour ceux qui l’utilisent pour des projets propriétaires.</p><p id="r-265478" data-claire-element-id="265478">GitHub fournit le serveur où les développeurs qui utilisent Git se rencontrent. C’est un excellent moyen de participer à des projets <em>open source</em> et de publier votre projet !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
<span class="arrow"></span>
<span class="next">Qu&#039;est-ce qu’un logiciel de gestion de versions ?</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
<span class="next">Installer et configurer Git</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="InstalleretconfigurerGit"></a><h2>Installer et configurer Git</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
<span class="arrow"></span>
<span class="next">Git et les autres logiciels de gestion de versions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
<span class="next">Créer un nouveau dépôt ou cloner un dépôt existant</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<h2 id="r-installation-27" data-claire-element-id="265512">Installation</h2><p id="r-265481" data-claire-element-id="265481">Nous allons voir ici comment installer Git sous Linux, Windows et Mac OS X. Comme je vous le disais plus tôt, Git est plus agréable à utiliser sous Linux et sensiblement plus rapide, mais il reste néanmoins utilisable sous Windows.</p><h3 id="r-installer-git-sous-linux-1" data-claire-element-id="265491">Installer Git sous Linux</h3><p id="r-265482" data-claire-element-id="265482">Avec un gestionnaire de paquets, c’est très simple :</p><pre id="r-265483" data-claire-element-id="265483"><code data-claire-semantic="console">sudo apt-get install git-core gitk</code></pre><p id="r-265484" data-claire-element-id="265484">Cela installe 2 paquets :</p><ul id="r-265489" data-claire-element-id="265489"><li id="r-265486" data-claire-element-id="265486"><p id="r-265485" data-claire-element-id="265485">git-core : c’est git, tout simplement. C’est le seul paquet vraiment indispensable ;</p></li><li id="r-265488" data-claire-element-id="265488"><p id="r-265487" data-claire-element-id="265487">gitk : une interface graphique qui aide à mieux visualiser les logs. Facultatif.</p></li></ul><p id="r-265490" data-claire-element-id="265490">Il est recommandé de se créer une paire de clés pour se connecter au serveur de rencontre lorsque l’accès à Git se fait via SSH. Un tutoriel du SdZ explique comment créer des clés : <a href="http://www.siteduzero.com/tutoriel-3-75110-la-connexion-securisee-a-distance-avec-ssh.html#ss_part_5">http://www.siteduzero.com/tutoriel-3-7 [...] tml#ss_part_5</a>.</p><h3 id="r-installer-git-sous-windows-1" data-claire-element-id="265499">Installer Git sous Windows</h3><p id="r-265492" data-claire-element-id="265492">Pour utiliser Git sous Windows, il faut installer msysgit : <a href="http://code.google.com/p/msysgit/">http://code.google.com/p/msysgit/</a>.</p><p id="r-265493" data-claire-element-id="265493">Cela installe msys (un système d’émulation des commandes Unix sous Windows) et Git simultanément.</p><aside id="r-265495" data-claire-element-id="265495" data-claire-semantic="information"><p id="r-265494" data-claire-element-id="265494">Comme vous le voyez, ce n’est pas une « vraie » version pour Windows mais plutôt une forme d’émulation. Je l’ai testé, cela fonctionne, mais c’est loin d’être aussi agréable et rapide que sous Linux. Si la majorité des développeurs de votre projet utilisent Windows, je vous recommanderai donc plutôt d’essayer Mercurial ou Bazaar qui, sous Windows, ont des interfaces graphiques plus adaptées.</p></aside><p id="r-265496" data-claire-element-id="265496">Lors de l’installation, laissez toutes les options par défaut, elles conviennent bien.</p><p id="r-265497" data-claire-element-id="265497">Une fois que c’est installé, vous pouvez lancer une console qui permet d’utiliser Git en ouvrant le programme Git Bash. Les commandes de base d’Unix fonctionnent sans problème : cd, pwd, mkdir, etc.</p><p id="r-265498" data-claire-element-id="265498">De la même façon que sous Linux, pour se connecter régulièrement à un serveur, il est recommandé de se créer une paire de clés avec Puttygen et de charger la clé en mémoire avec Pageant (normalement installé avec Putty). Toutes les explications sont dans le tutoriel du SdZ : <a href="http://www.siteduzero.com/tutoriel-3-75110-la-connexion-securisee-a-distance-avec-ssh.html#ss_part_5">http://www.siteduzero.com/tutoriel-3-7 [...] tml#ss_part_5</a>.</p><h3 id="r-installer-git-sous-mac-os-x" data-claire-element-id="265511">Installer Git sous Mac OS X</h3><p id="r-265500" data-claire-element-id="265500">Il y a plusieurs façons d’installer Git sous Mac OS X. Le plus simple est de se baser sur cet <a href="http://code.google.com/p/git-osx-installer/">installeur pour Mac OS X</a>.</p><p id="r-265501" data-claire-element-id="265501">Vous allez télécharger une archive .dmg. Il suffit de l’ouvrir pour la monter, ce qui vous donnera accès à plusieurs fichiers :</p><figure id="r-265503" data-claire-element-id="265504"><img id="r-265502" data-claire-element-id="265502" src="medias/uploads.siteduzero.com_files_239001_240000_239555.png" alt="Archive dmg de git"/></figure><p id="r-265505" data-claire-element-id="265505">Ouvrez tout simplement l’archive .pkg qui se trouve à l’intérieur, ce qui aura pour effet d’exécuter le programme d’installation :</p><figure id="r-265507" data-claire-element-id="265508"><img id="r-265506" data-claire-element-id="265506" src="medias/uploads.siteduzero.com_files_239001_240000_239556.png" alt="Installer OS X de git"/></figure><p id="r-265509" data-claire-element-id="265509">Suivez les étapes en laissant les valeurs par défaut (c’est suffisant), et vous aurez installé Git !</p><p id="r-265510" data-claire-element-id="265510">Il vous suffit ensuite d’ouvrir un terminal et vous aurez alors accès aux commandes de Git comme sous Linux. :)</p><h2 id="r-configurer-git" data-claire-element-id="265525">Configurer Git</h2><p id="r-265513" data-claire-element-id="265513">Maintenant que Git est installé, vous devriez avoir une console ouverte dans laquelle vous allez pouvoir taper des commandes de Git.</p><p id="r-265514" data-claire-element-id="265514">Dans la console, commencez par envoyer ces trois lignes :</p><pre id="r-265515" data-claire-element-id="265515"><code data-claire-semantic="console">git config --global color.diff auto
git config --global color.status auto
git config --global color.branch auto</code></pre><p id="r-265516" data-claire-element-id="265516">Elles activeront la couleur dans Git. Il ne faut le faire qu’une fois, et ça aide à la lisibilité des messages dans la console.</p><p id="r-265517" data-claire-element-id="265517">De même, il faut configurer votre nom (ou pseudo) :</p><pre id="r-265518" data-claire-element-id="265518"><code data-claire-semantic="console">git config --global user.name &quot;votre_pseudo&quot;</code></pre><p id="r-265519" data-claire-element-id="265519">Puis votre e-mail :</p><pre id="r-265520" data-claire-element-id="265520"><code data-claire-semantic="console">git config --global user.email <a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="d1bcbeb891b4bcb0b8bdffb2bebc">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script></code></pre><p id="r-265521" data-claire-element-id="265521">Vous pouvez aussi éditer votre fichier de configuration <code>.gitconfig</code> situé dans votre répertoire personnel pour y ajouter une section alias à la fin :</p><pre id="r-265522" data-claire-element-id="265522"><code data-claire-semantic="console">vim ~/.gitconfig</code></pre><pre id="r-265523" data-claire-element-id="265523"><code>[color]
        diff = auto
        status = auto
        branch = auto
[user]
        name = votre_pseudo
        email = <a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="5e3331371e3b333f3732703d3133">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>
[alias]
        ci = commit
        co = checkout
        st = status
        br = branch</code></pre><p id="r-265524" data-claire-element-id="265524">Ces alias permettent de raccourcir certaines commandes de Git. Ainsi, au lieu d’écrire <code data-claire-semantic="console">git checkout</code>, vous pourrez écrire si vous le désirez <code data-claire-semantic="console">git co</code>, ce qui est plus court.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
<span class="arrow"></span>
<span class="next">Git et les autres logiciels de gestion de versions</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
<span class="next">Créer un nouveau dépôt ou cloner un dépôt existant</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Crerunnouveaudptouclonerundptexistant"></a><h2>Créer un nouveau dépôt ou cloner un dépôt existant</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
<span class="arrow"></span>
<span class="next">Installer et configurer Git</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
<span class="next">Modifier le code et effectuer des commits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265527" data-claire-element-id="265527">Pour commencer à travailler avec Git, il y a deux solutions :</p><ul id="r-265532" data-claire-element-id="265532"><li id="r-265529" data-claire-element-id="265529"><p id="r-265528" data-claire-element-id="265528">soit vous créez un nouveau dépôt vide, si vous souhaitez commencer un nouveau projet ;</p></li><li id="r-265531" data-claire-element-id="265531"><p id="r-265530" data-claire-element-id="265530">soit vous clonez un dépôt existant, c’est-à-dire que vous récupérez tout l’historique des changements d’un projet pour pouvoir travailler dessus.</p></li></ul><aside id="r-265534" data-claire-element-id="265534" data-claire-semantic="information"><p id="r-265533" data-claire-element-id="265533">Dans un logiciel de gestion de versions comme Git, un <strong>dépôt</strong> représente une copie du projet. Chaque ordinateur d’un développeur qui travaille sur le projet possède donc une copie du dépôt.<br/> Dans chaque dépôt, on trouve les fichiers du projet ainsi que leur historique (voir les schémas du début du chapitre).</p></aside><p id="r-265535" data-claire-element-id="265535">Je vais vous montrer les deux méthodes : la création d’un nouveau dépôt vide et le clonage d’un dépôt existant. À vous de choisir celle que vous préférez, sachant qu’il peut être pratique de commencer par cloner un dépôt existant pour se faire la main sur un projet qui utilise déjà Git. ;)</p><h2 id="r-creer-un-nouveau-depot" data-claire-element-id="265544">Créer un nouveau dépôt</h2><p id="r-265536" data-claire-element-id="265536">Commencez par créer un dossier du nom de votre projet sur votre disque. Par exemple, je vais créer <code>/home/mateo21/plusoumoins</code> pour héberger mon jeu « Plus ou Moins » développé en C. :)</p><pre id="r-265537" data-claire-element-id="265537"><code data-claire-semantic="console">cd /home/mateo21
mkdir plusoumoins
cd plusoumoins</code></pre><aside id="r-265539" data-claire-element-id="265539" data-claire-semantic="information"><p id="r-265538" data-claire-element-id="265538">Si votre projet existe déjà, inutile de créer un nouveau dossier. Rendez-vous simplement dans le dossier où se trouve votre projet.<br/> Vous pouvez donc ignorer les étapes précédentes.</p></aside><p id="r-265540" data-claire-element-id="265540">Ensuite, initialisez un dépôt Git tout neuf dans ce dossier avec la commande :</p><pre id="r-265541" data-claire-element-id="265541"><code data-claire-semantic="console">git init</code></pre><p id="r-265542" data-claire-element-id="265542">C’est tout ! Vous venez de créer un nouveau projet Git dans le dossier où vous vous trouvez. :) <br/> Un dossier caché <em>.git</em> vient tout simplement d’être créé.</p><p id="r-265543" data-claire-element-id="265543">Il faudra ensuite créer les fichiers source de votre projet et les faire connaître à Git en faisant des commits, ce que je vous expliquerai un peu plus loin.</p><h2 id="r-cloner-un-depot-existant" data-claire-element-id="265565">Cloner un dépôt existant</h2><p id="r-265545" data-claire-element-id="265545">Cloner un dépôt existant consiste à récupérer tout l’historique et tous les codes source d’un projet avec Git.</p><p id="r-265546" data-claire-element-id="265546">Pour trouver un dépôt Git, rien de plus facile ! Comme je vous le disais, <a href="http://github.com/">GitHub</a> est une formidable fourmilière de dépôts Git. Vous y trouverez de nombreux projets connus (certains n’utilisent pas GitHub directement mais on y trouve quand même une copie à jour du projet).</p><p id="r-265547" data-claire-element-id="265547">Prenons par exemple <a href="http://github.com/symfony/symfony">Symfony</a>, la nouvelle version du framework PHP qui permet de créer des sites robustes facilement (il s’agit ici de la version <em>Symfony 2</em> en cours de développement), que le Site du Zéro utilise, par ailleurs.</p><p id="r-265548" data-claire-element-id="265548">Rendez-vous sur la <a href="http://github.com/symfony/symfony">page GitHub du projet</a>. Vous y voyez la liste des fichiers et des derniers changements ainsi qu’un champ contenant l’adresse du dépôt. En l’occurrence, l’adresse du dépôt de Symfony est :</p><pre id="r-265549" data-claire-element-id="265549"><code>http://github.com/symfony/symfony.git</code></pre><p id="r-265550" data-claire-element-id="265550">Comme vous le voyez, on se connecte au dépôt en HTTP, mais il existe d’autres méthodes : les protocoles « git:// » et « ssh:// ». Le plus souvent, on utilise SSH car il permet de chiffrer les données pendant l’envoi et gère l’authentification des utilisateurs.</p><p id="r-265551" data-claire-element-id="265551">Pour cloner le dépôt de Symfony, il suffit de lancer la commande suivante :</p><pre id="r-265552" data-claire-element-id="265552"><code data-claire-semantic="console">git clone http://github.com/symfony/symfony.git</code></pre><p id="r-265553" data-claire-element-id="265553">Cela va créer un dossier « symfony » et y télécharger tous les fichiers source du projet ainsi que l’historique de chacune de leurs modifications !<br/> Git compresse automatiquement les données pour le transfert et le stockage afin de ne pas prendre trop de place. Néanmoins, le clonage d’un dépôt comme ceci peut prendre beaucoup de temps (ce n’est pas vraiment le cas avec Symfony, mais essayez de cloner le dépôt du <a href="http://github.com/mirrors/linux-2.6">Kernel Linux</a> pour voir ! :D ).</p><p id="r-265554" data-claire-element-id="265554">Les messages suivants devraient apparaître dans la console :</p><pre id="r-265555" data-claire-element-id="265555"><code data-claire-semantic="console">$ git clone http://github.com/symfony/symfony.git
Initialized empty Git repository in /home/mateo21/symfony/.git/
remote: Counting objects: 7820, done.
remote: Compressing objects: 100% (2490/2490), done.
remote: Total 7820 (delta 4610), reused 7711 (delta 4528)
Receiving objects: 100% (7820/7820), 1.40 MiB | 479 KiB/s, done.
Resolving deltas: 100% (4610/4610), done.
Checking out files: 100% (565/565), done.</code></pre><p id="r-265556" data-claire-element-id="265556">Inutile d’essayer d’en comprendre le détail. Vous noterez toutefois que les objets sont compressés avant l’envoi, ce qui accélère le téléchargement. Une fois les fichiers reçus, Git les organise sur votre disque et vous voilà désormais en possession de tous les changements des fichiers du projet ainsi que de leur dernière version !</p><p id="r-265557" data-claire-element-id="265557">Vous pouvez ouvrir le dossier « symfony » et regarder son contenu, il y a tout le code source du projet. :)</p><p id="r-265558" data-claire-element-id="265558">Le seul dossier un peu particulier créé par Git est un dossier <code>.git</code> (c’est un dossier caché situé à la racine du projet). Il contient l’historique des modifications des fichiers et la configuration de Git pour ce projet.<br/> Lorsque Git crée ou clone un dépôt sur votre ordinateur, il organise les dossiers comme ceci :</p><figure id="r-265560" data-claire-element-id="265561"><img id="r-265559" data-claire-element-id="265559" src="medias/uploads.siteduzero.com_files_236001_237000_236994.png" alt="Dossier de travail de Git"/></figure><p id="r-265562" data-claire-element-id="265562">En fait, Git crée tout simplement un dossier <em>.git</em> caché à la racine du dossier de votre projet. Vous n’aurez pas à vous rendre dans ce dossier caché en temps normal, sauf éventuellement pour modifier le fichier de configuration <em>.git/config</em> qui se trouve à l’intérieur.<br/> Mis à part ce dossier un peu « spécial », vous retrouverez tous les fichiers dans leur dernière version dans le dossier du projet. Ce sont eux que vous modifierez.</p><aside id="r-265564" data-claire-element-id="265564" data-claire-semantic="information"><p id="r-265563" data-claire-element-id="265563">Sur GitHub, la plupart des dépôts sont en mode lecture seule (<em>read only</em>). Vous pouvez télécharger les fichiers, effectuer des modifications sur votre ordinateur (en local) mais pas les envoyer sur le serveur. Ceci permet d’éviter que n’importe qui fasse n’importe quoi sur les gros projets publics.<br/> Si vous faites une modification utile sur le projet (vous résolvez un bug par exemple) il faudra demander à l’un des principaux développeurs du projet de faire un « pull », c’est-à-dire de télécharger vos modifications lui-même afin qu’il puisse vérifier si elles sont correctes.</p></aside><h2 id="r-creer-un-depot-qui-servira-de-serveur" data-claire-element-id="265571">Créer un dépôt qui servira de serveur</h2><p id="r-265566" data-claire-element-id="265566">Si vous souhaitez mettre en place un serveur de rencontre pour votre projet, il suffit d’y faire un <code data-claire-semantic="console">git clone</code> ou un <code data-claire-semantic="console">git init</code> avec l’option <em>--bare</em>. Cela aura pour effet de créer un dépôt qui contiendra uniquement le dossier <em>.git</em> représentant l’historique des changements (ce qui est suffisant, car personne ne modifie les fichiers source directement sur le serveur).</p><pre id="r-265567" data-claire-element-id="265567"><code data-claire-semantic="console">git init --bare // À exécuter sur le serveur.</code></pre><p id="r-265568" data-claire-element-id="265568">Pour se connecter au serveur, la meilleure méthode consiste à utiliser SSH. Ainsi, si vous voulez cloner le dépôt du serveur sur votre ordinateur, vous pouvez écrire quelque chose comme :</p><pre id="r-265569" data-claire-element-id="265569"><code data-claire-semantic="console">git clone ssh://<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="e19495888d88928095849493a18c8e8f92849397849493cf858e8c80888f84cf828e8c">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>/chemin/vers/le/depot/git // À exécuter sur votre machine.</code></pre><p id="r-265570" data-claire-element-id="265570">Il faudra bien entendu vous identifier en entrant votre mot de passe (sauf si vous avez autorisé votre clé publique).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
<span class="arrow"></span>
<span class="next">Installer et configurer Git</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
<span class="next">Modifier le code et effectuer des commits</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Modifierlecodeeteffectuerdescommits"></a><h2>Modifier le code et effectuer des commits</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
<span class="arrow"></span>
<span class="next">Créer un nouveau dépôt ou cloner un dépôt existant</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
<span class="next">Annuler un commit effectué par erreur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265573" data-claire-element-id="265573">À ce stade, vous devriez avoir créé ou cloné un dépôt Git. Je vous recommande d’avoir fait un clone afin d’avoir une base de travail, ce sera plus simple que de commencer à zéro pour le moment. :)</p><p id="r-265574" data-claire-element-id="265574">Supposons que vous ayez cloné comme moi le dépôt Git de Symfony. Vous avez sur votre disque dur tous les fichiers source du projet et vous pouvez vous amuser à les modifier avec un éditeur de texte (pas de panique, les changements restent sur votre ordinateur, vous ne risquez pas d’envoyer des bêtises et pouvez donc faire toutes les expériences que vous voulez).</p><p id="r-265575" data-claire-element-id="265575">Placez-vous dans le répertoire de base du code, par exemple :</p><pre id="r-265576" data-claire-element-id="265576"><code data-claire-semantic="console">cd /home/mateo21/symfony</code></pre><p id="r-265577" data-claire-element-id="265577">La commande <code data-claire-semantic="console">git status</code> vous indique les fichiers que vous avez modifiés récemment :</p><pre id="r-265578" data-claire-element-id="265578"><code data-claire-semantic="console">$ git status
# On branch master
nothing to commit (working directory clean)</code></pre><p id="r-265579" data-claire-element-id="265579">Ce message nous informe que rien n’a été modifié (<em>nothing to commit</em>).</p><aside id="r-265581" data-claire-element-id="265581" data-claire-semantic="information"><p id="r-265580" data-claire-element-id="265580">Si vous avez défini des alias précédemment, il est plus rapide de taper <code data-claire-semantic="console">git st</code> que <code data-claire-semantic="console">git status</code>. C’est une commande que l’on peut être amené à taper plusieurs fois par jour.</p></aside><h2 id="r-methode-de-travail" data-claire-element-id="265610">Méthode de travail</h2><p id="r-265582" data-claire-element-id="265582">Lorsqu’on travaille avec Git, on suit en général toujours les étapes suivantes :</p><ol id="r-265591" data-claire-element-id="265591"><li id="r-265584" data-claire-element-id="265584"><p id="r-265583" data-claire-element-id="265583">modifier le code source ;</p></li><li id="r-265586" data-claire-element-id="265586"><p id="r-265585" data-claire-element-id="265585">tester votre programme pour vérifier si cela fonctionne ;</p></li><li id="r-265588" data-claire-element-id="265588"><p id="r-265587" data-claire-element-id="265587">faire un commit pour « enregistrer » les changements et les faire connaître à Git ;</p></li><li id="r-265590" data-claire-element-id="265590"><p id="r-265589" data-claire-element-id="265589">recommencer à partir de l’étape 1 pour une autre modification.</p></li></ol><figure id="r-265593" data-claire-element-id="265594"><img id="r-265592" data-claire-element-id="265592" src="medias/uploads.siteduzero.com_files_237001_238000_237044.png" alt="Cycle de développement avec Git"/></figure><div id="r-265596" data-claire-element-id="265596" data-claire-semantic="question"><p id="r-265595" data-claire-element-id="265595">Qu’est-ce qu’on appelle une modification du code source ?</p></div><p id="r-265597" data-claire-element-id="265597">C’est un ensemble de changements qui permet soit de régler un bug, soit d’ajouter une fonctionnalité.</p><p id="r-265598" data-claire-element-id="265598">Cela peut aussi bien correspondre à une ligne changée dans un fichier que 50 lignes changées dans un fichier A et 25 lignes dans un fichier B. Un commit représente donc un<em> ensemble de changements</em>. À vous de déterminer, dès que vos changements sont stables, quand vous devez faire un commit.</p><aside id="r-265600" data-claire-element-id="265600" data-claire-semantic="information"><p id="r-265599" data-claire-element-id="265599">À titre indicatif, si vous travaillez toute une journée sur un code et que vous ne faites qu’un commit à la fin de la journée, c’est qu’il y a un problème (sauf si vous avez passé toute la journée sur le même bug). Les commits sont là pour « valider » l’avancement de votre projet : n’en faites pas un pour chaque ligne de code modifiée, mais n’attendez pas d’avoir fait 50 modifications différentes non plus !</p></aside><p id="r-265601" data-claire-element-id="265601">Supposons que vous ayez effectué des modifications dans un des fichiers (par exemple <em>src/Symfony/Components/Yaml/Yaml.php</em>). Si vous avez modifié ce fichier et que vous l’avez enregistré, faites un <code data-claire-semantic="console">git status</code> dans la console pour voir :</p><pre id="r-265602" data-claire-element-id="265602"><code data-claire-semantic="console">$ git status
# On branch master
# Changed but not updated:
#   (use &quot;git add &lt;file&gt;…&quot; to update what will be committed)
#   (use &quot;git checkout -- &lt;file&gt;…&quot; to discard changes in working directory)
#
#       modified:   src/Symfony/Components/Yaml/Yaml.php
#
no changes added to commit (use &quot;git add&quot; and/or &quot;git commit -a&quot;)</code></pre><p id="r-265603" data-claire-element-id="265603">Git vous liste tous les fichiers qui ont changé sur le disque. Il peut aussi bien détecter les modifications que les ajouts, les suppressions et les renommages.</p><p id="r-265604" data-claire-element-id="265604">Vous pouvez voir concrètement ce que vous avez changé en tapant <code data-claire-semantic="console">git diff</code> :</p><pre id="r-265605" data-claire-element-id="265605"><code data-claire-semantic="console">$ git diff
diff --git a/src/Symfony/Components/Yaml/Yaml.php b/src/Symfony/Components/Yaml/
index fa0b806..77f9902 100644
--- a/src/Symfony/Components/Yaml/Yaml.php
+++ b/src/Symfony/Components/Yaml/Yaml.php
@@ -19,7 +19,7 @@ namespace Symfony\Components\Yaml;
  */
 class Yaml
 {
-    static protected $spec = ’1.2’;
+    static protected $spec = ’1.3’;

     /**
      * Sets the YAML specification version to use.
@@ -33,6 +33,8 @@ class Yaml
         if (!in_array($version, array(’1.1’, ’1.2’))) {
             throw new \InvalidArgumentException(sprintf(’Version %s of the YAML
         }
+
+        $mtsource = $version;

         self::$spec = $version;
     }</code></pre><p id="r-265606" data-claire-element-id="265606">Les lignes ajoutées sont précédées d’un « + » tandis que les lignes supprimées sont précédées d’un « - ». Normalement les lignes sont colorées et donc faciles à repérer.<br/> J’ai fait des modifications aléatoires ici mais cela aurait très bien pu correspondre à la correction d’un bug ou l’ajout d’une fonctionnalité.</p><p id="r-265607" data-claire-element-id="265607">Par défaut, Git affiche les modifications de tous les fichiers qui ont changé. Dans notre cas, il n’y en avait qu’un, mais s’il y en avait eu plusieurs nous les aurions tous vus.<br/> Vous pouvez demander à Git d’afficher seulement les changements d’un fichier précis, comme ceci :</p><pre id="r-265608" data-claire-element-id="265608"><code data-claire-semantic="console">git diff src/Symfony/Components/Yaml/Yaml.php</code></pre><p id="r-265609" data-claire-element-id="265609">Si les modifications vous paraissent bonnes et que vous les avez testées, il est temps de faire un commit.</p><h2 id="r-effectuer-un-commit-des-changements" data-claire-element-id="265642">Effectuer un commit des changements</h2><p id="r-265611" data-claire-element-id="265611">En faisant <code data-claire-semantic="console">git status</code>, vous devriez voir les fichiers que vous avez modifiés en rouge. Cela signifie qu’ils ne seront pas pris en compte lorsque vous allez faire un commit.</p><p id="r-265612" data-claire-element-id="265612">Il faut explicitement préciser les fichiers que vous voulez « commiter ». Pour cela, trois possibilités :</p><ul id="r-265619" data-claire-element-id="265619"><li id="r-265614" data-claire-element-id="265614"><p id="r-265613" data-claire-element-id="265613">faire <code data-claire-semantic="console">git add nomfichier1 nomfichier2</code> pour ajouter les fichiers à la liste de ceux devant faire l’objet d’un commit, puis faire un <code data-claire-semantic="console">git commit</code>. Si vous faites un <code data-claire-semantic="console">git status</code> après un <code data-claire-semantic="console">git add</code>, vous les verrez alors en vert ;</p></li><li id="r-265616" data-claire-element-id="265616"><p id="r-265615" data-claire-element-id="265615">faire <code data-claire-semantic="console">git commit -a</code> pour « commiter » tous les fichiers qui étaient listés dans <code data-claire-semantic="console">git status</code> dans les colonnes « <em>Changes to be committed</em> » et « <em>Changed but not updated</em> » (qu’ils soient en vert ou en rouge) ;</p></li><li id="r-265618" data-claire-element-id="265618"><p id="r-265617" data-claire-element-id="265617">faire <code data-claire-semantic="console">git commit nomfichier1 nomfichier2</code> pour indiquer lors du commit quels fichiers précis doivent être « commités ».</p></li></ul><p id="r-265620" data-claire-element-id="265620">J’utilise personnellement la seconde solution lorsque je veux « commiter » tous les fichiers que j’ai modifiés, et la troisième solution lorsque je veux « commiter » seulement certains des fichiers modifiés.<br/> Faire appel à <code data-claire-semantic="console">git add</code> est indispensable lorsque vous venez de créer de nouveaux fichiers que Git ne connaît pas encore. Cela lui permet de les prendre en compte pour le prochain commit.</p><p id="r-265621" data-claire-element-id="265621">Lorsque la commande <em>commit</em> est lancée, l’éditeur par défaut (généralement nano ou Vim) s’ouvre. Vous devez sur la première ligne taper un message qui décrit à quoi correspondent vos changements.</p><aside id="r-265623" data-claire-element-id="265623" data-claire-semantic="information"><p id="r-265622" data-claire-element-id="265622">Il est possible de faire un message de commit sur plusieurs lignes. Néanmoins, réservez la première ligne pour une courte description synthétique de vos changements. Si vous ne mettez pas de message de commit, celui-ci sera annulé.</p></aside><aside id="r-265625" data-claire-element-id="265625" data-claire-semantic="warning"><p id="r-265624" data-claire-element-id="265624">En règle générale, si vous ne pouvez pas résumer vos changements en une courte ligne c’est que vous avez passé trop de temps à faire des changements sans « commiter ».</p></aside><p id="r-265626" data-claire-element-id="265626">Exemple de messages de commit d’une ligne corrects :</p><ul id="r-265633" data-claire-element-id="265633"><li id="r-265628" data-claire-element-id="265628"><p id="r-265627" data-claire-element-id="265627">« Améliore la visibilité des post-it sur le forum. » ;</p></li><li id="r-265630" data-claire-element-id="265630"><p id="r-265629" data-claire-element-id="265629">« Simplifie l’interface de changement d’avatar. » ;</p></li><li id="r-265632" data-claire-element-id="265632"><p id="r-265631" data-claire-element-id="265631">« Résout #324 : bug qui empêchait de valider un tutoriel à plusieurs ».</p></li></ul><p id="r-265634" data-claire-element-id="265634">Comme vous pouvez le constater, on a tendance à écrire les messages de commit au présent. D’autre part, vous remarquerez que la plupart des projets open source sont écrits en anglais, donc il est fréquent de voir des messages de commit en anglais.</p><p id="r-265635" data-claire-element-id="265635">Une fois le message de commit enregistré, Git va officiellement sauvegarder vos changements dans un commit. Il ajoute donc cela à la liste des changements qu’il connaît du projet.</p><figure id="r-265637" data-claire-element-id="265638"><img id="r-265636" data-claire-element-id="265636" src="medias/uploads.siteduzero.com_files_237001_238000_237328.png" alt="git commit"/></figure><p id="r-265639" data-claire-element-id="265639">git commit <em>ajoute vos dernières modifications à votre historique des modifications.</em></p><aside id="r-265641" data-claire-element-id="265641" data-claire-semantic="warning"><p id="r-265640" data-claire-element-id="265640">Un commit avec git est <strong>local </strong>: à moins d’envoyer ce commit sur le serveur comme on apprendra à le faire plus loin, personne ne sait que vous avez fait ce commit pour le moment. Cela a un avantage : si vous vous rendez compte que vous avez fait une erreur dans votre dernier commit, vous avez la possibilité de l’annuler (ce qui n’est pas le cas avec SVN !).</p></aside>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
<span class="arrow"></span>
<span class="next">Créer un nouveau dépôt ou cloner un dépôt existant</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
<span class="next">Annuler un commit effectué par erreur</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Annuleruncommiteffectuparerreur"></a><h2>Annuler un commit effectué par erreur</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
<span class="arrow"></span>
<span class="next">Modifier le code et effectuer des commits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
<span class="next">Télécharger les nouveautés et partager votre travail</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265644" data-claire-element-id="265644">Il est fréquent de chercher à comprendre ce qui s’est passé récemment, pourquoi une erreur a été introduite et comment annuler ce changement qui pose problème. C’est même là tout l’intérêt d’un logiciel de gestion de versions comme Git. ;)</p><p id="r-265645" data-claire-element-id="265645">Nous allons d’abord apprendre à lire les logs, puis nous verrons comment corriger une erreur.</p><h2 id="r-que-s-est-il-passe-verifions-les-logs" data-claire-element-id="265656">Que s’est-il passé ? Vérifions les logs</h2><p id="r-265646" data-claire-element-id="265646">Il est possible à tout moment de consulter l’historique des commits : ce sont les <em>logs</em>. Vous pouvez ainsi retrouver tout ce qui a été changé depuis les débuts du projet.</p><p id="r-265647" data-claire-element-id="265647">Lorsque vous avez effectué un commit, vous devriez donc le voir dans <code data-claire-semantic="console">git log</code> :</p><pre id="r-265648" data-claire-element-id="265648"><code data-claire-semantic="console">commit 227653fd243498495e4414218e0d4282eef3876e
Author: Fabien Potencier &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="d9bfb8bbb0bcb7f7a9b6adbcb7bab0bcab99beb4b8b0b5f7bab6b4">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Thu Jun 3 08:47:46 2010 +0200

    [TwigBundle] added the javascript token parsers in the helper extension

commit 6261cc26693fa1697bcbbd671f18f4902bef07bc
Author: Jeremy Mikola &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="bed4d3d7d5d1d2dffed9d3dfd7d290ddd1d3">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Wed Jun 2 17:32:08 2010 -0400

    Fixed bad examples in doctrine:generate:entities help output.

commit 12328a1bcbf231da8eaf942f8d68c7dc0c7c4f38
Author: Fabien Potencier &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="7c1a1d1e151912520c130819121f15190e3c1b111d1510521f1311">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Thu Jun 3 08:42:22 2010 +0200

    [TwigBundle] updated the bundle to work with the latest Twig version</code></pre><aside id="r-265650" data-claire-element-id="265650" data-claire-semantic="information"><p id="r-265649" data-claire-element-id="265649">Chaque commit est numéroté grâce à un long numéro hexadécimal comme 12328a1bcbf231da8eaf942f8d68c7dc0c7c4f38. Cela permet de les identifier.</p></aside><p id="r-265651" data-claire-element-id="265651">Vous pouvez parcourir les logs avec les touches « <em>Page up</em> », « <em>Page down</em> » et les flèches directionnelles, et quitter en appuyant sur la touche « Q ». Git utilise en fait le programme « less » pour paginer les résultats.</p><p id="r-265652" data-claire-element-id="265652">Utilisez l’option <em>-p</em> pour avoir le détail des lignes qui ont été ajoutées et retirées dans chaque commit, en tapant <code data-claire-semantic="console">git log -p</code> :</p><pre id="r-265653" data-claire-element-id="265653"><code data-claire-semantic="console">commit 227653fd243498495e4414218e0d4282eef3876e
Author: Fabien Potencier &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="3a5c5b58535f54144a554e5f5459535f487a5d575b535614595557">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Thu Jun 3 08:47:46 2010 +0200

    [TwigBundle] added the javascript token parsers in the helper extension

diff --git a/src/Symfony/Framework/TwigBundle/Extension/Helpers.php b/src/Symfon
index e4c9cce..57a3d2f 100644
--- a/src/Symfony/Framework/TwigBundle/Extension/Helpers.php
+++ b/src/Symfony/Framework/TwigBundle/Extension/Helpers.php
@@ -33,6 +33,8 @@ class Helpers extends \Twig_Extension
     public function getTokenParsers()
     {
         return array(
+            new JavascriptTokenParser(),
+            new JavascriptsTokenParser(),
             new StylesheetTokenParser(),
             new StylesheetsTokenParser(),
             new RouteTokenParser(),

commit 6261cc26693fa1697bcbbd671f18f4902bef07bc
Author: Jeremy Mikola &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="cea4a3a7a5a1a2af8ea9a3afa7a2e0ada1a3">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Wed Jun 2 17:32:08 2010 -0400</code></pre><p id="r-265654" data-claire-element-id="265654">Vous pouvez avoir un résumé plus court des commits avec <code data-claire-semantic="console">git log --stat</code> :</p><pre id="r-265655" data-claire-element-id="265655"><code data-claire-semantic="console">commit 227653fd243498495e4414218e0d4282eef3876e
Author: Fabien Potencier &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="caacaba8a3afa4e4baa5beafa4a9a3afb88aada7aba3a6e4a9a5a7">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Thu Jun 3 08:47:46 2010 +0200

    [TwigBundle] added the javascript token parsers in the helper extension

 …/Framework/TwigBundle/Extension/Helpers.php     |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

commit 6261cc26693fa1697bcbbd671f18f4902bef07bc
Author: Jeremy Mikola &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="e2888f8b898d8e83a2858f838b8ecc818d8f">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Wed Jun 2 17:32:08 2010 -0400

    Fixed bad examples in doctrine:generate:entities help output.

 …/Command/GenerateEntitiesDoctrineCommand.php    |    4 ++--
 1 files changed, 2 insertions(+), 2 deletions(-)</code></pre><h2 id="r-corriger-une-erreur" data-claire-element-id="265698">Corriger une erreur</h2><p id="r-265657" data-claire-element-id="265657">Voici différentes méthodes permettant de corriger les erreurs, selon leur ancienneté ou leur importance.</p><h3 id="r-modifier-le-dernier-message-de-commit" data-claire-element-id="265662">Modifier le dernier message de commit</h3><p id="r-265658" data-claire-element-id="265658">Si vous avez fait une faute d’orthographe dans votre dernier message de commit ou que vous voulez tout simplement le modifier, vous pouvez le faire facilement grâce à la commande suivante :</p><pre id="r-265659" data-claire-element-id="265659"><code data-claire-semantic="console">git commit --amend</code></pre><p id="r-265660" data-claire-element-id="265660">L’éditeur de texte s’ouvrira à nouveau pour changer le message.</p><p id="r-265661" data-claire-element-id="265661">Cette commande est généralement utilisée juste après avoir effectué un commit lorsqu’on se rend compte d’une erreur dans le message. Il est en effet impossible de modifier le message d’un commit lorsque celui-ci a été transmis à d’autres personnes.</p><h3 id="r-annuler-le-dernier-commit-soft" data-claire-element-id="265682">Annuler le dernier commit (soft)</h3><p id="r-265663" data-claire-element-id="265663">Si vous voulez annuler votre dernier commit :</p><pre id="r-265664" data-claire-element-id="265664"><code data-claire-semantic="console">git reset HEAD^</code></pre><p id="r-265665" data-claire-element-id="265665">Cela annule le dernier commit et revient à l’avant-dernier.</p><p id="r-265666" data-claire-element-id="265666">Pour indiquer à quel commit on souhaite revenir, il existe plusieurs notations :</p><ul id="r-265679" data-claire-element-id="265679"><li id="r-265668" data-claire-element-id="265668"><p id="r-265667" data-claire-element-id="265667">HEAD : dernier commit ;</p></li><li id="r-265670" data-claire-element-id="265670"><p id="r-265669" data-claire-element-id="265669">HEAD^ : avant-dernier commit ;</p></li><li id="r-265672" data-claire-element-id="265672"><p id="r-265671" data-claire-element-id="265671">HEAD^^ : avant-avant-dernier commit ;</p></li><li id="r-265674" data-claire-element-id="265674"><p id="r-265673" data-claire-element-id="265673">HEAD~2 : avant-avant-dernier commit (notation équivalente) ;</p></li><li id="r-265676" data-claire-element-id="265676"><p id="r-265675" data-claire-element-id="265675">d6d98923868578a7f38dea79833b56d0326fcba1 : indique un numéro de commit précis ;</p></li><li id="r-265678" data-claire-element-id="265678"><p id="r-265677" data-claire-element-id="265677">d6d9892 : indique un numéro de commit précis (notation équivalente à la précédente, bien souvent écrire les premiers chiffres est suffisant tant qu’aucun autre commit ne commence par les mêmes chiffres).</p></li></ul><p id="r-265680" data-claire-element-id="265680">Seul le commit est retiré de Git ; vos fichiers, eux, restent modifiés.</p><p id="r-265681" data-claire-element-id="265681">Vous pouvez alors à nouveau changer vos fichiers si besoin est et refaire un commit.</p><h3 id="r-annuler-tous-les-changements-du-dernier-commit-hard" data-claire-element-id="265689">Annuler tous les changements du dernier commit (hard)</h3><p id="r-265683" data-claire-element-id="265683">Si vous voulez annuler votre dernier commit <strong>et</strong> les changements effectués dans les fichiers, il faut faire un <em>reset hard</em>.</p><aside id="r-265685" data-claire-element-id="265685" data-claire-semantic="error"><p id="r-265684" data-claire-element-id="265684">Cela annulera sans confirmation tout votre travail ! Faites donc attention et vérifiez que c’est bien ce que vous voulez faire !</p></aside><pre id="r-265686" data-claire-element-id="265686"><code data-claire-semantic="console">git reset --hard HEAD^   /!\ Annule les commits et perd tous les changements</code></pre><p id="r-265687" data-claire-element-id="265687">Normalement, Git devrait vous dire quel est maintenant le dernier commit qu’il connaît (le nouveau HEAD) :</p><pre id="r-265688" data-claire-element-id="265688"><code data-claire-semantic="console">$ git reset --hard HEAD^
HEAD is now at 6261cc2 Fixed bad examples in doctrine:generate:entities help output.</code></pre><h3 id="r-annuler-les-modifications-d-un-fichier-avant-un-commit" data-claire-element-id="265693">Annuler les modifications d’un fichier avant un commit</h3><p id="r-265690" data-claire-element-id="265690">Si vous avez modifié plusieurs fichiers mais que vous n’avez pas encore envoyé le commit et que vous voulez restaurer un fichier tel qu’il était au dernier commit, utilisez <code data-claire-semantic="console">git checkout</code> :</p><pre id="r-265691" data-claire-element-id="265691"><code data-claire-semantic="console">git checkout nomfichier</code></pre><p id="r-265692" data-claire-element-id="265692">Le fichier redeviendra comme il était lors du dernier commit.</p><h3 id="r-annuler-supprimer-un-fichier-avant-un-commit" data-claire-element-id="265697">Annuler/Supprimer un fichier avant un commit</h3><p id="r-265694" data-claire-element-id="265694">Supposons que vous veniez d’ajouter un fichier à Git avec <code data-claire-semantic="console">git add</code> et que vous vous apprêtiez à le « commiter ». Cependant, vous vous rendez compte que ce fichier est une mauvaise idée et vous voudriez annuler votre <code data-claire-semantic="console">git add</code>.</p><p id="r-265695" data-claire-element-id="265695">Il est possible de retirer un fichier qui avait été ajouté pour être « commité » en procédant comme suit :</p><pre id="r-265696" data-claire-element-id="265696"><code data-claire-semantic="console">git reset HEAD -- fichier_a_supprimer</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
<span class="arrow"></span>
<span class="next">Modifier le code et effectuer des commits</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
<span class="next">Télécharger les nouveautés et partager votre travail</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Tlchargerlesnouveautsetpartagervotretravail"></a><h2>Télécharger les nouveautés et partager votre travail</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
<span class="arrow"></span>
<span class="next">Annuler un commit effectué par erreur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
<span class="next">Travailler avec des branches</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265700" data-claire-element-id="265700">Pour le moment, vous avez tout effectué en local. Comment partager votre travail avec d'autres personnes ?</p><h2 id="r-telecharger-les-nouveautes" data-claire-element-id="265715">Télécharger les nouveautés</h2><p id="r-265701" data-claire-element-id="265701">La commande <code data-claire-semantic="console">git pull</code> télécharge les nouveautés depuis le serveur :</p><pre id="r-265702" data-claire-element-id="265702"><code data-claire-semantic="console">git pull</code></pre><figure id="r-265704" data-claire-element-id="265705"><img id="r-265703" data-claire-element-id="265703" src="medias/uploads.siteduzero.com_files_237001_238000_237329.png" alt="git pull"/></figure><p id="r-265706" data-claire-element-id="265706">git pull <em>télécharge les nouvelles modifications effectuées par d’autres personnes.</em></p><p id="r-265707" data-claire-element-id="265707">Deux cas sont possibles :</p><ul id="r-265712" data-claire-element-id="265712"><li id="r-265709" data-claire-element-id="265709"><p id="r-265708" data-claire-element-id="265708">soit vous n’avez effectué aucune modification depuis le dernier pull, dans ce cas la mise à jour est simple (on parle de mise à jour <em>fast-forward</em>) ;</p></li><li id="r-265711" data-claire-element-id="265711"><p id="r-265710" data-claire-element-id="265710">soit vous avez fait des commits en même temps que d’autres personnes. Les changements qu’ils ont effectués sont alors fusionnés aux vôtres automatiquement.</p></li></ul><p id="r-265713" data-claire-element-id="265713">Si deux personnes modifient en même temps deux endroits distincts d’un même fichier, les changements sont intelligemment fusionnés par Git.</p><p id="r-265714" data-claire-element-id="265714">Parfois, mais cela arrive normalement rarement, deux personnes modifient la même zone de code en même temps. Dans ce cas, Git dit qu’il y a un conflit car il ne peut décider quelle modification doit être conservée ; il vous indique alors le nom des fichiers en conflit. Ouvrez-les avec un éditeur et recherchez une ligne contenant « &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; ». Ces symboles délimitent vos changements et ceux des autres personnes. Supprimez ces symboles et gardez uniquement les changements nécessaires, puis faites un nouveau commit pour enregistrer tout cela.</p><h2 id="r-envoyer-vos-commits" data-claire-element-id="265735">Envoyer vos commits</h2><p id="r-265716" data-claire-element-id="265716">Vous pouvez envoyer vos commits sur le serveur qui sert de point de rencontre entre les développeurs.</p><aside id="r-265718" data-claire-element-id="265718" data-claire-semantic="information"><p id="r-265717" data-claire-element-id="265717">Si vous avez cloné un dépôt Git depuis GitHub comme je l’ai fait précédemment, il y a de fortes chances pour que l’envoi des commits décrit ci-après ne fonctionne pas. Les dépôts publics sont en effet en lecture seule et il faut demander à un développeur officiel du projet de venir récupérer les modifications chez vous (en faisant un pull sur votre ordinateur), afin qu’il puisse vérifier votre travail avant de l’intégrer au projet officiel.</p></aside><p id="r-265719" data-claire-element-id="265719">Nous supposons ici que vous avez mis en place un serveur pour votre projet.</p><p id="r-265720" data-claire-element-id="265720">Avant d’envoyer vos commits, je vous recommande fortement de consulter votre log local afin de savoir ce que vous vous apprêtez à envoyer :</p><pre id="r-265721" data-claire-element-id="265721"><code data-claire-semantic="console">git log -p</code></pre><p id="r-265722" data-claire-element-id="265722">Vérifiez que tout est conforme et qu’il n’y a pas d’erreur qui vous saute aux yeux. Il est encore temps de corriger ces commits, mais une fois envoyés, il sera trop tard !</p><p id="r-265723" data-claire-element-id="265723">Une fois que vous êtes sûrs, passez à l’envoi. Vous pouvez envoyer vos commits avec la commande <code data-claire-semantic="console">git push</code> :</p><pre id="r-265724" data-claire-element-id="265724"><code data-claire-semantic="console">git push</code></pre><figure id="r-265726" data-claire-element-id="265727"><img id="r-265725" data-claire-element-id="265725" src="medias/uploads.siteduzero.com_files_237001_238000_237330.png" alt="git push"/></figure><p id="r-265728" data-claire-element-id="265728">git push <em>envoie vos nouvelles modifications (commits) sur le serveur.</em></p><p id="r-265729" data-claire-element-id="265729">Le changement vers le serveur doit être de type <em>fast-forward</em> car le serveur ne peut régler les conflits à votre place s’il y en a. <strong>Personne ne doit avoir fait un push avant vous depuis votre dernier pull.</strong></p><p id="r-265730" data-claire-element-id="265730">Le mieux est de s’assurer que vous êtes à jour en faisant un pull avant de faire un push. Si le push échoue, vous serez de toute façon invités à faire un pull.</p><aside id="r-265732" data-claire-element-id="265732" data-claire-semantic="information"><p id="r-265731" data-claire-element-id="265731">Il est recommandé de faire régulièrement des commits, mais pas des push. Vous ne devriez faire un push qu’une fois de temps en temps (pas plus d’une fois par jour en général). Evitez de faire systématiquement un push après chaque commit. Pourquoi ? Parce que vous perdriez la facilité avec laquelle il est possible d’annuler ou modifier un commit.</p></aside><aside id="r-265734" data-claire-element-id="265734" data-claire-semantic="error"><p id="r-265733" data-claire-element-id="265733">Un push est irréversible. Une fois que vos commits sont publiés, il deviendra impossible de les supprimer ou de modifier le message de commit ! Réfléchissez donc à deux fois avant de faire un push. C’est pour cela que je recommande de ne faire un push qu’une fois par jour, afin de ne pas prendre l’habitude d’envoyer définitivement chacun de vos commits trop vite.</p></aside><h2 id="r-annuler-un-commit-publie" data-claire-element-id="265744">Annuler un commit publié</h2><p id="r-265736" data-claire-element-id="265736">Dans le cas malheureux où vous auriez quand même envoyé un commit erroné sur le serveur, il reste possible de l’annuler… en créant un nouveau commit qui effectue l’inverse des modifications (souvenez-vous qu’il n’est pas possible de supprimer un vieux commit envoyé, on ne peut qu’en créer de nouveaux.). Les lignes que vous aviez ajoutées seront supprimées dans ce commit, et inversement.</p><p id="r-265737" data-claire-element-id="265737">Jetez tout d’abord un œil à votre <code data-claire-semantic="console">git log</code> :</p><pre id="r-265738" data-claire-element-id="265738"><code data-claire-semantic="console">commit 227653fd243498495e4414218e0d4282eef3876e
Author: Fabien Potencier &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="c4a2a5a6ada1aaeab4abb0a1aaa7ada1b684a3a9a5ada8eaa7aba9">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Thu Jun 3 08:47:46 2010 +0200

    [TwigBundle] added the javascript token parsers in the helper extension

commit 6261cc26693fa1697bcbbd671f18f4902bef07bc
Author: Jeremy Mikola &lt;<a class="__cf_email__" href="http://www.cloudflare.com/email-protection" data-cfemail="86ecebefede9eae7c6e1ebe7efeaa8e5e9eb">[email&nbsp;protected]</a><script type="text/javascript">
/* <![CDATA[ */
(function(){try{var s,a,i,j,r,c,l,b=document.getElementsByTagName("script");l=b[b.length-1].previousSibling;a=l.getAttribute('data-cfemail');if(a){s='';r=parseInt(a.substr(0,2),16);for(j=2;a.length-j;j+=2){c=parseInt(a.substr(j,2),16)^r;s+=String.fromCharCode(c);}s=document.createTextNode(s);l.parentNode.replaceChild(s,l);}}catch(e){}})();
/* ]]> */
</script>&gt;
Date:   Wed Jun 2 17:32:08 2010 -0400

    Fixed bad examples in doctrine:generate:entities help output.</code></pre><p id="r-265739" data-claire-element-id="265739">Supposons que vous vouliez annuler le commit 6261cc2 dans cet exemple. Il faut utiliser <code data-claire-semantic="console">git revert</code> qui va créer un commit « inverse » :</p><pre id="r-265740" data-claire-element-id="265740"><code data-claire-semantic="console">git revert 6261cc2</code></pre><p id="r-265741" data-claire-element-id="265741">Il faut préciser l’ID du commit à « revert ». Je vous rappelle qu’il n’est pas obligatoire d’indiquer l’ID en entier (qui est un peu long), il suffit de mettre les premiers chiffres tant qu’ils sont uniques (les 4-5 premiers chiffres devraient suffire).</p><p id="r-265742" data-claire-element-id="265742">On vous invite à entrer un message de commit. Un message par défaut est indiqué dans l’éditeur.</p><p id="r-265743" data-claire-element-id="265743">Une fois que c’est enregistré, le commit d’annulation est créé. Il ne vous reste plus qu’à vérifier que tout est bon et à le publier (avec un <code data-claire-semantic="console">git push</code>).</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
<span class="arrow"></span>
<span class="next">Annuler un commit effectué par erreur</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
<span class="next">Travailler avec des branches</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Travailleravecdesbranches"></a><h2>Travailler avec des branches</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
<span class="arrow"></span>
<span class="next">Télécharger les nouveautés et partager votre travail</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
<span class="next">Quelques autres fonctionnalités de Git, en vrac</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265746" data-claire-element-id="265746">Les branches font partie du cœur même de Git et constituent un de ses principaux atouts. C’est un moyen de travailler en parallèle sur d’autres fonctionnalités. C’est comme si vous aviez quelque part une « copie » du code source du site qui vous permet de tester vos idées les plus folles et de vérifier si elles fonctionnent avant de les intégrer au véritable code source de votre projet.</p><p id="r-265747" data-claire-element-id="265747">Bien que les branches soient « la base » de Git, je n’en ai pas parlé avant pour rester simple. Pourtant, il faut absolument les connaître et s’en servir. La gestion poussée des branches de Git est la principale raison qui incite les projets à passer à Git, donc il vaut mieux comprendre comment ça fonctionne et en faire usage, sinon on passe vraiment à côté de quelque chose. :)</p><p id="r-265748" data-claire-element-id="265748">Dans Git, toutes les modifications que vous faites au fil du temps sont par défaut considérées comme appartenant à la branche principale appelée « master » :</p><figure id="r-265750" data-claire-element-id="265751"><img id="r-265749" data-claire-element-id="265749" src="medias/uploads.siteduzero.com_files_236001_237000_236930.png" alt="La branche principale master"/></figure><p id="r-265752" data-claire-element-id="265752">On voit sur ce schéma les commits qui sont effectués au fil du temps.</p><p id="r-265753" data-claire-element-id="265753">Supposons que vous ayez une idée pour améliorer la gestion des erreurs dans votre programme mais que vous ne soyez pas sûrs qu’elle va fonctionner : vous voulez faire des tests, ça va vous prendre du temps, donc vous ne voulez pas que votre projet incorpore ces changements dans l’immédiat.</p><p id="r-265754" data-claire-element-id="265754">Il suffit de créer une branche, que vous nommerez par exemple « idee_gestion_erreurs », dans laquelle vous allez pouvoir travailler <em>en parallèle</em> :</p><figure id="r-265756" data-claire-element-id="265757"><img id="r-265755" data-claire-element-id="265755" src="medias/uploads.siteduzero.com_files_236001_237000_236931.png" alt="Une branche secondaire"/></figure><p id="r-265758" data-claire-element-id="265758">À un moment donné, nous avons décidé de créer une nouvelle branche. Nous avons pu y faire des commits, mais cela ne nous a pas empêché de continuer à travailler sur la branche principale et d’y faire des commits aussi.</p><p id="r-265759" data-claire-element-id="265759">À la fin, mon idée s’est révélée concluante, j’ai largement amélioré la gestion des erreurs et j’ai donc intégré les changements dans la branche principale « master ». Mon projet dispose maintenant de mon idée que j’avais développée en parallèle. Tous les commits de ma branche se retrouvent fusionnés dans la branche principale.</p><p id="r-265760" data-claire-element-id="265760">Git n’est pas le seul outil capable de gérer des branches, mais il est le seul à le faire <em>aussi bien</em>. En effet, en temps normal vous pourriez tout simplement copier le répertoire de votre projet dans un autre dossier, tester les modifications et les incorporer ensuite dans le véritable dossier de votre projet. Mais cela aura nécessité de copier tous les fichiers et de se souvenir de tout ce que vous avez modifié. Et je ne vous parle même pas du cas où quelqu’un aurait modifié le même fichier que vous en même temps dans la branche principale !</p><p id="r-265761" data-claire-element-id="265761">Git gère tous ces problèmes pour vous. Au lieu de créer une copie des fichiers, il crée juste une branche « virtuelle » dans laquelle il retient vos changements en parallèle. Lorsque vous décidez de fusionner une branche (et donc de ramener vos changements dans « master » pour les valider), Git vérifie si vos modifications n’entrent pas en conflit avec des commits effectués en parallèle. S’il y a des conflits, il essaie de les résoudre tout seul ou vous avertit s’il a besoin de votre avis (c’est le cas si deux personnes ont modifié la même ligne d’un même fichier par exemple).</p><p id="r-265762" data-claire-element-id="265762">Ce concept de branches très légères qui ne nécessitent pas de copier les fichiers est d’une grande puissance. Cela vous encourage à créer des branches tout le temps, pour toutes les modifications qui pourraient prendre du temps avant d’être terminées.</p><p id="r-265763" data-claire-element-id="265763">Vous pouvez même créer une sous-branche à partir d’une branche !</p><figure id="r-265765" data-claire-element-id="265766"><img id="r-265764" data-claire-element-id="265764" src="medias/uploads.siteduzero.com_files_236001_237000_236932.png" alt="Une autre branche"/></figure><p id="r-265767" data-claire-element-id="265767">Dans le cas ci-dessus, ma sous-branche ne s’est pas révélée concluante ; j’ai donc dû la supprimer et aucun des commits intermédiaires ne sera finalement incorporé à la branche principale du projet.</p><h2 id="r-les-branches-locales" data-claire-element-id="265836">Les branches locales</h2><p id="r-265768" data-claire-element-id="265768">Tout le monde commence avec une seule branche « master » : c’est la branche principale. Jusqu’ici, vous avez donc travaillé dans la branche « master », sur le « vrai » code source de votre projet.</p><p id="r-265769" data-claire-element-id="265769">Pour voir toutes vos branches, tapez ceci :</p><pre id="r-265770" data-claire-element-id="265770"><code data-claire-semantic="console">git branch</code></pre><p id="r-265771" data-claire-element-id="265771">Vous verrez normalement uniquement « master » :</p><pre id="r-265772" data-claire-element-id="265772"><code data-claire-semantic="console">$ git branch
* master</code></pre><p id="r-265773" data-claire-element-id="265773">Il y a une étoile devant pour indiquer que c’est la branche sur laquelle vous êtes actuellement.</p><h3 id="r-pourquoi-creer-une-branche-et-quand-dois-je-en-creer-une" data-claire-element-id="265787">Pourquoi créer une branche et quand dois-je en créer une ?</h3><p id="r-265774" data-claire-element-id="265774">Lorsque vous vous apprêtez à faire des modifications sur le code source, posez-vous les questions suivantes :</p><ul id="r-265783" data-claire-element-id="265783"><li id="r-265776" data-claire-element-id="265776"><p id="r-265775" data-claire-element-id="265775">« Ma modification sera-t-elle rapide ? » ;</p></li><li id="r-265778" data-claire-element-id="265778"><p id="r-265777" data-claire-element-id="265777">« Ma modification est-elle simple ? » ;</p></li><li id="r-265780" data-claire-element-id="265780"><p id="r-265779" data-claire-element-id="265779">« Ma modification nécessite-t-elle un seul commit ? » ;</p></li><li id="r-265782" data-claire-element-id="265782"><p id="r-265781" data-claire-element-id="265781">« Est-ce que je vois précisément comment faire ma modification d’un seul coup ? ».</p></li></ul><p id="r-265784" data-claire-element-id="265784">Si la réponse à l’une de ces questions est « non », vous devriez probablement créer une branche. Créer une branche est très simple, très rapide et très efficace. Il ne faut donc pas s’en priver.</p><p id="r-265785" data-claire-element-id="265785"><strong>Créez une branche pour toute modification que vous vous apprêtez à faire et qui risque d’être un peu longue.</strong></p><p id="r-265786" data-claire-element-id="265786">Au pire, si votre modification est plus courte que prévu, vous aurez créé une branche « pour pas grand-chose », mais c’est toujours mieux que de se rendre compte de l’inverse.</p><h3 id="r-creer-une-branche-et-changer-de-branche" data-claire-element-id="265805">Créer une branche et changer de branche</h3><p id="r-265788" data-claire-element-id="265788">Supposons que vous vouliez « améliorer la page des options membres » du code de votre site. Vous n’êtes pas sûrs du temps que cela va prendre, ce n’est pas un changement simple qui consiste à modifier deux-trois liens et vous risquez de faire plusieurs commits. Bref, il faut créer une branche pour cela.</p><pre id="r-265789" data-claire-element-id="265789"><code data-claire-semantic="console">git branch options_membres</code></pre><p id="r-265790" data-claire-element-id="265790">Cela crée une branche appelée « options_membres ». Il est important de noter que cette branche est locale : vous seuls y avez accès (il est néanmoins possible de publier une branche pour que d’autres personnes puissent vous aider, mais ce n’est pas le sujet pour le moment).</p><p id="r-265791" data-claire-element-id="265791">Une fois la branche créée, vous devriez la voir quand vous tapez simplement <code data-claire-semantic="console">git branch</code> :</p><pre id="r-265792" data-claire-element-id="265792"><code data-claire-semantic="console">$ git branch 
* master
  options_membres</code></pre><p id="r-265793" data-claire-element-id="265793">Comme vous pouvez le voir, vous êtes toujours sur la branche « master ». Pour aller sur la branche « options_membres », tapez ceci :</p><pre id="r-265794" data-claire-element-id="265794"><code data-claire-semantic="console">git checkout options_membres</code></pre><aside id="r-265796" data-claire-element-id="265796" data-claire-semantic="information"><p id="r-265795" data-claire-element-id="265795"><code data-claire-semantic="console">git checkout</code> est utilisé pour changer de branche mais aussi pour restaurer un fichier tel qu’il était lors du dernier commit. La commande a donc un double usage.</p></aside><p id="r-265797" data-claire-element-id="265797">Qu’est-ce qui se passe lorsque l’on change de branche ? En fait, vous ne changez pas de dossier sur votre disque dur, mais Git change vos fichiers pour qu’ils reflètent l’état de la branche dans laquelle vous vous rendez. Imaginez que les branches dans Git sont comme des dossiers virtuels : vous « sautez » de l’un à l’autre avec la commande <code data-claire-semantic="console">git checkout</code>. Vous restez dans le même dossier, mais Git modifie les fichiers qui ont changé entre la branche où vous étiez et celle où vous allez.</p><p id="r-265798" data-claire-element-id="265798">Faites maintenant des modifications sur les fichiers, puis un commit, puis d’autres modifications, puis un commit, etc. Si vous faites <code data-claire-semantic="console">git log</code>, vous verrez tous vos récents commits.</p><p id="r-265799" data-claire-element-id="265799">Maintenant, supposons qu’un bug important ait été détecté sur votre site et que vous deviez le régler immédiatement. Revenez sur la branche « master », branche principale du site :</p><pre id="r-265800" data-claire-element-id="265800"><code data-claire-semantic="console">git checkout master</code></pre><p id="r-265801" data-claire-element-id="265801">Faites vos modifications, un commit, éventuellement un push s’il faut publier les changements de suite, etc.</p><p id="r-265802" data-claire-element-id="265802">Ensuite, revenez à votre branche :</p><pre id="r-265803" data-claire-element-id="265803"><code data-claire-semantic="console">git checkout options_membres</code></pre><p id="r-265804" data-claire-element-id="265804">Si vous faites un <code data-claire-semantic="console">git log</code>, vous verrez que le commit que vous avez effectué sur la branche « master » n’apparaît pas. C’est en cela que les branches sont distinctes.</p><h3 id="r-fusionner-les-changements" data-claire-element-id="265822">Fusionner les changements</h3><p id="r-265806" data-claire-element-id="265806">Lorsque vous avez fini de travailler sur une branche et que celle-ci est concluante, il faut « fusionner » cette branche vers « master » avec la commande <code data-claire-semantic="console">git merge</code>.</p><aside id="r-265808" data-claire-element-id="265808" data-claire-semantic="information"><p id="r-265807" data-claire-element-id="265807">Avec Git, on peut fusionner n’importe quelle branche dans une autre branche, bien que le plus courant soit de fusionner une branche de test dans « master » une fois que celle-ci est concluante.</p></aside><p id="r-265809" data-claire-element-id="265809">Supposons que vous ayez fini votre travail dans la branche « options_membres » et que vous vouliez maintenant le publier. Pour cela, il faut fusionner le contenu de la branche « options_membres » dans la branche principale « master ».</p><p id="r-265810" data-claire-element-id="265810">Rendez-vous d’abord dans la branche « master » :</p><pre id="r-265811" data-claire-element-id="265811"><code data-claire-semantic="console">git checkout master</code></pre><p id="r-265812" data-claire-element-id="265812">Demandez ensuite à y intégrer le travail que vous avez fait dans « options_membres » :</p><pre id="r-265813" data-claire-element-id="265813"><code data-claire-semantic="console">git merge options_membres</code></pre><p id="r-265814" data-claire-element-id="265814">Tous vos commits de la branche « options_membres » se retrouvent maintenant dans « master » ! Vous avez pu travailler en parallèle sans gêner la branche principale, et maintenant que votre travail est terminé vous l’avez appliqué sur « master » !</p><aside id="r-265816" data-claire-element-id="265816" data-claire-semantic="information"><p id="r-265815" data-claire-element-id="265815">Lorsque vous récupérez les nouveaux commits depuis le serveur avec <code data-claire-semantic="console">git pull</code>, cela revient en fait à appeler deux commandes différentes : <code data-claire-semantic="console">git fetch</code>, qui s’occupe du téléchargement des nouveaux commits, et <code data-claire-semantic="console">git merge</code>, qui fusionne les commits téléchargés issus de la branche du serveur <em>dans </em>la branche de votre ordinateur !</p></aside><p id="r-265817" data-claire-element-id="265817">Votre branche « options_membres » ne servant plus à rien, vous pouvez la supprimer :</p><pre id="r-265818" data-claire-element-id="265818"><code data-claire-semantic="console">git branch -d options_membres</code></pre><p id="r-265819" data-claire-element-id="265819">Git vérifie que votre travail dans la branche « options_membres » a bien été fusionné dans « master ». Sinon, il vous en avertit et vous interdit de supprimer la branche (vous risqueriez sinon de perdre tout votre travail dans cette branche !).</p><p id="r-265820" data-claire-element-id="265820">Si vraiment vous voulez supprimer une branche même si elle contient des changements que vous n’avez pas fusionnés (par exemple parce que votre idée à la base était une erreur), utilisez l’option <em>-D</em> (lettre capitale) :</p><pre id="r-265821" data-claire-element-id="265821"><code data-claire-semantic="console">git branch -D options_membres  /!\ Supprime la branche et perd tous les changements.</code></pre><h3 id="r-mettre-de-cote-le-travail-en-cours-avant-de-changer-de-branche" data-claire-element-id="265835">Mettre de côté le travail en cours avant de changer de branche</h3><aside id="r-265824" data-claire-element-id="265824" data-claire-semantic="information"><p id="r-265823" data-claire-element-id="265823">Cette section est un peu complexe. Je vous recommande de réserver sa lecture pour plus tard.</p></aside><p id="r-265825" data-claire-element-id="265825">Avant de changer de branche, vous devez avoir effectué un commit de tous vos changements. En clair, un <code data-claire-semantic="console">git status</code> ne devrait afficher aucun fichier en cours de modification.</p><p id="r-265826" data-claire-element-id="265826">Si vous avez des changements non « commités » et que vous changez de branche, les fichiers modifiés resteront comme ils étaient dans la nouvelle branche (et ce n’est en général pas ce que vous voulez !).</p><p id="r-265827" data-claire-element-id="265827">Pour éviter d’avoir à faire un commit au milieu d’un travail en cours, tapez :</p><pre id="r-265828" data-claire-element-id="265828"><code data-claire-semantic="console">git stash</code></pre><p id="r-265829" data-claire-element-id="265829">Vos fichiers modifiés seront sauvegardés et mis de côté. Maintenant, <code data-claire-semantic="console">git status</code> ne devrait plus afficher aucun fichier (on dit que votre <em>working directory</em> est propre).</p><p id="r-265830" data-claire-element-id="265830">Vous pouvez alors changer de branche, faire vos modifications, « committer », puis revenir sur la branche où vous étiez.</p><pre id="r-265831" data-claire-element-id="265831"><code data-claire-semantic="console">git checkout master
(modifier des fichiers)
git commit -a
git checkout mabranche</code></pre><p id="r-265832" data-claire-element-id="265832">Pour récupérer les changements que vous aviez mis de côté dans « mabranche », tapez :</p><pre id="r-265833" data-claire-element-id="265833"><code data-claire-semantic="console">git stash apply</code></pre><p id="r-265834" data-claire-element-id="265834">Vos fichiers seront alors restaurés et se retrouveront donc l’état dans lequel ils étaient avant le <code data-claire-semantic="console">git stash</code> !</p><h2 id="r-les-branches-partagees" data-claire-element-id="265866">Les branches partagées</h2><p id="r-265837" data-claire-element-id="265837">Il est possible de travailler à plusieurs sur une même branche. En fait, c’est déjà ce que vous faisiez en travaillant sur la branche « master ».</p><p id="r-265838" data-claire-element-id="265838">Utilisez <code data-claire-semantic="console">git branch -r</code> pour lister toutes les branches que le serveur connaît :</p><pre id="r-265839" data-claire-element-id="265839"><code data-claire-semantic="console">$ git branch -r
  origin/HEAD
  origin/master</code></pre><p id="r-265840" data-claire-element-id="265840"><em>origin</em>, c’est le nom du serveur depuis lequel vous avez cloné le dépôt (par exemple celui de GitHub). Vous pouvez en théorie suivre directement les branches de plusieurs personnes (souvenez-vous, Git fonctionne un peu comme le peer-to-peer), mais on travaille plutôt avec un serveur pour suivre les changements.</p><p id="r-265841" data-claire-element-id="265841">Si on met de côté « HEAD » qui est un peu particulier, on voit qu’il y a une seule branche sur le serveur : « master ». Le serveur ne connaît donc que l’historique de la branche principale.</p><p id="r-265842" data-claire-element-id="265842">Si le serveur possède une autre branche, par exemple « origin/options_membres », et que vous souhaitez travailler dessus, il faut créer une copie de cette branche sur votre ordinateur qui va « suivre » (on dit <em>tracker</em>) les changements sur le serveur.</p><pre id="r-265843" data-claire-element-id="265843"><code data-claire-semantic="console">git branch --track branchelocale origin/brancheserveur</code></pre><p id="r-265844" data-claire-element-id="265844">Par exemple, vous pouvez créer une branche « options_membres » locale qui sera connectée à la branche « options_membres » du serveur :</p><pre id="r-265845" data-claire-element-id="265845"><code data-claire-semantic="console">git branch --track options_membres origin/options_membres</code></pre><p id="r-265846" data-claire-element-id="265846">Lorsque vous ferez un pull depuis la branche « options_membres », les changements seront fusionnés dans votre « options_membres » local. Il est donc important de savoir dans quelle branche vous vous trouvez avant de faire un pull. Un pull depuis la branche « master » met à jour votre branche « master » locale en fonction de ce qui a changé sur le serveur, et il en va de même pour n’importe quelle autre branche.</p><h3 id="r-ajouter-ou-supprimer-une-branche-sur-le-serveur" data-claire-element-id="265865">Ajouter ou supprimer une branche sur le serveur</h3><p id="r-265847" data-claire-element-id="265847">Il est possible d’ajouter des branches sur le serveur pour y travailler à plusieurs, mais il faut reconnaître que la syntaxe proposée par Git est tout sauf claire à ce niveau.</p><p id="r-265848" data-claire-element-id="265848">Voici comment on ajoute une branche sur le serveur :</p><pre id="r-265849" data-claire-element-id="265849"><code data-claire-semantic="console">git push origin origin:refs/heads/nom_nouvelle_branche</code></pre><p id="r-265850" data-claire-element-id="265850">Vous pouvez ensuite créer une branche locale qui « suit » la branche du serveur avec <code data-claire-semantic="console">git branch --track</code>, comme nous l’avons vu précédemment.</p><aside id="r-265860" data-claire-element-id="265860" data-claire-semantic="information"><p id="r-265851" data-claire-element-id="265851">L’inverse est possible : créer une branche locale puis la copier sur le serveur. Pour ce faire, vous devez créer la branche sur le serveur comme expliqué juste au-dessus, mais plutôt que de « tracker » les modifications, modifiez le fichier <em>.git/config</em> comme ceci :</p><ul id="r-265858" data-claire-element-id="265858"><li id="r-265853" data-claire-element-id="265853"><p id="r-265852" data-claire-element-id="265852">copiez le bloc [branch &quot;master&quot;] ;</p></li><li id="r-265855" data-claire-element-id="265855"><p id="r-265854" data-claire-element-id="265854">remplacez les occurrences de « master » par le nom de votre branche ;</p></li><li id="r-265857" data-claire-element-id="265857"><p id="r-265856" data-claire-element-id="265856">enregistrez les modifications.</p></li></ul><p id="r-265859" data-claire-element-id="265859">Faites ensuite un <code data-claire-semantic="console">git pull</code> et un <code data-claire-semantic="console">git push</code> ; normalement vos modifications devraient être mises à jour sur le serveur.</p></aside><p id="r-265861" data-claire-element-id="265861">Pour supprimer une branche sur le serveur :</p><pre id="r-265862" data-claire-element-id="265862"><code data-claire-semantic="console">git push origin :heads/nom_branche_a_supprimer</code></pre><p id="r-265863" data-claire-element-id="265863">À noter que les « <em>remote tracking branches</em> » (celles qui apparaissent lorsqu’on fait <code data-claire-semantic="console">git branch -r</code>) ne seront pas automatiquement supprimées chez les autres clients. Il faut qu’ils les suppriment manuellement à l’aide de la commande suivante :</p><pre id="r-265864" data-claire-element-id="265864"><code data-claire-semantic="console">git branch -r -d origin/nom_branche_a_supprimer</code></pre>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
<span class="arrow"></span>
<span class="next">Télécharger les nouveautés et partager votre travail</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
<span class="next">Quelques autres fonctionnalités de Git, en vrac</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="QuelquesautresfonctionnalitsdeGitenvrac"></a><h2>Quelques autres fonctionnalités de Git, en vrac</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
<span class="arrow"></span>
<span class="next">Travailler avec des branches</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-265868" data-claire-element-id="265868">Je vous ai présenté les principales fonctionnalités de Git, mais il est possible de faire bien d'autres choses avec cet outil. Voici, en vrac, quelques-unes de ses autres possibilités utiles à connaître.</p><h2 id="r-tagger-une-version" data-claire-element-id="265879">Tagger une version</h2><p id="r-265869" data-claire-element-id="265869">Il est possible de donner un alias à un commit précis pour le référencer sous ce nom. C’est utile par exemple pour dire « À tel commit correspond la version 1.3 de mon projet ». Cela permettra à d’autres personnes de repérer la version 1.3 plus facilement. C’est justement le rôle des tags.</p><p id="r-265870" data-claire-element-id="265870">Pour ajouter un tag sur un commit :</p><pre id="r-265871" data-claire-element-id="265871"><code data-claire-semantic="console">git tag NOMTAG IDCOMMIT</code></pre><p id="r-265872" data-claire-element-id="265872">Donc dans le cas présent, on écrirait :</p><pre id="r-265873" data-claire-element-id="265873"><code data-claire-semantic="console">git tag v1.3 2f7c8b3428aca535fdc970feeb4c09efa33d809e</code></pre><p id="r-265874" data-claire-element-id="265874">Un tag n’est pas envoyé lors d’un push, il faut préciser l’option <em>--tags</em> pour que ce soit le cas :</p><pre id="r-265875" data-claire-element-id="265875"><code data-claire-semantic="console">git push --tags</code></pre><p id="r-265876" data-claire-element-id="265876">Maintenant, tout le monde peut référencer ce commit par ce nom plutôt que par son numéro de révision.</p><p id="r-265877" data-claire-element-id="265877">Pour supprimer un tag créé :</p><pre id="r-265878" data-claire-element-id="265878"><code data-claire-semantic="console">git tag -d NOMTAG</code></pre><h2 id="r-rechercher-dans-les-fichiers-source" data-claire-element-id="265887">Rechercher dans les fichiers source</h2><p id="r-265880" data-claire-element-id="265880">Comme Git connaît tous les fichiers source de votre projet, il est facile de faire une recherche à l’intérieur de tout votre projet.</p><p id="r-265881" data-claire-element-id="265881">Par exemple, si vous voulez connaître les noms des fichiers qui contiennent le mot TODO dans le code source, il suffit d’écrire :</p><pre id="r-265882" data-claire-element-id="265882"><code data-claire-semantic="console">git grep &quot;TODO&quot;</code></pre><aside id="r-265884" data-claire-element-id="265884" data-claire-semantic="information"><p id="r-265883" data-claire-element-id="265883">Git accepte les expressions régulières pour les recherches. Si vous connaissez les expressions régulières, sachez donc qu’il est possible de les utiliser.</p></aside><p id="r-265885" data-claire-element-id="265885">Si vous voulez connaître les numéros des lignes qui contiennent le mot que vous recherchez, utilisez le paramètre <em>-n</em> :</p><pre id="r-265886" data-claire-element-id="265886"><code data-claire-semantic="console">git grep -n &quot;TODO&quot;</code></pre><h2 id="r-demander-a-git-d-ignorer-des-fichiers-gitignore" data-claire-element-id="265897">Demander à Git d’ignorer des fichiers (.gitignore)</h2><p id="r-265888" data-claire-element-id="265888">Pour ignorer un fichier dans git, créez un fichier <em>.gitignore</em> (à la racine) et indiquez-y le nom du fichier. Entrez un nom de fichier par ligne, comme ceci :</p><pre id="r-265889" data-claire-element-id="265889"><code>project.xml
dossier/temp.txt
*.tmp
cache/*</code></pre><p id="r-265890" data-claire-element-id="265890">Aucun de ces fichiers n’apparaîtra dans <code data-claire-semantic="console">git status</code>, même s’il est modifié. Il ne paraîtra donc pas dans les commits.<br/> Utilisez cela sur les fichiers temporaires par exemple, qui n’ont aucune raison d’apparaître dans Git.</p><p id="r-265891" data-claire-element-id="265891">Il est possible d’utiliser une étoile (*) comme joker. Dans l’exemple précédent, tous les fichiers ayant l’extension « .tmp » seront ignorés, de même que tous les fichiers du dossier <em>cache</em>.</p><p id="r-265892" data-claire-element-id="265892">Git est un outil très complet qui peut parfois se révéler complexe. Comme tout bon outil UNIX, il fait ce qu’on lui demande sans confirmation, ce qui peut être dangereux entre les mains d’un débutant. Commencez donc à l’utiliser doucement et apprenez petit à petit à découvrir ses autres fonctionnalités : vous allez être surpris !</p><p id="r-265893" data-claire-element-id="265893">C’est un outil réellement puissant que je recommande aux développeurs, particulièrement ceux qui travaillent sous Linux. Ce n’est pas le seul qui existe (je pense à Mercurial et Bazaar que vous pouvez également essayer et qui sont très bien) mais il a son lot d’avantages, tels que sa rapidité et sa gestion puissante des branches.</p><p id="r-265894" data-claire-element-id="265894">Je vous recommande d’essayer de préférence un logiciel de gestion de versions récent (comme Git, Mercurial ou Bazaar) et d’éviter si vous le pouvez SVN, qui commence à se faire vieux. Si vous utilisez déjà SVN pour votre projet, sachez qu’il est possible de migrer facilement à Git avec l’outil <code>git-svn</code>. Il sert aussi à faire le pont entre un serveur SVN et Git, ce qui vous permet d’utiliser Git de votre côté même si votre projet utilise officiellement SVN !</p><p id="r-265895" data-claire-element-id="265895">Si vous voulez en savoir plus sur Git, je vous recommande le cours <a href="http://progit.org/book/">Pro Git</a> (en anglais), qui couvre plus en détail le fonctionnement de Git.</p><p id="r-265896" data-claire-element-id="265896">Bonne lecture ! :)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git">Gérez vos codes source avec Git</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/qu-est-ce-qu-un-logiciel-de-gestion-de-versions">
Qu&#039;est-ce qu’un logiciel de gestion de versions ?
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/git-et-les-autres-logiciels-de-gestion-de-versions">
Git et les autres logiciels de gestion de versions
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/installer-et-configurer-git">
Installer et configurer Git
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/creer-un-nouveau-depot-ou-cloner-un-depot-existant">
Créer un nouveau dépôt ou cloner un dépôt existant
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/modifier-le-code-et-effectuer-des-commits">
Modifier le code et effectuer des commits
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/annuler-un-commit-effectue-par-erreur">
Annuler un commit effectué par erreur
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/telecharger-les-nouveautes-et-partager-votre-travail">
Télécharger les nouveautés et partager votre travail
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
Travailler avec des branches
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/quelques-autres-fonctionnalites-de-git-en-vrac">
Quelques autres fonctionnalités de Git, en vrac
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/gerez-vos-codes-source-avec-git/travailler-avec-des-branches">
<span class="arrow"></span>
<span class="next">Travailler avec des branches</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/gerez-vos-codes-source-avec-git.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 11:09:56 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/gerez-vos-codes-source-avec-git.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:47:47 GMT -->
</html>
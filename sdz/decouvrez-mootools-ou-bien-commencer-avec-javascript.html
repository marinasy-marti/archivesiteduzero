<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/decouvrez-mootools-ou-bien-commencer-avec-javascript.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 22:48:49 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/decouvrez-mootools-ou-bien-commencer-avec-javascript.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:01:53 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Découvrez mootools, ou bien commencer avec Javascript</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Découvrez mootools, ou bien commencer avec Javascript</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#DcouvrezmootoolsoubiencommenceravecJavascript">Découvrez mootools, ou bien commencer avec Javascript</a><br/><a href="#Discoveranewjavascriptworldmootools">Discover a new javascript world: mootools</a><br/><a href="#LetraditionnelHelloWorld">Le traditionnel Hello World</a><br/><a href="#Mootoolsl039coute">Mootools à l&#039;écoute</a><br/><a href="#Etmootoolsvitquecelataitbon...">Et mootools vit que cela était bon...</a><br/></div>
<a name="DcouvrezmootoolsoubiencommenceravecJavascript"></a><h2>Découvrez mootools, ou bien commencer avec Javascript</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
<span class="next">Discover a new javascript world: mootools</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-582648" data-claire-element-id="582648">Rien de plus lourd que développer en Javascript. Pourquoi ? Quatre cinq navigateurs sur lesquels vérifier nos scripts, c'est-à-dire quatre à cinq débuggers à maîtriser et aussi vingt-cinq fois plus de temps perdu à s'arracher les cheveux.</p><p id="r-582649" data-claire-element-id="582649">Plus fort que les implants capillaires, les framework javascript font dans la prévention. En effet, en plus de permettre une compatibilité accrue entre les différents navigateurs pour vos scripts, ils permettent également de faciliter le développement de vos fonctionnalités Javascript sur vos sites.</p><p id="r-582650" data-claire-element-id="582650">Transformant des centaines de lignes de codes en quelques caractères, les class écrites par les gourous de la langue de <a href="http://fr.wikipedia.org/wiki/Brendan_Eich">Brendan Eich</a> vous permettront d'enfin développer intuitivement vos codes javascript et ne plus perdre de temps à créer des fonctions ou effets plutôt que votre résultat final.</p><p id="r-582651" data-claire-element-id="582651"><strong>Pour lire ce tutoriel, vous devez avoir les connaissances de bases en programmation, comprendre les principes de la programmation orientée objet et avoir les connaissances requises en xHtml / CSS (autrement dit : savoir créer des sites web).</strong></p>
</div><a name="Discoveranewjavascriptworldmootools"></a><h2>Discover a new javascript world: mootools</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
<span class="next">Le traditionnel Hello World</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-582652" data-claire-element-id="582652">Nous voici entrés dans le vif du sujet : <a href="http://mootools.net/">mootools</a>. Je vous donnerai dans cette section les liens importants et vous expliquerai comment créer une page incluant le framework mootools. Si vous êtes pressés, je vous conseille de passer directement à la seconde sous-partie et de garder celle-ci en dessert.</p><h2 id="r-la-documentation-2" data-claire-element-id="582654">La documentation</h2><p id="r-582653" data-claire-element-id="582653">Comme tout framework, mootools propose <a href="http://docs.mootools.net/"><strong>une documentation</strong></a>, hélas en anglais. Mais si vous voulez un jour percer dans le domaine de la programmation, il faudra finir par maîtriser les dix mots de vocabulaire en anglais qui sont toujours utilisés dans les documentations de langages. Bref, plus que de perdre du temps à chercher la documentation en français, je vous conseille vivement de mettre en favoris un <a href="http://www.wordreference.com/">dictionnaire en ligne</a>, dites-vous bien que ce temps ne sera jamais perdu.</p><h2 id="r-telechargement-42" data-claire-element-id="582656">Téléchargement</h2><p id="r-582655" data-claire-element-id="582655">Important : pour utiliser le framework, vous devrez d'abord le <strong>télécharger</strong> dans la <a href="http://mootools.net/download">partie adéquate</a>. Dans un premier temps, je vous conseille de cocher toutes les cases des class que vous voulez télécharger, ceci afin d'éviter que certains codes ne fonctionnent pas. Quand vous aurez atteint le stade de padawan-master, vous pourrez ne télécharger que les parties qui seront nécessaires à votre code.</p><h2 id="r-demonstrations" data-claire-element-id="582658">Démonstrations</h2><p id="r-582657" data-claire-element-id="582657">Vous pouvez également trouver <a href="http://demos.mootools.net/"><strong>des démonstrations</strong></a> sur le site. On regrettera que celles-ci ne soient pas commentées, mais après la lecture de ce tutoriel, vous devriez être à même de les comprendre.</p><h2 id="r-le-forum" data-claire-element-id="582661">Le forum</h2><p id="r-582659" data-claire-element-id="582659">Enfin, <em>last but not least</em>, <a href="http://groups.google.com/group/mootools-users/?pli=1"><strong>le google groups</strong></a> où vous pourrez poser des questions, en anglais s'il vous plaît. Attention toutefois, je vous conseille de faire avant une recherche sur le forum et sur Google pour votre problème, sans quoi vous risqueriez de ne pas être spécialement bien accueillis...</p><p id="r-582660" data-claire-element-id="582660">Bref, fini le blabla, place à l'action et commençons à utiliser mootools...</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript">Découvrez mootools, ou bien commencer avec Javascript</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
Discover a new javascript world: mootools
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
Le traditionnel Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
Mootools à l&#039;écoute
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
Et mootools vit que cela était bon...
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
<span class="next">Le traditionnel Hello World</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LetraditionnelHelloWorld"></a><h2>Le traditionnel Hello World</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
<span class="arrow"></span>
<span class="next">Discover a new javascript world: mootools</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
<span class="next">Mootools à l&#039;écoute</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-582663" data-claire-element-id="582663">Allons-y pour commencer un traditionnel Hello World. Tout d'abord, parce que je suis un peu fou et que vous ne lisez pas un tuto comme les autres, on ne va pas faire un Hello World mais un Hellow World (oui, je sais, le titre est trompeur).</p><h2 id="r-telechargement-43" data-claire-element-id="582666">Téléchargement</h2><p id="r-582664" data-claire-element-id="582664">Direction donc la <a href="http://mootools.net/download">page de téléchargement de mootools</a> pour télécharger la dernière version de mootools. Dans un premier temps, cochez toutes les cases afin d'avoir le framework le plus complet possible (c'est sûr, on n'utilisera pas tout, mais comme ça vous êtes prêts si vous installez d'autres plugins).</p><p id="r-582665" data-claire-element-id="582665">Nous voici donc dans le vif du sujet : appuyez sur download et enregistrez le fichier dans un dossier qui nous permettra de faire nos premiers pas en mootools (que ceux qui n'ont pas d'inspiration prennent mootools/). Pour plus de facilité, appelez votre fichier <strong>mootools.js</strong>. Ensuite, créez un fichier *.html (index.html par exemple) dans ce même répertoire, un fichier script.js qui servira à écrire nos scripts, un fichier style.css que vous pouvez copier-coller ci-dessous et passons à l'action.</p><h2 id="r-code-html-et-css-1" data-claire-element-id="582676">Code HTML et CSS</h2><p id="r-582667" data-claire-element-id="582667">Étant donné que ce n'est pas vraiment le but du tutoriel, je donnerai la base du code xHtml que j'emploierai et le fichier CSS sans explication.</p><pre id="r-582668" data-claire-element-id="582668"><code data-claire-semantic="css">body {
        text-align: center;
        background: #123456;
        font-family: cambria, verdana, sans-serif;
        font-size: 13px;
}
div#contenu {
        width: 70%;
        background: #fafafa;
        text-align: left;
        color: #333;
        margin: 40px auto;
        border: 1px solid #ddd;
        padding: 10px;
        min-height: 700px;
}
h1,h2 {
        font-size: 15px;
        color: #123456;
}
span.interactif {
 
}
div.interactif {
        color: #fff;
        background: #123456;
        padding: 4px;
        border: 1px solid #ddd;
        margin: 10px;
        width: 300px;
        min-height: 5em;
}
 
a {
        color: #123456;
        text-decoration: none;
}
 
a:hover {
        text-decoration: underline;
}
 
dl.commentaire {
        
}
dl.commentaire dt {
        color: #123456;
        font-weight: bold;
        margin-top: 20px;
}
dl.commentaire dd.texte {
        margin: 5px 10px;
        border-left: 2px solid #aaa;
        padding: 4px;
        background: #eee; 
}
dl.commentaire dd.details {
        margin: 5px 10px;
        text-transform: uppercase;
        font-size: 80%;
}
dl.commentaire span.auteur, dl.commentaire span.date {
        font-weight: bold;
}
 
label {
        width: 80px;
        display: block;
        float: left;
}</code></pre><pre id="r-582669" data-claire-element-id="582669"><code data-claire-semantic="html">&lt;!DOCTYPE html PUBLIC &quot;-//W3C//DTD XHTML 1.1//EN&quot; &quot;http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd&quot;&gt;
&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; xml:lang=&quot;fr&quot;&gt;
        &lt;head&gt;
                &lt;meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html; charset=iso-8859-1&quot; /&gt;
 
                &lt;link href=&quot;style.css&quot; media=&quot;screen&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot; /&gt;
 
                &lt;script src=&quot;mootools.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
                &lt;script src=&quot;script.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
                
                &lt;title&gt;Ma première expérience mootools&lt;/title&gt;
 
        &lt;/head&gt;
        &lt;body&gt;
                &lt;div id=&quot;contenu&quot;&gt;
                        C'est ici qu'il faudra mettre le code html
                &lt;/div&gt;
        &lt;/body&gt;
&lt;/html&gt;</code></pre><p id="r-582670" data-claire-element-id="582670">Remarquons tout de même pour ceux qui n'ont jamais utilisé de Javascript que cette ligne permet de donner l'emplacement du fichier Javascript à lier.</p><pre id="r-582671" data-claire-element-id="582671"><code data-claire-semantic="html">&lt;script src=&quot;mootools.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;</code></pre><p id="r-582672" data-claire-element-id="582672">Remarquez aussi que le fichier <strong>script.js</strong> doit être positionné après le fichier mootools.js, puisqu'il utilise le framework.</p><aside id="r-582674" data-claire-element-id="582674" data-claire-semantic="information"><p id="r-582673" data-claire-element-id="582673">Pour que les choses soient claires : quand je parlerai de code xHtml, il sera à positionner dans le div avec l'id contenu, qui a dans le code ci-dessus comme contenu <em>C'est ici qu'il faudra mettre le code xHtml</em>. Pour ce qui est du code Javascript, il est à mettre dans le fichier script.js.</p></aside><p id="r-582675" data-claire-element-id="582675">Maintenant que tout ça est lancé, je vous propose de commencer notre Hellow World.</p><h2 id="r-le-hellow-world" data-claire-element-id="582707">Le Hellow World</h2><h3 id="r-ou-placer-le-code" data-claire-element-id="582680">Où placer le code ?</h3><p id="r-582677" data-claire-element-id="582677">Il faut savoir tout d'abord que le code Javascript, <strong>quand il doit traiter des éléments</strong>, ne peut traiter que des éléments (comprenez par éléments les balises img, p, a, span, ...) qui ont déjà été lus par le navigateur (Internet Explorer, Firefox, Safari, ...). Étant donné que notre fichier JavaScript est déclaré dans le début du code, on ne pourrait théoriquement interagir avec aucun élément. La solution serait donc de placer l'appel à notre fichier script.js à la fin de la page (comme ça, on est sûrs que tous les éléments ont été lus). Heureusement, mootools a prévu une parade et a repris l'évènement <a href="../../docs.mootools.net/Window/Window-DomReady.js#domready">domready</a>. L'évènement domready s'utilise comme suit :</p><pre id="r-582678" data-claire-element-id="582678"><code data-claire-semantic="javascript">window.addEvent('domready', function(){
   // C'est ici qu'on peut mettre notre code
   alert('Toutes les balises ont été chargées');
   // Fin du code
});</code></pre><p id="r-582679" data-claire-element-id="582679">Dans un premier temps, je dirais que vous devez retenir qu'il faut placer votre code dans cet espace, pour les plus futés (c'est-à-dire vous), vous devriez normalement comprendre ce code à la fin du tutoriel. Si vous placez ce code dans votre page script.js, vous verrez le message &quot;Toutes les balises ont été chargées&quot; affiché dans une boîte de dialogue lorsque la page aura été chargée.</p><h3 id="r-le-code-en-question" data-claire-element-id="582695">Le code en question</h3><p id="r-582681" data-claire-element-id="582681">Allons-y maintenant pour notre Hellow World. On pourrait faire un message d'alerte comme précédemment, mais alors mootools n'aurait aucune utilité. Voilà alors le défi pour notre Hellow World.</p><ul id="r-582686" data-claire-element-id="582686"><li id="r-582683" data-claire-element-id="582683"><p id="r-582682" data-claire-element-id="582682">Créer un div avec une id &quot;hellow&quot;, sans contenu</p></li><li id="r-582685" data-claire-element-id="582685"><p id="r-582684" data-claire-element-id="582684">Y afficher le texte Hellow World grâce au Javascript</p></li></ul><p id="r-582687" data-claire-element-id="582687">Allons-y donc pour le code xHtml, à mettre à l'endroit convenu.</p><pre id="r-582688" data-claire-element-id="582688"><code data-claire-semantic="html">&lt;div id=&quot;hellow&quot;&gt;&lt;/div&gt;</code></pre><p id="r-582689" data-claire-element-id="582689">Ensuite le code Javascript :</p><pre id="r-582690" data-claire-element-id="582690"><code data-claire-semantic="javascript">window.addEvent('domready', function(){
  $('hellow').set('text', 'Hellow World');
});</code></pre><p id="r-582691" data-claire-element-id="582691">Rafraîchissez la page, et miracle, le message s'affiche (sinon, balancez votre PC par la fenêtre et rachetez-en un autre).</p><figure id="r-582693" data-claire-element-id="582694"><img id="r-582692" data-claire-element-id="582692" src="medias/uploads.siteduzero.com_files_109001_110000_109171.png" alt="Image utilisateur"/></figure><h3 id="r-comprendre-le-code" data-claire-element-id="582706">Comprendre le code</h3><p id="r-582696" data-claire-element-id="582696">Analysons le code Javascript.</p><pre id="r-582697" data-claire-element-id="582697"><code data-claire-semantic="javascript">$('hellow')</code></pre><p id="r-582698" data-claire-element-id="582698">Ce code veut dire que l'on veut aller chercher l'élément dont l'id est hellow. En fait, il s'agit d'un raccourci pour la fonction document.getElementById('hello'), qui, il faut l'avouer est quand même bien plus court.</p><pre id="r-582699" data-claire-element-id="582699"><code data-claire-semantic="javascript">set('text','Hellow world')</code></pre><p id="r-582700" data-claire-element-id="582700">On applique la méthode <a href="http://docs.mootools.net/Element/Element#Element:set">set()</a> à l'élément que l'on a été rechercher précédemment. Cette méthode attend pour premier argument la propriété à changer et en deuxième argument la valeur de cette propriété. Par exemple, on peut aussi utiliser</p><pre id="r-582701" data-claire-element-id="582701"><code data-claire-semantic="javascript">element.set('class','maClass');</code></pre><p id="r-582702" data-claire-element-id="582702">Pour la méthode set('text', 'Le texte'), le texte passé en deuxième argument sera mis entre la balise ouvrante et la balise fermante de l'objet (ici un élément) auquel la méthode a été appliquée.</p><aside id="r-582704" data-claire-element-id="582704" data-claire-semantic="information"><p id="r-582703" data-claire-element-id="582703">Si on veut décomposer ce code en français vulgarisé, on pourrait dire : <em>On va chercher l'élément dont l'id est </em>hellow ; <em>cet élément, on le retient et on lui applique, au moyen du point (.), la méthode </em>set().</p></aside><p id="r-582705" data-claire-element-id="582705">Voilà donc notre premier script effectué, j'espère que vous suivez toujours, restez avec moi, ça va s'intensifier... Je vous propose en deuxième partie de créer des interactions...</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript">Découvrez mootools, ou bien commencer avec Javascript</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
Discover a new javascript world: mootools
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
Le traditionnel Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
Mootools à l&#039;écoute
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
Et mootools vit que cela était bon...
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
<span class="arrow"></span>
<span class="next">Discover a new javascript world: mootools</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
<span class="next">Mootools à l&#039;écoute</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Mootoolsl039coute"></a><h2>Mootools à l&#039;écoute</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
<span class="arrow"></span>
<span class="next">Le traditionnel Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
<span class="next">Et mootools vit que cela était bon...</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-582709" data-claire-element-id="582709">Si on ajoute du Javascript, c'est évidemment pour créer de l'interaction avec l'utilisateur. Pas question donc de se contenter de modifier le contenu de quelques balises au chargement... laissons place à l'interactivité.</p><h2 id="r-le-but-4" data-claire-element-id="582716">Le but</h2><p id="r-582710" data-claire-element-id="582710">Voici donc le but du prochain script que nous allons réaliser...</p><ul id="r-582715" data-claire-element-id="582715"><li id="r-582712" data-claire-element-id="582712"><p id="r-582711" data-claire-element-id="582711">Créer un texte interactif</p></li><li id="r-582714" data-claire-element-id="582714"><p id="r-582713" data-claire-element-id="582713">Au survol de ce texte, le contenu d'un div changera</p></li></ul><h2 id="r-code-xhtml" data-claire-element-id="582722">Code xHtml</h2><p id="r-582717" data-claire-element-id="582717">Je vous propose donc comme code xHtml, un premier span qui sera interactif, et un div qui contiendra le texte qui changera au survol. J'ai mis comme class pour tous les deux interactif, afin d'avoir un exemple un peu plus beau.</p><pre id="r-582718" data-claire-element-id="582718"><code data-claire-semantic="html">&lt;span class=&quot;interactif&quot; id=&quot;action&quot;&gt;Survolez-moi !&lt;/span&gt;
&lt;div class=&quot;interactif&quot; id=&quot;reaction&quot;&gt;
    Un premier contenu. Va-t-il changer au survol de la souris ?&lt;br /&gt;&lt;br /&gt;Suspens...
&lt;/div&gt;</code></pre><figure id="r-582720" data-claire-element-id="582721"><img id="r-582719" data-claire-element-id="582719" src="medias/uploads.siteduzero.com_files_109001_110000_109172.png" alt="Image utilisateur"/></figure><h2 id="r-le-javascript-3" data-claire-element-id="582742">Le Javascript</h2><p id="r-582723" data-claire-element-id="582723">Attaquons-nous maintenant au code Javascript. Pour la première fois, on va décomposer le code en plusieurs étapes, qui - on s'en rendra compte plus tard - ne sont pas toujours utiles.</p><h3 id="r-on-cherche-l-element" data-claire-element-id="582728">On cherche l'élément</h3><aside id="r-582725" data-claire-element-id="582725" data-claire-semantic="information"><p id="r-582724" data-claire-element-id="582724">Le code doit être placé comme d'habitude dans l'<em>event</em>domready, comme dans le hellow world, à vous de le faire...</p></aside><pre id="r-582726" data-claire-element-id="582726"><code data-claire-semantic="javascript">var action = $('action');</code></pre><p id="r-582727" data-claire-element-id="582727">Ici, on stocke dans la variable l'objet que va renvoyer $('action'), qui n'est autre que l'élément qui a l'id action, ici l'élément qui nous intéresse. (Oui, je sais, il y a parfois de ces coïncidences...)</p><h3 id="r-ajouter-un-comportement" data-claire-element-id="582733">Ajouter un comportement</h3><p id="r-582729" data-claire-element-id="582729">Pour ajouter un comportement à un événement, mootools utilise une méthode qui s'appelle <a href="../../docs.mootools.net/Element/Element-Event.js#Element.addEvent">addEvent</a>. addEvent demande en arguments : premièrement, l'événement correspondant (vous pouvez trouver de nombreuses <a href="http://fr.selfhtml.org/javascript/langage/gestevenements.htm">listes des événements</a> sur Google) sans le <strong>on</strong>, et écrit en minuscules ; deuxièmement, la fonction qui doit être exécutée.</p><p id="r-582730" data-claire-element-id="582730">Ici, nous voulons que le code s'effectue lorsque la souris survole le texte, on choisira donc l'<em>event</em>onMouseOver, le code en résultant :</p><pre id="r-582731" data-claire-element-id="582731"><code data-claire-semantic="javascript">action.addEvent('mouseover',function() {});</code></pre><p id="r-582732" data-claire-element-id="582732">On notera l'écriture un peu spéciale de la fonction en argument... Je prône l'apprentissage par l'exemple : regardez un peu comment on fait, et vous vous rendrez compte par après des différentes façons de passer en argument une fonction.</p><h3 id="r-que-faire-lors-de-l-evenement" data-claire-element-id="582741">Que faire lors de l'événement ?</h3><p id="r-582734" data-claire-element-id="582734">Nous avons donc maintenant ajouté l'évènement. Nous devons renseigner le navigateur sur ce qu'il doit faire quand on survole l'élément. Ici, changer le texte. On se retrouve donc avec un code analogue au script précédent. Le code final est :</p><pre id="r-582735" data-claire-element-id="582735"><code data-claire-semantic="javascript">var action = $('action');
action.addEvent('mouseover',function() {
        $('reaction').set('text', 'La souris le survol!');
});</code></pre><p id="r-582736" data-claire-element-id="582736">Rafraîchissez votre page dans votre navigateur et survolez le texte... Ça fonctionne !! Génial, n'est-ce pas ?</p><p id="r-582737" data-claire-element-id="582737">Plus grand, plus beau, dans le même registre, on va ajouter un évènement quand on quittera le texte... Je vous donne le code, vous devriez être à même de le comprendre...</p><pre id="r-582738" data-claire-element-id="582738"><code data-claire-semantic="javascript">action.addEvent('mouseout',function() {
        $('reaction').set('text', 'La souris est partie!');
});</code></pre><p id="r-582739" data-claire-element-id="582739">Voilà donc, vous savez maintenant effectuer des fonctions à un événement précis...</p><p id="r-582740" data-claire-element-id="582740">Je vous propose dans la section suivante de modifier le comportement d'un lien, et d'aborder la création de nouveaux éléments.</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript">Découvrez mootools, ou bien commencer avec Javascript</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
Discover a new javascript world: mootools
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
Le traditionnel Hello World
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
Mootools à l&#039;écoute
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
Et mootools vit que cela était bon...
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
<span class="arrow"></span>
<span class="next">Le traditionnel Hello World</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
<span class="next">Et mootools vit que cela était bon...</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Etmootoolsvitquecelataitbon..."></a><h2>Et mootools vit que cela était bon...</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
<span class="arrow"></span>
<span class="next">Mootools à l&#039;écoute</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-582744" data-claire-element-id="582744">Il est parfois intéressant en Javascript de pouvoir créer des éléments dans un document. En fait, pour être plus exact, une fois qu'on s'est rendu compte que c'est si facile, ça devient indispensable...</p><h2 id="r-le-but-5" data-claire-element-id="582752">Le but</h2><p id="r-582745" data-claire-element-id="582745">Je vous propose donc de découvrir la création, ô combien facile, d'éléments dans mootools. Au menu de cette section :</p><ul id="r-582750" data-claire-element-id="582750"><li id="r-582747" data-claire-element-id="582747"><p id="r-582746" data-claire-element-id="582746">création d'un nouveau commentaire dans une liste de commentaires ;</p></li><li id="r-582749" data-claire-element-id="582749"><p id="r-582748" data-claire-element-id="582748">les texte et pseudo proviendront d'un formulaire.</p></li></ul><p id="r-582751" data-claire-element-id="582751">Voilà donc, le défi est lancé !!</p><h2 id="r-le-code-xhtml-3" data-claire-element-id="582761">Le code xHtml</h2><p id="r-582753" data-claire-element-id="582753">Pour cela, je vous propose comme d'habitude un code xHtml. J'ai déjà mis quelques commentaires de sorte que celui qu'on ajoutera via le formulaire ne se sente pas trop seul.</p><p id="r-582754" data-claire-element-id="582754">Pour ce qui est des commentaires, les balises dl me semblent tout à fait adaptées, une class commentaire a été définie dans le fichier CSS spécialement pour l'occasion. Le tout englobé par un div avec pour id commentaires, pour pouvoir manipuler tout ça par après...</p><p id="r-582755" data-claire-element-id="582755">On ajoute également un formulaire à la fin pour pouvoir poster le commentaire.</p><pre id="r-582756" data-claire-element-id="582756"><code data-claire-semantic="html">&lt;h1&gt;Commentaires&lt;/h1&gt;
	&lt;div id=&quot;commentaires&quot;&gt;
		&lt;dl class=&quot;commentaire&quot;&gt;
			&lt;dt&gt;Tu parles !&lt;/dt&gt;
			&lt;dd class=&quot;texte&quot;&gt;
				Je te le fais pas dire, vraiment j'aurais du trouver ce framework bien plus tôt...
			&lt;/dd&gt;
				
			&lt;dd class=&quot;details&quot;&gt;Par &lt;span class=&quot;auteur&quot;&gt;Mootools addict&lt;/span&gt; le &lt;span class=&quot;date&quot;&gt;04 avril 2008 à 2:10&lt;/span&gt;&lt;/dd&gt;
		&lt;/dl&gt;
		&lt;dl class=&quot;commentaire&quot;&gt;
			&lt;dt&gt;Vraiment performant...&lt;/dt&gt;
			&lt;dd class=&quot;texte&quot;&gt;
				C'est quand même fou tout ce qu'on peut faire avec mootools je trouve...
				
				C'est bête que je l'aie pas découvert avant... 
			&lt;/dd&gt;
				
			&lt;dd class=&quot;details&quot;&gt;Par &lt;span class=&quot;auteur&quot;&gt;WhyNot&lt;/span&gt; le &lt;span class=&quot;date&quot;&gt;04 avril 2008 à 1:45&lt;/span&gt;&lt;/dd&gt;
		&lt;/dl&gt;
	&lt;/div&gt;
	&lt;h2&gt;Ajouter un commentaire&lt;/h2&gt;
	&lt;div id=&quot;ajouter_commentaire&quot;&gt;
	  &lt;form id=&quot;formulaire&quot; method=&quot;post&quot; action=&quot;ajouter_commentaire.php&quot;&gt;
		&lt;p&gt;&lt;label for=&quot;titre&quot;&gt;Titre&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;titre&quot; id=&quot;titre&quot; /&gt;&lt;/p&gt;
		&lt;p&gt;&lt;label for=&quot;pseudo&quot;&gt;Pseudo&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;pseudo&quot; id=&quot;pseudo&quot; /&gt;&lt;/p&gt;
		&lt;p&gt;&lt;label for=&quot;web&quot;&gt;Site web&lt;/label&gt;&lt;input type=&quot;text&quot; name=&quot;web&quot; id=&quot;web&quot; /&gt;&lt;/p&gt;
		&lt;p&gt;&lt;label for=&quot;commentaire&quot;&gt;Commentaire&lt;/label&gt;&lt;br /&gt;&lt;textarea name=&quot;commentaire&quot; id=&quot;commentaire&quot; cols=&quot;40&quot; rows=&quot;5&quot;&gt;&lt;/textarea&gt;&lt;/p&gt;
		&lt;p&gt;&lt;input type=&quot;submit&quot; value=&quot;Envoyer&quot; id=&quot;submit&quot;/&gt;&lt;/input&gt;&lt;/p&gt;
	  &lt;/form&gt;
	&lt;/div&gt;</code></pre><p id="r-582757" data-claire-element-id="582757">Nous voici donc avec notre page web :</p><figure id="r-582759" data-claire-element-id="582760"><img id="r-582758" data-claire-element-id="582758" src="medias/uploads.siteduzero.com_files_109001_110000_109175.png" alt="Image utilisateur"/></figure><h2 id="r-le-code-javascript-1" data-claire-element-id="582787">Le code Javascript</h2><p id="r-582762" data-claire-element-id="582762">On va donc maintenant passer aux choses sérieuses, à savoir le Javascript... Notre but est que, à l'ajout du message, on ajoute le message sur la page et non qu'on soit redirigé vers une autre page.</p><h3 id="r-ajout-de-l-evenement" data-claire-element-id="582768">Ajout de l'événement</h3><p id="r-582763" data-claire-element-id="582763">On ajoute donc un évènement onSubmit au formulaire.</p><pre id="r-582764" data-claire-element-id="582764"><code data-claire-semantic="javascript">$('formulaire').addEvent('submit', function(event) {
        event.stop();
});</code></pre><p id="r-582765" data-claire-element-id="582765">À propos de ce code, les deux lignes ajoutées permettent de supprimer le comportement normal de l'élément. Autrement dit, une fois &quot;soumis&quot;, le formulaire ne redirigera pas vers la page qui correspond à l'attribut action du code xHtml.</p><aside id="r-582767" data-claire-element-id="582767" data-claire-semantic="information"><p id="r-582766" data-claire-element-id="582766">Ces deux lignes sont aussi utiles lorsque l'on veut modifier le comportement d'un lien.</p></aside><h3 id="r-recuperation-de-donnees" data-claire-element-id="582772">Récupération de données</h3><p id="r-582769" data-claire-element-id="582769">On va donc commencer par récupérer la valeur des éléments.</p><pre id="r-582770" data-claire-element-id="582770"><code data-claire-semantic="javascript">var titre               = $('titre').value;
var pseudo              = $('pseudo').value;
var web                 = $('web').value;
var commentaire = $('commentaire').value;</code></pre><p id="r-582771" data-claire-element-id="582771">Jusque-là, je crois que le code est assez intuitif. On stocke dans une variable la valeur de l'élément correspondant.</p><h3 id="r-comment-creer-un-nouvel-element" data-claire-element-id="582776">Comment créer un nouvel élément ?</h3><p id="r-582773" data-claire-element-id="582773">Créons maintenant le premier élément. Pour créer un nouvel élément, il faut instancier (créer) un nouvel objet de type Element. Pour rappel, on instancie un objet en écrivant :</p><pre id="r-582774" data-claire-element-id="582774"><code data-claire-semantic="javascript">var maVariable = new Constructeur();</code></pre><p id="r-582775" data-claire-element-id="582775">Le constructeur de l'élément demande en argument en premier lieu le nom du tag et en second argument optionnel les attributs de la balise. Vous pouvez voir des <a href="../../docs.mootools.net/Native/Element.js#Element.initialize">exemples dans la documentation</a>.</p><h3 id="r-code-final-commente" data-claire-element-id="582786">Code final commenté</h3><p id="r-582777" data-claire-element-id="582777">Je vais vous donner le code dans son ensemble, avec des commentaires.</p><pre id="r-582778" data-claire-element-id="582778"><code data-claire-semantic="javascript">window.addEvent('domready',function() {

	$('formulaire').addEvent('submit',function(event) {
		event.stop();

		var titre 		= $('titre').value;
		var pseudo 		= $('pseudo').value;
		var web 		= $('web').value;
		var commentaire = $('commentaire').value;
	
		// Créations des éléments
	
		var nouveauCommentaire = new Element('dl', {
			'class':'commentaire'
		});
		
		var elTitre = new Element('dt');
		
		var elCommentaire = new Element('dd', {
			'class':'texte'
		});
		
		var elDetails = new Element('dd', {
			'class':'details'
		});
		
		var elAuteur = new Element('span', {
			'class':'auteur'
		});
		
		if (web != '') {
			var lien = new Element('a', {
				'href': web,
				'alt': 'Site de l\'auteur'
			});
			
			elAuteur.inject(lien);
		}	
		
		// On initialise le texte de chaque élément	
		
		elTitre.set('text', titre);
		elCommentaire.set('text', commentaire);
		elAuteur.set('text', pseudo);
		
		// La fonction inject permet d'ajouter à l'élément passé en argument l'objet auquel on applique la méthode
		
		elTitre.inject(nouveauCommentaire); // =&gt; L'élément elTitre va être injecté dans nouveauCommentaire
		elCommentaire.inject(nouveauCommentaire);
		elDetails.inject(nouveauCommentaire);
		
		elDetails.appendText('Par '); // La méthode appendText() ajoute du texte à l'élément
		elAuteur.inject(elDetails);
		elDetails.appendText(' aujourd\'hui');
		
		nouveauCommentaire.inject($('commentaires'),'top');
		
		// La méthode empty() vide l'élément de tout son contenu
		
		$('ajouter_commentaire').empty().set('text','Merci de votre participation !');
	
	});	

});</code></pre><p id="r-582779" data-claire-element-id="582779">Nous voici donc avec notre mission accomplie...</p><p id="r-582780" data-claire-element-id="582780">Voilà, grâce à ce petit tutoriel, vous avez fait vos premiers pas avec mootools. J'espère qu'il a été instructif et que vous avez bien aimé comment cela était présenté.</p><p id="r-582781" data-claire-element-id="582781">Ceci n'est qu'un avant-goût de la programmation <em>mootoolsienne</em>. Je vous conseille de faire un tour dans la documentation officielle et de regarder les différents scripts proposés en demo. Avec des connaissances de base en programmation, il devrait être assez facile de comprendre les codes.</p><p id="r-582782" data-claire-element-id="582782">J'écrirai peut-être un autre tutoriel, dépendant du succès de celui-ci...</p><p id="r-582783" data-claire-element-id="582783">P.-S. : voilà, comme ça j'aurai au moins mis un smiley dans le tutoriel ;) .</p><div id="r-582785" data-claire-element-id="582785"><p id="r-582784" data-claire-element-id="582784">Je voudrais remercier <a href="http://www.siteduzero.com/membres-294-7500.html">ptipilou</a> pour la <em>zCorrection</em> effectuée sur ce tuto. Je trouve que le travail des <a href="http://www.zcorrecteurs.fr/">zCorrecteurs</a> est un travail de titans, et ce qu'ils font est remarquable. <br/> Ayez une pensée pour eux en lisant ce tuto, car vous arrêteriez peut-être de le lire après la 10e faute (fin du 2ème paragraphe) <br/> en voyant tous les écarts à la grammaire française que nous faisons (c'est ce qui arrive quand on est trop concentré sur le code...) .</p></div>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript">Découvrez mootools, ou bien commencer avec Javascript</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/discover-a-new-javascript-world-mootools">
Discover a new javascript world: mootools
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/le-traditionnel-hello-world-1">
Le traditionnel Hello World
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
Mootools à l&#039;écoute
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/et-mootools-vit-que-cela-etait-bon">
Et mootools vit que cela était bon...
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/decouvrez-mootools-ou-bien-commencer-avec-javascript/mootools-a-l-ecoute">
<span class="arrow"></span>
<span class="next">Mootools à l&#039;écoute</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/decouvrez-mootools-ou-bien-commencer-avec-javascript.html by HTTrack Website Copier/3.x [XR&CO'2013], Sat, 26 Oct 2013 22:48:50 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/decouvrez-mootools-ou-bien-commencer-avec-javascript.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 04:01:54 GMT -->
</html>
<html>

<!-- Mirrored from 62.4.17.167/sdz/sdz/menus-en-onglets.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:50:55 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/menus-en-onglets.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:14:39 GMT -->
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Tutoriel : Menus en onglets</title>
<link href="medias/sdz_main.css" type="text/css" rel="stylesheet" media="all"/>
</head>
        <body>
<a href="../www.siteduzero.com/informatique/tutoriels/menus-en-onglets.html" class="version_en_ligne">Version en ligne</a>
<h1>Tutoriel : Menus en onglets</h1>
<h2>Table des matières</h2><div class="table_des_matieres"><a href="#Menusenonglets">Menus en onglets</a><br/><a href="#LecodeXHTML">Le code XHTML</a><br/><a href="#LecodeCSS">Le code CSS</a><br/><a href="#Placementdumenu">Placement du menu</a><br/><a href="#Gestiondel039ongletactif">Gestion de l&#039;onglet actif</a><br/></div>
<a name="Menusenonglets"></a><h2>Menus en onglets</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
<span class="next">Le code XHTML</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div class="content">
<p id="r-202339" data-claire-element-id="202339"><strong>Bonjour à tous !</strong> :D</p><p id="r-202340" data-claire-element-id="202340">Dans ce tutoriel, vous allez apprendre à créer des menus en onglets de façon très simple en xHTML et CSS. En fait, c'est un complément au tutoriel de neoxx78 sur <a href="http://www.siteduzero.com/tuto-3-3588-1-un-menu-horizontal.html">les menus horizontaux</a>. Cependant, il n'est pas nécessaire de l'avoir lu :-° mais celui sur le <a href="http://www.siteduzero.com/tuto-3-6-0-apprenez-a-creer-votre-site-web.html">XHTML/CSS</a> de M@teo21 doit l'être :( .</p><p id="r-202341" data-claire-element-id="202341">L'exemple qui servira tout au long de ce tutoriel sera le menu du Site du Zér0.</p><aside id="r-202343" data-claire-element-id="202343" data-claire-semantic="information"><p id="r-202342" data-claire-element-id="202342">Après avoir reçu plusieurs MP concernant le placement du menu dans la page, j'ai décidé de créer une troisième sous-partie au tuto expliquant comment faire.<br/> J'ai également rajouté une sous-partie concernant la gestion de l'onglet actif, en php.</p></aside>
</div><a name="LecodeXHTML"></a><h2>Le code XHTML</h2><div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
<span class="next">Le code CSS</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-202344" data-claire-element-id="202344">Commençons par le commencement :lol: !</p><p id="r-202345" data-claire-element-id="202345">La partie XHTML est la plus simple. En effet, nous allons juste créer un menu avec une liste non-ordonnée avec &lt;ul&gt; et &lt;li&gt;. Ensuite, dans un menu, il y forcément des liens, on utilisera donc aussi la balise &lt;a&gt;. L'attribut class nous servira à mettre en valeur l'onglet actif. Le tout sera englobé avec une balise &lt;div&gt;.</p><p id="r-202346" data-claire-element-id="202346">Au final, on doit avoir cela :</p><pre id="r-202347" data-claire-element-id="202347"><code data-claire-semantic="html">&lt;div id=&quot;menu&quot;&gt;
  &lt;ul id=&quot;onglets&quot;&gt;
    &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;Accueil.html&quot;&gt; Accueil &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;Forums.html&quot;&gt; Forums &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;Livre_or.html&quot;&gt; Livre d'or &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;Equipe.html&quot;&gt; L'équipe &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;Inscription.html&quot;&gt; S'inscrire &lt;/a&gt;&lt;/li&gt;
    &lt;li&gt;&lt;a href=&quot;Connexion.html&quot;&gt; Se connecter &lt;/a&gt;&lt;/li&gt;
  &lt;/ul&gt;
&lt;/div&gt;</code></pre><p id="r-202348" data-claire-element-id="202348">Les trois éléments importants sont : l'activation d'un lien avec class=&quot;active&quot;, la balise &lt;div id=&quot;menu&quot;&gt; qui nous permettra de positionner le menu dans la page, et la balise &lt;ul id=&quot;onglets&quot;&gt; qui servira à faire les modifications sur le style.</p><p id="r-202349" data-claire-element-id="202349">Si on ouvrait maintenant une page avec ce code, on aurait ceci :</p><figure id="r-202351" data-claire-element-id="202352"><img id="r-202350" data-claire-element-id="202350" src="medias/uploads.siteduzero.com_files_62001_63000_62186.png" alt="Image utilisateur"/></figure><p id="r-202353" data-claire-element-id="202353">Comme vous le voyez, c'est un menu très simple. :lol:</p><p id="r-202354" data-claire-element-id="202354">Voilà qui clôt la partie XHTML. Jusque-là, ce n'est pas très compliqué :) , mais rassurez-vous, la suite sera du même niveau ;) !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets">Menus en onglets</a>
</li>
<ul class="subchapter-parts">
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
Le code XHTML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
Le code CSS
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
Placement du menu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
Gestion de l&#039;onglet actif
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
<span class="next">Le code CSS</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="LecodeCSS"></a><h2>Le code CSS</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
<span class="arrow"></span>
<span class="next">Le code XHTML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
<span class="next">Placement du menu</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-202357" data-claire-element-id="202357" data-claire-semantic="information"><p id="r-202356" data-claire-element-id="202356">Les valeurs que j'utilise dans ce tutoriel sont &quot;uniques&quot;. J'entends par là que ces valeurs dépendent de plusieurs choses : la police utilisée, la taille de celle-ci, le rendu final voulu, ... Quand on change une de ces valeurs, il faut faire attention à l'interprétation des différents navigateurs.</p></aside><p id="r-202358" data-claire-element-id="202358">Maintenant, la question qui se pose est...</p><div id="r-202360" data-claire-element-id="202360" data-claire-semantic="question"><p id="r-202359" data-claire-element-id="202359">Comment mettre en place les onglets ?</p></div><p id="r-202361" data-claire-element-id="202361">Passons directement au code, les explications suivront. :)</p><pre id="r-202362" data-claire-element-id="202362"><code data-claire-semantic="css">#onglets
{
    font : bold 11px Batang, arial, serif;
    list-style-type : none;
    padding-bottom : 24px; /* à modifier suivant la taille de la police ET de la hauteur de l'onglet dans #onglets li */
    border-bottom : 1px solid #9EA0A1;
    margin-left : 0;
}</code></pre><aside id="r-202364" data-claire-element-id="202364" data-claire-semantic="warning"><p id="r-202363" data-claire-element-id="202363">Je sélectionne le menu avec #onglets et non pas avec #menu, car #menu servira uniquement à placer le menu dans la page !</p></aside><p id="r-202365" data-claire-element-id="202365">Ici, je change principalement la police, j'enlève les puces, je mets une bordure qui sera en bas des cellules. Le padding-bottom sert à indiquer à quelle «hauteur» sera la bordure du bas. Pour mieux visualiser, vous pouvez changer cette valeur et vous comprendrez tout de suite ! ;) Je fais également en sorte que le menu soit collé au bord gauche de la page.</p><aside id="r-202367" data-claire-element-id="202367" data-claire-semantic="warning"><p id="r-202366" data-claire-element-id="202366">Il faut faire attention avec cette bordure du bas. En effet, on peut avoir de mauvaises surprises en fonction de la police et de la taille de celle-ci ! Il faut la modifier en fonction de la taille de la police ET d'un attribut que l'on va voir tout de suite.</p></aside><pre id="r-202368" data-claire-element-id="202368"><code data-claire-semantic="css">#onglets li
{
    float : left;
    height : 21px; /* à modifier suivant la taille de la police pour centrer le texte dans l'onglet */
    background-color: #F4F9FD;
    margin : 2px 2px 0 2px !important;  /* Pour les navigateurs autre que IE */
    margin : 1px 2px 0 2px;  /* Pour IE  */
    border : 1px solid #9EA0A1;
}</code></pre><p id="r-202369" data-claire-element-id="202369">Ici, je crée mes onglets o_O . Or, mes onglets se trouvent entre des balises &lt;li&gt;, donc il faut mettre #onglets li. Je crée mes onglets en mettant : border:1px solid #9EA0A1 (cadre de 1 pixel en ligne pleine de couleur #9EA0A1 ;) ) . Je rajoute également une petite marge pour que les cellules et le texte ne soient pas collés.</p><p id="r-202370" data-claire-element-id="202370">Le float : left me sert à mettre mes onglets sur la même ligne.</p><aside id="r-202372" data-claire-element-id="202372" data-claire-semantic="information"><p id="r-202371" data-claire-element-id="202371">J'aurais aussi pu utiliser display : inline, mais le résultat n'est pas pareil !</p></aside><p id="r-202373" data-claire-element-id="202373">Il faut aussi préciser la hauteur de la cellule.</p><aside id="r-202375" data-claire-element-id="202375" data-claire-semantic="warning"><p id="r-202374" data-claire-element-id="202374">La hauteur de la cellule dépend de la marge inférieure décrite précédemment. Si on augmente ou si on diminue une des deux marges, il faudra modifier l'autre en fonction de l'effet voulu. Il faut aussi prendre en compte la taille de la police.</p></aside><p id="r-202376" data-claire-element-id="202376">Les deux margin servent pour l'affichage : en effet, Internet Explorer n'interprète pas de la même façon que les autres navigateurs !<br/> Bien, on se rapproche du but ! :)</p><figure id="r-202378" data-claire-element-id="202379"><img id="r-202377" data-claire-element-id="202377" src="medias/uploads.siteduzero.com_files_62001_63000_62187.png" alt="Image utilisateur"/></figure><p id="r-202380" data-claire-element-id="202380">Continuons, on y est presque ! :D</p><pre id="r-202381" data-claire-element-id="202381"><code data-claire-semantic="css">#onglets li.active
{
    border-bottom: 1px solid #fff;
    background-color: #fff;
}</code></pre><p id="r-202382" data-claire-element-id="202382">Là, je sélectionne les onglets qui ont pour id menu. Comme chaque onglet se trouve entre des balises &lt;li&gt;, je les sélectionne aussi. Comme je veux que quand celui-ci est activé, qu'il ait une apparence différente, je sélectionne aussi la classe active.<br/> Donc, je modifie juste l'apparence de l'onglet quand celui-ci est activé en mettant une couleur de fond, et en ajoutant une bordure en bas de cellule, qui aura pour effet d'effacer celle existante, mais juste sur la largeur de cette cellule.</p><pre id="r-202383" data-claire-element-id="202383"><code data-claire-semantic="css">#onglets a
{
    display : block;
    color : #666;
    text-decoration : none;
    padding : 4px;
}</code></pre><p id="r-202384" data-claire-element-id="202384">Là, je me trouve dans les onglets et je travaille sur les liens. On fait ici un affichage bloc, ça permet de pouvoir cliquer partout dans l'onglet pour activer le lien. La couleur du lien se change aussi ici. Le text-decoration : none sert à enlever le trait de soulignement en dessous des liens. Enfin, on met une marge aux quatre bords des cellules, donc padding : 4px.</p><p id="r-202385" data-claire-element-id="202385">Et la touche finale : quand on passe avec la souris dessus, le fond change de couleur : :D , il faut donc se placer dans l'id onglet avec a:hover pour le lien.</p><pre id="r-202386" data-claire-element-id="202386"><code data-claire-semantic="css">#onglets a:hover
{
    background : #fff;
}</code></pre><p id="r-202387" data-claire-element-id="202387">:-° Ouf, on y est arrivé !</p><p id="r-202388" data-claire-element-id="202388">Au final, on doit avoir ceci (avec le fond qui devient blanc au passage de la souris) :</p><figure id="r-202390" data-claire-element-id="202391"><img id="r-202389" data-claire-element-id="202389" src="medias/uploads.siteduzero.com_files_62001_63000_62188.png" alt="Image utilisateur"/></figure><p id="r-202392" data-claire-element-id="202392">N'est-ce pas magnifique ? :p</p><p id="r-202393" data-claire-element-id="202393">Maintenant, libre à vous de faire votre propre menu en onglets ! :D</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets">Menus en onglets</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
Le code XHTML
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
Le code CSS
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
Placement du menu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
Gestion de l&#039;onglet actif
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
<span class="arrow"></span>
<span class="next">Le code XHTML</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
<span class="next">Placement du menu</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Placementdumenu"></a><h2>Placement du menu</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
<span class="arrow"></span>
<span class="next">Le code CSS</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
<span class="next">Gestion de l&#039;onglet actif</span>
<span class="arrow"></span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<p id="r-202395" data-claire-element-id="202395">Alors, comment placer ce menu dans la page ?</p><p id="r-202396" data-claire-element-id="202396">Effectivement, si on ne connait pas l'astuce, c'est très difficile de le placer à l'endroit voulu. L'astuce que je vais vous montrer donne le même résultat sur Internet Explorer, Opera et Firefox.</p><div id="r-202398" data-claire-element-id="202398" data-claire-semantic="question"><p id="r-202397" data-claire-element-id="202397">Mais c'est quoi, cette astuce ?</p></div><p id="r-202399" data-claire-element-id="202399">L'astuce consiste à mettre un cadre autour des onglets et de positionner ce cadre dans la page.<br/> Pour faire cela, dans le code XHTML, rien ne change !<br/> Dans le code CSS, il faut rajouter :</p><pre id="r-202400" data-claire-element-id="202400"><code data-claire-semantic="css">#menu
{
        border-bottom : 1px solid #9EA0A1;
        padding-bottom : 25px;
}</code></pre><p id="r-202401" data-claire-element-id="202401">Ceci crée la barre horizontale qui traverse tout l'écran. Le padding-bottom place la barre à 25 pixels du haut de la page.</p><p id="r-202402" data-claire-element-id="202402">Dans le premier code CSS, il y avait #onglets. Il faut effacer ça. On va le réécrire.<br/> C'est ici que l'on va mettre le cadre autour des onglets. Pour que l'on ne le voit pas à l'affichage, la couleur sera transparent. Comme dans le premier code, on enlève les puces et on choisit la police.<br/> Cela nous donne :</p><pre id="r-202403" data-claire-element-id="202403"><code data-claire-semantic="css">#onglets
{
        position : absolute;
        border : 1px solid transparent;
        padding : 0;
        font : bold 11px Batang, arial, serif;
        list-style-type : none;
        left : 50%;
        margin-top : 0;
        width : 430px;
}</code></pre><p id="r-202404" data-claire-element-id="202404">La padding : 0; sert à coller le cadre sur les onglets.<br/> Le margin-top : 0; sert à placer les onglets sur la barre horizontale. Pour pouvoir bien centrer les onglets, il est important que le cadre ait la longueur du menu. Ici, c'est 430px, donc la longueur du cadre est : width : 430px;.<br/> Pour placer le menu au centre de la page, il suffit de faire left : 50%; qui place le cadre à 50 % de la gauche (au milieu).</p><aside id="r-202406" data-claire-element-id="202406" data-claire-semantic="error"><p id="r-202405" data-claire-element-id="202405">Ça ne fonctionne pas !!</p></aside><p id="r-202407" data-claire-element-id="202407">En effet, le left : 50%; place le bord gauche du cadre à 50 %. Pour y remédier, il suffit de retirer la moitié de la longueur du cadre au bord gauche. Il faut donc rajouter dans #onglets :</p><pre id="r-202408" data-claire-element-id="202408"><code data-claire-semantic="css">margin-left : -215px; /* la moitié de width */</code></pre><p id="r-202409" data-claire-element-id="202409">Maintenant, le menu est centré sur tous les navigateurs ! ;)</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets">Menus en onglets</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
Le code XHTML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
Le code CSS
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
Placement du menu
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
Gestion de l&#039;onglet actif
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
<span class="arrow"></span>
<span class="next">Le code CSS</span>
</a>
<a class="after" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
<span class="next">Gestion de l&#039;onglet actif</span>
<span class="arrow"></span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div><a name="Gestiondel039ongletactif"></a><h2>Gestion de l&#039;onglet actif</h2><div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
<span class="arrow"></span>
<span class="next">Placement du menu</span>
</a>
</div>
<hr class="top"/>
<div class="clear"></div> <div id="content" role="article">
<aside id="r-202412" data-claire-element-id="202412" data-claire-semantic="warning"><p id="r-202411" data-claire-element-id="202411">Une connaissance du langage PHP est requise, même si je vais essayer de faire simple. Le tutoriel de M@teo21 vous sera peut-être utile...</p></aside><p id="r-202413" data-claire-element-id="202413">Dans les précédentes parties du tutoriel, j'ai supposé, sans le dire, qu'on travaillait avec un site statique, c'est=à=dire que sur chaque page, on recopie le code du menu.</p><p id="r-202414" data-claire-element-id="202414">Je mets ça sur le tapis parce qu'il y a un hic. En effet, suivant la page où l'on se trouve, l'onglet actif n'est pas le même. Vous vous souvenez, le <code data-claire-semantic="html">class=&quot;active&quot;</code> qu'on mettait sur l'onglet actif ?<br/> Si on travaille seulement en xHTML (pas de PHP), ce n'est pas vraiment un problème, parce que sur toute les pages, le code du menu est écrit en dur, et donc, il suffit de changer de place ce <code data-claire-semantic="html">class=&quot;active&quot;</code>. En PHP, ce n'est pas si simple.</p><p id="r-202415" data-claire-element-id="202415">PHP est très pratique pour ne pas avoir à recopier sur chaque page le menu. En effet, c'est beaucoup plus simple de mettre le code dans un fichier à part et d'inclure ce fichier sur chaque page (pour plus de détails concernant l'inclusion de fichiers, je vous renvoie au <a href="http://www.siteduzero.com/tutoriel-3-207759-inclure-des-portions-de-page.html">tutoriel de M@teo21</a>).</p><div id="r-202417" data-claire-element-id="202417" data-claire-semantic="question"><p id="r-202416" data-claire-element-id="202416">Mais alors, pourquoi tu dis que ça n'est pas simple en PHP ?</p></div><p id="r-202418" data-claire-element-id="202418">Parce qu'il faut détecter la page courante.</p><p id="r-202419" data-claire-element-id="202419">Je pense que j'y suis allé un peu fort en disant que ce n'est pas facile...</p><p id="r-202420" data-claire-element-id="202420">Donc, comme je l'ai dit, on va travailler en PHP maintenant, et on va utiliser un fichier à part, appelons-le <em>menu.php</em>. C'est dans ce fichier qu'on va construire le code xHTML du menu, quelle que-soit la page où l'on se trouve.</p><p id="r-202421" data-claire-element-id="202421">Dans les autres fichiers, on va effacer le code du menu, qui, je le rappelle, ressemble à ceci :</p><pre id="r-202422" data-claire-element-id="202422"><code data-claire-semantic="html">&lt;div id=&quot;menu&quot;&gt;
    &lt;ul id=&quot;onglets&quot;&gt;
        &lt;li class=&quot;active&quot;&gt;&lt;a href=&quot;index.php&quot;&gt;Accueil&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;forum.php&quot;&gt;Forums&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;livre_or.php&quot;&gt;Livre d'or&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;equipe.php&quot;&gt;L'équipe&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;inscription.php&quot;&gt;Inscription&lt;/a&gt;&lt;/li&gt;
        &lt;li&gt;&lt;a href=&quot;connexion.php&quot;&gt;Connexion&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
&lt;/div&gt;</code></pre><p id="r-202423" data-claire-element-id="202423">Il faut donc le supprimer. A la place, on va appeler une fonction qui se trouve dans le fichier <em>menu.php</em> qui va renvoyer le code xHTML du menu tout joli et tout beau :D .</p><p id="r-202424" data-claire-element-id="202424">Comme cette fonction se trouve dans un autre fichier, on va inclure ce fichier sur toutes les pages. Si, sur votre site, il y a déjà des inclusions, vous savez comment faire, sinon, en haut de vos fichiers, mettez :</p><pre id="r-202425" data-claire-element-id="202425"><code data-claire-semantic="html+php">&lt;?php
    require_once(&quot;./menu.php&quot;);
        
    $menu = affiche_menu();
?&gt;</code></pre><p id="r-202426" data-claire-element-id="202426">Comme vous pouvez le deviner, la fonction que l'on va écrire s'appelle <em>affiche_menu</em>. Je stocke le résultat (le code xHTML) dans une variable. Auparavant, j'ai inclus le fichier qui contient cette fonction.</p><p id="r-202427" data-claire-element-id="202427">Ensuite, à l'endroit où il y avait le code du menu, il faut mettre :</p><pre id="r-202428" data-claire-element-id="202428"><code data-claire-semantic="html+php">&lt;?php        
    echo $menu;
?&gt;</code></pre><p id="r-202429" data-claire-element-id="202429">Cela provoque l'affichage du code renvoyé par notre fonction.</p><aside id="r-202431" data-claire-element-id="202431" data-claire-semantic="warning"><p id="r-202430" data-claire-element-id="202430">Il faut faire ces deux opérations sur tous les fichiers !</p></aside><p id="r-202432" data-claire-element-id="202432">Passons maintenant à notre fonction miracle :ange: .</p><p id="r-202433" data-claire-element-id="202433">Mais d'abord, je vais éclaircir un point : la méthode que je propose est la plus simple que je connaisse, et il y a surement encore un meilleur moyen d'arriver au même résultat. Ici, je ne vais pas passer par une variable GET ou POST, ni même me servir de JavaScript. Ma méthode repose sur le nom du fichier à afficher.</p><p id="r-202434" data-claire-element-id="202434">Donc, notre fonction se trouve dans le fichier <em>menu.php</em> et se nomme <em>affiche_menu</em>.<br/> Le début du code est donc :</p><pre id="r-202435" data-claire-element-id="202435"><code data-claire-semantic="html+php">&lt;?php
    function affiche_menu()
    {

    }
?&gt;</code></pre><p id="r-202436" data-claire-element-id="202436">Ensuite, on va stocker dans deux tableaux les liens des différents onglets et dans le deuxième, le texte affiché sur ces onglets.<br/> Ici, je vais le faire en dur dans le code, mais on peut très bien remplir ces deux tableaux dynamiquement à partir d'une base de données par exemple.</p><aside id="r-202438" data-claire-element-id="202438" data-claire-semantic="warning"><p id="r-202437" data-claire-element-id="202437">Il est important que l'ordre soit respecté !</p></aside><p id="r-202439" data-claire-element-id="202439">En effet, le lien de l'onglet du premier tableau doit correspondre au texte affiché sur ce même onglet dans le deuxième tableau.<br/> Il faut également une variable qui contiendra le code xHTML, on l'appellera <em>$menu</em>.</p><p id="r-202440" data-claire-element-id="202440">Ensuite, le secret de la méthode du nom de fichier est la récupération du nom du fichier qui est affiché (dans la barre d'adresse). Pour récupérer ce nom, il existe une variable définie par <code data-claire-semantic="html+php">$_SERVER['PHP_SELF']</code> qui renvoie le chemin d'accès absolu, par exemple, pour mes tests en local, il me donne : <em>/menu/index.php</em>. Pour extraire le nom du fichier, il y a une fonction qui le fait très bien, et qui donne même d'autres informations sous forme d'un tableau associatif. Cette fonction est : <code data-claire-semantic="html+php">pathinfo($chemin);</code>. En faisant un <code data-claire-semantic="html+php">print_r(pathinfo($_SERVER['PHP_SELF']));</code> on peut voir les informations disponibles, et celle qui nous intéresse est <em>basename</em>, qui donne le nom du fichier avec l'extension.</p><p id="r-202441" data-claire-element-id="202441">Le début du code est donc :</p><pre id="r-202442" data-claire-element-id="202442"><code data-claire-semantic="html+php">&lt;?php
    function affiche_menu()
    {
        // tableaux contenant les liens d'accès et le texte à afficher
        $tab_menu_lien = array( &quot;index.php&quot;, &quot;forum.php&quot;, &quot;livre_or.php&quot;, &quot;equipe.php&quot;, &quot;inscription.php&quot;, &quot;connexion.php&quot; );
        $tab_menu_texte = array( &quot;Accueil&quot;, &quot;Forums&quot;, &quot;Livre d'or&quot;, &quot;L'équipe&quot;, &quot;Inscription&quot;, &quot;Connexion&quot; );
        
        // informations sur la page
        $info = pathinfo($_SERVER['PHP_SELF']);

        $menu = &quot;\n&lt;div id=\&quot;menu\&quot;&gt;\n    &lt;ul id=\&quot;onglets\&quot;&gt;\n&quot;;

        $menu .= &quot;&lt;/ul&gt;\n    &lt;/div&gt;&quot;;

        // on renvoie le code xHTML
        return $menu;
    }
?&gt;</code></pre><p id="r-202443" data-claire-element-id="202443">Il ne reste plus qu'à parcourir les tableaux, en comparant à chaque fois si le nom du fichier du tableau $tab_menu_lien correspond au nom du fichier de la page courante. Si c'est le cas, on applique la <code data-claire-semantic="html">class=&quot;active&quot;</code>.</p><p id="r-202444" data-claire-element-id="202444">Voici le code final de la fonction :</p><pre id="r-202445" data-claire-element-id="202445"><code data-claire-semantic="html+php">&lt;?php
    function affiche_menu()
    {
        // tableaux contenant les liens d'accès et le texte à afficher
        $tab_menu_lien = array( &quot;index.php&quot;, &quot;forum.php&quot;, &quot;livre_or.php&quot;, &quot;equipe.php&quot;, &quot;inscription.php&quot;, &quot;connexion.php&quot; );
        $tab_menu_texte = array( &quot;Accueil&quot;, &quot;Forums&quot;, &quot;Livre d'or&quot;, &quot;L'équipe&quot;, &quot;Inscription&quot;, &quot;Connexion&quot; );
        
        // informations sur la page
        $info = pathinfo($_SERVER['PHP_SELF']);

        $menu = &quot;\n&lt;div id=\&quot;menu\&quot;&gt;\n    &lt;ul id=\&quot;onglets\&quot;&gt;\n&quot;;

        

        // boucle qui parcours les deux tableaux
        foreach($tab_menu_lien as $cle=&gt;$lien)
        {
            $menu .= &quot;    &lt;li&quot;;
                
            // si le nom du fichier correspond à celui pointé par l'indice, alors on l'active
            if( $info['basename'] == $lien )
                $menu .= &quot; class=\&quot;active\&quot;&quot;;
                
            $menu .= &quot;&gt;&lt;a href=\&quot;&quot; . $lien . &quot;\&quot;&gt;&quot; . $tab_menu_texte[$cle] . &quot;&lt;/a&gt;&lt;/li&gt;\n&quot;;
        }
        
        $menu .= &quot;&lt;/ul&gt;\n&lt;/div&gt;&quot;;
        
        // on renvoie le code xHTML
        return $menu;        
    }
?&gt;</code></pre><p id="r-202446" data-claire-element-id="202446">Sur les autres pages, il doit y avoir quelque chose comme ça :</p><pre id="r-202447" data-claire-element-id="202447"><code data-claire-semantic="html+php">&lt;?php
    require_once(&quot;./menu.php&quot;);
    $menu = affiche_menu();
?&gt;

&lt;html&gt;
&lt;head&gt;
    &lt;link href=&quot;design.css&quot; type=&quot;text/css&quot; rel=&quot;stylesheet&quot; /&gt;
&lt;/head&gt;
&lt;body&gt;

&lt;?php
    echo $menu;
?&gt;

&lt;/body&gt;
&lt;/html&gt;</code></pre><aside id="r-202449" data-claire-element-id="202449" data-claire-semantic="information"><p id="r-202448" data-claire-element-id="202448">Si, par endroits, l'indentation est un peu bizarre, c'est pour une meilleure lisibilité du code source final, visible à partir du navigateur.</p></aside><p id="r-202450" data-claire-element-id="202450">Voilà, la gestion de l'onglet actif est maintenant gérée sur toutes les pages, par un code unique. Si vous deviez rajouter des onglets, il faudra juste rajouter dans les deux tableaux les liens et les textes associés, et bien sûr, rajouter dans les nouvelles pages l'inclusion et l'affichage du résultat de la fonction ;) .</p><p id="r-202451" data-claire-element-id="202451">Arrivés au terme de ce tutoriel :-° , les menus ne devraient plus avoir de secrets pour vous o_O . Je tiens quand même à préciser que si vous voulez faire des menus déroulants, ça sera un peu plus dur que les simples menus à onglets que l'on a faits ici :( !</p><p id="r-202452" data-claire-element-id="202452">Si vous avez des questions ou si un point n'est pas clair, contactez-moi !</p>
<aside class="aside-menu">
<ul class="content-menu subchapter" role="navigation">
<li class="tuto">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets">Menus en onglets</a>
</li>
<ul class="subchapter-parts">
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-xhtml">
Le code XHTML
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/le-code-css">
Le code CSS
</a>
</li>
<li>
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
Placement du menu
</a>
</li>
<li class="active">
<a href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/gestion-de-l-onglet-actif">
Gestion de l&#039;onglet actif
</a>
</li>
</ul>
</ul>
</aside>
</div>
<div id="content-bottom-menu"></div>
<hr/>
<div class="paginate-tuto">
<a class="before" href="http://62.4.17.167/informatique/tutoriels/menus-en-onglets/placement-du-menu">
<span class="arrow"></span>
<span class="next">Placement du menu</span>
</a>
</div>
<hr class="bottom"/>
<div class="clear"></div> <div class="adBan">
<script type='text/javascript'>
    if (window.innerWidth >= 728)
    {
        document.write('<div id="div-gpt-ad-1350977194635-8" class="megaban"></div>');
        googletag.cmd.push(function() {
            googletag.display('div-gpt-ad-1350977194635-8');
        });
    }
            else
        {
            document.write('<div id="div-gpt-ad-1350977284180-8" class="miniban"></div>');
            googletag.cmd.push(function() {
                googletag.display('div-gpt-ad-1350977284180-8');
            });
        }
    </script>
</div>
<div class="clear"></div>
</body>
<!-- Mirrored from 62.4.17.167/sdz/sdz/menus-en-onglets.html by HTTrack Website Copier/3.x [XR&CO'2013], Sun, 27 Oct 2013 06:50:58 GMT -->

<!-- Mirrored from sdz.tdct.org/sdz/menus-en-onglets.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 30 Nov 2015 05:14:40 GMT -->
</html>